(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1117],{99008:function(ee,b,t){"use strict";t.d(b,{Z:function(){return E}});var v=t(28991),m=t(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},f=a,D=t(27029),F=function(i,P){return m.createElement(D.Z,(0,v.Z)((0,v.Z)({},i),{},{ref:P,icon:f}))};F.displayName="FileTextOutlined";var E=m.forwardRef(F)},54977:function(ee,b,t){"use strict";t.d(b,{Z:function(){return E}});var v=t(28991),m=t(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},f=a,D=t(27029),F=function(i,P){return m.createElement(D.Z,(0,v.Z)((0,v.Z)({},i),{},{ref:P,icon:f}))};F.displayName="FormOutlined";var E=m.forwardRef(F)},69816:function(ee,b,t){"use strict";t.d(b,{Z:function(){return E}});var v=t(28991),m=t(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 176h80v672h-80zm408 0h-64c-4.4 0-8 3.6-8 8v656c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V184c0-4.4-3.6-8-8-8z"}}]},name:"pause",theme:"outlined"},f=a,D=t(27029),F=function(i,P){return m.createElement(D.Z,(0,v.Z)((0,v.Z)({},i),{},{ref:P,icon:f}))};F.displayName="PauseOutlined";var E=m.forwardRef(F)},84387:function(ee,b,t){"use strict";t.d(b,{Z:function(){return E}});var v=t(28991),m=t(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"},f=a,D=t(27029),F=function(i,P){return m.createElement(D.Z,(0,v.Z)((0,v.Z)({},i),{},{ref:P,icon:f}))};F.displayName="QuestionCircleFilled";var E=m.forwardRef(F)},70347:function(){},44536:function(ee,b,t){"use strict";t.r(b),t.d(b,{Setting:function(){return _e},default:function(){return mt}});var v=t(13062),m=t(71230),a=t(89032),f=t(15746),D=t(34792),F=t(48086),E=t(94657),j=t(80937),i=t(67294),P=(0,i.createContext)({});function ge(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=(0,i.useContext)(P),h=s.prefixCls;return h+o}var Ge=t(58024),J=t(39144),Ee=t(99008),l=t(18454),e=t(85893);F.default.config({duration:1,maxCount:1});var Ne=(0,j.Pi)(function(){var o=(0,j.cI)();return(0,e.jsx)(j.RV,{form:o,children:(0,e.jsx)(j.Wo,{name:"answerSetting",children:(0,e.jsx)("div",{children:(0,e.jsxs)(J.Z,{title:(0,e.jsxs)("div",{className:"setting-title",children:[(0,e.jsx)(Ee.Z,{style:{marginRight:10}}),"\u95EE\u5377\u663E\u793A"]}),className:"answer-setting",extra:(0,e.jsx)(l.kJ,{}),children:[(0,e.jsx)(l.rs,{name:"autoSave",title:"\u5F00\u542F\u81EA\u52A8\u6682\u5B58",tooltip:"\u52FE\u9009\u540E\uFF0C\u53EF\u4EE5\u81EA\u52A8\u4FDD\u5B58\u672C\u6B21\u672A\u63D0\u4EA4\u7684\u586B\u5199\u5185\u5BB9\uFF0C\u518D\u6B21\u6253\u5F00\u95EE\u5377\u53EF\u663E\u793A\u4E0A\u6B21\u672A\u63D0\u4EA4\u7684\u586B\u5199\u5185\u5BB9\u3002"}),(0,e.jsx)(l.rs,{name:"questionNumber",title:"\u663E\u793A\u9898\u76EE\u5E8F\u53F7",tooltip:"\u52FE\u9009\u540E\uFF0C\u95EE\u5377\u4E2D\u7684\u9898\u76EE\u4F1A\u6309\u6392\u5217\u987A\u5E8F\u4ECE1\u5F00\u59CB\u663E\u793A\u9898\u76EE\u5E8F\u53F7\u3002"}),(0,e.jsx)(l.rs,{name:"progressBar",title:"\u663E\u793A\u8FDB\u5EA6\u6761",tooltip:"\u52FE\u9009\u540E\uFF0C\u586B\u5199\u8005\u6ED1\u52A8\u9875\u9762\u53EF\u4EE5\u770B\u5230\u5F53\u524D\u95EE\u5377\u586B\u5199\u8FDB\u5EA6\u3002"}),(0,e.jsx)(l.M6,{name:"initialValues"}),(0,e.jsx)(l.rs,{name:"onePageOneQuestion",title:"\u4E00\u9875\u4E00\u9898",tooltip:"\u52FE\u9009\u540E\uFF0C\u6BCF\u9875\u53EA\u663E\u793A\u4E00\u9898\u3002"}),(0,e.jsx)(l.rs,{name:"answerSheetVisible",title:"\u663E\u793A\u7B54\u9898\u5361"})]})})})})}),Qe=t(54421),se=t(38272),je=t(94233),Ce=t(51890),n=t(22385),d=t(61580),g=t(71194),u=t(50146),c=t(49111),w=t(19650),k=t(71153),V=t(60331),q=t(57663),W=t(71577),U=t(48736),ie=t(27049),te=t(62999),X=t(54680),Y=t(83279),le=t(43358),H=t(34041),ye=t(18106),oe=t(51752),$=t(36602),Me=t(60780),Te=t.n(Me),Fe=t(49101),Ze=H.Z.Option,ce=(0,j.Pi)(function(o){var s=o.onChange,h=o.orgTreeData,O=o.positions,x=(0,i.useState)(),T=(0,E.Z)(x,2),Z=T[0],B=T[1],N=(0,i.useState)(),R=(0,E.Z)(N,2),M=R[0],z=R[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(m.Z,{gutter:10,children:[(0,e.jsx)(f.Z,{span:16,children:(0,e.jsx)(X.Z,{onChange:function(y){return B(y)},style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:[{title:"\u53D1\u8D77\u4EBA\u5F53\u524D\u90E8\u95E8",value:"${currentOrgId}",key:"${currentOrgId}"},{title:"\u53D1\u8D77\u4EBA\u4E0A\u7EA7\u90E8\u95E8",value:"${parentOrgId}",key:"${parentOrgId}"}].concat((0,Y.Z)(h)),placeholder:"\u8BF7\u9009\u62E9\u673A\u6784",treeDefaultExpandAll:!0,allowClear:!0,value:Z})}),(0,e.jsx)(f.Z,{span:8,children:(0,e.jsx)(H.Z,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u5C97\u4F4D",allowClear:!0,value:M,onChange:function(y){return z(y)},children:O.map(function(p){return(0,e.jsx)(Ze,{value:p.id,children:p.name},p.id)})})})]}),(0,e.jsx)(m.Z,{style:{marginTop:10},children:(0,e.jsx)(f.Z,{children:(0,e.jsx)(W.Z,{icon:(0,e.jsx)(Fe.Z,{}),onClick:function(){(Z||M)&&s("P:".concat(Z||"",":").concat(M||""))},children:"\u6DFB\u52A0"})})})]})}),G=oe.Z.TabPane,Be=H.Z.Option,Se=(0,j.Pi)(function(o){var s=o.onChange,h=o.tabs,O=h===void 0?["user","role","position"]:h,x=(0,$.m2)(),T=(0,i.useState)(o.value||[]),Z=(0,E.Z)(T,2),B=Z[0],N=Z[1];(0,i.useEffect)(function(){N(o.value||[])},[o.value]);var R=(0,$.LF)(B),M=x.depts,z=x.users,p=x.roles,y=x.positions,fe=(0,i.useState)(),ue=(0,E.Z)(fe,2),De=ue[0],he=ue[1];(0,i.useEffect)(function(){De&&x.loadUsers({orgId:De,pageSize:1024})},[De,x]);var He=(0,i.useMemo)(function(){return Te()(M.map(function(r){return{value:r.id,title:r.name,key:r.id,parentId:r.parentId}}),{parentProperty:"parentId",customID:"value"})},[M]),re=function(S){var L=(0,Y.Z)(B);S.forEach(function(I){L.includes(I)||L.push(I)}),N(L),s(L)},$e=function(){for(var S=arguments.length,L=new Array(S),I=0;I<S;I++)L[I]=arguments[I];var xe=(0,Y.Z)(B.filter(function(et){return!L.includes(et)}));N(xe),s(xe)};return(0,e.jsx)("div",{style:{width:400},children:(0,e.jsxs)(oe.Z,{defaultActiveKey:"user",children:[(0,e.jsx)(G,{tab:"\u6210\u5458",disabled:!O.includes("user"),children:(0,e.jsxs)("div",{style:{height:400,overflowY:"auto",overflowX:"hidden"},children:[(0,e.jsxs)(m.Z,{gutter:20,children:[(0,e.jsx)(f.Z,{span:16,children:(0,e.jsx)(X.Z,{onChange:function(S){return he(S)},style:{width:"100%"},dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:He,placeholder:"\u8BF7\u9009\u62E9\u673A\u6784",treeDefaultExpandAll:!0,allowClear:!0})}),(0,e.jsx)(f.Z,{span:8,children:(0,e.jsx)(H.Z,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u6210\u5458",allowClear:!0,showSearch:!0,mode:"multiple",onChange:function(S){return re(S)},maxTagCount:0,value:B.filter(function(r){return r.startsWith("U:")}),dropdownRender:function(S){return(0,e.jsxs)("div",{children:[S,(0,e.jsx)(ie.Z,{style:{margin:"4px 0"}}),(0,e.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",padding:8},children:(0,e.jsx)(W.Z,{size:"small",type:"link",onClick:function(){return re(z.map(function(I){return"U:".concat(I.id)}))},children:"\u5168\u9009"})})]})},children:z.map(function(r){return(0,e.jsx)(Be,{value:"U:".concat(r.id),children:r.name},r.id)})})})]}),(0,e.jsx)(w.Z,{style:{marginTop:20},wrap:!0,children:B.filter(function(r){return r.startsWith("U:")}).map(function(r){return(0,e.jsx)(V.Z,{closable:!0,color:"blue",onClose:function(){return $e(r)},children:R.user[r.split(":")[1]]},r)})})]})},"user"),(0,e.jsx)(G,{tab:"\u89D2\u8272",disabled:!O.includes("role"),children:(0,e.jsxs)("div",{style:{height:400,overflowY:"auto",overflowX:"hidden"},children:[(0,e.jsx)(H.Z,{style:{width:"100%"},placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272",allowClear:!0,showSearch:!0,mode:"multiple",value:B.filter(function(r){return r.startsWith("R:")}),onChange:function(S){return re(S)},maxTagCount:0,children:p.map(function(r){return(0,e.jsx)(Be,{value:"R:".concat(r.id),children:r.name},r.id)})}),(0,e.jsx)(w.Z,{style:{marginTop:20},wrap:!0,children:B.filter(function(r){return r.startsWith("R:")}).map(function(r){return(0,e.jsx)(V.Z,{closable:!0,color:"blue",onClose:function(){return $e(r)},children:R.role[r.split(":")[1]]},r)})})]})},"role"),(0,e.jsx)(G,{tab:"\u673A\u6784\u5C97\u4F4D",disabled:!O.includes("position"),children:(0,e.jsxs)("div",{style:{height:400,overflowY:"auto",overflowX:"hidden"},children:[(0,e.jsx)(ce,{positions:y,orgTreeData:He,onChange:function(S){return re([S])}}),(0,e.jsx)(w.Z,{style:{marginTop:20},wrap:!0,children:B.filter(function(r){return r.startsWith("P:")}).map(function(r){var S=r.split(":"),L=(0,E.Z)(S,3),I=L[1],xe=L[2];return(0,e.jsxs)(V.Z,{closable:!0,color:"blue",onClose:function(){return $e(r)},children:[R.org[I],"-",R.position[xe]]},I+":"+xe)})})]})},"position")]})})}),ze=Se,K=t(28991),Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"}}]},name:"usergroup-add",theme:"outlined"},Oe=Ie,ne=t(27029),pe=function(s,h){return i.createElement(ne.Z,(0,K.Z)((0,K.Z)({},s),{},{ref:h,icon:Oe}))};pe.displayName="UsergroupAddOutlined";var C=i.forwardRef(pe),de=t(84387),A=t(11628),Re=function(s){var h=(0,i.useState)([]),O=(0,E.Z)(h,2),x=O[0],T=O[1];return(0,e.jsx)(u.Z,{title:"\u8BBE\u7F6E\u534F\u4F5C\u7BA1\u7406\u5458",visible:!0,onCancel:s.onCancel,onOk:function(){return s.onOk(x)},children:(0,e.jsx)(ze,{tabs:["user"],onChange:function(B){T(B.map(function(N){return N.split(":")[1]}))}})})},Pe=function(){var s=(0,A.IE)(),h=s.id,O=(0,i.useState)([]),x=(0,E.Z)(O,2),T=x[0],Z=x[1],B=(0,i.useState)(!1),N=(0,E.Z)(B,2),R=N[0],M=N[1],z=function(){return $.hi.getProjectPartner(h).then(function(y){y&&Z(y)})};return(0,i.useEffect)(function(){z()},[]),(0,e.jsxs)("div",{children:[(0,e.jsx)(J.Z,{className:"answer-setting",title:(0,e.jsxs)("div",{className:"setting-title",children:[(0,e.jsx)(C,{}),(0,e.jsxs)("div",{children:["\u534F\u4F5C\u7BA1\u7406\u5458\u5217\u8868",(0,e.jsx)(d.Z,{overlay:"\u534F\u4F5C\u8005\u53EF\u4EE5\u534F\u52A9\u521B\u5EFA\u8005\u8FDB\u884C\u7F16\u8F91\u95EE\u5377\u3001\u7BA1\u7406\u6570\u636E\u7B49\u64CD\u4F5C\u3002",children:(0,e.jsx)(de.Z,{className:"setting-prompt",style:{marginLeft:5}})})]})]}),extra:(0,e.jsx)("a",{href:"#",onClick:function(){return M(!0)},children:"\u8BBE\u7F6E\u534F\u4F5C\u7BA1\u7406\u5458"}),children:(0,e.jsx)(se.ZP,{itemLayout:"horizontal",dataSource:T,renderItem:function(y){var fe,ue;return(0,e.jsxs)(se.ZP.Item,{actions:y.type!==1?[(0,e.jsx)("a",{onClick:function(){var he;u.Z.confirm({title:"\u5220\u9664\u534F\u4F5C\u8005",content:(0,e.jsxs)("div",{children:["\u786E\u5B9A\u5220\u9664\u534F\u4F5C\u8005 ",(0,e.jsx)("b",{children:(he=y.user)===null||he===void 0?void 0:he.name}),"\u5417\uFF1F"]}),onOk:function(){$.hi.deleteProjectPartner(y.id,h).then(function(re){re.success&&z()})}})},children:"\u5220\u9664"},"list-loadmore-edit")]:[],children:[(0,e.jsx)(se.ZP.Item.Meta,{avatar:(0,e.jsx)(Ce.C,{src:(fe=y.user)!==null&&fe!==void 0&&fe.avatar?"/api/public/preview/".concat(y.user.avatar):""}),title:(ue=y.user)===null||ue===void 0?void 0:ue.name}),(0,e.jsx)("div",{children:y.type===1?"\u521B\u5EFA\u8005":"\u534F\u4F5C\u8005"})]})}})}),R&&(0,e.jsx)(Re,{onCancel:function(){return M(!1)},onOk:function(y){$.hi.addProjectPartner({userIds:y,projectId:h}).then(function(){z(),M(!1)})}})]})},Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 310H732.4c13.6-21.4 21.6-46.8 21.6-74 0-76.1-61.9-138-138-138-41.4 0-78.7 18.4-104 47.4-25.3-29-62.6-47.4-104-47.4-76.1 0-138 61.9-138 138 0 27.2 7.9 52.6 21.6 74H144c-17.7 0-32 14.3-32 32v200c0 4.4 3.6 8 8 8h40v344c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V550h40c4.4 0 8-3.6 8-8V342c0-17.7-14.3-32-32-32zm-334-74c0-38.6 31.4-70 70-70s70 31.4 70 70-31.4 70-70 70h-70v-70zm-138-70c38.6 0 70 31.4 70 70v70h-70c-38.6 0-70-31.4-70-70s31.4-70 70-70zM180 482V378h298v104H180zm48 68h250v308H228V550zm568 308H546V550h250v308zm48-376H546V378h298v104z"}}]},name:"gift",theme:"outlined"},Ae=Le,ve=function(s,h){return i.createElement(ne.Z,(0,K.Z)((0,K.Z)({},s),{},{ref:h,icon:Ae}))};ve.displayName="GiftOutlined";var Ve=i.forwardRef(ve),Ue=(0,j.Pi)(function(){return(0,e.jsx)(j.Wo,{name:"submittedSetting",children:(0,e.jsx)("div",{children:(0,e.jsxs)(J.Z,{title:(0,e.jsxs)("div",{className:"setting-title",children:[(0,e.jsx)(Ve,{}),"\u6295\u653E\u4E0E\u5206\u4EAB"]}),className:"submitted-setting",children:[(0,e.jsx)(l.KL,{name:"contentHtml"}),(0,e.jsx)(l.cg,{name:"redirectUrl"}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsx)(l.yX,{})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u5141\u8BB8\u4FEE\u6539\u7B54\u6848",(0,e.jsx)(d.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u518D\u6B21\u6253\u5F00\u95EE\u5377\u4F1A\u56DE\u663E\u4E4B\u524D\u586B\u5199\u7684\u7B54\u6848\uFF0C\u5E76\u4E14\u53EF\u4EE5\u4FEE\u6539\u3002",children:(0,e.jsx)(de.Z,{className:"setting-prompt"})})]}),(0,e.jsx)(l.rs,{name:"enableUpdate"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsx)("span",{children:"\u516C\u5F00\u67E5\u8BE2\u8BBE\u7F6E"}),(0,e.jsx)(l.tx,{})]})})]})})})}),Ke={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"},we=Ke,me=function(s,h){return i.createElement(ne.Z,(0,K.Z)((0,K.Z)({},s),{},{ref:h,icon:we}))};me.displayName="SafetyOutlined";var be=i.forwardRef(me);F.default.config({duration:1,maxCount:1});var _=(0,j.Pi)(function(){return(0,e.jsx)("div",{children:(0,e.jsxs)(J.Z,{title:(0,e.jsxs)("div",{className:"setting-title",children:[(0,e.jsx)(be,{style:{marginRight:10}}),"\u56DE\u6536\u8BBE\u7F6E"]}),className:"answer-setting",children:[(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsxs)("span",{children:["\u9700\u8981\u767B\u5F55",(0,e.jsx)(d.Z,{overlay:"\u52FE\u9009\u540E\uFF0C\u53EA\u6709\u767B\u5F55\u7528\u6237\u624D\u53EF\u4EE5\u586B\u5199\u95EE\u5377\u3002",children:(0,e.jsx)(de.Z,{className:"setting-prompt"})})]}),(0,e.jsx)(l.rs,{name:"loginRequired",basePath:"answerSetting"})]})}),(0,e.jsx)("div",{className:"setting-item",children:(0,e.jsxs)("div",{className:"setting-item-switch",children:[(0,e.jsx)("span",{children:"\u53EA\u80FD\u5FAE\u4FE1\u586B\u5199"}),(0,e.jsx)(l.rs,{name:"wechatOnly",basePath:"answerSetting"})]})}),(0,e.jsx)(l.q1,{name:"password",basePath:"answerSetting",title:"\u51ED\u5BC6\u7801\u586B\u5199",tooltip:"\u53EA\u6709\u8F93\u5165\u5BC6\u7801\u624D\u80FD\u586B\u5199\u95EE\u5377"}),(0,e.jsx)(l.qo,{name:"cookieLimit",basePath:"answerSetting",title:"\u6BCF\u53F0\u7535\u8111\u6216\u624B\u673A\u7B54\u9898\u6B21\u6570\u9650\u5236",tooltip:"\u6839\u636E cookie \u8FDB\u884C\u9650\u5236"}),(0,e.jsx)(l.qo,{name:"ipLimit",basePath:"answerSetting",title:"\u6BCF\u4E2AIP\u7B54\u9898\u6B21\u6570\u9650\u5236",tooltip:"\u6839\u636E IP \u8FDB\u884C\u9650\u5236"}),(0,e.jsx)(l.qo,{name:"loginLimit",basePath:"answerSetting",title:"\u6BCF\u4E2A\u767B\u5F55\u8D26\u53F7\u7B54\u9898\u6B21\u6570\u9650\u5236",tooltip:"\u6839\u636E\u767B\u5F55\u8D26\u53F7\u8FDB\u884C\u9650\u5236"}),(0,e.jsx)(l.q1,{name:"endTime",basePath:"answerSetting",title:"\u8BBE\u7F6E\u95EE\u5377\u7ED3\u675F\u65F6\u95F4",type:"datepicker"}),(0,e.jsx)(l.q1,{name:"maxAnswers",basePath:"answerSetting",title:"\u8BBE\u7F6E\u95EE\u5377\u56DE\u6536\u4E0A\u9650",type:"number",prefix:"\u56DE\u6536",suffix:"\u4EFD\u95EE\u5377\u540E\uFF0C\u505C\u6B62\u6536\u96C6",style:{width:80,margin:"0 5px"}})]})})}),ae=t(12377);F.default.config({duration:1,maxCount:1});var Q=(0,j.Pi)(function(){var o=(0,j.cI)();return(0,e.jsx)(j.RV,{form:o,children:(0,e.jsx)(j.Wo,{name:"examSetting",children:(0,e.jsx)("div",{children:(0,e.jsxs)(J.Z,{title:(0,e.jsxs)("div",{className:"setting-title",children:[(0,e.jsx)(ae.MT,{infer:"Exam",style:{marginRight:10},size:20}),"\u8003\u8BD5\u8BBE\u7F6E"]}),className:"answer-setting",children:[(0,e.jsx)(l.q1,{name:"startTime",title:"\u8003\u8BD5\u5F00\u59CB\u65F6\u95F4",type:"datepicker",basePath:"examSetting"}),(0,e.jsx)(l.q1,{name:"endTime",title:"\u8003\u8BD5\u7ED3\u675F\u65F6\u95F4",type:"datepicker",basePath:"examSetting"}),(0,e.jsx)(l.q1,{name:"minSubmitMinutes",title:"\u6700\u77ED\u4EA4\u5377\u65F6\u95F4",type:"number",suffix:"\u5206\u949F",basePath:"examSetting"}),(0,e.jsx)(l.q1,{name:"maxSubmitMinutes",title:"\u6700\u957F\u4EA4\u5377\u65F6\u95F4",type:"number",suffix:"\u5206\u949F",basePath:"examSetting"}),(0,e.jsx)(l.rs,{name:"passMode",title:"\u95EF\u5173\u6A21\u5F0F",tooltip:"\u8BD5\u9898\u5FC5\u987B\u662F\u5355\u9009\u9898\uFF0C\u7B54\u5BF9\u624D\u53EF\u7B54\u4E0B\u4E00\u9898"}),(0,e.jsx)(l.rs,{name:"exerciseMode",title:"\u7EC3\u4E60\u6A21\u5F0F",tooltip:"\u7B54\u5B8C\u6BCF\u9898\u540E\u7ACB\u5373\u663E\u793A\u7B54\u6848\u3002\u4EC5\u652F\u6301\u8BBE\u6709\u6B63\u786E\u7B54\u6848\u7684\u5355\u9009\u9898\u3001\u591A\u9009\u9898\u3001\u5224\u65AD\u9898\u53CA\u586B\u7A7A\u9898\u3002"}),(0,e.jsx)(l.rs,{name:"randomOrder",title:"\u968F\u673A\u95EE\u9898\u987A\u5E8F"})]})})})})}),Xe=t(64031),tt=(0,j.Pi)(function(){var o=ge("-content"),s=(0,A.IE)(),h=s.mode,O=s.setting,x=(0,i.useMemo)(function(){return(0,Xe.Np)({initialValues:s.setting,effects:function(){(0,Xe.ge)("*",function(Z){var B=Z.address.toString(),N=Z.value;if(B.startsWith("submittedSetting.publicQuery"))B="submittedSetting.publicQuery",N=Z.query("submittedSetting.publicQuery").get("value"),s.setting||(s.project.setting={submittedSetting:{},status:1,answerSetting:{}}),s.project.setting.submittedSetting.publicQuery=Z.value;else{var R=B.split("."),M=(0,E.Z)(R,2),z=M[0],p=M[1];s.setting&&s.setting[z]&&(p?s.setting[z][p]=Z.value:s.setting[z]=Z.value)}$.hi.updateSetting({id:s.id,settingKey:B,settingValue:N}).then(function(y){y.success&&F.default.info("\u4FDD\u5B58\u4E2D")})})}})},[]);return(0,i.useEffect)(function(){O&&x.setInitialValues(O)},[O,x]),(0,e.jsx)(j.RV,{form:x,children:(0,e.jsx)("div",{className:o,children:(0,e.jsxs)(m.Z,{gutter:[2,2],children:[(0,e.jsx)(f.Z,{xs:24,sm:8,xl:6,children:(0,e.jsx)(Ne,{})}),h==="exam"&&(0,e.jsx)(f.Z,{xs:24,sm:8,xl:6,children:(0,e.jsx)(Q,{})}),(0,e.jsx)(f.Z,{xs:24,sm:8,xl:6,children:(0,e.jsx)(_,{})}),(0,e.jsx)(f.Z,{xs:24,sm:8,xl:6,children:(0,e.jsx)(Ue,{})}),(0,e.jsx)(f.Z,{xs:24,sm:8,xl:6,children:(0,e.jsx)(Pe,{})})]})})})}),ft=t(7359),Ye=t(7964),Je=t(8212),nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},at=nt,ke=function(s,h){return i.createElement(ne.Z,(0,K.Z)((0,K.Z)({},s),{},{ref:h,icon:at}))};ke.displayName="TeamOutlined";var ut=i.forwardRef(ke),rt=t(25782),st=t(94184),it=t.n(st),qe=Ye.Z.Panel,lt=[{key:"answerSetting",title:"\u6570\u636E\u6536\u96C6\u8BBE\u7F6E",icon:(0,e.jsx)(Je.Z,{}),description:"\u57FA\u672C\u7684\u95EE\u5377\u586B\u5199\u8BBE\u7F6E"},{key:"answerLimitSetting",title:"\u7B54\u9898\u9650\u5236",icon:(0,e.jsx)(Je.Z,{}),description:"\u95EE\u5377\u7B54\u9898\u9650\u5236"},{key:"memberSetting",title:"\u534F\u540C\u7F16\u8F91",icon:(0,e.jsx)(ut,{}),description:"\u8BBE\u7F6E\u534F\u4F5C\u7BA1\u7406\u5458"},{key:"submittedSetting",title:"\u63D0\u4EA4\u95EE\u5377\u6570\u636E\u540E",icon:(0,e.jsx)(be,{}),description:"\u95EE\u5377\u63D0\u4EA4\u5B8C\u6210\u9875\u9762\u8BBE\u7F6E"}],ht=(0,j.Pi)(function(){var o=ge("-nav"),s=(0,i.useContext)(P),h=s.settingStore,O=h.activePanel;return(0,e.jsx)("div",{className:o,children:(0,e.jsxs)(Ye.Z,{accordion:!0,expandIcon:function(T){var Z=T.isActive;return(0,e.jsx)(rt.Z,{rotate:Z?90:0})},defaultActiveKey:"1",children:[(0,e.jsx)(qe,{header:"\u57FA\u7840\u8BBE\u7F6E",style:{padding:0},children:lt.map(function(x){return(0,e.jsxs)(m.Z,{className:it()("nav-panel-item",{active:O===x.key}),onClick:function(){return h.activePanel=x.key},children:[(0,e.jsx)(f.Z,{span:4,children:(0,e.jsx)(Ce.C,{icon:x.icon,shape:"square"})}),(0,e.jsx)(f.Z,{span:20,children:(0,e.jsxs)(m.Z,{children:[(0,e.jsx)(f.Z,{span:24,children:x.title}),(0,e.jsx)(f.Z,{span:24,style:{fontSize:12,color:"#8c8c8c"},children:x.description})]})})]},x.key)})},"1"),(0,e.jsx)(qe,{header:"\u9AD8\u7EA7\u8BBE\u7F6E",children:(0,e.jsx)("p",{children:"todo"})},"2")]})})}),ot=t(69610),ct=t(54941),We=t(54531),dt=function(){function o(s){(0,ot.Z)(this,o),this.rootStore=void 0,this.activePanel=void 0,this.rootStore=s,this.activePanel="answerSetting",this.makeObservable()}return(0,ct.Z)(o,[{key:"makeObservable",value:function(){(0,We.Ou)(this,{rootStore:We.LO.ref,activePanel:We.LO.ref})}}]),o}(),vt=t(77613),_e=(0,vt.P)(function(){var o=(0,A.IE)(),s=(0,i.useMemo)(function(){return new dt(o)},[o]);return(0,e.jsx)(P.Provider,{value:{prefixCls:"survey-setting",settingStore:s},children:(0,e.jsx)("div",{className:"survey-setting",children:(0,e.jsx)(tt,{})})})}),mt=_e},39144:function(ee,b,t){"use strict";t.d(b,{Z:function(){return Ce}});var v=t(96156),m=t(22122),a=t(67294),f=t(94184),D=t.n(f),F=t(98423),E=t(65632),j=function(n,d){var g={};for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&d.indexOf(u)<0&&(g[u]=n[u]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(n);c<u.length;c++)d.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(n,u[c])&&(g[u[c]]=n[u[c]]);return g},i=function(d){var g=d.prefixCls,u=d.className,c=d.hoverable,w=c===void 0?!0:c,k=j(d,["prefixCls","className","hoverable"]);return a.createElement(E.C,null,function(V){var q=V.getPrefixCls,W=q("card",g),U=D()("".concat(W,"-grid"),u,(0,v.Z)({},"".concat(W,"-grid-hoverable"),w));return a.createElement("div",(0,m.Z)({},k,{className:U}))})},P=i,ge=function(n,d){var g={};for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&d.indexOf(u)<0&&(g[u]=n[u]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(n);c<u.length;c++)d.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(n,u[c])&&(g[u[c]]=n[u[c]]);return g},Ge=function(d){return a.createElement(E.C,null,function(g){var u=g.getPrefixCls,c=d.prefixCls,w=d.className,k=d.avatar,V=d.title,q=d.description,W=ge(d,["prefixCls","className","avatar","title","description"]),U=u("card",c),ie=D()("".concat(U,"-meta"),w),te=k?a.createElement("div",{className:"".concat(U,"-meta-avatar")},k):null,X=V?a.createElement("div",{className:"".concat(U,"-meta-title")},V):null,Y=q?a.createElement("div",{className:"".concat(U,"-meta-description")},q):null,le=X||Y?a.createElement("div",{className:"".concat(U,"-meta-detail")},X,Y):null;return a.createElement("div",(0,m.Z)({},W,{className:ie}),te,le)})},J=Ge,Ee=t(51752),l=t(71230),e=t(15746),Ne=t(97647),Qe=function(n,d){var g={};for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&d.indexOf(u)<0&&(g[u]=n[u]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(n);c<u.length;c++)d.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(n,u[c])&&(g[u[c]]=n[u[c]]);return g};function se(n){var d=n.map(function(g,u){return a.createElement("li",{style:{width:"".concat(100/n.length,"%")},key:"action-".concat(u)},a.createElement("span",null,g))});return d}var je=a.forwardRef(function(n,d){var g,u,c=a.useContext(E.E_),w=c.getPrefixCls,k=c.direction,V=a.useContext(Ne.Z),q=function(ae){var Q;(Q=n.onTabChange)===null||Q===void 0||Q.call(n,ae)},W=function(){var ae;return a.Children.forEach(n.children,function(Q){Q&&Q.type&&Q.type===P&&(ae=!0)}),ae},U=n.prefixCls,ie=n.className,te=n.extra,X=n.headStyle,Y=X===void 0?{}:X,le=n.bodyStyle,H=le===void 0?{}:le,ye=n.title,oe=n.loading,$=n.bordered,Me=$===void 0?!0:$,Te=n.size,Fe=n.type,Ze=n.cover,ce=n.actions,G=n.tabList,Be=n.children,Se=n.activeTabKey,ze=n.defaultActiveTabKey,K=n.tabBarExtraContent,Ie=n.hoverable,Oe=n.tabProps,ne=Oe===void 0?{}:Oe,pe=Qe(n,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),C=w("card",U),de=H.padding===0||H.padding==="0px"?{padding:24}:void 0,A=a.createElement("div",{className:"".concat(C,"-loading-block")}),Re=a.createElement("div",{className:"".concat(C,"-loading-content"),style:de},a.createElement(l.Z,{gutter:8},a.createElement(e.Z,{span:22},A)),a.createElement(l.Z,{gutter:8},a.createElement(e.Z,{span:8},A),a.createElement(e.Z,{span:15},A)),a.createElement(l.Z,{gutter:8},a.createElement(e.Z,{span:6},A),a.createElement(e.Z,{span:18},A)),a.createElement(l.Z,{gutter:8},a.createElement(e.Z,{span:13},A),a.createElement(e.Z,{span:9},A)),a.createElement(l.Z,{gutter:8},a.createElement(e.Z,{span:4},A),a.createElement(e.Z,{span:3},A),a.createElement(e.Z,{span:16},A))),Pe=Se!==void 0,Le=(0,m.Z)((0,m.Z)({},ne),(g={},(0,v.Z)(g,Pe?"activeKey":"defaultActiveKey",Pe?Se:ze),(0,v.Z)(g,"tabBarExtraContent",K),g)),Ae,ve=G&&G.length?a.createElement(Ee.Z,(0,m.Z)({size:"large"},Le,{className:"".concat(C,"-head-tabs"),onChange:q}),G.map(function(_){return a.createElement(Ee.Z.TabPane,{tab:_.tab,disabled:_.disabled,key:_.key})})):null;(ye||te||ve)&&(Ae=a.createElement("div",{className:"".concat(C,"-head"),style:Y},a.createElement("div",{className:"".concat(C,"-head-wrapper")},ye&&a.createElement("div",{className:"".concat(C,"-head-title")},ye),te&&a.createElement("div",{className:"".concat(C,"-extra")},te)),ve));var Ve=Ze?a.createElement("div",{className:"".concat(C,"-cover")},Ze):null,Ue=a.createElement("div",{className:"".concat(C,"-body"),style:H},oe?Re:Be),Ke=ce&&ce.length?a.createElement("ul",{className:"".concat(C,"-actions")},se(ce)):null,we=(0,F.Z)(pe,["onTabChange"]),me=Te||V,be=D()(C,(u={},(0,v.Z)(u,"".concat(C,"-loading"),oe),(0,v.Z)(u,"".concat(C,"-bordered"),Me),(0,v.Z)(u,"".concat(C,"-hoverable"),Ie),(0,v.Z)(u,"".concat(C,"-contain-grid"),W()),(0,v.Z)(u,"".concat(C,"-contain-tabs"),G&&G.length),(0,v.Z)(u,"".concat(C,"-").concat(me),me),(0,v.Z)(u,"".concat(C,"-type-").concat(Fe),!!Fe),(0,v.Z)(u,"".concat(C,"-rtl"),k==="rtl"),u),ie);return a.createElement("div",(0,m.Z)({ref:d},we,{className:be}),Ae,Ve,Ue,Ke)});je.Grid=P,je.Meta=J;var Ce=je},58024:function(ee,b,t){"use strict";var v=t(38663),m=t.n(v),a=t(70347),f=t.n(a),D=t(18106),F=t(13062),E=t(89032)}}]);
