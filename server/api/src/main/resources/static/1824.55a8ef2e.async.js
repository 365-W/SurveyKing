(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[1824],{99008:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="FileTextOutlined";var N=a.forwardRef(T)},91816:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="FolderOpenOutlined";var N=a.forwardRef(T)},63258:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="FolderOutlined";var N=a.forwardRef(T)},65602:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="InteractionOutlined";var N=a.forwardRef(T)},2603:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="LockOutlined";var N=a.forwardRef(T)},89792:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 612c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H298a95.92 95.92 0 00-89-60c-53 0-96 43-96 96s43 96 96 96c40.3 0 74.8-24.8 89-60h150.3v152c0 55.2 44.8 100 100 100H952c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H548.3c-15.5 0-28-12.5-28-28V612H952zM451.7 313.7l172.5 136.2c6.3 5.1 15.8.5 15.8-7.7V344h264c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H640v-98.2c0-8.1-9.4-12.8-15.8-7.7L451.7 298.3a9.9 9.9 0 000 15.4z"}}]},name:"node-collapse",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="NodeCollapseOutlined";var N=a.forwardRef(T)},1870:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="QuestionCircleOutlined";var N=a.forwardRef(T)},11075:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="RollbackOutlined";var N=a.forwardRef(T)},13105:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="SnippetsOutlined";var N=a.forwardRef(T)},15360:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="StopOutlined";var N=a.forwardRef(T)},89366:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="UserOutlined";var N=a.forwardRef(T)},3157:function(er,St,E){"use strict";E.d(St,{Z:function(){return N}});var M=E(28991),a=E(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},h=m,S=E(27029),T=function(I,z){return a.createElement(S.Z,(0,M.Z)((0,M.Z)({},I),{},{ref:z,icon:h}))};T.displayName="UserSwitchOutlined";var N=a.forwardRef(T)},59782:function(er,St){(function(M,a){if(!0)er.exports=a();else var m,h})(window,function(){return function(E){var M={};function a(m){if(M[m])return M[m].exports;var h=M[m]={i:m,l:!1,exports:{}};return E[m].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=E,a.c=M,a.d=function(m,h,S){a.o(m,h)||Object.defineProperty(m,h,{enumerable:!0,get:S})},a.r=function(m){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},a.t=function(m,h){if(h&1&&(m=a(m)),h&8||h&4&&typeof m=="object"&&m&&m.__esModule)return m;var S=Object.create(null);if(a.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:m}),h&2&&typeof m!="string")for(var T in m)a.d(S,T,function(N){return m[N]}.bind(null,T));return S},a.n=function(m){var h=m&&m.__esModule?function(){return m.default}:function(){return m};return a.d(h,"a",h),h},a.o=function(m,h){return Object.prototype.hasOwnProperty.call(m,h)},a.p="",a(a.s=215)}([function(E,M,a){"use strict";(function(m,h){a.d(M,"a",function(){return J}),a.d(M,"b",function(){return oi}),a.d(M,"c",function(){return Ln}),a.d(M,"d",function(){return je}),a.d(M,"e",function(){return Mt}),a.d(M,"f",function(){return Ht}),a.d(M,"g",function(){return Ya}),a.d(M,"h",function(){return xe}),a.d(M,"i",function(){return U}),a.d(M,"j",function(){return na}),a.d(M,"k",function(){return rn}),a.d(M,"l",function(){return Ir}),a.d(M,"m",function(){return lt}),a.d(M,"n",function(){return da}),a.d(M,"o",function(){return Ce}),a.d(M,"p",function(){return pn}),a.d(M,"q",function(){return Pi}),a.d(M,"r",function(){return ha}),a.d(M,"s",function(){return K}),a.d(M,"t",function(){return wo}),a.d(M,"u",function(){return Oi}),a.d(M,"v",function(){return _o}),a.d(M,"w",function(){return so}),a.d(M,"x",function(){return fo}),a.d(M,"y",function(){return fr}),a.d(M,"z",function(){return dr}),a.d(M,"A",function(){return Y}),a.d(M,"B",function(){return kn}),a.d(M,"C",function(){return Lt}),a.d(M,"D",function(){return Qo}),a.d(M,"E",function(){return fn}),a.d(M,"F",function(){return Yo}),a.d(M,"G",function(){return fa}),a.d(M,"H",function(){return On}),a.d(M,"I",function(){return ma}),a.d(M,"J",function(){return Jr}),a.d(M,"K",function(){return tt}),a.d(M,"L",function(){return co}),a.d(M,"M",function(){return po});var S="An invariant failed, however the error is obfuscated because this is a production build.",T=[];Object.freeze(T);var N={};Object.freeze(N);function C(){return++it.mobxGuid}function I(f){throw z(!1,f),"X"}function z(f,d){if(!f)throw new Error("[mobx] "+(d||S))}var G=[];function Z(f,d){return!1}function F(f){var d=!1;return function(){if(!d)return d=!0,f.apply(this,arguments)}}var _=function(){};function oe(f){var d=[];return f.forEach(function(O){d.indexOf(O)===-1&&d.push(O)}),d}function fe(f){return f!==null&&typeof f=="object"}function te(f){if(f===null||typeof f!="object")return!1;var d=Object.getPrototypeOf(f);return d===Object.prototype||d===null}function Ae(f){if(ue(f)||dr(f))return f;if(Array.isArray(f))return new Map(f);if(te(f)){var d=new Map;for(var O in f)d.set(O,f[O]);return d}else return I("Cannot convert to map from '"+f+"'")}function ye(f,d,O){Object.defineProperty(f,d,{enumerable:!1,writable:!0,configurable:!0,value:O})}function ge(f,d,O){Object.defineProperty(f,d,{enumerable:!1,writable:!1,configurable:!0,value:O})}function ce(f,d){var O=Object.getOwnPropertyDescriptor(f,d);return!O||O.configurable!==!1&&O.writable!==!1}function me(f,d){}function pe(f,d){var O="isMobX"+f;return d.prototype[O]=!0,function(R){return fe(R)&&R[O]===!0}}function he(f){return Array.isArray(f)||fr(f)}function ue(f){return f instanceof Map}function H(f){return f instanceof Set}function ne(f){var d=new Set;for(var O in f)d.add(O);return Object.getOwnPropertySymbols(f).forEach(function(R){Object.getOwnPropertyDescriptor(f,R).enumerable&&d.add(R)}),Array.from(d)}function ie(f){return f&&f.toString?f.toString():new String(f).toString()}function de(f){return f===null?null:typeof f=="object"?""+f:f}var re=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(f){return Object.getOwnPropertyNames(f).concat(Object.getOwnPropertySymbols(f))}:Object.getOwnPropertyNames,J=Symbol("mobx administration"),ae=function(){function f(d){d===void 0&&(d="Atom@"+C()),this.name=d,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Ke.NOT_TRACKING}return f.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(d){return d()})},f.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(d){return d()})},f.prototype.reportObserved=function(){return Rn(this)},f.prototype.reportChanged=function(){Zr(),nr(this),en()},f.prototype.toString=function(){return this.name},f}(),we=pe("Atom",ae);function Ce(f,d,O){d===void 0&&(d=_),O===void 0&&(O=_);var R=new ae(f);return d!==_&&xi(R,d),O!==_&&fn(R,O),R}function Ge(f,d){return f===d}function _e(f,d){return Xe(f,d)}function qe(f,d){return Xe(f,d,1)}function vt(f,d){return Object.is(f,d)}var ke={identity:Ge,structural:_e,default:vt,shallow:qe};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Me=function(f,d){return Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,R){O.__proto__=R}||function(O,R){for(var k in R)R.hasOwnProperty(k)&&(O[k]=R[k])},Me(f,d)};function Be(f,d){Me(f,d);function O(){this.constructor=f}f.prototype=d===null?Object.create(d):(O.prototype=d.prototype,new O)}var ze=function(){return ze=Object.assign||function(d){for(var O,R=1,k=arguments.length;R<k;R++){O=arguments[R];for(var le in O)Object.prototype.hasOwnProperty.call(O,le)&&(d[le]=O[le])}return d},ze.apply(this,arguments)};function Fe(f){var d=typeof Symbol=="function"&&f[Symbol.iterator],O=0;return d?d.call(f):{next:function(){return f&&O>=f.length&&(f=void 0),{value:f&&f[O++],done:!f}}}}function Q(f,d){var O=typeof Symbol=="function"&&f[Symbol.iterator];if(!O)return f;var R=O.call(f),k,le=[],be;try{for(;(d===void 0||d-- >0)&&!(k=R.next()).done;)le.push(k.value)}catch(Ue){be={error:Ue}}finally{try{k&&!k.done&&(O=R.return)&&O.call(R)}finally{if(be)throw be.error}}return le}function W(){for(var f=[],d=0;d<arguments.length;d++)f=f.concat(Q(arguments[d]));return f}var se=Symbol("mobx did run lazy initializers"),Pe=Symbol("mobx pending decorators"),Ve={},Ee={};function ft(f,d){var O=d?Ve:Ee;return O[f]||(O[f]={configurable:!0,enumerable:d,get:function(){return at(this),this[f]},set:function(R){at(this),this[f]=R}})}function at(f){var d,O;if(f[se]!==!0){var R=f[Pe];if(R){ye(f,se,!0);var k=W(Object.getOwnPropertySymbols(R),Object.keys(R));try{for(var le=Fe(k),be=le.next();!be.done;be=le.next()){var Ue=be.value,rt=R[Ue];rt.propertyCreator(f,rt.prop,rt.descriptor,rt.decoratorTarget,rt.decoratorArguments)}}catch(Xt){d={error:Xt}}finally{try{be&&!be.done&&(O=le.return)&&O.call(le)}finally{if(d)throw d.error}}}}}function ot(f,d){return function(){var R,k=function(be,Ue,rt,Xt){if(Xt===!0)return d(be,Ue,rt,be,R),null;if(!Object.prototype.hasOwnProperty.call(be,Pe)){var Gt=be[Pe];ye(be,Pe,ze({},Gt))}return be[Pe][Ue]={prop:Ue,propertyCreator:d,descriptor:rt,decoratorTarget:be,decoratorArguments:R},ft(Ue,f)};return pt(arguments)?(R=T,k.apply(null,arguments)):(R=Array.prototype.slice.call(arguments),k)}}function pt(f){return(f.length===2||f.length===3)&&(typeof f[1]=="string"||typeof f[1]=="symbol")||f.length===4&&f[3]===!0}function Re(f,d,O){return fo(f)?f:Array.isArray(f)?Lt.array(f,{name:O}):te(f)?Lt.object(f,void 0,{name:O}):ue(f)?Lt.map(f,{name:O}):H(f)?Lt.set(f,{name:O}):f}function Pt(f,d,O){return f==null||Y(f)||fr(f)||dr(f)||p(f)?f:Array.isArray(f)?Lt.array(f,{name:O,deep:!1}):te(f)?Lt.object(f,void 0,{name:O,deep:!1}):ue(f)?Lt.map(f,{name:O,deep:!1}):H(f)?Lt.set(f,{name:O,deep:!1}):I(!1)}function Je(f){return f}function ut(f,d,O){return Xe(f,d)?d:f}function gt(f){z(f);var d=ot(!0,function(R,k,le,be,Ue){var rt=le?le.initializer?le.initializer.call(R):le.value:void 0;u(R).addObservableProp(k,rt,f)}),O=(typeof m!="undefined"&&m.env,d);return O.enhancer=f,O}var At={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(At);function It(f){/^(deep|name|equals|defaultDecorator|proxy)$/.test(f)||I("invalid option for (extend)observable: "+f)}function Ct(f){return f==null?At:typeof f=="string"?{name:f,deep:!0,proxy:!0}:f}var Ft=gt(Re),Qt=gt(Pt),$t=gt(Je),tr=gt(ut);function ur(f){return f.defaultDecorator?f.defaultDecorator.enhancer:f.deep===!1?Je:Re}function lr(f,d,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ft.apply(null,arguments);if(fo(f))return f;var R=te(f)?Lt.object(f,d,O):Array.isArray(f)?Lt.array(f,d):ue(f)?Lt.map(f,d):H(f)?Lt.set(f,d):f;if(R!==f)return R;I(!1)}var rr={box:function(f,d){arguments.length>2&&jt("box");var O=Ct(d);return new Vr(f,ur(O),O.name,!0,O.equals)},array:function(f,d){arguments.length>2&&jt("array");var O=Ct(d);return Oa(f,ur(O),O.name)},map:function(f,d){arguments.length>2&&jt("map");var O=Ct(d);return new oi(f,ur(O),O.name)},set:function(f,d){arguments.length>2&&jt("set");var O=Ct(d);return new Co(f,ur(O),O.name)},object:function(f,d,O){typeof arguments[1]=="string"&&jt("object");var R=Ct(O);if(R.proxy===!1)return Pi({},f,d,R);var k=pa(R),le=Pi({},void 0,void 0,R),be=No(le);return Gn(be,f,d,k),be},ref:$t,shallow:Qt,deep:Ft,struct:tr},Lt=lr;Object.keys(rr).forEach(function(f){return Lt[f]=rr[f]});function jt(f){I("Expected one or two arguments to observable."+f+". Did you accidentally try to use observable."+f+" as decorator?")}var Wt=ot(!1,function(f,d,O,R,k){var le=O.get,be=O.set,Ue=k[0]||{};u(f).addComputedProp(f,d,ze({get:le,set:be,context:f},Ue))}),Qe=Wt({equals:ke.structural}),lt=function(d,O,R){if(typeof O=="string"||d!==null&&typeof d=="object"&&arguments.length===1)return Wt.apply(null,arguments);var k=typeof O=="object"?O:{};return k.get=d,k.set=typeof O=="function"?O:k.set,k.name=k.name||d.name||"",new io(k)};lt.struct=Qe;var Ke;(function(f){f[f.NOT_TRACKING=-1]="NOT_TRACKING",f[f.UP_TO_DATE=0]="UP_TO_DATE",f[f.POSSIBLY_STALE=1]="POSSIBLY_STALE",f[f.STALE=2]="STALE"})(Ke||(Ke={}));var ct;(function(f){f[f.NONE=0]="NONE",f[f.LOG=1]="LOG",f[f.BREAK=2]="BREAK"})(ct||(ct={}));var xt=function(){function f(d){this.cause=d}return f}();function Nt(f){return f instanceof xt}function V(f){switch(f.dependenciesState){case Ke.UP_TO_DATE:return!1;case Ke.NOT_TRACKING:case Ke.STALE:return!0;case Ke.POSSIBLY_STALE:{for(var d=Ht(!0),O=et(),R=f.observing,k=R.length,le=0;le<k;le++){var be=R[le];if(So(be)){if(it.disableErrorBoundaries)be.get();else try{be.get()}catch(Ue){return dt(O),Mt(d),!0}if(f.dependenciesState===Ke.STALE)return dt(O),Mt(d),!0}}return hr(f),dt(O),Mt(d),!1}}}function U(){return it.trackingDerivation!==null}function P(f){var d=f.observers.size>0;it.computationDepth>0&&d&&I(!1),!it.allowStateChanges&&(d||it.enforceActions==="strict")&&I(!1)}function A(f){}function B(f,d,O){var R=Ht(!0);hr(f),f.newObserving=new Array(f.observing.length+100),f.unboundDepsCount=0,f.runId=++it.runId;var k=it.trackingDerivation;it.trackingDerivation=f;var le;if(it.disableErrorBoundaries===!0)le=d.call(O);else try{le=d.call(O)}catch(be){le=new xt(be)}return it.trackingDerivation=k,He(f),q(f),Mt(R),le}function q(f){}function He(f){for(var d=f.observing,O=f.observing=f.newObserving,R=Ke.UP_TO_DATE,k=0,le=f.unboundDepsCount,be=0;be<le;be++){var Ue=O[be];Ue.diffValue===0&&(Ue.diffValue=1,k!==be&&(O[k]=Ue),k++),Ue.dependenciesState>R&&(R=Ue.dependenciesState)}for(O.length=k,f.newObserving=null,le=d.length;le--;){var Ue=d[le];Ue.diffValue===0&&aa(Ue,f),Ue.diffValue=0}for(;k--;){var Ue=O[k];Ue.diffValue===1&&(Ue.diffValue=0,Po(Ue,f))}R!==Ke.UP_TO_DATE&&(f.dependenciesState=R,f.onBecomeStale())}function Le(f){var d=f.observing;f.observing=[];for(var O=d.length;O--;)aa(d[O],f);f.dependenciesState=Ke.NOT_TRACKING}function tt(f){var d=et();try{return f()}finally{dt(d)}}function et(){var f=it.trackingDerivation;return it.trackingDerivation=null,f}function dt(f){it.trackingDerivation=f}function Ht(f){var d=it.allowStateReads;return it.allowStateReads=f,d}function Mt(f){it.allowStateReads=f}function hr(f){if(f.dependenciesState!==Ke.UP_TO_DATE){f.dependenciesState=Ke.UP_TO_DATE;for(var d=f.observing,O=d.length;O--;)d[O].lowestObserverState=Ke.UP_TO_DATE}}var Vt=0,sr=1,wr=Object.getOwnPropertyDescriptor(function(){},"name"),Rr=wr&&wr.configurable;function Yr(f,d,O){var R=function(){return vi(f,d,O||this,arguments)};return R.isMobxAction=!0,R}function vi(f,d,O,R){var k=na(f,O,R);try{return d.apply(O,R)}catch(le){throw k.error=le,le}finally{Ya(k)}}function na(f,d,O){var R=br()&&!!f,k=0;if(R,!1){var le,be;if(le>0)for(var Ue;Ue<le;Ue++);}var rt=et();Zr();var Xt=xo(!0),Gt=Ht(!0),_t={prevDerivation:rt,prevAllowStateChanges:Xt,prevAllowStateReads:Gt,notifySpy:R,startTime:k,actionId:sr++,parentActionId:Vt};return Vt=_t.actionId,_t}function Ya(f){Vt!==f.actionId&&I("invalid action stack. did you forget to finish an action?"),Vt=f.parentActionId,f.error!==void 0&&(it.suppressReactionErrors=!0),sn(f.prevAllowStateChanges),Mt(f.prevAllowStateReads),en(),dt(f.prevDerivation),f.notifySpy,it.suppressReactionErrors=!1}function je(f,d){var O=xo(f),R;try{R=d()}finally{sn(O)}return R}function xo(f){var d=it.allowStateChanges;return it.allowStateChanges=f,d}function sn(f){it.allowStateChanges=f}function ko(f){var d=it.computationDepth;it.computationDepth=0;var O;try{O=f()}finally{it.computationDepth=d}return O}var Vr=function(f){Be(d,f);function d(O,R,k,le,be){k===void 0&&(k="ObservableValue@"+C()),le===void 0&&(le=!0),be===void 0&&(be=ke.default);var Ue=f.call(this,k)||this;return Ue.enhancer=R,Ue.name=k,Ue.equals=be,Ue.hasUnreportedChange=!1,Ue.value=R(O,void 0,k),le&&br(),Ue}return d.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},d.prototype.set=function(O){var R=this.value;if(O=this.prepareNewValue(O),O!==it.UNCHANGED){var k=br();this.setNewValue(O)}},d.prototype.prepareNewValue=function(O){if(P(this),Qr(this)){var R=Gr(this,{object:this,type:"update",newValue:O});if(!R)return it.UNCHANGED;O=R.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?it.UNCHANGED:O},d.prototype.setNewValue=function(O){var R=this.value;this.value=O,this.reportChanged(),Lr(this)&&kr(this,{type:"update",object:this,newValue:O,oldValue:R})},d.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},d.prototype.intercept=function(O){return Xn(this,O)},d.prototype.observe=function(O,R){return R&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),ho(this,O)},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.value+"]"},d.prototype.valueOf=function(){return de(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(ae),yi=pe("ObservableValue",Vr),io=function(){function f(d){this.dependenciesState=Ke.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Ke.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+C(),this.value=new xt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ct.NONE,z(d.get,"missing option for computed: get"),this.derivation=d.get,this.name=d.name||"ComputedValue@"+C(),d.set&&(this.setter=Yr(this.name+"-setter",d.set)),this.equals=d.equals||(d.compareStructural||d.struct?ke.structural:ke.default),this.scope=d.context,this.requiresReaction=!!d.requiresReaction,this.keepAlive=!!d.keepAlive}return f.prototype.onBecomeStale=function(){la(this)},f.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(d){return d()})},f.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(d){return d()})},f.prototype.get=function(){this.isComputing&&I("Cycle detected in computation "+this.name+": "+this.derivation),it.inBatch===0&&this.observers.size===0&&!this.keepAlive?V(this)&&(this.warnAboutUntrackedRead(),Zr(),this.value=this.computeValue(!1),en()):(Rn(this),V(this)&&this.trackAndCompute()&&gi(this));var d=this.value;if(Nt(d))throw d.cause;return d},f.prototype.peek=function(){var d=this.computeValue(!1);if(Nt(d))throw d.cause;return d},f.prototype.set=function(d){if(this.setter){z(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,d)}finally{this.isRunningSetter=!1}}else z(!1,!1)},f.prototype.trackAndCompute=function(){br();var d=this.value,O=this.dependenciesState===Ke.NOT_TRACKING,R=this.computeValue(!0),k=O||Nt(d)||Nt(R)||!this.equals(d,R);return k&&(this.value=R),k},f.prototype.computeValue=function(d){this.isComputing=!0,it.computationDepth++;var O;if(d)O=B(this,this.derivation,this.scope);else if(it.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(R){O=new xt(R)}return it.computationDepth--,this.isComputing=!1,O},f.prototype.suspend=function(){this.keepAlive||(Le(this),this.value=void 0)},f.prototype.observe=function(d,O){var R=this,k=!0,le=void 0;return Ir(function(){var be=R.get();if(!k||O){var Ue=et();d({type:"update",object:R,newValue:be,oldValue:le}),dt(Ue)}k=!1,le=be})},f.prototype.warnAboutUntrackedRead=function(){},f.prototype.toJSON=function(){return this.get()},f.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},f.prototype.valueOf=function(){return de(this.get())},f.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},f}(),So=pe("ComputedValue",io),Va=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],jn=function(){function f(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return f}(),oa={};function Uo(){return typeof window!="undefined"?window:typeof h!="undefined"?h:typeof self!="undefined"?self:oa}var Xo=!0,Za=!1,it=function(){var f=Uo();return f.__mobxInstanceCount>0&&!f.__mobxGlobals&&(Xo=!1),f.__mobxGlobals&&f.__mobxGlobals.version!==new jn().version&&(Xo=!1),Xo?f.__mobxGlobals?(f.__mobxInstanceCount+=1,f.__mobxGlobals.UNCHANGED||(f.__mobxGlobals.UNCHANGED={}),f.__mobxGlobals):(f.__mobxInstanceCount=1,f.__mobxGlobals=new jn):(setTimeout(function(){Za||I("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new jn)}();function _a(){(it.pendingReactions.length||it.inBatch||it.isRunningReactions)&&I("isolateGlobalState should be called before MobX is running any reactions"),Za=!0,Xo&&(--Uo().__mobxInstanceCount==0&&(Uo().__mobxGlobals=void 0),it=new jn)}function Hs(){return it}function Gs(){var f=new jn;for(var d in f)Va.indexOf(d)===-1&&(it[d]=f[d]);it.allowStateChanges=!it.enforceActions}function ks(f){return f.observers&&f.observers.size>0}function ia(f){return f.observers}function Po(f,d){f.observers.add(d),f.lowestObserverState>d.dependenciesState&&(f.lowestObserverState=d.dependenciesState)}function aa(f,d){f.observers.delete(d),f.observers.size===0&&ua(f)}function ua(f){f.isPendingUnobservation===!1&&(f.isPendingUnobservation=!0,it.pendingUnobservations.push(f))}function Zr(){it.inBatch++}function en(){if(--it.inBatch==0){_r();for(var f=it.pendingUnobservations,d=0;d<f.length;d++){var O=f[d];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof io&&O.suspend())}it.pendingUnobservations=[]}}function Rn(f){A(f);var d=it.trackingDerivation;return d!==null?(d.runId!==f.lastAccessedBy&&(f.lastAccessedBy=d.runId,d.newObserving[d.unboundDepsCount++]=f,f.isBeingObserved||(f.isBeingObserved=!0,f.onBecomeObserved())),!0):(f.observers.size===0&&it.inBatch>0&&ua(f),!1)}function nr(f){f.lowestObserverState!==Ke.STALE&&(f.lowestObserverState=Ke.STALE,f.observers.forEach(function(d){d.dependenciesState===Ke.UP_TO_DATE&&(d.isTracing!==ct.NONE&&In(d,f),d.onBecomeStale()),d.dependenciesState=Ke.STALE}))}function gi(f){f.lowestObserverState!==Ke.STALE&&(f.lowestObserverState=Ke.STALE,f.observers.forEach(function(d){d.dependenciesState===Ke.POSSIBLY_STALE?d.dependenciesState=Ke.STALE:d.dependenciesState===Ke.UP_TO_DATE&&(f.lowestObserverState=Ke.UP_TO_DATE)}))}function la(f){f.lowestObserverState===Ke.UP_TO_DATE&&(f.lowestObserverState=Ke.POSSIBLY_STALE,f.observers.forEach(function(d){d.dependenciesState===Ke.UP_TO_DATE&&(d.dependenciesState=Ke.POSSIBLY_STALE,d.isTracing!==ct.NONE&&In(d,f),d.onBecomeStale())}))}function In(f,d){if(console.log("[mobx.trace] '"+f.name+"' is invalidated due to a change in: '"+d.name+"'"),f.isTracing===ct.BREAK){var O=[];mn(wo(f),O,1),new Function(`debugger;
/*
Tracing '`+f.name+`'

You are entering this break point because derivation '`+f.name+"' is being traced and '"+d.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(f instanceof io?f.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function mn(f,d,O){if(d.length>=1e3){d.push("(and many more)");return}d.push(""+new Array(O).join("	")+f.name),f.dependencies&&f.dependencies.forEach(function(R){return mn(R,d,O+1)})}var Ln=function(){function f(d,O,R,k){d===void 0&&(d="Reaction@"+C()),k===void 0&&(k=!1),this.name=d,this.onInvalidate=O,this.errorHandler=R,this.requiresObservable=k,this.observing=[],this.newObserving=[],this.dependenciesState=Ke.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+C(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ct.NONE}return f.prototype.onBecomeStale=function(){this.schedule()},f.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,it.pendingReactions.push(this),_r())},f.prototype.isScheduled=function(){return this._isScheduled},f.prototype.runReaction=function(){if(!this.isDisposed){if(Zr(),this._isScheduled=!1,V(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&br()}catch(d){this.reportExceptionInDerivation(d)}}en()}},f.prototype.track=function(d){if(!this.isDisposed){Zr();var O=br(),R;this._isRunning=!0;var k=B(this,d,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Le(this),Nt(k)&&this.reportExceptionInDerivation(k.cause),en()}},f.prototype.reportExceptionInDerivation=function(d){var O=this;if(this.errorHandler){this.errorHandler(d,this);return}if(it.disableErrorBoundaries)throw d;var R="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";it.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(R,d),br()&&bn({type:"error",name:this.name,message:R,error:""+d}),it.globalReactionErrorHandlers.forEach(function(k){return k(d,O)})},f.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Zr(),Le(this),en()))},f.prototype.getDisposer=function(){var d=this.dispose.bind(this);return d[J]=this,d},f.prototype.toString=function(){return"Reaction["+this.name+"]"},f.prototype.trace=function(d){d===void 0&&(d=!1),ei(this,d)},f}();function Bn(f){return it.globalReactionErrorHandlers.push(f),function(){var d=it.globalReactionErrorHandlers.indexOf(f);d>=0&&it.globalReactionErrorHandlers.splice(d,1)}}var $o=100,Wo=function(f){return f()};function _r(){it.inBatch>0||it.isRunningReactions||Wo(mi)}function mi(){it.isRunningReactions=!0;for(var f=it.pendingReactions,d=0;f.length>0;){++d===$o&&(console.error("Reaction doesn't converge to a stable state after "+$o+" iterations."+(" Probably there is a cycle in the reactive function: "+f[0])),f.splice(0));for(var O=f.splice(0),R=0,k=O.length;R<k;R++)O[R].runReaction()}it.isRunningReactions=!1}var tn=pe("Reaction",Ln);function ao(f){var d=Wo;Wo=function(O){return f(function(){return d(O)})}}function br(){return!1}function bn(f){return;for(var d,O,R;O<R;O++)d[O](f)}function uo(f){return;var d}var zn={spyReportEnd:!0};function Fn(f){}function On(f){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Mo(){I(!1)}function Ko(f){return function(d,O,R){if(R){if(R.value)return{value:Yr(f,R.value),enumerable:!1,configurable:!0,writable:!0};var k=R.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Yr(f,k.call(this))}}}return bi(f).apply(this,arguments)}}function bi(f){return function(d,O,R){Object.defineProperty(d,O,{configurable:!0,enumerable:!1,get:function(){},set:function(k){ye(this,O,rn(f,k))}})}}function sa(f,d,O,R){return R===!0?(Hn(f,d,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return Hn(this,d,O.value||O.initializer.call(this)),this[d]},set:Mo}:{enumerable:!1,configurable:!0,set:function(k){Hn(this,d,k)},get:function(){}}}var rn=function(d,O,R,k){if(arguments.length===1&&typeof d=="function")return Yr(d.name||"<unnamed action>",d);if(arguments.length===2&&typeof O=="function")return Yr(d,O);if(arguments.length===1&&typeof d=="string")return Ko(d);if(k===!0)ye(d,O,Yr(d.name||O,R.value,this));else return Ko(O).apply(null,arguments)};rn.bound=sa;function fa(f,d){var O=typeof f=="string"?f:f.name||"<unnamed action>",R=typeof f=="function"?f:d;return vi(O,R,this,void 0)}function Oi(f){return typeof f=="function"&&f.isMobxAction===!0}function Hn(f,d,O){ye(f,d,Yr(d,O.bind(f)))}function Ir(f,d){d===void 0&&(d=N);var O=d&&d.name||f.name||"Autorun@"+C(),R=!d.scheduler&&!d.delay,k;if(R)k=new Ln(O,function(){this.track(Ue)},d.onError,d.requiresObservable);else{var le=Er(d),be=!1;k=new Ln(O,function(){be||(be=!0,le(function(){be=!1,k.isDisposed||k.track(Ue)}))},d.onError,d.requiresObservable)}function Ue(){f(k)}return k.schedule(),k.getDisposer()}var Ei=function(f){return f()};function Er(f){return f.scheduler?f.scheduler:f.delay?function(d){return setTimeout(d,f.delay)}:Ei}function Yo(f,d,O){O===void 0&&(O=N);var R=O.name||"Reaction@"+C(),k=rn(R,O.onError?ca(O.onError,d):d),le=!O.scheduler&&!O.delay,be=Er(O),Ue=!0,rt=!1,Xt,Gt=O.compareStructural?ke.structural:O.equals||ke.default,_t=new Ln(R,function(){Ue||le?Jt():rt||(rt=!0,be(Jt))},O.onError,O.requiresObservable);function Jt(){if(rt=!1,!_t.isDisposed){var or=!1;_t.track(function(){var xr=f(_t);or=Ue||!Gt(Xt,xr),Xt=xr}),Ue&&O.fireImmediately&&k(Xt,_t),!Ue&&or===!0&&k(Xt,_t),Ue&&(Ue=!1)}}return _t.schedule(),_t.getDisposer()}function ca(f,d){return function(){try{return d.apply(this,arguments)}catch(O){f.call(this,O)}}}function xi(f,d,O){return Si("onBecomeObserved",f,d,O)}function fn(f,d,O){return Si("onBecomeUnobserved",f,d,O)}function Si(f,d,O,R){var k=typeof R=="function"?K(d,O):K(d),le=typeof R=="function"?R:O,be=f+"Listeners";k[be]?k[be].add(le):k[be]=new Set([le]);var Ue=k[f];return typeof Ue!="function"?I(!1):function(){var rt=k[be];rt&&(rt.delete(le),rt.size===0&&delete k[be])}}function da(f){var d=f.enforceActions,O=f.computedRequiresReaction,R=f.computedConfigurable,k=f.disableErrorBoundaries,le=f.reactionScheduler,be=f.reactionRequiresObservable,Ue=f.observableRequiresReaction;if(f.isolateGlobalState===!0&&_a(),d!==void 0){(typeof d=="boolean"||d==="strict")&&Z(`Deprecated value for 'enforceActions', use 'false' => '"never"', 'true' => '"observed"', '"strict"' => "'always'" instead`);var rt=void 0;switch(d){case!0:case"observed":rt=!0;break;case!1:case"never":rt=!1;break;case"strict":case"always":rt="strict";break;default:I("Invalid value for 'enforceActions': '"+d+"', expected 'never', 'always' or 'observed'")}it.enforceActions=rt,it.allowStateChanges=!(rt===!0||rt==="strict")}O!==void 0&&(it.computedRequiresReaction=!!O),be!==void 0&&(it.reactionRequiresObservable=!!be),Ue!==void 0&&(it.observableRequiresReaction=!!Ue,it.allowStateReads=!it.observableRequiresReaction),R!==void 0&&(it.computedConfigurable=!!R),k!==void 0&&(k===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),it.disableErrorBoundaries=!!k),le&&ao(le)}function Ja(f,d){var O=typeof f=="function"?f.prototype:f,R=function(le){var be=d[le];Array.isArray(be)||(be=[be]);var Ue=Object.getOwnPropertyDescriptor(O,le),rt=be.reduce(function(Xt,Gt){return Gt(O,le,Xt)},Ue);rt&&Object.defineProperty(O,le,rt)};for(var k in d)R(k);return f}function Pi(f,d,O,R){R=Ct(R);var k=pa(R);return at(f),u(f,R.name,k.enhancer),d&&Gn(f,d,O,k),f}function pa(f){return f.defaultDecorator||(f.deep===!1?$t:Ft)}function Gn(f,d,O,R){var k,le,be,Ue;if(!1)var rt,Xt,Gt,_t;Zr();try{var _t=re(d);try{for(var Jt=Fe(_t),or=Jt.next();!or.done;or=Jt.next()){var rt=or.value,xr=Object.getOwnPropertyDescriptor(d,rt),Sr=O&&rt in O?O[rt]:xr.get?Wt:R,Br=Sr(f,rt,xr,!0);Br&&Object.defineProperty(f,rt,Br)}}catch(xa){be={error:xa}}finally{try{or&&!or.done&&(Ue=Jt.return)&&Ue.call(Jt)}finally{if(be)throw be.error}}}finally{en()}}function wo(f,d){return En(K(f,d))}function En(f){var d={name:f.name};return f.observing&&f.observing.length>0&&(d.dependencies=oe(f.observing).map(En)),d}function To(f,d){return Vo(K(f,d))}function Vo(f){var d={name:f.name};return ks(f)&&(d.observers=Array.from(ia(f)).map(Vo)),d}var cn=0;function Ao(){this.message="FLOW_CANCELLED"}Ao.prototype=Object.create(Error.prototype);function Tr(f){return f instanceof Ao}function ha(f){arguments.length!==1&&I("Flow expects 1 argument and cannot be used as decorator");var d=f.name||"<unnamed flow>";return function(){var O=this,R=arguments,k=++cn,le=rn(d+" - runid: "+k+" - init",f).apply(O,R),be,Ue=void 0,rt=new Promise(function(Xt,Gt){var _t=0;be=Gt;function Jt(Sr){Ue=void 0;var Br;try{Br=rn(d+" - runid: "+k+" - yield "+_t++,le.next).call(le,Sr)}catch(jo){return Gt(jo)}xr(Br)}function or(Sr){Ue=void 0;var Br;try{Br=rn(d+" - runid: "+k+" - yield "+_t++,le.throw).call(le,Sr)}catch(jo){return Gt(jo)}xr(Br)}function xr(Sr){if(Sr&&typeof Sr.then=="function"){Sr.then(xr,Gt);return}return Sr.done?Xt(Sr.value):(Ue=Promise.resolve(Sr.value),Ue.then(Jt,or))}Jt(void 0)});return rt.cancel=rn(d+" - runid: "+k+" - cancel",function(){try{Ue&&dn(Ue);var Xt=le.return(void 0),Gt=Promise.resolve(Xt.value);Gt.then(_,_),dn(Gt),be(new Ao)}catch(_t){be(_t)}}),rt}}function dn(f){typeof f.cancel=="function"&&f.cancel()}function Qa(f,d,O){var R;if(dr(f)||fr(f)||yi(f))R=xe(f);else if(Y(f)){if(typeof d!="string")return I(!1);R=xe(f,d)}else return I(!1);return R.dehancer!==void 0?I(!1):(R.dehancer=typeof d=="function"?d:O,function(){R.dehancer=void 0})}function qa(f,d,O){return typeof O=="function"?Zo(f,d,O):va(f,d)}function va(f,d){return xe(f).intercept(d)}function Zo(f,d,O){return xe(f,d).intercept(O)}function lo(f,d){if(f==null)return!1;if(d!==void 0){if(Y(f)===!1||!f[J].values.has(d))return!1;var O=K(f,d);return So(O)}return So(f)}function _o(f){return arguments.length>1?I(!1):lo(f)}function so(f,d){return typeof d!="string"?I(!1):lo(f,d)}function Jo(f,d){return f==null?!1:d!==void 0?Y(f)?f[J].values.has(d):!1:Y(f)||!!f[J]||we(f)||tn(f)||So(f)}function fo(f){return arguments.length!==1&&I(!1),Jo(f)}function eu(f,d){return typeof d!="string"?I(!1):Jo(f,d)}function kn(f){return Y(f)?f[J].getKeys():dr(f)||p(f)?Array.from(f.keys()):fr(f)?f.map(function(d,O){return O}):I(!1)}function co(f){return Y(f)?kn(f).map(function(d){return f[d]}):dr(f)?kn(f).map(function(d){return f.get(d)}):p(f)?Array.from(f.values()):fr(f)?f.slice():I(!1)}function pn(f){return Y(f)?kn(f).map(function(d){return[d,f[d]]}):dr(f)?kn(f).map(function(d){return[d,f.get(d)]}):p(f)?Array.from(f.entries()):fr(f)?f.map(function(d,O){return[O,d]}):I(!1)}function Mi(f,d,O){if(arguments.length===2&&!p(f)){Zr();var R=d;try{for(var k in R)Mi(f,k,R[k])}finally{en()}return}if(Y(f)){var le=f[J],be=le.values.get(d);be?le.write(d,O):le.addObservableProp(d,O,le.defaultEnhancer)}else if(dr(f))f.set(d,O);else if(p(f))f.add(d);else if(fr(f))typeof d!="number"&&(d=parseInt(d,10)),z(d>=0,"Not a valid index: '"+d+"'"),Zr(),d>=f.length&&(f.length=d+1),f[d]=O,en();else return I(!1)}function tu(f,d){if(Y(f))f[J].remove(d);else if(dr(f))f.delete(d);else if(p(f))f.delete(d);else if(fr(f))typeof d!="number"&&(d=parseInt(d,10)),z(d>=0,"Not a valid index: '"+d+"'"),f.splice(d,1);else return I(!1)}function ya(f,d){if(Y(f)){var O=xe(f);return O.has(d)}else return dr(f)||p(f)?f.has(d):fr(f)?d>=0&&d<f.length:I(!1)}function wi(f,d){if(!!ya(f,d))return Y(f)?f[d]:dr(f)?f.get(d):fr(f)?f[d]:I(!1)}function Qo(f,d,O,R){return typeof O=="function"?Ti(f,d,O,R):ga(f,d,O)}function ga(f,d,O){return xe(f).observe(d,O)}function Ti(f,d,O,R){return xe(f,d).observe(O,R)}var qo={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Un(f,d,O,R){return R.detectCycles&&f.set(d,O),O}function hn(f,d,O){if(!d.recurseEverything&&!fo(f)||typeof f!="object")return f;if(f===null)return null;if(f instanceof Date)return f;if(yi(f))return hn(f.get(),d,O);fo(f)&&kn(f);var R=d.detectCycles===!0;if(R&&f!==null&&O.has(f))return O.get(f);if(fr(f)||Array.isArray(f)){var k=Un(O,f,[],d),le=f.map(function(or){return hn(or,d,O)});k.length=le.length;for(var be=0,Ue=le.length;be<Ue;be++)k[be]=le[be];return k}if(p(f)||Object.getPrototypeOf(f)===Set.prototype)if(d.exportMapsAsObjects===!1){var rt=Un(O,f,new Set,d);return f.forEach(function(or){rt.add(hn(or,d,O))}),rt}else{var Xt=Un(O,f,[],d);return f.forEach(function(or){Xt.push(hn(or,d,O))}),Xt}if(dr(f)||Object.getPrototypeOf(f)===Map.prototype)if(d.exportMapsAsObjects===!1){var Gt=Un(O,f,new Map,d);return f.forEach(function(or,xr){Gt.set(xr,hn(or,d,O))}),Gt}else{var _t=Un(O,f,{},d);return f.forEach(function(or,xr){_t[xr]=hn(or,d,O)}),_t}var Jt=Un(O,f,{},d);return ne(f).forEach(function(or){Jt[or]=hn(f[or],d,O)}),Jt}function ma(f,d){typeof d=="boolean"&&(d={detectCycles:d}),d||(d=qo),d.detectCycles=d.detectCycles===void 0?d.recurseEverything===!0:d.detectCycles===!0;var O;return d.detectCycles&&(O=new Map),hn(f,d,O)}function ei(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var O=!1;typeof f[f.length-1]=="boolean"&&(O=f.pop());var R=vn(f);if(!R)return I(!1);R.isTracing===ct.NONE&&console.log("[mobx.trace] '"+R.name+"' tracing enabled"),R.isTracing=O?ct.BREAK:ct.LOG}function vn(f){switch(f.length){case 0:return it.trackingDerivation;case 1:return K(f[0]);case 2:return K(f[0],f[1])}}function Jr(f,d){d===void 0&&(d=void 0),Zr();try{return f.apply(d)}finally{en()}}function po(f,d,O){return arguments.length===1||d&&typeof d=="object"?xn(f,d):Ai(f,d,O||{})}function Ai(f,d,O){var R;typeof O.timeout=="number"&&(R=setTimeout(function(){if(!le[J].isDisposed){le();var be=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(be);else throw be}},O.timeout)),O.name=O.name||"When@"+C();var k=Yr(O.name+"-effect",d),le=Ir(function(be){f()&&(be.dispose(),R&&clearTimeout(R),k())},O);return le}function xn(f,d){var O,R=new Promise(function(k,le){var be=Ai(f,k,ze(ze({},d),{onError:le}));O=function(){be(),le("WHEN_CANCELLED")}});return R.cancel=O,R}function ti(f){return f[J]}function ri(f){return typeof f=="string"||typeof f=="number"||typeof f=="symbol"}var Ni={has:function(f,d){if(d===J||d==="constructor"||d===se)return!0;var O=ti(f);return ri(d)?O.has(d):d in f},get:function(f,d){if(d===J||d==="constructor"||d===se)return f[d];var O=ti(f),R=O.values.get(d);if(R instanceof ae){var k=R.get();return k===void 0&&O.has(d),k}return ri(d)&&O.has(d),f[d]},set:function(f,d,O){return ri(d)?(Mi(f,d,O),!0):!1},deleteProperty:function(f,d){if(!ri(d))return!1;var O=ti(f);return O.remove(d),!0},ownKeys:function(f){var d=ti(f);return d.keysAtom.reportObserved(),Reflect.ownKeys(f)},preventExtensions:function(f){return I("Dynamic observable objects cannot be frozen"),!1}};function No(f){var d=new Proxy(f,Ni);return f[J].proxy=d,d}function Qr(f){return f.interceptors!==void 0&&f.interceptors.length>0}function Xn(f,d){var O=f.interceptors||(f.interceptors=[]);return O.push(d),F(function(){var R=O.indexOf(d);R!==-1&&O.splice(R,1)})}function Gr(f,d){var O=et();try{for(var R=W(f.interceptors||[]),k=0,le=R.length;k<le&&(d=R[k](d),z(!d||d.type,"Intercept handlers should return nothing or a change object"),!!d);k++);return d}finally{dt(O)}}function Lr(f){return f.changeListeners!==void 0&&f.changeListeners.length>0}function ho(f,d){var O=f.changeListeners||(f.changeListeners=[]);return O.push(d),F(function(){var R=O.indexOf(d);R!==-1&&O.splice(R,1)})}function kr(f,d){var O=et(),R=f.changeListeners;if(!!R){R=R.slice();for(var k=0,le=R.length;k<le;k++)R[k](d);dt(O)}}var ba=1e4,ru={get:function(f,d){return d===J?f[J]:d==="length"?f[J].getArrayLength():typeof d=="number"?nn.get.call(f,d):typeof d=="string"&&!isNaN(d)?nn.get.call(f,parseInt(d)):nn.hasOwnProperty(d)?nn[d]:f[d]},set:function(f,d,O){return d==="length"&&f[J].setArrayLength(O),typeof d=="number"&&nn.set.call(f,d,O),typeof d=="symbol"||isNaN(d)?f[d]=O:nn.set.call(f,parseInt(d),O),!0},preventExtensions:function(f){return I("Observable arrays cannot be frozen"),!1}};function Oa(f,d,O,R){O===void 0&&(O="ObservableArray@"+C()),R===void 0&&(R=!1);var k=new $n(O,d,R);ge(k.values,J,k);var le=new Proxy(k.values,ru);if(k.proxy=le,f&&f.length){var be=xo(!0);k.spliceWithArray(0,0,f),sn(be)}return le}var $n=function(){function f(d,O,R){this.owned=R,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new ae(d||"ObservableArray@"+C()),this.enhancer=function(k,le){return O(k,le,d+"[..]")}}return f.prototype.dehanceValue=function(d){return this.dehancer!==void 0?this.dehancer(d):d},f.prototype.dehanceValues=function(d){return this.dehancer!==void 0&&d.length>0?d.map(this.dehancer):d},f.prototype.intercept=function(d){return Xn(this,d)},f.prototype.observe=function(d,O){return O===void 0&&(O=!1),O&&d({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),ho(this,d)},f.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},f.prototype.setArrayLength=function(d){if(typeof d!="number"||d<0)throw new Error("[mobx.array] Out of range: "+d);var O=this.values.length;if(d!==O)if(d>O){for(var R=new Array(d-O),k=0;k<d-O;k++)R[k]=void 0;this.spliceWithArray(O,0,R)}else this.spliceWithArray(d,O-d)},f.prototype.updateArrayLength=function(d,O){if(d!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},f.prototype.spliceWithArray=function(d,O,R){var k=this;P(this.atom);var le=this.values.length;if(d===void 0?d=0:d>le?d=le:d<0&&(d=Math.max(0,le+d)),arguments.length===1?O=le-d:O==null?O=0:O=Math.max(0,Math.min(O,le-d)),R===void 0&&(R=T),Qr(this)){var be=Gr(this,{object:this.proxy,type:"splice",index:d,removedCount:O,added:R});if(!be)return T;O=be.removedCount,R=be.added}if(R=R.length===0?R:R.map(function(Xt){return k.enhancer(Xt,void 0)}),!1)var Ue;var rt=this.spliceItemsIntoValues(d,O,R);return(O!==0||R.length!==0)&&this.notifyArraySplice(d,R,rt),this.dehanceValues(rt)},f.prototype.spliceItemsIntoValues=function(d,O,R){var k;if(R.length<ba)return(k=this.values).splice.apply(k,W([d,O],R));var le=this.values.slice(d,d+O);return this.values=this.values.slice(0,d).concat(R,this.values.slice(d+O)),le},f.prototype.notifyArrayChildUpdate=function(d,O,R){var k=!this.owned&&br(),le=Lr(this),be=le||k?{object:this.proxy,type:"update",index:d,newValue:O,oldValue:R}:null;this.atom.reportChanged(),le&&kr(this,be)},f.prototype.notifyArraySplice=function(d,O,R){var k=!this.owned&&br(),le=Lr(this),be=le||k?{object:this.proxy,type:"splice",index:d,removed:R,added:O,removedCount:R.length,addedCount:O.length}:null;this.atom.reportChanged(),le&&kr(this,be)},f}(),nn={intercept:function(f){return this[J].intercept(f)},observe:function(f,d){d===void 0&&(d=!1);var O=this[J];return O.observe(f,d)},clear:function(){return this.splice(0)},replace:function(f){var d=this[J];return d.spliceWithArray(0,d.values.length,f)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(f,d){for(var O=[],R=2;R<arguments.length;R++)O[R-2]=arguments[R];var k=this[J];switch(arguments.length){case 0:return[];case 1:return k.spliceWithArray(f);case 2:return k.spliceWithArray(f,d)}return k.spliceWithArray(f,d,O)},spliceWithArray:function(f,d,O){var R=this[J];return R.spliceWithArray(f,d,O)},push:function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var O=this[J];return O.spliceWithArray(O.values.length,0,f),O.values.length},pop:function(){return this.splice(Math.max(this[J].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var O=this[J];return O.spliceWithArray(0,0,f),O.values.length},reverse:function(){var f=this.slice();return f.reverse.apply(f,arguments)},sort:function(f){var d=this.slice();return d.sort.apply(d,arguments)},remove:function(f){var d=this[J],O=d.dehanceValues(d.values).indexOf(f);return O>-1?(this.splice(O,1),!0):!1},get:function(f){var d=this[J];if(d){if(f<d.values.length)return d.atom.reportObserved(),d.dehanceValue(d.values[f]);console.warn("[mobx.array] Attempt to read an array index ("+f+") that is out of bounds ("+d.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(f,d){var O=this[J],R=O.values;if(f<R.length){P(O.atom);var k=R[f];if(Qr(O)){var le=Gr(O,{type:"update",object:O.proxy,index:f,newValue:d});if(!le)return;d=le.newValue}d=O.enhancer(d,k);var be=d!==k;be&&(R[f]=d,O.notifyArrayChildUpdate(f,d,k))}else if(f===R.length)O.spliceWithArray(f,0,[d]);else throw new Error("[mobx.array] Index out of bounds, "+f+" is larger than "+R.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(f){typeof Array.prototype[f]=="function"&&(nn[f]=function(){var d=this[J];d.atom.reportObserved();var O=d.dehanceValues(d.values);return O[f].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(f){typeof Array.prototype[f]=="function"&&(nn[f]=function(d,O){var R=this,k=this[J];k.atom.reportObserved();var le=k.dehanceValues(k.values);return le[f](function(be,Ue){return d.call(O,be,Ue,R)},O)})}),["reduce","reduceRight"].forEach(function(f){nn[f]=function(){var d=this,O=this[J];O.atom.reportObserved();var R=arguments[0];return arguments[0]=function(k,le,be){return le=O.dehanceValue(le),R(k,le,be,d)},O.values[f].apply(O.values,arguments)}});var vo=pe("ObservableArrayAdministration",$n);function fr(f){return fe(f)&&vo(f[J])}var ni,Do={},oi=function(){function f(d,O,R){if(O===void 0&&(O=Re),R===void 0&&(R="ObservableMap@"+C()),this.enhancer=O,this.name=R,this[ni]=Do,this._keysAtom=Ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(d)}return f.prototype._has=function(d){return this._data.has(d)},f.prototype.has=function(d){var O=this;if(!it.trackingDerivation)return this._has(d);var R=this._hasMap.get(d);if(!R){var k=R=new Vr(this._has(d),Je,this.name+"."+ie(d)+"?",!1);this._hasMap.set(d,k),fn(k,function(){return O._hasMap.delete(d)})}return R.get()},f.prototype.set=function(d,O){var R=this._has(d);if(Qr(this)){var k=Gr(this,{type:R?"update":"add",object:this,newValue:O,name:d});if(!k)return this;O=k.newValue}return R?this._updateValue(d,O):this._addValue(d,O),this},f.prototype.delete=function(d){var O=this;if(P(this._keysAtom),Qr(this)){var R=Gr(this,{type:"delete",object:this,name:d});if(!R)return!1}if(this._has(d)){var k=br(),le=Lr(this),R=le||k?{type:"delete",object:this,oldValue:this._data.get(d).value,name:d}:null;return Jr(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(d,!1);var Ue=O._data.get(d);Ue.setNewValue(void 0),O._data.delete(d)}),le&&kr(this,R),!0}return!1},f.prototype._updateHasMapEntry=function(d,O){var R=this._hasMap.get(d);R&&R.setNewValue(O)},f.prototype._updateValue=function(d,O){var R=this._data.get(d);if(O=R.prepareNewValue(O),O!==it.UNCHANGED){var k=br(),le=Lr(this),be=le||k?{type:"update",object:this,oldValue:R.value,name:d,newValue:O}:null;R.setNewValue(O),le&&kr(this,be)}},f.prototype._addValue=function(d,O){var R=this;P(this._keysAtom),Jr(function(){var Ue=new Vr(O,R.enhancer,R.name+"."+ie(d),!1);R._data.set(d,Ue),O=Ue.value,R._updateHasMapEntry(d,!0),R._keysAtom.reportChanged()});var k=br(),le=Lr(this),be=le||k?{type:"add",object:this,name:d,newValue:O}:null;le&&kr(this,be)},f.prototype.get=function(d){return this.has(d)?this.dehanceValue(this._data.get(d).get()):this.dehanceValue(void 0)},f.prototype.dehanceValue=function(d){return this.dehancer!==void 0?this.dehancer(d):d},f.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},f.prototype.values=function(){var d=this,O=this.keys();return ht({next:function(){var R=O.next(),k=R.done,le=R.value;return{done:k,value:k?void 0:d.get(le)}}})},f.prototype.entries=function(){var d=this,O=this.keys();return ht({next:function(){var R=O.next(),k=R.done,le=R.value;return{done:k,value:k?void 0:[le,d.get(le)]}}})},f.prototype[ni=J,Symbol.iterator]=function(){return this.entries()},f.prototype.forEach=function(d,O){var R,k;try{for(var le=Fe(this),be=le.next();!be.done;be=le.next()){var Ue=Q(be.value,2),rt=Ue[0],Xt=Ue[1];d.call(O,Xt,rt,this)}}catch(Gt){R={error:Gt}}finally{try{be&&!be.done&&(k=le.return)&&k.call(le)}finally{if(R)throw R.error}}},f.prototype.merge=function(d){var O=this;return dr(d)&&(d=d.toJS()),Jr(function(){var R=xo(!0);try{te(d)?ne(d).forEach(function(k){return O.set(k,d[k])}):Array.isArray(d)?d.forEach(function(k){var le=Q(k,2),be=le[0],Ue=le[1];return O.set(be,Ue)}):ue(d)?(d.constructor!==Map&&I("Cannot initialize from classes that inherit from Map: "+d.constructor.name),d.forEach(function(k,le){return O.set(le,k)})):d!=null&&I("Cannot initialize map from "+d)}finally{sn(R)}}),this},f.prototype.clear=function(){var d=this;Jr(function(){tt(function(){var O,R;try{for(var k=Fe(d.keys()),le=k.next();!le.done;le=k.next()){var be=le.value;d.delete(be)}}catch(Ue){O={error:Ue}}finally{try{le&&!le.done&&(R=k.return)&&R.call(k)}finally{if(O)throw O.error}}})})},f.prototype.replace=function(d){var O=this;return Jr(function(){var R,k,le,be,Ue=Ae(d),rt=new Map,Xt=!1;try{for(var Gt=Fe(O._data.keys()),_t=Gt.next();!_t.done;_t=Gt.next()){var Jt=_t.value;if(!Ue.has(Jt)){var or=O.delete(Jt);if(or)Xt=!0;else{var xr=O._data.get(Jt);rt.set(Jt,xr)}}}}catch(Pa){R={error:Pa}}finally{try{_t&&!_t.done&&(k=Gt.return)&&k.call(Gt)}finally{if(R)throw R.error}}try{for(var Sr=Fe(Ue.entries()),Br=Sr.next();!Br.done;Br=Sr.next()){var jo=Q(Br.value,2),Jt=jo[0],xr=jo[1],xa=O._data.has(Jt);if(O.set(Jt,xr),O._data.has(Jt)){var Us=O._data.get(Jt);rt.set(Jt,Us),xa||(Xt=!0)}}}catch(Pa){le={error:Pa}}finally{try{Br&&!Br.done&&(be=Sr.return)&&be.call(Sr)}finally{if(le)throw le.error}}if(!Xt)if(O._data.size!==rt.size)O._keysAtom.reportChanged();else for(var nu=O._data.keys(),ou=rt.keys(),Sa=nu.next(),iu=ou.next();!Sa.done;){if(Sa.value!==iu.value){O._keysAtom.reportChanged();break}Sa=nu.next(),iu=ou.next()}O._data=rt}),this},Object.defineProperty(f.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),f.prototype.toPOJO=function(){var d,O,R={};try{for(var k=Fe(this),le=k.next();!le.done;le=k.next()){var be=Q(le.value,2),Ue=be[0],rt=be[1];R[typeof Ue=="symbol"?Ue:ie(Ue)]=rt}}catch(Xt){d={error:Xt}}finally{try{le&&!le.done&&(O=k.return)&&O.call(k)}finally{if(d)throw d.error}}return R},f.prototype.toJS=function(){return new Map(this)},f.prototype.toJSON=function(){return this.toPOJO()},f.prototype.toString=function(){var d=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return ie(O)+": "+(""+d.get(O))}).join(", ")+" }]"},f.prototype.observe=function(d,O){return ho(this,d)},f.prototype.intercept=function(d){return Xn(this,d)},f}(),dr=pe("ObservableMap",oi),Di,Ea={},Co=function(){function f(d,O,R){if(O===void 0&&(O=Re),R===void 0&&(R="ObservableSet@"+C()),this.name=R,this[Di]=Ea,this._data=new Set,this._atom=Ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(k,le){return O(k,le,R)},d&&this.replace(d)}return f.prototype.dehanceValue=function(d){return this.dehancer!==void 0?this.dehancer(d):d},f.prototype.clear=function(){var d=this;Jr(function(){tt(function(){var O,R;try{for(var k=Fe(d._data.values()),le=k.next();!le.done;le=k.next()){var be=le.value;d.delete(be)}}catch(Ue){O={error:Ue}}finally{try{le&&!le.done&&(R=k.return)&&R.call(k)}finally{if(O)throw O.error}}})})},f.prototype.forEach=function(d,O){var R,k;try{for(var le=Fe(this),be=le.next();!be.done;be=le.next()){var Ue=be.value;d.call(O,Ue,Ue,this)}}catch(rt){R={error:rt}}finally{try{be&&!be.done&&(k=le.return)&&k.call(le)}finally{if(R)throw R.error}}},Object.defineProperty(f.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),f.prototype.add=function(d){var O=this;if(P(this._atom),Qr(this)){var R=Gr(this,{type:"add",object:this,newValue:d});if(!R)return this}if(!this.has(d)){Jr(function(){O._data.add(O.enhancer(d,void 0)),O._atom.reportChanged()});var k=br(),le=Lr(this),R=le||k?{type:"add",object:this,newValue:d}:null;le&&kr(this,R)}return this},f.prototype.delete=function(d){var O=this;if(Qr(this)){var R=Gr(this,{type:"delete",object:this,oldValue:d});if(!R)return!1}if(this.has(d)){var k=br(),le=Lr(this),R=le||k?{type:"delete",object:this,oldValue:d}:null;return Jr(function(){O._atom.reportChanged(),O._data.delete(d)}),le&&kr(this,R),!0}return!1},f.prototype.has=function(d){return this._atom.reportObserved(),this._data.has(this.dehanceValue(d))},f.prototype.entries=function(){var d=0,O=Array.from(this.keys()),R=Array.from(this.values());return ht({next:function(){var k=d;return d+=1,k<R.length?{value:[O[k],R[k]],done:!1}:{done:!0}}})},f.prototype.keys=function(){return this.values()},f.prototype.values=function(){this._atom.reportObserved();var d=this,O=0,R=Array.from(this._data.values());return ht({next:function(){return O<R.length?{value:d.dehanceValue(R[O++]),done:!1}:{done:!0}}})},f.prototype.replace=function(d){var O=this;return p(d)&&(d=d.toJS()),Jr(function(){var R=xo(!0);try{Array.isArray(d)?(O.clear(),d.forEach(function(k){return O.add(k)})):H(d)?(O.clear(),d.forEach(function(k){return O.add(k)})):d!=null&&I("Cannot initialize set from "+d)}finally{sn(R)}}),this},f.prototype.observe=function(d,O){return ho(this,d)},f.prototype.intercept=function(d){return Xn(this,d)},f.prototype.toJS=function(){return new Set(this)},f.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},f.prototype[Di=J,Symbol.iterator]=function(){return this.values()},f}(),p=pe("ObservableSet",Co),s=function(){function f(d,O,R,k){O===void 0&&(O=new Map),this.target=d,this.values=O,this.name=R,this.defaultEnhancer=k,this.keysAtom=new ae(R+".keys")}return f.prototype.read=function(d){return this.values.get(d).get()},f.prototype.write=function(d,O){var R=this.target,k=this.values.get(d);if(k instanceof io){k.set(O);return}if(Qr(this)){var le=Gr(this,{type:"update",object:this.proxy||R,name:d,newValue:O});if(!le)return;O=le.newValue}if(O=k.prepareNewValue(O),O!==it.UNCHANGED){var be=Lr(this),Ue=br(),le=be||Ue?{type:"update",object:this.proxy||R,oldValue:k.value,name:d,newValue:O}:null;k.setNewValue(O),be&&kr(this,le)}},f.prototype.has=function(d){var O=this.pendingKeys||(this.pendingKeys=new Map),R=O.get(d);if(R)return R.get();var k=!!this.values.get(d);return R=new Vr(k,Je,this.name+"."+ie(d)+"?",!1),O.set(d,R),R.get()},f.prototype.addObservableProp=function(d,O,R){R===void 0&&(R=this.defaultEnhancer);var k=this.target;if(me(k,d),Qr(this)){var le=Gr(this,{object:this.proxy||k,name:d,type:"add",newValue:O});if(!le)return;O=le.newValue}var be=new Vr(O,R,this.name+"."+ie(d),!1);this.values.set(d,be),O=be.value,Object.defineProperty(k,d,b(d)),this.notifyPropertyAddition(d,O)},f.prototype.addComputedProp=function(d,O,R){var k=this.target;R.name=R.name||this.name+"."+ie(O),this.values.set(O,new io(R)),(d===k||ce(d,O))&&Object.defineProperty(d,O,j(O))},f.prototype.remove=function(d){if(!!this.values.has(d)){var O=this.target;if(Qr(this)){var R=Gr(this,{object:this.proxy||O,name:d,type:"remove"});if(!R)return}try{Zr();var k=Lr(this),le=br(),be=this.values.get(d),Ue=be&&be.get();if(be&&be.set(void 0),this.keysAtom.reportChanged(),this.values.delete(d),this.pendingKeys){var rt=this.pendingKeys.get(d);rt&&rt.set(!1)}delete this.target[d];var R=k||le?{type:"remove",object:this.proxy||O,oldValue:Ue,name:d}:null;k&&kr(this,R)}finally{en()}}},f.prototype.illegalAccess=function(d,O){console.warn("Property '"+O+"' of '"+d+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},f.prototype.observe=function(d,O){return ho(this,d)},f.prototype.intercept=function(d){return Xn(this,d)},f.prototype.notifyPropertyAddition=function(d,O){var R=Lr(this),k=br(),le=R||k?{type:"add",object:this.proxy||this.target,name:d,newValue:O}:null;if(R&&kr(this,le),this.pendingKeys){var be=this.pendingKeys.get(d);be&&be.set(!0)}this.keysAtom.reportChanged()},f.prototype.getKeys=function(){var d,O;this.keysAtom.reportObserved();var R=[];try{for(var k=Fe(this.values),le=k.next();!le.done;le=k.next()){var be=Q(le.value,2),Ue=be[0],rt=be[1];rt instanceof Vr&&R.push(Ue)}}catch(Xt){d={error:Xt}}finally{try{le&&!le.done&&(O=k.return)&&O.call(k)}finally{if(d)throw d.error}}return R},f}();function u(f,d,O){if(d===void 0&&(d=""),O===void 0&&(O=Re),Object.prototype.hasOwnProperty.call(f,J))return f[J];te(f)||(d=(f.constructor.name||"ObservableObject")+"@"+C()),d||(d="ObservableObject@"+C());var R=new s(f,new Map,ie(d),O);return ye(f,J,R),R}var v=Object.create(null),y=Object.create(null);function b(f){return v[f]||(v[f]={configurable:!0,enumerable:!0,get:function(){return this[J].read(f)},set:function(d){this[J].write(f,d)}})}function w(f){var d=f[J];return d||(at(f),f[J])}function j(f){return y[f]||(y[f]={configurable:it.computedConfigurable,enumerable:!1,get:function(){return w(this).read(f)},set:function(d){w(this).write(f,d)}})}var X=pe("ObservableObjectAdministration",s);function Y(f){return fe(f)?(at(f),X(f[J])):!1}function K(f,d){if(typeof f=="object"&&f!==null){if(fr(f))return d!==void 0&&I(!1),f[J].atom;if(p(f))return f[J];if(dr(f)){var O=f;if(d===void 0)return O._keysAtom;var R=O._data.get(d)||O._hasMap.get(d);return R||I(!1),R}if(at(f),d&&!f[J]&&f[d],Y(f)){if(!d)return I(!1);var R=f[J].values.get(d);return R||I(!1),R}if(we(f)||So(f)||tn(f))return f}else if(typeof f=="function"&&tn(f[J]))return f[J];return I(!1)}function xe(f,d){if(f||I("Expecting some object"),d!==void 0)return xe(K(f,d));if(we(f)||So(f)||tn(f)||dr(f)||p(f))return f;if(at(f),f[J])return f[J];I(!1)}function Ne(f,d){var O;return d!==void 0?O=K(f,d):Y(f)||dr(f)||p(f)?O=xe(f):O=K(f),O.name}var De=Object.prototype.toString;function Xe(f,d,O){return O===void 0&&(O=-1),yt(f,d,O)}function yt(f,d,O,R,k){if(f===d)return f!==0||1/f==1/d;if(f==null||d==null)return!1;if(f!==f)return d!==d;var le=typeof f;if(le!=="function"&&le!=="object"&&typeof d!="object")return!1;var be=De.call(f);if(be!==De.call(d))return!1;switch(be){case"[object RegExp]":case"[object String]":return""+f==""+d;case"[object Number]":return+f!=+f?+d!=+d:+f==0?1/+f==1/d:+f==+d;case"[object Date]":case"[object Boolean]":return+f==+d;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(f)===Symbol.valueOf.call(d);case"[object Map]":case"[object Set]":O>=0&&O++;break}f=bt(f),d=bt(d);var Ue=be==="[object Array]";if(!Ue){if(typeof f!="object"||typeof d!="object")return!1;var rt=f.constructor,Xt=d.constructor;if(rt!==Xt&&!(typeof rt=="function"&&rt instanceof rt&&typeof Xt=="function"&&Xt instanceof Xt)&&"constructor"in f&&"constructor"in d)return!1}if(O===0)return!1;O<0&&(O=-1),R=R||[],k=k||[];for(var Gt=R.length;Gt--;)if(R[Gt]===f)return k[Gt]===d;if(R.push(f),k.push(d),Ue){if(Gt=f.length,Gt!==d.length)return!1;for(;Gt--;)if(!yt(f[Gt],d[Gt],O-1,R,k))return!1}else{var _t=Object.keys(f),Jt=void 0;if(Gt=_t.length,Object.keys(d).length!==Gt)return!1;for(;Gt--;)if(Jt=_t[Gt],!(Et(d,Jt)&&yt(f[Jt],d[Jt],O-1,R,k)))return!1}return R.pop(),k.pop(),!0}function bt(f){return fr(f)?f.slice():ue(f)||dr(f)||H(f)||p(f)?Array.from(f.entries()):f}function Et(f,d){return Object.prototype.hasOwnProperty.call(f,d)}function ht(f){return f[Symbol.iterator]=Bt,f}function Bt(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch(f){var pr=Uo();typeof m=="undefined"&&(pr.process={}),pr.process.env={}}(function(){function f(){}if(f.name!=="testCodeMinification",!1)var d})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:On,extras:{getDebugName:Ne},$mobx:J})}).call(this,a(155),a(82))},function(E,M,a){"use strict";a.d(M,"a",function(){return ge}),a.d(M,"b",function(){return ye}),a.d(M,"c",function(){return ze}),a.d(M,"d",function(){return Fe}),a.d(M,"e",function(){return fe}),a.d(M,"f",function(){return Ae}),a.d(M,"g",function(){return fe}),a.d(M,"h",function(){return Be}),a.d(M,"i",function(){return h}),a.d(M,"j",function(){return Me}),a.d(M,"k",function(){return ne});var m,h,S,T,N,C,I,z,G={},Z=[],F=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _(Q,W){for(var se in W)Q[se]=W[se];return Q}function oe(Q){var W=Q.parentNode;W&&W.removeChild(Q)}function fe(Q,W,se){var Pe,Ve,Ee,ft={};for(Ee in W)Ee=="key"?Pe=W[Ee]:Ee=="ref"?Ve=W[Ee]:ft[Ee]=W[Ee];if(arguments.length>2&&(ft.children=arguments.length>3?m.call(arguments,2):se),typeof Q=="function"&&Q.defaultProps!=null)for(Ee in Q.defaultProps)ft[Ee]===void 0&&(ft[Ee]=Q.defaultProps[Ee]);return te(Q,ft,Pe,Ve,null)}function te(Q,W,se,Pe,Ve){var Ee={type:Q,props:W,key:se,ref:Pe,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ve==null?++S:Ve};return Ve==null&&h.vnode!=null&&h.vnode(Ee),Ee}function Ae(){return{current:null}}function ye(Q){return Q.children}function ge(Q,W){this.props=Q,this.context=W}function ce(Q,W){if(W==null)return Q.__?ce(Q.__,Q.__.__k.indexOf(Q)+1):null;for(var se;W<Q.__k.length;W++)if((se=Q.__k[W])!=null&&se.__e!=null)return se.__e;return typeof Q.type=="function"?ce(Q):null}function me(Q){var W,se;if((Q=Q.__)!=null&&Q.__c!=null){for(Q.__e=Q.__c.base=null,W=0;W<Q.__k.length;W++)if((se=Q.__k[W])!=null&&se.__e!=null){Q.__e=Q.__c.base=se.__e;break}return me(Q)}}function pe(Q){(!Q.__d&&(Q.__d=!0)&&N.push(Q)&&!he.__r++||I!==h.debounceRendering)&&((I=h.debounceRendering)||C)(he)}function he(){for(var Q;he.__r=N.length;)Q=N.sort(function(W,se){return W.__v.__b-se.__v.__b}),N=[],Q.some(function(W){var se,Pe,Ve,Ee,ft,at;W.__d&&(ft=(Ee=(se=W).__v).__e,(at=se.__P)&&(Pe=[],(Ve=_({},Ee)).__v=Ee.__v+1,Ce(at,Ee,Ve,se.__n,at.ownerSVGElement!==void 0,Ee.__h!=null?[ft]:null,Pe,ft==null?ce(Ee):ft,Ee.__h),Ge(Pe,Ee),Ee.__e!=ft&&me(Ee)))})}function ue(Q,W,se,Pe,Ve,Ee,ft,at,ot,pt){var Re,Pt,Je,ut,gt,At,It,Ct=Pe&&Pe.__k||Z,Ft=Ct.length;for(se.__k=[],Re=0;Re<W.length;Re++)if((ut=se.__k[Re]=(ut=W[Re])==null||typeof ut=="boolean"?null:typeof ut=="string"||typeof ut=="number"||typeof ut=="bigint"?te(null,ut,null,null,ut):Array.isArray(ut)?te(ye,{children:ut},null,null,null):ut.__b>0?te(ut.type,ut.props,ut.key,null,ut.__v):ut)!=null){if(ut.__=se,ut.__b=se.__b+1,(Je=Ct[Re])===null||Je&&ut.key==Je.key&&ut.type===Je.type)Ct[Re]=void 0;else for(Pt=0;Pt<Ft;Pt++){if((Je=Ct[Pt])&&ut.key==Je.key&&ut.type===Je.type){Ct[Pt]=void 0;break}Je=null}Ce(Q,ut,Je=Je||G,Ve,Ee,ft,at,ot,pt),gt=ut.__e,(Pt=ut.ref)&&Je.ref!=Pt&&(It||(It=[]),Je.ref&&It.push(Je.ref,null,ut),It.push(Pt,ut.__c||gt,ut)),gt!=null?(At==null&&(At=gt),typeof ut.type=="function"&&ut.__k===Je.__k?ut.__d=ot=H(ut,ot,Q):ot=ie(Q,ut,Je,Ct,gt,ot),typeof se.type=="function"&&(se.__d=ot)):ot&&Je.__e==ot&&ot.parentNode!=Q&&(ot=ce(Je))}for(se.__e=At,Re=Ft;Re--;)Ct[Re]!=null&&(typeof se.type=="function"&&Ct[Re].__e!=null&&Ct[Re].__e==se.__d&&(se.__d=ce(Pe,Re+1)),vt(Ct[Re],Ct[Re]));if(It)for(Re=0;Re<It.length;Re++)qe(It[Re],It[++Re],It[++Re])}function H(Q,W,se){for(var Pe,Ve=Q.__k,Ee=0;Ve&&Ee<Ve.length;Ee++)(Pe=Ve[Ee])&&(Pe.__=Q,W=typeof Pe.type=="function"?H(Pe,W,se):ie(se,Pe,Pe,Ve,Pe.__e,W));return W}function ne(Q,W){return W=W||[],Q==null||typeof Q=="boolean"||(Array.isArray(Q)?Q.some(function(se){ne(se,W)}):W.push(Q)),W}function ie(Q,W,se,Pe,Ve,Ee){var ft,at,ot;if(W.__d!==void 0)ft=W.__d,W.__d=void 0;else if(se==null||Ve!=Ee||Ve.parentNode==null)e:if(Ee==null||Ee.parentNode!==Q)Q.appendChild(Ve),ft=null;else{for(at=Ee,ot=0;(at=at.nextSibling)&&ot<Pe.length;ot+=2)if(at==Ve)break e;Q.insertBefore(Ve,Ee),ft=Ee}return ft!==void 0?ft:Ve.nextSibling}function de(Q,W,se,Pe,Ve){var Ee;for(Ee in se)Ee==="children"||Ee==="key"||Ee in W||J(Q,Ee,null,se[Ee],Pe);for(Ee in W)Ve&&typeof W[Ee]!="function"||Ee==="children"||Ee==="key"||Ee==="value"||Ee==="checked"||se[Ee]===W[Ee]||J(Q,Ee,W[Ee],se[Ee],Pe)}function re(Q,W,se){W[0]==="-"?Q.setProperty(W,se):Q[W]=se==null?"":typeof se!="number"||F.test(W)?se:se+"px"}function J(Q,W,se,Pe,Ve){var Ee;e:if(W==="style")if(typeof se=="string")Q.style.cssText=se;else{if(typeof Pe=="string"&&(Q.style.cssText=Pe=""),Pe)for(W in Pe)se&&W in se||re(Q.style,W,"");if(se)for(W in se)Pe&&se[W]===Pe[W]||re(Q.style,W,se[W])}else if(W[0]==="o"&&W[1]==="n")Ee=W!==(W=W.replace(/Capture$/,"")),W=W.toLowerCase()in Q?W.toLowerCase().slice(2):W.slice(2),Q.l||(Q.l={}),Q.l[W+Ee]=se,se?Pe||Q.addEventListener(W,Ee?we:ae,Ee):Q.removeEventListener(W,Ee?we:ae,Ee);else if(W!=="dangerouslySetInnerHTML"){if(Ve)W=W.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(W!=="href"&&W!=="list"&&W!=="form"&&W!=="tabIndex"&&W!=="download"&&W in Q)try{Q[W]=se==null?"":se;break e}catch(ft){}typeof se=="function"||(se!=null&&(se!==!1||W[0]==="a"&&W[1]==="r")?Q.setAttribute(W,se):Q.removeAttribute(W))}}function ae(Q){this.l[Q.type+!1](h.event?h.event(Q):Q)}function we(Q){this.l[Q.type+!0](h.event?h.event(Q):Q)}function Ce(Q,W,se,Pe,Ve,Ee,ft,at,ot){var pt,Re,Pt,Je,ut,gt,At,It,Ct,Ft,Qt,$t=W.type;if(W.constructor!==void 0)return null;se.__h!=null&&(ot=se.__h,at=W.__e=se.__e,W.__h=null,Ee=[at]),(pt=h.__b)&&pt(W);try{e:if(typeof $t=="function"){if(It=W.props,Ct=(pt=$t.contextType)&&Pe[pt.__c],Ft=pt?Ct?Ct.props.value:pt.__:Pe,se.__c?At=(Re=W.__c=se.__c).__=Re.__E:("prototype"in $t&&$t.prototype.render?W.__c=Re=new $t(It,Ft):(W.__c=Re=new ge(It,Ft),Re.constructor=$t,Re.render=ke),Ct&&Ct.sub(Re),Re.props=It,Re.state||(Re.state={}),Re.context=Ft,Re.__n=Pe,Pt=Re.__d=!0,Re.__h=[]),Re.__s==null&&(Re.__s=Re.state),$t.getDerivedStateFromProps!=null&&(Re.__s==Re.state&&(Re.__s=_({},Re.__s)),_(Re.__s,$t.getDerivedStateFromProps(It,Re.__s))),Je=Re.props,ut=Re.state,Pt)$t.getDerivedStateFromProps==null&&Re.componentWillMount!=null&&Re.componentWillMount(),Re.componentDidMount!=null&&Re.__h.push(Re.componentDidMount);else{if($t.getDerivedStateFromProps==null&&It!==Je&&Re.componentWillReceiveProps!=null&&Re.componentWillReceiveProps(It,Ft),!Re.__e&&Re.shouldComponentUpdate!=null&&Re.shouldComponentUpdate(It,Re.__s,Ft)===!1||W.__v===se.__v){Re.props=It,Re.state=Re.__s,W.__v!==se.__v&&(Re.__d=!1),Re.__v=W,W.__e=se.__e,W.__k=se.__k,W.__k.forEach(function(tr){tr&&(tr.__=W)}),Re.__h.length&&ft.push(Re);break e}Re.componentWillUpdate!=null&&Re.componentWillUpdate(It,Re.__s,Ft),Re.componentDidUpdate!=null&&Re.__h.push(function(){Re.componentDidUpdate(Je,ut,gt)})}Re.context=Ft,Re.props=It,Re.state=Re.__s,(pt=h.__r)&&pt(W),Re.__d=!1,Re.__v=W,Re.__P=Q,pt=Re.render(Re.props,Re.state,Re.context),Re.state=Re.__s,Re.getChildContext!=null&&(Pe=_(_({},Pe),Re.getChildContext())),Pt||Re.getSnapshotBeforeUpdate==null||(gt=Re.getSnapshotBeforeUpdate(Je,ut)),Qt=pt!=null&&pt.type===ye&&pt.key==null?pt.props.children:pt,ue(Q,Array.isArray(Qt)?Qt:[Qt],W,se,Pe,Ve,Ee,ft,at,ot),Re.base=W.__e,W.__h=null,Re.__h.length&&ft.push(Re),At&&(Re.__E=Re.__=null),Re.__e=!1}else Ee==null&&W.__v===se.__v?(W.__k=se.__k,W.__e=se.__e):W.__e=_e(se.__e,W,se,Pe,Ve,Ee,ft,ot);(pt=h.diffed)&&pt(W)}catch(tr){W.__v=null,(ot||Ee!=null)&&(W.__e=at,W.__h=!!ot,Ee[Ee.indexOf(at)]=null),h.__e(tr,W,se)}}function Ge(Q,W){h.__c&&h.__c(W,Q),Q.some(function(se){try{Q=se.__h,se.__h=[],Q.some(function(Pe){Pe.call(se)})}catch(Pe){h.__e(Pe,se.__v)}})}function _e(Q,W,se,Pe,Ve,Ee,ft,at){var ot,pt,Re,Pt=se.props,Je=W.props,ut=W.type,gt=0;if(ut==="svg"&&(Ve=!0),Ee!=null){for(;gt<Ee.length;gt++)if((ot=Ee[gt])&&"setAttribute"in ot==!!ut&&(ut?ot.localName===ut:ot.nodeType===3)){Q=ot,Ee[gt]=null;break}}if(Q==null){if(ut===null)return document.createTextNode(Je);Q=Ve?document.createElementNS("http://www.w3.org/2000/svg",ut):document.createElement(ut,Je.is&&Je),Ee=null,at=!1}if(ut===null)Pt===Je||at&&Q.data===Je||(Q.data=Je);else{if(Ee=Ee&&m.call(Q.childNodes),pt=(Pt=se.props||G).dangerouslySetInnerHTML,Re=Je.dangerouslySetInnerHTML,!at){if(Ee!=null)for(Pt={},gt=0;gt<Q.attributes.length;gt++)Pt[Q.attributes[gt].name]=Q.attributes[gt].value;(Re||pt)&&(Re&&(pt&&Re.__html==pt.__html||Re.__html===Q.innerHTML)||(Q.innerHTML=Re&&Re.__html||""))}if(de(Q,Je,Pt,Ve,at),Re)W.__k=[];else if(gt=W.props.children,ue(Q,Array.isArray(gt)?gt:[gt],W,se,Pe,Ve&&ut!=="foreignObject",Ee,ft,Ee?Ee[0]:se.__k&&ce(se,0),at),Ee!=null)for(gt=Ee.length;gt--;)Ee[gt]!=null&&oe(Ee[gt]);at||("value"in Je&&(gt=Je.value)!==void 0&&(gt!==Pt.value||gt!==Q.value||ut==="progress"&&!gt)&&J(Q,"value",gt,Pt.value,!1),"checked"in Je&&(gt=Je.checked)!==void 0&&gt!==Q.checked&&J(Q,"checked",gt,Pt.checked,!1))}return Q}function qe(Q,W,se){try{typeof Q=="function"?Q(W):Q.current=W}catch(Pe){h.__e(Pe,se)}}function vt(Q,W,se){var Pe,Ve;if(h.unmount&&h.unmount(Q),(Pe=Q.ref)&&(Pe.current&&Pe.current!==Q.__e||qe(Pe,null,W)),(Pe=Q.__c)!=null){if(Pe.componentWillUnmount)try{Pe.componentWillUnmount()}catch(Ee){h.__e(Ee,W)}Pe.base=Pe.__P=null}if(Pe=Q.__k)for(Ve=0;Ve<Pe.length;Ve++)Pe[Ve]&&vt(Pe[Ve],W,typeof Q.type!="function");se||Q.__e==null||oe(Q.__e),Q.__e=Q.__d=void 0}function ke(Q,W,se){return this.constructor(Q,se)}function Me(Q,W,se){var Pe,Ve,Ee;h.__&&h.__(Q,W),Ve=(Pe=typeof se=="function")?null:se&&se.__k||W.__k,Ee=[],Ce(W,Q=(!Pe&&se||W).__k=fe(ye,null,[Q]),Ve||G,G,W.ownerSVGElement!==void 0,!Pe&&se?[se]:Ve?null:W.firstChild?m.call(W.childNodes):null,Ee,!Pe&&se?se:Ve?Ve.__e:W.firstChild,Pe),Ge(Ee,Q)}function Be(Q,W){Me(Q,W,Be)}function ze(Q,W,se){var Pe,Ve,Ee,ft=_({},Q.props);for(Ee in W)Ee=="key"?Pe=W[Ee]:Ee=="ref"?Ve=W[Ee]:ft[Ee]=W[Ee];return arguments.length>2&&(ft.children=arguments.length>3?m.call(arguments,2):se),te(Q.type,ft,Pe||Q.key,Ve||Q.ref,null)}function Fe(Q,W){var se={__c:W="__cC"+z++,__:Q,Consumer:function(Pe,Ve){return Pe.children(Ve)},Provider:function(Pe){var Ve,Ee;return this.getChildContext||(Ve=[],(Ee={})[W]=this,this.getChildContext=function(){return Ee},this.shouldComponentUpdate=function(ft){this.props.value!==ft.value&&Ve.some(pe)},this.sub=function(ft){Ve.push(ft);var at=ft.componentWillUnmount;ft.componentWillUnmount=function(){Ve.splice(Ve.indexOf(ft),1),at&&at.call(ft)}}),Pe.children}};return se.Provider.__=se.Consumer.contextType=se}m=Z.slice,h={__e:function(Q,W){for(var se,Pe,Ve;W=W.__;)if((se=W.__c)&&!se.__)try{if((Pe=se.constructor)&&Pe.getDerivedStateFromError!=null&&(se.setState(Pe.getDerivedStateFromError(Q)),Ve=se.__d),se.componentDidCatch!=null&&(se.componentDidCatch(Q),Ve=se.__d),Ve)return se.__E=se}catch(Ee){Q=Ee}throw Q}},S=0,T=function(Q){return Q!=null&&Q.constructor===void 0},ge.prototype.setState=function(Q,W){var se;se=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_({},this.state),typeof Q=="function"&&(Q=Q(_({},se),this.props)),Q&&_(se,Q),Q!=null&&this.__v&&(W&&this.__h.push(W),pe(this))},ge.prototype.forceUpdate=function(Q){this.__v&&(this.__e=!0,Q&&this.__h.push(Q),pe(this))},ge.prototype.render=ye,N=[],C=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,he.__r=0,z=0},function(E,M,a){var m=a(116),h=a(44),S=a(178);m||h(Object.prototype,"toString",S,{unsafe:!0})},function(E,M,a){"use strict";var m=a(39),h=a(83),S=a(70),T=a(56),N=a(111),C="Array Iterator",I=T.set,z=T.getterFor(C);E.exports=N(Array,"Array",function(G,Z){I(this,{type:C,target:m(G),index:0,kind:Z})},function(){var G=z(this),Z=G.target,F=G.kind,_=G.index++;return!Z||_>=Z.length?(G.target=void 0,{value:void 0,done:!0}):F=="keys"?{value:_,done:!1}:F=="values"?{value:Z[_],done:!1}:{value:[_,Z[_]],done:!1}},"values"),S.Arguments=S.Array,h("keys"),h("values"),h("entries")},function(E,M,a){var m=a(7),h=a(147),S=a(148),T=a(3),N=a(57),C=a(27),I=C("iterator"),z=C("toStringTag"),G=T.values,Z=function(_,oe){if(_){if(_[I]!==G)try{N(_,I,G)}catch(te){_[I]=G}if(_[z]||N(_,z,oe),h[oe]){for(var fe in T)if(_[fe]!==T[fe])try{N(_,fe,T[fe])}catch(te){_[fe]=T[fe]}}}};for(var F in h)Z(m[F]&&m[F].prototype,F);Z(S,"DOMTokenList")},function(E,M,a){"use strict";var m=a(16),h=a(7),S=a(46),T=a(76),N=a(35),C=a(15),I=a(64),z=a(36),G=a(109),Z=a(18),F=a(34),_=a(99),oe=a(28),fe=a(33),te=a(58),Ae=a(88),ye=a(32),ge=a(38),ce=a(39),me=a(87),pe=a(40),he=a(71),ue=a(54),H=a(66),ne=a(72),ie=a(139),de=a(112),re=a(51),J=a(37),ae=a(93),we=a(101),Ce=a(44),Ge=a(84),_e=a(91),qe=a(69),vt=a(85),ke=a(27),Me=a(149),Be=a(150),ze=a(73),Fe=a(56),Q=a(74).forEach,W=_e("hidden"),se="Symbol",Pe="prototype",Ve=ke("toPrimitive"),Ee=Fe.set,ft=Fe.getterFor(se),at=Object[Pe],ot=h.Symbol,pt=ot&&ot[Pe],Re=h.TypeError,Pt=h.QObject,Je=S("JSON","stringify"),ut=re.f,gt=J.f,At=ie.f,It=ae.f,Ct=C([].push),Ft=Ge("symbols"),Qt=Ge("op-symbols"),$t=Ge("string-to-symbol-registry"),tr=Ge("symbol-to-string-registry"),ur=Ge("wks"),lr=!Pt||!Pt[Pe]||!Pt[Pe].findChild,rr=z&&Z(function(){return ue(gt({},"a",{get:function(){return gt(this,"a",{value:7}).a}})).a!=7})?function(U,P,A){var B=ut(at,P);B&&delete at[P],gt(U,P,A),B&&U!==at&&gt(at,P,B)}:gt,Lt=function(U,P){var A=Ft[U]=ue(pt);return Ee(A,{type:se,tag:U,description:P}),z||(A.description=P),A},jt=function(P,A,B){P===at&&jt(Qt,A,B),ye(P);var q=me(A);return ye(B),F(Ft,q)?(B.enumerable?(F(P,W)&&P[W][q]&&(P[W][q]=!1),B=ue(B,{enumerable:he(0,!1)})):(F(P,W)||gt(P,W,he(1,{})),P[W][q]=!0),rr(P,q,B)):gt(P,q,B)},Wt=function(P,A){ye(P);var B=ce(A),q=H(B).concat(xt(B));return Q(q,function(He){(!z||N(lt,B,He))&&jt(P,He,B[He])}),P},Qe=function(P,A){return A===void 0?ue(P):Wt(ue(P),A)},lt=function(P){var A=me(P),B=N(It,this,A);return this===at&&F(Ft,A)&&!F(Qt,A)?!1:B||!F(this,A)||!F(Ft,A)||F(this,W)&&this[W][A]?B:!0},Ke=function(P,A){var B=ce(P),q=me(A);if(!(B===at&&F(Ft,q)&&!F(Qt,q))){var He=ut(B,q);return He&&F(Ft,q)&&!(F(B,W)&&B[W][q])&&(He.enumerable=!0),He}},ct=function(P){var A=At(ce(P)),B=[];return Q(A,function(q){!F(Ft,q)&&!F(qe,q)&&Ct(B,q)}),B},xt=function(P){var A=P===at,B=At(A?Qt:ce(P)),q=[];return Q(B,function(He){F(Ft,He)&&(!A||F(at,He))&&Ct(q,Ft[He])}),q};if(G||(ot=function(){if(te(pt,this))throw Re("Symbol is not a constructor");var P=!arguments.length||arguments[0]===void 0?void 0:pe(arguments[0]),A=vt(P),B=function(q){this===at&&N(B,Qt,q),F(this,W)&&F(this[W],A)&&(this[W][A]=!1),rr(this,A,he(1,q))};return z&&lr&&rr(at,A,{configurable:!0,set:B}),Lt(A,P)},pt=ot[Pe],Ce(pt,"toString",function(){return ft(this).tag}),Ce(ot,"withoutSetter",function(U){return Lt(vt(U),U)}),ae.f=lt,J.f=jt,re.f=Ke,ne.f=ie.f=ct,de.f=xt,Me.f=function(U){return Lt(ke(U),U)},z&&(gt(pt,"description",{configurable:!0,get:function(){return ft(this).description}}),I||Ce(at,"propertyIsEnumerable",lt,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!G,sham:!G},{Symbol:ot}),Q(H(ur),function(U){Be(U)}),m({target:se,stat:!0,forced:!G},{for:function(U){var P=pe(U);if(F($t,P))return $t[P];var A=ot(P);return $t[P]=A,tr[A]=P,A},keyFor:function(P){if(!Ae(P))throw Re(P+" is not a symbol");if(F(tr,P))return tr[P]},useSetter:function(){lr=!0},useSimple:function(){lr=!1}}),m({target:"Object",stat:!0,forced:!G,sham:!z},{create:Qe,defineProperty:jt,defineProperties:Wt,getOwnPropertyDescriptor:Ke}),m({target:"Object",stat:!0,forced:!G},{getOwnPropertyNames:ct,getOwnPropertySymbols:xt}),m({target:"Object",stat:!0,forced:Z(function(){de.f(1)})},{getOwnPropertySymbols:function(P){return de.f(ge(P))}}),Je){var Nt=!G||Z(function(){var U=ot();return Je([U])!="[null]"||Je({a:U})!="{}"||Je(Object(U))!="{}"});m({target:"JSON",stat:!0,forced:Nt},{stringify:function(P,A,B){var q=we(arguments),He=A;if(!(!fe(A)&&P===void 0||Ae(P)))return _(A)||(A=function(Le,tt){if(oe(He)&&(tt=N(He,this,Le,tt)),!Ae(tt))return tt}),q[1]=A,T(Je,null,q)}})}if(!pt[Ve]){var V=pt.valueOf;Ce(pt,Ve,function(U){return N(V,this)})}ze(ot,se),qe[W]=!0},function(E,M,a){"use strict";var m=a(146).charAt,h=a(40),S=a(56),T=a(111),N="String Iterator",C=S.set,I=S.getterFor(N);T(String,"String",function(z){C(this,{type:N,string:h(z),index:0})},function(){var G=I(this),Z=G.string,F=G.index,_;return F>=Z.length?{value:void 0,done:!0}:(_=m(Z,F),G.index+=_.length,{value:_,done:!1})})},function(E,M,a){(function(m){var h=function(S){return S&&S.Math==Math&&S};E.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof m=="object"&&m)||function(){return this}()||Function("return this")()}).call(this,a(82))},function(E,M,a){"use strict";var m=a(16),h=a(36),S=a(7),T=a(15),N=a(34),C=a(28),I=a(58),z=a(40),G=a(37).f,Z=a(134),F=S.Symbol,_=F&&F.prototype;if(h&&C(F)&&(!("description"in _)||F().description!==void 0)){var oe={},fe=function(){var he=arguments.length<1||arguments[0]===void 0?void 0:z(arguments[0]),ue=I(_,this)?new F(he):he===void 0?F():F(he);return he===""&&(oe[ue]=!0),ue};Z(fe,F),fe.prototype=_,_.constructor=fe;var te=String(F("test"))=="Symbol(test)",Ae=T(_.toString),ye=T(_.valueOf),ge=/^Symbol\((.*)\)[^)]+$/,ce=T("".replace),me=T("".slice);G(_,"description",{configurable:!0,get:function(){var he=ye(this),ue=Ae(he);if(N(oe,he))return"";var H=te?me(ue,7,-1):ce(ue,ge,"$1");return H===""?void 0:H}}),m({global:!0,forced:!0},{Symbol:fe})}},function(E,M,a){var m=a(150);m("iterator")},function(E,M,a){"use strict";a.d(M,"a",function(){return m.a}),a.d(M,"c",function(){return m.e}),a.d(M,"h",function(){return me}),a.d(M,"i",function(){return te}),a.d(M,"j",function(){return oe}),a.d(M,"b",function(){return Ge}),a.d(M,"e",function(){return ke}),a.d(M,"f",function(){return _e}),a.d(M,"g",function(){return ct});var m=a(1),h,S,T,N=0,C=[],I=m.i.__b,z=m.i.__r,G=m.i.diffed,Z=m.i.__c,F=m.i.unmount;function _(P,A){m.i.__h&&m.i.__h(S,P,N||A),N=0;var B=S.__H||(S.__H={__:[],__h:[]});return P>=B.__.length&&B.__.push({}),B.__[P]}function oe(P){return N=1,fe(ae,P)}function fe(P,A,B){var q=_(h++,2);return q.t=P,q.__c||(q.__=[B?B(A):ae(void 0,A),function(He){var Le=q.t(q.__[0],He);q.__[0]!==Le&&(q.__=[Le,q.__[1]],q.__c.setState({}))}],q.__c=S),q.__}function te(P,A){var B=_(h++,3);!m.i.__s&&J(B.__H,A)&&(B.__=P,B.__H=A,S.__H.__h.push(B))}function Ae(P,A){var B=_(h++,4);!m.i.__s&&J(B.__H,A)&&(B.__=P,B.__H=A,S.__h.push(B))}function ye(P){return N=5,ce(function(){return{current:P}},[])}function ge(P,A,B){N=6,Ae(function(){typeof P=="function"?P(A()):P&&(P.current=A())},B==null?B:B.concat(P))}function ce(P,A){var B=_(h++,7);return J(B.__H,A)&&(B.__=P(),B.__H=A,B.__h=P),B.__}function me(P,A){return N=8,ce(function(){return P},A)}function pe(P){var A=S.context[P.__c],B=_(h++,9);return B.c=P,A?(B.__==null&&(B.__=!0,A.sub(S)),A.props.value):P.__}function he(P,A){m.i.useDebugValue&&m.i.useDebugValue(A?A(P):P)}function ue(P){var A=_(h++,10),B=oe();return A.__=P,S.componentDidCatch||(S.componentDidCatch=function(q){A.__&&A.__(q),B[1](q)}),[B[0],function(){B[1](void 0)}]}function H(){var P;for(C.sort(function(A,B){return A.__v.__b-B.__v.__b});P=C.pop();)if(P.__P)try{P.__H.__h.forEach(de),P.__H.__h.forEach(re),P.__H.__h=[]}catch(A){P.__H.__h=[],m.i.__e(A,P.__v)}}m.i.__b=function(P){S=null,I&&I(P)},m.i.__r=function(P){z&&z(P),h=0;var A=(S=P.__c).__H;A&&(A.__h.forEach(de),A.__h.forEach(re),A.__h=[])},m.i.diffed=function(P){G&&G(P);var A=P.__c;A&&A.__H&&A.__H.__h.length&&(C.push(A)!==1&&T===m.i.requestAnimationFrame||((T=m.i.requestAnimationFrame)||ie)(H)),S=null},m.i.__c=function(P,A){A.some(function(B){try{B.__h.forEach(de),B.__h=B.__h.filter(function(q){return!q.__||re(q)})}catch(q){A.some(function(He){He.__h&&(He.__h=[])}),A=[],m.i.__e(q,B.__v)}}),Z&&Z(P,A)},m.i.unmount=function(P){F&&F(P);var A,B=P.__c;B&&B.__H&&(B.__H.__.forEach(function(q){try{de(q)}catch(He){A=He}}),A&&m.i.__e(A,B.__v))};var ne=typeof requestAnimationFrame=="function";function ie(P){var A,B=function(){clearTimeout(q),ne&&cancelAnimationFrame(A),setTimeout(P)},q=setTimeout(B,100);ne&&(A=requestAnimationFrame(B))}function de(P){var A=S,B=P.__c;typeof B=="function"&&(P.__c=void 0,B()),S=A}function re(P){var A=S;P.__c=P.__(),S=A}function J(P,A){return!P||P.length!==A.length||A.some(function(B,q){return B!==P[q]})}function ae(P,A){return typeof A=="function"?A(P):A}function we(P,A){for(var B in A)P[B]=A[B];return P}function Ce(P,A){for(var B in P)if(B!=="__source"&&!(B in A))return!0;for(var q in A)if(q!=="__source"&&P[q]!==A[q])return!0;return!1}function Ge(P){this.props=P}function _e(P,A){function B(He){var Le=this.props.ref,tt=Le==He.ref;return!tt&&Le&&(Le.call?Le(null):Le.current=null),A?!A(this.props,He)||!tt:Ce(this.props,He)}function q(He){return this.shouldComponentUpdate=B,Object(m.e)(P,He)}return q.displayName="Memo("+(P.displayName||P.name)+")",q.prototype.isReactComponent=!0,q.__f=!0,q}(Ge.prototype=new m.a).isPureReactComponent=!0,Ge.prototype.shouldComponentUpdate=function(P,A){return Ce(this.props,P)||Ce(this.state,A)};var qe=m.i.__b;m.i.__b=function(P){P.type&&P.type.__f&&P.ref&&(P.props.ref=P.ref,P.ref=null),qe&&qe(P)};var vt=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ke(P){function A(B,q){var He=we({},B);return delete He.ref,P(He,!(q=B.ref||q)||typeof q=="object"&&!("current"in q)?null:q)}return A.$$typeof=vt,A.render=A,A.prototype.isReactComponent=A.__f=!0,A.displayName="ForwardRef("+(P.displayName||P.name)+")",A}var Me=function(P,A){return P==null?null:Object(m.k)(Object(m.k)(P).map(A))},Be={map:Me,forEach:Me,count:function(P){return P?Object(m.k)(P).length:0},only:function(P){var A=Object(m.k)(P);if(A.length!==1)throw"Children.only";return A[0]},toArray:m.k},ze=m.i.__e;m.i.__e=function(P,A,B){if(P.then){for(var q,He=A;He=He.__;)if((q=He.__c)&&q.__c)return A.__e==null&&(A.__e=B.__e,A.__k=B.__k),q.__c(P,A)}ze(P,A,B)};var Fe=m.i.unmount;function Q(P,A,B){return P&&(P.__c&&P.__c.__H&&(P.__c.__H.__.forEach(function(q){typeof q.__c=="function"&&q.__c()}),P.__c.__H=null),(P=we({},P)).__c!=null&&(P.__c.__P===B&&(P.__c.__P=A),P.__c=null),P.__k=P.__k&&P.__k.map(function(q){return Q(q,A,B)})),P}function W(P,A,B){return P&&(P.__v=null,P.__k=P.__k&&P.__k.map(function(q){return W(q,A,B)}),P.__c&&P.__c.__P===A&&(P.__e&&B.insertBefore(P.__e,P.__d),P.__c.__e=!0,P.__c.__P=B)),P}function se(){this.__u=0,this.t=null,this.__b=null}function Pe(P){var A=P.__.__c;return A&&A.__e&&A.__e(P)}function Ve(P){var A,B,q;function He(Le){if(A||(A=P()).then(function(tt){B=tt.default||tt},function(tt){q=tt}),q)throw q;if(!B)throw A;return Object(m.e)(B,Le)}return He.displayName="Lazy",He.__f=!0,He}function Ee(){this.u=null,this.o=null}m.i.unmount=function(P){var A=P.__c;A&&A.__R&&A.__R(),A&&P.__h===!0&&(P.type=null),Fe&&Fe(P)},(se.prototype=new m.a).__c=function(P,A){var B=A.__c,q=this;q.t==null&&(q.t=[]),q.t.push(B);var He=Pe(q.__v),Le=!1,tt=function(){Le||(Le=!0,B.__R=null,He?He(et):et())};B.__R=tt;var et=function(){if(!--q.__u){if(q.state.__e){var Ht=q.state.__e;q.__v.__k[0]=W(Ht,Ht.__c.__P,Ht.__c.__O)}var Mt;for(q.setState({__e:q.__b=null});Mt=q.t.pop();)Mt.forceUpdate()}},dt=A.__h===!0;q.__u++||dt||q.setState({__e:q.__b=q.__v.__k[0]}),P.then(tt,tt)},se.prototype.componentWillUnmount=function(){this.t=[]},se.prototype.render=function(P,A){if(this.__b){if(this.__v.__k){var B=document.createElement("div"),q=this.__v.__k[0].__c;this.__v.__k[0]=Q(this.__b,B,q.__O=q.__P)}this.__b=null}var He=A.__e&&Object(m.e)(m.b,null,P.fallback);return He&&(He.__h=null),[Object(m.e)(m.b,null,A.__e?null:P.children),He]};var ft=function(P,A,B){if(++B[1]===B[0]&&P.o.delete(A),P.props.revealOrder&&(P.props.revealOrder[0]!=="t"||!P.o.size))for(B=P.u;B;){for(;B.length>3;)B.pop()();if(B[1]<B[0])break;P.u=B=B[2]}};function at(P){return this.getChildContext=function(){return P.context},P.children}function ot(P){var A=this,B=P.i;A.componentWillUnmount=function(){Object(m.j)(null,A.l),A.l=null,A.i=null},A.i&&A.i!==B&&A.componentWillUnmount(),P.__v?(A.l||(A.i=B,A.l={nodeType:1,parentNode:B,childNodes:[],appendChild:function(q){this.childNodes.push(q),A.i.appendChild(q)},insertBefore:function(q,He){this.childNodes.push(q),A.i.appendChild(q)},removeChild:function(q){this.childNodes.splice(this.childNodes.indexOf(q)>>>1,1),A.i.removeChild(q)}}),Object(m.j)(Object(m.e)(at,{context:A.context},P.__v),A.l)):A.l&&A.componentWillUnmount()}function pt(P,A){return Object(m.e)(ot,{__v:P,i:A})}(Ee.prototype=new m.a).__e=function(P){var A=this,B=Pe(A.__v),q=A.o.get(P);return q[0]++,function(He){var Le=function(){A.props.revealOrder?(q.push(He),ft(A,P,q)):He()};B?B(Le):Le()}},Ee.prototype.render=function(P){this.u=null,this.o=new Map;var A=Object(m.k)(P.children);P.revealOrder&&P.revealOrder[0]==="b"&&A.reverse();for(var B=A.length;B--;)this.o.set(A[B],this.u=[1,0,this.u]);return P.children},Ee.prototype.componentDidUpdate=Ee.prototype.componentDidMount=function(){var P=this;this.o.forEach(function(A,B){ft(P,B,A)})};var Re=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Pt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Je=typeof document!="undefined",ut=function(P){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(P)};function gt(P,A,B){return A.__k==null&&(A.textContent=""),Object(m.j)(P,A),typeof B=="function"&&B(),P?P.__c:null}function At(P,A,B){return Object(m.h)(P,A),typeof B=="function"&&B(),P?P.__c:null}m.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(P){Object.defineProperty(m.a.prototype,P,{configurable:!0,get:function(){return this["UNSAFE_"+P]},set:function(A){Object.defineProperty(this,P,{configurable:!0,writable:!0,value:A})}})});var It=m.i.event;function Ct(){}function Ft(){return this.cancelBubble}function Qt(){return this.defaultPrevented}m.i.event=function(P){return It&&(P=It(P)),P.persist=Ct,P.isPropagationStopped=Ft,P.isDefaultPrevented=Qt,P.nativeEvent=P};var $t,tr={configurable:!0,get:function(){return this.class}},ur=m.i.vnode;m.i.vnode=function(P){var A=P.type,B=P.props,q=B;if(typeof A=="string"){var He=A.indexOf("-")===-1;for(var Le in q={},B){var tt=B[Le];Je&&Le==="children"&&A==="noscript"||Le==="value"&&"defaultValue"in B&&tt==null||(Le==="defaultValue"&&"value"in B&&B.value==null?Le="value":Le==="download"&&tt===!0?tt="":/ondoubleclick/i.test(Le)?Le="ondblclick":/^onchange(textarea|input)/i.test(Le+A)&&!ut(B.type)?Le="oninput":/^onfocus$/i.test(Le)?Le="onfocusin":/^onblur$/i.test(Le)?Le="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Le)?Le=Le.toLowerCase():He&&Pt.test(Le)?Le=Le.replace(/[A-Z0-9]/,"-$&").toLowerCase():tt===null&&(tt=void 0),q[Le]=tt)}A=="select"&&q.multiple&&Array.isArray(q.value)&&(q.value=Object(m.k)(B.children).forEach(function(et){et.props.selected=q.value.indexOf(et.props.value)!=-1})),A=="select"&&q.defaultValue!=null&&(q.value=Object(m.k)(B.children).forEach(function(et){et.props.selected=q.multiple?q.defaultValue.indexOf(et.props.value)!=-1:q.defaultValue==et.props.value})),P.props=q,B.class!=B.className&&(tr.enumerable="className"in B,B.className!=null&&(q.class=B.className),Object.defineProperty(q,"className",tr))}P.$$typeof=Re,ur&&ur(P)};var lr=m.i.__r;m.i.__r=function(P){lr&&lr(P),$t=P.__c};var rr={ReactCurrentDispatcher:{current:{readContext:function(P){return $t.__n[P.__c].props.value}}}},Lt="17.0.2";function jt(P){return m.e.bind(null,P)}function Wt(P){return!!P&&P.$$typeof===Re}function Qe(P){return Wt(P)?m.c.apply(null,arguments):P}function lt(P){return!!P.__k&&(Object(m.j)(null,P),!0)}function Ke(P){return P&&(P.base||P.nodeType===1&&P)||null}var ct=function(P,A){return P(A)},xt=function(P,A){return P(A)},Nt=m.b,V={useState:oe,useReducer:fe,useEffect:te,useLayoutEffect:Ae,useRef:ye,useImperativeHandle:ge,useMemo:ce,useCallback:me,useContext:pe,useDebugValue:he,version:"17.0.2",Children:Be,render:gt,hydrate:At,unmountComponentAtNode:lt,createPortal:pt,createElement:m.e,createContext:m.d,createFactory:jt,cloneElement:Qe,createRef:m.f,Fragment:m.b,isValidElement:Wt,findDOMNode:Ke,Component:m.a,PureComponent:Ge,memo:_e,forwardRef:ke,flushSync:xt,unstable_batchedUpdates:ct,StrictMode:Nt,Suspense:se,SuspenseList:Ee,lazy:Ve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rr},U=M.d=V},function(E,M,a){var m=a(7),h=a(147),S=a(148),T=a(179),N=a(57),C=function(z){if(z&&z.forEach!==T)try{N(z,"forEach",T)}catch(G){z.forEach=T}};for(var I in h)h[I]&&C(m[I]&&m[I].prototype);C(S)},function(E,M,a){var m=a(16),h=a(97);m({target:"Object",stat:!0},{setPrototypeOf:h})},function(E,M,a){var m=a(16),h=a(18),S=a(38),T=a(96),N=a(137),C=h(function(){T(1)});m({target:"Object",stat:!0,forced:C,sham:!N},{getPrototypeOf:function(z){return T(S(z))}})},function(E,M,a){var m=a(16),h=a(46),S=a(76),T=a(199),N=a(157),C=a(32),I=a(33),z=a(54),G=a(18),Z=h("Reflect","construct"),F=Object.prototype,_=[].push,oe=G(function(){function Ae(){}return!(Z(function(){},[],Ae)instanceof Ae)}),fe=!G(function(){Z(function(){})}),te=oe||fe;m({target:"Reflect",stat:!0,forced:te,sham:te},{construct:function(ye,ge){N(ye),C(ge);var ce=arguments.length<3?ye:N(arguments[2]);if(fe&&!oe)return Z(ye,ge,ce);if(ye==ce){switch(ge.length){case 0:return new ye;case 1:return new ye(ge[0]);case 2:return new ye(ge[0],ge[1]);case 3:return new ye(ge[0],ge[1],ge[2]);case 4:return new ye(ge[0],ge[1],ge[2],ge[3])}var me=[null];return S(_,me,ge),new(S(T,ye,me))}var pe=ce.prototype,he=z(I(pe)?pe:F),ue=S(ye,he,ge);return I(ue)?ue:he}})},function(E,M){var a=Function.prototype,m=a.bind,h=a.call,S=m&&m.bind(h);E.exports=m?function(T){return T&&S(h,T)}:function(T){return T&&function(){return h.apply(T,arguments)}}},function(E,M,a){var m=a(7),h=a(51).f,S=a(57),T=a(44),N=a(108),C=a(134),I=a(95);E.exports=function(z,G){var Z=z.target,F=z.global,_=z.stat,oe,fe,te,Ae,ye,ge;if(F?fe=m:_?fe=m[Z]||N(Z,{}):fe=(m[Z]||{}).prototype,fe)for(te in G){if(ye=G[te],z.noTargetGet?(ge=h(fe,te),Ae=ge&&ge.value):Ae=fe[te],oe=I(F?te:Z+(_?".":"#")+te,z.forced),!oe&&Ae!==void 0){if(typeof ye==typeof Ae)continue;C(ye,Ae)}(z.sham||Ae&&Ae.sham)&&S(ye,"sham",!0),T(fe,te,ye,z)}}},function(E,M,a){"use strict";var m=a(16),h=a(7),S=a(99),T=a(100),N=a(33),C=a(67),I=a(43),z=a(39),G=a(61),Z=a(27),F=a(75),_=a(101),oe=F("slice"),fe=Z("species"),te=h.Array,Ae=Math.max;m({target:"Array",proto:!0,forced:!oe},{slice:function(ge,ce){var me=z(this),pe=I(me),he=C(ge,pe),ue=C(ce===void 0?pe:ce,pe),H,ne,ie;if(S(me)&&(H=me.constructor,T(H)&&(H===te||S(H.prototype))?H=void 0:N(H)&&(H=H[fe],H===null&&(H=void 0)),H===te||H===void 0))return _(me,he,ue);for(ne=new(H===void 0?te:H)(Ae(ue-he,0)),ie=0;he<ue;he++,ie++)he in me&&G(ne,ie,me[he]);return ne.length=ie,ne}})},function(E,M){E.exports=function(a){try{return!!a()}catch(m){return!0}}},function(E,M,a){"use strict";var m=a(16),h=a(102);m({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(E,M,a){var m=a(16),h=a(38),S=a(66),T=a(18),N=T(function(){S(1)});m({target:"Object",stat:!0,forced:N},{keys:function(I){return S(h(I))}})},function(E,M,a){var m=a(16),h=a(18),S=a(39),T=a(51).f,N=a(36),C=h(function(){T(1)}),I=!N||C;m({target:"Object",stat:!0,forced:I,sham:!N},{getOwnPropertyDescriptor:function(G,Z){return T(S(G),Z)}})},function(E,M,a){"use strict";var m=a(16),h=a(74).filter,S=a(75),T=S("filter");m({target:"Array",proto:!0,forced:!T},{filter:function(C){return h(this,C,arguments.length>1?arguments[1]:void 0)}})},function(E,M,a){var m=a(16),h=a(36),S=a(135),T=a(39),N=a(51),C=a(61);m({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(z){for(var G=T(z),Z=N.f,F=S(G),_={},oe=0,fe,te;F.length>oe;)te=Z(G,fe=F[oe++]),te!==void 0&&C(_,fe,te);return _}})},function(E,M,a){var m=a(36),h=a(94).EXISTS,S=a(15),T=a(37).f,N=Function.prototype,C=S(N.toString),I=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,z=S(I.exec),G="name";m&&!h&&T(N,G,{configurable:!0,get:function(){try{return z(I,C(this))[1]}catch(Z){return""}}})},function(E,M,a){var m=a(16),h=a(182),S=a(118),T=!S(function(N){Array.from(N)});m({target:"Array",stat:!0,forced:T},{from:h})},,function(E,M,a){var m=a(7),h=a(84),S=a(34),T=a(85),N=a(109),C=a(128),I=h("wks"),z=m.Symbol,G=z&&z.for,Z=C?z:z&&z.withoutSetter||T;E.exports=function(F){if(!S(I,F)||!(N||typeof I[F]=="string")){var _="Symbol."+F;N&&S(z,F)?I[F]=z[F]:C&&G?I[F]=G(_):I[F]=Z(_)}return I[F]}},function(E,M){E.exports=function(a){return typeof a=="function"}},function(E,M,a){"use strict";var m=a(16),h=a(7),S=a(18),T=a(99),N=a(33),C=a(38),I=a(43),z=a(61),G=a(119),Z=a(75),F=a(27),_=a(65),oe=F("isConcatSpreadable"),fe=9007199254740991,te="Maximum allowed index exceeded",Ae=h.TypeError,ye=_>=51||!S(function(){var pe=[];return pe[oe]=!1,pe.concat()[0]!==pe}),ge=Z("concat"),ce=function(pe){if(!N(pe))return!1;var he=pe[oe];return he!==void 0?!!he:T(pe)},me=!ye||!ge;m({target:"Array",proto:!0,forced:me},{concat:function(he){var ue=C(this),H=G(ue,0),ne=0,ie,de,re,J,ae;for(ie=-1,re=arguments.length;ie<re;ie++)if(ae=ie===-1?ue:arguments[ie],ce(ae)){if(J=I(ae),ne+J>fe)throw Ae(te);for(de=0;de<J;de++,ne++)de in ae&&z(H,ne,ae[de])}else{if(ne>=fe)throw Ae(te);z(H,ne++,ae)}return H.length=ne,H}})},function(E,M,a){var m=a(16),h=a(198);m({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(E,M,a){"use strict";var m=a(105),h=typeof self=="object"&&self&&self.Object===Object&&self,S=m.a||h||Function("return this")();M.a=S},function(E,M,a){var m=a(7),h=a(33),S=m.String,T=m.TypeError;E.exports=function(N){if(h(N))return N;throw T(S(N)+" is not an object")}},function(E,M,a){var m=a(28);E.exports=function(h){return typeof h=="object"?h!==null:m(h)}},function(E,M,a){var m=a(15),h=a(38),S=m({}.hasOwnProperty);E.exports=Object.hasOwn||function(N,C){return S(h(N),C)}},function(E,M){var a=Function.prototype.call;E.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(E,M,a){var m=a(18);E.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(E,M,a){var m=a(7),h=a(36),S=a(129),T=a(32),N=a(87),C=m.TypeError,I=Object.defineProperty;M.f=h?I:function(G,Z,F){if(T(G),Z=N(Z),T(F),S)try{return I(G,Z,F)}catch(_){}if("get"in F||"set"in F)throw C("Accessors not supported");return"value"in F&&(G[Z]=F.value),G}},function(E,M,a){var m=a(7),h=a(45),S=m.Object;E.exports=function(T){return S(h(T))}},function(E,M,a){var m=a(81),h=a(45);E.exports=function(S){return m(h(S))}},function(E,M,a){var m=a(7),h=a(98),S=m.String;E.exports=function(T){if(h(T)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return S(T)}},function(E,M,a){"use strict";var m=a(16),h=a(74).map,S=a(75),T=S("map");m({target:"Array",proto:!0,forced:!T},{map:function(C){return h(this,C,arguments.length>1?arguments[1]:void 0)}})},function(E,M,a){"use strict";(function(m){a.d(M,"d",function(){return C}),a.d(M,"c",function(){return I}),a.d(M,"b",function(){return z}),a.d(M,"a",function(){return Z});var h=a(10),S=function(F,_){var oe=typeof Symbol=="function"&&F[Symbol.iterator];if(!oe)return F;var fe=oe.call(F),te,Ae=[],ye;try{for(;(_===void 0||_-- >0)&&!(te=fe.next()).done;)Ae.push(te.value)}catch(ge){ye={error:ge}}finally{try{te&&!te.done&&(oe=fe.return)&&oe.call(fe)}finally{if(ye)throw ye.error}}return Ae},T=[];function N(F){Object(h.i)(function(){return F},T)}function C(){var F=S(Object(h.j)(0),2),_=F[1],oe=Object(h.h)(function(){_(function(fe){return fe+1})},[]);return oe}function I(F){if(!F||typeof F!="object")return!1;var _=Object.getPrototypeOf(F);return!_||_===Object.prototype}function z(F){return typeof Symbol=="function"?Symbol.for(F):"__$mobx-react "+F+"__"}var G={};function Z(){return typeof window!="undefined"?window:typeof m!="undefined"?m:typeof self!="undefined"?self:G}}).call(this,a(82))},function(E,M,a){var m=a(90);E.exports=function(h){return m(h.length)}},function(E,M,a){var m=a(7),h=a(28),S=a(34),T=a(57),N=a(108),C=a(92),I=a(56),z=a(94).CONFIGURABLE,G=I.get,Z=I.enforce,F=String(String).split("String");(E.exports=function(_,oe,fe,te){var Ae=te?!!te.unsafe:!1,ye=te?!!te.enumerable:!1,ge=te?!!te.noTargetGet:!1,ce=te&&te.name!==void 0?te.name:oe,me;if(h(fe)&&(String(ce).slice(0,7)==="Symbol("&&(ce="["+String(ce).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!S(fe,"name")||z&&fe.name!==ce)&&T(fe,"name",ce),me=Z(fe),me.source||(me.source=F.join(typeof ce=="string"?ce:""))),_===m){ye?_[oe]=fe:N(oe,fe);return}else Ae?!ge&&_[oe]&&(ye=!0):delete _[oe];ye?_[oe]=fe:T(_,oe,fe)})(Function.prototype,"toString",function(){return h(this)&&G(this).source||C(this)})},function(E,M,a){var m=a(7),h=m.TypeError;E.exports=function(S){if(S==null)throw h("Can't call method on "+S);return S}},function(E,M,a){var m=a(7),h=a(28),S=function(T){return h(T)?T:void 0};E.exports=function(T,N){return arguments.length<2?S(m[T]):m[T]&&m[T][N]}},function(E,M,a){var m=a(16),h=a(35),S=a(33),T=a(32),N=a(200),C=a(51),I=a(96);function z(G,Z){var F=arguments.length<3?G:arguments[2],_,oe;if(T(G)===F)return G[Z];if(_=C.f(G,Z),_)return N(_)?_.value:_.get===void 0?void 0:h(_.get,F);if(S(oe=I(G)))return z(oe,Z,F)}m({target:"Reflect",stat:!0},{get:z})},function(E,M,a){"use strict";(function(m){var h=a(31),S=a(165),T=St&&!St.nodeType&&St,N=T&&typeof m=="object"&&m&&!m.nodeType&&m,C=N&&N.exports===T,I=C?h.a.Buffer:void 0,z=I?I.isBuffer:void 0,G=z||S.a;M.a=G}).call(this,a(121)(E))},function(E,M,a){"use strict";(function(m){var h=a(105),S=St&&!St.nodeType&&St,T=S&&typeof m=="object"&&m&&!m.nodeType&&m,N=T&&T.exports===S,C=N&&h.a.process,I=function(){try{var z=T&&T.require&&T.require("util").types;return z||C&&C.binding&&C.binding("util")}catch(G){}}();M.a=I}).call(this,a(121)(E))},function(E,M,a){var m=a(15),h=m({}.toString),S=m("".slice);E.exports=function(T){return S(h(T),8,-1)}},function(E,M,a){var m=a(36),h=a(35),S=a(93),T=a(71),N=a(39),C=a(87),I=a(34),z=a(129),G=Object.getOwnPropertyDescriptor;M.f=m?G:function(F,_){if(F=N(F),_=C(_),z)try{return G(F,_)}catch(oe){}if(I(F,_))return T(!h(S.f,F,_),F[_])}},function(E,M,a){var m=a(16),h=a(213).entries;m({target:"Object",stat:!0},{entries:function(T){return h(T)}})},function(E,M,a){var m=a(46);E.exports=m("navigator","userAgent")||""},function(E,M,a){var m=a(32),h=a(168),S=a(110),T=a(69),N=a(133),C=a(86),I=a(91),z=">",G="<",Z="prototype",F="script",_=I("IE_PROTO"),oe=function(){},fe=function(ce){return G+F+z+ce+G+"/"+F+z},te=function(ce){ce.write(fe("")),ce.close();var me=ce.parentWindow.Object;return ce=null,me},Ae=function(){var ce=C("iframe"),me="java"+F+":",pe;return ce.style.display="none",N.appendChild(ce),ce.src=String(me),pe=ce.contentWindow.document,pe.open(),pe.write(fe("document.F=Object")),pe.close(),pe.F},ye,ge=function(){try{ye=new ActiveXObject("htmlfile")}catch(me){}ge=typeof document!="undefined"?document.domain&&ye?te(ye):Ae():te(ye);for(var ce=S.length;ce--;)delete ge[Z][S[ce]];return ge()};T[_]=!0,E.exports=Object.create||function(me,pe){var he;return me!==null?(oe[Z]=m(me),he=new oe,oe[Z]=null,he[_]=me):he=ge(),pe===void 0?he:h(he,pe)}},function(E,M,a){var m=a(7),h=a(28),S=a(89),T=m.TypeError;E.exports=function(N){if(h(N))return N;throw T(S(N)+" is not a function")}},function(E,M,a){var m=a(170),h=a(7),S=a(15),T=a(33),N=a(57),C=a(34),I=a(107),z=a(91),G=a(69),Z="Object already initialized",F=h.TypeError,_=h.WeakMap,oe,fe,te,Ae=function(ue){return te(ue)?fe(ue):oe(ue,{})},ye=function(ue){return function(H){var ne;if(!T(H)||(ne=fe(H)).type!==ue)throw F("Incompatible receiver, "+ue+" required");return ne}};if(m||I.state){var ge=I.state||(I.state=new _),ce=S(ge.get),me=S(ge.has),pe=S(ge.set);oe=function(ue,H){if(me(ge,ue))throw new F(Z);return H.facade=ue,pe(ge,ue,H),H},fe=function(ue){return ce(ge,ue)||{}},te=function(ue){return me(ge,ue)}}else{var he=z("state");G[he]=!0,oe=function(ue,H){if(C(ue,he))throw new F(Z);return H.facade=ue,N(ue,he,H),H},fe=function(ue){return C(ue,he)?ue[he]:{}},te=function(ue){return C(ue,he)}}E.exports={set:oe,get:fe,has:te,enforce:Ae,getterFor:ye}},function(E,M,a){var m=a(36),h=a(37),S=a(71);E.exports=m?function(T,N,C){return h.f(T,N,S(1,C))}:function(T,N,C){return T[N]=C,T}},function(E,M,a){var m=a(15);E.exports=m({}.isPrototypeOf)},function(E,M,a){var m=a(55);E.exports=function(h,S){var T=h[S];return T==null?void 0:m(T)}},function(E,M,a){"use strict";var m=a(173),h=a(177);m("Map",function(S){return function(){return S(this,arguments.length?arguments[0]:void 0)}},h)},function(E,M,a){"use strict";var m=a(87),h=a(37),S=a(71);E.exports=function(T,N,C){var I=m(N);I in T?h.f(T,I,S(0,C)):T[I]=C}},function(E,M,a){var m=a(15),h=a(55),S=m(m.bind);E.exports=function(T,N){return h(T),N===void 0?T:S?S(T,N):function(){return T.apply(N,arguments)}}},function(E,M,a){var m=a(16),h=a(214),S=a(83);m({target:"Array",proto:!0},{fill:h}),S("fill")},function(E,M){E.exports=!1},function(E,M,a){var m=a(7),h=a(53),S=m.process,T=m.Deno,N=S&&S.versions||T&&T.version,C=N&&N.v8,I,z;C&&(I=C.split("."),z=I[0]>0&&I[0]<4?1:+(I[0]+I[1])),!z&&h&&(I=h.match(/Edge\/(\d+)/),(!I||I[1]>=74)&&(I=h.match(/Chrome\/(\d+)/),I&&(z=+I[1]))),E.exports=z},function(E,M,a){var m=a(131),h=a(110);E.exports=Object.keys||function(T){return m(T,h)}},function(E,M,a){var m=a(68),h=Math.max,S=Math.min;E.exports=function(T,N){var C=m(T);return C<0?h(C+N,0):S(C,N)}},function(E,M){var a=Math.ceil,m=Math.floor;E.exports=function(h){var S=+h;return S!==S||S===0?0:(S>0?m:a)(S)}},function(E,M){E.exports={}},function(E,M){E.exports={}},function(E,M){E.exports=function(a,m){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:m}}},function(E,M,a){var m=a(131),h=a(110),S=h.concat("length","prototype");M.f=Object.getOwnPropertyNames||function(N){return m(N,S)}},function(E,M,a){var m=a(37).f,h=a(34),S=a(27),T=S("toStringTag");E.exports=function(N,C,I){N&&!h(N=I?N:N.prototype,T)&&m(N,T,{configurable:!0,value:C})}},function(E,M,a){var m=a(62),h=a(15),S=a(81),T=a(38),N=a(43),C=a(119),I=h([].push),z=function(G){var Z=G==1,F=G==2,_=G==3,oe=G==4,fe=G==6,te=G==7,Ae=G==5||fe;return function(ye,ge,ce,me){for(var pe=T(ye),he=S(pe),ue=m(ge,ce),H=N(he),ne=0,ie=me||C,de=Z?ie(ye,H):F||te?ie(ye,0):void 0,re,J;H>ne;ne++)if((Ae||ne in he)&&(re=he[ne],J=ue(re,ne,pe),G))if(Z)de[ne]=J;else if(J)switch(G){case 3:return!0;case 5:return re;case 6:return ne;case 2:I(de,re)}else switch(G){case 4:return!1;case 7:I(de,re)}return fe?-1:_||oe?oe:de}};E.exports={forEach:z(0),map:z(1),filter:z(2),some:z(3),every:z(4),find:z(5),findIndex:z(6),filterReject:z(7)}},function(E,M,a){var m=a(18),h=a(27),S=a(65),T=h("species");E.exports=function(N){return S>=51||!m(function(){var C=[],I=C.constructor={};return I[T]=function(){return{foo:1}},C[N](Boolean).foo!==1})}},function(E,M){var a=Function.prototype,m=a.apply,h=a.bind,S=a.call;E.exports=typeof Reflect=="object"&&Reflect.apply||(h?S.bind(m):function(){return S.apply(m,arguments)})},function(E,M,a){"use strict";var m=a(16),h=a(15),S=a(81),T=a(39),N=a(120),C=h([].join),I=S!=Object,z=N("join",",");m({target:"Array",proto:!0,forced:I||!z},{join:function(Z){return C(T(this),Z===void 0?",":Z)}})},function(E,M,a){"use strict";var m=a(76),h=a(35),S=a(15),T=a(122),N=a(154),C=a(32),I=a(45),z=a(156),G=a(123),Z=a(90),F=a(40),_=a(59),oe=a(113),fe=a(124),te=a(102),Ae=a(151),ye=a(18),ge=Ae.UNSUPPORTED_Y,ce=4294967295,me=Math.min,pe=[].push,he=S(/./.exec),ue=S(pe),H=S("".slice),ne=!ye(function(){var ie=/(?:)/,de=ie.exec;ie.exec=function(){return de.apply(this,arguments)};var re="ab".split(ie);return re.length!==2||re[0]!=="a"||re[1]!=="b"});T("split",function(ie,de,re){var J;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?J=function(ae,we){var Ce=F(I(this)),Ge=we===void 0?ce:we>>>0;if(Ge===0)return[];if(ae===void 0)return[Ce];if(!N(ae))return h(de,Ce,ae,Ge);for(var _e=[],qe=(ae.ignoreCase?"i":"")+(ae.multiline?"m":"")+(ae.unicode?"u":"")+(ae.sticky?"y":""),vt=0,ke=new RegExp(ae.source,qe+"g"),Me,Be,ze;(Me=h(te,ke,Ce))&&(Be=ke.lastIndex,!(Be>vt&&(ue(_e,H(Ce,vt,Me.index)),Me.length>1&&Me.index<Ce.length&&m(pe,_e,oe(Me,1)),ze=Me[0].length,vt=Be,_e.length>=Ge)));)ke.lastIndex===Me.index&&ke.lastIndex++;return vt===Ce.length?(ze||!he(ke,""))&&ue(_e,""):ue(_e,H(Ce,vt)),_e.length>Ge?oe(_e,0,Ge):_e}:"0".split(void 0,0).length?J=function(ae,we){return ae===void 0&&we===0?[]:h(de,this,ae,we)}:J=de,[function(we,Ce){var Ge=I(this),_e=we==null?void 0:_(we,ie);return _e?h(_e,we,Ge,Ce):h(J,F(Ge),we,Ce)},function(ae,we){var Ce=C(this),Ge=F(ae),_e=re(J,Ce,Ge,we,J!==de);if(_e.done)return _e.value;var qe=z(Ce,RegExp),vt=Ce.unicode,ke=(Ce.ignoreCase?"i":"")+(Ce.multiline?"m":"")+(Ce.unicode?"u":"")+(ge?"g":"y"),Me=new qe(ge?"^(?:"+Ce.source+")":Ce,ke),Be=we===void 0?ce:we>>>0;if(Be===0)return[];if(Ge.length===0)return fe(Me,Ge)===null?[Ge]:[];for(var ze=0,Fe=0,Q=[];Fe<Ge.length;){Me.lastIndex=ge?0:Fe;var W=fe(Me,ge?H(Ge,Fe):Ge),se;if(W===null||(se=me(Z(Me.lastIndex+(ge?Fe:0)),Ge.length))===ze)Fe=G(Ge,Fe,vt);else{if(ue(Q,H(Ge,ze,Fe)),Q.length===Be)return Q;for(var Pe=1;Pe<=W.length-1;Pe++)if(ue(Q,W[Pe]),Q.length===Be)return Q;Fe=ze=se}}return ue(Q,H(Ge,ze)),Q}]},!ne,ge)},function(E,M,a){"use strict";var m=a(36),h=a(7),S=a(15),T=a(95),N=a(44),C=a(34),I=a(143),z=a(58),G=a(88),Z=a(130),F=a(18),_=a(72).f,oe=a(51).f,fe=a(37).f,te=a(196),Ae=a(159).trim,ye="Number",ge=h[ye],ce=ge.prototype,me=h.TypeError,pe=S("".slice),he=S("".charCodeAt),ue=function(J){var ae=Z(J,"number");return typeof ae=="bigint"?ae:H(ae)},H=function(J){var ae=Z(J,"number"),we,Ce,Ge,_e,qe,vt,ke,Me;if(G(ae))throw me("Cannot convert a Symbol value to a number");if(typeof ae=="string"&&ae.length>2){if(ae=Ae(ae),we=he(ae,0),we===43||we===45){if(Ce=he(ae,2),Ce===88||Ce===120)return NaN}else if(we===48){switch(he(ae,1)){case 66:case 98:Ge=2,_e=49;break;case 79:case 111:Ge=8,_e=55;break;default:return+ae}for(qe=pe(ae,2),vt=qe.length,ke=0;ke<vt;ke++)if(Me=he(qe,ke),Me<48||Me>_e)return NaN;return parseInt(qe,Ge)}}return+ae};if(T(ye,!ge(" 0o1")||!ge("0b1")||ge("+0x1"))){for(var ne=function(ae){var we=arguments.length<1?0:ge(ue(ae)),Ce=this;return z(ce,Ce)&&F(function(){te(Ce)})?I(Object(we),Ce,ne):we},ie=m?_(ge):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),de=0,re;ie.length>de;de++)C(ge,re=ie[de])&&!C(ne,re)&&fe(ne,re,oe(ge,re));ne.prototype=ce,ce.constructor=ne,N(h,ye,ne)}},function(E,M,a){var m=a(16);m({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(E,M,a){var m=a(7),h=a(15),S=a(18),T=a(50),N=m.Object,C=h("".split);E.exports=S(function(){return!N("z").propertyIsEnumerable(0)})?function(I){return T(I)=="String"?C(I,""):N(I)}:N},function(E,M){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(m){typeof window=="object"&&(a=window)}E.exports=a},function(E,M,a){var m=a(27),h=a(54),S=a(37),T=m("unscopables"),N=Array.prototype;N[T]==null&&S.f(N,T,{configurable:!0,value:h(null)}),E.exports=function(C){N[T][C]=!0}},function(E,M,a){var m=a(64),h=a(107);(E.exports=function(S,T){return h[S]||(h[S]=T!==void 0?T:{})})("versions",[]).push({version:"3.19.3",mode:m?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(E,M,a){var m=a(15),h=0,S=Math.random(),T=m(1 .toString);E.exports=function(N){return"Symbol("+(N===void 0?"":N)+")_"+T(++h+S,36)}},function(E,M,a){var m=a(7),h=a(33),S=m.document,T=h(S)&&h(S.createElement);E.exports=function(N){return T?S.createElement(N):{}}},function(E,M,a){var m=a(130),h=a(88);E.exports=function(S){var T=m(S,"string");return h(T)?T:T+""}},function(E,M,a){var m=a(7),h=a(46),S=a(28),T=a(58),N=a(128),C=m.Object;E.exports=N?function(I){return typeof I=="symbol"}:function(I){var z=h("Symbol");return S(z)&&T(z.prototype,C(I))}},function(E,M,a){var m=a(7),h=m.String;E.exports=function(S){try{return h(S)}catch(T){return"Object"}}},function(E,M,a){var m=a(68),h=Math.min;E.exports=function(S){return S>0?h(m(S),9007199254740991):0}},function(E,M,a){var m=a(84),h=a(85),S=m("keys");E.exports=function(T){return S[T]||(S[T]=h(T))}},function(E,M,a){var m=a(15),h=a(28),S=a(107),T=m(Function.toString);h(S.inspectSource)||(S.inspectSource=function(N){return T(N)}),E.exports=S.inspectSource},function(E,M,a){"use strict";var m={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,S=h&&!m.call({1:2},1);M.f=S?function(N){var C=h(this,N);return!!C&&C.enumerable}:m},function(E,M,a){var m=a(36),h=a(34),S=Function.prototype,T=m&&Object.getOwnPropertyDescriptor,N=h(S,"name"),C=N&&function(){}.name==="something",I=N&&(!m||m&&T(S,"name").configurable);E.exports={EXISTS:N,PROPER:C,CONFIGURABLE:I}},function(E,M,a){var m=a(18),h=a(28),S=/#|\.prototype\./,T=function(G,Z){var F=C[N(G)];return F==z?!0:F==I?!1:h(Z)?m(Z):!!Z},N=T.normalize=function(G){return String(G).replace(S,".").toLowerCase()},C=T.data={},I=T.NATIVE="N",z=T.POLYFILL="P";E.exports=T},function(E,M,a){var m=a(7),h=a(34),S=a(28),T=a(38),N=a(91),C=a(137),I=N("IE_PROTO"),z=m.Object,G=z.prototype;E.exports=C?z.getPrototypeOf:function(Z){var F=T(Z);if(h(F,I))return F[I];var _=F.constructor;return S(_)&&F instanceof _?_.prototype:F instanceof z?G:null}},function(E,M,a){var m=a(15),h=a(32),S=a(172);E.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var T=!1,N={},C;try{C=m(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),C(N,[]),T=N instanceof Array}catch(I){}return function(z,G){return h(z),S(G),T?C(z,G):z.__proto__=G,z}}():void 0)},function(E,M,a){var m=a(7),h=a(116),S=a(28),T=a(50),N=a(27),C=N("toStringTag"),I=m.Object,z=T(function(){return arguments}())=="Arguments",G=function(Z,F){try{return Z[F]}catch(_){}};E.exports=h?T:function(Z){var F,_,oe;return Z===void 0?"Undefined":Z===null?"Null":typeof(_=G(F=I(Z),C))=="string"?_:z?T(F):(oe=T(F))=="Object"&&S(F.callee)?"Arguments":oe}},function(E,M,a){var m=a(50);E.exports=Array.isArray||function(S){return m(S)=="Array"}},function(E,M,a){var m=a(15),h=a(18),S=a(28),T=a(98),N=a(46),C=a(92),I=function(){},z=[],G=N("Reflect","construct"),Z=/^\s*(?:class|function)\b/,F=m(Z.exec),_=!Z.exec(I),oe=function(te){if(!S(te))return!1;try{return G(I,z,te),!0}catch(Ae){return!1}},fe=function(te){if(!S(te))return!1;switch(T(te)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return _||!!F(Z,C(te))};E.exports=!G||h(function(){var te;return oe(oe.call)||!oe(Object)||!oe(function(){te=!0})||te})?fe:oe},function(E,M,a){var m=a(15);E.exports=m([].slice)},function(E,M,a){"use strict";var m=a(35),h=a(15),S=a(40),T=a(184),N=a(151),C=a(84),I=a(54),z=a(56).get,G=a(185),Z=a(186),F=C("native-string-replace",String.prototype.replace),_=RegExp.prototype.exec,oe=_,fe=h("".charAt),te=h("".indexOf),Ae=h("".replace),ye=h("".slice),ge=function(){var he=/a/,ue=/b*/g;return m(_,he,"a"),m(_,ue,"a"),he.lastIndex!==0||ue.lastIndex!==0}(),ce=N.BROKEN_CARET,me=/()??/.exec("")[1]!==void 0,pe=ge||me||ce||G||Z;pe&&(oe=function(ue){var H=this,ne=z(H),ie=S(ue),de=ne.raw,re,J,ae,we,Ce,Ge,_e;if(de)return de.lastIndex=H.lastIndex,re=m(oe,de,ie),H.lastIndex=de.lastIndex,re;var qe=ne.groups,vt=ce&&H.sticky,ke=m(T,H),Me=H.source,Be=0,ze=ie;if(vt&&(ke=Ae(ke,"y",""),te(ke,"g")===-1&&(ke+="g"),ze=ye(ie,H.lastIndex),H.lastIndex>0&&(!H.multiline||H.multiline&&fe(ie,H.lastIndex-1)!==`
`)&&(Me="(?: "+Me+")",ze=" "+ze,Be++),J=new RegExp("^(?:"+Me+")",ke)),me&&(J=new RegExp("^"+Me+"$(?!\\s)",ke)),ge&&(ae=H.lastIndex),we=m(_,vt?J:H,ze),vt?we?(we.input=ye(we.input,Be),we[0]=ye(we[0],Be),we.index=H.lastIndex,H.lastIndex+=we[0].length):H.lastIndex=0:ge&&we&&(H.lastIndex=H.global?we.index+we[0].length:ae),me&&we&&we.length>1&&m(F,we[0],J,function(){for(Ce=1;Ce<arguments.length-2;Ce++)arguments[Ce]===void 0&&(we[Ce]=void 0)}),we&&qe)for(we.groups=Ge=I(null),Ce=0;Ce<qe.length;Ce++)_e=qe[Ce],Ge[_e[0]]=we[_e[1]];return we}),E.exports=oe},function(E,M,a){"use strict";var m=a(16),h=a(7),S=a(67),T=a(68),N=a(43),C=a(38),I=a(119),z=a(61),G=a(75),Z=G("splice"),F=h.TypeError,_=Math.max,oe=Math.min,fe=9007199254740991,te="Maximum allowed length exceeded";m({target:"Array",proto:!0,forced:!Z},{splice:function(ye,ge){var ce=C(this),me=N(ce),pe=S(ye,me),he=arguments.length,ue,H,ne,ie,de,re;if(he===0?ue=H=0:he===1?(ue=0,H=me-pe):(ue=he-2,H=oe(_(T(ge),0),me-pe)),me+ue-H>fe)throw F(te);for(ne=I(ce,H),ie=0;ie<H;ie++)de=pe+ie,de in ce&&z(ne,ie,ce[de]);if(ne.length=H,ue<H){for(ie=pe;ie<me-H;ie++)de=ie+H,re=ie+ue,de in ce?ce[re]=ce[de]:delete ce[re];for(ie=me;ie>me-H+ue;ie--)delete ce[ie-1]}else if(ue>H)for(ie=me-H;ie>pe;ie--)de=ie+H-1,re=ie+ue-1,de in ce?ce[re]=ce[de]:delete ce[re];for(ie=0;ie<ue;ie++)ce[ie+pe]=arguments[ie+2];return ce.length=me-H+ue,ne}})},function(E,M,a){"use strict";var m=a(16),h=a(201),S=a(202);m({target:"String",proto:!0,forced:S("anchor")},{anchor:function(N){return h(this,"a","name",N)}})},function(E,M,a){"use strict";(function(m){var h=typeof m=="object"&&m&&m.Object===Object&&m;M.a=h}).call(this,a(82))},function(E,M,a){"use strict";(function(m){var h=a(31),S=St&&!St.nodeType&&St,T=S&&typeof m=="object"&&m&&!m.nodeType&&m,N=T&&T.exports===S,C=N?h.a.Buffer:void 0,I=C?C.allocUnsafe:void 0;function z(G,Z){if(Z)return G.slice();var F=G.length,_=I?I(F):new G.constructor(F);return G.copy(_),_}M.a=z}).call(this,a(121)(E))},function(E,M,a){var m=a(7),h=a(108),S="__core-js_shared__",T=m[S]||h(S,{});E.exports=T},function(E,M,a){var m=a(7),h=Object.defineProperty;E.exports=function(S,T){try{h(m,S,{value:T,configurable:!0,writable:!0})}catch(N){m[S]=T}return T}},function(E,M,a){var m=a(65),h=a(18);E.exports=!!Object.getOwnPropertySymbols&&!h(function(){var S=Symbol();return!String(S)||!(Object(S)instanceof Symbol)||!Symbol.sham&&m&&m<41})},function(E,M){E.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(E,M,a){"use strict";var m=a(16),h=a(35),S=a(64),T=a(94),N=a(28),C=a(171),I=a(96),z=a(97),G=a(73),Z=a(57),F=a(44),_=a(27),oe=a(70),fe=a(136),te=T.PROPER,Ae=T.CONFIGURABLE,ye=fe.IteratorPrototype,ge=fe.BUGGY_SAFARI_ITERATORS,ce=_("iterator"),me="keys",pe="values",he="entries",ue=function(){return this};E.exports=function(H,ne,ie,de,re,J,ae){C(ie,ne,de);var we=function(Fe){if(Fe===re&&vt)return vt;if(!ge&&Fe in _e)return _e[Fe];switch(Fe){case me:return function(){return new ie(this,Fe)};case pe:return function(){return new ie(this,Fe)};case he:return function(){return new ie(this,Fe)}}return function(){return new ie(this)}},Ce=ne+" Iterator",Ge=!1,_e=H.prototype,qe=_e[ce]||_e["@@iterator"]||re&&_e[re],vt=!ge&&qe||we(re),ke=ne=="Array"&&_e.entries||qe,Me,Be,ze;if(ke&&(Me=I(ke.call(new H)),Me!==Object.prototype&&Me.next&&(!S&&I(Me)!==ye&&(z?z(Me,ye):N(Me[ce])||F(Me,ce,ue)),G(Me,Ce,!0,!0),S&&(oe[Ce]=ue))),te&&re==pe&&qe&&qe.name!==pe&&(!S&&Ae?Z(_e,"name",pe):(Ge=!0,vt=function(){return h(qe,this)})),re)if(Be={values:we(pe),keys:J?vt:we(me),entries:we(he)},ae)for(ze in Be)(ge||Ge||!(ze in _e))&&F(_e,ze,Be[ze]);else m({target:ne,proto:!0,forced:ge||Ge},Be);return(!S||ae)&&_e[ce]!==vt&&F(_e,ce,vt,{name:re}),oe[ne]=vt,Be}},function(E,M){M.f=Object.getOwnPropertySymbols},function(E,M,a){var m=a(7),h=a(67),S=a(43),T=a(61),N=m.Array,C=Math.max;E.exports=function(I,z,G){for(var Z=S(I),F=h(z,Z),_=h(G===void 0?Z:G,Z),oe=N(C(_-F,0)),fe=0;F<_;F++,fe++)T(oe,fe,I[F]);return oe.length=fe,oe}},function(E,M,a){var m=a(7),h=a(62),S=a(35),T=a(32),N=a(89),C=a(140),I=a(43),z=a(58),G=a(141),Z=a(115),F=a(142),_=m.TypeError,oe=function(te,Ae){this.stopped=te,this.result=Ae},fe=oe.prototype;E.exports=function(te,Ae,ye){var ge=ye&&ye.that,ce=!!(ye&&ye.AS_ENTRIES),me=!!(ye&&ye.IS_ITERATOR),pe=!!(ye&&ye.INTERRUPTED),he=h(Ae,ge),ue,H,ne,ie,de,re,J,ae=function(Ce){return ue&&F(ue,"normal",Ce),new oe(!0,Ce)},we=function(Ce){return ce?(T(Ce),pe?he(Ce[0],Ce[1],ae):he(Ce[0],Ce[1])):pe?he(Ce,ae):he(Ce)};if(me)ue=te;else{if(H=Z(te),!H)throw _(N(te)+" is not iterable");if(C(H)){for(ne=0,ie=I(te);ie>ne;ne++)if(de=we(te[ne]),de&&z(fe,de))return de;return new oe(!1)}ue=G(te,H)}for(re=ue.next;!(J=S(re,ue)).done;){try{de=we(J.value)}catch(Ce){F(ue,"throw",Ce)}if(typeof de=="object"&&de&&z(fe,de))return de}return new oe(!1)}},function(E,M,a){var m=a(98),h=a(59),S=a(70),T=a(27),N=T("iterator");E.exports=function(C){if(C!=null)return h(C,N)||h(C,"@@iterator")||S[m(C)]}},function(E,M,a){var m=a(27),h=m("toStringTag"),S={};S[h]="z",E.exports=String(S)==="[object z]"},function(E,M,a){var m=a(7),h=a(58),S=m.TypeError;E.exports=function(T,N){if(h(N,T))return T;throw S("Incorrect invocation")}},function(E,M,a){var m=a(27),h=m("iterator"),S=!1;try{var T=0,N={next:function(){return{done:!!T++}},return:function(){S=!0}};N[h]=function(){return this},Array.from(N,function(){throw 2})}catch(C){}E.exports=function(C,I){if(!I&&!S)return!1;var z=!1;try{var G={};G[h]=function(){return{next:function(){return{done:z=!0}}}},C(G)}catch(Z){}return z}},function(E,M,a){var m=a(180);E.exports=function(h,S){return new(m(h))(S===0?0:S)}},function(E,M,a){"use strict";var m=a(18);E.exports=function(h,S){var T=[][h];return!!T&&m(function(){T.call(null,S||function(){throw 1},1)})}},function(E,M){E.exports=function(a){if(!a.webpackPolyfill){var m=Object.create(a);m.children||(m.children=[]),Object.defineProperty(m,"loaded",{enumerable:!0,get:function(){return m.l}}),Object.defineProperty(m,"id",{enumerable:!0,get:function(){return m.i}}),Object.defineProperty(m,"exports",{enumerable:!0}),m.webpackPolyfill=1}return m}},function(E,M,a){"use strict";a(19);var m=a(15),h=a(44),S=a(102),T=a(18),N=a(27),C=a(57),I=N("species"),z=RegExp.prototype;E.exports=function(G,Z,F,_){var oe=N(G),fe=!T(function(){var ge={};return ge[oe]=function(){return 7},""[G](ge)!=7}),te=fe&&!T(function(){var ge=!1,ce=/a/;return G==="split"&&(ce={},ce.constructor={},ce.constructor[I]=function(){return ce},ce.flags="",ce[oe]=/./[oe]),ce.exec=function(){return ge=!0,null},ce[oe](""),!ge});if(!fe||!te||F){var Ae=m(/./[oe]),ye=Z(oe,""[G],function(ge,ce,me,pe,he){var ue=m(ge),H=ce.exec;return H===S||H===z.exec?fe&&!he?{done:!0,value:Ae(ce,me,pe)}:{done:!0,value:ue(me,ce,pe)}:{done:!1}});h(String.prototype,G,ye[0]),h(z,oe,ye[1])}_&&C(z[oe],"sham",!0)}},function(E,M,a){"use strict";var m=a(146).charAt;E.exports=function(h,S,T){return S+(T?m(h,S).length:1)}},function(E,M,a){var m=a(7),h=a(35),S=a(32),T=a(28),N=a(50),C=a(102),I=m.TypeError;E.exports=function(z,G){var Z=z.exec;if(T(Z)){var F=h(Z,z,G);return F!==null&&S(F),F}if(N(z)==="RegExp")return h(C,z,G);throw I("RegExp#exec called on incompatible receiver")}},function(E,M,a){"use strict";var m=a(76),h=a(35),S=a(15),T=a(122),N=a(18),C=a(32),I=a(28),z=a(68),G=a(90),Z=a(40),F=a(45),_=a(123),oe=a(59),fe=a(197),te=a(124),Ae=a(27),ye=Ae("replace"),ge=Math.max,ce=Math.min,me=S([].concat),pe=S([].push),he=S("".indexOf),ue=S("".slice),H=function(re){return re===void 0?re:String(re)},ne=function(){return"a".replace(/./,"$0")==="$0"}(),ie=function(){return/./[ye]?/./[ye]("a","$0")==="":!1}(),de=!N(function(){var re=/./;return re.exec=function(){var J=[];return J.groups={a:"7"},J},"".replace(re,"$<a>")!=="7"});T("replace",function(re,J,ae){var we=ie?"$":"$0";return[function(Ge,_e){var qe=F(this),vt=Ge==null?void 0:oe(Ge,ye);return vt?h(vt,Ge,qe,_e):h(J,Z(qe),Ge,_e)},function(Ce,Ge){var _e=C(this),qe=Z(Ce);if(typeof Ge=="string"&&he(Ge,we)===-1&&he(Ge,"$<")===-1){var vt=ae(J,_e,qe,Ge);if(vt.done)return vt.value}var ke=I(Ge);ke||(Ge=Z(Ge));var Me=_e.global;if(Me){var Be=_e.unicode;_e.lastIndex=0}for(var ze=[];;){var Fe=te(_e,qe);if(Fe===null||(pe(ze,Fe),!Me))break;var Q=Z(Fe[0]);Q===""&&(_e.lastIndex=_(qe,G(_e.lastIndex),Be))}for(var W="",se=0,Pe=0;Pe<ze.length;Pe++){Fe=ze[Pe];for(var Ve=Z(Fe[0]),Ee=ge(ce(z(Fe.index),qe.length),0),ft=[],at=1;at<Fe.length;at++)pe(ft,H(Fe[at]));var ot=Fe.groups;if(ke){var pt=me([Ve],ft,Ee,qe);ot!==void 0&&pe(pt,ot);var Re=Z(m(Ge,void 0,pt))}else Re=fe(Ve,qe,Ee,ft,ot,Ge);Ee>=se&&(W+=ue(qe,se,Ee)+Re,se=Ee+Ve.length)}return W+ue(qe,se)}]},!de||!ne||ie)},function(E,M,a){var m=a(50),h=a(7);E.exports=m(h.process)=="process"},function(E,M,a){var m=a(16);m({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(E,M,a){var m=a(109);E.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(E,M,a){var m=a(36),h=a(18),S=a(86);E.exports=!m&&!h(function(){return Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a!=7})},function(E,M,a){var m=a(7),h=a(35),S=a(33),T=a(88),N=a(59),C=a(169),I=a(27),z=m.TypeError,G=I("toPrimitive");E.exports=function(Z,F){if(!S(Z)||T(Z))return Z;var _=N(Z,G),oe;if(_){if(F===void 0&&(F="default"),oe=h(_,Z,F),!S(oe)||T(oe))return oe;throw z("Can't convert object to primitive value")}return F===void 0&&(F="number"),C(Z,F)}},function(E,M,a){var m=a(15),h=a(34),S=a(39),T=a(132).indexOf,N=a(69),C=m([].push);E.exports=function(I,z){var G=S(I),Z=0,F=[],_;for(_ in G)!h(N,_)&&h(G,_)&&C(F,_);for(;z.length>Z;)h(G,_=z[Z++])&&(~T(F,_)||C(F,_));return F}},function(E,M,a){var m=a(39),h=a(67),S=a(43),T=function(N){return function(C,I,z){var G=m(C),Z=S(G),F=h(z,Z),_;if(N&&I!=I){for(;Z>F;)if(_=G[F++],_!=_)return!0}else for(;Z>F;F++)if((N||F in G)&&G[F]===I)return N||F||0;return!N&&-1}};E.exports={includes:T(!0),indexOf:T(!1)}},function(E,M,a){var m=a(46);E.exports=m("document","documentElement")},function(E,M,a){var m=a(34),h=a(135),S=a(51),T=a(37);E.exports=function(N,C){for(var I=h(C),z=T.f,G=S.f,Z=0;Z<I.length;Z++){var F=I[Z];m(N,F)||z(N,F,G(C,F))}}},function(E,M,a){var m=a(46),h=a(15),S=a(72),T=a(112),N=a(32),C=h([].concat);E.exports=m("Reflect","ownKeys")||function(z){var G=S.f(N(z)),Z=T.f;return Z?C(G,Z(z)):G}},function(E,M,a){"use strict";var m=a(18),h=a(28),S=a(54),T=a(96),N=a(44),C=a(27),I=a(64),z=C("iterator"),G=!1,Z,F,_;[].keys&&(_=[].keys(),"next"in _?(F=T(T(_)),F!==Object.prototype&&(Z=F)):G=!0);var oe=Z==null||m(function(){var fe={};return Z[z].call(fe)!==fe});oe?Z={}:I&&(Z=S(Z)),h(Z[z])||N(Z,z,function(){return this}),E.exports={IteratorPrototype:Z,BUGGY_SAFARI_ITERATORS:G}},function(E,M,a){var m=a(18);E.exports=!m(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},function(E,M,a){var m=a(16),h=a(15),S=a(69),T=a(33),N=a(34),C=a(37).f,I=a(72),z=a(139),G=a(174),Z=a(85),F=a(176),_=!1,oe=Z("meta"),fe=0,te=function(pe){C(pe,oe,{value:{objectID:"O"+fe++,weakData:{}}})},Ae=function(pe,he){if(!T(pe))return typeof pe=="symbol"?pe:(typeof pe=="string"?"S":"P")+pe;if(!N(pe,oe)){if(!G(pe))return"F";if(!he)return"E";te(pe)}return pe[oe].objectID},ye=function(pe,he){if(!N(pe,oe)){if(!G(pe))return!0;if(!he)return!1;te(pe)}return pe[oe].weakData},ge=function(pe){return F&&_&&G(pe)&&!N(pe,oe)&&te(pe),pe},ce=function(){me.enable=function(){},_=!0;var pe=I.f,he=h([].splice),ue={};ue[oe]=1,pe(ue).length&&(I.f=function(H){for(var ne=pe(H),ie=0,de=ne.length;ie<de;ie++)if(ne[ie]===oe){he(ne,ie,1);break}return ne},m({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:z.f}))},me=E.exports={enable:ce,fastKey:Ae,getWeakData:ye,onFreeze:ge};S[oe]=!0},function(E,M,a){var m=a(50),h=a(39),S=a(72).f,T=a(113),N=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],C=function(I){try{return S(I)}catch(z){return T(N)}};E.exports.f=function(z){return N&&m(z)=="Window"?C(z):S(h(z))}},function(E,M,a){var m=a(27),h=a(70),S=m("iterator"),T=Array.prototype;E.exports=function(N){return N!==void 0&&(h.Array===N||T[S]===N)}},function(E,M,a){var m=a(7),h=a(35),S=a(55),T=a(32),N=a(89),C=a(115),I=m.TypeError;E.exports=function(z,G){var Z=arguments.length<2?C(z):G;if(S(Z))return T(h(Z,z));throw I(N(z)+" is not iterable")}},function(E,M,a){var m=a(35),h=a(32),S=a(59);E.exports=function(T,N,C){var I,z;h(T);try{if(I=S(T,"return"),!I){if(N==="throw")throw C;return C}I=m(I,T)}catch(G){z=!0,I=G}if(N==="throw")throw C;if(z)throw I;return h(I),C}},function(E,M,a){var m=a(28),h=a(33),S=a(97);E.exports=function(T,N,C){var I,z;return S&&m(I=N.constructor)&&I!==C&&h(z=I.prototype)&&z!==C.prototype&&S(T,z),T}},function(E,M,a){var m=a(44);E.exports=function(h,S,T){for(var N in S)m(h,N,S[N],T);return h}},function(E,M,a){"use strict";var m=a(46),h=a(37),S=a(27),T=a(36),N=S("species");E.exports=function(C){var I=m(C),z=h.f;T&&I&&!I[N]&&z(I,N,{configurable:!0,get:function(){return this}})}},function(E,M,a){var m=a(15),h=a(68),S=a(40),T=a(45),N=m("".charAt),C=m("".charCodeAt),I=m("".slice),z=function(G){return function(Z,F){var _=S(T(Z)),oe=h(F),fe=_.length,te,Ae;return oe<0||oe>=fe?G?"":void 0:(te=C(_,oe),te<55296||te>56319||oe+1===fe||(Ae=C(_,oe+1))<56320||Ae>57343?G?N(_,oe):te:G?I(_,oe,oe+2):(te-55296<<10)+(Ae-56320)+65536)}};E.exports={codeAt:z(!1),charAt:z(!0)}},function(E,M){E.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(E,M,a){var m=a(86),h=m("span").classList,S=h&&h.constructor&&h.constructor.prototype;E.exports=S===Object.prototype?void 0:S},function(E,M,a){var m=a(27);M.f=m},function(E,M,a){var m=a(181),h=a(34),S=a(149),T=a(37).f;E.exports=function(N){var C=m.Symbol||(m.Symbol={});h(C,N)||T(C,N,{value:S.f(N)})}},function(E,M,a){var m=a(18),h=a(7),S=h.RegExp,T=m(function(){var I=S("a","y");return I.lastIndex=2,I.exec("abcd")!=null}),N=T||m(function(){return!S("a","y").sticky}),C=T||m(function(){var I=S("^r","gy");return I.lastIndex=2,I.exec("str")!=null});E.exports={BROKEN_CARET:C,MISSED_STICKY:N,UNSUPPORTED_Y:T}},function(E,M,a){"use strict";var m=a(16),h=a(132).includes,S=a(83);m({target:"Array",proto:!0},{includes:function(N){return h(this,N,arguments.length>1?arguments[1]:void 0)}}),S("includes")},function(E,M,a){"use strict";var m=a(16),h=a(15),S=a(193),T=a(45),N=a(40),C=a(194),I=h("".indexOf);m({target:"String",proto:!0,forced:!C("includes")},{includes:function(G){return!!~I(N(T(this)),N(S(G)),arguments.length>1?arguments[1]:void 0)}})},function(E,M,a){var m=a(33),h=a(50),S=a(27),T=S("match");E.exports=function(N){var C;return m(N)&&((C=N[T])!==void 0?!!C:h(N)=="RegExp")}},function(E,M){var a=E.exports={},m,h;function S(){throw new Error("setTimeout has not been defined")}function T(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?m=setTimeout:m=S}catch(te){m=S}try{typeof clearTimeout=="function"?h=clearTimeout:h=T}catch(te){h=T}})();function N(te){if(m===setTimeout)return setTimeout(te,0);if((m===S||!m)&&setTimeout)return m=setTimeout,setTimeout(te,0);try{return m(te,0)}catch(Ae){try{return m.call(null,te,0)}catch(ye){return m.call(this,te,0)}}}function C(te){if(h===clearTimeout)return clearTimeout(te);if((h===T||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(te);try{return h(te)}catch(Ae){try{return h.call(null,te)}catch(ye){return h.call(this,te)}}}var I=[],z=!1,G,Z=-1;function F(){!z||!G||(z=!1,G.length?I=G.concat(I):Z=-1,I.length&&_())}function _(){if(!z){var te=N(F);z=!0;for(var Ae=I.length;Ae;){for(G=I,I=[];++Z<Ae;)G&&G[Z].run();Z=-1,Ae=I.length}G=null,z=!1,C(te)}}a.nextTick=function(te){var Ae=new Array(arguments.length-1);if(arguments.length>1)for(var ye=1;ye<arguments.length;ye++)Ae[ye-1]=arguments[ye];I.push(new oe(te,Ae)),I.length===1&&!z&&N(_)};function oe(te,Ae){this.fun=te,this.array=Ae}oe.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={};function fe(){}a.on=fe,a.addListener=fe,a.once=fe,a.off=fe,a.removeListener=fe,a.removeAllListeners=fe,a.emit=fe,a.prependListener=fe,a.prependOnceListener=fe,a.listeners=function(te){return[]},a.binding=function(te){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(te){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(E,M,a){var m=a(32),h=a(157),S=a(27),T=S("species");E.exports=function(N,C){var I=m(N).constructor,z;return I===void 0||(z=m(I)[T])==null?C:h(z)}},function(E,M,a){var m=a(7),h=a(100),S=a(89),T=m.TypeError;E.exports=function(N){if(h(N))return N;throw T(S(N)+" is not a constructor")}},function(E,M,a){"use strict";var m=a(16),h=a(159).trim,S=a(195);m({target:"String",proto:!0,forced:S("trim")},{trim:function(){return h(this)}})},function(E,M,a){var m=a(15),h=a(45),S=a(40),T=a(160),N=m("".replace),C="["+T+"]",I=RegExp("^"+C+C+"*"),z=RegExp(C+C+"*$"),G=function(Z){return function(F){var _=S(h(F));return Z&1&&(_=N(_,I,"")),Z&2&&(_=N(_,z,"")),_}};E.exports={start:G(1),end:G(2),trim:G(3)}},function(E,M){E.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(E,M,a){"use strict";var m=a(35),h=a(122),S=a(32),T=a(90),N=a(40),C=a(45),I=a(59),z=a(123),G=a(124);h("match",function(Z,F,_){return[function(fe){var te=C(this),Ae=fe==null?void 0:I(fe,Z);return Ae?m(Ae,fe,te):new RegExp(fe)[Z](N(te))},function(oe){var fe=S(this),te=N(oe),Ae=_(F,fe,te);if(Ae.done)return Ae.value;if(!fe.global)return G(fe,te);var ye=fe.unicode;fe.lastIndex=0;for(var ge=[],ce=0,me;(me=G(fe,te))!==null;){var pe=N(me[0]);ge[ce]=pe,pe===""&&(fe.lastIndex=z(te,T(fe.lastIndex),ye)),ce++}return ce===0?null:ge}]})},function(E,M,a){var m=a(7),h=a(76),S=a(62),T=a(28),N=a(34),C=a(18),I=a(133),z=a(101),G=a(86),Z=a(163),F=a(126),_=m.setImmediate,oe=m.clearImmediate,fe=m.process,te=m.Dispatch,Ae=m.Function,ye=m.MessageChannel,ge=m.String,ce=0,me={},pe="onreadystatechange",he,ue,H,ne;try{he=m.location}catch(ae){}var ie=function(ae){if(N(me,ae)){var we=me[ae];delete me[ae],we()}},de=function(ae){return function(){ie(ae)}},re=function(ae){ie(ae.data)},J=function(ae){m.postMessage(ge(ae),he.protocol+"//"+he.host)};(!_||!oe)&&(_=function(we){var Ce=z(arguments,1);return me[++ce]=function(){h(T(we)?we:Ae(we),void 0,Ce)},ue(ce),ce},oe=function(we){delete me[we]},F?ue=function(ae){fe.nextTick(de(ae))}:te&&te.now?ue=function(ae){te.now(de(ae))}:ye&&!Z?(H=new ye,ne=H.port2,H.port1.onmessage=re,ue=S(ne.postMessage,ne)):m.addEventListener&&T(m.postMessage)&&!m.importScripts&&he&&he.protocol!=="file:"&&!C(J)?(ue=J,m.addEventListener("message",re,!1)):pe in G("script")?ue=function(ae){I.appendChild(G("script"))[pe]=function(){I.removeChild(this),ie(ae)}}:ue=function(ae){setTimeout(de(ae),0)}),E.exports={set:_,clear:oe}},function(E,M,a){var m=a(53);E.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)},function(E,M,a){"use strict";var m=a(55),h=function(S){var T,N;this.promise=new S(function(C,I){if(T!==void 0||N!==void 0)throw TypeError("Bad Promise constructor");T=C,N=I}),this.resolve=m(T),this.reject=m(N)};E.exports.f=function(S){return new h(S)}},function(E,M,a){"use strict";function m(){return!1}M.a=m},function(E,M,a){"use strict";(function(m){a.d(M,"a",function(){return Re});var h=a(0),S=function(){},T=function(V){return V};function N(V){throw new Error("[mobx-utils] "+V)}function C(V,U){U===void 0&&(U="Illegal state"),V||N(U)}var I=[];function z(V){I.indexOf(V)===-1&&(I.push(V),console.error("[mobx-utils] Deprecated: "+V))}function G(V,U,P){Object.defineProperty(V,U,{enumerable:!1,writable:!0,configurable:!0,value:P})}var Z=function(V){return V&&V!==Object.prototype&&Object.getOwnPropertyNames(V).concat(Z(Object.getPrototypeOf(V))||[])},F=function(V){var U=Z(V),P=U.filter(function(A,B){return U.indexOf(A)===B});return P},_=function(V){return F(V).filter(function(U){return U!=="constructor"&&!~U.indexOf("__")})},oe="pending",fe="fulfilled",te="rejected";function Ae(V){switch(this.state){case oe:return V.pending&&V.pending(this.value);case te:return V.rejected&&V.rejected(this.value);case fe:return V.fulfilled?V.fulfilled(this.value):this.value}}function ye(V,U){if(C(arguments.length<=2,"fromPromise expects up to two arguments"),C(typeof V=="function"||typeof V=="object"&&V&&typeof V.then=="function","Please pass a promise or function to fromPromise"),V.isPromiseBasedObservable===!0)return V;typeof V=="function"&&(V=new Promise(V));var P=V;V.then(Object(h.k)("observableFromPromise-resolve",function(B){P.value=B,P.state=fe}),Object(h.k)("observableFromPromise-reject",function(B){P.value=B,P.state=te})),P.isPromiseBasedObservable=!0,P.case=Ae;var A=U&&U.state===fe?U.value:void 0;return Object(h.q)(P,{value:A,state:oe},{},{deep:!1}),P}(function(V){V.reject=Object(h.k)("fromPromise.reject",function(P){var A=V(Promise.reject(P));return A.state=te,A.value=P,A});function U(P){P===void 0&&(P=void 0);var A=V(Promise.resolve(P));return A.state=fe,A.value=P,A}V.resolve=Object(h.k)("fromPromise.resolve",U)})(ye||(ye={}));function ge(V){return V&&V.isPromiseBasedObservable===!0}var ce=function(){for(var V=0,U=0,P=arguments.length;U<P;U++)V+=arguments[U].length;for(var A=Array(V),B=0,U=0;U<P;U++)for(var q=arguments[U],He=0,Le=q.length;He<Le;He++,B++)A[B]=q[He];return A};function me(V,U,P){if(pe(V,U),pe(V,P),U!==P){var A=V[h.a].values,B;return U<P?B=ce(A.slice(0,U),A.slice(U+1,P+1),[A[U]],A.slice(P+1)):B=ce(A.slice(0,P),[A[U]],A.slice(P,U),A.slice(U+1)),V.replace(B),V}}function pe(V,U){if(U<0)throw new Error("[mobx.array] Index out of bounds: "+U+" is negative");var P=V[h.a].values.length;if(U>=P)throw new Error("[mobx.array] Index out of bounds: "+U+" is not smaller than "+P)}function he(V,U){U===void 0&&(U=void 0);var P=!1,A=h.C.box(U,{deep:!1}),B=h.C.box(!1),q=function(){return P||(P=!0,Object(h.d)(!0,function(){B.set(!0)}),V(function(Le){Object(h.d)(!0,function(){A.set(Le),B.set(!1)})})),A.get()},He=Object(h.k)("lazyObservable-reset",function(){return P=!1,A.set(U),A.get()});return{current:q,refresh:function(){return P?(P=!1,q()):A.get()},reset:function(){return He()},get pending(){return B.get()}}}function ue(V,U,P){U===void 0&&(U=S),P===void 0&&(P=void 0);var A=!1,B=!1,q=P,He=function(){A&&(A=!1,U())},Le=Object(h.o)("ResourceBasedObservable",function(){C(!A&&!B),A=!0,V(function(tt){Object(h.d)(!0,function(){q=tt,Le.reportChanged()})})},He);return{current:function(){C(!B,"subscribingObservable has already been disposed");var tt=Le.reportObserved();return!tt&&!A&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),q},dispose:function(){B=!0,He()},isAlive:function(){return A}}}var H=function(V,U,P,A){var B=arguments.length,q=B<3?U:A===null?A=Object.getOwnPropertyDescriptor(U,P):A,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(V,U,P,A);else for(var Le=V.length-1;Le>=0;Le--)(He=V[Le])&&(q=(B<3?He(q):B>3?He(U,P,q):He(U,P))||q);return B>3&&q&&Object.defineProperty(U,P,q),q};function ne(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function ie(V,U){var P;U===void 0&&(U=!1);var A=Object(h.m)(V);return P={subscribe:function(B){return typeof B=="function"?{unsubscribe:A.observe(function(q){var He=q.newValue;return B(He)},U)}:B&&typeof B=="object"&&B.next?{unsubscribe:A.observe(function(q){var He=q.newValue;return B.next(He)},U)}:{unsubscribe:function(){}}}},P[ne()]=function(){return this},P}var de=function(){function V(U,P){var A=this;Object(h.G)(function(){A.current=P,A.subscription=U.subscribe(A)})}return V.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},V.prototype.next=function(U){this.current=U},V.prototype.complete=function(){this.dispose()},V.prototype.error=function(U){this.current=U,this.dispose()},H([h.C.ref],V.prototype,"current",void 0),H([h.k.bound],V.prototype,"next",null),H([h.k.bound],V.prototype,"complete",null),H([h.k.bound],V.prototype,"error",null),V}();function re(V,U){return U===void 0&&(U=void 0),new de(V,U)}var J=function(){return J=Object.assign||function(V){for(var U,P=1,A=arguments.length;P<A;P++){U=arguments[P];for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&(V[B]=U[B])}return V},J.apply(this,arguments)},ae=function(V,U,P,A){var B=arguments.length,q=B<3?U:A===null?A=Object.getOwnPropertyDescriptor(U,P):A,He;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(V,U,P,A);else for(var Le=V.length-1;Le>=0;Le--)(He=V[Le])&&(q=(B<3?He(q):B>3?He(U,P,q):He(U,P))||q);return B>3&&q&&Object.defineProperty(U,P,q),q},we=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],Ce=function(){function V(U){var P=this;this.model=U,this.localValues=h.C.map({}),this.localComputedValues=h.C.map({}),this.isPropertyDirty=function(A){return P.localValues.has(A)},C(Object(h.A)(U),"createViewModel expects an observable object"),_(U).forEach(function(A){if(!(A===h.a||A==="__mobxDidRunLazyInitializers")){if(C(we.indexOf(A)===-1,"The propertyname "+A+" is reserved and cannot be used with viewModels"),Object(h.w)(U,A)){var B=Object(h.h)(U,A).derivation;P.localComputedValues.set(A,Object(h.m)(B.bind(P)))}var q=Object.getOwnPropertyDescriptor(U,A),He=q?{enumerable:q.enumerable}:{};Object.defineProperty(P,A,J(J({},He),{configurable:!0,get:function(){return Object(h.w)(U,A)?P.localComputedValues.get(A).get():P.isPropertyDirty(A)?P.localValues.get(A):P.model[A]},set:Object(h.k)(function(Le){Le!==P.model[A]?P.localValues.set(A,Le):P.localValues.delete(A)})}))}})}return Object.defineProperty(V.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),V.prototype.submit=function(){var U=this;Object(h.B)(this.localValues).forEach(function(P){var A=U.localValues.get(P),B=U.model[P];Object(h.y)(B)?B.replace(A):Object(h.z)(B)?(B.clear(),B.merge(A)):Object(h.v)(A)||(U.model[P]=A)}),this.localValues.clear()},V.prototype.reset=function(){this.localValues.clear()},V.prototype.resetProperty=function(U){this.localValues.delete(U)},ae([h.m],V.prototype,"isDirty",null),ae([h.m],V.prototype,"changedValues",null),ae([h.k.bound],V.prototype,"submit",null),ae([h.k.bound],V.prototype,"reset",null),ae([h.k.bound],V.prototype,"resetProperty",null),V}();function Ge(V){return new Ce(V)}function _e(V,U,P,A){return P===void 0&&(P=1e4),A===void 0&&(A=function(){}),z("whenWithTimeout is deprecated, use mobx.when with timeout option instead"),Object(h.M)(V,U,{timeout:P,onError:A})}function qe(V,U){var P=Object(h.s)(V,U);if(!P)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return P.observe(function(){})}function vt(V,U,P){if(P===void 0&&(P=0),!Object(h.y)(V))throw new Error("Expected observable array as first argument");Object(h.u)(U)||(U=Object(h.k)("queueProcessor",U));var A=function(){var B=V.slice(0);Object(h.G)(function(){return V.splice(0)}),B.forEach(U)};return P>0?Object(h.l)(A,{delay:P}):Object(h.l)(A)}function ke(V,U,P,A){if(P===void 0&&(P=0),A===void 0&&(A=0),!Object(h.y)(V))throw new Error("Expected observable array as first argument");Object(h.u)(U)||(U=Object(h.k)("chunkProcessor",U));var B=function(){for(var q=function(){var He=A===0?V.length:Math.min(V.length,A),Le=V.slice(0,He);Object(h.G)(function(){return V.splice(0,He)}),U(Le)};V.length>0;)q()};return P>0?Object(h.l)(B,{delay:P}):Object(h.l)(B)}var Me={};function Be(V){return V===void 0&&(V=1e3),Object(h.i)()?(Me[V]||(typeof V=="number"?Me[V]=ze(V):Me[V]=Fe()),Me[V].current()):Date.now()}function ze(V){var U;return ue(function(P){P(Date.now()),U=setInterval(function(){return P(Date.now())},V)},function(){clearInterval(U)},Date.now())}function Fe(){var V=ue(function(U){U(Date.now());function P(){window.requestAnimationFrame(function(){U(Date.now()),V.isAlive()&&P()})}P()},function(){},Date.now());return V}var Q=function(){return Q=Object.assign||function(V){for(var U,P=1,A=arguments.length;P<A;P++){U=arguments[P];for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&(V[B]=U[B])}return V},Q.apply(this,arguments)};function W(V,U){if(typeof arguments[1]=="string"){var P=arguments[1],A=arguments[2];return A&&A.value?Object.assign({},A,{value:Object(h.r)(A.value)}):Object.assign({},A,{set:function(He){Object.defineProperty(this,P,Q(Q({},A),{value:Object(h.r)(He)}))}})}var B=typeof V=="string"?U:V,q=typeof V=="string"?V:B.name||"<unnamed async action>";return z("asyncAction is deprecated. use mobx.flow instead"),Object(h.r)(B)}function se(V,U){return U===void 0&&(U=0),z("whenAsync is deprecated, use mobx.when without effect instead"),Object(h.M)(V,{timeout:U})}function Pe(V){return Object(h.i)()||console.warn("'expr' should only be used inside other reactive functions."),Object(h.m)(V).get()}var Ve=function(){return Ve=Object.assign||function(V){for(var U,P=1,A=arguments.length;P<A;P++){U=arguments[P];for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&(V[B]=U[B])}return V},Ve.apply(this,arguments)},Ee=0;function ft(V,U){C(typeof V=="function"&&V.length<2,"createTransformer expects a function that accepts one argument");var P={},A=void 0,B=!1,q=void 0;typeof U=="object"?(A=U.onCleanup,B=U.keepAlive!==void 0?U.keepAlive:!1,q=U.debugNameGenerator):typeof U=="function"&&(A=U);function He(tt,et){var dt,Ht={};typeof U=="object"?(A=U.onCleanup,q=U.debugNameGenerator,Ht=U):typeof U=="function"?A=U:(A=void 0,q=void 0);var Mt=q?q(et):"Transformer-"+V.name+"-"+tt,hr=Object(h.m)(function(){return dt=V(et)},Ve(Ve({},Ht),{name:Mt}));if(!B)var Vt=Object(h.E)(hr,function(){delete P[tt],Vt(),A&&A(dt,et)});return hr}var Le=!1;return function(tt){var et=at(tt),dt=P[et];if(dt)return dt.get();if(!B&&!Object(h.i)()){Le||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),Le=!0);var Ht=V(tt);return A&&A(Ht,tt),Ht}return dt=P[et]=He(et,tt),dt.get()}}function at(V){var U=typeof V;if(U==="string")return"string:"+V;if(U==="number")return"number:"+V;if(V===null||U!=="object"&&U!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(V));var P=V.$transformId;return P===void 0&&(P="memoizationId:"+ ++Ee,G(V,"$transformId",P)),P}function ot(V){if(!V)return"ROOT";for(var U=[];V.parent;)U.push(V.path),V=V.parent;return U.reverse().join("/")}function pt(V){return Object(h.A)(V)||Object(h.y)(V)||Object(h.z)(V)}function Re(V,U){var P=new WeakMap;function A(Le){var tt=P.get(Le.object);B(Le,tt),U(Le,ot(tt),V)}function B(Le,tt){switch(Le.type){case"add":q(Le.newValue,tt,Le.name);break;case"update":He(Le.oldValue),q(Le.newValue,tt,Le.name||""+Le.index);break;case"remove":case"delete":He(Le.oldValue);break;case"splice":Le.removed.map(He),Le.added.forEach(function(Ht,Mt){return q(Ht,tt,""+(Le.index+Mt))});for(var et=Le.index+Le.addedCount;et<Le.object.length;et++)if(pt(Le.object[et])){var dt=P.get(Le.object[et]);dt&&(dt.path=""+et)}break}}function q(Le,tt,et){if(pt(Le)){var dt=P.get(Le);if(dt){if(dt.parent!==tt||dt.path!==et)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+ot(tt)+"/"+et+"',")+(" but it already exists at '"+ot(dt.parent)+"/"+dt.path+"'"))}else{var Ht={parent:tt,path:et,dispose:Object(h.D)(Le,A)};P.set(Le,Ht),Object(h.p)(Le).forEach(function(Mt){var hr=Mt[0],Vt=Mt[1];return q(Vt,Ht,hr)})}}}function He(Le){if(pt(Le)){var tt=P.get(Le);if(!tt)return;P.delete(Le),tt.dispose(),Object(h.L)(Le).forEach(He)}}return q(V,void 0,""),function(){He(V)}}var Pt=function(){var V=function(U,P){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,B){A.__proto__=B}||function(A,B){for(var q in B)B.hasOwnProperty(q)&&(A[q]=B[q])},V(U,P)};return function(U,P){V(U,P);function A(){this.constructor=U}U.prototype=P===null?Object.create(P):(A.prototype=P.prototype,new A)}}(),Je=function(V){Pt(U,V);function U(P,A,B){var q=B===void 0?{}:B,He=q.name,Le=He===void 0?"ogm"+(Math.random()*1e3|0):He,tt=q.keyToName,et=tt===void 0?function(Mt){return""+Mt}:tt,dt=V.call(this)||this;dt._keyToName=et,dt._groupBy=A,dt._ogmInfoKey=Symbol("ogmInfo"+Le),dt._base=P;for(var Ht=0;Ht<P.length;Ht++)dt._addItem(P[Ht]);return dt._disposeBaseObserver=Object(h.D)(dt._base,function(Mt){if(Mt.type==="splice")Object(h.J)(function(){for(var hr=0,Vt=Mt.removed;hr<Vt.length;hr++){var sr=Vt[hr];dt._removeItem(sr)}for(var wr=0,Rr=Mt.added;wr<Rr.length;wr++){var Yr=Rr[wr];dt._addItem(Yr)}});else if(Mt.type==="update")Object(h.J)(function(){dt._removeItem(Mt.oldValue),dt._addItem(Mt.newValue)});else throw new Error("illegal state")}),dt}return U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(P){throw new Error("not supported")},U.prototype.set=function(P,A){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var P=0;P<this._base.length;P++){var A=this._base[P],B=A[this._ogmInfoKey];B.reaction(),delete A[this._ogmInfoKey]}},U.prototype._getGroupArr=function(P){var A=V.prototype.get.call(this,P);return A===void 0&&(A=Object(h.C)([],{name:"GroupArray["+this._keyToName(P)+"]",deep:!1}),V.prototype.set.call(this,P,A)),A},U.prototype._removeFromGroupArr=function(P,A){var B=V.prototype.get.call(this,P);B.length===1?V.prototype.delete.call(this,P):(A===B.length-1||(B[A]=B[B.length-1],B[A][this._ogmInfoKey].groupArrIndex=A),B.length--)},U.prototype._addItem=function(P){var A=this,B=this._groupBy(P),q=this._getGroupArr(B),He={groupByValue:B,groupArrIndex:q.length,reaction:Object(h.F)(function(){return A._groupBy(P)},function(Le,tt){var et=P[A._ogmInfoKey];A._removeFromGroupArr(et.groupByValue,et.groupArrIndex);var dt=A._getGroupArr(Le),Ht=dt.length;dt.push(P),et.groupByValue=Le,et.groupArrIndex=Ht})};Object.defineProperty(P,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:He}),q.push(P)},U.prototype._removeItem=function(P){var A=P[this._ogmInfoKey];this._removeFromGroupArr(A.groupByValue,A.groupArrIndex),A.reaction(),delete P[this._ogmInfoKey]},U}(h.b),ut=function(){function V(U,P){this.base=U,this.args=P,this.closestIdx=0,this.isDisposed=!1;for(var A=this.closest=this.root=U,B=0;B<this.args.length-1&&(A=A.get(P[B]),A);B++)this.closest=A;this.closestIdx=B}return V.prototype.exists=function(){this.assertNotDisposed();var U=this.args.length;return this.closestIdx>=U-1&&this.closest.has(this.args[U-1])},V.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},V.prototype.set=function(U){this.assertNotDisposed();for(var P=this.args.length,A=this.closest,B=this.closestIdx;B<P-1;B++){var q=new Map;A.set(this.args[B],q),A=q}this.closestIdx=P-1,this.closest=A,A.set(this.args[P-1],U)},V.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var U=this.args.length;this.closest.delete(this.args[U-1]);for(var P=this.root,A=[P],B=0;B<U-1;B++)P=P.get(this.args[B]),A.push(P);for(var B=A.length-1;B>0;B--)A[B].size===0&&A[B-1].delete(this.args[B-1]);this.isDisposed=!0},V.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},V}(),gt=function(){function V(){this.store=new Map,this.argsLength=-1}return V.prototype.entry=function(U){if(this.argsLength===-1)this.argsLength=U.length;else if(this.argsLength!==U.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+U.length);return this.last&&(this.last.isDisposed=!0),this.last=new ut(this.store,U)},V}(),At=function(){return At=Object.assign||function(V){for(var U,P=1,A=arguments.length;P<A;P++){U=arguments[P];for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&(V[B]=U[B])}return V},At.apply(this,arguments)};function It(V,U){if(U===void 0&&(U=!1),Object(h.u)(V))throw new Error("computedFn shouldn't be used on actions");var P=!1,A=0,B=typeof U=="boolean"?{keepAlive:U}:U,q=new gt;return function(){for(var He=this,Le=[],tt=0;tt<arguments.length;tt++)Le[tt]=arguments[tt];var et=q.entry(Le);if(et.exists())return et.get().get();if(!B.keepAlive&&!Object(h.i)())return P||(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),P=!0),V.apply(this,Le);var dt=Object(h.m)(function(){return V.apply(He,Le)},At(At({},B),{name:"computedFn("+V.name+"#"+ ++A+")"}));return et.set(dt),B.keepAlive||Object(h.E)(dt,function(){q.entry(Le).delete()}),dt.get()}}function Ct(V,U,P,A,B){if(B)return Ft(V,U,A,B);Qt(U,P,A)}function Ft(V,U,P,A){if(A.get!==void 0)return fail(V+" cannot be used with getters");if(A.value)return{value:U(P,A.value),enumerable:!1,configurable:!0,writable:!0};var B=A.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return U(P,B.call(this))}}}function Qt(V,U,P){Object.defineProperty(U,P,{configurable:!0,enumerable:!1,get:function(){},set:function(A){G(this,P,V(P,A))}})}var $t=function(V,U,P,A){function B(q){return q instanceof P?q:new P(function(He){He(q)})}return new(P||(P=Promise))(function(q,He){function Le(dt){try{et(A.next(dt))}catch(Ht){He(Ht)}}function tt(dt){try{et(A.throw(dt))}catch(Ht){He(Ht)}}function et(dt){dt.done?q(dt.value):B(dt.value).then(Le,tt)}et((A=A.apply(V,U||[])).next())})},tr=function(V,U){var P={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},A,B,q,He;return He={next:Le(0),throw:Le(1),return:Le(2)},typeof Symbol=="function"&&(He[Symbol.iterator]=function(){return this}),He;function Le(et){return function(dt){return tt([et,dt])}}function tt(et){if(A)throw new TypeError("Generator is already executing.");for(;P;)try{if(A=1,B&&(q=et[0]&2?B.return:et[0]?B.throw||((q=B.return)&&q.call(B),0):B.next)&&!(q=q.call(B,et[1])).done)return q;switch(B=0,q&&(et=[et[0]&2,q.value]),et[0]){case 0:case 1:q=et;break;case 4:return P.label++,{value:et[1],done:!1};case 5:P.label++,B=et[1],et=[0];continue;case 7:et=P.ops.pop(),P.trys.pop();continue;default:if(q=P.trys,!(q=q.length>0&&q[q.length-1])&&(et[0]===6||et[0]===2)){P=0;continue}if(et[0]===3&&(!q||et[1]>q[0]&&et[1]<q[3])){P.label=et[1];break}if(et[0]===6&&P.label<q[1]){P.label=q[1],q=et;break}if(q&&P.label<q[2]){P.label=q[2],P.ops.push(et);break}q[2]&&P.ops.pop(),P.trys.pop();continue}et=U.call(V,P)}catch(dt){et=[6,dt],B=0}finally{A=q=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}},ur=0,lr=new Set,rr=new Set,Lt;{var jt=Promise.resolve(),Wt;typeof queueMicrotask!="undefined"?Wt=queueMicrotask:typeof m!="undefined"&&m.nextTick?Wt=function(V){m.nextTick(V)}:Wt=function(V){setTimeout(V,0)};var Qe=function(){return new Promise(function(V){Wt(V)})};Lt=function(){return jt=jt.then(Qe),jt}}var lt=[];function Ke(V){return $t(this,void 0,void 0,function(){var U,P,A,B,q,He,Le,tt,et,dt,Ht;return tr(this,function(Mt){switch(Mt.label){case 0:U=lt[lt.length-1],U||N("'actionAsync' context not present when running 'task'. did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?"),P=U.runId,A=U.actionName,B=U.args,q=U.scope,He=U.actionRunInfo,Le=U.step,tt=Le+1,lt.pop(),Object(h.g)(He),rr.delete(P),Mt.label=1;case 1:return Mt.trys.push([1,4,6,7]),[4,V];case 2:return et=Mt.sent(),[4,Lt()];case 3:return Mt.sent(),[2,et];case 4:return dt=Mt.sent(),[4,Lt()];case 5:throw Mt.sent(),dt;case 6:return lr.has(P)&&(Ht=Object(h.j)(Nt(A,P,tt),this,B),lt.push({runId:P,step:tt,actionRunInfo:Ht,actionName:A,args:B,scope:q}),rr.add(P)),[7];case 7:return[2]}})})}function ct(V,U,P){if(typeof arguments[1]=="string")return Ct("@actionAsync",function(q,He){return xt(q,He)},V,U,P);var A=typeof V=="string"?V:V.name||"<unnamed action>",B=typeof V=="function"?V:U;return xt(A,B)}function xt(V,U){return(!h.j||!h.g)&&N("'actionAsync' requires mobx >=5.13.1 or >=4.13.1"),C(typeof U=="function","'asyncAction' expects a function"),(typeof V!="string"||!V)&&N("actions should have valid names, got: '"+V+"'"),function(){for(var P=[],A=0;A<arguments.length;A++)P[A]=arguments[A];return $t(this,void 0,void 0,function(){var B,q,He,Le,tt,et;return tr(this,function(dt){switch(dt.label){case 0:B=ur++,lr.add(B),q=Object(h.j)(Nt(V,B,0),this,P),lt.push({runId:B,step:0,actionRunInfo:q,actionName:V,args:P,scope:this}),rr.add(B),He=function(Ht){lr.delete(B);var Mt=lt.pop();if(!Mt||Mt.runId!==B){Mt&&lt.push(Mt);var hr="invalid 'actionAsync' context when finishing action '"+V+"'.";Mt?hr+=" an action context for '"+Mt.actionName+"' was found instead.":hr+=" no action context could be found instead.",hr+=" did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?",N(hr)}if(Mt.actionRunInfo.error=Ht,Object(h.g)(Mt.actionRunInfo),rr.delete(B),Ht)throw Ht};try{Le=U.apply(this,P)}catch(Ht){He(Ht)}if(rr.has(B))return He(void 0),[2,Le];dt.label=1;case 1:return dt.trys.push([1,3,,4]),[4,Le];case 2:return tt=dt.sent(),[3,4];case 3:return et=dt.sent(),He(et),[3,4];case 4:return He(void 0),[2,tt]}})})}}function Nt(V,U,P){return V+" - runid "+U+" - step "+P}}).call(this,a(155))},function(E,M,a){var m;(function(h,S,T){if(!h)return;for(var N={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},C={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},I={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},z={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},G,Z=1;Z<20;++Z)N[111+Z]="f"+Z;for(Z=0;Z<=9;++Z)N[Z+96]=Z.toString();function F(H,ne,ie){if(H.addEventListener){H.addEventListener(ne,ie,!1);return}H.attachEvent("on"+ne,ie)}function _(H){if(H.type=="keypress"){var ne=String.fromCharCode(H.which);return H.shiftKey||(ne=ne.toLowerCase()),ne}return N[H.which]?N[H.which]:C[H.which]?C[H.which]:String.fromCharCode(H.which).toLowerCase()}function oe(H,ne){return H.sort().join(",")===ne.sort().join(",")}function fe(H){var ne=[];return H.shiftKey&&ne.push("shift"),H.altKey&&ne.push("alt"),H.ctrlKey&&ne.push("ctrl"),H.metaKey&&ne.push("meta"),ne}function te(H){if(H.preventDefault){H.preventDefault();return}H.returnValue=!1}function Ae(H){if(H.stopPropagation){H.stopPropagation();return}H.cancelBubble=!0}function ye(H){return H=="shift"||H=="ctrl"||H=="alt"||H=="meta"}function ge(){if(!G){G={};for(var H in N)H>95&&H<112||N.hasOwnProperty(H)&&(G[N[H]]=H)}return G}function ce(H,ne,ie){return ie||(ie=ge()[H]?"keydown":"keypress"),ie=="keypress"&&ne.length&&(ie="keydown"),ie}function me(H){return H==="+"?["+"]:(H=H.replace(/\+{2}/g,"+plus"),H.split("+"))}function pe(H,ne){var ie,de,re,J=[];for(ie=me(H),re=0;re<ie.length;++re)de=ie[re],z[de]&&(de=z[de]),ne&&ne!="keypress"&&I[de]&&(de=I[de],J.push("shift")),ye(de)&&J.push(de);return ne=ce(de,J,ne),{key:de,modifiers:J,action:ne}}function he(H,ne){return H===null||H===S?!1:H===ne?!0:he(H.parentNode,ne)}function ue(H){var ne=this;if(H=H||S,!(ne instanceof ue))return new ue(H);ne.target=H,ne._callbacks={},ne._directMap={};var ie={},de,re=!1,J=!1,ae=!1;function we(Me){Me=Me||{};var Be=!1,ze;for(ze in ie){if(Me[ze]){Be=!0;continue}ie[ze]=0}Be||(ae=!1)}function Ce(Me,Be,ze,Fe,Q,W){var se,Pe,Ve=[],Ee=ze.type;if(!ne._callbacks[Me])return[];for(Ee=="keyup"&&ye(Me)&&(Be=[Me]),se=0;se<ne._callbacks[Me].length;++se)if(Pe=ne._callbacks[Me][se],!(!Fe&&Pe.seq&&ie[Pe.seq]!=Pe.level)&&Ee==Pe.action&&(Ee=="keypress"&&!ze.metaKey&&!ze.ctrlKey||oe(Be,Pe.modifiers))){var ft=!Fe&&Pe.combo==Q,at=Fe&&Pe.seq==Fe&&Pe.level==W;(ft||at)&&ne._callbacks[Me].splice(se,1),Ve.push(Pe)}return Ve}function Ge(Me,Be,ze,Fe){ne.stopCallback(Be,Be.target||Be.srcElement,ze,Fe)||Me(Be,ze)===!1&&(te(Be),Ae(Be))}ne._handleKey=function(Me,Be,ze){var Fe=Ce(Me,Be,ze),Q,W={},se=0,Pe=!1;for(Q=0;Q<Fe.length;++Q)Fe[Q].seq&&(se=Math.max(se,Fe[Q].level));for(Q=0;Q<Fe.length;++Q){if(Fe[Q].seq){if(Fe[Q].level!=se)continue;Pe=!0,W[Fe[Q].seq]=1,Ge(Fe[Q].callback,ze,Fe[Q].combo,Fe[Q].seq);continue}Pe||Ge(Fe[Q].callback,ze,Fe[Q].combo)}var Ve=ze.type=="keypress"&&J;ze.type==ae&&!ye(Me)&&!Ve&&we(W),J=Pe&&ze.type=="keydown"};function _e(Me){typeof Me.which!="number"&&(Me.which=Me.keyCode);var Be=_(Me);if(!!Be){if(Me.type=="keyup"&&re===Be){re=!1;return}ne.handleKey(Be,fe(Me),Me)}}function qe(){clearTimeout(de),de=setTimeout(we,1e3)}function vt(Me,Be,ze,Fe){ie[Me]=0;function Q(Ee){return function(){ae=Ee,++ie[Me],qe()}}function W(Ee){Ge(ze,Ee,Me),Fe!=="keyup"&&(re=_(Ee)),setTimeout(we,10)}for(var se=0;se<Be.length;++se){var Pe=se+1===Be.length,Ve=Pe?W:Q(Fe||pe(Be[se+1]).action);ke(Be[se],Ve,Fe,Me,se)}}function ke(Me,Be,ze,Fe,Q){ne._directMap[Me+":"+ze]=Be,Me=Me.replace(/\s+/g," ");var W=Me.split(" "),se;if(W.length>1){vt(Me,W,Be,ze);return}se=pe(Me,ze),ne._callbacks[se.key]=ne._callbacks[se.key]||[],Ce(se.key,se.modifiers,{type:se.action},Fe,Me,Q),ne._callbacks[se.key][Fe?"unshift":"push"]({callback:Be,modifiers:se.modifiers,action:se.action,seq:Fe,level:Q,combo:Me})}ne._bindMultiple=function(Me,Be,ze){for(var Fe=0;Fe<Me.length;++Fe)ke(Me[Fe],Be,ze)},F(H,"keypress",_e),F(H,"keydown",_e),F(H,"keyup",_e)}ue.prototype.bind=function(H,ne,ie){var de=this;return H=H instanceof Array?H:[H],de._bindMultiple.call(de,H,ne,ie),de},ue.prototype.unbind=function(H,ne){var ie=this;return ie.bind.call(ie,H,function(){},ne)},ue.prototype.trigger=function(H,ne){var ie=this;return ie._directMap[H+":"+ne]&&ie._directMap[H+":"+ne]({},H),ie},ue.prototype.reset=function(){var H=this;return H._callbacks={},H._directMap={},H},ue.prototype.stopCallback=function(H,ne){var ie=this;if((" "+ne.className+" ").indexOf(" mousetrap ")>-1||he(ne,ie.target))return!1;if("composedPath"in H&&typeof H.composedPath=="function"){var de=H.composedPath()[0];de!==H.target&&(ne=de)}return ne.tagName=="INPUT"||ne.tagName=="SELECT"||ne.tagName=="TEXTAREA"||ne.isContentEditable},ue.prototype.handleKey=function(){var H=this;return H._handleKey.apply(H,arguments)},ue.addKeycodes=function(H){for(var ne in H)H.hasOwnProperty(ne)&&(N[ne]=H[ne]);G=null},ue.init=function(){var H=ue(S);for(var ne in H)ne.charAt(0)!=="_"&&(ue[ne]=function(ie){return function(){return H[ie].apply(H,arguments)}}(ne))},ue.init(),h.Mousetrap=ue,E.exports&&(E.exports=ue),m=function(){return ue}.call(M,a,M,E),m!==T&&(E.exports=m)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(E,M,a){var m=a(36),h=a(37),S=a(32),T=a(39),N=a(66);E.exports=m?Object.defineProperties:function(I,z){S(I);for(var G=T(z),Z=N(z),F=Z.length,_=0,oe;F>_;)h.f(I,oe=Z[_++],G[oe]);return I}},function(E,M,a){var m=a(7),h=a(35),S=a(28),T=a(33),N=m.TypeError;E.exports=function(C,I){var z,G;if(I==="string"&&S(z=C.toString)&&!T(G=h(z,C))||S(z=C.valueOf)&&!T(G=h(z,C))||I!=="string"&&S(z=C.toString)&&!T(G=h(z,C)))return G;throw N("Can't convert object to primitive value")}},function(E,M,a){var m=a(7),h=a(28),S=a(92),T=m.WeakMap;E.exports=h(T)&&/native code/.test(S(T))},function(E,M,a){"use strict";var m=a(136).IteratorPrototype,h=a(54),S=a(71),T=a(73),N=a(70),C=function(){return this};E.exports=function(I,z,G,Z){var F=z+" Iterator";return I.prototype=h(m,{next:S(+!Z,G)}),T(I,F,!1,!0),N[F]=C,I}},function(E,M,a){var m=a(7),h=a(28),S=m.String,T=m.TypeError;E.exports=function(N){if(typeof N=="object"||h(N))return N;throw T("Can't set "+S(N)+" as a prototype")}},function(E,M,a){"use strict";var m=a(16),h=a(7),S=a(15),T=a(95),N=a(44),C=a(138),I=a(114),z=a(117),G=a(28),Z=a(33),F=a(18),_=a(118),oe=a(73),fe=a(143);E.exports=function(te,Ae,ye){var ge=te.indexOf("Map")!==-1,ce=te.indexOf("Weak")!==-1,me=ge?"set":"add",pe=h[te],he=pe&&pe.prototype,ue=pe,H={},ne=function(Ce){var Ge=S(he[Ce]);N(he,Ce,Ce=="add"?function(qe){return Ge(this,qe===0?0:qe),this}:Ce=="delete"?function(_e){return ce&&!Z(_e)?!1:Ge(this,_e===0?0:_e)}:Ce=="get"?function(qe){return ce&&!Z(qe)?void 0:Ge(this,qe===0?0:qe)}:Ce=="has"?function(qe){return ce&&!Z(qe)?!1:Ge(this,qe===0?0:qe)}:function(qe,vt){return Ge(this,qe===0?0:qe,vt),this})},ie=T(te,!G(pe)||!(ce||he.forEach&&!F(function(){new pe().entries().next()})));if(ie)ue=ye.getConstructor(Ae,te,ge,me),C.enable();else if(T(te,!0)){var de=new ue,re=de[me](ce?{}:-0,1)!=de,J=F(function(){de.has(1)}),ae=_(function(Ce){new pe(Ce)}),we=!ce&&F(function(){for(var Ce=new pe,Ge=5;Ge--;)Ce[me](Ge,Ge);return!Ce.has(-0)});ae||(ue=Ae(function(Ce,Ge){z(Ce,he);var _e=fe(new pe,Ce,ue);return Ge!=null&&I(Ge,_e[me],{that:_e,AS_ENTRIES:ge}),_e}),ue.prototype=he,he.constructor=ue),(J||we)&&(ne("delete"),ne("has"),ge&&ne("get")),(we||re)&&ne(me),ce&&he.clear&&delete he.clear}return H[te]=ue,m({global:!0,forced:ue!=pe},H),oe(ue,te),ce||ye.setStrong(ue,te,ge),ue}},function(E,M,a){var m=a(18),h=a(33),S=a(50),T=a(175),N=Object.isExtensible,C=m(function(){N(1)});E.exports=C||T?function(z){return!h(z)||T&&S(z)=="ArrayBuffer"?!1:N?N(z):!0}:N},function(E,M,a){var m=a(18);E.exports=m(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},function(E,M,a){var m=a(18);E.exports=!m(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(E,M,a){"use strict";var m=a(37).f,h=a(54),S=a(144),T=a(62),N=a(117),C=a(114),I=a(111),z=a(145),G=a(36),Z=a(138).fastKey,F=a(56),_=F.set,oe=F.getterFor;E.exports={getConstructor:function(fe,te,Ae,ye){var ge=fe(function(ue,H){N(ue,ce),_(ue,{type:te,index:h(null),first:void 0,last:void 0,size:0}),G||(ue.size=0),H!=null&&C(H,ue[ye],{that:ue,AS_ENTRIES:Ae})}),ce=ge.prototype,me=oe(te),pe=function(ue,H,ne){var ie=me(ue),de=he(ue,H),re,J;return de?de.value=ne:(ie.last=de={index:J=Z(H,!0),key:H,value:ne,previous:re=ie.last,next:void 0,removed:!1},ie.first||(ie.first=de),re&&(re.next=de),G?ie.size++:ue.size++,J!=="F"&&(ie.index[J]=de)),ue},he=function(ue,H){var ne=me(ue),ie=Z(H),de;if(ie!=="F")return ne.index[ie];for(de=ne.first;de;de=de.next)if(de.key==H)return de};return S(ce,{clear:function(){for(var H=this,ne=me(H),ie=ne.index,de=ne.first;de;)de.removed=!0,de.previous&&(de.previous=de.previous.next=void 0),delete ie[de.index],de=de.next;ne.first=ne.last=void 0,G?ne.size=0:H.size=0},delete:function(ue){var H=this,ne=me(H),ie=he(H,ue);if(ie){var de=ie.next,re=ie.previous;delete ne.index[ie.index],ie.removed=!0,re&&(re.next=de),de&&(de.previous=re),ne.first==ie&&(ne.first=de),ne.last==ie&&(ne.last=re),G?ne.size--:H.size--}return!!ie},forEach:function(H){for(var ne=me(this),ie=T(H,arguments.length>1?arguments[1]:void 0),de;de=de?de.next:ne.first;)for(ie(de.value,de.key,this);de&&de.removed;)de=de.previous},has:function(H){return!!he(this,H)}}),S(ce,Ae?{get:function(H){var ne=he(this,H);return ne&&ne.value},set:function(H,ne){return pe(this,H===0?0:H,ne)}}:{add:function(H){return pe(this,H=H===0?0:H,H)}}),G&&m(ce,"size",{get:function(){return me(this).size}}),ge},setStrong:function(fe,te,Ae){var ye=te+" Iterator",ge=oe(te),ce=oe(ye);I(fe,te,function(me,pe){_(this,{type:ye,target:me,state:ge(me),kind:pe,last:void 0})},function(){for(var me=ce(this),pe=me.kind,he=me.last;he&&he.removed;)he=he.previous;return!me.target||!(me.last=he=he?he.next:me.state.first)?(me.target=void 0,{value:void 0,done:!0}):pe=="keys"?{value:he.key,done:!1}:pe=="values"?{value:he.value,done:!1}:{value:[he.key,he.value],done:!1}},Ae?"entries":"values",!Ae,!0),z(te)}}},function(E,M,a){"use strict";var m=a(116),h=a(98);E.exports=m?{}.toString:function(){return"[object "+h(this)+"]"}},function(E,M,a){"use strict";var m=a(74).forEach,h=a(120),S=h("forEach");E.exports=S?[].forEach:function(N){return m(this,N,arguments.length>1?arguments[1]:void 0)}},function(E,M,a){var m=a(7),h=a(99),S=a(100),T=a(33),N=a(27),C=N("species"),I=m.Array;E.exports=function(z){var G;return h(z)&&(G=z.constructor,S(G)&&(G===I||h(G.prototype))?G=void 0:T(G)&&(G=G[C],G===null&&(G=void 0))),G===void 0?I:G}},function(E,M,a){var m=a(7);E.exports=m},function(E,M,a){"use strict";var m=a(7),h=a(62),S=a(35),T=a(38),N=a(183),C=a(140),I=a(100),z=a(43),G=a(61),Z=a(141),F=a(115),_=m.Array;E.exports=function(fe){var te=T(fe),Ae=I(this),ye=arguments.length,ge=ye>1?arguments[1]:void 0,ce=ge!==void 0;ce&&(ge=h(ge,ye>2?arguments[2]:void 0));var me=F(te),pe=0,he,ue,H,ne,ie,de;if(me&&!(this==_&&C(me)))for(ne=Z(te,me),ie=ne.next,ue=Ae?new this:[];!(H=S(ie,ne)).done;pe++)de=ce?N(ne,ge,[H.value,pe],!0):H.value,G(ue,pe,de);else for(he=z(te),ue=Ae?new this(he):_(he);he>pe;pe++)de=ce?ge(te[pe],pe):te[pe],G(ue,pe,de);return ue.length=pe,ue}},function(E,M,a){var m=a(32),h=a(142);E.exports=function(S,T,N,C){try{return C?T(m(N)[0],N[1]):T(N)}catch(I){h(S,"throw",I)}}},function(E,M,a){"use strict";var m=a(32);E.exports=function(){var h=m(this),S="";return h.global&&(S+="g"),h.ignoreCase&&(S+="i"),h.multiline&&(S+="m"),h.dotAll&&(S+="s"),h.unicode&&(S+="u"),h.sticky&&(S+="y"),S}},function(E,M,a){var m=a(18),h=a(7),S=h.RegExp;E.exports=m(function(){var T=S(".","s");return!(T.dotAll&&T.exec(`
`)&&T.flags==="s")})},function(E,M,a){var m=a(18),h=a(7),S=h.RegExp;E.exports=m(function(){var T=S("(?<a>b)","g");return T.exec("b").groups.a!=="b"||"b".replace(T,"$<a>c")!=="bc"})},function(E,M,a){"use strict";var m=a(16),h=a(15),S=a(55),T=a(38),N=a(43),C=a(40),I=a(18),z=a(188),G=a(120),Z=a(189),F=a(190),_=a(65),oe=a(191),fe=[],te=h(fe.sort),Ae=h(fe.push),ye=I(function(){fe.sort(void 0)}),ge=I(function(){fe.sort(null)}),ce=G("sort"),me=!I(function(){if(_)return _<70;if(!(Z&&Z>3)){if(F)return!0;if(oe)return oe<603;var ue="",H,ne,ie,de;for(H=65;H<76;H++){switch(ne=String.fromCharCode(H),H){case 66:case 69:case 70:case 72:ie=3;break;case 68:case 71:ie=4;break;default:ie=2}for(de=0;de<47;de++)fe.push({k:ne+de,v:ie})}for(fe.sort(function(re,J){return J.v-re.v}),de=0;de<fe.length;de++)ne=fe[de].k.charAt(0),ue.charAt(ue.length-1)!==ne&&(ue+=ne);return ue!=="DGBEFHACIJK"}}),pe=ye||!ge||!ce||!me,he=function(ue){return function(H,ne){return ne===void 0?-1:H===void 0?1:ue!==void 0?+ue(H,ne)||0:C(H)>C(ne)?1:-1}};m({target:"Array",proto:!0,forced:pe},{sort:function(H){H!==void 0&&S(H);var ne=T(this);if(me)return H===void 0?te(ne):te(ne,H);var ie=[],de=N(ne),re,J;for(J=0;J<de;J++)J in ne&&Ae(ie,ne[J]);for(z(ie,he(H)),re=ie.length,J=0;J<re;)ne[J]=ie[J++];for(;J<de;)delete ne[J++];return ne}})},function(E,M,a){var m=a(113),h=Math.floor,S=function(C,I){var z=C.length,G=h(z/2);return z<8?T(C,I):N(C,S(m(C,0,G),I),S(m(C,G),I),I)},T=function(C,I){for(var z=C.length,G=1,Z,F;G<z;){for(F=G,Z=C[G];F&&I(C[F-1],Z)>0;)C[F]=C[--F];F!==G++&&(C[F]=Z)}return C},N=function(C,I,z,G){for(var Z=I.length,F=z.length,_=0,oe=0;_<Z||oe<F;)C[_+oe]=_<Z&&oe<F?G(I[_],z[oe])<=0?I[_++]:z[oe++]:_<Z?I[_++]:z[oe++];return C};E.exports=S},function(E,M,a){var m=a(53),h=m.match(/firefox\/(\d+)/i);E.exports=!!h&&+h[1]},function(E,M,a){var m=a(53);E.exports=/MSIE|Trident/.test(m)},function(E,M,a){var m=a(53),h=m.match(/AppleWebKit\/(\d+)\./);E.exports=!!h&&+h[1]},function(E,M,a){"use strict";var m=a(16),h=a(74).find,S=a(83),T="find",N=!0;T in[]&&Array(1)[T](function(){N=!1}),m({target:"Array",proto:!0,forced:N},{find:function(I){return h(this,I,arguments.length>1?arguments[1]:void 0)}}),S(T)},function(E,M,a){var m=a(7),h=a(154),S=m.TypeError;E.exports=function(T){if(h(T))throw S("The method doesn't accept regular expressions");return T}},function(E,M,a){var m=a(27),h=m("match");E.exports=function(S){var T=/./;try{"/./"[S](T)}catch(N){try{return T[h]=!1,"/./"[S](T)}catch(C){}}return!1}},function(E,M,a){var m=a(94).PROPER,h=a(18),S=a(160),T="\u200B\x85\u180E";E.exports=function(N){return h(function(){return!!S[N]()||T[N]()!==T||m&&S[N].name!==N})}},function(E,M,a){var m=a(15);E.exports=m(1 .valueOf)},function(E,M,a){var m=a(15),h=a(38),S=Math.floor,T=m("".charAt),N=m("".replace),C=m("".slice),I=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,z=/\$([$&'`]|\d{1,2})/g;E.exports=function(G,Z,F,_,oe,fe){var te=F+G.length,Ae=_.length,ye=z;return oe!==void 0&&(oe=h(oe),ye=I),N(fe,ye,function(ge,ce){var me;switch(T(ce,0)){case"$":return"$";case"&":return G;case"`":return C(Z,0,F);case"'":return C(Z,te);case"<":me=oe[C(ce,1,-1)];break;default:var pe=+ce;if(pe===0)return ge;if(pe>Ae){var he=S(pe/10);return he===0?ge:he<=Ae?_[he-1]===void 0?T(ce,1):_[he-1]+T(ce,1):ge}me=_[pe-1]}return me===void 0?"":me})}},function(E,M,a){"use strict";var m=a(36),h=a(15),S=a(35),T=a(18),N=a(66),C=a(112),I=a(93),z=a(38),G=a(81),Z=Object.assign,F=Object.defineProperty,_=h([].concat);E.exports=!Z||T(function(){if(m&&Z({b:1},Z(F({},"a",{enumerable:!0,get:function(){F(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var oe={},fe={},te=Symbol(),Ae="abcdefghijklmnopqrst";return oe[te]=7,Ae.split("").forEach(function(ye){fe[ye]=ye}),Z({},oe)[te]!=7||N(Z({},fe)).join("")!=Ae})?function(fe,te){for(var Ae=z(fe),ye=arguments.length,ge=1,ce=C.f,me=I.f;ye>ge;)for(var pe=G(arguments[ge++]),he=ce?_(N(pe),ce(pe)):N(pe),ue=he.length,H=0,ne;ue>H;)ne=he[H++],(!m||S(me,pe,ne))&&(Ae[ne]=pe[ne]);return Ae}:Z},function(E,M,a){"use strict";var m=a(7),h=a(15),S=a(55),T=a(33),N=a(34),C=a(101),I=m.Function,z=h([].concat),G=h([].join),Z={},F=function(_,oe,fe){if(!N(Z,oe)){for(var te=[],Ae=0;Ae<oe;Ae++)te[Ae]="a["+Ae+"]";Z[oe]=I("C,a","return new C("+G(te,",")+")")}return Z[oe](_,fe)};E.exports=I.bind||function(oe){var fe=S(this),te=fe.prototype,Ae=C(arguments,1),ye=function(){var ce=z(Ae,C(arguments));return this instanceof ye?F(fe,ce.length,ce):fe.apply(oe,ce)};return T(te)&&(ye.prototype=te),ye}},function(E,M,a){var m=a(34);E.exports=function(h){return h!==void 0&&(m(h,"value")||m(h,"writable"))}},function(E,M,a){var m=a(15),h=a(45),S=a(40),T=/"/g,N=m("".replace);E.exports=function(C,I,z,G){var Z=S(h(C)),F="<"+I;return z!==""&&(F+=" "+z+'="'+N(S(G),T,"&quot;")+'"'),F+">"+Z+"</"+I+">"}},function(E,M,a){var m=a(18);E.exports=function(h){return m(function(){var S=""[h]('"');return S!==S.toLowerCase()||S.split('"').length>3})}},function(E,M,a){var m=a(16),h=Math.hypot,S=Math.abs,T=Math.sqrt,N=!!h&&h(Infinity,NaN)!==Infinity;m({target:"Math",stat:!0,forced:N},{hypot:function(I,z){for(var G=0,Z=0,F=arguments.length,_=0,oe,fe;Z<F;)oe=S(arguments[Z++]),_<oe?(fe=_/oe,G=G*fe*fe+1,_=oe):oe>0?(fe=oe/_,G+=fe*fe):G+=oe;return _===Infinity?Infinity:_*T(G)}})},function(E,M,a){"use strict";var m=a(16),h=a(64),S=a(7),T=a(46),N=a(35),C=a(205),I=a(44),z=a(144),G=a(97),Z=a(73),F=a(145),_=a(55),oe=a(28),fe=a(33),te=a(117),Ae=a(92),ye=a(114),ge=a(118),ce=a(156),me=a(162).set,pe=a(206),he=a(209),ue=a(210),H=a(164),ne=a(211),ie=a(56),de=a(95),re=a(27),J=a(212),ae=a(126),we=a(65),Ce=re("species"),Ge="Promise",_e=ie.getterFor(Ge),qe=ie.set,vt=ie.getterFor(Ge),ke=C&&C.prototype,Me=C,Be=ke,ze=S.TypeError,Fe=S.document,Q=S.process,W=H.f,se=W,Pe=!!(Fe&&Fe.createEvent&&S.dispatchEvent),Ve=oe(S.PromiseRejectionEvent),Ee="unhandledrejection",ft="rejectionhandled",at=0,ot=1,pt=2,Re=1,Pt=2,Je=!1,ut,gt,At,It,Ct=de(Ge,function(){var Qe=Ae(Me),lt=Qe!==String(Me);if(!lt&&we===66||h&&!Be.finally)return!0;if(we>=51&&/native code/.test(Qe))return!1;var Ke=new Me(function(Nt){Nt(1)}),ct=function(Nt){Nt(function(){},function(){})},xt=Ke.constructor={};return xt[Ce]=ct,Je=Ke.then(function(){})instanceof ct,Je?!lt&&J&&!Ve:!0}),Ft=Ct||!ge(function(Qe){Me.all(Qe).catch(function(){})}),Qt=function(Qe){var lt;return fe(Qe)&&oe(lt=Qe.then)?lt:!1},$t=function(Qe,lt){if(!Qe.notified){Qe.notified=!0;var Ke=Qe.reactions;pe(function(){for(var ct=Qe.value,xt=Qe.state==ot,Nt=0;Ke.length>Nt;){var V=Ke[Nt++],U=xt?V.ok:V.fail,P=V.resolve,A=V.reject,B=V.domain,q,He,Le;try{U?(xt||(Qe.rejection===Pt&&rr(Qe),Qe.rejection=Re),U===!0?q=ct:(B&&B.enter(),q=U(ct),B&&(B.exit(),Le=!0)),q===V.promise?A(ze("Promise-chain cycle")):(He=Qt(q))?N(He,q,P,A):P(q)):A(ct)}catch(tt){B&&!Le&&B.exit(),A(tt)}}Qe.reactions=[],Qe.notified=!1,lt&&!Qe.rejection&&ur(Qe)})}},tr=function(Qe,lt,Ke){var ct,xt;Pe?(ct=Fe.createEvent("Event"),ct.promise=lt,ct.reason=Ke,ct.initEvent(Qe,!1,!0),S.dispatchEvent(ct)):ct={promise:lt,reason:Ke},!Ve&&(xt=S["on"+Qe])?xt(ct):Qe===Ee&&ue("Unhandled promise rejection",Ke)},ur=function(Qe){N(me,S,function(){var lt=Qe.facade,Ke=Qe.value,ct=lr(Qe),xt;if(ct&&(xt=ne(function(){ae?Q.emit("unhandledRejection",Ke,lt):tr(Ee,lt,Ke)}),Qe.rejection=ae||lr(Qe)?Pt:Re,xt.error))throw xt.value})},lr=function(Qe){return Qe.rejection!==Re&&!Qe.parent},rr=function(Qe){N(me,S,function(){var lt=Qe.facade;ae?Q.emit("rejectionHandled",lt):tr(ft,lt,Qe.value)})},Lt=function(Qe,lt,Ke){return function(ct){Qe(lt,ct,Ke)}},jt=function(Qe,lt,Ke){Qe.done||(Qe.done=!0,Ke&&(Qe=Ke),Qe.value=lt,Qe.state=pt,$t(Qe,!0))},Wt=function(Qe,lt,Ke){if(!Qe.done){Qe.done=!0,Ke&&(Qe=Ke);try{if(Qe.facade===lt)throw ze("Promise can't be resolved itself");var ct=Qt(lt);ct?pe(function(){var xt={done:!1};try{N(ct,lt,Lt(Wt,xt,Qe),Lt(jt,xt,Qe))}catch(Nt){jt(xt,Nt,Qe)}}):(Qe.value=lt,Qe.state=ot,$t(Qe,!1))}catch(xt){jt({done:!1},xt,Qe)}}};if(Ct&&(Me=function(lt){te(this,Be),_(lt),N(ut,this);var Ke=_e(this);try{lt(Lt(Wt,Ke),Lt(jt,Ke))}catch(ct){jt(Ke,ct)}},Be=Me.prototype,ut=function(lt){qe(this,{type:Ge,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:at,value:void 0})},ut.prototype=z(Be,{then:function(lt,Ke){var ct=vt(this),xt=ct.reactions,Nt=W(ce(this,Me));return Nt.ok=oe(lt)?lt:!0,Nt.fail=oe(Ke)&&Ke,Nt.domain=ae?Q.domain:void 0,ct.parent=!0,xt[xt.length]=Nt,ct.state!=at&&$t(ct,!1),Nt.promise},catch:function(Qe){return this.then(void 0,Qe)}}),gt=function(){var Qe=new ut,lt=_e(Qe);this.promise=Qe,this.resolve=Lt(Wt,lt),this.reject=Lt(jt,lt)},H.f=W=function(Qe){return Qe===Me||Qe===At?new gt(Qe):se(Qe)},!h&&oe(C)&&ke!==Object.prototype)){It=ke.then,Je||(I(ke,"then",function(lt,Ke){var ct=this;return new Me(function(xt,Nt){N(It,ct,xt,Nt)}).then(lt,Ke)},{unsafe:!0}),I(ke,"catch",Be.catch,{unsafe:!0}));try{delete ke.constructor}catch(Qe){}G&&G(ke,Be)}m({global:!0,wrap:!0,forced:Ct},{Promise:Me}),Z(Me,Ge,!1,!0),F(Ge),At=T(Ge),m({target:Ge,stat:!0,forced:Ct},{reject:function(lt){var Ke=W(this);return N(Ke.reject,void 0,lt),Ke.promise}}),m({target:Ge,stat:!0,forced:h||Ct},{resolve:function(lt){return he(h&&this===At?Me:this,lt)}}),m({target:Ge,stat:!0,forced:Ft},{all:function(lt){var Ke=this,ct=W(Ke),xt=ct.resolve,Nt=ct.reject,V=ne(function(){var U=_(Ke.resolve),P=[],A=0,B=1;ye(lt,function(q){var He=A++,Le=!1;B++,N(U,Ke,q).then(function(tt){Le||(Le=!0,P[He]=tt,--B||xt(P))},Nt)}),--B||xt(P)});return V.error&&Nt(V.value),ct.promise},race:function(lt){var Ke=this,ct=W(Ke),xt=ct.reject,Nt=ne(function(){var V=_(Ke.resolve);ye(lt,function(U){N(V,Ke,U).then(ct.resolve,xt)})});return Nt.error&&xt(Nt.value),ct.promise}})},function(E,M,a){var m=a(7);E.exports=m.Promise},function(E,M,a){var m=a(7),h=a(62),S=a(51).f,T=a(162).set,N=a(163),C=a(207),I=a(208),z=a(126),G=m.MutationObserver||m.WebKitMutationObserver,Z=m.document,F=m.process,_=m.Promise,oe=S(m,"queueMicrotask"),fe=oe&&oe.value,te,Ae,ye,ge,ce,me,pe,he;fe||(te=function(){var ue,H;for(z&&(ue=F.domain)&&ue.exit();Ae;){H=Ae.fn,Ae=Ae.next;try{H()}catch(ne){throw Ae?ge():ye=void 0,ne}}ye=void 0,ue&&ue.enter()},!N&&!z&&!I&&G&&Z?(ce=!0,me=Z.createTextNode(""),new G(te).observe(me,{characterData:!0}),ge=function(){me.data=ce=!ce}):!C&&_&&_.resolve?(pe=_.resolve(void 0),pe.constructor=_,he=h(pe.then,pe),ge=function(){he(te)}):z?ge=function(){F.nextTick(te)}:(T=h(T,m),ge=function(){T(te)})),E.exports=fe||function(ue){var H={fn:ue,next:void 0};ye&&(ye.next=H),Ae||(Ae=H,ge()),ye=H}},function(E,M,a){var m=a(53),h=a(7);E.exports=/ipad|iphone|ipod/i.test(m)&&h.Pebble!==void 0},function(E,M,a){var m=a(53);E.exports=/web0s(?!.*chrome)/i.test(m)},function(E,M,a){var m=a(32),h=a(33),S=a(164);E.exports=function(T,N){if(m(T),h(N)&&N.constructor===T)return N;var C=S.f(T),I=C.resolve;return I(N),C.promise}},function(E,M,a){var m=a(7);E.exports=function(h,S){var T=m.console;T&&T.error&&(arguments.length==1?T.error(h):T.error(h,S))}},function(E,M){E.exports=function(a){try{return{error:!1,value:a()}}catch(m){return{error:!0,value:m}}}},function(E,M){E.exports=typeof window=="object"},function(E,M,a){var m=a(36),h=a(15),S=a(66),T=a(39),N=a(93).f,C=h(N),I=h([].push),z=function(G){return function(Z){for(var F=T(Z),_=S(F),oe=_.length,fe=0,te=[],Ae;oe>fe;)Ae=_[fe++],(!m||C(F,Ae))&&I(te,G?[Ae,F[Ae]]:F[Ae]);return te}};E.exports={entries:z(!0),values:z(!1)}},function(E,M,a){"use strict";var m=a(38),h=a(67),S=a(43);E.exports=function(N){for(var C=m(this),I=S(C),z=arguments.length,G=h(z>1?arguments[1]:void 0,I),Z=z>2?arguments[2]:void 0,F=Z===void 0?I:h(Z,I);F>G;)C[G++]=N;return C}},function(E,M,a){"use strict";a.r(M),a.d(M,"observer",function(){return Cn}),a.d(M,"LogicFlow",function(){return qc}),a.d(M,"h",function(){return je.g}),a.d(M,"LogicFlowUtil",function(){return m}),a.d(M,"BaseNode",function(){return Oo}),a.d(M,"RectNode",function(){return pc}),a.d(M,"CircleNode",function(){return yc}),a.d(M,"PolygonNode",function(){return bc}),a.d(M,"DiamondNode",function(){return xc}),a.d(M,"EllipseNode",function(){return Mc}),a.d(M,"TextNode",function(){return Tc}),a.d(M,"HtmlNode",function(){return Dc}),a.d(M,"BaseEdge",function(){return $a}),a.d(M,"LineEdge",function(){return Hc}),a.d(M,"PolylineEdge",function(){return kc}),a.d(M,"BezierEdge",function(){return Xc}),a.d(M,"Arrow",function(){return bD}),a.d(M,"BaseEdgeModel",function(){return Ef}),a.d(M,"BezierEdgeModel",function(){return Vf}),a.d(M,"LineEdgeModel",function(){return ja}),a.d(M,"PolylineEdgeModel",function(){return Pu}),a.d(M,"BaseNodeModel",function(){return mo}),a.d(M,"CircleNodeModel",function(){return hl}),a.d(M,"DiamondNodeModel",function(){return gl}),a.d(M,"EllipseNodeModel",function(){return El}),a.d(M,"PolygonNodeModel",function(){return wl}),a.d(M,"RectNodeModel",function(){return Dl}),a.d(M,"TextNodeModel",function(){return Rl}),a.d(M,"HtmlNodeModel",function(){return Bl}),a.d(M,"EditConfigModel",function(){return Qd}),a.d(M,"GraphModel",function(){return Vh}),a.d(M,"SnaplineModel",function(){return Vy}),a.d(M,"Keyboard",function(){return nm}),a.d(M,"get",function(){return Nv}),a.d(M,"defaults",function(){return Dv});var m={};a.r(m),a.d(m,"createUuid",function(){return li}),a.d(m,"refreshGraphId",function(){return w0}),a.d(m,"createDrag",function(){return Cf}),a.d(m,"StepDrag",function(){return si});var h=a(0),S=a(10);if(!S.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var T=a(42),N=Object(T.b)("observerBatching");function C(e){e()}function I(e){e||(e=C),Object(h.n)({reactionScheduler:e}),Object(T.a)()[N]=!0}var z=function(){return!!Object(T.a)()[N]},G=!1;function Z(e){G=e}function F(){return G}function _(e){return Object(h.t)(e)}function oe(e){var r={cleanAt:Date.now()+fe,reaction:e};return r}var fe=1e4,te=1e4,Ae=new Set,ye;function ge(){ye===void 0&&(ye=setTimeout(pe,te))}function ce(e){Ae.add(e),ge()}function me(e){Ae.delete(e)}function pe(){ye=void 0;var e=Date.now();Ae.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,Ae.delete(r))}),Ae.size>0&&ge()}function he(){ye&&(clearTimeout(ye),pe())}function ue(){ye&&(clearTimeout(ye),ye=void 0),Ae.clear()}var H=!1,ne=[];function ie(e){return function(){H?ne.push(e):e()}}function de(e){H=!0,ne=[];try{var r=e();H=!1;var t=ne.length>0?ne:void 0;return S.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{H=!1}}var re={};function J(e){return"observer"+e}function ae(e,r,t){if(r===void 0&&(r="observed"),t===void 0&&(t=re),F())return e();var n=t.useForceUpdate||T.d,o=n(),i=ie(o),l=S.d.useRef(null);if(!l.current){var c=new h.c(J(r),function(){g.mounted?i():(c.dispose(),l.current=null)}),g=oe(c);l.current=g,ce(l)}var x=l.current.reaction;return S.d.useDebugValue(x,_),S.d.useEffect(function(){return me(l),l.current?l.current.mounted=!0:(l.current={reaction:new h.c(J(r),function(){i()}),cleanAt:Infinity},i()),function(){l.current.reaction.dispose(),l.current=null}},[]),de(function(){var D,L;if(x.track(function(){try{D=e()}catch($){L=$}}),L)throw L;return D})}var we=function(){return we=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},we.apply(this,arguments)};function Ce(e,r){if(F())return e;var t=we({forwardRef:!1},r),n=e.displayName||e.name,o=function(l,c){return ae(function(){return e(l,c)},n)};o.displayName=n;var i;return t.forwardRef?i=Object(S.f)(Object(S.e)(o)):i=Object(S.f)(o),_e(e,i),i.displayName=n,i}var Ge={$$typeof:!0,render:!0,compare:!0,type:!0};function _e(e,r){Object.keys(e).forEach(function(t){Ge[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function qe(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:ae(n)}qe.propTypes={children:vt,render:vt},qe.displayName="Observer";function vt(e,r,t,n,o){var i=r==="children"?"render":"children",l=typeof e[r]=="function",c=typeof e[i]=="function";return l&&c?new Error("MobX Observer: Do not use children and render in the same time in`"+t):l||c?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}var ke=function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],l;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){l={error:c}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return i};function Me(e,r){var t=r?"useLocalStore":"useAsObservableSource";if(!1)var n,o;if(!(r&&e===void 0)){var i=ke(S.d.useState(function(){return Object(h.C)(e,{},{deep:!1})}),1),l=i[0];return Object(h.G)(function(){Object.assign(l,e)}),l}}function Be(e){return Me(e,!1)}function ze(e,r){var t=Me(r,!0);return S.d.useState(function(){var n=Object(h.C)(e(t));return Object(T.c)(n)&&Object(h.G)(function(){Object.keys(n).forEach(function(o){var i=n[o];typeof i=="function"&&(n[o]=Fe(i,n))})}),n})[0]}function Fe(e,r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Object(h.J)(function(){return e.apply(r,t)})}}I(S.g);var Q=0;function W(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+Q+")";return Q++,r}var se={};function Pe(e){return se[e]||(se[e]=W(e)),se[e]}function Ve(e,r){if(Ee(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ee(e[t[o]],r[t[o]]))return!1;return!0}function Ee(e,r){return e===r?e!==0||1/e==1/r:e!==e&&r!==r}var ft={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function at(e,r){var t=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach(function(n){!ft[n]&&t.indexOf(n)===-1&&Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}function ot(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var pt=Pe("patchMixins"),Re=Pe("patchedDefinition");function Pt(e,r){var t=e[pt]=e[pt]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function Je(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];r.locks++;try{var l;return e!=null&&(l=e.apply(this,o)),l}finally{r.locks--,r.locks===0&&r.methods.forEach(function(c){c.apply(t,o)})}}function ut(e,r){var t=function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];Je.call.apply(Je,[this,e,r].concat(i))};return t}function gt(e,r,t){var n=Pt(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Re])){var i=e[r],l=At(e,r,o?o.enumerable:void 0,n,i);Object.defineProperty(e,r,l)}}function At(e,r,t,n,o){var i,l=ut(o,n);return i={},i[Re]=!0,i.get=function(){return l},i.set=function(g){if(this===e)l=ut(g,n);else{var x=At(this,r,t,n,g);Object.defineProperty(this,r,x)}},i.configurable=!0,i.enumerable=t,i}var It=h.a||"$mobx",Ct=Pe("isMobXReactObserver"),Ft=Pe("isUnmounted"),Qt=Pe("skipRender"),$t=Pe("isForcingUpdate");function tr(e){var r=e.prototype;if(e[Ct]){var t=ur(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[Ct]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==S.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=rr;else if(r.shouldComponentUpdate!==rr)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Lt(r,"props"),Lt(r,"state");var n=r.render;return r.render=function(){return lr.call(this,n)},gt(r,"componentWillUnmount",function(){var o;if(F()!==!0&&((o=this.render[It])===null||o===void 0||o.dispose(),this[Ft]=!0,!this.render[It])){var i=ur(this);console.warn("The reactive render of an observer class component ("+i+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ur(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function lr(e){var r=this;if(F()===!0)return e.call(this);ot(this,Qt,!1),ot(this,$t,!1);var t=ur(this),n=e.bind(this),o=!1,i=new h.c(t+".render()",function(){if(!o&&(o=!0,r[Ft]!==!0)){var c=!0;try{ot(r,$t,!0),r[Qt]||S.a.prototype.forceUpdate.call(r),c=!1}finally{ot(r,$t,!1),c&&i.dispose()}}});i.reactComponent=this,l[It]=i,this.render=l;function l(){o=!1;var c=void 0,g=void 0;if(i.track(function(){try{g=Object(h.d)(!1,n)}catch(x){c=x}}),c)throw c;return g}return l.call(this)}function rr(e,r){return F()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==r?!0:!Ve(this.props,e)}function Lt(e,r){var t=Pe("reactProp_"+r+"_valueHolder"),n=Pe("reactProp_"+r+"_atomHolder");function o(){return this[n]||ot(this,n,Object(h.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var l=!1;return h.f&&h.e&&(l=Object(h.f)(!0)),o.call(this).reportObserved(),h.f&&h.e&&Object(h.e)(l),this[t]},set:function(l){!this[$t]&&!Ve(this[t],l)?(ot(this,t,l),ot(this,Qt,!0),o.call(this).reportChanged(),ot(this,Qt,!1)):ot(this,t,l)}})}var jt=typeof Symbol=="function"&&Symbol.for,Wt=jt?Symbol.for("react.forward_ref"):typeof S.e=="function"&&Object(S.e)(function(e){return null}).$$typeof,Qe=jt?Symbol.for("react.memo"):typeof S.f=="function"&&Object(S.f)(function(e){return null}).$$typeof;function lt(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Qe&&e.$$typeof===Qe)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Wt&&e.$$typeof===Wt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(S.e)(function(){var n=arguments;return Object(S.c)(qe,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(S.a,e)?Ce(e):tr(e)}function Ke(){return Ke=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ke.apply(this,arguments)}function ct(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var xt=S.d.createContext({});function Nt(e){var r=e.children,t=ct(e,["children"]),n=S.d.useContext(xt),o=S.d.useRef(Ke({},n,t)),i=o.current;if(!1)var l;return S.d.createElement(xt.Provider,{value:i},r)}Nt.displayName="MobXProvider";function V(e,r,t,n){var o=S.d.forwardRef(function(i,l){var c=Ke({},i),g=S.d.useContext(xt);return Object.assign(c,e(g||{},c)||{}),l&&(c.ref=l),S.d.createElement(r,c)});return n&&(o=lt(o)),o.isMobxInjector=!0,at(r,o),o.wrappedComponent=r,o.displayName=U(r,t),o}function U(e,r){var t,n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return r?t="inject-with-"+r+"("+n+")":t="inject("+n+")",t}function P(e){return function(r,t){return e.forEach(function(n){if(!(n in t)){if(!(n in r))throw new Error("MobX injector: Store '"+n+"' is not available! Make sure it is provided by some Provider");t[n]=r[n]}}),t}}function A(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];if(typeof arguments[0]=="function"){var n=arguments[0];return function(o){return V(n,o,n.name,!0)}}else return function(o){return V(P(r),o,r.join("-"),!1)}}var B=Pe("disposeOnUnmountProto"),q=Pe("disposeOnUnmountInst");function He(){var e=this;[].concat(this[B]||[],this[q]||[]).forEach(function(r){var t=typeof r=="string"?e[r]:r;t!=null&&(Array.isArray(t)?t.map(function(n){return n()}):t())})}function Le(e,r){if(Array.isArray(r))return r.map(function(g){return Le(e,g)});var t=Object.getPrototypeOf(e).constructor,n=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(!(t===S.d.Component||t===S.d.PureComponent||n===S.d.Component||n===S.d.PureComponent||o===S.d.Component||o===S.d.PureComponent))throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if(typeof r!="string"&&typeof r!="function"&&!Array.isArray(r))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var i=typeof r=="string",l=!!e[B]||!!e[q],c=i?e[B]||(e[B]=[]):e[q]||(e[q]=[]);if(c.push(r),l||gt(e,"componentWillUnmount",He),typeof r!="string")return r}function tt(e){function r(n,o,i,l,c,g){for(var x=arguments.length,D=new Array(x>6?x-6:0),L=6;L<x;L++)D[L-6]=arguments[L];return Object(h.K)(function(){if(l=l||"<<anonymous>>",g=g||i,o[i]==null){if(n){var $=o[i]===null?"null":"undefined";return new Error("The "+c+" `"+g+"` is marked as required in `"+l+"`, but its value is `"+$+"`.")}return null}else return e.apply(void 0,[o,i,l,c,g].concat(D))})}var t=r.bind(null,!1);return t.isRequired=r.bind(null,!0),t}function et(e,r){return e==="symbol"||r["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&r instanceof Symbol}function dt(e){var r=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":et(r,e)?"symbol":r}function Ht(e){var r=dt(e);if(r==="object"){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return r}function Mt(e,r){return tt(function(t,n,o,i,l){return Object(h.K)(function(){if(e&&dt(t[n])===r.toLowerCase())return null;var c;switch(r){case"Array":c=h.y;break;case"Object":c=h.A;break;case"Map":c=h.z;break;default:throw new Error("Unexpected mobxType: "+r)}var g=t[n];if(!c(g)){var x=Ht(g),D=e?" or javascript `"+r.toLowerCase()+"`":"";return new Error("Invalid prop `"+l+"` of type `"+x+"` supplied to `"+o+"`, expected `mobx.Observable"+r+"`"+D+".")}return null})})}function hr(e,r){return tt(function(t,n,o,i,l){for(var c=arguments.length,g=new Array(c>5?c-5:0),x=5;x<c;x++)g[x-5]=arguments[x];return Object(h.K)(function(){if(typeof r!="function")return new Error("Property `"+l+"` of component `"+o+"` has invalid PropType notation.");var D=Mt(e,"Array")(t,n,o,i,l);if(D instanceof Error)return D;for(var L=t[n],$=0;$<L.length;$++)if(D=r.apply(void 0,[L,$,o,i,l+"["+$+"]"].concat(g)),D instanceof Error)return D;return null})})}var Vt=Mt(!1,"Array"),sr=hr.bind(null,!1),wr=Mt(!1,"Map"),Rr=Mt(!1,"Object"),Yr=Mt(!0,"Array"),vi=hr.bind(null,!0),na=Mt(!0,"Object"),Ya={observableArray:Vt,observableArrayOf:sr,observableMap:wr,observableObject:Rr,arrayOrObservableArray:Yr,arrayOrObservableArrayOf:vi,objectOrObservableObject:na};if(!S.a)throw new Error("mobx-react requires React to be available");if(!h.C)throw new Error("mobx-react requires mobx to be available");var je=a(1),xo=a(3),sn=a(60),ko=a(2),Vr=a(6),yi=a(4),io=a(11),So=a(41),Va=a(24),jn=a(20),oa=a(5),Uo=a(22),Xo=a(21),Za=a(23),it=a(8),_a=a(9),Hs=a(17),Gs=a(25),ks=a(19),ia=a(29),Po=a(187),aa=a(192),ua=a(103),Zr=a(152),en=a(153);function Rn(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var nr=Rn;function gi(){this.__data__=[],this.size=0}var la=gi;function In(e,r){return e===r||e!==e&&r!==r}var mn=In;function Ln(e,r){for(var t=e.length;t--;)if(mn(e[t][0],r))return t;return-1}var Bn=Ln,$o=Array.prototype,Wo=$o.splice;function _r(e){var r=this.__data__,t=Bn(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():Wo.call(r,t,1),--this.size,!0}var mi=_r;function tn(e){var r=this.__data__,t=Bn(r,e);return t<0?void 0:r[t][1]}var ao=tn;function br(e){return Bn(this.__data__,e)>-1}var bn=br;function uo(e,r){var t=this.__data__,n=Bn(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var zn=uo;function Fn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Fn.prototype.clear=la,Fn.prototype.delete=mi,Fn.prototype.get=ao,Fn.prototype.has=bn,Fn.prototype.set=zn;var On=Fn;function Mo(){this.__data__=new On,this.size=0}var Ko=Mo;function bi(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var sa=bi;function rn(e){return this.__data__.get(e)}var fa=rn;function Oi(e){return this.__data__.has(e)}var Hn=Oi,Ir=a(31),Ei=Ir.a.Symbol,Er=Ei,Yo=Object.prototype,ca=Yo.hasOwnProperty,xi=Yo.toString,fn=Er?Er.toStringTag:void 0;function Si(e){var r=ca.call(e,fn),t=e[fn];try{e[fn]=void 0;var n=!0}catch(i){}var o=xi.call(e);return n&&(r?e[fn]=t:delete e[fn]),o}var da=Si,Ja=Object.prototype,Pi=Ja.toString;function pa(e){return Pi.call(e)}var Gn=pa,wo="[object Null]",En="[object Undefined]",To=Er?Er.toStringTag:void 0;function Vo(e){return e==null?e===void 0?En:wo:To&&To in Object(e)?da(e):Gn(e)}var cn=Vo;function Ao(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Tr=Ao,ha="[object AsyncFunction]",dn="[object Function]",Qa="[object GeneratorFunction]",qa="[object Proxy]";function va(e){if(!Tr(e))return!1;var r=cn(e);return r==dn||r==Qa||r==ha||r==qa}var Zo=va,lo=Ir.a["__core-js_shared__"],_o=lo,so=function(){var e=/[^.]+$/.exec(_o&&_o.keys&&_o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Jo(e){return!!so&&so in e}var fo=Jo,eu=Function.prototype,kn=eu.toString;function co(e){if(e!=null){try{return kn.call(e)}catch(r){}try{return e+""}catch(r){}}return""}var pn=co,Mi=/[\\^$.*+?()[\]{}|]/g,tu=/^\[object .+?Constructor\]$/,ya=Function.prototype,wi=Object.prototype,Qo=ya.toString,ga=wi.hasOwnProperty,Ti=RegExp("^"+Qo.call(ga).replace(Mi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qo(e){if(!Tr(e)||fo(e))return!1;var r=Zo(e)?Ti:tu;return r.test(pn(e))}var Un=qo;function hn(e,r){return e==null?void 0:e[r]}var ma=hn;function ei(e,r){var t=ma(e,r);return Un(t)?t:void 0}var vn=ei,Jr=vn(Ir.a,"Map"),po=Jr,Ai=vn(Object,"create"),xn=Ai;function ti(){this.__data__=xn?xn(null):{},this.size=0}var ri=ti;function Ni(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var No=Ni,Qr="__lodash_hash_undefined__",Xn=Object.prototype,Gr=Xn.hasOwnProperty;function Lr(e){var r=this.__data__;if(xn){var t=r[e];return t===Qr?void 0:t}return Gr.call(r,e)?r[e]:void 0}var ho=Lr,kr=Object.prototype,ba=kr.hasOwnProperty;function ru(e){var r=this.__data__;return xn?r[e]!==void 0:ba.call(r,e)}var Oa=ru,$n="__lodash_hash_undefined__";function nn(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=xn&&r===void 0?$n:r,this}var vo=nn;function fr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}fr.prototype.clear=ri,fr.prototype.delete=No,fr.prototype.get=ho,fr.prototype.has=Oa,fr.prototype.set=vo;var ni=fr;function Do(){this.size=0,this.__data__={hash:new ni,map:new(po||On),string:new ni}}var oi=Do;function dr(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Di=dr;function Ea(e,r){var t=e.__data__;return Di(r)?t[typeof r=="string"?"string":"hash"]:t.map}var Co=Ea;function p(e){var r=Co(this,e).delete(e);return this.size-=r?1:0,r}var s=p;function u(e){return Co(this,e).get(e)}var v=u;function y(e){return Co(this,e).has(e)}var b=y;function w(e,r){var t=Co(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var j=w;function X(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}X.prototype.clear=oi,X.prototype.delete=s,X.prototype.get=v,X.prototype.has=b,X.prototype.set=j;var Y=X,K=200;function xe(e,r){var t=this.__data__;if(t instanceof On){var n=t.__data__;if(!po||n.length<K-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Y(n)}return t.set(e,r),this.size=t.size,this}var Ne=xe;function De(e){var r=this.__data__=new On(e);this.size=r.size}De.prototype.clear=Ko,De.prototype.delete=sa,De.prototype.get=fa,De.prototype.has=Hn,De.prototype.set=Ne;var Xe=De,yt="__lodash_hash_undefined__";function bt(e){return this.__data__.set(e,yt),this}var Et=bt;function ht(e){return this.__data__.has(e)}var Bt=ht;function pr(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Y;++r<t;)this.add(e[r])}pr.prototype.add=pr.prototype.push=Et,pr.prototype.has=Bt;var f=pr;function d(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var O=d;function R(e,r){return e.has(r)}var k=R,le=1,be=2;function Ue(e,r,t,n,o,i){var l=t&le,c=e.length,g=r.length;if(c!=g&&!(l&&g>c))return!1;var x=i.get(e),D=i.get(r);if(x&&D)return x==r&&D==e;var L=-1,$=!0,ee=t&be?new f:void 0;for(i.set(e,r),i.set(r,e);++L<c;){var ve=e[L],Oe=r[L];if(n)var Te=l?n(Oe,ve,L,r,e,i):n(ve,Oe,L,e,r,i);if(Te!==void 0){if(Te)continue;$=!1;break}if(ee){if(!O(r,function(Se,Ze){if(!k(ee,Ze)&&(ve===Se||o(ve,Se,t,n,i)))return ee.push(Ze)})){$=!1;break}}else if(!(ve===Oe||o(ve,Oe,t,n,i))){$=!1;break}}return i.delete(e),i.delete(r),$}var rt=Ue,Xt=Ir.a.Uint8Array,Gt=Xt;function _t(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Jt=_t;function or(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var xr=or,Sr=1,Br=2,jo="[object Boolean]",xa="[object Date]",Us="[object Error]",nu="[object Map]",ou="[object Number]",Sa="[object RegExp]",iu="[object Set]",Pa="[object String]",dm="[object Symbol]",pm="[object ArrayBuffer]",hm="[object DataView]",td=Er?Er.prototype:void 0,Xs=td?td.valueOf:void 0;function vm(e,r,t,n,o,i,l){switch(t){case hm:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case pm:return!(e.byteLength!=r.byteLength||!i(new Gt(e),new Gt(r)));case jo:case xa:case ou:return mn(+e,+r);case Us:return e.name==r.name&&e.message==r.message;case Sa:case Pa:return e==r+"";case nu:var c=Jt;case iu:var g=n&Sr;if(c||(c=xr),e.size!=r.size&&!g)return!1;var x=l.get(e);if(x)return x==r;n|=Br,l.set(e,r);var D=rt(c(e),c(r),n,o,i,l);return l.delete(e),D;case dm:if(Xs)return Xs.call(e)==Xs.call(r)}return!1}var ym=vm;function gm(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var $s=gm,mm=Array.isArray,Ur=mm;function bm(e,r,t){var n=r(e);return Ur(e)?n:$s(n,t(e))}var rd=bm;function Om(e,r){for(var t=-1,n=e==null?0:e.length,o=0,i=[];++t<n;){var l=e[t];r(l,t,e)&&(i[o++]=l)}return i}var Em=Om;function xm(){return[]}var nd=xm,Sm=Object.prototype,Pm=Sm.propertyIsEnumerable,od=Object.getOwnPropertySymbols,Mm=od?function(e){return e==null?[]:(e=Object(e),Em(od(e),function(r){return Pm.call(e,r)}))}:nd,Ws=Mm;function wm(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Tm=wm;function Am(e){return e!=null&&typeof e=="object"}var Wn=Am,Nm="[object Arguments]";function Dm(e){return Wn(e)&&cn(e)==Nm}var id=Dm,ad=Object.prototype,Cm=ad.hasOwnProperty,jm=ad.propertyIsEnumerable,Rm=id(function(){return arguments}())?id:function(e){return Wn(e)&&Cm.call(e,"callee")&&!jm.call(e,"callee")},Ma=Rm,wa=a(48),Im=9007199254740991,Lm=/^(?:0|[1-9]\d*)$/;function Bm(e,r){var t=typeof e;return r=r==null?Im:r,!!r&&(t=="number"||t!="symbol"&&Lm.test(e))&&e>-1&&e%1==0&&e<r}var au=Bm,zm=9007199254740991;function Fm(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=zm}var Ks=Fm,Hm="[object Arguments]",Gm="[object Array]",km="[object Boolean]",Um="[object Date]",Xm="[object Error]",$m="[object Function]",Wm="[object Map]",Km="[object Number]",Ym="[object Object]",Vm="[object RegExp]",Zm="[object Set]",_m="[object String]",Jm="[object WeakMap]",Qm="[object ArrayBuffer]",qm="[object DataView]",eb="[object Float32Array]",tb="[object Float64Array]",rb="[object Int8Array]",nb="[object Int16Array]",ob="[object Int32Array]",ib="[object Uint8Array]",ab="[object Uint8ClampedArray]",ub="[object Uint16Array]",lb="[object Uint32Array]",cr={};cr[eb]=cr[tb]=cr[rb]=cr[nb]=cr[ob]=cr[ib]=cr[ab]=cr[ub]=cr[lb]=!0,cr[Hm]=cr[Gm]=cr[Qm]=cr[km]=cr[qm]=cr[Um]=cr[Xm]=cr[$m]=cr[Wm]=cr[Km]=cr[Ym]=cr[Vm]=cr[Zm]=cr[_m]=cr[Jm]=!1;function sb(e){return Wn(e)&&Ks(e.length)&&!!cr[cn(e)]}var fb=sb;function cb(e){return function(r){return e(r)}}var Ys=cb,Ci=a(49),ud=Ci.a&&Ci.a.isTypedArray,db=ud?Ys(ud):fb,Vs=db,pb=Object.prototype,hb=pb.hasOwnProperty;function vb(e,r){var t=Ur(e),n=!t&&Ma(e),o=!t&&!n&&Object(wa.a)(e),i=!t&&!n&&!o&&Vs(e),l=t||n||o||i,c=l?Tm(e.length,String):[],g=c.length;for(var x in e)(r||hb.call(e,x))&&!(l&&(x=="length"||o&&(x=="offset"||x=="parent")||i&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||au(x,g)))&&c.push(x);return c}var ld=vb,yb=Object.prototype;function gb(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||yb;return e===t}var uu=gb;function mb(e,r){return function(t){return e(r(t))}}var sd=mb,bb=sd(Object.keys,Object),Ob=bb,Eb=Object.prototype,xb=Eb.hasOwnProperty;function Sb(e){if(!uu(e))return Ob(e);var r=[];for(var t in Object(e))xb.call(e,t)&&t!="constructor"&&r.push(t);return r}var Pb=Sb;function Mb(e){return e!=null&&Ks(e.length)&&!Zo(e)}var ii=Mb;function wb(e){return ii(e)?ld(e):Pb(e)}var ji=wb;function Tb(e){return rd(e,ji,Ws)}var Zs=Tb,Ab=1,Nb=Object.prototype,Db=Nb.hasOwnProperty;function Cb(e,r,t,n,o,i){var l=t&Ab,c=Zs(e),g=c.length,x=Zs(r),D=x.length;if(g!=D&&!l)return!1;for(var L=g;L--;){var $=c[L];if(!(l?$ in r:Db.call(r,$)))return!1}var ee=i.get(e),ve=i.get(r);if(ee&&ve)return ee==r&&ve==e;var Oe=!0;i.set(e,r),i.set(r,e);for(var Te=l;++L<g;){$=c[L];var Se=e[$],Ze=r[$];if(n)var $e=l?n(Ze,Se,$,r,e,i):n(Se,Ze,$,e,r,i);if(!($e===void 0?Se===Ze||o(Se,Ze,t,n,i):$e)){Oe=!1;break}Te||(Te=$=="constructor")}if(Oe&&!Te){var We=e.constructor,mt=r.constructor;We!=mt&&"constructor"in e&&"constructor"in r&&!(typeof We=="function"&&We instanceof We&&typeof mt=="function"&&mt instanceof mt)&&(Oe=!1)}return i.delete(e),i.delete(r),Oe}var jb=Cb,Rb=vn(Ir.a,"DataView"),_s=Rb,Ib=vn(Ir.a,"Promise"),Js=Ib,Lb=vn(Ir.a,"Set"),Qs=Lb,Bb=vn(Ir.a,"WeakMap"),qs=Bb,fd="[object Map]",zb="[object Object]",cd="[object Promise]",dd="[object Set]",pd="[object WeakMap]",hd="[object DataView]",Fb=pn(_s),Hb=pn(po),Gb=pn(Js),kb=pn(Qs),Ub=pn(qs),ai=cn;(_s&&ai(new _s(new ArrayBuffer(1)))!=hd||po&&ai(new po)!=fd||Js&&ai(Js.resolve())!=cd||Qs&&ai(new Qs)!=dd||qs&&ai(new qs)!=pd)&&(ai=function(e){var r=cn(e),t=r==zb?e.constructor:void 0,n=t?pn(t):"";if(n)switch(n){case Fb:return hd;case Hb:return fd;case Gb:return cd;case kb:return dd;case Ub:return pd}return r});var Ta=ai,Xb=1,vd="[object Arguments]",yd="[object Array]",lu="[object Object]",$b=Object.prototype,gd=$b.hasOwnProperty;function Wb(e,r,t,n,o,i){var l=Ur(e),c=Ur(r),g=l?yd:Ta(e),x=c?yd:Ta(r);g=g==vd?lu:g,x=x==vd?lu:x;var D=g==lu,L=x==lu,$=g==x;if($&&Object(wa.a)(e)){if(!Object(wa.a)(r))return!1;l=!0,D=!1}if($&&!D)return i||(i=new Xe),l||Vs(e)?rt(e,r,t,n,o,i):ym(e,r,g,t,n,o,i);if(!(t&Xb)){var ee=D&&gd.call(e,"__wrapped__"),ve=L&&gd.call(r,"__wrapped__");if(ee||ve){var Oe=ee?e.value():e,Te=ve?r.value():r;return i||(i=new Xe),o(Oe,Te,t,n,i)}}return $?(i||(i=new Xe),jb(e,r,t,n,o,i)):!1}var Kb=Wb;function md(e,r,t,n,o){return e===r?!0:e==null||r==null||!Wn(e)&&!Wn(r)?e!==e&&r!==r:Kb(e,r,t,n,md,o)}var ef=md,Yb=1,Vb=2;function Zb(e,r,t,n){var o=t.length,i=o,l=!n;if(e==null)return!i;for(e=Object(e);o--;){var c=t[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){c=t[o];var g=c[0],x=e[g],D=c[1];if(l&&c[2]){if(x===void 0&&!(g in e))return!1}else{var L=new Xe;if(n)var $=n(x,D,g,e,r,L);if(!($===void 0?ef(D,x,Yb|Vb,n,L):$))return!1}}return!0}var _b=Zb;function Jb(e){return e===e&&!Tr(e)}var bd=Jb;function Qb(e){for(var r=ji(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,bd(o)]}return r}var qb=Qb;function eO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Od=eO;function tO(e){var r=qb(e);return r.length==1&&r[0][2]?Od(r[0][0],r[0][1]):function(t){return t===e||_b(t,e,r)}}var rO=tO,nO="[object Symbol]";function oO(e){return typeof e=="symbol"||Wn(e)&&cn(e)==nO}var su=oO,iO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aO=/^\w*$/;function uO(e,r){if(Ur(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||su(e)?!0:aO.test(e)||!iO.test(e)||r!=null&&e in Object(r)}var tf=uO,lO="Expected a function";function rf(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(lO);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=t.cache;if(i.has(o))return i.get(o);var l=e.apply(this,n);return t.cache=i.set(o,l)||i,l};return t.cache=new(rf.Cache||Y),t}rf.Cache=Y;var sO=rf,fO=500;function cO(e){var r=sO(e,function(n){return t.size===fO&&t.clear(),n}),t=r.cache;return r}var dO=cO,pO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hO=/\\(\\)?/g,vO=dO(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(pO,function(t,n,o,i){r.push(o?i.replace(hO,"$1"):n||t)}),r}),yO=vO,gO=1/0,Ed=Er?Er.prototype:void 0,xd=Ed?Ed.toString:void 0;function Sd(e){if(typeof e=="string")return e;if(Ur(e))return nr(e,Sd)+"";if(su(e))return xd?xd.call(e):"";var r=e+"";return r=="0"&&1/e==-gO?"-0":r}var mO=Sd;function bO(e){return e==null?"":mO(e)}var OO=bO;function EO(e,r){return Ur(e)?e:tf(e,r)?[e]:yO(OO(e))}var fu=EO,xO=1/0;function SO(e){if(typeof e=="string"||su(e))return e;var r=e+"";return r=="0"&&1/e==-xO?"-0":r}var Aa=SO;function PO(e,r){r=fu(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[Aa(r[t++])];return t&&t==n?e:void 0}var nf=PO;function MO(e,r,t){var n=e==null?void 0:nf(e,r);return n===void 0?t:n}var Pd=MO;function wO(e,r){return e!=null&&r in Object(e)}var TO=wO;function AO(e,r,t){r=fu(r,e);for(var n=-1,o=r.length,i=!1;++n<o;){var l=Aa(r[n]);if(!(i=e!=null&&t(e,l)))break;e=e[l]}return i||++n!=o?i:(o=e==null?0:e.length,!!o&&Ks(o)&&au(l,o)&&(Ur(e)||Ma(e)))}var NO=AO;function DO(e,r){return e!=null&&NO(e,r,TO)}var Md=DO,CO=1,jO=2;function RO(e,r){return tf(e)&&bd(r)?Od(Aa(e),r):function(t){var n=Pd(t,e);return n===void 0&&n===r?Md(t,e):ef(r,n,CO|jO)}}var IO=RO;function LO(e){return e}var of=LO;function BO(e){return function(r){return r==null?void 0:r[e]}}var zO=BO;function FO(e){return function(r){return nf(r,e)}}var HO=FO;function GO(e){return tf(e)?zO(Aa(e)):HO(e)}var kO=GO;function UO(e){return typeof e=="function"?e:e==null?of:typeof e=="object"?Ur(e)?IO(e[0],e[1]):rO(e):kO(e)}var XO=UO;function $O(e){return function(r,t,n){for(var o=-1,i=Object(r),l=n(r),c=l.length;c--;){var g=l[e?c:++o];if(t(i[g],g,i)===!1)break}return r}}var WO=$O,KO=WO(),wd=KO;function YO(e,r){return e&&wd(e,r,ji)}var VO=YO;function ZO(e,r){return function(t,n){if(t==null)return t;if(!ii(t))return e(t,n);for(var o=t.length,i=r?o:-1,l=Object(t);(r?i--:++i<o)&&n(l[i],i,l)!==!1;);return t}}var _O=ZO,JO=_O(VO),QO=JO;function qO(e,r){var t=-1,n=ii(e)?Array(e.length):[];return QO(e,function(o,i,l){n[++t]=r(o,i,l)}),n}var eE=qO;function tE(e,r){var t=Ur(e)?nr:eE;return t(e,XO(r,3))}var cu=tE,rE=function(){try{var e=vn(Object,"defineProperty");return e({},"",{}),e}catch(r){}}(),du=rE;function nE(e,r,t){r=="__proto__"&&du?du(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var af=nE,oE=Object.prototype,iE=oE.hasOwnProperty;function aE(e,r,t){var n=e[r];(!(iE.call(e,r)&&mn(n,t))||t===void 0&&!(r in e))&&af(e,r,t)}var pu=aE;function uE(e,r,t,n){var o=!t;t||(t={});for(var i=-1,l=r.length;++i<l;){var c=r[i],g=n?n(t[c],e[c],c,t,e):void 0;g===void 0&&(g=e[c]),o?af(t,c,g):pu(t,c,g)}return t}var Ri=uE;function lE(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var sE=lE,Td=Math.max;function fE(e,r,t){return r=Td(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,i=Td(n.length-r,0),l=Array(i);++o<i;)l[o]=n[r+o];o=-1;for(var c=Array(r+1);++o<r;)c[o]=n[o];return c[r]=t(l),sE(e,this,c)}}var Ad=fE;function cE(e){return function(){return e}}var dE=cE,pE=du?function(e,r){return du(e,"toString",{configurable:!0,enumerable:!1,value:dE(r),writable:!0})}:of,hE=pE,vE=800,yE=16,gE=Date.now;function mE(e){var r=0,t=0;return function(){var n=gE(),o=yE-(n-t);if(t=n,o>0){if(++r>=vE)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var bE=mE,OE=bE(hE),Nd=OE;function EE(e,r){return Nd(Ad(e,r,of),e+"")}var xE=EE;function SE(e,r,t){if(!Tr(t))return!1;var n=typeof r;return(n=="number"?ii(t)&&au(r,t.length):n=="string"&&r in t)?mn(t[r],e):!1}var PE=SE;function ME(e){return xE(function(r,t){var n=-1,o=t.length,i=o>1?t[o-1]:void 0,l=o>2?t[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,l&&PE(t[0],t[1],l)&&(i=o<3?void 0:i,o=1),r=Object(r);++n<o;){var c=t[n];c&&e(r,c,n,i)}return r})}var Dd=ME,wE=Object.prototype,TE=wE.hasOwnProperty,AE=Dd(function(e,r){if(uu(r)||ii(r)){Ri(r,ji(r),e);return}for(var t in r)TE.call(r,t)&&pu(e,t,r[t])}),Xr=AE;function NE(e,r,t,n){if(!Tr(e))return e;r=fu(r,e);for(var o=-1,i=r.length,l=i-1,c=e;c!=null&&++o<i;){var g=Aa(r[o]),x=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(o!=l){var D=c[g];x=n?n(D,g,c):void 0,x===void 0&&(x=Tr(D)?D:au(r[o+1])?[]:{})}pu(c,g,x),c=c[g]}return e}var DE=NE;function CE(e,r,t){for(var n=-1,o=r.length,i={};++n<o;){var l=r[n],c=nf(e,l);t(c,l)&&DE(i,fu(l,e),c)}return i}var jE=CE;function RE(e,r){return jE(e,r,function(t,n){return Md(e,n)})}var IE=RE,Cd=Er?Er.isConcatSpreadable:void 0;function LE(e){return Ur(e)||Ma(e)||!!(Cd&&e&&e[Cd])}var BE=LE;function jd(e,r,t,n,o){var i=-1,l=e.length;for(t||(t=BE),o||(o=[]);++i<l;){var c=e[i];r>0&&t(c)?r>1?jd(c,r-1,t,n,o):$s(o,c):n||(o[o.length]=c)}return o}var zE=jd;function FE(e){var r=e==null?0:e.length;return r?zE(e,1):[]}var HE=FE;function GE(e){return Nd(Ad(e,void 0,HE),e+"")}var kE=GE,UE=kE(function(e,r){return e==null?{}:IE(e,r)}),Na=UE,yr,Rd,Id,Ld,Bd,zd,Fd,Hd,Gd,kd,Ud,Xd,$d,Wd,Kd,Yd,Vd,Zd;function Cr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function XE(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _d(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $E(e,r,t){return r&&_d(e.prototype,r),t&&_d(e,t),e}function Jd(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ar(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function BC(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var WE={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},uf=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],Qd=(yr=function(){function e(r){XE(this,e),Cr(this,"isSilentMode",Rd,this),Cr(this,"stopZoomGraph",Id,this),Cr(this,"stopScrollGraph",Ld,this),Cr(this,"stopMoveGraph",Bd,this),Cr(this,"adjustEdge",zd,this),Cr(this,"adjustEdgeMiddle",Fd,this),Cr(this,"adjustEdgeStartAndEnd",Hd,this),Cr(this,"adjustNodePosition",Gd,this),Cr(this,"hideAnchors",kd,this),Cr(this,"hoverOutline",Ud,this),Cr(this,"nodeSelectedOutline",Xd,this),Cr(this,"edgeSelectedOutline",$d,this),Cr(this,"nodeTextEdit",Wd,this),Cr(this,"edgeTextEdit",Kd,this),Cr(this,"nodeTextDraggable",Yd,this),Cr(this,"edgeTextDraggable",Vd,this),Cr(this,"autoExpand",Zd,this),Jd(this,"multipleSelectKey",""),Jd(this,"defaultConfig",{}),Xr(this,this.getConfigDetail(r))}return $E(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);Xr(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,i={};if(n===!1&&Xr(i,this.defaultConfig),n===!0){var l=Na(WE,uf);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},Xr(i,l)}o===!1&&Xr(i,{nodeTextEdit:!1,edgeTextEdit:!1});var c=Na(t,uf);return Xr(i,c)}},{key:"getConfig",value:function(){return Na(this,uf)}}]),e}(),Rd=Ar(yr.prototype,"isSilentMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Id=Ar(yr.prototype,"stopZoomGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ld=Ar(yr.prototype,"stopScrollGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bd=Ar(yr.prototype,"stopMoveGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),zd=Ar(yr.prototype,"adjustEdge",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fd=Ar(yr.prototype,"adjustEdgeMiddle",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hd=Ar(yr.prototype,"adjustEdgeStartAndEnd",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gd=Ar(yr.prototype,"adjustNodePosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),kd=Ar(yr.prototype,"hideAnchors",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ud=Ar(yr.prototype,"hoverOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xd=Ar(yr.prototype,"nodeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$d=Ar(yr.prototype,"edgeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wd=Ar(yr.prototype,"nodeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kd=Ar(yr.prototype,"edgeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yd=Ar(yr.prototype,"nodeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=Ar(yr.prototype,"edgeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=Ar(yr.prototype,"autoExpand",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ar(yr.prototype,"updateEditConfig",[h.k],Object.getOwnPropertyDescriptor(yr.prototype,"updateEditConfig"),yr.prototype),yr),zC=a(77),qt;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(qt||(qt={}));var qd;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(qd||(qd={}));var Kt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(Kt||(Kt={}));var Pr;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Pr||(Pr={}));var Rt;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(Rt||(Rt={}));var ir;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(ir||(ir={}));var ep=9999,on;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(on||(on={}));var gr,tp,rp,np,op,ip,ap,up;function hu(e,r){return ZE(e)||VE(e,r)||YE(e,r)||KE()}function KE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YE(e,r){if(!!e){if(typeof e=="string")return lp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lp(e,r)}}function lp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function VE(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function ZE(e){if(Array.isArray(e))return e}function ui(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function _E(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JE(e,r,t){return r&&sp(e.prototype,r),t&&sp(e,t),e}function lf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Sn(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function FC(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var QE=(gr=function(){function e(r){_E(this,e),lf(this,"MINI_SCALE_SIZE",.2),lf(this,"MAX_SCALE_SIZE",16),ui(this,"SCALE_X",tp,this),ui(this,"SKEW_Y",rp,this),ui(this,"SKEW_X",np,this),ui(this,"SCALE_Y",op,this),ui(this,"TRANSLATE_X",ip,this),ui(this,"TRANSLATE_Y",ap,this),ui(this,"ZOOM_SIZE",up,this),lf(this,"eventCenter",void 0),this.eventCenter=r}return JE(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=hu(t,2),o=n[0],i=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(i-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=hu(t,2),o=n[0],i=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,i*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var i=hu(t,2),l=i[0],c=i[1];return[l+n/this.SCALE_X,c+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,i=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,i+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,i-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,i=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(i-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=i,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(Rt.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,i){var l=this.CanvasPointToHtmlPoint([t,n]),c=hu(l,2),g=c[0],x=c[1],D=o/2-g,L=i/2-x;this.TRANSLATE_X+=D,this.TRANSLATE_Y+=L,this.emitGraphTransform("focusOn")}}]),e}(),tp=Sn(gr.prototype,"SCALE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),rp=Sn(gr.prototype,"SKEW_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),np=Sn(gr.prototype,"SKEW_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),op=Sn(gr.prototype,"SCALE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ip=Sn(gr.prototype,"TRANSLATE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ap=Sn(gr.prototype,"TRANSLATE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),up=Sn(gr.prototype,"ZOOM_SIZE",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Sn(gr.prototype,"zoom",[h.k],Object.getOwnPropertyDescriptor(gr.prototype,"zoom"),gr.prototype),Sn(gr.prototype,"resetZoom",[h.k],Object.getOwnPropertyDescriptor(gr.prototype,"resetZoom"),gr.prototype),Sn(gr.prototype,"translate",[h.k],Object.getOwnPropertyDescriptor(gr.prototype,"translate"),gr.prototype),Sn(gr.prototype,"focusOn",[h.k],Object.getOwnPropertyDescriptor(gr.prototype,"focusOn"),gr.prototype),gr);function qE(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var ex=qE;function tx(e,r){return e&&Ri(r,ji(r),e)}var rx=tx;function nx(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var ox=nx,ix=Object.prototype,ax=ix.hasOwnProperty;function ux(e){if(!Tr(e))return ox(e);var r=uu(e),t=[];for(var n in e)n=="constructor"&&(r||!ax.call(e,n))||t.push(n);return t}var lx=ux;function sx(e){return ii(e)?ld(e,!0):lx(e)}var Da=sx;function fx(e,r){return e&&Ri(r,Da(r),e)}var cx=fx,fp=a(106);function dx(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var cp=dx;function px(e,r){return Ri(e,Ws(e),r)}var hx=px,vx=sd(Object.getPrototypeOf,Object),sf=vx,yx=Object.getOwnPropertySymbols,gx=yx?function(e){for(var r=[];e;)$s(r,Ws(e)),e=sf(e);return r}:nd,dp=gx;function mx(e,r){return Ri(e,dp(e),r)}var bx=mx;function Ox(e){return rd(e,Da,dp)}var Ex=Ox,xx=Object.prototype,Sx=xx.hasOwnProperty;function Px(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&Sx.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Mx=Px;function wx(e){var r=new e.constructor(e.byteLength);return new Gt(r).set(new Gt(e)),r}var ff=wx;function Tx(e,r){var t=r?ff(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var Ax=Tx,Nx=/\w*$/;function Dx(e){var r=new e.constructor(e.source,Nx.exec(e));return r.lastIndex=e.lastIndex,r}var Cx=Dx,pp=Er?Er.prototype:void 0,hp=pp?pp.valueOf:void 0;function jx(e){return hp?Object(hp.call(e)):{}}var Rx=jx;function Ix(e,r){var t=r?ff(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var vp=Ix,Lx="[object Boolean]",Bx="[object Date]",zx="[object Map]",Fx="[object Number]",Hx="[object RegExp]",Gx="[object Set]",kx="[object String]",Ux="[object Symbol]",Xx="[object ArrayBuffer]",$x="[object DataView]",Wx="[object Float32Array]",Kx="[object Float64Array]",Yx="[object Int8Array]",Vx="[object Int16Array]",Zx="[object Int32Array]",_x="[object Uint8Array]",Jx="[object Uint8ClampedArray]",Qx="[object Uint16Array]",qx="[object Uint32Array]";function eS(e,r,t){var n=e.constructor;switch(r){case Xx:return ff(e);case Lx:case Bx:return new n(+e);case $x:return Ax(e,t);case Wx:case Kx:case Yx:case Vx:case Zx:case _x:case Jx:case Qx:case qx:return vp(e,t);case zx:return new n;case Fx:case kx:return new n(e);case Hx:return Cx(e);case Gx:return new n;case Ux:return Rx(e)}}var tS=eS,yp=Object.create,rS=function(){function e(){}return function(r){if(!Tr(r))return{};if(yp)return yp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),nS=rS;function oS(e){return typeof e.constructor=="function"&&!uu(e)?nS(sf(e)):{}}var gp=oS,iS="[object Map]";function aS(e){return Wn(e)&&Ta(e)==iS}var uS=aS,mp=Ci.a&&Ci.a.isMap,lS=mp?Ys(mp):uS,sS=lS,fS="[object Set]";function cS(e){return Wn(e)&&Ta(e)==fS}var dS=cS,bp=Ci.a&&Ci.a.isSet,pS=bp?Ys(bp):dS,hS=pS,vS=1,yS=2,gS=4,Op="[object Arguments]",mS="[object Array]",bS="[object Boolean]",OS="[object Date]",ES="[object Error]",Ep="[object Function]",xS="[object GeneratorFunction]",SS="[object Map]",PS="[object Number]",xp="[object Object]",MS="[object RegExp]",wS="[object Set]",TS="[object String]",AS="[object Symbol]",NS="[object WeakMap]",DS="[object ArrayBuffer]",CS="[object DataView]",jS="[object Float32Array]",RS="[object Float64Array]",IS="[object Int8Array]",LS="[object Int16Array]",BS="[object Int32Array]",zS="[object Uint8Array]",FS="[object Uint8ClampedArray]",HS="[object Uint16Array]",GS="[object Uint32Array]",ar={};ar[Op]=ar[mS]=ar[DS]=ar[CS]=ar[bS]=ar[OS]=ar[jS]=ar[RS]=ar[IS]=ar[LS]=ar[BS]=ar[SS]=ar[PS]=ar[xp]=ar[MS]=ar[wS]=ar[TS]=ar[AS]=ar[zS]=ar[FS]=ar[HS]=ar[GS]=!0,ar[ES]=ar[Ep]=ar[NS]=!1;function vu(e,r,t,n,o,i){var l,c=r&vS,g=r&yS,x=r&gS;if(t&&(l=o?t(e,n,o,i):t(e)),l!==void 0)return l;if(!Tr(e))return e;var D=Ur(e);if(D){if(l=Mx(e),!c)return cp(e,l)}else{var L=Ta(e),$=L==Ep||L==xS;if(Object(wa.a)(e))return Object(fp.a)(e,c);if(L==xp||L==Op||$&&!o){if(l=g||$?{}:gp(e),!c)return g?bx(e,cx(l,e)):hx(e,rx(l,e))}else{if(!ar[L])return o?e:{};l=tS(e,L,c)}}i||(i=new Xe);var ee=i.get(e);if(ee)return ee;i.set(e,l),hS(e)?e.forEach(function(Te){l.add(vu(Te,r,t,Te,e,i))}):sS(e)&&e.forEach(function(Te,Se){l.set(Se,vu(Te,r,t,Se,e,i))});var ve=x?g?Ex:Zs:g?Da:ji,Oe=D?void 0:ve(e);return ex(Oe||e,function(Te,Se){Oe&&(Se=Te,Te=e[Se]),pu(l,Se,vu(Te,r,t,Se,e,i))}),l}var kS=vu,US=1,XS=4;function $S(e){return kS(e,US|XS)}var vr=$S;function WS(e,r,t){(t!==void 0&&!mn(e[r],t)||t===void 0&&!(r in e))&&af(e,r,t)}var cf=WS;function KS(e){return Wn(e)&&ii(e)}var YS=KS,VS="[object Object]",ZS=Function.prototype,_S=Object.prototype,Sp=ZS.toString,JS=_S.hasOwnProperty,QS=Sp.call(Object);function qS(e){if(!Wn(e)||cn(e)!=VS)return!1;var r=sf(e);if(r===null)return!0;var t=JS.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Sp.call(t)==QS}var e0=qS;function t0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var df=t0;function r0(e){return Ri(e,Da(e))}var n0=r0;function o0(e,r,t,n,o,i,l){var c=df(e,t),g=df(r,t),x=l.get(g);if(x){cf(e,t,x);return}var D=i?i(c,g,t+"",e,r,l):void 0,L=D===void 0;if(L){var $=Ur(g),ee=!$&&Object(wa.a)(g),ve=!$&&!ee&&Vs(g);D=g,$||ee||ve?Ur(c)?D=c:YS(c)?D=cp(c):ee?(L=!1,D=Object(fp.a)(g,!0)):ve?(L=!1,D=vp(g,!0)):D=[]:e0(g)||Ma(g)?(D=c,Ma(c)?D=n0(c):(!Tr(c)||Zo(c))&&(D=gp(g))):L=!1}L&&(l.set(g,D),o(D,g,n,i,l),l.delete(g)),cf(e,t,D)}var i0=o0;function Pp(e,r,t,n,o){e!==r&&wd(r,function(i,l){if(o||(o=new Xe),Tr(i))i0(e,r,l,t,Pp,n,o);else{var c=n?n(df(e,l),i,l+"",e,r,o):void 0;c===void 0&&(c=i),cf(e,l,c)}},Da)}var a0=Pp,u0=Dd(function(e,r,t){a0(e,r,t)}),Mp=u0,l0={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},wp=function(r){var t=vr(l0);return r&&(t=Mp(t,r)),t},HC=a(78),GC=a(158);function s0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f0(e,r,t){return r&&Tp(e.prototype,r),t&&Tp(e,t),e}function c0(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var d0="*",p0=function(){function e(){s0(this,e),c0(this,"_events",{})}return f0(e,[{key:"on",value:function(t,n,o){var i=this;return t==null||t.split(",").forEach(function(l){l=l.trim(),i._events[l]||(i._events[l]=[]),i._events[l].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(i){return i=i.trim(),o.on(i,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(i){var l=o._events[i]||[],c=o._events[d0]||[],g=function(D){for(var L=D.length,$=0;$<L;$++)if(!!D[$]){var ee=D[$],ve=ee.callback,Oe=ee.once;Oe&&(D.splice($,1),D.length===0&&delete o._events[i],L--,$--),ve.apply(o,[n])}};g(l),g(c)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(i){if(!n)delete o._events[i];else{for(var l=o._events[i]||[],c=l.length,g=0;g<c;g++)l[g].callback===n&&(l.splice(g,1),c--,g--);l.length===0&&delete o._events[i]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Ii(e,r){return r*Math.round(e/r)||e}function Ap(e,r){return e%r}function pf(e,r){return g0(e)||y0(e,r)||v0(e,r)||h0()}function h0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v0(e,r){if(!!e){if(typeof e=="string")return Np(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Np(e,r)}}function Np(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function y0(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function g0(e){if(Array.isArray(e))return e}var kC=function(r,t){for(var n,o=0;o<t.length;o++)t[o].id===r&&(n=t[o]);return n},hf=function(r,t,n){var o=pf(r,2),i=o[0],l=o[1],c=pf(t,2),g=c[0],x=c[1],D=pf(n,2),L=D[0],$=D[1];return i>g&&i<L&&l>x&&l<$},Dp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;default:o=!1;break}return o},UC=a(79),XC=a(161),$C=a(125),WC=a(80),KC=a(30),YC=a(12),VC=a(13),ZC=a(14),_C=a(47),yu,m0=new Uint8Array(16);function b0(){if(!yu&&(yu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!yu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yu(m0)}var O0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function E0(e){return typeof e=="string"&&O0.test(e)}for(var x0=E0,jr=[],vf=0;vf<256;++vf)jr.push((vf+256).toString(16).substr(1));function S0(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(jr[e[r+0]]+jr[e[r+1]]+jr[e[r+2]]+jr[e[r+3]]+"-"+jr[e[r+4]]+jr[e[r+5]]+"-"+jr[e[r+6]]+jr[e[r+7]]+"-"+jr[e[r+8]]+jr[e[r+9]]+"-"+jr[e[r+10]]+jr[e[r+11]]+jr[e[r+12]]+jr[e[r+13]]+jr[e[r+14]]+jr[e[r+15]]).toLowerCase();if(!x0(t))throw TypeError("Stringified UUID is invalid");return t}var P0=S0;function M0(e,r,t){e=e||{};var n=e.random||(e.rng||b0)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return P0(n)}var yf=M0,li=function(){var r=yf();return r},w0=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,i){return o[i.id]=t+yf(),i.id=o[i.id],o},{});return r.edges.forEach(function(o){o.id=t+yf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r},JC=a(104),QC=a(203),T0=function(r,t,n,o){var i=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(i===0)return!1;var l=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/i,c=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/i;return(l-r.x)*(l-t.x)<=0&&(c-r.y)*(c-t.y)<=0&&(l-n.x)*(l-o.x)<=0&&(c-n.y)*(c-o.y)<=0?{x:l,y:c}:!1},Ca=function(r,t,n){var o=r.x,i=r.y;return(o-t.x)*(o-n.x)<=0&&(i-t.y)*(i-n.y)<=0};function gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gu=function(t){return typeof t}:gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function Cp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function jp(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Cp(Object(t),!0).forEach(function(n){A0(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function A0(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gf=function(r){var t=r.anchors;return t},mu=function(r,t){for(var n=t.nodes,o,i=n.length-1;i>=0;i--){var l=n[i],c=C0(r,l);if(c){var g=D0(r,l);if(g){var x={node:l,anchorIndex:g.index,anchor:g.anchor};(!o||N0(l,o.node,t))&&(o=x)}}}return o},N0=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},D0=function(r,t){for(var n=gf(t),o,i=Number.MAX_SAFE_INTEGER,l=0;l<n.length;l++){var c=Kn(r.x,r.y,n[l].x,n[l].y);c<i&&(i=c,o={index:l,anchor:jp(jp({},n[l]),{},{x:n[l].x,y:n[l].y,id:n[l].id})})}return o},Kn=function(r,t,n,o){return Math.hypot(r-n,t-o)},Ro=function(r,t){var n=!1,o=0,i=an(t);return r.x>=i.minX-o&&r.x<=i.maxX+o&&r.y>=i.minY-o&&r.y<=i.maxY+o&&(n=!0),n},C0=function(r,t){var n=!1,o=5,i=an(t);return r.x>=i.minX-o&&r.x<=i.maxX+o&&r.y>=i.minY-o&&r.y<=i.maxY+o&&(n=!0),n},an=function(r){var t=r.x,n=r.y,o=r.width,i=r.height,l={minX:t-o/2,minY:n-i/2,maxX:t+o/2,maxY:n+i/2,x:t,y:n,width:o,height:i,centerX:t,centerY:n};return l},j0=function(r){var t=r,n=t.x,o=t.y,i=t.width,l=t.height,c=t.radius,g=[{x:n-i/2+c,y:o-l/2+c,r:c},{x:n+i/2-c,y:o-l/2+c,r:c},{x:n-i/2+c,y:o+l/2-c,r:c},{x:n+i/2-c,y:o+l/2-c,r:c}];return g},Rp=function(r,t,n){var o=j0(n),i,l=Number.MAX_SAFE_INTEGER;o.forEach(function(g){var x=Kn(r.x,r.y,g.x,g.y);x<l&&(l=x,i=g)});var c=mf(r,t,i);return c},mf=function(r,t,n){var o,i=n,l=i.x,c=i.y,g=i.r;if(t===ir.HORIZONTAL){var x=l-Math.sqrt(g*g-(r.y-c)*(r.y-c)),D=l+Math.sqrt(g*g-(r.y-c)*(r.y-c)),L=Math.abs(x-r.x)<Math.abs(D-r.x)?x:D;o={x:L,y:r.y}}else if(t===ir.VERTICAL){var $=c-Math.sqrt(g*g-(r.x-l)*(r.x-l)),ee=c+Math.sqrt(g*g-(r.x-l)*(r.x-l)),ve=Math.abs($-r.y)<Math.abs(ee-r.y)?$:ee;o={x:r.x,y:ve}}return o},qC=function(r,t){var n=Math.abs(r.x-t.x),o=Math.abs(r.y-t.y);return n/t.width>o/t.height?ir.VERTICAL:ir.HORIZONTAL},Ip=function(r,t){var n=t,o=!1,i={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},l=n.x,c=n.y,g=n.width,x=n.height;return r.y===c+x/2||r.y===c-x/2?o=r.x>i.minX&&r.x<i.maxX:(r.x===l+g/2||r.x===l-g/2)&&(o=r.y>i.minY&&r.y<i.maxY),o},Lp=function(r,t,n){var o,i=n,l=i.x,c=i.y,g=i.rx,x=i.ry;if(t===ir.HORIZONTAL){var D=l-Math.sqrt(g*g-(r.y-c)*(r.y-c)*g*g/(x*x)),L=l+Math.sqrt(g*g-(r.y-c)*(r.y-c)*g*g/(x*x)),$=Math.abs(D-r.x)<Math.abs(L-r.x)?D:L;o={x:$,y:r.y}}else if(t===ir.VERTICAL){var ee=c-Math.sqrt(x*x-(r.x-l)*(r.x-l)*x*x/(g*g)),ve=c+Math.sqrt(x*x-(r.x-l)*(r.x-l)*x*x/(g*g)),Oe=Math.abs(ee-r.y)<Math.abs(ve-r.y)?ee:ve;o={x:r.x,y:Oe}}return o},bu=function(r,t,n){for(var o=n,i=o.pointsPosition,l=Number.MAX_SAFE_INTEGER,c,g=[],x=0;x<i.length;x++)g.push({start:i[x],end:i[(x+1)%i.length]});return g.forEach(function(D){var L=D.start,$=D.end,ee=L,ve=$;L.x>$.x&&(ee=$,ve=L);var Oe={x:r.x,y:r.y};if(ee.x===ve.x&&t===ir.HORIZONTAL&&(Oe={x:ee.x,y:r.y}),ee.y===ve.y&&t===ir.VERTICAL&&(Oe={x:r.x,y:ee.y}),ee.x!==ve.x&&ee.y!==ve.y){var Te=(ve.y-ee.y)/(ve.x-ee.x),Se=(ee.x*ve.y-ve.x*ee.y)/(ee.x-ve.x);t===ir.HORIZONTAL?Oe={x:(r.y-Se)/Te,y:r.y}:t===ir.VERTICAL&&(Oe={x:r.x,y:Te*r.x+Se})}var Ze=Ca(Oe,L,$);if(Ze){var $e=Kn(Oe.x,Oe.y,r.x,r.y);$e<l&&(l=$e,c=Oe)}}),c},R0=function(r){var t=Na(r,["id","type","x","y","text","properties"]);return t},Bp=function(r,t,n,o){var i=r.x,l=r.y;return t.x>r.x?i=r.x+n/2:t.x<r.x&&(i=r.x-n/2),t.y>r.y?l=r.y+o/2:t.y<r.y&&(l=r.y-o/2),{x:i,y:l}},zp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,i=r.className,l=document.createElement("div");l.style.fontSize=n.fontSize,l.style.width=n.width,l.className=i,l.style.lineHeight=n.lineHeight,l.style.padding=n.padding,n.fontFamily&&(l.style.fontFamily=n.fontFamily),o>1?t.forEach(function(g){var x=document.createElement("div");x.textContent=g,l.appendChild(x)}):l.textContent=t,document.body.appendChild(l);var c=l.clientHeight;return document.body.removeChild(l),c},bf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,i=0;return t&&t.forEach(function(l){var c=Th(l);i=c>i?c:i}),{width:Math.ceil(i/2)*o+o/4,height:n*(o+2)+o/4}},Ou=function(r){return gu(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},Fp={node:!1,edge:!1},I0={node:!0,edge:!0},L0={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},zr=function(r){try{return JSON.parse(JSON.stringify(r))}catch(t){return r}},B0=1e3,z0=999,Of=function(){return++B0},F0=function(){return--z0},Ye,Hp,Gp,kp,Up,Xp,$p,Wp,Kp,Yp,Vp,Zp,_p,Jp,Qp,qp,eh,th,rh,nh;function oh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Pn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?oh(Object(t),!0).forEach(function(n){un(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Mr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function H0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ih(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G0(e,r,t){return r&&ih(e.prototype,r),t&&ih(e,t),e}function un(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Dt(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function ej(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Ef=(Ye=function(){function e(r,t){H0(this,e),un(this,"id",li()),Mr(this,"type",Hp,this),Mr(this,"sourceNodeId",Gp,this),Mr(this,"targetNodeId",kp,this),Mr(this,"startPoint",Up,this),Mr(this,"endPoint",Xp,this),Mr(this,"text",$p,this),Mr(this,"properties",Wp,this),Mr(this,"points",Kp,this),Mr(this,"pointsList",Yp,this),Mr(this,"isSelected",Vp,this),Mr(this,"isHovered",Zp,this),Mr(this,"isHitable",_p,this),Mr(this,"draggable",Jp,this),Mr(this,"visible",Qp,this),un(this,"virtual",!1),Mr(this,"isAnimation",qp,this),un(this,"graphModel",void 0),Mr(this,"zIndex",eh,this),un(this,"BaseType",Pr.EDGE),un(this,"modelType",Kt.EDGE),Mr(this,"state",th,this),un(this,"additionStateData",void 0),un(this,"sourceAnchorId",""),un(this,"targetAnchorId",""),un(this,"menu",void 0),un(this,"customTextPosition",!1),un(this,"animationData",L0),Mr(this,"style",rh,this),Mr(this,"arrowConfig",nh,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return G0(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var i=this.createId();i&&(t.id=i)}Xr(this,NP(t));var l=this.graphModel.overlapMode;l===on.INCREASE&&(this.zIndex=t.zIndex||Of()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Pn(Pn({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return vr(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return vr(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return vr(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return vr(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,i,l=gf(t);return l.forEach(function(c){var g=Dh(c,n);i?g<i&&(i=g,o=c):(i=g,o=c)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,i,l=gf(t);return l.forEach(function(c){var g=Dh(c,n.startPoint);i?g<i&&(i=g,o=c):(i=g,o=c)}),o}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,i=t.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(h.I)(this.properties)};return i&&(l.text={x:n,y:o,value:i}),this.graphModel.overlapMode===on.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=zr(n),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Pn(Pn({},this.properties),zr(t)),this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=Pn(Pn({},this.style),{},un({},t,zr(n)))}},{key:"setStyles",value:function(t){this.style=Pn(Pn({},this.style),zr(t))}},{key:"updateStyles",value:function(t){this.style=Pn({},zr(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,i=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:i,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||i,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,i=o.x,l=o.y,c=o.value,g=o.draggable,x=o.editable;this.text={value:c,draggable:g,x:i+t,y:l+n,editable:x}}}},{key:"setText",value:function(t){t&&Xr(this.text,t)}},{key:"updateText",value:function(t){this.text=Pn(Pn({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){Xr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Hp=Dt(Ye.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gp=Dt(Ye.prototype,"sourceNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),kp=Dt(Ye.prototype,"targetNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Up=Dt(Ye.prototype,"startPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xp=Dt(Ye.prototype,"endPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$p=Dt(Ye.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Wp=Dt(Ye.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Kp=Dt(Ye.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yp=Dt(Ye.prototype,"pointsList",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vp=Dt(Ye.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zp=Dt(Ye.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_p=Dt(Ye.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jp=Dt(Ye.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qp=Dt(Ye.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qp=Dt(Ye.prototype,"isAnimation",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),eh=Dt(Ye.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),th=Dt(Ye.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),rh=Dt(Ye.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),nh=Dt(Ye.prototype,"arrowConfig",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Dt(Ye.prototype,"sourceNode",[h.m],Object.getOwnPropertyDescriptor(Ye.prototype,"sourceNode"),Ye.prototype),Dt(Ye.prototype,"targetNode",[h.m],Object.getOwnPropertyDescriptor(Ye.prototype,"targetNode"),Ye.prototype),Dt(Ye.prototype,"textPosition",[h.m],Object.getOwnPropertyDescriptor(Ye.prototype,"textPosition"),Ye.prototype),Dt(Ye.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperty"),Ye.prototype),Dt(Ye.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setProperties"),Ye.prototype),Dt(Ye.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyle"),Ye.prototype),Dt(Ye.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setStyles"),Ye.prototype),Dt(Ye.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateStyles"),Ye.prototype),Dt(Ye.prototype,"formatText",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"formatText"),Ye.prototype),Dt(Ye.prototype,"resetTextPosition",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"resetTextPosition"),Ye.prototype),Dt(Ye.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveText"),Ye.prototype),Dt(Ye.prototype,"setText",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setText"),Ye.prototype),Dt(Ye.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateText"),Ye.prototype),Dt(Ye.prototype,"setAnchors",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setAnchors"),Ye.prototype),Dt(Ye.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setSelected"),Ye.prototype),Dt(Ye.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHovered"),Ye.prototype),Dt(Ye.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setHitable"),Ye.prototype),Dt(Ye.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"openEdgeAnimation"),Ye.prototype),Dt(Ye.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"closeEdgeAnimation"),Ye.prototype),Dt(Ye.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setElementState"),Ye.prototype),Dt(Ye.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateStartPoint"),Ye.prototype),Dt(Ye.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveStartPoint"),Ye.prototype),Dt(Ye.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateEndPoint"),Ye.prototype),Dt(Ye.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"moveEndPoint"),Ye.prototype),Dt(Ye.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"setZIndex"),Ye.prototype),Dt(Ye.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"initPoints"),Ye.prototype),Dt(Ye.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAttributes"),Ye.prototype),Dt(Ye.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"getAdjustStart"),Ye.prototype),Dt(Ye.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"getAdjustEnd"),Ye.prototype),Dt(Ye.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateAfterAdjustStartAndEnd"),Ye.prototype),Ye),xf=Ef;function Eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function ah(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function uh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ah(Object(t),!0).forEach(function(n){fh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ah(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function k0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U0(e,r,t){return r&&lh(e.prototype,r),t&&lh(e,t),e}function xu(){return typeof Reflect!="undefined"&&Reflect.get?xu=Reflect.get:xu=function(r,t,n){var o=X0(r,t);if(!!o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},xu.apply(this,arguments)}function X0(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Li(e),e!==null););return e}function $0(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sf(e,r)}function Sf(e,r){return Sf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Sf(e,r)}function W0(e){var r=Y0();return function(){var n=Li(e),o;if(r){var i=Li(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return K0(this,o)}}function K0(e,r){if(r&&(Eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sh(e)}function sh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y0(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Li(e){return Li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Li(e)}function fh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ja=function(e){$0(t,e);var r=W0(t);function t(){var n;k0(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),fh(sh(n),"modelType",Kt.LINE_EDGE),n}return U0(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,i=xu(Li(t.prototype),"getEdgeStyle",this).call(this);return uh(uh({},i),vr(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(xf);function Su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}var zt,ch;function V0(e,r){return Q0(e)||J0(e,r)||_0(e,r)||Z0()}function Z0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _0(e,r){if(!!e){if(typeof e=="string")return dh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return dh(e,r)}}function dh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function J0(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function Q0(e){if(Array.isArray(e))return e}function ph(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function hh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ph(Object(t),!0).forEach(function(n){Mf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ph(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function q0(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function eP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tP(e,r,t){return r&&vh(e.prototype,r),t&&vh(e,t),e}function Bi(){return typeof Reflect!="undefined"&&Reflect.get?Bi=Reflect.get:Bi=function(r,t,n){var o=rP(r,t);if(!!o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Bi.apply(this,arguments)}function rP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Io(e),e!==null););return e}function nP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pf(e,r)}function Pf(e,r){return Pf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Pf(e,r)}function oP(e){var r=aP();return function(){var n=Io(e),o;if(r){var i=Io(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return iP(this,o)}}function iP(e,r){if(r&&(Su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ra(e)}function Ra(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(e)}function Mf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $r(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function tj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Pu=(zt=function(e){nP(t,e);var r=oP(t);function t(){var n;eP(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),Mf(Ra(n),"modelType",Kt.POLYLINE_EDGE),Mf(Ra(n),"draginngPointList",void 0),q0(Ra(n),"dbClickPosition",ch,Ra(n)),n}return tP(t,[{key:"initEdgeData",value:function(o){this.offset=30,Bi(Io(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,i=Bi(Io(t.prototype),"getEdgeStyle",this).call(this);return hh(hh({},i),vr(o))}},{key:"getTextPosition",value:function(){var o,i=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!i){var l=this.dbClickPosition,c=l.x,g=l.y;return{x:c,y:g}}var x=zi(this.points),D=MP(x),L=V0(D,2),$=L[0],ee=L[1];return{x:($.x+ee.x)/2,y:($.y+ee.y)/2}}},{key:"getAfterAnchor",value:function(o,i,l){var c,g;return l.forEach(function(x){var D;o===ir.HORIZONTAL?D=Math.abs(i.y-x.y):o===ir.VERTICAL&&(D=Math.abs(i.x-x.x)),(!g||g>D)&&(g=D,c=x)}),c}},{key:"getCorssPoint",value:function(o,i,l){var c;return o===ir.HORIZONTAL?c={x:l.x,y:i.y}:o===ir.VERTICAL&&(c={x:i.x,y:l.y}),c}},{key:"removeCrossPoints",value:function(o,i,l){var c=l.map(function(nt){return nt});if(o===1){var g=c[o],x=c[i],D=c[o-1],L=Sh(D,g,this.sourceNode);if(L){var $=Ph(g,x,this.sourceNode);if($){var ee=Mh(g,x,this.sourceNode);ee&&(c[o]=ee,c.splice(o-1,1),o--,i--)}}else{var ve=this.sourceNode.anchors;ve.forEach(function(nt){if(nt.x===D.x&&nt.x===g.x||nt.y===D.y&&nt.y===g.y){var Tt=Kn(nt.x,nt.y,g.x,g.y),kt=Kn(D.x,D.y,g.x,g.y);Tt<kt&&(c[o-1]=nt)}})}}if(i===l.length-2){var Oe=c[o],Te=c[i],Se=c[i+1],Ze=Sh(Te,Se,this.targetNode);if(Ze){var $e=Ph(Oe,Te,this.targetNode);if($e){var We=Mh(Oe,Te,this.targetNode);We&&(c[i]=We,c.splice(i+1,1))}}else{var mt=this.targetNode.anchors;mt.forEach(function(nt){if(nt.x===Se.x&&nt.x===Te.x||nt.y===Se.y&&nt.y===Te.y){var Tt=Kn(nt.x,nt.y,Te.x,Te.y),kt=Kn(Se.x,Se.y,Te.x,Te.y);Tt<kt&&(c[i+1]=nt)}})}}return c}},{key:"getDragingPoints",value:function(o,i,l,c,g){var x=g.map(function($){return $}),D=this.getAfterAnchor(o,l,c),L=this.getCorssPoint(o,l,D);return i==="start"?(x.unshift(L),x.unshift(D)):(x.push(L),x.push(D)),x}},{key:"updateCrossPoints",value:function(o){var i=o.map(function(We){return We}),l=o[0],c=o[1],g=o[i.length-2],x=o[i.length-1],D=this.sourceNode,L=this.targetNode,$=D.modelType,ee=L.modelType,ve=ju(l,c),Oe=i[0];switch($){case Kt.RECT_NODE:if(D.radius!==0){var Te=Ip(l,D);Te||(Oe=Rp(l,ve,D))}break;case Kt.CIRCLE_NODE:Oe=mf(l,ve,D);break;case Kt.ELLIPSE_NODE:Oe=Lp(l,ve,D);break;case Kt.DIAMOND_NODE:Oe=bu(l,ve,D);break;case Kt.POLYGON_NODE:Oe=bu(l,ve,D);break;default:break}i[0]=Oe;var Se=ju(g,x),Ze=i[i.length-1];switch(ee){case Kt.RECT_NODE:if(L.radius!==0){var $e=Ip(x,L);$e||(Ze=Rp(x,Se,L))}break;case Kt.CIRCLE_NODE:Ze=mf(x,Se,L);break;case Kt.ELLIPSE_NODE:Ze=Lp(x,Se,L);break;case Kt.DIAMOND_NODE:Ze=bu(x,Se,L);break;case Kt.POLYGON_NODE:Ze=bu(x,Se,L);break;default:break}return i[i.length-1]=Ze,i}},{key:"getData",value:function(){var o=Bi(Io(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(l){var c=l.x,g=l.y;return{x:c,y:g}});return Object.assign({},o,{pointsList:i})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=xh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,i){this.startPoint.x+=o,this.startPoint.y+=i,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,i){this.endPoint.x+=o,this.endPoint.y+=i,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,i){this.isDragging=!0;var l=o.start,c=o.end,g=o.startIndex,x=o.endIndex,D=o.direction,L=this.pointsList,$=L;return D===ir.HORIZONTAL?(L[g]={x:l.x,y:l.y+i.y},L[x]={x:c.x,y:c.y+i.y},$=this.pointsList.map(function(ee){return ee})):D===ir.VERTICAL&&(L[g]={x:l.x+i.x,y:l.y},L[x]={x:c.x+i.x,y:c.y},$=this.pointsList.map(function(ee){return ee})),this.updatePointsAfterDrage($),this.draginngPointList=$,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[g]),end:Object.assign({},L[x]),startIndex:g,endIndex:x,direction:D}}},{key:"dragAppend",value:function(o,i){this.isDragging=!0;var l=o.start,c=o.end,g=o.startIndex,x=o.endIndex,D=o.direction,L=this.pointsList;if(D===ir.HORIZONTAL){L[g]={x:l.x,y:l.y+i.y},L[x]={x:c.x,y:c.y+i.y};var $=this.pointsList.map(function(Ut){return Ut});if(g!==0&&x!==this.pointsList.length-1&&($=this.removeCrossPoints(g,x,$)),g===0){var ee={x:l.x,y:l.y+i.y},ve=Ro(ee,this.sourceNode);if(!ve){var Oe=this.sourceNode.anchors;$=this.getDragingPoints(D,"start",ee,Oe,$)}}if(x===this.pointsList.length-1){var Te={x:c.x,y:c.y+i.y},Se=Ro(Te,this.targetNode);if(!Se){var Ze=this.targetNode.anchors;$=this.getDragingPoints(D,"end",Te,Ze,$)}}$=Nf($),this.updatePointsAfterDrage($),this.draginngPointList=$}else if(D===ir.VERTICAL){L[g]={x:l.x+i.x,y:l.y},L[x]={x:c.x+i.x,y:c.y};var $e=this.pointsList.map(function(Ut){return Ut});if(g!==0&&x!==this.pointsList.length-1&&($e=this.removeCrossPoints(g,x,$e)),g===0){var We={x:l.x+i.x,y:l.y},mt=Ro(We,this.sourceNode);if(!mt){var nt=this.sourceNode.anchors;$e=this.getDragingPoints(D,"start",We,nt,$e)}}if(x===this.pointsList.length-1){var Tt={x:c.x+i.x,y:c.y},kt=Ro(Tt,this.targetNode);if(!kt){var Ot=this.targetNode.anchors;$e=this.getDragingPoints(D,"end",Tt,Ot,$e)}}$e=Nf($e),this.updatePointsAfterDrage($e),this.draginngPointList=$e}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[g]),end:Object.assign({},L[x]),startIndex:g,endIndex:x,direction:D}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=zi(this.points);this.pointsList=o.map(function(c){return c}),this.draginngPointList=[];var i=o[0];this.startPoint=Object.assign({},i);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var i=this.updateCrossPoints(o);this.points=i.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var i=o.startPoint,l=o.endPoint,c=o.sourceNode,g=o.targetNode,x=xh({x:i.x,y:i.y},{x:l.x,y:l.y},c,g,this.offset||0);this.pointsList=x,this.initPoints()}}]),t}(xf),ch=$r(zt.prototype,"dbClickPosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$r(zt.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"initPoints"),zt.prototype),$r(zt.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"updatePoints"),zt.prototype),$r(zt.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateStartPoint"),zt.prototype),$r(zt.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveStartPoint"),zt.prototype),$r(zt.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateEndPoint"),zt.prototype),$r(zt.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveEndPoint"),zt.prototype),$r(zt.prototype,"dragAppendStart",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendStart"),zt.prototype),$r(zt.prototype,"dragAppendSimple",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendSimple"),zt.prototype),$r(zt.prototype,"dragAppend",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppend"),zt.prototype),$r(zt.prototype,"dragAppendEnd",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"dragAppendEnd"),zt.prototype),$r(zt.prototype,"updatePointsAfterDrage",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"updatePointsAfterDrage"),zt.prototype),$r(zt.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustStart"),zt.prototype),$r(zt.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustEnd"),zt.prototype),$r(zt.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateAfterAdjustStartAndEnd"),zt.prototype),zt),Ia=function(r){var t=r.start,n=r.end,o=r.offset,i=r.verticalLength,l=r.type,c={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-t.y)/(n.x-t.x)),x=Math.atan(o/i),D=Math.sqrt(i*i+o*o);return l==="start"?n.x>=t.x?(c.leftX=t.x+D*Math.sin(g+x),c.leftY=t.y-D*Math.cos(g+x),c.rightX=t.x-D*Math.sin(g-x),c.rightY=t.y+D*Math.cos(g-x)):(c.leftX=t.x-D*Math.sin(g+x),c.leftY=t.y+D*Math.cos(g+x),c.rightX=t.x+D*Math.sin(g-x),c.rightY=t.y-D*Math.cos(g-x)):l==="end"&&(n.x>=t.x?(c.leftX=n.x+D*Math.sin(g-x),c.leftY=n.y-D*Math.cos(g-x),c.rightX=n.x-D*Math.sin(g+x),c.rightY=n.y+D*Math.cos(g+x)):(c.leftX=n.x-D*Math.sin(g-x),c.leftY=n.y+D*Math.cos(g-x),c.rightX=n.x+D*Math.sin(g+x),c.rightY=n.y-D*Math.cos(g+x))),c};function yh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Mu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yh(Object(t),!0).forEach(function(n){uP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function uP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function lP(e){return cP(e)||fP(e)||gh(e)||sP()}function sP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fP(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cP(e){if(Array.isArray(e))return Tf(e)}function wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(t){return typeof t}:wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function wf(e,r){return hP(e)||pP(e,r)||gh(e,r)||dP()}function dP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gh(e,r){if(!!e){if(typeof e=="string")return Tf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tf(e,r)}}function Tf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function pP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function hP(e){if(Array.isArray(e))return e}var rj=function(r,t){var n;switch(r.type){case"line":n=new ja(r,t);break;case"polyline":n=new Pu(r,t);break;default:n=new ja(r,t);break}return n},vP=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Tu=function(r){var t=[],n={};return r.forEach(function(o){var i="".concat(o.x,"-").concat(o.y);o.id=i,n[i]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},nj=function(r,t){var n=[r,{x:r.x,y:t.y},t];return Tu(n)},Au=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},yP=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?ir.HORIZONTAL:ir.VERTICAL},Nu=function(r,t){var n=yP(t,r);return n===ir.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},mh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),i=Math.max(r.maxX,t.maxX),l=Math.max(r.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(o+l)/2,minX:n,minY:o,maxX:i,maxY:l,height:l-o,width:i-n}},La=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(L){n.push(L.x),o.push(L.y)});var i=Math.min.apply(Math,n),l=Math.max.apply(Math,n),c=Math.min.apply(Math,o),g=Math.max.apply(Math,o),x=l-i,D=g-c;return t&&(x+=t,D+=t),{centerX:(i+l)/2,centerY:(c+g)/2,maxX:l,maxY:g,minX:i,minY:c,x:(i+l)/2,y:(c+g)/2,height:D,width:x}},Du=function(r){var t=r.minX,n=r.minY,o=r.maxX,i=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:i},{x:t,y:i}]},Cu=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},gP=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},mP=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},bP=function(r,t){return gP(r,t.x).concat(mP(r,t.y))},Af=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},OP=function(r,t){var n=-2,o=0;return t.forEach(function(i){i&&(r.x===i.x&&(o+=n),r.y===i.y&&(o+=n))}),o},bh=function(r,t,n,o,i){return Af(r,t)+Af(r,n)+OP(r,[t,n,o,i])},EP=function e(r,t,n,o,i){i||(i=0),r.unshift(t[o]),n[o]&&n[o]!==o&&i<=100&&e(r,t,n,n[o],i+1)},xP=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},Ba=function(r,t,n,o){var i=t.x-r.x,l=t.y-r.y,c=o.x-n.x,g=o.y-n.y,x=(-l*(r.x-n.x)+i*(r.y-n.y))/(-c*l+i*g),D=(c*(r.y-n.y)-g*(r.x-n.x))/(-c*l+i*g);return x>=0&&x<=1&&D>=0&&D<=1},Oh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Du(n),i=wf(o,4),l=i[0],c=i[1],g=i[2],x=i[3];return Ba(r,t,l,c)||Ba(r,t,l,x)||Ba(r,t,c,g)||Ba(r,t,g,x)},SP=function(r,t,n,o){var i=[];return r.forEach(function(l){l!==t&&(l.x===t.x||l.y===t.y)&&!Oh(l,t,n)&&!Oh(l,t,o)&&i.push(l)}),Tu(i)},PP=function(r,t,n,o,i,l,c){var g=[],x=[t],D={},L={},$={};L[t.id]=0,$[t.id]=bh(t,n,t);var ee={};r.forEach(function(Te){ee[Te.id]=Te});for(var ve=function(){var Se=void 0,Ze=Infinity;if(x.forEach(function(We){$[We.id]<Ze&&(Ze=$[We.id],Se=We)}),Se===n){var $e=[];return EP($e,ee,D,n.id),{v:$e}}xP(x,Se),g.push(Se),SP(r,Se,o,i).forEach(function(We){if(g.indexOf(We)===-1){x.indexOf(We)===-1&&x.push(We);var mt=$[Se.id]+Af(Se,We);L[We.id]&&mt>=L[We.id]||(D[We.id]=Se.id,L[We.id]=mt,$[We.id]=L[We.id]+bh(We,n,t,l,c))}})};x.length;){var Oe=ve();if(wu(Oe)==="object")return Oe.v}return[t,n]},Eh=function(r){var t=an(r);return t},Nf=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],i=t[n],l=t[n+1];o.x===i.x&&i.x===l.x||o.y===i.y&&i.y===l.y?t.splice(n,1):n++}return t},xh=function(r,t,n,o,i){var l=Eh(n),c=Eh(o),g=Au(l,i),x=Au(c,i),D=Nu(g,r),L=Nu(x,t);if(vP(g,x)){var $=wP(r,t,D,L);return[r,D].concat(lP($),[L,t])}var ee=La([D,L]),ve=mh(g,ee),Oe=mh(x,ee),Te=[];Te=Te.concat(Du(ve)),Te=Te.concat(Du(Oe));var Se={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[ee,ve,Oe].forEach(function($e){Te=Te.concat(bP($e,Se).filter(function(We){return Cu(We,g)&&Cu(We,x)}))}),[{x:D.x,y:L.y},{x:L.x,y:D.y}].forEach(function($e){Cu($e,g)&&Cu($e,x)&&Te.push($e)}),Te.unshift(D),Te.push(L),Te=Tu(Te);var Ze=PP(Te,D,L,l,c,r,t);return Ze.unshift(r),Ze.push(t),Ze.length>2&&(Ze=Nf(Ze)),Tu(Ze)},MP=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],i=Kn(n.x,n.y,o.x,o.y),l=1;l<r.length-1;l++){var c=r[l],g=r[l+1],x=Kn(c.x,c.y,g.x,g.y);x>i&&(i=x,n=c,o=g)}t=[n,o]}return t},Sh=function(r,t,n){var o=Ro(r,n),i=Ro(t,n);return o&&i},Ph=function(r,t,n){var o=Ro(r,n),i=Ro(t,n),l=o&&i,c=o||i;return!l&&c},Mh=function(r,t,n){for(var o,i,l=an(n),c=Du(l),g=0;g<c.length;g++){var x=Ba(r,t,c[g],c[(g+1)%c.length]);x&&(i=[c[g],c[(g+1)%c.length]])}return i&&(o=T0(r,t,i[0],i[1])),o},ju=function(r,t){var n;return r.x===t.x?n=ir.VERTICAL:r.y===t.y&&(n=ir.HORIZONTAL),n},zi=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var i=o.split(","),l=wf(i,2),c=l[0],g=l[1];n.push({x:Number(c),y:Number(g)})}),n},wP=function(r,t,n,o){var i=[],l=ju(r,n),c=ju(t,o);if(l===c)r.y===n.y?(i.push({x:n.x,y:(n.y+o.y)/2}),i.push({x:o.x,y:(n.y+o.y)/2})):(i.push({x:(n.x+o.x)/2,y:n.y}),i.push({x:(n.x+o.x)/2,y:o.y}));else{var g={x:n.x,y:o.y},x=Ca(g,r,n),D=Ca(g,t,o);if(x||D)g={x:o.x,y:n.y};else{var L=wh(g,r,n),$=wh(g,t,o);L&&$&&(g={x:o.x,y:n.y})}i.push(g)}return i},wh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},Th=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},Df=null,oj=function(r,t){Df||(Df=document.createElement("canvas"));var n=Df.getContext("2d");n.font=t;var o=n.measureText(r);return o.width},TP=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var i={start:t,end:n,offset:10,verticalLength:5},l=Ia(Mu(Mu({},i),{},{type:"start"})),c=Ia(Mu(Mu({},i),{},{type:"end"}));o="M".concat(l.leftX," ").concat(l.leftY,` 
    L`).concat(l.rightX," ").concat(l.rightY,` 
    L`).concat(c.rightX," ").concat(c.rightY,`
    L`).concat(c.leftX," ").concat(c.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Ah=function(r){var t=r.start,n=r.end,o=r.sourceNode,i=r.targetNode,l=r.offset,c=an(o),g=an(i),x=Au(c,l),D=Au(g,l),L=Nu(x,t),$=Nu(D,n);return{sNext:L,ePre:$}},Ru=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Iu(t[0]),o=Iu(t[1]),i=Iu(t[2]),l=Iu(t[3]);return[n,o,i,l]},Iu=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=wf(t,2),o=n[0],i=n[1];return{x:+o,y:+i}},AP=function(r){var t=Ru(r);return[t[2],t[3]]},Nh=function(r,t){for(var n=r.x,o=r.y,i=zi(t),l=Number.MAX_SAFE_INTEGER,c,g=[],x=0;x<i.length;x++)g.push({start:i[x],end:i[(x+1)%i.length]});if(g.forEach(function(ee){var ve=ee.start,Oe=ee.end;if(ve.x===Oe.x){var Te={x:ve.x,y:o},Se=Ca(Te,ve,Oe);if(Se){var Ze=Math.abs(ve.x-n);Ze<l&&(l=Ze,c=Te)}}else if(ve.y===Oe.y){var $e={x:n,y:ve.y},We=Ca($e,ve,Oe);if(We){var mt=Math.abs(ve.y-o);mt<l&&(l=mt,c=$e)}}}),!c){var D=g[0],L=D.start,$=D.end;c={x:L.x+($.x-L.x)/2,y:L.y+($.y-L.y)/2}}return c},NP=function(r){return Na(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Dh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function DP(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var i=r(t,n,o);return i?typeof i=="string"?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:e.edgeType}}}var ij=a(204);function CP(){}var Fi=CP;function jP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ch(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RP(e,r,t){return r&&Ch(e.prototype,r),t&&Ch(e,t),e}function Or(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Yn=window.document,jh=0;function Cf(e){var r=e.onDragStart,t=r===void 0?Fi:r,n=e.onDraging,o=n===void 0?Fi:n,i=e.onDragEnd,l=i===void 0?Fi:i,c=e.step,g=c===void 0?1:c,x=e.isStopPropagation,D=x===void 0?!0:x,L=!1,$=!1,ee=0,ve=0,Oe=0,Te=0;function Se(We){if(D&&We.stopPropagation(),!!$&&(L=!0,Oe+=We.clientX-ee,Te+=We.clientY-ve,ee=We.clientX,ve=We.clientY,Math.abs(Oe)>g||Math.abs(Te)>g)){var mt=Oe%g,nt=Te%g,Tt=Oe-mt,kt=Te-nt;Oe=mt,Te=nt,o({deltaX:Tt,deltaY:kt,event:We})}}function Ze(We){if(D&&We.stopPropagation(),$=!1,Yn.removeEventListener("mousemove",Se,!1),Yn.removeEventListener("mouseup",Ze,!1),!!L)return L=!1,l({event:We})}function $e(We){if(We.button===jh)return D&&We.stopPropagation(),$=!0,ee=We.clientX,ve=We.clientY,Yn.addEventListener("mousemove",Se,!1),Yn.addEventListener("mouseup",Ze,!1),t({event:We})}return $e}var si=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?Fi:n,i=r.onDraging,l=i===void 0?Fi:i,c=r.onDragEnd,g=c===void 0?Fi:c,x=r.eventType,D=x===void 0?"":x,L=r.eventCenter,$=L===void 0?null:L,ee=r.step,ve=ee===void 0?1:ee,Oe=r.isStopPropagation,Te=Oe===void 0?!0:Oe,Se=r.model,Ze=Se===void 0?null:Se;jP(this,e),Or(this,"onDragStart",void 0),Or(this,"onDraging",void 0),Or(this,"onDragEnd",void 0),Or(this,"step",void 0),Or(this,"isStopPropagation",void 0),Or(this,"isDraging",!1),Or(this,"isStartDraging",!1),Or(this,"startX",0),Or(this,"startY",0),Or(this,"sumDeltaX",0),Or(this,"sumDeltaY",0),Or(this,"eventType",void 0),Or(this,"eventCenter",void 0),Or(this,"model",void 0),Or(this,"startTime",void 0),Or(this,"isGrag",void 0),Or(this,"handleMouseDown",function($e){var We,mt;if($e.button===jh){t.isStopPropagation&&$e.stopPropagation(),t.isStartDraging=!0,t.startX=$e.clientX,t.startY=$e.clientY,Yn.addEventListener("mousemove",t.handleMouseMove,!1),Yn.addEventListener("mouseup",t.handleMouseUp,!1);var nt=(We=t.model)===null||We===void 0?void 0:We.getData();(mt=t.eventCenter)===null||mt===void 0||mt.emit(Rt["".concat(t.eventType,"_MOUSEDOWN")],{e:$e,data:nt}),t.startTime=new Date().getTime()}}),Or(this,"handleMouseMove",function($e){if(t.isStopPropagation&&$e.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=$e.clientX-t.startX,t.sumDeltaY+=$e.clientY-t.startY,t.startX=$e.clientX,t.startY=$e.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var We,mt=t.sumDeltaX%t.step,nt=t.sumDeltaY%t.step,Tt=t.sumDeltaX-mt,kt=t.sumDeltaY-nt;t.sumDeltaX=mt,t.sumDeltaY=nt;var Ot=(We=t.model)===null||We===void 0?void 0:We.getData();if(!t.isDraging){var Ut;(Ut=t.eventCenter)===null||Ut===void 0||Ut.emit(Rt["".concat(t.eventType,"_DRAGSTART")],{e:$e,data:Ot}),t.onDragStart({event:$e})}t.isDraging=!0,Promise.resolve().then(function(){var Dr,ln;t.onDraging({deltaX:Tt,deltaY:kt,event:$e}),(Dr=t.eventCenter)===null||Dr===void 0||Dr.emit(Rt["".concat(t.eventType,"_MOUSEMOVE")],{e:$e,data:Ot}),(ln=t.eventCenter)===null||ln===void 0||ln.emit(Rt["".concat(t.eventType,"_DRAG")],{e:$e,data:Ot})})}}),Or(this,"handleMouseUp",function($e){t.isStartDraging=!1,t.isStopPropagation&&$e.stopPropagation(),Promise.resolve().then(function(){var We,mt,nt;Yn.removeEventListener("mousemove",t.handleMouseMove,!1),Yn.removeEventListener("mouseup",t.handleMouseUp,!1);var Tt=(We=t.model)===null||We===void 0?void 0:We.getData();(mt=t.eventCenter)===null||mt===void 0||mt.emit(Rt["".concat(t.eventType,"_MOUSEUP")],{e:$e,data:Tt}),!!t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:$e}),(nt=t.eventCenter)===null||nt===void 0||nt.emit(Rt["".concat(t.eventType,"_DROP")],{e:$e,data:Tt}))})}),Or(this,"cancelDrag",function(){Yn.removeEventListener("mousemove",t.handleMouseMove,!1),Yn.removeEventListener("mouseup",t.handleMouseUp,!1),t.isDraging=!1}),this.onDragStart=o,this.onDraging=l,this.onDragEnd=g,this.step=ve,this.isStopPropagation=Te,this.eventType=D,this.eventCenter=$,this.model=Ze}return RP(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),IP=function(r){return!r||typeof r=="boolean"?vr(r===!0?I0:Fp):Mp(vr(Fp),r)},Ie,Rh,Ih,Lh,Bh,zh,Fh,Hh,Gh,kh,Uh,Xh,$h;function Wh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Lu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wh(Object(t),!0).forEach(function(n){Vn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jf(e,r){return zP(e)||BP(e,r)||Kh(e,r)||LP()}function LP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function zP(e){if(Array.isArray(e))return e}function Hi(e){return GP(e)||HP(e)||Kh(e)||FP()}function FP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kh(e,r){if(!!e){if(typeof e=="string")return Rf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rf(e,r)}}function HP(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GP(e){if(Array.isArray(e))return Rf(e)}function Rf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(t){return typeof t}:za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function yn(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function kP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Yh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UP(e,r,t){return r&&Yh(e.prototype,r),t&&Yh(e,t),e}function Vn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function wt(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function aj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Bu=200,Vh=(Ie=function(){function e(r){kP(this,e),Vn(this,"rootEl",void 0),yn(this,"width",Rh,this),yn(this,"height",Ih,this),Vn(this,"theme",void 0),Vn(this,"eventCenter",void 0),Vn(this,"modelMap",new Map),Vn(this,"topElement",void 0),Vn(this,"animation",void 0),Vn(this,"idGenerator",void 0),Vn(this,"edgeGenerator",void 0),Vn(this,"nodeMoveRules",[]),yn(this,"edgeType",Lh,this),yn(this,"nodes",Bh,this),yn(this,"edges",zh,this),yn(this,"overlapMode",Fh,this),yn(this,"background",Hh,this),yn(this,"transformModel",Gh,this),yn(this,"editConfigModel",kh,this),yn(this,"gridSize",Uh,this),yn(this,"partial",Xh,this),yn(this,"fakerNode",$h,this);var t=r.container,n=r.background,o=n===void 0?{}:n,i=r.grid,l=r.idGenerator,c=r.edgeGenerator,g=r.animation;this.background=o,za(i)==="object"&&(this.gridSize=i.size),this.rootEl=t,this.editConfigModel=new Qd(r),this.eventCenter=new p0,this.transformModel=new QE(this.eventCenter),this.theme=wp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=IP(g),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=l,this.edgeGenerator=DP(this,c),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return UP(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(Hi(this.nodes),Hi(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(D){return t.push(D)}),this.edges.forEach(function(D){return t.push(D)}),t=t.sort(function(D,L){return D.zIndex-L.zIndex});for(var n=[],o=-1,i=[-Bu,-Bu],l=[this.width+Bu,this.height+Bu],c=0;c<t.length;c++){var g=t[c];g.visible&&(!this.partial||g.isSelected||this.isElementInArea(g,i,l,!1,!1))&&(g.zIndex===ep&&(o=n.length),n.push(g))}if(o!==-1){var x=n[n.length-1];n[n.length-1]=n[o],n[o]=x}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===qt.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===qt.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,c=[],g=[];this.nodes.forEach(function(L){return g.push(L)}),this.edges.forEach(function(L){return g.push(L)});for(var x=0;x<g.length;x++){var D=g[x];(!l||D.visible)&&this.isElementInArea(D,t,n,o,i)&&c.push(D)}return c}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,i=this.rootEl.getBoundingClientRect(),l={x:n-i.left,y:o-i.top},c=this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),g=jf(c,2),x=g[0],D=g[1];return{domOverlayPosition:l,canvasOverlayPosition:{x,y:D}}}},{key:"isElementInArea",value:function(t,n,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Pr.NODE){t=t;for(var c=an(t),g=c.minX,x=c.minY,D=c.maxX,L=c.maxY,$=[{x:g,y:x},{x:D,y:x},{x:D,y:L},{x:g,y:L}],ee=l,ve=0;ve<$.length;ve++){var Oe=$[ve],Te=Oe.x,Se=Oe.y,Ze=this.transformModel.CanvasPointToHtmlPoint([Te,Se]),$e=jf(Ze,2);if(Te=$e[0],Se=$e[1],hf([Te,Se],n,o)!==l){ee=!l;break}}return ee}if(t.BaseType===Pr.EDGE){t=t;var We=t,mt=We.startPoint,nt=We.endPoint,Tt=this.transformModel.CanvasPointToHtmlPoint([mt.x,mt.y]),kt=this.transformModel.CanvasPointToHtmlPoint([nt.x,nt.y]),Ot=hf(Tt,n,o),Ut=hf(kt,n,o);return i?Ot&&Ut:Ot||Ut}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=cu(t.nodes,function(o){var i=n.getModel(o.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,c=o.y;return l&&c&&(o.x=Ii(l,n.gridSize),o.y=Ii(c,n.gridSize),za(o.text)==="object"&&(o.text.x-=Ap(l,n.gridSize),o.text.y-=Ap(c,n.gridSize))),new i(o,n)}),this.edges=cu(t.edges,function(o){var i=n.getModel(o.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new i(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var i=o.getData();i&&!o.virtual&&t.push(i)});var n=[];return this.nodes.forEach(function(o){var i=o.getData();i&&!o.virtual&&n.push(i)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var i=this.nodes[o];if(i.isDragging){t=!0;break}else n.push(i.getHistoryData())}if(t)return!1;for(var l=!1,c=[],g=0;g<this.edges.length;g++){var x=this.edges[g];if(x.isDragging){l=!0;break}else c.push(x.getHistoryData())}return l?!1:{nodes:n,edges:c}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var i=this.edges[o],l=this.edges[o].sourceNodeId===t,c=this.edges[o].targetNodeId===t;(l||c)&&n.push(i)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(i){if(i.BaseType===Pr.NODE&&o.nodes.push(i.getData()),i.BaseType===Pr.EDGE){var l=i.getData(),c=n.get(l.sourceNodeId)&&n.get(l.targetNodeId);(t||c)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=li()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=li()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&(o.id=n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,i=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(i){if(this.overlapMode===on.DEFAULT){var l;(l=this.topElement)===null||l===void 0||l.setZIndex(),i.setZIndex(ep),this.topElement=i}this.overlapMode===on.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,i,l=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((i=this.edgesMap[t])===null||i===void 0?void 0:i.model);if(l){var c;typeof n=="number"&&(c=n),n==="top"&&(c=Of()),n==="bottom"&&(c=F0()),l.setZIndex(c)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(Rt.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=zr(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var i=new o(n,this);this.nodes.push(i);var l=i.getData();return this.eventCenter.emit(Rt.NODE_ADD,{data:l}),i}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var i=this.addNode(o);return i.setSelected(!0),n.setSelected(!1),i.getData()}},{key:"moveNode",value:function(t,n,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var c=l.model,g=c.getMoveDistance(n,o,i),x=jf(g,2);n=x[0],o=x[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var c=l.model,g=c.x,x=c.y,D=n-g,L=o-x;this.moveNode(t,D,L,i)}},{key:"editText",value:function(t){this.setElementStateById(t,qt.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=zr(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var i=this.getModel(o);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new i(Lu(Lu({},n),{},{type:o}),this),c=l.getData();return this.edges.push(l),this.eventCenter.emit(Rt.EDGE_ADD,{data:c}),l}},{key:"moveEdge",value:function(t,n,o){for(var i=0;i<this.edges.length;i++){var l=this.edges[i],c=l.textPosition,g=c.x,x=c.y,D=this.edges[i].sourceNodeId===t,L=this.edges[i].targetNodeId===t;if(D&&l.moveStartPoint(n,o),L&&l.moveEndPoint(n,o),D||L){var $;if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===Kt.POLYLINE_EDGE&&($=l.text)!==null&&$!==void 0&&$.value){var ee=l.text,ve=Nh(ee,l.points);l.moveText(ve.x-ee.x,ve.y-ee.y)}else{var Oe=l.textPosition,Te=Oe.x,Se=Oe.y;l.moveText(Te-g,Se-x)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var i=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Rt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,i=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(Rt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Rt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(Rt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(i){i.id===t?i.setElementState(n,o):i.setElementState(qt.DEFAULT)}),this.edges.forEach(function(i){i.id===t?i.setElementState(n,o):i.setElementState(qt.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var i=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;i==null||i.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var i=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;i==null||i.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===on.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var i=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(c){return i.moveNode(c,n,o,l)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var i=o.getData();i.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var c=new l(i,this);this.nodes.splice(this.nodesMap[t].index,1,c);var g=this.getNodeEdges(t);g.forEach(function(x){if(x.sourceNodeId===t){var D=Bp(c,x.startPoint,c.width,c.height);x.updateStartPoint(D)}if(x.targetNodeId===t){var L=Bp(c,x.endPoint,c.width,c.height);x.updateEndPoint(L)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(o.type!==n){var i=o.getData();i.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete i.pointsList;var c=new l(i,this);this.edges.splice(this.edgesMap[t].index,1,c)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(i){i.targetNodeId===t&&o.push(n.nodesMap[i.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(i){i.sourceNodeId===t&&o.push(n.nodesMap[i.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=wp(Lu(Lu({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(ee){var ve=ee.x,Oe=ee.y,Te=ee.width,Se=ee.height,Ze=ee.getNodeStyle(),$e=Ze.strokeWidth,We=$e===void 0?0:$e;n=n.concat([ve+Te/2+We,ve-Te/2-We]),o=o.concat([Oe+Se/2+We,Oe-Se/2-We])});var i=Math.min.apply(Math,Hi(n)),l=Math.max.apply(Math,Hi(n)),c=Math.min.apply(Math,Hi(o)),g=Math.max.apply(Math,Hi(o)),x=l-i||0,D=g-c||0,L=i+x/2,$=c+D/2;return{virtualRectWidth:x,virtualRectHeight:D,virtualRectCenterPositionX:L,virtualRectCenterPositionY:$}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,i=this.rootEl,l=this.transformModel;if(!!t.length){var c=n||i.clientWidth,g=o||i.clientHeight,x=this.getVirtualRectSize(),D=x.virtualRectCenterPositionX,L=x.virtualRectCenterPositionY;l.focusOn(D,L,c,g)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,i=this.width,l=this.height,c=this.rootEl,g=this.transformModel;if(!!o.length){var x=i||c.clientWidth,D=l||c.clientHeight,L=this.getVirtualRectSize(),$=L.virtualRectWidth,ee=L.virtualRectHeight,ve=L.virtualRectCenterPositionX,Oe=L.virtualRectCenterPositionY,Te=($+n)/x,Se=(ee+t)/D,Ze=0;Ze=1/Math.max(Te,Se);var $e=[x/2,D/2];g.zoom(Ze,$e),g.focusOn(ve,Oe,x,D)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),Rh=wt(Ie.prototype,"width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ih=wt(Ie.prototype,"height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lh=wt(Ie.prototype,"edgeType",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bh=wt(Ie.prototype,"nodes",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zh=wt(Ie.prototype,"edges",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fh=wt(Ie.prototype,"overlapMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return on.DEFAULT}}),Hh=wt(Ie.prototype,"background",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gh=wt(Ie.prototype,"transformModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=wt(Ie.prototype,"editConfigModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=wt(Ie.prototype,"gridSize",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Xh=wt(Ie.prototype,"partial",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$h=wt(Ie.prototype,"fakerNode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wt(Ie.prototype,"nodesMap",[h.m],Object.getOwnPropertyDescriptor(Ie.prototype,"nodesMap"),Ie.prototype),wt(Ie.prototype,"edgesMap",[h.m],Object.getOwnPropertyDescriptor(Ie.prototype,"edgesMap"),Ie.prototype),wt(Ie.prototype,"modelsMap",[h.m],Object.getOwnPropertyDescriptor(Ie.prototype,"modelsMap"),Ie.prototype),wt(Ie.prototype,"sortElements",[h.m],Object.getOwnPropertyDescriptor(Ie.prototype,"sortElements"),Ie.prototype),wt(Ie.prototype,"textEditElement",[h.m],Object.getOwnPropertyDescriptor(Ie.prototype,"textEditElement"),Ie.prototype),wt(Ie.prototype,"selectElements",[h.m],Object.getOwnPropertyDescriptor(Ie.prototype,"selectElements"),Ie.prototype),wt(Ie.prototype,"setFakerNode",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setFakerNode"),Ie.prototype),wt(Ie.prototype,"removeFakerNode",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"removeFakerNode"),Ie.prototype),wt(Ie.prototype,"setModel",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setModel"),Ie.prototype),wt(Ie.prototype,"toFront",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"toFront"),Ie.prototype),wt(Ie.prototype,"setElementZIndex",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setElementZIndex"),Ie.prototype),wt(Ie.prototype,"deleteNode",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteNode"),Ie.prototype),wt(Ie.prototype,"addNode",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"addNode"),Ie.prototype),wt(Ie.prototype,"cloneNode",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"cloneNode"),Ie.prototype),wt(Ie.prototype,"moveNode",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveNode"),Ie.prototype),wt(Ie.prototype,"moveNode2Coordinate",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveNode2Coordinate"),Ie.prototype),wt(Ie.prototype,"editText",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"editText"),Ie.prototype),wt(Ie.prototype,"addEdge",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"addEdge"),Ie.prototype),wt(Ie.prototype,"moveEdge",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveEdge"),Ie.prototype),wt(Ie.prototype,"deleteEdgeBySourceAndTarget",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteEdgeBySourceAndTarget"),Ie.prototype),wt(Ie.prototype,"deleteEdgeById",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteEdgeById"),Ie.prototype),wt(Ie.prototype,"deleteEdgeBySource",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteEdgeBySource"),Ie.prototype),wt(Ie.prototype,"deleteEdgeByTarget",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteEdgeByTarget"),Ie.prototype),wt(Ie.prototype,"setElementStateById",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setElementStateById"),Ie.prototype),wt(Ie.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateText"),Ie.prototype),wt(Ie.prototype,"selectNodeById",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"selectNodeById"),Ie.prototype),wt(Ie.prototype,"selectEdgeById",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"selectEdgeById"),Ie.prototype),wt(Ie.prototype,"selectElementById",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"selectElementById"),Ie.prototype),wt(Ie.prototype,"clearSelectElements",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"clearSelectElements"),Ie.prototype),wt(Ie.prototype,"moveNodes",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveNodes"),Ie.prototype),wt(Ie.prototype,"setDefaultEdgeType",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setDefaultEdgeType"),Ie.prototype),wt(Ie.prototype,"changeNodeType",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"changeNodeType"),Ie.prototype),wt(Ie.prototype,"changeEdgeType",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"changeEdgeType"),Ie.prototype),wt(Ie.prototype,"getNodeIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getNodeIncomingEdge"),Ie.prototype),wt(Ie.prototype,"getNodeOutgoingEdge",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getNodeOutgoingEdge"),Ie.prototype),wt(Ie.prototype,"getNodeIncomingNode",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getNodeIncomingNode"),Ie.prototype),wt(Ie.prototype,"getNodeOutgoingNode",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getNodeOutgoingNode"),Ie.prototype),wt(Ie.prototype,"setTheme",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setTheme"),Ie.prototype),wt(Ie.prototype,"resize",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"resize"),Ie.prototype),wt(Ie.prototype,"clearData",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"clearData"),Ie.prototype),wt(Ie.prototype,"translateCenter",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"translateCenter"),Ie.prototype),wt(Ie.prototype,"fitView",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"fitView"),Ie.prototype),wt(Ie.prototype,"openEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"openEdgeAnimation"),Ie.prototype),wt(Ie.prototype,"closeEdgeAnimation",[h.k],Object.getOwnPropertyDescriptor(Ie.prototype,"closeEdgeAnimation"),Ie.prototype),Ie),XP=Vh;function zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zu=function(t){return typeof t}:zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}var Zh;function If(){return If=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},If.apply(this,arguments)}function $P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _h(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WP(e,r,t){return r&&_h(e.prototype,r),t&&_h(e,t),e}function KP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lf(e,r)}function Lf(e,r){return Lf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lf(e,r)}function YP(e){var r=ZP();return function(){var n=Fu(e),o;if(r){var i=Fu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return VP(this,o)}}function VP(e,r){if(r&&(zu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zn(e)}function Zn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fu(e){return Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(e)}function yo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _P=Cn(Zh=function(e){KP(t,e);var r=YP(t);function t(n){var o;$P(this,t),o=r.call(this),yo(Zn(o),"stepDrag",void 0),yo(Zn(o),"stepScrollX",0),yo(Zn(o),"stepScrollY",0),yo(Zn(o),"onDraging",function(g){var x=g.deltaX,D=g.deltaY;o.setState({isDraging:!0});var L=o.props.graphModel,$=L.transformModel,ee=L.editConfigModel;ee.stopMoveGraph||$.translate(x,D)}),yo(Zn(o),"onDragEnd",function(){o.setState({isDraging:!1})}),yo(Zn(o),"zoomHandler",function(g){var x=o.props,D=x.graphModel,L=D.editConfigModel,$=D.transformModel,ee=D.gridSize,ve=x.graphModel,Oe=g.deltaX,Te=g.deltaY;if(!L.stopScrollGraph&&g.ctrlKey!==!0){if(g.preventDefault(),o.stepScrollX+=Oe,o.stepScrollY+=Te,Math.abs(o.stepScrollX)>=ee){var Se=o.stepScrollX%ee,Ze=o.stepScrollX-Se;$.translate(-Ze*$.SCALE_X,0),o.stepScrollX=Se}if(Math.abs(o.stepScrollY)>=ee){var $e=o.stepScrollY%ee,We=o.stepScrollY-$e;$.translate(0,-We*$.SCALE_Y),o.stepScrollY=$e}return}if(!L.stopZoomGraph){g.preventDefault();var mt=ve.getPointByClient({x:g.clientX,y:g.clientY}),nt=mt.canvasOverlayPosition,Tt=nt.x,kt=nt.y;$.zoom(g.deltaY<0,[Tt,kt])}}),yo(Zn(o),"clickHandler",function(g){var x=g.target;if(x.getAttribute("name")==="canvas-overlay"){var D=o.props.graphModel,L=D.selectElements;L.size>0&&D.clearSelectElements(),D.eventCenter.emit(Rt.BLANK_CLICK,{e:g})}}),yo(Zn(o),"handleContextMenu",function(g){var x=g.target;if(x.getAttribute("name")==="canvas-overlay"){g.preventDefault();var D=o.props.graphModel,L=D.getPointByClient({x:g.clientX,y:g.clientY});D.eventCenter.emit(Rt.BLANK_CONTEXTMENU,{e:g,position:L})}}),yo(Zn(o),"mouseDownHandler",function(g){var x=o.props.graphModel,D=x.eventCenter,L=x.editConfigModel,$=x.transformModel.SCALE_X,ee=x.gridSize,ve=g.target,Oe=!L.adjustEdge&&!L.adjustNodePosition;(ve.getAttribute("name")==="canvas-overlay"||Oe)&&(L.stopMoveGraph?D.emit(Rt.BLANK_MOUSEDOWN,{e:g}):(o.stepDrag.setStep(ee*$),o.stepDrag.handleMouseDown(g)),o.clickHandler(g))});var i=n.graphModel,l=i.gridSize,c=i.eventCenter;return o.stepDrag=new si({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"BLANK",isStopPropagation:!1,eventCenter:c,model:null}),o.state={isDraging:!1},o}return WP(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,i=o.getTransformStyle(),l=i.transform,c=this.props,g=c.children,x=c.dnd,D=this.state.isDraging;return Object(je.g)("svg",If({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:D?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},x.eventMap()),Object(je.g)("g",{transform:l},g))}}]),t}(je.a))||Zh,JP=_P;function Hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hu=function(t){return typeof t}:Hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}var Jh;function QP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qP(e,r,t){return r&&Qh(e.prototype,r),t&&Qh(e,t),e}function eM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function tM(e){var r=nM();return function(){var n=Gu(e),o;if(r){var i=Gu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return rM(this,o)}}function rM(e,r){if(r&&(Hu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qh(e)}function qh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gu(e)}function oM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var iM=Cn(Jh=function(e){eM(t,e);var r=tM(t);function t(){var n;QP(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),oM(qh(n),"setToolOverlayRef",function(c){var g=n.props.tool,x=g.getInstance();x.components.forEach(function(D){return D(x,c)}),x.components=[]}),n}return qP(t,[{key:"getTools",value:function(){var o=this.props,i=o.tool,l=o.graphModel,c=i.getTools(),g=c.map(function(x){return Object(je.g)(x,{graphModel:l,logicFlow:i.instance})});return i.components=g,g}},{key:"render",value:function(){return Object(je.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(je.a))||Jh;function ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ku=function(t){return typeof t}:ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function aM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ev(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uM(e,r,t){return r&&ev(e.prototype,r),t&&ev(e,t),e}function lM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zf(e,r)}function sM(e){var r=dM();return function(){var n=Uu(e),o;if(r){var i=Uu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return fM(this,o)}}function fM(e,r){if(r&&(ku(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cM(e)}function cM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(e)}var pM=function(e){lM(t,e);var r=sM(t);function t(){return aM(this,t),r.apply(this,arguments)}return uM(t,[{key:"render",value:function(){var o=this.props.background;return Object(je.g)("div",{className:"lf-background"},Object(je.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(je.a);function Xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}var tv;function hM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vM(e,r,t){return r&&rv(e.prototype,r),t&&rv(e,t),e}function yM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ff(e,r)}function Ff(e,r){return Ff=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ff(e,r)}function gM(e){var r=bM();return function(){var n=$u(e),o;if(r){var i=$u(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return mM(this,o)}}function mM(e,r){if(r&&(Xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nv(e)}function nv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(e)}function OM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ov=Cn(tv=function(e){yM(t,e);var r=gM(t);function t(){var n;hM(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),OM(nv(n),"id",li()),n}return vM(t,[{key:"renderDot",value:function(){var o=this.props,i=o.config,l=i.color,c=i.thickness,g=c===void 0?2:c,x=o.size,D=o.visible,L=Math.min(Math.max(2,g),x/2),$=1;return D||($=0),Object(je.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:l,opacity:$})}},{key:"renderMesh",value:function(){var o=this.props,i=o.config,l=i.color,c=i.thickness,g=c===void 0?1:c,x=o.size,D=o.visible,L=Math.min(Math.max(1,g),x/2),$="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),ee=1;return D||(ee=0),Object(je.g)("path",{d:$,stroke:l,strokeWidth:L,opacity:ee})}},{key:"render",value:function(){var o=this.props,i=o.type,l=o.size,c=o.graphModel.transformModel,g=c.SCALE_X,x=c.SKEW_Y,D=c.SKEW_X,L=c.SCALE_Y,$=c.TRANSLATE_X,ee=c.TRANSLATE_Y,ve=[g,x,D,L,$,ee].join(","),Oe="matrix(".concat(ve,")");return Object(je.g)("div",{className:"lf-grid"},Object(je.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(je.g)("defs",null,Object(je.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:Oe,x:"0",y:"0",width:l,height:l},i==="dot"&&this.renderDot(),i==="mesh"&&this.renderMesh())),Object(je.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(je.a))||tv;ov.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};var uj=a(52);function Wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(t){return typeof t}:Wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function EM(e,r){return MM(e)||PM(e,r)||SM(e,r)||xM()}function xM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SM(e,r){if(!!e){if(typeof e=="string")return iv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return iv(e,r)}}function iv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function PM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function MM(e){if(Array.isArray(e))return e}function wM(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=EM(t,2),o=n[0],i=n[1];if(o==="style")r[o]=i;else{var l=Wu(i);l!=="object"&&(r[o]=i)}}),Object(je.g)("line",r)}var fi=wM;function Ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(t){return typeof t}:Ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}var av;function uv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Yu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?uv(Object(t),!0).forEach(function(n){TM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):uv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function AM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NM(e,r,t){return r&&lv(e.prototype,r),t&&lv(e,t),e}function DM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hf(e,r)}function Hf(e,r){return Hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hf(e,r)}function CM(e){var r=IM();return function(){var n=Vu(e),o;if(r){var i=Vu(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return jM(this,o)}}function jM(e,r){if(r&&(Ku(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RM(e)}function RM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Vu(e){return Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vu(e)}var LM=Cn(av=function(e){DM(t,e);var r=CM(t);function t(){return AM(this,t),r.apply(this,arguments)}return NM(t,[{key:"render",value:function(){var o=this.props.snaplineModel,i=o.position,l=o.isShowHorizontal,c=o.isShowVertical,g=o.getStyle(),x=i.x,D=x===void 0?0:x,L=i.y,$=L===void 0?0:L,ee=Yu(Yu({x1:-1e5,y1:$,x2:1e5,y2:$},g),{},{stroke:l?g.stroke:"none"}),ve=Yu(Yu({x1:D,y1:-1e5,x2:D,y2:1e5},g),{},{stroke:c?g.stroke:"none"});return Object(je.g)("g",{className:"lf-snapline"},Object(je.g)(fi,ee),Object(je.g)(fi,ve))}}]),t}(je.a))||av;function Zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zu=function(t){return typeof t}:Zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function BM(e,r){return GM(e)||HM(e,r)||FM(e,r)||zM()}function zM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FM(e,r){if(!!e){if(typeof e=="string")return sv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sv(e,r)}}function sv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function HM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function GM(e){if(Array.isArray(e))return e}function Lo(e){var r=e.x,t=e.y,n=e.width,o=e.height,i=e.className,l=e.radius,c=r-n/2,g=t-o/2,x={};return Object.entries(e).forEach(function(D){var L=BM(D,2),$=L[0],ee=L[1],ve=Zu(ee);ve!=="object"&&(x[$]=ee)}),i?x.className="lf-basic-shape ".concat(i):x.className="lf-basic-shape",l&&(x.rx=l,x.ry=l),x.x=c,x.y=g,Object(je.g)("rect",x)}Lo.defaultProps={className:"",radius:""};function _u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_u=function(t){return typeof t}:_u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}var fv;function Gi(){return Gi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Gi.apply(this,arguments)}function cv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function dv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cv(Object(t),!0).forEach(function(n){kM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function UM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XM(e,r,t){return r&&pv(e.prototype,r),t&&pv(e,t),e}function $M(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gf(e,r)}function WM(e){var r=VM();return function(){var n=Ju(e),o;if(r){var i=Ju(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return KM(this,o)}}function KM(e,r){if(r&&(_u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YM(e)}function YM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ju(e)}var ZM=Cn(fv=function(e){$M(t,e);var r=WM(t);function t(){return UM(this,t),r.apply(this,arguments)}return XM(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,i=o.nodes,l=o.editConfigModel,c=l.hoverOutline,g=l.nodeSelectedOutline,x=[];return i.forEach(function(D){if(D.isHovered||D.isSelected){var L=D.isHovered,$=D.isSelected,ee=D.x,ve=D.y,Oe=D.width,Te=D.height;if(g&&$||c&&L){var Se=D.getOutlineStyle(),Ze={};if(Object.keys(Se).forEach(function(We){We!=="hover"&&(Ze[We]=Se[We])}),L){var $e=Se.hover;Ze=dv(dv({},Ze),$e)}x.push(Object(je.g)(Lo,Gi({className:"lf-outline-node",x:ee,y:ve,width:Oe+10,height:Te+10},Ze)))}}}),x}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,i=o.edges,l=o.editConfigModel,c=l.edgeSelectedOutline,g=l.hoverOutline,x=[],D=0;D<i.length;D++){var L=i[D];(c&&L.isSelected||g&&L.isHovered)&&(L.modelType===Kt.LINE_EDGE?x.push(this.getLineOutline(L)):L.modelType===Kt.POLYLINE_EDGE?x.push(this.getPolylineOutline(L)):L.modelType===Kt.BEZIER_EDGE&&x.push(this.getBezierOutline(L)))}return x}},{key:"getLineOutline",value:function(o){var i=o.startPoint,l=o.endPoint,c=(i.x+l.x)/2,g=(i.y+l.y)/2,x=Math.abs(i.x-l.x)+10,D=Math.abs(i.y-l.y)+10,L=o.getOutlineStyle();return Object(je.g)(Lo,Gi({className:"lf-outline-edge",x:c,y:g,width:x,height:D},L))}},{key:"getPolylineOutline",value:function(o){var i=o.points,l=zi(i),c=La(l,8),g=c.x,x=c.y,D=c.width,L=c.height,$=o.getOutlineStyle();return Object(je.g)(Lo,Gi({className:"lf-outline",x:g,y:x,width:D,height:L},$))}},{key:"getBezierOutline",value:function(o){var i=o.path,l=Ru(i),c=La(l,8),g=c.x,x=c.y,D=c.width,L=c.height,$=o.getOutlineStyle();return Object(je.g)(Lo,Gi({className:"lf-outline",x:g,y:x,width:D,height:L},$))}},{key:"render",value:function(){return Object(je.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(je.a))||fv;function Qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(t){return typeof t}:Qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function _M(e,r){return ew(e)||qM(e,r)||QM(e,r)||JM()}function JM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QM(e,r){if(!!e){if(typeof e=="string")return hv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hv(e,r)}}function hv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function ew(e){if(Array.isArray(e))return e}function Fa(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,i=e.r,l=i===void 0?4:i,c=e.className,g={cx:t,cy:o,r:l,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(x){var D=_M(x,2),L=D[0],$=D[1],ee=Qu($);ee!=="object"&&(g[L]=$)}),c?g.className="lf-basic-shape ".concat(c):g.className="lf-basic-shape",Object(je.g)("circle",g)}function qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(t){return typeof t}:qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}var vv;function tw(e,r){return iw(e)||ow(e,r)||nw(e,r)||rw()}function rw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nw(e,r){if(!!e){if(typeof e=="string")return yv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yv(e,r)}}function yv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ow(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function iw(e){if(Array.isArray(e))return e}function Ha(){return Ha=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ha.apply(this,arguments)}function gv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bv(e,r,t){return r&&mv(e.prototype,r),t&&mv(e,t),e}function Ov(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&kf(e,r)}function kf(e,r){return kf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},kf(e,r)}function Ev(e){var r=uw();return function(){var n=tl(e),o;if(r){var i=tl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return aw(this,o)}}function aw(e,r){if(r&&(qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return el(e)}function el(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function tl(e){return tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tl(e)}function Uf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var xv=function(e){Ov(t,e);var r=Ev(t);function t(){var n;return gv(this,t),n=r.call(this),Uf(el(n),"dragHandler",void 0),Uf(el(n),"onDraging",function(o){var i=o.event,l=n.props,c=l.graphModel,g=l.bezierModel,x=l.type,D=c.getPointByClient({x:i.clientX,y:i.clientY}),L=D.canvasOverlayPosition,$=L.x,ee=L.y;g.updateAdjustAnchor({x:$,y:ee},x)}),Uf(el(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new si({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return bv(t,[{key:"render",value:function(){var o=this,i=this.props.position,l=i.x,c=i.y,g=this.props.bezierModel,x=g.getEdgeStyle(),D=x.adjustAnchor;return Object(je.g)(Fa,Ha({className:"lf-bezier-adjust-anchor",x:l,y:c},D,{onMouseDown:function($){o.dragHandler.handleMouseDown($)}}))}}]),t}(je.a),lw=Cn(vv=function(e){Ov(t,e);var r=Ev(t);function t(){return gv(this,t),r.apply(this,arguments)}return bv(t,[{key:"getBezierAdjust",value:function(o,i){var l=o.path,c=o.id,g=Ru(l),x=tw(g,4),D=x[0],L=x[1],$=x[2],ee=x[3],ve=o.getEdgeStyle(),Oe=ve.adjustLine,Te=[];return Te.push(Object(je.g)(fi,Ha({x1:D.x,y1:D.y,x2:L.x,y2:L.y},Oe))),Te.push(Object(je.g)(xv,{position:L,bezierModel:o,graphModel:i,key:"".concat(c,"_ePre"),type:"sNext"})),Te.push(Object(je.g)(fi,Ha({x1:ee.x,y1:ee.y,x2:$.x,y2:$.y},Oe))),Te.push(Object(je.g)(xv,{position:$,bezierModel:o,graphModel:i,key:"".concat(c,"_sNext"),type:"ePre"})),Te}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,i=o.edges,l=[],c=0;c<i.length;c++){var g=i[c];g.isSelected&&g.modelType===Kt.BEZIER_EDGE&&g.draggable&&l.push(this.getBezierAdjust(g,o))}return l}},{key:"render",value:function(){return Object(je.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(je.a))||vv;function rl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rl=function(t){return typeof t}:rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}var Sv;function sw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fw(e,r,t){return r&&Pv(e.prototype,r),t&&Pv(e,t),e}function cw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xf(e,r)}function Xf(e,r){return Xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xf(e,r)}function dw(e){var r=vw();return function(){var n=nl(e),o;if(r){var i=nl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return pw(this,o)}}function pw(e,r){if(r&&(rl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hw(e)}function hw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function nl(e){return nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nl(e)}var yw=Cn(Sv=function(e){cw(t,e);var r=dw(t);function t(){return sw(this,t),r.apply(this,arguments)}return fw(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,i=o.getTransformStyle(),l=i.transform,c=this.props.children;return Object(je.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(je.g)("g",{transform:l},c))}}]),t}(je.a))||Sv;function ol(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ol=function(t){return typeof t}:ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}var Mv;function $f(){return $f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},$f.apply(this,arguments)}function gw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mw(e,r,t){return r&&wv(e.prototype,r),t&&wv(e,t),e}function bw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wf(e,r)}function Wf(e,r){return Wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wf(e,r)}function Ow(e){var r=Sw();return function(){var n=il(e),o;if(r){var i=il(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Ew(this,o)}}function Ew(e,r){if(r&&(ol(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xw(e)}function xw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},il(e)}var Pw=Cn(Mv=function(e){bw(t,e);var r=Ow(t);function t(){return gw(this,t),r.apply(this,arguments)}return mw(t,[{key:"getComponent",value:function(o,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",c=this.props.getView,g=c(o.type);return Object(je.g)(g,{key:o.id,model:o,graphModel:i,overlay:l})}},{key:"render",value:function(){var o=this,i=this.props,l=i.graphModel,c=i.tool,g=i.options,x=i.dnd,D=i.snaplineModel,L={};g.width&&(L.width="".concat(l.width,"px")),g.height&&(L.height="".concat(l.height,"px"));var $=l.fakerNode,ee=l.editConfigModel,ve=ee.adjustEdge;return Object(je.g)("div",{className:"lf-graph",style:L},Object(je.g)(JP,{graphModel:l,dnd:x},Object(je.g)("g",{className:"lf-base"},cu(l.sortElements,function(Oe){return o.getComponent(Oe,l)})),$?this.getComponent($,l):""),Object(je.g)(yw,{graphModel:l},Object(je.g)(ZM,{graphModel:l}),ve?Object(je.g)(lw,{graphModel:l}):"",!g.isSilentMode&&g.snapline!==!1?Object(je.g)(LM,{snaplineModel:D}):""),Object(je.g)(iM,{graphModel:l,tool:c}),g.background&&Object(je.g)(pM,{background:g.background}),g.grid&&Object(je.g)(ov,$f({},g.grid,{graphModel:l})))}}]),t}(je.a))||Mv,Mw=Pw;function Tv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function al(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Tv(Object(t),!0).forEach(function(n){go(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ww(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Av(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tw(e,r,t){return r&&Av(e.prototype,r),t&&Av(e,t),e}function go(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Aw=function(){function e(r){var t=this;ww(this,e),go(this,"nodeConfig",void 0),go(this,"lf",void 0),go(this,"fakerNode",void 0),go(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),go(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(al(al({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),go(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var i=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),l=i.x,c=i.y;t.fakerNode.moveTo(l,c);var g=t.fakerNode.getData();t.lf.setNodeSnapLine(g),t.lf.graphModel.eventCenter.emit(Rt.NODE_DND_DRAG,{data:g})}return!1}),go(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),go(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var i=t.lf.addNode(al(al({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var l=i.getData();t.lf.graphModel.eventCenter.emit(Rt.NODE_DND_ADD,{data:l})}});var n=r.lf;this.lf=n}return Tw(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,i=Pd(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:n,y:o}),c=l.canvasOverlayPosition,g=c.x,x=c.y;return{x:Ii(g,i),y:Ii(x,i)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Nv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=Xr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),Xr({},Dv,e)}var Dv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function ul(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ul=function(t){return typeof t}:ul=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}var Zt,Cv;function Kf(e,r){return jw(e)||Cw(e,r)||Dw(e,r)||Nw()}function Nw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dw(e,r){if(!!e){if(typeof e=="string")return jv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jv(e,r)}}function jv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Cw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function jw(e){if(Array.isArray(e))return e}function Rv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ll(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Rv(Object(t),!0).forEach(function(n){Lv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Rw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Iw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lw(e,r,t){return r&&Iv(e.prototype,r),t&&Iv(e,t),e}function ki(){return typeof Reflect!="undefined"&&Reflect.get?ki=Reflect.get:ki=function(r,t,n){var o=Bw(r,t);if(!!o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},ki.apply(this,arguments)}function Bw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Bo(e),e!==null););return e}function zw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yf(e,r)}function Yf(e,r){return Yf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yf(e,r)}function Fw(e){var r=Gw();return function(){var n=Bo(e),o;if(r){var i=Bo(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Hw(this,o)}}function Hw(e,r){if(r&&(ul(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sl(e)}function sl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(e)}function Lv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mn(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function lj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Vf=(Zt=function(e){zw(t,e);var r=Fw(t);function t(){var n;Iw(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),Lv(sl(n),"modelType",Kt.BEZIER_EDGE),Rw(sl(n),"path",Cv,sl(n)),n}return Lw(t,[{key:"initEdgeData",value:function(o){this.offset=100,ki(Bo(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,i=ki(Bo(t.prototype),"getEdgeStyle",this).call(this);return ll(ll({},i),vr(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,i=0;return this.pointsList.forEach(function(l){var c=l.x,g=l.y;o+=c,i+=g}),{x:o/this.pointsList.length,y:i/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=ki(Bo(t.prototype),"getData",this).call(this),i=this.pointsList.map(function(l){var c=l.x,g=l.y;return{x:c,y:g}});return ll(ll({},o),{},{pointsList:i})}},{key:"getControls",value:function(){var o=this.startPoint,i=this.endPoint,l=Ah({start:o,end:i,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return l}},{key:"getPath",value:function(o){var i=Kf(o,4),l=i[0],c=i[1],g=i[2],x=i[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(c.x," ").concat(c.y,`,
    `).concat(g.x," ").concat(g.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),i=o.sNext,l=o.ePre;this.updatePath(i,l)}},{key:"updatePath",value:function(o,i){var l={x:this.startPoint.x,y:this.startPoint.y},c={x:this.endPoint.x,y:this.endPoint.y};if(!o||!i){var g=this.getControls();o=g.sNext,i=g.ePre}this.pointsList=[l,o,i,c],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,i){this.startPoint.x+=o,this.startPoint.y+=i;var l=Kf(this.pointsList,3),c=l[1],g=l[2];c.x+=o,c.y+=i,this.updatePath(c,g)}},{key:"moveEndPoint",value:function(o,i){this.endPoint.x+=o,this.endPoint.y+=i;var l=Kf(this.pointsList,3),c=l[1],g=l[2];g.x+=o,g.y+=i,this.updatePath(c,g)}},{key:"updateAdjustAnchor",value:function(o,i){i==="sNext"?this.pointsList[1]=o:i==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var i=o.startPoint,l=o.endPoint,c=o.sourceNode,g=o.targetNode,x=Ah({start:i,end:l,sourceNode:c,targetNode:g,offset:this.offset}),D=x.sNext,L=x.ePre;this.pointsList=[i,D,L,l],this.initPoints()}}]),t}(xf),Cv=Mn(Zt.prototype,"path",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mn(Zt.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"initPoints"),Zt.prototype),Mn(Zt.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"updatePoints"),Zt.prototype),Mn(Zt.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"updateStartPoint"),Zt.prototype),Mn(Zt.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"updateEndPoint"),Zt.prototype),Mn(Zt.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"moveStartPoint"),Zt.prototype),Mn(Zt.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"moveEndPoint"),Zt.prototype),Mn(Zt.prototype,"updateAdjustAnchor",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"updateAdjustAnchor"),Zt.prototype),Mn(Zt.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"getAdjustStart"),Zt.prototype),Mn(Zt.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"getAdjustEnd"),Zt.prototype),Mn(Zt.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Zt.prototype,"updateAfterAdjustStartAndEnd"),Zt.prototype),Zt);function kw(e){return e==null}var Uw=kw,st,Bv,zv,Fv,Hv,Gv,kv,Uv,Xv,$v,Wv,Kv,Yv,Vv,Zv,_v,Jv,Qv,qv;function fl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fl=function(t){return typeof t}:fl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Xw(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=$w(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(x){throw x},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,l=!1,c;return{s:function(){t=t.call(e)},n:function(){var x=t.next();return i=x.done,x},e:function(x){l=!0,c=x},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(l)throw c}}}}function $w(e,r){if(!!e){if(typeof e=="string")return ey(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ey(e,r)}}function ey(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ty(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Wr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ty(Object(t),!0).forEach(function(n){qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ty(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Nr(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Ww(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ry(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kw(e,r,t){return r&&ry(e.prototype,r),t&&ry(e,t),e}function qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yt(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function sj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var mo=(st=function(){function e(r,t){Ww(this,e),qr(this,"id",li()),Nr(this,"type",Bv,this),Nr(this,"x",zv,this),Nr(this,"y",Fv,this),Nr(this,"text",Hv,this),Nr(this,"properties",Gv,this),Nr(this,"_width",kv,this),Nr(this,"_height",Uv,this),Nr(this,"anchorsOffset",Xv,this),Nr(this,"isSelected",$v,this),Nr(this,"isHovered",Wv,this),Nr(this,"isDragging",Kv,this),Nr(this,"isHitable",Yv,this),Nr(this,"draggable",Vv,this),Nr(this,"visible",Zv,this),qr(this,"virtual",!1),qr(this,"graphModel",void 0),Nr(this,"zIndex",_v,this),Nr(this,"state",Jv,this),Nr(this,"autoToFront",Qv,this),Nr(this,"style",qv,this),qr(this,"BaseType",Pr.NODE),qr(this,"modelType",Kt.NODE),qr(this,"additionStateData",void 0),qr(this,"targetRules",[]),qr(this,"sourceRules",[]),qr(this,"moveRules",[]),qr(this,"hasSetTargetRules",!1),qr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return Kw(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var i=this.createId();i&&(t.id=i)}this.formatText(t),Xr(this,R0(t));var l=this.graphModel.overlapMode;l===on.INCREASE&&(this.zIndex=t.zIndex||Of())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,i=t.value,l=this.properties;Object(h.x)(l)&&(l=Object(h.I)(l));var c={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===on.INCREASE&&(c.zIndex=this.zIndex),i&&(c.text={x:n,y:o,value:i}),c}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Wr(Wr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return vr(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return vr(n)}},{key:"getAnchorLineStyle",value:function(){var t=this.graphModel.theme.anchorLine;return vr(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return vr(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l=!0,c,g=0;g<i.length;g++){var x=i[g];if(!x.validate.call(this,this,t,n,o)){l=!1,c=x.message;break}}return{isAllPass:l,msg:c}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l=!0,c,g=0;g<i.length;g++){var x=i[g];if(!x.validate.call(this,t,this,n,o)){l=!1,c=x.message;break}}return{isAllPass:l,msg:c}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,i=!0,l=this.moveRules.concat(this.graphModel.nodeMoveRules),c=Xw(l),g;try{for(c.s();!(g=c.n()).done;){var x=g.value,D=x(this,t,n);if(!D)return!1;if(fl(D)==="object"){var L=D;if(L.x===!1&&L.y===!1)return!1;o=o&&L.x,i=i&&L.y}}}catch($){c.e($)}finally{c.f()}return{x:o,y:i}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,i=this.y;return t&&t.length>0?t.map(function(l,c){return l.length?(l=l,{id:"".concat(n,"_").concat(c),x:o+l[0],y:i+l[1]}):(l=l,Wr(Wr({},l),{},{x:o+l.x,y:i+l.y,id:l.id||"".concat(n,"_").concat(c)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!Uw(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,l=!1;if(o)i=!0,l=!0;else{var c=this.isAllowMoveNode(t,n);typeof c=="boolean"?(i=c,l=c):(i=c.x,l=c.y)}if(i){var g=this.x+t;this.x=g,this.text&&this.moveText(t,0)}if(l){var x=this.y+n;this.y=x,this.text&&this.moveText(0,n)}return i||l}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,l=!1,c=0,g=0;if(o)i=!0,l=!0;else{var x=this.isAllowMoveNode(t,n);typeof x=="boolean"?(i=x,l=x):(i=x.x,l=x.y)}if(i&&t){var D=this.x+t;this.x=D,this.text&&this.moveText(t,0),c=t}if(l&&n){var L=this.y+n;this.y=L,this.text&&this.moveText(0,n),g=n}return[c,g]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=t-this.x,l=n-this.y;return!o&&!this.isAllowMoveNode(i,l)?!1:(this.text&&this.text&&this.moveText(i,l),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,i=o.x,l=o.y,c=o.value,g=o.draggable,x=o.editable;this.text={value:c,editable:x,draggable:g,x:i+t,y:l+n}}},{key:"updateText",value:function(t){this.text=Wr(Wr({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=Wr(Wr({},this.properties),{},qr({},t,zr(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Wr(Wr({},this.properties),zr(t)),this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=Wr(Wr({},this.style),{},qr({},t,zr(n)))}},{key:"setStyles",value:function(t){this.style=Wr(Wr({},this.style),zr(t))}},{key:"updateStyles",value:function(t){this.style=Wr({},zr(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){Xr(this,t)}}]),e}(),Bv=Yt(st.prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zv=Yt(st.prototype,"x",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fv=Yt(st.prototype,"y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hv=Yt(st.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Gv=Yt(st.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kv=Yt(st.prototype,"_width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Uv=Yt(st.prototype,"_height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Xv=Yt(st.prototype,"anchorsOffset",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$v=Yt(st.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wv=Yt(st.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kv=Yt(st.prototype,"isDragging",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yv=Yt(st.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vv=Yt(st.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zv=Yt(st.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_v=Yt(st.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Jv=Yt(st.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qv=Yt(st.prototype,"autoToFront",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qv=Yt(st.prototype,"style",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Yt(st.prototype,"incoming",[h.m],Object.getOwnPropertyDescriptor(st.prototype,"incoming"),st.prototype),Yt(st.prototype,"outgoing",[h.m],Object.getOwnPropertyDescriptor(st.prototype,"outgoing"),st.prototype),Yt(st.prototype,"addNodeMoveRules",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"addNodeMoveRules"),st.prototype),Yt(st.prototype,"move",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"move"),st.prototype),Yt(st.prototype,"getMoveDistance",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"getMoveDistance"),st.prototype),Yt(st.prototype,"moveTo",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"moveTo"),st.prototype),Yt(st.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"moveText"),st.prototype),Yt(st.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"updateText"),st.prototype),Yt(st.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"setSelected"),st.prototype),Yt(st.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"setHovered"),st.prototype),Yt(st.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"setHitable"),st.prototype),Yt(st.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"setElementState"),st.prototype),Yt(st.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"setProperty"),st.prototype),Yt(st.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"setProperties"),st.prototype),Yt(st.prototype,"setStyle",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"setStyle"),st.prototype),Yt(st.prototype,"setStyles",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"setStyles"),st.prototype),Yt(st.prototype,"updateStyles",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"updateStyles"),st.prototype),Yt(st.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"setZIndex"),st.prototype),Yt(st.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(st.prototype,"updateAttributes"),st.prototype),st);function cl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cl=function(t){return typeof t}:cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}var bo,ny;function oy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function iy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?oy(Object(t),!0).forEach(function(n){uy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Yw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Vw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ay(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zw(e,r,t){return r&&ay(e.prototype,r),t&&ay(e,t),e}function dl(){return typeof Reflect!="undefined"&&Reflect.get?dl=Reflect.get:dl=function(r,t,n){var o=_w(r,t);if(!!o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},dl.apply(this,arguments)}function _w(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ui(e),e!==null););return e}function Jw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zf(e,r)}function Zf(e,r){return Zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zf(e,r)}function Qw(e){var r=eT();return function(){var n=Ui(e),o;if(r){var i=Ui(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return qw(this,o)}}function qw(e,r){if(r&&(cl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pl(e)}function pl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ui(e){return Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ui(e)}function uy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _f(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function fj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var hl=(bo=function(e){Jw(t,e);var r=Qw(t);function t(){var n;Vw(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),uy(pl(n),"modelType",Kt.CIRCLE_NODE),Yw(pl(n),"r",ny,pl(n)),n}return Zw(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=dl(Ui(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.circle;return iy(iy({},o),vr(i))}},{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,l=this.r;return[{x:o,y:i-l,id:"".concat(this.id,"_0")},{x:o+l,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+l,id:"".concat(this.id,"_2")},{x:o-l,y:i,id:"".concat(this.id,"_3")}]}}]),t}(mo),ny=_f(bo.prototype,"r",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),_f(bo.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(bo.prototype,"width"),bo.prototype),_f(bo.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(bo.prototype,"height"),bo.prototype),bo),cj=hl,dj=a(127);function vl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vl=function(t){return typeof t}:vl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}var Fr,ly,sy;function Jf(e,r){return oT(e)||nT(e,r)||rT(e,r)||tT()}function tT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rT(e,r){if(!!e){if(typeof e=="string")return fy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fy(e,r)}}function fy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function nT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function oT(e){if(Array.isArray(e))return e}function cy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function dy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?cy(Object(t),!0).forEach(function(n){vy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function py(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function iT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aT(e,r,t){return r&&hy(e.prototype,r),t&&hy(e,t),e}function yl(){return typeof Reflect!="undefined"&&Reflect.get?yl=Reflect.get:yl=function(r,t,n){var o=uT(r,t);if(!!o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},yl.apply(this,arguments)}function uT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=$i(e),e!==null););return e}function lT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Qf(e,r)}function Qf(e,r){return Qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Qf(e,r)}function sT(e){var r=cT();return function(){var n=$i(e),o;if(r){var i=$i(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return fT(this,o)}}function fT(e,r){if(r&&(vl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xi(e)}function Xi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function $i(e){return $i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$i(e)}function vy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Wi(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function pj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var gl=(Fr=function(e){lT(t,e);var r=sT(t);function t(){var n;iT(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),vy(Xi(n),"modelType",Kt.DIAMOND_NODE),py(Xi(n),"rx",ly,Xi(n)),py(Xi(n),"ry",sy,Xi(n)),n}return aT(t,[{key:"getNodeStyle",value:function(){var o=yl($i(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.diamond;return dy(dy({},o),vr(i))}},{key:"points",get:function(){var o=this.x,i=this.y,l=this.rx,c=this.ry;return[[o,i-c],[o+l,i],[o,i+c],[o-l,i]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(i){return{x:i[0],y:i[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var c=Jf(l,1),g=c[0];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var c=Jf(l,2),g=c[1];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(i,l){var c=Jf(i,2),g=c[0],x=c[1];return{x:g,y:x,id:"".concat(o.id,"_").concat(l)}})}}]),t}(mo),ly=Wi(Fr.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),sy=Wi(Fr.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Wi(Fr.prototype,"points",[h.m],Object.getOwnPropertyDescriptor(Fr.prototype,"points"),Fr.prototype),Wi(Fr.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(Fr.prototype,"pointsPosition"),Fr.prototype),Wi(Fr.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Fr.prototype,"width"),Fr.prototype),Wi(Fr.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Fr.prototype,"height"),Fr.prototype),Fr),hj=gl;function ml(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ml=function(t){return typeof t}:ml=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}var _n,yy,gy;function my(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function by(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?my(Object(t),!0).forEach(function(n){xy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):my(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Oy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function dT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ey(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pT(e,r,t){return r&&Ey(e.prototype,r),t&&Ey(e,t),e}function bl(){return typeof Reflect!="undefined"&&Reflect.get?bl=Reflect.get:bl=function(r,t,n){var o=hT(r,t);if(!!o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},bl.apply(this,arguments)}function hT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Yi(e),e!==null););return e}function vT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&qf(e,r)}function qf(e,r){return qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},qf(e,r)}function yT(e){var r=mT();return function(){var n=Yi(e),o;if(r){var i=Yi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return gT(this,o)}}function gT(e,r){if(r&&(ml(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ki(e)}function Ki(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yi(e)}function xy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ol(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function vj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var El=(_n=function(e){vT(t,e);var r=yT(t);function t(){var n;dT(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),xy(Ki(n),"modelType",Kt.ELLIPSE_NODE),Oy(Ki(n),"rx",yy,Ki(n)),Oy(Ki(n),"ry",gy,Ki(n)),n}return pT(t,[{key:"getNodeStyle",value:function(){var o=bl(Yi(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.ellipse;return by(by({},o),vr(i))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,l=this.rx,c=this.ry;return[{x:o,y:i-c,id:"".concat(this.id,"_0")},{x:o+l,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+c,id:"".concat(this.id,"_2")},{x:o-l,y:i,id:"".concat(this.id,"_3")}]}}]),t}(mo),yy=Ol(_n.prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),gy=Ol(_n.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Ol(_n.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(_n.prototype,"width"),_n.prototype),Ol(_n.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(_n.prototype,"height"),_n.prototype),_n),yj=El;function xl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xl=function(t){return typeof t}:xl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}var gn,Sy;function ec(e,r){return xT(e)||ET(e,r)||OT(e,r)||bT()}function bT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OT(e,r){if(!!e){if(typeof e=="string")return Py(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Py(e,r)}}function Py(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ET(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function xT(e){if(Array.isArray(e))return e}function My(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?My(Object(t),!0).forEach(function(n){Ay(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):My(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ST(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function PT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ty(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MT(e,r,t){return r&&Ty(e.prototype,r),t&&Ty(e,t),e}function Sl(){return typeof Reflect!="undefined"&&Reflect.get?Sl=Reflect.get:Sl=function(r,t,n){var o=wT(r,t);if(!!o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Sl.apply(this,arguments)}function wT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Vi(e),e!==null););return e}function TT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&tc(e,r)}function tc(e,r){return tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},tc(e,r)}function AT(e){var r=DT();return function(){var n=Vi(e),o;if(r){var i=Vi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return NT(this,o)}}function NT(e,r){if(r&&(xl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pl(e)}function Pl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vi(e)}function Ay(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ml(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function gj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var wl=(gn=function(e){TT(t,e);var r=AT(t);function t(){var n;PT(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),Ay(Pl(n),"modelType",Kt.POLYGON_NODE),ST(Pl(n),"points",Sy,Pl(n)),n}return MT(t,[{key:"getNodeStyle",value:function(){var o=Sl(Vi(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.polygon;return wy(wy({},o),vr(i))}},{key:"pointsPosition",get:function(){var o=this.x,i=this.y,l=this.width,c=this.height,g=this.points.map(function(x){return{x:x[0]+o-l/2,y:x[1]+i-c/2}});return g}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var c=ec(l,1),g=c[0];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var c=ec(l,2),g=c[1];g<o&&(o=g),g>i&&(i=g)}),i-o}},{key:"getDefaultAnchor",value:function(){var o=this,i=this.x,l=this.y,c=this.width,g=this.height,x=this.points;return x.map(function(D,L){var $=ec(D,2),ee=$[0],ve=$[1];return{x:i+ee-c/2,y:l+ve-g/2,id:"".concat(o.id,"_").concat(L)}})}}]),t}(mo),Sy=Ml(gn.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ml(gn.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(gn.prototype,"pointsPosition"),gn.prototype),Ml(gn.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(gn.prototype,"width"),gn.prototype),Ml(gn.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(gn.prototype,"height"),gn.prototype),gn),mj=wl;function Tl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tl=function(t){return typeof t}:Tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}var rc,Ny;function Dy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Cy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dy(Object(t),!0).forEach(function(n){Ry(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function CT(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function jT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RT(e,r,t){return r&&jy(e.prototype,r),t&&jy(e,t),e}function Al(){return typeof Reflect!="undefined"&&Reflect.get?Al=Reflect.get:Al=function(r,t,n){var o=IT(r,t);if(!!o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},Al.apply(this,arguments)}function IT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Zi(e),e!==null););return e}function LT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&nc(e,r)}function nc(e,r){return nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},nc(e,r)}function BT(e){var r=FT();return function(){var n=Zi(e),o;if(r){var i=Zi(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return zT(this,o)}}function zT(e,r){if(r&&(Tl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nl(e)}function Nl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zi(e){return Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zi(e)}function Ry(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function HT(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function bj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Dl=(rc=function(e){LT(t,e);var r=BT(t);function t(){var n;jT(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),Ry(Nl(n),"modelType",Kt.RECT_NODE),CT(Nl(n),"radius",Ny,Nl(n)),n}return RT(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,l=this.width,c=this.height;return[{x:o,y:i-c/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+c/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:i,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Al(Zi(t.prototype),"getNodeStyle",this).call(this),i=this.graphModel.theme.rect;return Cy(Cy({},o),vr(i))}}]),t}(mo),Ny=HT(rc.prototype,"radius",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rc),Oj=Dl;function Cl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cl=function(t){return typeof t}:Cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}var zo;function Iy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ly(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Iy(Object(t),!0).forEach(function(n){Fy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Iy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function GT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function By(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kT(e,r,t){return r&&By(e.prototype,r),t&&By(e,t),e}function jl(){return typeof Reflect!="undefined"&&Reflect.get?jl=Reflect.get:jl=function(r,t,n){var o=UT(r,t);if(!!o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?r:n):i.value}},jl.apply(this,arguments)}function UT(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_i(e),e!==null););return e}function XT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&oc(e,r)}function oc(e,r){return oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},oc(e,r)}function $T(e){var r=KT();return function(){var n=_i(e),o;if(r){var i=_i(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return WT(this,o)}}function WT(e,r){if(r&&(Cl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zy(e)}function zy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _i(e){return _i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_i(e)}function Fy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Hy(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}var Rl=(zo=function(e){XT(t,e);var r=$T(t);function t(){var n;GT(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),Fy(zy(n),"modelType",Kt.TEXT_NODE),n}return kT(t,[{key:"getTextStyle",value:function(){var o=jl(_i(t.prototype),"getTextStyle",this).call(this),i=this.graphModel.theme.text;return Ly(Ly({},o),vr(i))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle(),l=i.fontSize,c=bf({rows:o,fontSize:l,rowsLength:o.length}),g=c.width;return g}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),i=this.getTextStyle(),l=i.fontSize,c=bf({rows:o,fontSize:l,rowsLength:o.length}),g=c.height;return g}}]),t}(mo),Hy(zo.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(zo.prototype,"width"),zo.prototype),Hy(zo.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(zo.prototype,"height"),zo.prototype),zo),Ej=Rl;function Il(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Il=function(t){return typeof t}:Il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function YT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VT(e,r,t){return r&&Gy(e.prototype,r),t&&Gy(e,t),e}function ZT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ic(e,r)}function ic(e,r){return ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ic(e,r)}function _T(e){var r=QT();return function(){var n=Ll(e),o;if(r){var i=Ll(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return JT(this,o)}}function JT(e,r){if(r&&(Il(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ky(e)}function ky(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ll(e){return Ll=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ll(e)}function qT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Bl=function(e){ZT(t,e);var r=_T(t);function t(){var n;YT(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),qT(ky(n),"modelType",Kt.HTML_NODE),n}return VT(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,i=this.y,l=this.width,c=this.height;return[{x:o,y:i-c/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:i,id:"".concat(this.id,"_1")},{x:o,y:i+c/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:i,id:"".concat(this.id,"_3")}]}}]),t}(mo),xj=Bl,wn,Uy,Xy,$y;function Wy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function eA(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wy(Object(t),!0).forEach(function(n){Yy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ac(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function tA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ky(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rA(e,r,t){return r&&Ky(e.prototype,r),t&&Ky(e,t),e}function Yy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ga(e,r,t,n,o){var i={};return Object.keys(n).forEach(function(l){i[l]=n[l]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(l,c){return c(e,r,l)||l},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,r,i),i=null),i}function Sj(e,r){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}var Vy=(wn=function(){function e(r){tA(this,e),Yy(this,"graphModel",void 0),ac(this,"isShowHorizontal",Uy,this),ac(this,"isShowVertical",Xy,this),ac(this,"position",$y,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return rA(e,[{key:"getStyle",value:function(){return eA({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,i=t.y,l=!1,c=!1,g=0;g<n.length;g++){var x=n[g];if(x.id!==t.id&&(o===x.x&&(l=!0),i===x.y&&(c=!0),l&&c))break}return{isShowVertical:l,isShowHorizontal:c,position:{x:o,y:i}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,i,l=t.id,c;if(l){var g=this.graphModel.fakerNode;if(g&&g.id===l)c=an(g);else{var x=this.graphModel.getNodeModelById(l);c=an(x)}}for(var D=0;D<n.length;D++){var L=n[D];if(L.id!==t.id){var $=an(L);if($.minY===c.minY||$.maxY===c.minY){o=!0,i=c.minY;break}if($.minY===c.maxY||$.maxY===c.maxY){o=!0,i=c.maxY;break}}}return Xr({isShowHorizontal:o,position:{y:i}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,i,l=t.id,c;if(l){var g=this.graphModel.fakerNode;if(g&&g.id===l)c=an(g);else{var x=this.graphModel.getNodeModelById(l);c=an(x)}}for(var D=0;D<n.length;D++){var L=n[D];if(L.id!==t.id){var $=an(L);if($.minX===c.minX||$.maxX===c.minX){o=!0,i=c.minX;break}if($.minX===c.maxX||$.maxX===c.maxX){o=!0,i=c.maxX;break}}}return Xr({isShowVertical:o,position:{x:i}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),i=o.isShowHorizontal,l=o.isShowVertical;if(!i){var c=this.getHorizontalSnapline(t,n);c.isShowHorizontal&&(o.isShowHorizontal=c.isShowHorizontal,o.position.y=c.position.y)}if(!l){var g=this.getVerticalSnapline(t,n);g.isShowVertical&&(o.isShowVertical=g.isShowVertical,o.position.x=g.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,i=t.position;this.position=i,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),Uy=Ga(wn.prototype,"isShowHorizontal",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xy=Ga(wn.prototype,"isShowVertical",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$y=Ga(wn.prototype,"position",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ga(wn.prototype,"clearSnapline",[h.k],Object.getOwnPropertyDescriptor(wn.prototype,"clearSnapline"),wn.prototype),Ga(wn.prototype,"setNodeSnapLine",[h.k],Object.getOwnPropertyDescriptor(wn.prototype,"setNodeSnapLine"),wn.prototype),wn),ka=new Map,Zy=function(r){var t=li();function n(){r();var i=ka.get(t);if(i){var l=window.requestAnimationFrame(n);ka.set(t,l)}}var o=window.requestAnimationFrame(n);return ka.set(t,o),t},zl=function(r){var t=ka.get(r);t&&(window.cancelAnimationFrame(t),ka.delete(r))};function Fl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fl=function(t){return typeof t}:Fl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function Ua(){return Ua=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ua.apply(this,arguments)}function _y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Hl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_y(Object(t),!0).forEach(function(n){Qn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function nA(e,r){return uA(e)||aA(e,r)||iA(e,r)||oA()}function oA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iA(e,r){if(!!e){if(typeof e=="string")return Jy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jy(e,r)}}function Jy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function aA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function uA(e){if(Array.isArray(e))return e}function lA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sA(e,r,t){return r&&Qy(e.prototype,r),t&&Qy(e,t),e}function fA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&uc(e,r)}function uc(e,r){return uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},uc(e,r)}function cA(e){var r=pA();return function(){var n=Gl(e),o;if(r){var i=Gl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return dA(this,o)}}function dA(e,r){if(r&&(Fl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jn(e)}function Jn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Gl(e){return Gl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gl(e)}function Qn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hA=function(e){fA(t,e);var r=cA(t);function t(){var n;return lA(this,t),n=r.call(this),Qn(Jn(n),"preTargetNode",void 0),Qn(Jn(n),"sourceRuleResults",void 0),Qn(Jn(n),"targetRuleResults",void 0),Qn(Jn(n),"dragHandler",void 0),Qn(Jn(n),"t",void 0),Qn(Jn(n),"onDragStart",function(o){var i=o.event,l=n.props,c=l.anchorData,g=l.nodeModel,x=l.graphModel,D=x.overlapMode;x.selectNodeById(g.id),D!==on.INCREASE&&g.autoToFront&&x.toFront(g.id),x.eventCenter.emit(Rt.ANCHOR_DRAGSTART,{data:c,e:i,nodeModel:g}),n.setState({startX:c.x,startY:c.y,endX:c.x,endY:c.y})}),Qn(Jn(n),"onDraging",function(o){var i=o.event,l=n.props,c=l.graphModel,g=l.nodeModel,x=l.anchorData,D=c.transformModel,L=c.eventCenter,$=c.width,ee=c.height,ve=c.editConfigModel,Oe=ve.autoExpand,Te=ve.stopMoveGraph,Se=i.clientX,Ze=i.clientY,$e=c.getPointByClient({x:Se,y:Ze}),We=$e.domOverlayPosition,mt=We.x,nt=We.y,Tt=$e.canvasOverlayPosition,kt=Tt.x,Ot=Tt.y;n.t&&zl(n.t);var Ut=[],Dr=10;mt<10?Ut=[Dr,0]:mt+10>$?Ut=[-Dr,0]:nt<10?Ut=[0,Dr]:nt+10>ee&&(Ut=[0,-Dr]),n.setState({endX:kt,endY:Ot,draging:!0}),n.moveAnchorEnd(kt,Ot),Ut.length>0&&!Te&&Oe&&(n.t=Zy(function(){var ln=Ut,no=nA(ln,2),oo=no[0],hi=no[1];D.translate(oo,hi);var ea=n.state,Go=ea.endX,ta=ea.endY;n.setState({endX:Go-oo,endY:ta-hi}),n.moveAnchorEnd(Go-oo,ta-hi)})),L.emit(Rt.ANCHOR_DRAG,{data:x,e:i,nodeModel:g})}),Qn(Jn(n),"onDragEnd",function(o){n.t&&zl(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear()}),Qn(Jn(n),"checkEnd",function(o){var i=n.props,l=i.graphModel,c=i.nodeModel,g=i.anchorData,x=g.x,D=g.y,L=g.id,$=l.edgeType,ee=n.state,ve=ee.endX,Oe=ee.endY,Te=ee.draging,Se=mu({x:ve,y:Oe},l);if(n.preTargetNode&&n.preTargetNode.state!==qt.DEFAULT&&n.preTargetNode.setElementState(qt.DEFAULT),!!Te&&Se&&Se.node){var Ze=Se.node,$e=Se.anchor.id,We="".concat(c.id,"_").concat(Ze.id,"_").concat($e,"_").concat(L),mt=n.sourceRuleResults.get(We)||{},nt=mt.isAllPass,Tt=mt.msg,kt=n.targetRuleResults.get(We)||{},Ot=kt.isAllPass,Ut=kt.msg;if(nt&&Ot){Ze.setElementState(qt.DEFAULT);var Dr=l.edgeGenerator(c.getData(),l.getNodeModelById(Se.node.id).getData()),ln=l.addEdge(Hl(Hl({},Dr),{},{sourceNodeId:c.id,sourceAnchorId:L,startPoint:{x,y:D},targetNodeId:Se.node.id,targetAnchorId:Se.anchor.id,endPoint:{x:Se.anchor.x,y:Se.anchor.y}})),no=n.props.anchorData;l.eventCenter.emit(Rt.ANCHOR_DROP,{data:no,e:o,nodeModel:c,edgeModel:ln})}else{var oo=Ze.getData();l.eventCenter.emit(Rt.CONNECTION_NOT_ALLOWED,{data:oo,msg:Ut||Tt})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new si({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return sA(t,[{key:"getAnchorShape",value:function(){var o=this.props,i=o.anchorData,l=o.style,c=o.node,g=c.getAnchorShape(i);if(g)return g;var x=i.x,D=i.y,L=Hl(Hl({},l),l.hover);return Object(je.g)("g",null,Object(je.g)(Fa,Ua({className:"lf-node-anchor-hover"},L,{x,y:D})),Object(je.g)(Fa,Ua({className:"lf-node-anchor"},l,{x,y:D})))}},{key:"moveAnchorEnd",value:function(o,i){var l=this.props,c=l.graphModel,g=l.nodeModel,x=l.anchorData,D=mu({x:o,y:i},c);if(D){var L=D.node,$=D.anchor.id;if(this.preTargetNode&&this.preTargetNode!==D.node&&this.preTargetNode.setElementState(qt.DEFAULT),x.id===$)return;this.preTargetNode=L;var ee="".concat(g.id,"_").concat(L.id,"_").concat($,"_").concat(x.id);if(!this.targetRuleResults.has(ee)){var ve=D.anchor,Oe=g.isAllowConnectedAsSource(L,x,ve),Te=L.isAllowConnectedAsTarget(g,x,ve);this.sourceRuleResults.set(ee,Ou(Oe)),this.targetRuleResults.set(ee,Ou(Te))}var Se=this.sourceRuleResults.get(ee),Ze=Se.isAllPass,$e=this.targetRuleResults.get(ee),We=$e.isAllPass;Ze&&We?L.setElementState(qt.ALLOW_CONNECT):L.setElementState(qt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==qt.DEFAULT&&this.preTargetNode.setElementState(qt.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,i=o.startX,l=o.startY,c=o.endX,g=o.endY,x=Kn(i,l,c,g);return x>10}},{key:"render",value:function(){var o=this,i=this.state,l=i.startX,c=i.startY,g=i.endX,x=i.endY,D=this.props,L=D.anchorData.edgeAddable,$=D.edgeStyle;return Object(je.g)("g",{className:"lf-anchor"},Object(je.g)("g",{onMouseDown:function(ve){L!==!1&&o.dragHandler.handleMouseDown(ve)}},this.getAnchorShape()),this.isShowLine()&&Object(je.g)(fi,Ua({x1:l,y1:c,x2:g,y2:x},$,{"pointer-events":"none"})))}}]),t}(je.a),vA=hA,Pj=a(63);function qy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yA(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qy(Object(t),!0).forEach(function(n){gA(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function gA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function kl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kl=function(t){return typeof t}:kl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function mA(e,r){return xA(e)||EA(e,r)||OA(e,r)||bA()}function bA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OA(e,r){if(!!e){if(typeof e=="string")return eg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eg(e,r)}}function eg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function EA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function xA(e){if(Array.isArray(e))return e}function tg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,i=e.value,l=e.fontSize,c=e.fill,g=c===void 0?"currentColor":c,x=e.overflowMode,D=x===void 0?"default":x,L=e.textWidth,$=L===void 0?"":L,ee=e.model,ve={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:g};if(Object.entries(e).forEach(function(We){var mt=mA(We,2),nt=mt[0],Tt=mt[1],kt=kl(Tt);kt!=="object"&&(ve[nt]=Tt)}),i){var Oe=String(i).split(/[\r\n]/g),Te=Oe.length;if(D!=="default"){var Se=ee.BaseType,Ze=ee.modelType;if(Se===Pr.NODE&&Ze!==Kt.TEXT_NODE||Se===Pr.EDGE&&$)return SA(e)}if(Te>1){var $e=Oe.map(function(We,mt){var nt=l+2,Tt=(mt-(Te-1)/2)*nt;return Object(je.g)("tspan",{className:"lf-text-tspan",x:t,y:o+Tt},We)});return Object(je.g)("text",ve,$e)}return Object(je.g)("text",ve,i)}}function SA(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,i=o===void 0?"":o,l=e.lineHeight,c=e.wrapPadding,g=c===void 0?"0, 0":c,x=e.overflowMode,D=e.x,L=e.y,$=n.width,ee=n.textHeight,ve=e.textWidth||$,Oe=String(r).split(/[\r\n]/g),Te=Oe.length,Se=zp({rows:Oe,style:{fontSize:"".concat(t,"px"),width:"".concat(ve,"px"),fontFamily:i,lineHeight:l,padding:g},rowsLength:Te,className:"lf-get-text-height"}),Ze=n.height>Se?n.height:Se;ee&&(Ze=ee);var $e=x==="ellipsis";return Object(je.g)("g",null,Object(je.g)("foreignObject",{width:ve,height:Ze,x:D-ve/2,y:L-Ze/2},Object(je.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ze,width:ve,padding:g}},Object(je.g)("div",{className:$e?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:yA({},e)},Oe.map(function(We){return Object(je.g)("div",{className:"lf-node-text--auto-wrap-inner"},We)})))))}function Ul(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ul=function(t){return typeof t}:Ul=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function lc(){return lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},lc.apply(this,arguments)}function PA(e,r){return AA(e)||TA(e,r)||wA(e,r)||MA()}function MA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wA(e,r){if(!!e){if(typeof e=="string")return rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rg(e,r)}}function rg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function TA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function AA(e){if(Array.isArray(e))return e}function NA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DA(e,r,t){return r&&ng(e.prototype,r),t&&ng(e,t),e}function CA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sc(e,r)}function jA(e){var r=IA();return function(){var n=Xl(e),o;if(r){var i=Xl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return RA(this,o)}}function RA(e,r){if(r&&(Ul(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fo(e)}function Fo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Xl(e){return Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xl(e)}function ci(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var og=function(e){CA(t,e);var r=jA(t);function t(n){var o;NA(this,t),o=r.call(this),ci(Fo(o),"dragHandler",void 0),ci(Fo(o),"sumDeltaX",0),ci(Fo(o),"sumDeltaY",0),ci(Fo(o),"stepDrag",void 0),ci(Fo(o),"onDraging",function(c){var g=c.deltaX,x=c.deltaY,D=o.props,L=D.model,$=D.graphModel.transformModel,ee=$.fixDeltaXY(g,x),ve=PA(ee,2),Oe=ve[0],Te=ve[1];L.moveText(Oe,Te)}),ci(Fo(o),"dblClickHandler",function(){var c=o.props.editable;if(c){var g=o.props.model;g.setElementState(qt.TEXT_EDIT)}}),ci(Fo(o),"mouseDownHandle",function(c){var g=o.props,x=g.draggable,D=g.graphModel.editConfigModel.nodeTextDraggable;(x||D)&&o.stepDrag.handleMouseDown(c)});var i=n.model,l=n.draggable;return o.stepDrag=new si({onDraging:o.onDraging,step:1,model:i,isStopPropagation:l}),o}return DA(t,[{key:"getShape",value:function(){var o=this.props,i=o.model,l=o.graphModel,c=i.text,g=l.editConfigModel,x=c.value,D=c.x,L=c.y,$=c.editable,ee=c.draggable,ve={x:D,y:L,className:"",value:x};$?ve.className="lf-element-text":ee||g.nodeTextDraggable?ve.className="lf-text-draggable":ve.className="lf-text-disabled";var Oe=i.getTextStyle();return Object(je.g)(tg,lc({},ve,Oe,{model:i}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(je.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(je.a),LA=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function $l(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$l=function(t){return typeof t}:$l=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function Wl(e,r){return HA(e)||FA(e,r)||zA(e,r)||BA()}function BA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zA(e,r){if(!!e){if(typeof e=="string")return ig(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ig(e,r)}}function ig(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function FA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function HA(e){if(Array.isArray(e))return e}function GA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kA(e,r,t){return r&&ag(e.prototype,r),t&&ag(e,t),e}function UA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&fc(e,r)}function fc(e,r){return fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},fc(e,r)}function XA(e){var r=WA();return function(){var n=Kl(e),o;if(r){var i=Kl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return $A(this,o)}}function $A(e,r){if(r&&($l(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hr(e)}function Hr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Kl(e){return Kl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Kl(e)}function Kr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Oo=function(e){UA(t,e);var r=XA(t);function t(n){var o;GA(this,t),o=r.call(this),Kr(Hr(o),"t",void 0),Kr(Hr(o),"moveOffset",void 0),Kr(Hr(o),"stepDrag",void 0),Kr(Hr(o),"contextMenuTime",void 0),Kr(Hr(o),"startTime",void 0),Kr(Hr(o),"clickTimer",void 0),Kr(Hr(o),"onDragStart",function(x){var D=x.event,L=D.clientX,$=D.clientY,ee=o.props,ve=ee.model,Oe=ee.graphModel,Te=Oe.getPointByClient({x:L,y:$}),Se=Te.canvasOverlayPosition,Ze=Se.x,$e=Se.y;o.moveOffset={x:ve.x-Ze,y:ve.y-$e}}),Kr(Hr(o),"onDraging",function(x){var D=x.event,L=o.props,$=L.model,ee=L.graphModel,ve=ee.editConfigModel,Oe=ve.stopMoveGraph,Te=ve.autoExpand,Se=ee.transformModel,Ze=ee.width,$e=ee.height,We=ee.gridSize;$.isDragging=!0;var mt=D.clientX,nt=D.clientY,Tt=ee.getPointByClient({x:mt,y:nt}),kt=Tt.canvasOverlayPosition,Ot=kt.x,Ut=kt.y,Dr=Se.CanvasPointToHtmlPoint([Ot,Ut]),ln=Wl(Dr,2),no=ln[0],oo=ln[1];if(Ot=Ot+o.moveOffset.x,Ut=Ut+o.moveOffset.y,Ot=Ii(Ot,We),Ut=Ii(Ut,We),!Ze||!$e){ee.moveNode2Coordinate($.id,Ot,Ut);return}var hi=no<0||oo<0||no>Ze||oo>$e;if(!(Te&&!Oe&&hi)){var ea=Se.CanvasPointToHtmlPoint([Ot-$.width/2,Ut-$.height/2]),Go=Wl(ea,2),ta=Go[0],ed=Go[1],jC=Se.CanvasPointToHtmlPoint([Ot+$.width/2,Ut+$.height/2]),lm=Wl(jC,2),RC=lm[0],IC=lm[1],Fs=Math.max(We,20),ra=[];ta<0?ra=[Fs,0]:RC>ee.width?ra=[-Fs,0]:ed<0?ra=[0,Fs]:IC>ee.height&&(ra=[0,-Fs]),o.t&&zl(o.t),ra.length>0&&!Oe&&Te?o.t=Zy(function(){var LC=ra,sm=Wl(LC,2),fm=sm[0],cm=sm[1];Se.translate(fm,cm),ee.moveNode($.id,-fm/Se.SCALE_X,-cm/Se.SCALE_X)}):ee.moveNode2Coordinate($.id,Ot,Ut)}}),Kr(Hr(o),"onDragEnd",function(){o.t&&zl(o.t);var x=o.props.model;x.isDragging=!1}),Kr(Hr(o),"handleClick",function(x){if(!!o.startTime){var D=new Date().getTime()-o.startTime;if(!(D>200)){var L=o.props,$=L.model,ee=L.graphModel,ve=$.getData(),Oe=ee.getPointByClient({x:x.clientX,y:x.clientY}),Te={data:ve,e:x,position:Oe},Se=x.button===2,Ze=x.detail===2;if(!Se){var $e=ee.editConfigModel;ee.selectNodeById($.id,Dp(x,$e)),o.toFront(),Ze?($e.nodeTextEdit&&$.text.editable&&($.setSelected(!1),ee.setElementStateById($.id,qt.TEXT_EDIT)),ee.eventCenter.emit(Rt.NODE_DBCLICK,Te)):(ee.eventCenter.emit(Rt.ELEMENT_CLICK,Te),ee.eventCenter.emit(Rt.NODE_CLICK,Te))}}}}),Kr(Hr(o),"handleContextMenu",function(x){x.preventDefault();var D=o.props,L=D.model,$=D.graphModel,ee=L.getData(),ve=$.getPointByClient({x:x.clientX,y:x.clientY});$.setElementStateById(L.id,qt.SHOW_MENU,ve.domOverlayPosition),$.selectNodeById(L.id),$.eventCenter.emit(Rt.NODE_CONTEXTMENU,{data:ee,e:x,position:ve}),o.toFront()}),Kr(Hr(o),"handleMouseDown",function(x){var D=o.props,L=D.model,$=D.graphModel;o.toFront(),o.startTime=new Date().getTime();var ee=$.editConfigModel;ee.adjustNodePosition&&L.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(x)}),Kr(Hr(o),"setHoverON",function(x){var D=o.state.isHovered;if(!D){o.setState({isHovered:!0});var L=o.props,$=L.model,ee=L.graphModel,ve=$.getData();$.setHovered(!0),ee.eventCenter.emit(Rt.NODE_MOUSEENTER,{data:ve,e:x})}}),Kr(Hr(o),"setHoverOFF",function(x){o.setState({isHovered:!1});var D=o.props,L=D.model,$=D.graphModel,ee=L.getData();L.setHovered(!1),$.eventCenter.emit(Rt.NODE_MOUSELEAVE,{data:ee,e:x})}),Kr(Hr(o),"onMouseOut",function(x){LA&&o.setHoverOFF(x)});var i=n.graphModel,l=i.gridSize,c=i.eventCenter,g=n.model;return o.stepDrag=new si({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"NODE",isStopPropagation:!1,eventCenter:c,model:g}),o.state={isHovered:!1},o}return kA(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,i=this.props,l=i.model,c=i.graphModel,g=l.isSelected,x=l.isHitable,D=l.isDragging,L=this.state.isHovered;if(x&&(g||L)&&!D){var $=l.getAnchorLineStyle();return cu(l.anchors,function(ee,ve){var Oe=l.getAnchorStyle(ee);return Object(je.g)(vA,{anchorData:ee,node:o,style:Oe,edgeStyle:$,anchorIndex:ve,nodeModel:l,graphModel:c,setHoverOFF:o.setHoverOFF})})}return[]}},{key:"getText",value:function(){var o=this.props,i=o.model,l=o.graphModel;if(i.state===qt.TEXT_EDIT)return"";if(i.text){var c=l.editConfigModel,g=!1;return(i.text.draggable||c.nodeTextDraggable)&&(g=!0),Object(je.g)(og,{editable:c.nodeTextEdit&&i.text.editable,model:i,graphModel:l,draggable:g})}}},{key:"getStateClassName",value:function(){var o=this.props.model,i=o.state,l=o.isDraging,c=o.isSelected,g="lf-node";switch(i){case qt.ALLOW_CONNECT:g+=" lf-node-allow";break;case qt.NOT_ALLOW_CONNECT:g+=" lf-node-not-allow";break;default:g+=" lf-node-default";break}return l&&(g+=" lf-isDragging"),c&&(g+=" lf-node-selected"),g}},{key:"toFront",value:function(){var o=this.props,i=o.model,l=o.graphModel,c=l.overlapMode;c!==on.INCREASE&&i.autoToFront&&l.toFront(i.id)}},{key:"render",value:function(){var o=this.props,i=o.model,l=o.graphModel,c=l.editConfigModel,g=c.hideAnchors,x=c.adjustNodePosition,D=l.gridSize,L=l.transformModel.SCALE_X,$=i.isHitable,ee=i.draggable,ve=Object(je.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),g?null:this.getAnchors()),Oe;return $?(x&&ee&&this.stepDrag.setStep(D*L),Oe=Object(je.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ve)):Oe=Object(je.g)("g",{className:this.getStateClassName()},ve),Oe}}],[{key:"getModel",value:function(o){return o}}]),t}(je.a);function Yl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yl=function(t){return typeof t}:Yl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function cc(){return cc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},cc.apply(this,arguments)}function KA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YA(e,r,t){return r&&ug(e.prototype,r),t&&ug(e,t),e}function VA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&dc(e,r)}function dc(e,r){return dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},dc(e,r)}function ZA(e){var r=QA();return function(){var n=Vl(e),o;if(r){var i=Vl(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return _A(this,o)}}function _A(e,r){if(r&&(Yl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JA(e)}function JA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Vl(e){return Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vl(e)}var pc=function(e){VA(t,e);var r=ZA(t);function t(){return KA(this,t),r.apply(this,arguments)}return YA(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(je.g)(Lo,cc({},i,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(Oo);function Zl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zl=function(t){return typeof t}:Zl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function hc(){return hc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},hc.apply(this,arguments)}function qA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eN(e,r,t){return r&&lg(e.prototype,r),t&&lg(e,t),e}function tN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&vc(e,r)}function vc(e,r){return vc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},vc(e,r)}function rN(e){var r=iN();return function(){var n=_l(e),o;if(r){var i=_l(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return nN(this,o)}}function nN(e,r){if(r&&(Zl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oN(e)}function oN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _l(e){return _l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_l(e)}var yc=function(e){tN(t,e);var r=rN(t);function t(){return qA(this,t),r.apply(this,arguments)}return eN(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.x,l=o.y,c=o.r,g=o.getNodeStyle();return Object(je.g)(Fa,hc({},g,{x:i,y:l,r:c}))}}]),t}(Oo);function Jl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jl=function(t){return typeof t}:Jl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function aN(e,r){return fN(e)||sN(e,r)||lN(e,r)||uN()}function uN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lN(e,r){if(!!e){if(typeof e=="string")return sg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sg(e,r)}}function sg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function sN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function fN(e){if(Array.isArray(e))return e}function fg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var i=aN(o,2),l=i[0],c=i[1],g=Jl(c);g!=="object"&&(n[l]=c)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(je.g)("polygon",n)}function Ql(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ql=function(t){return typeof t}:Ql=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function gc(){return gc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},gc.apply(this,arguments)}function cN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dN(e,r,t){return r&&cg(e.prototype,r),t&&cg(e,t),e}function pN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&mc(e,r)}function mc(e,r){return mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},mc(e,r)}function hN(e){var r=gN();return function(){var n=ql(e),o;if(r){var i=ql(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return vN(this,o)}}function vN(e,r){if(r&&(Ql(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yN(e)}function yN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ql(e){return ql=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ql(e)}var bc=function(e){pN(t,e);var r=hN(t);function t(){return cN(this,t),r.apply(this,arguments)}return dN(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.x,l=o.y,c=o.width,g=o.height,x=o.points,D=o.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(i-c/2," ").concat(l-g/2,")")};return Object(je.g)("g",L,Object(je.g)(fg,gc({},D,{points:x,x:i,y:l})))}}]),t}(Oo);function es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(t){return typeof t}:es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function Oc(){return Oc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oc.apply(this,arguments)}function mN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bN(e,r,t){return r&&dg(e.prototype,r),t&&dg(e,t),e}function ON(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ec(e,r)}function Ec(e,r){return Ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ec(e,r)}function EN(e){var r=PN();return function(){var n=ts(e),o;if(r){var i=ts(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return xN(this,o)}}function xN(e,r){if(r&&(es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SN(e)}function SN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ts(e){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(e)}var xc=function(e){ON(t,e);var r=EN(t);function t(){return mN(this,t),r.apply(this,arguments)}return bN(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(je.g)("g",null,Object(je.g)(fg,Oc({},i,{points:o.points,x:o.x,y:o.y})))}}]),t}(Oo);function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function MN(e,r){return NN(e)||AN(e,r)||TN(e,r)||wN()}function wN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TN(e,r){if(!!e){if(typeof e=="string")return pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pg(e,r)}}function pg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function AN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function NN(e){if(Array.isArray(e))return e}function DN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,i=e.rx,l=i===void 0?4:i,c=e.ry,g=c===void 0?4:c,x=e.className,D={cx:t,cy:o,rx:l,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(L){var $=MN(L,2),ee=$[0],ve=$[1],Oe=rs(ve);Oe!=="object"&&(D[ee]=ve)}),x?D.className="lf-basic-shape ".concat(x):D.className="lf-basic-shape",Object(je.g)("ellipse",D)}function ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ns=function(t){return typeof t}:ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function Sc(){return Sc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sc.apply(this,arguments)}function CN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jN(e,r,t){return r&&hg(e.prototype,r),t&&hg(e,t),e}function RN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pc(e,r)}function Pc(e,r){return Pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Pc(e,r)}function IN(e){var r=zN();return function(){var n=os(e),o;if(r){var i=os(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return LN(this,o)}}function LN(e,r){if(r&&(ns(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BN(e)}function BN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function os(e){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},os(e)}var Mc=function(e){RN(t,e);var r=IN(t);function t(){return CN(this,t),r.apply(this,arguments)}return jN(t,[{key:"getShape",value:function(){var o=this.props.model,i=o.getNodeStyle();return Object(je.g)(DN,Sc({},i,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(Oo);function is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(t){return typeof t}:is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function vg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vg(Object(t),!0).forEach(function(n){FN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function FN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function HN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GN(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}function kN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wc(e,r)}function wc(e,r){return wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wc(e,r)}function UN(e){var r=WN();return function(){var n=as(e),o;if(r){var i=as(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return XN(this,o)}}function XN(e,r){if(r&&(is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $N(e)}function $N(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function as(e){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},as(e)}var Tc=function(e){kN(t,e);var r=UN(t);function t(){return HN(this,t),r.apply(this,arguments)}return GN(t,[{key:"getBackgroud",value:function(){var o=this.props.model,i=o.getTextStyle(),l=o.text;if(l&&l.value&&i.background&&i.background.fill!=="transparnet"){var c=l.x,g=l.y,x=o.width,D=o.height,L=yg(yg({},i.background),{},{x:c,y:g-1,width:x,height:D});return Object(je.g)(Lo,L)}}},{key:"getShape",value:function(){return Object(je.g)("g",null,this.getBackgroud())}}]),t}(Oo);function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function Ac(){return Ac=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ac.apply(this,arguments)}function KN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YN(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function VN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nc(e,r)}function Nc(e,r){return Nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nc(e,r)}function ZN(e){var r=JN();return function(){var n=ls(e),o;if(r){var i=ls(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return _N(this,o)}}function _N(e,r){if(r&&(us(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xa(e)}function Xa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ls(e){return ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ls(e)}function ss(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Dc=function(e){VN(t,e);var r=ZN(t);function t(){var n;KN(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),ss(Xa(n),"ref",void 0),ss(Xa(n),"currrentProperties",void 0),ss(Xa(n),"preProperties",void 0),ss(Xa(n),"setRef",function(c){n.ref=c}),n}return YN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currrentProperties))return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,i=o.x,l=o.y,c=o.height,g=o.width,x=o.getNodeStyle();return this.currrentProperties=JSON.stringify(o.properties),Object(je.g)("foreignObject",Ac({},x,{x:i-g/2,y:l-c/2,width:g,height:c,ref:this.setRef}))}}]),t}(Oo);function fs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(t){return typeof t}:fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function Cc(){return Cc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Cc.apply(this,arguments)}function bg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function di(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?bg(Object(t),!0).forEach(function(n){Ic(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function QN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qN(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}function e1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jc(e,r)}function jc(e,r){return jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jc(e,r)}function t1(e){var r=n1();return function(){var n=cs(e),o;if(r){var i=cs(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return r1(this,o)}}function r1(e,r){if(r&&(fs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rc(e)}function Rc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cs(e)}function Ic(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var o1=function(e){e1(t,e);var r=t1(t);function t(n){var o;return QN(this,t),o=r.call(this,n),Ic(Rc(o),"setHoverON",function(){o.setState({isHoverd:!0})}),Ic(Rc(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return qN(t,[{key:"getBackgroud",value:function(){var o=this.props.model,i=o.getTextStyle(),l=o.text,c=i.background||{},g=this.state.isHoverd;if(g&&i.hover&&i.hover.background&&(c=di(di({},c),i.hover.background)),l&&l.value&&c.fill!=="transparent"){var x=i.fontSize,D=i.overflowMode,L=i.lineHeight,$=i.wrapPadding,ee=i.textWidth,ve=l.value,Oe=l.x,Te=l.y,Se=String(ve).split(/[\r\n]/g),Ze=Se.length,$e;if(D==="autoWrap"&&ee){var We=zp({rows:Se,style:{fontSize:"".concat(x,"px"),width:"".concat(ee,"px"),lineHeight:L,padding:$},rowsLength:Ze,className:"lf-get-text-height"});$e=di(di({},c),{},{x:Oe-1,y:Te-1,width:ee,height:We})}else{var mt=0;Se&&Se.forEach(function(Ut){var Dr=Th(Ut);mt=Dr>mt?Dr:mt});var nt=bf({rows:Se,fontSize:x,rowsLength:Ze}),Tt=nt.width,kt=nt.height;if(typeof c.wrapPadding=="string"){var Ot=c.wrapPadding.split(",").filter(function(Ut){return Ut.trim()}).map(function(Ut){return parseFloat(Ut.trim())});Ot.length>0&&Ot.length<=4&&(Ot.length===1?Ot=[Ot[0],Ot[0],Ot[0],Ot[0]]:Ot.length===2?Ot=[Ot[0],Ot[1],Ot[0],Ot[1]]:Ot.length===3&&(Ot=[Ot[0],Ot[1],Ot[2],Ot[1]]),Tt+=Ot[1]+Ot[3],kt+=Ot[0]+Ot[2],Oe=Oe+(Ot[1]-Ot[3])/2,Te=Te+(Ot[2]-Ot[0])/2)}$e=di(di({},c),{},{x:Oe-1,y:Te-1,width:Tt,height:kt})}return Object(je.g)(Lo,$e)}}},{key:"getShape",value:function(){var o=this.props.model,i=o.text,l=i.value,c=i.x,g=i.y;if(!!l){var x=o.getTextStyle(),D=di({x:c,y:g,className:"lf-element-text",value:l},x);return Object(je.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(je.g)(tg,Cc({},D,{model:o})))}}}]),t}(og);function ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ds=function(t){return typeof t}:ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function Lc(){return Lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Lc.apply(this,arguments)}function Eg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Eo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Eg(Object(t),!0).forEach(function(n){An(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Eg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function i1(e,r){return s1(e)||l1(e,r)||u1(e,r)||a1()}function a1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u1(e,r){if(!!e){if(typeof e=="string")return xg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xg(e,r)}}function xg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function l1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function s1(e){if(Array.isArray(e))return e}function f1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c1(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}function d1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bc(e,r)}function Bc(e,r){return Bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bc(e,r)}function p1(e){var r=v1();return function(){var n=ps(e),o;if(r){var i=ps(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return h1(this,o)}}function h1(e,r){if(r&&(ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tn(e)}function Tn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(e)}function An(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qn;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(qn||(qn={}));var Pg=function(e){d1(t,e);var r=p1(t);function t(){var n;return f1(this,t),n=r.call(this),An(Tn(n),"dragHandler",void 0),An(Tn(n),"oldEdge",void 0),An(Tn(n),"preTargetNode",void 0),An(Tn(n),"targetRuleResults",void 0),An(Tn(n),"sourceRuleResults",void 0),An(Tn(n),"onDragStart",function(){var o=n.props,i=o.x,l=o.y,c=o.edgeModel,g=c.startPoint,x=c.endPoint,D=c.pointsList;n.oldEdge={startPoint:g,endPoint:x,pointsList:D},n.setState({endX:i,endY:l,draging:!0}),c.isHitable=!1}),An(Tn(n),"onDraging",function(o){var i=o.deltaX,l=o.deltaY,c=n.state,g=c.endX,x=c.endY,D=n.props,L=D.graphModel,$=D.type,ee=L.transformModel,ve=ee.moveCanvasPointByHtml([g,x],i,l),Oe=i1(ve,2),Te=Oe[0],Se=Oe[1];n.setState({endX:Te,endY:Se,draging:!0});var Ze=n.props.edgeModel,$e=mu({x:g,y:x},L);if($e&&$e.node&&n.isAllowAdjust($e)){var We,mt=Ze.startPoint,nt=Ze.endPoint,Tt=Ze.sourceNode,kt=Ze.targetNode;$===qn.SOURCE?We={startPoint:{x:$e.anchor.x,y:$e.anchor.y},endPoint:{x:nt.x,y:nt.y},sourceNode:$e.node,targetNode:kt}:$===qn.TARGET&&(We={startPoint:{x:mt.x,y:mt.y},endPoint:{x:$e.anchor.x,y:$e.anchor.y},sourceNode:Tt,targetNode:$e.node}),Ze.updateAfterAdjustStartAndEnd(We)}else $===qn.SOURCE?Ze.updateStartPoint({x:Te,y:Se}):$===qn.TARGET&&Ze.updateEndPoint({x:Te,y:Se})}),An(Tn(n),"onDragEnd",function(){var o;n.setState({draging:!1});var i=n.props,l=i.graphModel,c=i.edgeModel,g=i.type;c.isHitable=!0;var x=n.state,D=x.endX,L=x.endY,$=x.draging,ee=mu({x:D,y:L},l);if(!!$){if(ee&&ee.node&&n.isAllowAdjust(ee)){var ve,Oe=c.getData(),Te=Eo(Eo({},Oe),{},{sourceAnchorId:"",targetAnchorId:"",text:(Oe==null||(ve=Oe.text)===null||ve===void 0?void 0:ve.value)||""});if(g===qn.SOURCE){var Se=l.edgeGenerator(l.getNodeModelById(ee.node.id).getData(),l.getNodeModelById(c.targetNodeId).getData(),Te);Te=Eo(Eo({},Se),{},{sourceNodeId:ee.node.id,sourceAnchorId:ee.anchor.id,startPoint:{x:ee.anchor.x,y:ee.anchor.y},targetNodeId:c.targetNodeId,endPoint:Eo({},c.endPoint)})}else if(g===qn.TARGET){var Ze=l.edgeGenerator(l.getNodeModelById(c.sourceNodeId).getData(),l.getNodeModelById(ee.node.id).getData(),Te);Te=Eo(Eo({},Ze),{},{sourceNodeId:c.sourceNodeId,startPoint:Eo({},c.startPoint),targetNodeId:ee.node.id,targetAnchorId:ee.anchor.id,endPoint:{x:ee.anchor.x,y:ee.anchor.y}})}l.deleteEdgeById(c.id);var $e=l.addEdge(Eo({},Te));l.eventCenter.emit(Rt.EDGE_EXCHANGE_NODE,{data:{newEdge:$e.getData(),oldEdge:c.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(qt.DEFAULT)}}),An(Tn(n),"recoveryEdge",function(){var o=n.props.edgeModel,i=n.oldEdge,l=i.startPoint,c=i.endPoint,g=i.pointsList;o.updateStartPoint(l),o.updateEndPoint(c),o.modelType!==Kt.LINE_EDGE&&(o.pointsList=g,o.initPoints())}),An(Tn(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,i=o.edgeAdjust;return i}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Cf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return c1(t,[{key:"isAllowAdjust",value:function(o){var i=this.props,l=i.edgeModel,c=l.id,g=l.sourceNode,x=l.targetNode,D=l.sourceAnchorId,L=l.targetAnchorId,$=i.type,ee=null,ve=null,Oe=null,Te=null;if($===qn.SOURCE?(ee=o.node,ve=x,Oe=o.anchor,Te=x.getAnchorInfo(L)):(ee=g,ve=o.node,Te=o.anchor,Oe=g.getAnchorInfo(D)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(qt.DEFAULT),this.preTargetNode=o.node,Te.id===Oe.id)return!1;var Se="".concat(ee.id,"_").concat(ve.id,"_").concat(Oe.id,"_").concat(Te.id);if(!this.targetRuleResults.has(Se)){var Ze=ee.isAllowConnectedAsSource(ve,Oe,Te),$e=ve.isAllowConnectedAsTarget(ee,Oe,Te);this.sourceRuleResults.set(Se,Ou(Ze)),this.targetRuleResults.set(Se,Ou($e))}var We=this.sourceRuleResults.get(Se),mt=We.isAllPass,nt=this.targetRuleResults.get(Se),Tt=nt.isAllPass,kt=mt&&Tt?qt.ALLOW_CONNECT:qt.NOT_ALLOW_CONNECT;return $===qn.SOURCE?ee.setElementState(kt):ve.setElementState(kt),mt&&Tt}},{key:"render",value:function(){var o=this.props,i=o.x,l=o.y,c=this.state.draging,g=this.getAdjustPointStyle();return Object(je.g)("g",null,Object(je.g)(Fa,Lc({className:"lf-edge-adjust-point"},g,{x:i,y:l,onMouseDown:this.dragHandler,"pointer-events":c?"none":""})))}}]),t}(je.a);function hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(t){return typeof t}:hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function vs(){return vs=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vs.apply(this,arguments)}function Mg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mg(Object(t),!0).forEach(function(n){Dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function y1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g1(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}function m1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zc(e,r)}function zc(e,r){return zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zc(e,r)}function b1(e){var r=E1();return function(){var n=ys(e),o;if(r){var i=ys(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return O1(this,o)}}function O1(e,r){if(r&&(hs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nn(e)}function Nn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ys(e)}function Dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var $a=function(e){m1(t,e);var r=b1(t);function t(){var n;y1(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r.call.apply(r,[this].concat(i)),Dn(Nn(n),"startTime",void 0),Dn(Nn(n),"contextMenuTime",void 0),Dn(Nn(n),"clickTimer",void 0),Dn(Nn(n),"handleHover",function(c,g){var x=n.props,D=x.model,L=x.graphModel.eventCenter;D.setHovered(c);var $=c?Rt.EDGE_MOUSEENTER:Rt.EDGE_MOUSELEAVE,ee=D.getData();L.emit($,{data:ee,e:g})}),Dn(Nn(n),"setHoverON",function(c){var g=n.props.model.isHovered;g||n.handleHover(!0,c)}),Dn(Nn(n),"setHoverOFF",function(c){n.handleHover(!1,c)}),Dn(Nn(n),"handleContextMenu",function(c){c.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var g=n.props,x=g.model,D=g.graphModel,L=D.getPointByClient({x:c.clientX,y:c.clientY});D.setElementStateById(x.id,qt.SHOW_MENU,L.domOverlayPosition),n.toFront(),D.selectEdgeById(x.id);var $=x==null?void 0:x.getData();D.eventCenter.emit(Rt.EDGE_CONTEXTMENU,{data:$,e:c,position:L})}),Dn(Nn(n),"handleMouseDown",function(c){c.stopPropagation(),n.startTime=new Date().getTime()}),Dn(Nn(n),"handleMouseUp",function(c){if(!!n.startTime){var g=new Date().getTime()-n.startTime;if(!(g>200)){var x=c.button===2;if(!x){var D=c.detail===2,L=n.props,$=L.model,ee=L.graphModel,ve=$==null?void 0:$.getData(),Oe=ee.getPointByClient({x:c.clientX,y:c.clientY});if(D){var Te=ee.editConfigModel,Se=ee.textEditElement;if(Se&&Se.id===$.id&&ee.setElementStateById($.id,qt.DEFAULT),Te.edgeTextEdit&&$.text.editable&&ee.setElementStateById($.id,qt.TEXT_EDIT),$.modelType===Kt.POLYLINE_EDGE){var Ze=$,$e=ee.getPointByClient({x:c.x,y:c.y}),We=$e.canvasOverlayPosition,mt=We.x,nt=We.y,Tt=Nh({x:mt,y:nt},Ze.points);Ze.dbClickPosition=Tt}ee.eventCenter.emit(Rt.EDGE_DBCLICK,{data:ve,e:c,position:Oe})}else ee.eventCenter.emit(Rt.ELEMENT_CLICK,{data:ve,e:c,position:Oe}),ee.eventCenter.emit(Rt.EDGE_CLICK,{data:ve,e:c,position:Oe});var kt=ee.editConfigModel;ee.selectEdgeById($.id,Dp(c,kt)),n.toFront()}}}}),Dn(Nn(n),"getIsDraging",function(){return!1}),n}return g1(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,i=o.model,l=o.graphModel;if(i.state===qt.TEXT_EDIT)return"";var c=!1,g=l.editConfigModel;return(i.text.draggable||g.edgeTextDraggable)&&(c=!0),Object(je.g)(o1,{editable:g.edgeTextEdit&&i.text.editable,model:i,graphModel:l,draggable:c})}},{key:"getArrowInfo",value:function(){var o=this.props.model,i=o.startPoint,l=o.endPoint,c=o.isSelected,g=this.state,x=g.hover;return{start:i,end:l,hover:x,isSelected:c}}},{key:"getArrowStyle",value:function(){var o=this.props,i=o.model,l=o.graphModel,c=i.getEdgeStyle(),g=i.getEdgeAnimationStyle(),x=l.theme.arrow,D=i.isAnimation?g.stroke:c.stroke;return wg(wg({},c),{},{fill:D,stroke:D},x)}},{key:"getArrow",value:function(){return Object(je.g)("g",null,Object(je.g)("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var o=this.props,i=o.model,l=o.graphModel,c=i.id,g=l.theme.arrow,x=g.offset,D=g.verticalLength,L=this.getArrowStyle(),$=L.stroke,ee=L.strokeWidth;return Object(je.g)("marker",{id:"marker-start-".concat(c),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(je.g)("path",{stroke:$,fill:$,strokeWidth:ee,d:"M 0 0 L ".concat(x," -").concat(D," L ").concat(x," ").concat(D," Z")}))}},{key:"getEndArrow",value:function(){var o=this.props,i=o.model,l=o.graphModel,c=i.id,g=l.theme.arrow,x=g.offset,D=g.verticalLength,L=this.getArrowStyle(),$=L.stroke,ee=L.strokeWidth;return Object(je.g)("marker",{id:"marker-end-".concat(c),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(je.g)("path",{stroke:$,fill:$,strokeWidth:ee,transform:"rotate(180)",d:"M 0 0 L ".concat(x," -").concat(D," L ").concat(x," ").concat(D," Z")}))}},{key:"getAdjustPoints",value:function(){var o=this.props,i=o.model,l=o.graphModel,c=i.getAdjustStart(),g=i.getAdjustEnd();return Object(je.g)("g",null,Object(je.g)(Pg,vs({type:"SOURCE"},c,{edgeModel:i,graphModel:l})),Object(je.g)(Pg,vs({type:"TARGET"},g,{edgeModel:i,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(je.g)("g",null)}},{key:"getAppend",value:function(){return Object(je.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,i=o.graphModel,l=o.model,c=i.overlapMode;c!==on.INCREASE&&i.toFront(l.id)}},{key:"render",value:function(){var o=this.props,i=o.model,l=i.isSelected,c=i.isHitable,g=o.graphModel,x=this.getIsDraging(),D=g.editConfigModel.adjustEdgeStartAndEnd,L=g.animation,$=l&&L.edge&&g.getSelectElements().edges.length===1;return Object(je.g)("g",null,Object(je.g)("g",{className:["lf-edge",!c&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),$&&this.getAnimation(),this.getText(),this.getArrow()),D&&l&&!x?this.getAdjustPoints():"")}}]),t}(je.a);function gs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gs=function(t){return typeof t}:gs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function x1(e,r){return w1(e)||M1(e,r)||P1(e,r)||S1()}function S1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P1(e,r){if(!!e){if(typeof e=="string")return Ag(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ag(e,r)}}function Ag(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function M1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function w1(e){if(Array.isArray(e))return e}function T1(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=x1(t,2),o=n[0],i=n[1],l=gs(i);(o==="style"||l!=="object")&&(r[o]=i)}),Object(je.g)("path",r)}var Ji=T1;function ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ms=function(t){return typeof t}:ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function bs(){return bs=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bs.apply(this,arguments)}function A1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N1(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function D1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function C1(e){var r=I1();return function(){var n=Os(e),o;if(r){var i=Os(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return j1(this,o)}}function j1(e,r){if(r&&(ms(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1(e)}function R1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(e)}var Hc=function(e){D1(t,e);var r=C1(t);function t(){return A1(this,t),r.apply(this,arguments)}return N1(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.startPoint,l=o.endPoint,c=o.isAnimation,g=o.arrowConfig,x=o.getEdgeStyle(),D=o.getEdgeAnimationStyle(),L=D.strokeDasharray,$=D.stroke,ee=D.strokeDashoffset,ve=D.animationName,Oe=D.animationDuration,Te=D.animationIterationCount,Se=D.animationTimingFunction,Ze=D.animationDirection;return Object(je.g)(fi,bs({},x,{x1:i.x,y1:i.y,x2:l.x,y2:l.y},g,c?{strokeDasharray:L,stroke:$,style:{strokeDashoffset:ee,animationName:ve,animationDuration:Oe,animationIterationCount:Te,animationTimingFunction:Se,animationDirection:Ze}}:{}))}},{key:"getShape",value:function(){return Object(je.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),l=i.stroke,c=i.className,g=i.strokeDasharray,x=o.startPoint,D=o.endPoint,L=o.getEdgeStyle();return Object(je.g)("g",null,Object(je.g)(fi,bs({},L,{x1:x.x,y1:x.y,x2:D.x,y2:D.y,className:c,strokeDasharray:g,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,i=o.startPoint,l=o.endPoint,c={start:i,end:l},g=TP(c),x=g.d,D=g.strokeWidth,L=g.fill,$=g.strokeDasharray,ee=g.stroke;return Object(je.g)(Ji,{d:x,fill:L,strokeWidth:D,stroke:ee,strokeDasharray:$})}}]),t}($a);function Es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function L1(e,r){return H1(e)||F1(e,r)||z1(e,r)||B1()}function B1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z1(e,r){if(!!e){if(typeof e=="string")return Dg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dg(e,r)}}function Dg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function F1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function H1(e){if(Array.isArray(e))return e}function G1(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=L1(t,2),o=n[0],i=n[1];if(o==="style")r[o]=i;else{var l=Es(i);l!=="object"&&(r[o]=i)}}),Object(je.g)("polyline",r)}var Cg=G1;function xs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xs=function(t){return typeof t}:xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function jg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ss(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?jg(Object(t),!0).forEach(function(n){to(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ps(){return Ps=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ps.apply(this,arguments)}function k1(e,r){return W1(e)||$1(e,r)||X1(e,r)||U1()}function U1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X1(e,r){if(!!e){if(typeof e=="string")return Rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rg(e,r)}}function Rg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function $1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function W1(e){if(Array.isArray(e))return e}function K1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y1(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}function V1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gc(e,r)}function Gc(e,r){return Gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gc(e,r)}function Z1(e){var r=J1();return function(){var n=Ms(e),o;if(r){var i=Ms(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return _1(this,o)}}function _1(e,r){if(r&&(xs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eo(e)}function eo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ms(e){return Ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ms(e)}function to(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kc=function(e){V1(t,e);var r=Z1(t);function t(){var n;return K1(this,t),n=r.call(this),to(eo(n),"drag",void 0),to(eo(n),"isDraging",void 0),to(eo(n),"appendInfo",void 0),to(eo(n),"dragHandler",void 0),to(eo(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),to(eo(n),"onDraging",function(o){var i=o.deltaX,l=o.deltaY,c=n.props,g=c.model,x=c.graphModel;n.isDraging=!0;var D=x.transformModel,L=x.editConfigModel,$=D.fixDeltaXY(i,l),ee=k1($,2),ve=ee[0],Oe=ee[1],Te=g,Se=L.adjustEdgeMiddle;Se?n.appendInfo=Te.dragAppendSimple(n.appendInfo,{x:ve,y:Oe}):n.appendInfo=Te.dragAppend(n.appendInfo,{x:ve,y:Oe})}),to(eo(n),"onDragEnd",function(){var o=n.props,i=o.model,l=o.graphModel.eventCenter,c=i;c.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,l.emit(Rt.EDGE_ADJUST,{data:c.getData()})}),to(eo(n),"beforeDragStart",function(o,i){i.dragAble&&n.dragHandler(o),n.appendInfo=i}),to(eo(n),"getIsDraging",function(){return n.isDraging}),n.drag=Cf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return Y1(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.points,l=o.isAnimation,c=o.arrowConfig,g=o.getEdgeStyle(),x=o.getEdgeAnimationStyle(),D=x.strokeDasharray,L=x.stroke,$=x.strokeDashoffset,ee=x.animationName,ve=x.animationDuration,Oe=x.animationIterationCount,Te=x.animationTimingFunction,Se=x.animationDirection;return Object(je.g)(Cg,Ps({points:i},g,c,l?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:$,animationName:ee,animationDuration:ve,animationIterationCount:Oe,animationTimingFunction:Te,animationDirection:Se}}:{}))}},{key:"getShape",value:function(){return Object(je.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),l=i.stroke,c=i.className,g=i.strokeDasharray,x=o.getEdgeStyle();return Object(je.g)("g",null,Object(je.g)(Cg,Ps({points:o.points},x,{className:c,strokeDasharray:g,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,i=o.points,l=o.isSelected,c=this.state,g=c.hover,x={start:null,end:null,hover:g,isSelected:l},D=zi(i);return D.length>=2&&(x.start=D[D.length-2],x.end=D[D.length-1]),x}},{key:"getAppendAttributes",value:function(o){var i=o.start,l=o.end,c;if(i.x===l.x&&i.y===l.y)c="";else{var g={start:i,end:l,offset:10,verticalLength:5},x=Ia(Ss(Ss({},g),{},{type:"start"})),D=Ia(Ss(Ss({},g),{},{type:"end"}));c="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(D.rightX," ").concat(D.rightY,`
      L`).concat(D.leftX," ").concat(D.leftY," z")}return{d:c,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var i=this.getAppendAttributes(o),l=i.d,c=i.strokeWidth,g=i.fill,x=i.strokeDasharray,D=i.stroke;return Object(je.g)(Ji,{d:l,fill:g,strokeWidth:c,stroke:D,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var o=this,i=this.props,l=i.model,c=i.graphModel,g=l.pointsList,x=l.draggable,D=[],L=g.length,$=function(Oe){var Te="lf-polyline-append",Se={start:{x:g[Oe].x,y:g[Oe].y},end:{x:g[Oe+1].x,y:g[Oe+1].y},startIndex:Oe,endIndex:Oe+1,direction:"",dragAble:!0},Ze=Object(je.g)("g",{className:Te},o.getAppendShape(Se)),$e=c.editConfigModel,We=$e.adjustEdge,mt=$e.adjustEdgeMiddle;if(!We||!x)o.dragHandler=function(){};else{o.dragHandler=o.drag;var nt=Se.startIndex,Tt=Se.endIndex,kt=mt&&(nt===0||Tt===L-1);Se.dragAble=!kt,Se.start.x===Se.end.x?(Se.dragAble&&(Te+="-ew-resize"),Se.direction=ir.VERTICAL):Se.start.y===Se.end.y&&(Se.dragAble&&(Te+="-ns-resize"),Se.direction=ir.HORIZONTAL),Ze=Object(je.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(Ut){return o.beforeDragStart(Ut,Se)}},Object(je.g)("g",{className:Te},o.getAppendShape(Se)))}D.push(Ze)},ee=0;ee<L-1;ee++)$(ee);return Object(je.g)("g",null,D)}}]),t}($a);function ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(t){return typeof t}:ws=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Q1(e,r){return rD(e)||tD(e,r)||eD(e,r)||q1()}function q1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eD(e,r){if(!!e){if(typeof e=="string")return Lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lg(e,r)}}function Lg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function rD(e){if(Array.isArray(e))return e}function Ts(){return Ts=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ts.apply(this,arguments)}function nD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oD(e,r,t){return r&&Bg(e.prototype,r),t&&Bg(e,t),e}function iD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uc(e,r)}function aD(e){var r=sD();return function(){var n=As(e),o;if(r){var i=As(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return uD(this,o)}}function uD(e,r){if(r&&(ws(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lD(e)}function lD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function As(e){return As=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},As(e)}var Xc=function(e){iD(t,e);var r=aD(t);function t(){return nD(this,t),r.apply(this,arguments)}return oD(t,[{key:"getEdge",value:function(){var o=this.props.model,i=o.getEdgeStyle(),l=o.path,c=o.isAnimation,g=o.arrowConfig,x=o.getEdgeAnimationStyle(),D=x.strokeDasharray,L=x.stroke,$=x.strokeDashoffset,ee=x.animationName,ve=x.animationDuration,Oe=x.animationIterationCount,Te=x.animationTimingFunction,Se=x.animationDirection;return Object(je.g)(Ji,Ts({d:l},i,g,c?{strokeDasharray:D,stroke:L,style:{strokeDashoffset:$,animationName:ee,animationDuration:ve,animationIterationCount:Oe,animationTimingFunction:Te,animationDirection:Se}}:{}))}},{key:"getShape",value:function(){return Object(je.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,i=o.getAnimation(),l=i.stroke,c=i.className,g=i.strokeDasharray,x=o.getEdgeStyle();return Object(je.g)("g",null,Object(je.g)(Ji,Ts({d:o.path},x,{className:c,strokeDasharray:g,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(je.g)(Ji,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,i=this.state,l=i.hover,c=o,g=c.path,x=c.isSelected,D=AP(g),L=Q1(D,2),$=L[0],ee=L[1],ve={start:$,end:ee,hover:l,isSelected:x};return ve}}]),t}($a);function Ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ns=function(t){return typeof t}:Ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function zg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function fD(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zg(Object(t),!0).forEach(function(n){cD(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function cD(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function dD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pD(e,r,t){return r&&Fg(e.prototype,r),t&&Fg(e,t),e}function hD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return $c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$c(e,r)}function vD(e){var r=mD();return function(){var n=Ds(e),o;if(r){var i=Ds(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return yD(this,o)}}function yD(e,r){if(r&&(Ns(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gD(e)}function gD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ds(e){return Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ds(e)}var bD=function(e){hD(t,e);var r=vD(t);function t(){return dD(this,t),r.apply(this,arguments)}return pD(t,[{key:"getArrowAttributes",value:function(){var o=this.props,i=o.arrowInfo,l=o.style,c=i.start,g=i.end,x={start:c,end:g,offset:l.offset,verticalLength:l.verticalLength,type:"end"},D=Ia(x),L=D.leftX,$=D.leftY,ee=D.rightX,ve=D.rightY;return fD({d:"M".concat(L," ").concat($," L").concat(g.x," ").concat(g.y," L").concat(ee," ").concat(ve," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),i=o.d,l=o.strokeWidth,c=o.stroke,g=o.fill;return Object(je.g)(Ji,{d:i,fill:g,strokeWidth:l,stroke:c})}},{key:"render",value:function(){return Object(je.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(je.a);function OD(e,r){return ef(e,r)}var Hg=OD;function ED(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var xD=ED,SD=function(){return Ir.a.Date.now()},Wc=SD,PD=/\s/;function MD(e){for(var r=e.length;r--&&PD.test(e.charAt(r)););return r}var wD=MD,TD=/^\s+/;function AD(e){return e&&e.slice(0,wD(e)+1).replace(TD,"")}var ND=AD,Gg=0/0,DD=/^[-+]0x[0-9a-f]+$/i,CD=/^0b[01]+$/i,jD=/^0o[0-7]+$/i,RD=parseInt;function ID(e){if(typeof e=="number")return e;if(su(e))return Gg;if(Tr(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Tr(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=ND(e);var t=CD.test(e);return t||jD.test(e)?RD(e.slice(2),t?2:8):DD.test(e)?Gg:+e}var kg=ID,LD="Expected a function",BD=Math.max,zD=Math.min;function FD(e,r,t){var n,o,i,l,c,g,x=0,D=!1,L=!1,$=!0;if(typeof e!="function")throw new TypeError(LD);r=kg(r)||0,Tr(t)&&(D=!!t.leading,L="maxWait"in t,i=L?BD(kg(t.maxWait)||0,r):i,$="trailing"in t?!!t.trailing:$);function ee(nt){var Tt=n,kt=o;return n=o=void 0,x=nt,l=e.apply(kt,Tt),l}function ve(nt){return x=nt,c=setTimeout(Se,r),D?ee(nt):l}function Oe(nt){var Tt=nt-g,kt=nt-x,Ot=r-Tt;return L?zD(Ot,i-kt):Ot}function Te(nt){var Tt=nt-g,kt=nt-x;return g===void 0||Tt>=r||Tt<0||L&&kt>=i}function Se(){var nt=Wc();if(Te(nt))return Ze(nt);c=setTimeout(Se,Oe(nt))}function Ze(nt){return c=void 0,$&&n?ee(nt):(n=o=void 0,l)}function $e(){c!==void 0&&clearTimeout(c),x=0,n=g=o=c=void 0}function We(){return c===void 0?l:Ze(Wc())}function mt(){var nt=Wc(),Tt=Te(nt);if(n=arguments,o=this,g=nt,Tt){if(c===void 0)return ve(g);if(L)return clearTimeout(c),c=setTimeout(Se,r),ee(g)}return c===void 0&&(c=setTimeout(Se,r)),l}return mt.cancel=$e,mt.flush=We,mt}var HD=FD,GD=a(166);function kD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UD(e,r,t){return r&&Ug(e.prototype,r),t&&Ug(e,t),e}function Ho(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var XD=function(){function e(r){kD(this,e),Ho(this,"undos",[]),Ho(this,"redos",[]),Ho(this,"callbacks",[]),Ho(this,"stopWatch",null),Ho(this,"curData",null),Ho(this,"maxSize",50),Ho(this,"waitTime",100),Ho(this,"eventCenter",void 0),this.eventCenter=r}return UD(e,[{key:"add",value:function(t){Hg(xD(this.undos),t)||(this.undos.push(t),Hg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(Rt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=vr(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=vr(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(GD.a)(t,HD(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),$D=XD;function Cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cs=function(t){return typeof t}:Cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}var Xg,$g,Wg;function WD(e,r){return ZD(e)||VD(e,r)||YD(e,r)||KD()}function KD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YD(e,r){if(!!e){if(typeof e=="string")return Kg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kg(e,r)}}function Kg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function VD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function ZD(e){if(Array.isArray(e))return e}function Yg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Qi(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yg(Object(t),!0).forEach(function(n){pi(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _D(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JD(e,r,t){return r&&Vg(e.prototype,r),t&&Vg(e,t),e}function QD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kc(e,r)}function Kc(e,r){return Kc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kc(e,r)}function qD(e){var r=tC();return function(){var n=js(e),o;if(r){var i=js(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return eC(this,o)}}function eC(e,r){if(r&&(Cs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qi(e)}function qi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},js(e)}function pi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Yc=Cn(Xg=(Wg=$g=function(e){QD(t,e);var r=qD(t);function t(){var n;return _D(this,t),n=r.call(this),pi(qi(n),"ref",Object(je.f)()),pi(qi(n),"__prevText",{type:"",text:"",id:""}),pi(qi(n),"keyupHandler",function(o){var i=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&i.setElementState(0)}),pi(qi(n),"inputHandler",function(o){var i=o.target,l=i.innerText,c=n.props.graphModel.textEditElement;n.__prevText={type:c.type,text:l.replace(/(\r\n)+$|(\n)+$/,""),id:c.id}}),pi(qi(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return JD(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,i=o.eventCenter,l=o.editConfigModel,c=l.edgeTextEdit,g=l.nodeTextEdit;(c||g)&&i.on("".concat(Rt.GRAPH_TRANSFORM,",").concat(Rt.NODE_CLICK,",").concat(Rt.BLANK_CLICK," "),function(){o.textEditElement&&o.textEditElement.setElementState(qt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var i=this.__prevText,l=i.text,c=i.id;o.updateText(c,l),o.eventCenter.emit(Rt.TEXT_UPDATE,Qi({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var i=document.createRange();i.selectNodeContents(o),i.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(i)}}},{key:"render",value:function(){var o,i=this.props.graphModel.textEditElement,l=this.state.style;return i?Object(je.g)("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:i.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(o=i.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var i=o.graphModel,l=i.transformModel,c=i.theme,g=i.textEditElement,x;if(g){var D;if(!((D=g.text)!==null&&D!==void 0&&D.value))if(g.BaseType===Pr.EDGE){g=g;var L=g.text,$=g.textPosition,ee=$.x,ve=$.y;L.x=ee,L.y=ve,g.setText(L)}else g=g;var Oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(g.BaseType===Pr.EDGE){var Te=c.edgeText,Se=Te.overflowMode,Ze=Te.lineHeight,$e=Te.wrapPadding,We=Te.textWidth;We&&Se==="autoWrap"&&(x=Qi(Qi({},Oe),{},{width:We,minWidth:We,lineHeight:Ze,padding:$e}))}else if(g.BaseType===Pr.NODE){var mt=c.nodeText,nt=mt.overflowMode,Tt=mt.lineHeight,kt=mt.wrapPadding,Ot=mt.textWidth,Ut=g,Dr=Ut.width,ln=Ut.modelType;(ln!==Kt.TEXT_NODE&&nt==="autoWrap"||ln===Kt.TEXT_NODE&&Ot)&&(x=Qi(Qi({},Oe),{},{width:Ot||Dr,minWidth:Ot||Dr,lineHeight:Tt,padding:kt}))}var no=g.text,oo=no.x,hi=no.y,ea=l.CanvasPointToHtmlPoint([oo,hi]),Go=WD(ea,2),ta=Go[0],ed=Go[1];return{style:Qi({left:ta,top:ed},x)}}}}]),t}(je.a),pi($g,"toolName","textEdit"),Wg))||Xg,rC=function(r){var t=r.x,n=r.y,o=r.width,i=r.height;return{x:t-o/2,y:n-i/2,x1:t+o/2,y1:n+i/2}},nC=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,i=(t.y+n.y)/2,l=Math.abs(t.x-n.x)+10,c=Math.abs(t.y-n.y)+10;return{x:o-l/2,y:i-c/2,x1:o+l/2,y1:i+c/2}},oC=function(r){var t=r.points,n=zi(t),o=La(n,8),i=o.x,l=o.y,c=o.width,g=o.height;return{x:i-c/2,y:l-g/2,x1:i+c/2,y1:l+g/2}},iC=function(r){var t=r.path,n=Ru(t),o=La(n,8),i=o.x,l=o.y,c=o.width,g=o.height;return{x:i-c/2,y:l-g/2,x1:i+c/2,y1:l+g/2}},aC=function(r){if(r.modelType===Kt.LINE_EDGE)return nC(r);if(r.modelType===Kt.POLYLINE_EDGE)return oC(r);if(r.modelType===Kt.BEZIER_EDGE)return iC(r)};function Rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rs=function(t){return typeof t}:Rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}var Zg,_g,Jg;function Qg(e,r){return sC(e)||lC(e,r)||qg(e,r)||uC()}function uC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lC(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,c;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,c=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw c}}return n}}function sC(e){if(Array.isArray(e))return e}function fC(e){return pC(e)||dC(e)||qg(e)||cC()}function cC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qg(e,r){if(!!e){if(typeof e=="string")return Vc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Vc(e,r)}}function dC(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pC(e){if(Array.isArray(e))return Vc(e)}function Vc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function hC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function em(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vC(e,r,t){return r&&em(e.prototype,r),t&&em(e,t),e}function yC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zc(e,r)}function Zc(e,r){return Zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zc(e,r)}function gC(e){var r=bC();return function(){var n=Is(e),o;if(r){var i=Is(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return mC(this,o)}}function mC(e,r){if(r&&(Rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wa(e)}function Wa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Is(e)}function Ka(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _c=Cn(Zg=(Jg=_g=function(e){yC(t,e);var r=gC(t);function t(n){var o;hC(this,t),o=r.call(this),Ka(Wa(o),"stepDrag",void 0),Ka(Wa(o),"handleMouseDown",function(g){o.stepDrag.handleMouseDown(g)}),Ka(Wa(o),"onDraging",function(g){var x=g.deltaX,D=g.deltaY,L=o.props.graphModel,$=L.getSelectElements(!0);L.moveNodes($.nodes.map(function(ee){return ee.id}),x,D)}),Ka(Wa(o),"handleContextMenu",function(g){g.preventDefault();var x=o.props,D=x.graphModel,L=x.graphModel,$=L.eventCenter,ee=L.selectElements,ve=D.getPointByClient({x:g.clientX,y:g.clientY}),Oe={nodes:[],edges:[]},Te=fC(ee.values());Te.forEach(function(Se){Se.BaseType===Pr.NODE&&Oe.nodes.push(Se.getData()),Se.BaseType===Pr.EDGE&&Oe.edges.push(Se.getData())}),$.emit(Rt.SELECTION_CONTEXTMENU,{data:Oe,e:g,position:ve})});var i=n.graphModel,l=i.gridSize,c=i.eventCenter;return o.stepDrag=new si({onDraging:o.onDraging,step:l,eventType:"SELECTION",eventCenter:c}),o}return vC(t,[{key:"render",value:function(){var o=this.props.graphModel,i=o.selectElements,l=o.transformModel;if(!(i.size<=1)){var c=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,D=Number.MIN_SAFE_INTEGER;i.forEach(function(Te){var Se={x:0,y:0,x1:0,y1:0};Te.BaseType===Pr.NODE&&(Se=rC(Te)),Te.BaseType===Pr.EDGE&&(Se=aC(Te)),c=Math.min(c,Se.x),g=Math.min(g,Se.y),x=Math.max(x,Se.x1),D=Math.max(D,Se.y1)});var L=l.CanvasPointToHtmlPoint([c,g]),$=Qg(L,2);c=$[0],g=$[1];var ee=l.CanvasPointToHtmlPoint([x,D]),ve=Qg(ee,2);x=ve[0],D=ve[1];var Oe={left:"".concat(c-10,"px"),top:"".concat(g-10,"px"),width:"".concat(x-c+20,"px"),height:"".concat(D-g+20,"px")};return Object(je.g)("div",{className:"lf-multiple-select",style:Oe,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(je.a),Ka(_g,"toolName","multipleSelect"),Jg))||Zg;function OC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EC(e,r,t){return r&&tm(e.prototype,r),t&&tm(e,t),e}function Ls(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var xC=function(){function e(r){OC(this,e),Ls(this,"tools",void 0),Ls(this,"components",void 0),Ls(this,"toolMap",new Map),Ls(this,"instance",void 0),this.instance=r,this.isDisabledTool(Yc.toolName)||this.registerTool(Yc.toolName,Yc),this.isDisabledTool(_c.toolName)||this.registerTool(_c.toolName,_c)}return EC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),SC=a(167),PC=a.n(SC);function MC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wC(e,r,t){return r&&rm(e.prototype,r),t&&rm(e,t),e}function Jc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nm=function(){function e(r){MC(this,e),Jc(this,"mousetrap",void 0),Jc(this,"options",void 0),Jc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new PC.a(this.target),r.keyboard.enabled&&this.enable(!0)}return wC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(Ur(n))n.forEach(function(c){var g=c.keys,x=c.callback,D=c.action;return t.on(g,x,D)});else{var o=n.keys,i=n.callback,l=n.action;this.on(o,i,l)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),TC=nm,ro=null;function om(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function im(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Bs=40;function AC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!r.textEditElement){var o=e.options.guards,i=r.getSelectElements(!1),l=o&&o.beforeClone?o.beforeClone(i):!0;return l?(ro=i,ro.nodes.forEach(function(c){return om(c,Bs)}),ro.edges.forEach(function(c){return im(c,Bs)}),!1):(ro=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!r.textEditElement){if(ro&&(ro.nodes||ro.edges)){e.clearSelectElements();var o=e.addElements(ro);if(!o)return;o.nodes.forEach(function(i){return e.selectElementById(i.id,!0)}),o.edges.forEach(function(i){return e.selectElementById(i.id,!0)}),ro.nodes.forEach(function(i){return om(i,Bs)}),ro.edges.forEach(function(i){return im(i,Bs)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(!!n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(i){return e.deleteEdge(i.id)}),o.nodes.forEach(function(i){return e.deleteNode(i.id)}),!1}})}function NC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function zs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zs=function(t){return typeof t}:zs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function am(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Qc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?am(Object(t),!0).forEach(function(n){mr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):am(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function DC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function um(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CC(e,r,t){return r&&um(e.prototype,r),t&&um(e,t),e}function mr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qc=function(){function e(r){var t=this;DC(this,e),mr(this,"container",void 0),mr(this,"width",void 0),mr(this,"height",void 0),mr(this,"graphModel",void 0),mr(this,"history",void 0),mr(this,"viewMap",new Map),mr(this,"tool",void 0),mr(this,"keyboard",void 0),mr(this,"dnd",void 0),mr(this,"options",void 0),mr(this,"snaplineModel",void 0),mr(this,"components",[]),mr(this,"plugins",void 0),mr(this,"extension",{}),mr(this,"adapterIn",void 0),mr(this,"adapterOut",void 0),mr(this,"getView",function(n){return t.viewMap.get(n)}),r=Nv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new XP(Qc({},r)),this.tool=new xC(this),this.history=new $D(this.graphModel.eventCenter),this.dnd=new Aw({lf:this}),this.keyboard=new TC({lf:this,keyboard:r.keyboard}),!r.isSilentMode&&r.snapline!==!1&&(this.snaplineModel=new Vy(this.graphModel),NC(this.graphModel.eventCenter,this.snaplineModel)),AC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return CC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var i={BaseEdge:$a,BaseEdgeModel:Ef,BaseNode:Oo,BaseNodeModel:mo,RectNode:pc,RectNodeModel:Dl,CircleNode:yc,CircleNodeModel:hl,PolygonNode:bc,PolygonNodeModel:wl,TextNode:Tc,TextNodeModel:Rl,LineEdge:Hc,LineEdgeModel:ja,DiamondNode:xc,DiamondNodeModel:gl,PolylineEdge:kc,PolylineEdgeModel:Pu,BezierEdge:Xc,BezierEdgeModel:Vf,EllipseNode:Mc,EllipseNodeModel:El,HtmlNode:Dc,HtmlNodeModel:Bl,h:je.g,type:t};this.viewMap.forEach(function(D){var L=D.extendKey;L&&(i[L]=D)}),this.graphModel.modelMap.forEach(function(D){var L=D.extendKey;L&&(i[L]=D)});var l=n(i),c=l.view,g=l.model,x=c;o&&!x.isObervered&&(x.isObervered=!0,x=lt(x)),this.setView(t,x),this.graphModel.setModel(t,g)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=lt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:pc,model:Dl,type:"rect"}),this.registerElement({type:"circle",view:yc,model:hl}),this.registerElement({type:"polygon",view:bc,model:wl}),this.registerElement({type:"line",view:Hc,model:ja}),this.registerElement({type:"polyline",view:kc,model:Pu}),this.registerElement({type:"bezier",view:Xc,model:Vf}),this.registerElement({type:"text",view:Tc,model:Rl}),this.registerElement({type:"ellipse",view:Mc,model:El}),this.registerElement({type:"diamond",view:xc,model:gl}),this.registerElement({type:"html",view:Dc,model:Bl})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.graphModel.selectElementById(t,n),n||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,i=t.id;if(!o){var l=this.getNodeModelById(i);l&&(o=l.getData());var c=this.getEdgeModelById(i);c&&(o=c.textPosition)}var g=o,x=g.x,D=g.y;n.focusOn(x,D,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,i,l=this.getModelById(t);if(!l)return!1;var c=(n={},mr(n,Pr.NODE,this.deleteNode),mr(n,Pr.EDGE,this.deleteEdge),n),g=l.BaseType;return(o=(i=c[g])===null||i===void 0?void 0:i.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),i=this.options.guards,l=i&&i.beforeDelete?i.beforeDelete(o):!0;return l&&this.graphModel.deleteNode(t),l}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),i=this.options.guards,l=i&&i.beforeClone?i.beforeClone(o):!0;if(l)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var i=o.model.getData(),l=n&&n.beforeDelete?n.beforeDelete(i):!0;return l&&this.graphModel.deleteEdgeById(t),l}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,i=t.targetNodeId;if(o&&i){var l=[];return n.forEach(function(x){x.sourceNodeId===o&&x.targetNodeId===i&&l.push(x)}),l}if(o){var c=[];return n.forEach(function(x){x.sourceNodeId===o&&c.push(x)}),c}if(i){var g=[];return n.forEach(function(x){x.targetNodeId===i&&g.push(x)}),g}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(zr(n))}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,i=t.edges,l={},c={nodes:[],edges:[]},g=0;g<o.length;g++){var x=o[g],D=x.id,L=this.addNode(x);if(!L)return;D&&(l[D]=L.id),c.nodes.push(L)}return i.forEach(function($){var ee=$.sourceNodeId,ve=$.targetNodeId;l[ee]&&($.sourceNodeId=l[ee]),l[ve]&&($.targetNodeId=l[ve]);var Oe=n.graphModel.addEdge($);c.edges.push(Oe)}),c}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,i,l).map(function(c){return c.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=zr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=zr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,i=t.TRANSLATE_X,l=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:i,TRANSLATE_Y:l}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;i.forEach(function(l){var c=l.pluginName||l.name;o.indexOf(c)===-1&&n.installPlugin(l)})}},{key:"installPlugin",value:function(t){if(zs(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var i=t,l=new i({lf:this,LogicFlow:e});l.render&&this.components.push(l.render.bind(l)),this.extension[i.pluginName]=l}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var o=new n(Qc(Qc({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(zr(t)),!this.options.isSilentMode&&this.options.history!==!1&&this.history.watch(this.graphModel),Object(je.j)(Object(je.g)(Mw,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Rt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();mr(qc,"extensions",new Map);function Cn(e){return lt(e)}var Mj=M.default=qc}])})},4225:function(er,St,E){"use strict";E.d(St,{jX:function(){return ni},xV:function(){return Xo},Ou:function(){return it},Qs:function(){return nn},v2:function(){return io},a9:function(){return Gs},Ju:function(){return _a},aC:function(){return Ee}});var M=E(59782);function a(p,s){return s={exports:{}},p(s,s.exports),s.exports}var m=a(function(p){var s=p.exports=function(u,v){if(v||(v=16),u===void 0&&(u=128),u<=0)return"0";for(var y=Math.log(Math.pow(2,u))/Math.log(v),b=2;y===Infinity;b*=2)y=Math.log(Math.pow(2,u/b))/Math.log(v)*b;for(var w=y-Math.floor(y),j="",b=0;b<Math.floor(y);b++){var X=Math.floor(Math.random()*v).toString(v);j=X+j}if(w){var Y=Math.pow(v,w),X=Math.floor(Math.random()*Y).toString(v);j=X+j}var K=parseInt(j,v);return K!==Infinity&&K>=Math.pow(2,u)?s(u,v):j};s.rack=function(u,v,y){var b=function(j){var X=0;do{if(X++>10)if(y)u+=y;else throw new Error("too many ID collisions, use more bits");var Y=s(u,v)}while(Object.hasOwnProperty.call(w,Y));return w[Y]=j,Y},w=b.hats={};return b.get=function(j){return b.hats[j]},b.set=function(j,X){return b.hats[j]=X,b},b.bits=u||128,b.base=v||16,b}});function h(p){if(!(this instanceof h))return new h(p);p=p||[128,36,1],this._seed=p.length?m.rack(p[0],p[1],p[2]):p}h.prototype.next=function(p){return this._seed(p||!0)},h.prototype.nextPrefixed=function(p,s){var u;do u=p+this.next(!0);while(this.assigned(u));return this.claim(u,s),u},h.prototype.claim=function(p,s){this._seed.set(p,s||!0)},h.prototype.assigned=function(p){return this._seed.get(p)||!1},h.prototype.unclaim=function(p){delete this._seed.hats[p]},h.prototype.clear=function(){var p=this._seed.hats,s;for(s in p)this.unclaim(s)};var S=h,T=new S([32,32,1]);function N(){return T.next()}var C=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),I=function(p){C(s,p);function s(u,v){var y=this;return u.id||(u.id="Event_"+N()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),y=p.call(this,u,v)||this,y}return s.prototype.setAttributes=function(){this.r=18},s.prototype.getConnectedTargetRules=function(){var u=p.prototype.getConnectedTargetRules.call(this),v={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(v),u},s.extendKey="StartEventModel",s}(M.CircleNodeModel),z=function(p){C(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.extendKey="StartEventNode",s}(M.CircleNode),G={type:"bpmn:startEvent",view:z,model:I},Z=G,F=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),_=function(){return _=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},_.apply(this,arguments)},oe=function(p){F(s,p);function s(u,v){var y=this;return u.id||(u.id="Event_"+N()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),y=p.call(this,u,v)||this,y}return s.prototype.setAttributes=function(){this.r=18},s.prototype.getConnectedSourceRules=function(){var u=p.prototype.getConnectedSourceRules.call(this),v={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(v),u},s.extendKey="EndEventModel",s}(M.CircleNodeModel),fe=function(p){F(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},s.prototype.getShape=function(){var u=this.props.model,v=u.getNodeStyle(),y=u.x,b=u.y,w=u.r,j=p.prototype.getShape.call(this);return(0,M.h)("g",{},j,(0,M.h)("circle",_(_({},v),{cx:y,cy:b,r:w-5})))},s.extendKey="EndEventView",s}(M.CircleNode),te={type:"bpmn:endEvent",view:fe,model:oe},Ae=te,ye=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),ge=function(){return ge=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},ge.apply(this,arguments)},ce=function(p){ye(s,p);function s(u,v){var y=this;return u.id||(u.id="Gateway_"+N()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),y=p.call(this,u,v)||this,y.points=[[25,0],[50,25],[25,50],[0,25]],y}return s.extendKey="ExclusiveGatewayModel",s}(M.PolygonNodeModel),me=function(p){ye(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getShape=function(){var u=this.props.model,v=u.x,y=u.y,b=u.width,w=u.height,j=u.points,X=u.getNodeStyle();return(0,M.h)("g",{transform:"matrix(1 0 0 1 "+(v-b/2)+" "+(y-w/2)+")"},(0,M.h)("polygon",ge(ge({},X),{x:v,y,points:j})),(0,M.h)("path",ge({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},X)))},s.extendKey="ExclusiveGatewayNode",s}(M.PolygonNode),pe={type:"bpmn:exclusiveGateway",view:me,model:ce},he=pe,ue=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),H=function(){return H=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},H.apply(this,arguments)},ne=function(p){ue(s,p);function s(u,v){var y=this;return u.id||(u.id="Activity_"+N()),y=p.call(this,u,v)||this,y}return s.extendKey="UserTaskModel",s}(M.RectNodeModel),ie=function(p){ue(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getLabelShape=function(){var u=this.props.model,v=u.x,y=u.y,b=u.width,w=u.height,j=u.getNodeStyle();return(0,M.h)("svg",{x:v-b/2+5,y:y-w/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,M.h)("path",{fill:j.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},s.prototype.getShape=function(){var u=this.props.model,v=u.x,y=u.y,b=u.width,w=u.height,j=u.radius,X=u.getNodeStyle();return(0,M.h)("g",{},[(0,M.h)("rect",H(H({},X),{x:v-b/2,y:y-w/2,rx:j,ry:j,width:b,height:w})),this.getLabelShape()])},s.extendKey="UserTaskNode",s}(M.RectNode),de={type:"bpmn:userTask",view:ie,model:ne},re=de,J=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),ae=function(){return ae=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},ae.apply(this,arguments)},we=function(p){J(s,p);function s(u,v){var y=this;return u.id||(u.id="Activity_"+N()),y=p.call(this,u,v)||this,y}return s.extendKey="ServiceTaskModel",s}(M.RectNodeModel),Ce=function(p){J(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getLabelShape=function(){var u=this.props.model,v=u.x,y=u.y,b=u.width,w=u.height,j=u.getNodeStyle();return(0,M.h)("svg",{x:v-b/2+5,y:y-w/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,M.h)("path",{fill:j.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},s.prototype.getShape=function(){var u=this.props.model,v=u.x,y=u.y,b=u.width,w=u.height,j=u.radius,X=u.getNodeStyle();return(0,M.h)("g",{},[(0,M.h)("rect",ae({x:v-b/2,y:y-w/2,rx:j,ry:j,width:b,height:w},X)),this.getLabelShape()])},s.extendKey="ServiceTaskNode",s}(M.RectNode),Ge={type:"bpmn:serviceTask",view:Ce,model:we},_e=Ge,qe=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),vt=function(p){qe(s,p);function s(u,v){var y=this;return u.id||(u.id="Flow_"+N()),y=p.call(this,u,v)||this,y}return s.extendKey="SequenceFlowModel",s}(M.PolylineEdgeModel),ke=function(p){qe(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.extendKey="SequenceFlowEdge",s}(M.PolylineEdge),Me={type:"bpmn:sequenceFlow",view:ke,model:vt},Be=Me,ze={width:40,height:40},Fe={width:40,height:40},Q={width:40,height:40},W={width:100,height:80},se={width:100,height:80},Pe={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Ve=function(){function p(s){var u=s.lf;u.setTheme(Pe),u.register(Z),u.register(Ae),u.register(he),u.register(re),u.register(_e),u.options.customBpmnEdge||(u.register(Be),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return p.pluginName="bpmnElement",p}(),Ee=function(){function p(s){var u=this,v=s.lf;this.lf=v,this.customCssRules="",this.useGlobalRules=!0,v.getSnapshot=function(y,b){u.getSnapshot(y,b)},v.getSnapshotBlob=function(y){return u.getSnapshotBlob(y)},v.getSnapshotBase64=function(y){return u.getSnapshotBase64(y)}}return p.prototype.getSvgRootElement=function(s){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,s.graphModel.nodes.forEach(function(y){var b=y.x,w=y.width,j=y.y,X=y.height,Y=b-w/2,K=j-X/2;Y<u.offsetX&&(u.offsetX=Y-5),K<u.offsetY&&(u.offsetY=K-5)}),s.graphModel.edges.forEach(function(y){y.pointsList&&y.pointsList.forEach(function(b){var w=b.x,j=b.y;w<u.offsetX&&(u.offsetX=w-5),j<u.offsetY&&(u.offsetY=j-5)})});var v=s.container.querySelector(".lf-canvas-overlay");return v},p.prototype.triggerDownload=function(s){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),v=document.createElement("a");v.setAttribute("download",this.fileName),v.setAttribute("href",s),v.setAttribute("target","_blank"),v.dispatchEvent(u)},p.prototype.removeAnchor=function(s){for(var u=s.childNodes,v=s.childNodes&&s.childNodes.length,y=0;y<v;y++){var b=u[y],w=b.classList&&Array.from(b.classList)||[];w.indexOf("lf-anchor")>-1&&(s.removeChild(s.childNodes[y]),v--,y--)}},p.prototype.getSnapshot=function(s,u){var v=this;this.fileName=s||"logic-flow."+Date.now()+".png";var y=this.getSvgRootElement(this.lf);this.getCanvasData(y,u).then(function(b){var w=b.toDataURL("image/png").replace("image/png","image/octet-stream");v.triggerDownload(w)})},p.prototype.getSnapshotBase64=function(s){var u=this,v=this.getSvgRootElement(this.lf);return new Promise(function(y){u.getCanvasData(v,s).then(function(b){var w=b.toDataURL("image/png");y({data:w,width:b.width,height:b.height})})})},p.prototype.getSnapshotBlob=function(s){var u=this,v=this.getSvgRootElement(this.lf);return new Promise(function(y){u.getCanvasData(v,s).then(function(b){b.toBlob(function(w){y({data:w,width:b.width,height:b.height})},"image/png")})})},p.prototype.getClassRules=function(){var s="";if(this.useGlobalRules)for(var u=document.styleSheets,v=0;v<u.length;v++)for(var y=u[v],b=0;b<y.cssRules.length;b++)s+=y.cssRules[b].cssText;return this.customCssRules&&(s+=this.customCssRules),s},p.prototype.getCanvasData=function(s,u){var v=this,y=s.cloneNode(!0),b=y.lastChild,w=b.childNodes&&b.childNodes.length;if(w)for(var j=0;j<w;j++){var X=b.childNodes[j],Y=X.classList&&Array.from(X.classList);if(Y&&Y.indexOf("lf-base")<0)b.removeChild(b.childNodes[j]),w--,j--;else{var K=b.childNodes[j];K&&K.childNodes.forEach(function(k){var le=k;v.removeAnchor(le.firstChild)})}}y.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var xe=window.devicePixelRatio||1,Ne=document.createElement("canvas"),De=this.lf.graphModel.rootEl.querySelector(".lf-base"),Xe=De.getBoundingClientRect(),yt=this.lf.graphModel,bt=yt.transformModel,Et=bt.SCALE_X,ht=bt.SCALE_Y,Bt=Math.ceil(Xe.width/Et),pr=Math.ceil(Xe.height/ht);Ne.style.width=Bt+"px",Ne.style.height=pr+"px",Ne.width=Bt*xe+80,Ne.height=pr*xe+80;var f=Ne.getContext("2d");f.clearRect(0,0,Ne.width,Ne.height),f.scale(xe,xe),u?(f.fillStyle=u,f.fillRect(0,0,Bt*xe+80,pr*xe+80)):f.clearRect(0,0,Bt,pr);var d=new Image,O=document.createElement("style");O.innerHTML=this.getClassRules();var R=document.createElement("foreignObject");return R.appendChild(O),y.appendChild(R),new Promise(function(k){d.onload=function(){f.drawImage(d,0,0),k(Ne)};var le="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(y),be=le.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");d.src=be})},p.pluginName="snapshot",p}(),ft=null,at=new S([32,32,1]);function ot(){return at.next()}function pt(p,s){for(var u=0;u<s;u++)p+="  ";return p}function Re(p,s,u,v){var y="";if(p instanceof Array)for(var b=0,w=p.length;b<w;b++)y+=pt(u,v)+Re(p[b],s,u,v+1);else if(typeof p=="object"){var j=!1;y+=pt(u,v)+"<"+s;for(var X in p)X.charAt(0)=="-"?y+=" "+X.substr(1)+'="'+p[X].toString()+'"':j=!0;if(y+=j?">":" />",j){for(var X in p)X=="#text"?y+=p[X]:X=="#cdata"?y+="<![CDATA["+p[X]+"]]>":X.charAt(0)!="-"&&(y+=Re(p[X],X,u,v+1));y+=pt(u,v)+"</"+s+">"}}else y+=pt(u,v)+"<"+s+">"+p.toString()+"</"+s+">";return y}function Pt(p){var s="";for(var u in p)s+=Re(p[u],u,`	
`,0);return s}var Je=function(){};Je.ObjTree=function(){return this},Je.ObjTree.VERSION="0.23",Je.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`,Je.ObjTree.prototype.attr_prefix="-",Je.ObjTree.prototype.parseXML=function(p){var s;if(window.DOMParser){var u=new DOMParser,v=u.parseFromString(p,"application/xml");if(!v)return;s=v.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(p),s=u.documentElement);if(!!s)return this.parseDOM(s)},Je.ObjTree.prototype.parseHTTP=function(p,s,u){var v={};for(var y in s)v[y]=s[y];if(v.method||(typeof v.postBody=="undefined"&&typeof v.postbody=="undefined"&&typeof v.parameters=="undefined"?v.method="get":v.method="post"),u){v.asynchronous=!0;var b=this,w=u,j=v.onComplete;v.onComplete=function(K){var xe;K&&K.responseXML&&K.responseXML.documentElement&&(xe=b.parseDOM(K.responseXML.documentElement)),w(xe,K),j&&j(K)}}else v.asynchronous=!1;var X;if(typeof HTTP!="undefined"&&HTTP.Request){v.uri=p;var Y=new HTTP.Request(v);Y&&(X=Y.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var Y=new Ajax.Request(p,v);Y&&(X=Y.transport)}if(u)return X;if(X&&X.responseXML&&X.responseXML.documentElement)return this.parseDOM(X.responseXML.documentElement)},Je.ObjTree.prototype.parseDOM=function(p){if(!!p){if(this.__force_array={},this.force_array)for(var s=0;s<this.force_array.length;s++)this.__force_array[this.force_array[s]]=1;var u=this.parseElement(p);if(this.__force_array[p.nodeName]&&(u=[u]),p.nodeType!=11){var v={};v[p.nodeName]=u,u=v}return u}},Je.ObjTree.prototype.parseElement=function(p){if(p.nodeType!=7){if(p.nodeType==3||p.nodeType==4){var s=p.nodeValue.match(/[^\x00-\x20]/);return s==null?void 0:p.nodeValue}var u,v={};if(p.attributes&&p.attributes.length){u={};for(var y=0;y<p.attributes.length;y++){var b=p.attributes[y].nodeName;if(typeof b=="string"){var w=p.attributes[y].nodeValue;!w||(b=this.attr_prefix+b,typeof v[b]=="undefined"&&(v[b]=0),v[b]++,this.addNode(u,b,v[b],w))}}}if(p.childNodes&&p.childNodes.length){var j=!0;u&&(j=!1);for(var y=0;y<p.childNodes.length&&j;y++){var X=p.childNodes[y].nodeType;X==3||X==4||(j=!1)}if(j){u||(u="");for(var y=0;y<p.childNodes.length;y++)u+=p.childNodes[y].nodeValue}else{u||(u={});for(var y=0;y<p.childNodes.length;y++){var b=p.childNodes[y].nodeName;if(typeof b=="string"){var w=this.parseElement(p.childNodes[y]);!w||(typeof v[b]=="undefined"&&(v[b]=0),v[b]++,this.addNode(u,b,v[b],w))}}}}return u}},Je.ObjTree.prototype.addNode=function(p,s,u,v){this.__force_array[s]?(u==1&&(p[s]=[]),p[s][p[s].length]=v):u==1?p[s]=v:u==2?p[s]=[p[s],v]:p[s][p[s].length]=v},Je.ObjTree.prototype.writeXML=function(p){var s=this.hash_to_xml(null,p);return this.xmlDecl+s},Je.ObjTree.prototype.hash_to_xml=function(p,s){var u=[],v=[];for(var y in s)if(!!s.hasOwnProperty(y)){var b=s[y];y.charAt(0)!=this.attr_prefix?typeof b=="undefined"||b==null?u[u.length]="<"+y+" />":typeof b=="object"&&b.constructor==Array?u[u.length]=this.array_to_xml(y,b):typeof b=="object"?u[u.length]=this.hash_to_xml(y,b):u[u.length]=this.scalar_to_xml(y,b):v[v.length]=" "+y.substring(1)+'="'+this.xml_escape(b)+'"'}var w=v.join(""),j=u.join("");return typeof p=="undefined"||p==null||(u.length>0?j.match(/\n/)?j="<"+p+w+`>
`+j+"</"+p+`>
`:j="<"+p+w+">"+j+"</"+p+`>
`:j="<"+p+w+` />
`),j},Je.ObjTree.prototype.array_to_xml=function(p,s){for(var u=[],v=0;v<s.length;v++){var y=s[v];typeof y=="undefined"||y==null?u[u.length]="<"+p+" />":typeof y=="object"&&y.constructor==Array?u[u.length]=this.array_to_xml(p,y):typeof y=="object"?u[u.length]=this.hash_to_xml(p,y):u[u.length]=this.scalar_to_xml(p,y)}return u.join("")},Je.ObjTree.prototype.scalar_to_xml=function(p,s){return p=="#text"?this.xml_escape(s):"<"+p+">"+this.xml_escape(s)+"</"+p+`>
`},Je.ObjTree.prototype.xml_escape=function(p){return p.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ut=function(p){return new Je.ObjTree().parseXML(p)},gt=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},At;(function(p){p.START="bpmn:startEvent",p.END="bpmn:endEvent",p.GATEWAY="bpmn:exclusiveGateway",p.USER="bpmn:userTask",p.SYSTEM="bpmn:serviceTask",p.FLOW="bpmn:sequenceFlow"})(At||(At={}));var It=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Ct(p){var s={};return Object.entries(p).forEach(function(u){var v=gt(u,2),y=v[0],b=v[1];typeof b!="object"?y.indexOf("-")===0?s[y]=b:s["-"+y]=b:s[y]=Ct(b)}),s}function Ft(p){var s={};return Object.entries(p).forEach(function(u){var v=gt(u,2),y=v[0],b=v[1];typeof b=="string"?y.indexOf("-")===0?s[y.substr(1)]=b:s[y]=b:typeof b=="object"?s[y]=Ft(b):s[y]=b}),s}function Qt(p,s){var u=new Map;s.nodes.forEach(function(y){var b,w={"-id":y.id};if(((b=y.text)===null||b===void 0?void 0:b.value)&&(w["-name"]=y.text.value),y.properties){var j=Ct(y.properties);Object.assign(w,j)}u.set(y.id,w),p[y.type]?Array.isArray(p[y.type])?p[y.type].push(w):p[y.type]=[p[y.type],w]:p[y.type]=w});var v=s.edges.map(function(y){var b,w,j=u.get(y.targetNodeId);j["bpmn:incoming"]?Array.isArray(j["bpmn:incoming"])?j["bpmn:incoming"].push(y.id):j["bpmn:incoming"]=[j["bpmn:incoming"],y.id]:j["bpmn:incoming"]=y.id;var X=u.get(y.sourceNodeId);X["bpmn:outgoing"]?Array.isArray(X["bpmn:outgoing"])?X["bpmn:outgoing"].push(y.id):X["bpmn:outgoing"]=[X["bpmn:outgoing"],y.id]:X["bpmn:outgoing"]=y.id;var Y={"-id":y.id,"-sourceRef":y.sourceNodeId,"-targetRef":y.targetNodeId};if(((b=y.text)===null||b===void 0?void 0:b.value)&&(Y["-name"]=(w=y.text)===null||w===void 0?void 0:w.value),y.properties){var K=Ct(y.properties);Object.assign(Y,K)}return Y});p[At.FLOW]=v}function $t(p,s){p["bpmndi:BPMNEdge"]=s.edges.map(function(u){var v,y=u.id,b=u.pointsList.map(function(j){var X=j.x,Y=j.y;return{"-x":X,"-y":Y}}),w={"-id":y+"_di","-bpmnElement":y,"di:waypoint":b};return((v=u.text)===null||v===void 0?void 0:v.value)&&(w["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),w}),p["bpmndi:BPMNShape"]=s.nodes.map(function(u){var v,y=u.id,b=100,w=80,j=u.x,X=u.y,Y=jt.shapeConfigMap.get(u.type);Y&&(b=Y.width,w=Y.height),j-=b/2,X-=w/2;var K={"-id":y+"_di","-bpmnElement":y,"dc:Bounds":{"-x":j,"-y":X,"-width":b,"-height":w}};return((v=u.text)===null||v===void 0?void 0:v.value)&&(K["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),K})}function tr(p){var s=[],u=[],v=p["bpmn:definitions"];if(v){var y=v["bpmn:process"];Object.keys(y).forEach(function(b){if(b.indexOf("bpmn:")===0){var w=y[b];if(b===At.FLOW){var j=v["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=rr(w,j)}else{var X=v["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];s=s.concat(ur(w,X,b))}}})}return{nodes:s,edges:u}}function ur(p,s,u){var v=[];if(Array.isArray(p))p.forEach(function(w){var j;Array.isArray(s)?j=s.find(function(Y){return Y["-bpmnElement"]===w["-id"]}):j=s;var X=lr(j,u,w);v.push(X)});else{var y=void 0;Array.isArray(s)?y=s.find(function(w){return w["-bpmnElement"]===p["-id"]}):y=s;var b=lr(y,u,p);v.push(b)}return v}function lr(p,s,u){var v=Number(p["dc:Bounds"]["-x"]),y=Number(p["dc:Bounds"]["-y"]),b=u["-name"],w=jt.shapeConfigMap.get(s);w&&(v+=w.width/2,y+=w.height/2);var j;Object.entries(u).forEach(function(xe){var Ne=gt(xe,2),De=Ne[0],Xe=Ne[1];It.indexOf(De)===-1&&(j||(j={}),j[De]=Xe)}),j&&(j=Ft(j));var X;if(b&&(X={x:v,y,value:b},p["bpmndi:BPMNLabel"]&&p["bpmndi:BPMNLabel"]["dc:Bounds"])){var Y=p["bpmndi:BPMNLabel"]["dc:Bounds"];X.x=Number(Y["-x"])+Number(Y["-width"])/2,X.y=Number(Y["-y"])+Number(Y["-height"])/2}var K={id:p["-bpmnElement"],type:s,x:v,y,properties:j};return X&&(K.text=X),K}function rr(p,s){var u=[];if(Array.isArray(p))p.forEach(function(y){var b;Array.isArray(s)?b=s.find(function(w){return w["-bpmnElement"]===y["-id"]}):b=s,u.push(Lt(b,y))});else{var v=void 0;Array.isArray(s)?v=s.find(function(y){return y["-bpmnElement"]===p["-id"]}):v=s,u.push(Lt(v,p))}return u}function Lt(p,s){var u,v=s["-name"];if(v){var y=p["bpmndi:BPMNLabel"]["dc:Bounds"],b=0;v.split(`
`).forEach(function(X){b<X.length&&(b=X.length)}),u={value:v,x:Number(y["-x"])+b*10/2,y:Number(y["-y"])+7}}var w;Object.entries(s).forEach(function(X){var Y=gt(X,2),K=Y[0],xe=Y[1];It.indexOf(K)===-1&&(w||(w={}),w[K]=xe)}),w&&(w=Ft(w));var j={id:s["-id"],type:At.FLOW,pointsList:p["di:waypoint"].map(function(X){return{x:Number(X["-x"]),y:Number(X["-y"])}}),sourceNodeId:s["-sourceRef"],targetNodeId:s["-targetRef"],properties:w};return u&&(j.text=u),j}var jt={pluginName:"bpmn-adapter",install:function(p){p.adapterIn=this.adapterIn,p.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(p,s){this.shapeConfigMap.set(p,s)},adapterOut:function(p){var s={"-id":"Process_"+ot(),"-isExecutable":"false"};Qt(s,p);var u={"-id":"BPMNPlane_1","-bpmnElement":s["-id"]};$t(u,p);var v={"bpmn:definitions":{"-id":"Definitions_"+ot(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":s,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return v},adapterIn:function(p){if(p)return tr(p)}};jt.shapeConfigMap.set(At.START,{width:ze.width,height:ze.height}),jt.shapeConfigMap.set(At.END,{width:Fe.width,height:Fe.height}),jt.shapeConfigMap.set(At.GATEWAY,{width:Q.width,height:Q.height}),jt.shapeConfigMap.set(At.SYSTEM,{width:W.width,height:W.height}),jt.shapeConfigMap.set(At.USER,{width:se.width,height:se.height});var Wt={pluginName:"bpmnXmlAdapter",install:function(p){p.adapterIn=this.adapterXmlIn,p.adapterOut=this.adapterXmlOut},adapterXmlIn:function(p){var s=ut(p);return jt.adapterIn(s)},adapterXmlOut:function(p){var s=jt.adapterOut(p);return Pt(s)}},Qe=null,lt=function(){return lt=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},lt.apply(this,arguments)},Ke=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},ct={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},xt={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function Nt(p){switch(p){case"bpmn:sequenceFlow":return ct.SEQUENCE_FLOW;case"bpmn:startEvent":return ct.START_EVENT;case"bpmn:endEvent":return ct.END_EVENT;case"bpmn:userTask":return ct.USER_TASK;case"bpmn:exclusiveGateway":return ct.EXCLUSIVE_GATEWAY;default:return p}}function V(p){var s=p.id,u=p.type,v=p.x,y=p.y,b=p.text,w=b===void 0?"":b,j=p.properties;return{incoming:[],outgoing:[],dockers:[],type:Nt(p.type),properties:lt(lt({},j),{name:w&&w.value||"",x:v,y,text:w}),key:s}}function U(p){var s=p.id,u=p.type,v=p.sourceNodeId,y=p.targetNodeId,b=p.startPoint,w=p.endPoint,j=p.pointsList,X=p.text,Y=X===void 0?"":X,K=p.properties;return{incoming:[v],outgoing:[y],type:Nt(u),dockers:[],properties:lt(lt({},K),{name:Y&&Y.value||"",text:Y,startPoint:JSON.stringify(b),endPoint:JSON.stringify(w),pointsList:JSON.stringify(Y)}),key:s}}function P(p){var s=new Map,u={flowElementList:[]};return p.nodes.forEach(function(v){var y=V(v);u.flowElementList.push(y),s.set(v.id,y)}),p.edges.forEach(function(v){var y=U(v),b=s.get(v.sourceNodeId);b.outgoing.push(y.key);var w=s.get(v.targetNodeId);w.incoming.push(y.key),u.flowElementList.push(y)}),u}function A(p){var s=p.incoming,u=p.outgoing,v=p.properties,y=p.key,b=p.type,w=v.text,j=v.name,X=v.startPoint,Y=v.endPoint,K=v.pointsList,xe={id:y,type:xt[b],sourceNodeId:s[0],targetNodeId:u[0],text:w||j,properties:{}};X&&(xe.startPoint=JSON.parse(X)),Y&&(xe.endPoint=JSON.parse(Y)),K&&(xe.endPoint=JSON.parse(K));var Ne=["startPoint","endPoint","pointsList","text"];return Object.keys(p.properties).forEach(function(De){Ne.indexOf(De)===-1&&(xe.properties[De]=p.properties[De])}),xe}function B(p){var s=p.properties,u=p.key,v=p.type,y=p.bounds,b=s.x,w=s.y;if(b===void 0){var j=Ke(y,2),X=j[0],Y=X.x,K=X.y,xe=j[1],Ne=xe.x,De=xe.y;b=(Y+Ne)/2,w=(K+De)/2}var Xe={id:u,type:xt[v],x:b,y:w,text:s.text,properties:{}},yt=["x","y","text"];return Object.keys(p.properties).forEach(function(bt){yt.indexOf(bt)===-1&&(Xe.properties[bt]=p.properties[bt])}),Xe}function q(p){var s={nodes:[],edges:[]},u=p.flowElementList;return u&&u.length>0&&u.forEach(function(v){if(v.type===ct.SEQUENCE_FLOW){var y=A(v);s.edges.push(y)}else{var b=B(v);s.nodes.push(b)}}),s}var He=function(){function p(s){var u=s.lf;u.adapterIn=this.adapterIn,u.adapterOut=this.adapterOut}return p.prototype.adapterOut=function(s){if(s)return P(s)},p.prototype.adapterIn=function(s){if(s)return q(s)},p.pluginName="turboAdapter",p}(),Le=null,tt;(function(p){p.HORIZONTAL="horizontal",p.VERTICAL="vertical"})(tt||(tt={}));var et=function(p,s,u){var v=p.x,y=p.y;return(v-s.x)*(v-u.x)<=0&&(y-s.y)*(y-u.y)<=0},dt=function(p){var s=p.x,u=p.y,v=p.width,y=p.height,b={minX:s-v/2,minY:u-y/2,maxX:s+v/2,maxY:u+y/2,x:s,y:u,width:v,height:y,centerX:s,centerY:u};return b},Ht=function(p,s){var u;return p.x===s.x?u=tt.VERTICAL:p.y===s.y&&(u=tt.HORIZONTAL),u},Mt=function(p,s,u){var v=dt(p),y=Ht(s,u),b=Math.max(s.x,u.x),w=Math.min(s.x,u.x),j=Math.max(s.y,u.y),X=Math.min(s.y,u.y),Y=p.x,K=p.y,xe=p.width,Ne=p.height;if(y===tt.HORIZONTAL){if(s.y===K&&b>=v.maxX&&w<=v.minX)return{startCrossPoint:{x:s.x>u.x?Y+xe/2:Y-xe/2,y:K},endCrossPoint:{x:s.x>u.x?Y-xe/2:Y+xe/2,y:K}}}else if(y===tt.VERTICAL&&s.x===p.x&&j>=v.maxY&&X<=v.minY)return{startCrossPoint:{x:Y,y:s.y>u.y?K+Ne/2:K-Ne/2},endCrossPoint:{x:Y,y:s.y>u.y?K-Ne/2:K+Ne/2}}},hr=function(p,s){for(var u=p.x,v=p.y,y=s.pointsList,b=0;b<y.length-1;b++)if(et({x:u,y:v},y[b],y[b+1])){var w=Mt(p,y[b],y[b+1]);if(w)return{crossIndex:b+1,crossPoints:w}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},Vt=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},sr=function(){for(var p=[],s=0;s<arguments.length;s++)p=p.concat(Vt(arguments[s]));return p},wr=function(){function p(s){var u=s.lf;this._lf=u,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return p.prototype.eventHandler=function(){var s=this;this.dndAdd&&this._lf.on("node:dnd-add",function(u){var v=u.data;s.insetNode(v)}),this.dropAdd&&this._lf.on("node:drop",function(u){for(var v=u.data,y=s._lf.graphModel.edges,b=v.id,w=!0,j=0;j<y.length;j++)if(y[j].sourceNodeId===b||y[j].targetNodeId===b){w=!1;break}w&&s.insetNode(v)})},p.prototype.insetNode=function(s){for(var u=this._lf.graphModel.edges,v=this._lf.getNodeModelById(s.id),y=0;y<u.length;y++){var b=hr(v,u[y]),w=b.crossIndex,j=b.crossPoints;if(w>=0){var X=u[y],Y=X.sourceNodeId,K=X.targetNodeId,xe=X.id,Ne=X.type,De=X.pointsList;this._lf.addEdge({type:Ne,sourceNodeId:Y,targetNodeId:s.id,pointsList:sr(De.slice(0,w),[j.startCrossPoint])}),this._lf.addEdge({type:Ne,sourceNodeId:s.id,targetNodeId:K,pointsList:sr([j.endCrossPoint],De.slice(w))}),this._lf.deleteEdge(xe);break}}},p.pluginName="insertNodeInPolyline",p}(),Rr=null,Yr=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},vi=function(){for(var p=[],s=0;s<arguments.length;s++)p=p.concat(Yr(arguments[s]));return p},na=function(){function p(s){var u=this,v=s.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){u.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){u.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){u.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){u.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){u.lf.redo()}}],this.lf=v}return p.prototype.render=function(s,u){this.destroy();var v=this.getControlTool();this.toolEl=v,u.appendChild(v),this.domContainer=u},p.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},p.prototype.addItem=function(s){this.controlItems.push(s)},p.prototype.removeItem=function(s){var u=this.controlItems.findIndex(function(v){return v.key===s});return this.controlItems.splice(u,1)[0]},p.prototype.getControlTool=function(){var s=this,u="lf-control-item",v="lf-control-item disabled",y=document.createElement("div"),b=[];return y.className="lf-control",this.controlItems.forEach(function(w){var j=document.createElement("div"),X=document.createElement("i"),Y=document.createElement("span");switch(j.className=v,w.onClick&&(j.onclick=w.onClick.bind(null,s.lf)),w.onMouseEnter&&(j.onmouseenter=w.onMouseEnter.bind(null,s.lf)),w.onMouseLeave&&(j.onmouseleave=w.onMouseLeave.bind(null,s.lf)),X.className=w.iconClass,Y.className="lf-control-text",Y.title=w.title,Y.innerText=w.text,j.append(X,Y),w.text){case"\u4E0A\u4E00\u6B65":s.lf.on("history:change",function(K){var xe=K.data.undoAble;j.className=xe?u:v});break;case"\u4E0B\u4E00\u6B65":s.lf.on("history:change",function(K){var xe=K.data.redoAble;j.className=xe?u:v});break;default:j.className=u;break}b.push(j)}),y.append.apply(y,vi(b)),y},p.pluginName="control",p}(),Ya=null,je=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},xo=function(){for(var p=[],s=0;s<arguments.length;s++)p=p.concat(je(arguments[s]));return p},sn="lf:defaultNodeMenu",ko="lf:defaultEdgeMenu",Vr="lf:defaultGraphMenu",yi="lf:defaultSelectionMenu",io=function(){function p(s){var u=this,v=s.lf;this.__menuDOM=document.createElement("ul"),this.lf=v,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(y){u.setMenuConfig(y)},this.lf.addMenuConfig=function(y){u.addMenuConfig(y)},this.lf.setMenuByType=function(y){u.setMenuByType(y)}}return p.prototype.init=function(){var s=this,u=[{text:"\u5220\u9664",callback:function(b){s.lf.deleteNode(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){s.lf.graphModel.editText(b.id)}},{text:"\u590D\u5236",callback:function(b){s.lf.cloneNode(b.id)}}];this.menuTypeMap.set(sn,u);var v=[{text:"\u5220\u9664",callback:function(b){s.lf.deleteEdge(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){s.lf.graphModel.editText(b.id)}}];this.menuTypeMap.set(ko,v),this.menuTypeMap.set(Vr,[]);var y=[{text:"\u5220\u9664",callback:function(b){s.lf.clearSelectElements(),b.edges.forEach(function(w){return s.lf.deleteEdge(w.id)}),b.nodes.forEach(function(w){return s.lf.deleteNode(w.id)})}}];this.menuTypeMap.set(yi,y)},p.prototype.render=function(s,u){var v=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(y){y.stopPropagation();for(var b=y.target;Array.from(b.classList).indexOf("lf-menu-item")===-1&&Array.from(b.classList).indexOf("lf-menu")===-1;)b=b.parentElement;Array.from(b.classList).indexOf("lf-menu-item")>-1?(b.onclickCallback(v.__currentData),v.__menuDOM.style.display="none",v.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(y){var b=y.data,w=y.position,j=w.domOverlayPosition,X=j.x,Y=j.y,K=b.id,xe=v.lf.graphModel.getNodeModelById(K),Ne=[],De=v.menuTypeMap.get(xe.type);xe&&xe.menu&&Array.isArray(xe.menu)?Ne=xe.menu:De?Ne=De:Ne=v.menuTypeMap.get(sn),v.__currentData=b,v.showMenu(X,Y,Ne)}),this.lf.on("edge:contextmenu",function(y){var b=y.data,w=y.position,j=w.domOverlayPosition,X=j.x,Y=j.y,K=b.id,xe=v.lf.graphModel.getEdgeModelById(K),Ne=[],De=v.menuTypeMap.get(xe.type);xe&&xe.menu&&Array.isArray(xe.menu)?Ne=xe.menu:De?Ne=De:Ne=v.menuTypeMap.get(ko),v.__currentData=b,v.showMenu(X,Y,Ne)}),this.lf.on("blank:contextmenu",function(y){var b=y.position,w=v.menuTypeMap.get(Vr),j=b.domOverlayPosition,X=j.x,Y=j.y;v.showMenu(X,Y,w)}),this.lf.on("selection:contextmenu",function(y){var b=y.data,w=y.position,j=v.menuTypeMap.get(yi),X=w.domOverlayPosition,Y=X.x,K=X.y;v.__currentData=b,v.showMenu(Y,K,j)}),this.lf.on("node:mousedown",function(){v.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){v.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){v.__menuDOM.style.display="none"})},p.prototype.destroy=function(){var s;(s=this===null||this===void 0?void 0:this.__container)===null||s===void 0||s.removeChild(this.__menuDOM),this.__menuDOM=null},p.prototype.showMenu=function(s,u,v){if(!(!v||!v.length)){var y=this.__menuDOM;y.innerHTML="",y.append.apply(y,xo(this.__getMenuDom(v))),!!y.children.length&&(y.style.display="block",y.style.top=u+"px",y.style.left=s+"px")}},p.prototype.setMenuByType=function(s){!s.type||!s.menu||this.menuTypeMap.set(s.type,s.menu)},p.prototype.__getMenuDom=function(s){var u=[];return s&&s.length>0&&s.forEach(function(v){var y=document.createElement("li");if(v.className?y.className="lf-menu-item "+v.className:y.className="lf-menu-item",v.icon===!0){var b=document.createElement("span");b.className="lf-menu-item-icon",y.appendChild(b)}var w=document.createElement("span");w.className="lf-menu-item-text",v.text&&(w.innerText=v.text),y.appendChild(w),y.onclickCallback=v.callback,u.push(y)}),u},p.prototype.setMenuConfig=function(s){!s||(s.nodeMenu!==void 0&&this.menuTypeMap.set(sn,s.nodeMenu?s.nodeMenu:[]),s.edgeMenu!==void 0&&this.menuTypeMap.set(ko,s.edgeMenu?s.edgeMenu:[]),s.graphMenu!==void 0&&this.menuTypeMap.set(Vr,s.graphMenu?s.graphMenu:[]))},p.prototype.addMenuConfig=function(s){if(!!s){if(Array.isArray(s.nodeMenu)){var u=this.menuTypeMap.get(sn);this.menuTypeMap.set(sn,u.concat(s.nodeMenu))}if(Array.isArray(s.edgeMenu)){var u=this.menuTypeMap.get(ko);this.menuTypeMap.set(ko,u.concat(s.edgeMenu))}if(Array.isArray(s.graphMenu)){var u=this.menuTypeMap.get(Vr);this.menuTypeMap.set(Vr,u.concat(s.graphMenu))}}},p.prototype.changeMenuItem=function(s,u){if(s==="add")this.addMenuConfig(u);else if(s==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},p.pluginName="menu",p}(),So=null,Va=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},jn="menu-common",oa=200,Uo=100,Xo=function(){function p(s){var u=this,v=s.lf;this.menuTypeMap=new Map,this.listenDelete=function(){u.hideContextMenu()},this.lf=v,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(jn,[]),this.lf.setContextMenuByType=function(y,b){u.setContextMenuByType(y,b)},this.lf.setContextMenuItems=function(y){u.setContextMenuItems(y)},this.lf.showContextMenu=function(y){u.showContextMenu(y)},this.lf.hideContextMenu=function(){u.hideContextMenu()}}return p.prototype.render=function(s,u){var v=this;this.container=u,s.on("node:click",function(y){var b=y.data;v._activeData=b,v.createContextMenu()}),s.on("edge:click",function(y){var b=y.data;v._activeData=b,v.createContextMenu()}),s.on("blank:click",function(){v.hideContextMenu()})},p.prototype.setContextMenuByType=function(s,u){this.menuTypeMap.set(s,u)},p.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},p.prototype.showContextMenu=function(s){if(!s||!s.id){console.warn("\u8BF7\u68C0\u67E5\u4F20\u5165\u7684\u53C2\u6570");return}this._activeData=s,this.createContextMenu()},p.prototype.setContextMenuItems=function(s){this.menuTypeMap.set(jn,s)},p.prototype.getContextMenuPosition=function(){var s=this._activeData,u=this.lf.graphModel.getElement(s.id);if(!u){console.warn("\u627E\u4E0D\u5230\u5143\u7D20"+s.id);return}var v,y;if(u.BaseType==="edge"){v=Number.MIN_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER;var b=u.getData();v=Math.max(b.startPoint.x,v),y=Math.min(b.startPoint.y,y),v=Math.max(b.endPoint.x,v),y=Math.min(b.endPoint.y,y),b.pointsList&&b.pointsList.forEach(function(w){v=Math.max(w.x,v),y=Math.min(w.y,y)})}return u.BaseType==="node"&&(v=s.x+u.width/2,y=s.y-u.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([v,y])},p.prototype.createContextMenu=function(){var s=this,u=this.lf.options.isSilentMode;if(!u){var v=this.menuTypeMap.get(this._activeData.type)||[];v=v.concat(this.menuTypeMap.get(jn));var y=document.createDocumentFragment();v.forEach(function(b){var w=document.createElement("div");w.className="lf-context-item";var j=document.createElement("img");j.src=b.icon,j.className="lf-context-img",b.className&&(w.className=w.className+" "+b.className),j.addEventListener("click",function(){s.hideContextMenu(),b.callback?b.callback(s._activeData):s.addNode({sourceId:s._activeData.id,x:s._activeData.x,y:s._activeData.y,properties:b.properties,type:b.type})}),w.appendChild(j),y.appendChild(w)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(y),this.showMenu()}},p.prototype.addNode=function(s,u){var v=u!==void 0;u===void 0&&(u=s.y);var y=this.lf.getNodeModelById(s.sourceId),b=s.x-y.width+oa,w=u-s.y/2-20,j=s.x+y.width+oa,X=u+s.y/2+20,Y=this.lf.getAreaElement([b,w],[j,X]);if(Y.length){u=u+Uo,this.addNode(s,u);return}var K=this.lf.addNode({type:s.type,x:s.x+200,y:u,properties:s.properties}),xe,Ne;v&&(xe={x:s.x,y:s.y+y.height/2},Ne={x:K.x-K.width/2,y:K.y}),this.lf.addEdge({sourceNodeId:s.sourceId,targetNodeId:K.id,startPoint:xe,endPoint:Ne})},p.prototype.showMenu=function(){var s=Va(this.getContextMenuPosition(),2),u=s[0],v=s[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=v+"px",this.__menuDOM.style.left=u+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},p.pluginName="contextMenu",p}(),Za=null,it=function(){function p(s){var u=this,v=s.lf;this.lf=v,this.lf.setPatternItems=function(y){u.setPatternItems(y)}}return p.prototype.render=function(s,u){var v=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(y){v.panelEl.appendChild(v.createDndItem(y))}),u.appendChild(this.panelEl),this.domContainer=u},p.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},p.prototype.setPatternItems=function(s){this.shapeList=s,this.domContainer&&this.render(this.lf,this.domContainer)},p.prototype.createDndItem=function(s){var u=this,v=document.createElement("div");v.className=s.className?"lf-dnd-item "+s.className:"lf-dnd-item";var y=document.createElement("div");if(y.className="lf-dnd-shape",s.icon&&(y.style.backgroundImage="url("+s.icon+")"),v.appendChild(y),s.label){var b=document.createElement("div");b.innerText=s.label,b.className="lf-dnd-text",v.appendChild(b)}return v.onmousedown=function(){s.type&&u.lf.dnd.startDrag({type:s.type,properties:s.properties,text:s.text}),s.callback&&s.callback(u.lf,u.domContainer)},v},p.pluginName="dndPanel",p}(),_a=function(){function p(s){var u=this,v=s.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(b){var w=u.lf.getPointByClient(b.clientX,b.clientY).domOverlayPosition,j=w.x,X=w.y;u.endPoint={x:j,y:X};var Y=u.startPoint,K=Y.x,xe=Y.y,Ne=u.wrapper.style,De=K,Xe=xe,yt=j-K,bt=X-xe;j<K&&(De=j,yt=K-j),X<xe&&(Xe=X,bt=xe-X),Ne.left=De+"px",Ne.top=Xe+"px",Ne.width=yt+"px",Ne.height=bt+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var b=u.startPoint,w=b.x,j=b.y,X=u.endPoint,Y=X.x,K=X.y;if(!(Math.abs(Y-w)<10&&Math.abs(K-j)<10)){var xe=[Math.min(w,Y),Math.min(j,K)],Ne=[Math.max(w,Y),Math.max(j,K)],De=u.lf.graphModel.getAreaElement(xe,Ne,u.isWholeEdge,u.isWholeNode,!0),Xe=u.lf.graphModel.group;De.forEach(function(yt){(!Xe||!Xe.getNodeGroup(yt.id))&&u.lf.selectElementById(yt.id,!0)}),u.lf.emit("selection:selected",De)}},this.lf=v;var y=v.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=y,v.openSelectionSelect=function(){u.openSelectionSelect()},v.closeSelectionSelect=function(){u.closeSelectionSelect()}}return p.prototype.render=function(s,u){var v=this;this.__domContainer=u,s.on("blank:mousedown",function(y){var b=y.e,w=s.getEditConfig();if(!(!w.stopMoveGraph||v.__disabled)){var j=s.getPointByClient(b.clientX,b.clientY).domOverlayPosition,X=j.x,Y=j.y;v.startPoint={x:X,y:Y},v.endPoint={x:X,y:Y};var K=document.createElement("div");K.className="lf-selection-select",K.oncontextmenu=function(Ne){Ne.preventDefault()},K.style.top=v.startPoint.y+"px",K.style.left=v.startPoint.x+"px",u.appendChild(K),v.wrapper=K,document.addEventListener("mousemove",v.__draw),document.addEventListener("mouseup",v.__drawOff)}})},p.prototype.setSelectionSense=function(s,u){s===void 0&&(s=!0),u===void 0&&(u=!0),this.isWholeEdge=s,this.isWholeNode=u},p.prototype.openSelectionSelect=function(){var s=this.lf.getEditConfig().stopMoveGraph;s||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},p.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},p.prototype.open=function(){this.__disabled=!1},p.prototype.close=function(){this.__disabled=!0},p.pluginName="selectionSelect",p}(),Hs=function(p){var s=typeof Symbol=="function"&&Symbol.iterator,u=s&&p[s],v=0;if(u)return u.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&v>=p.length&&(p=void 0),{value:p&&p[v++],done:!p}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},Gs=function(){function p(s){var u=this,v=s.lf,y=s.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(b,w){u.__setView(),u.__isShow||u.__createMiniMap(b,w),u.__isShow=!0},this.hide=function(){u.__isShow&&u.__removeMiniMap(),u.__isShow=!1},this.__startDrag=function(b){document.addEventListener("mousemove",u.__drag),document.addEventListener("mouseup",u.__drop),u.__startPosition={x:b.x,y:b.y}},this.moveViewport=function(b,w){var j=u.__viewport.style;u.__viewPortTop=b,u.__viewPortLeft=w,j.top=u.__viewPortTop+"px",j.left=u.__viewPortLeft+"px"},this.__drag=function(b){var w=u.__viewPortTop+b.y-u.__startPosition.y,j=u.__viewPortLeft+b.x-u.__startPosition.x;u.moveViewport(w,j),u.__startPosition={x:b.x,y:b.y};var X=(u.__viewPortLeft+u.__viewPortWidth/2)/u.__viewPortScale,Y=(u.__viewPortTop+u.__viewPortHeight/2)/u.__viewPortScale;u.__lf.focusOn({coordinate:{x:X+u.__resetDataX,y:Y+u.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",u.__drag),document.removeEventListener("mouseup",u.__drop);var b=u.__viewPortTop,w=u.__viewPortLeft;u.__viewPortLeft>u.__width&&(w=u.__width-u.__viewPortWidth),u.__viewPortTop>u.__height&&(b=u.__height-u.__viewPortHeight),u.__viewPortLeft<-u.__width&&(w=0),u.__viewPortTop<-u.__height&&(b=0),u.moveViewport(b,w)},this.__lf=v,this.__miniMapWidth=v.graphModel.width,this.__miniMapHeight=v.graphModel.width*220/150,this.__LogicFlow=y,this.__init()}return p.prototype.render=function(s,u){var v=this;this.__container=u,this.__lf.on("history:change",function(){v.__isShow&&v.__setView()}),this.__lf.on("blank:drop",function(){v.__isShow&&v.__setView()})},p.prototype.init=function(s){this.__disabledPlugins=this.__disabledPlugins.concat(s.disabledPlugins||[])},p.prototype.__init=function(){var s=document.createElement("div");s.className="lf-mini-map-graph",s.style.width=this.__width+"px",s.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:this.__lf.graphModel.width*220/150,container:s,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(u){return u},this.__lfMap.adapterOut=function(u){return u},this.__miniMapWrap=s,this.__createViewPort()},p.prototype.__createMiniMap=function(s,u){var v=document.createElement("div"),y=this.__miniMapWrap;v.appendChild(y),typeof s!="undefined"&&typeof u!="undefined"&&(v.style.left=s+"px",v.style.top=u+"px"),v.style.position="absolute",v.className="lf-mini-map",this.__container.appendChild(v),this.__miniMapWrap.appendChild(this.__viewport);var b=document.createElement("div");b.className="lf-mini-map-header",b.innerText="\u5BFC\u822A",v.appendChild(b);var w=document.createElement("span");w.className="lf-mini-map-close",w.addEventListener("click",this.hide),v.appendChild(w),this.__miniMapContainer=v},p.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},p.prototype.__getBounds=function(s){var u=0,v=this.__miniMapWidth,y=0,b=this.__miniMapHeight,w=s.nodes;return w&&w.length>0&&w.forEach(function(j){var X=j.x,Y=j.y,K=j.width,xe=K===void 0?200:K,Ne=j.height,De=Ne===void 0?200:Ne,Xe=X-xe/2,yt=X+xe/2,bt=Y-De/2,Et=Y+De/2;u=Xe<u?Xe:u,v=yt>v?yt:v,y=bt<y?bt:y,b=Et>b?Et:b}),{left:u,top:y,bottom:b,right:v}},p.prototype.__resetData=function(s){var u=s.nodes,v=s.edges,y=0,b=0;return u&&u.length>0&&(u.forEach(function(w){var j=w.x,X=w.y,Y=w.width,K=Y===void 0?200:Y,xe=w.height,Ne=xe===void 0?200:xe,De=j-K/2,Xe=X-Ne/2;y=De<y?De:y,b=Xe<b?Xe:b}),(y<0||b<0)&&(this.__resetDataX=y,this.__resetDataY=b,u.forEach(function(w){w.x=w.x-y,w.y=w.y-b,w.text&&(w.text.x=w.text.x-y,w.text.y=w.text.y-b)}),v.forEach(function(w){w.startPoint&&(w.startPoint.x=w.startPoint.x-y,w.startPoint.y=w.startPoint.y-b),w.endPoint&&(w.endPoint.x=w.endPoint.x-y,w.endPoint.y=w.endPoint.y-b),w.text&&(w.text.x=w.text.x-y,w.text.y=w.text.y-b),w.pointsList&&w.pointsList.forEach(function(j){j.x=j.x-y,j.y=j.y-b})}))),s},p.prototype.__setView=function(){var s,u,v=this.__resetData(this.__lf.getGraphRawData()),y=this.__lf.viewMap,b=this.__lf.graphModel.modelMap,w=this.__lfMap.viewMap;try{for(var j=Hs(y.keys()),X=j.next();!X.done;X=j.next()){var Y=X.value;w.has(Y)||(this.__lfMap.setView(Y,y.get(Y)),this.__lfMap.graphModel.modelMap.set(Y,b.get(Y)))}}catch(Bt){s={error:Bt}}finally{try{X&&!X.done&&(u=j.return)&&u.call(j)}finally{if(s)throw s.error}}this.__lfMap.render(v);var K=this.__getBounds(v),xe=K.left,Ne=K.top,De=K.right,Xe=K.bottom,yt=this.__width/(De-xe),bt=this.__height/(Xe-Ne),Et=this.__miniMapWrap.firstChild.style,ht=Math.min(yt,bt);Et.transform="matrix("+ht+", 0, 0, "+ht+", 0, 0)",Et.transformOrigin="left top",Et.height=Xe-Math.min(Ne,0)+"px",Et.width=De-Math.min(xe,0)+"px",this.__viewPortScale=ht,this.__setViewPort(ht,{left:xe,top:Ne,right:De,bottom:Xe})},p.prototype.__setViewPort=function(s,u){var v=u.left,y=u.right,b=u.top,w=u.bottom,j=this.__viewport.style;j.width=this.__width-4+"px",j.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var X=this.__lf.getTransform(),Y=X.TRANSLATE_X,K=X.TRANSLATE_Y,xe=y-v,Ne=(this.__width-4)/(xe/this.__lf.graphModel.width),De=this.__lf.graphModel.width/this.__lf.graphModel.height,Xe=Ne/De;this.__viewPortTop=K>0?0:-K*s,this.__viewPortLeft=Y>0?0:-Y*s,this.__viewPortWidth=Ne,this.__viewPortHeight=Xe,j.top=this.__viewPortTop+"px",j.left=this.__viewPortLeft+"px",j.width=Ne+"px",j.height=Xe+"px"},p.prototype.__createViewPort=function(){var s=document.createElement("div");s.className="lf-minimap-viewport",s.addEventListener("mousedown",this.__startDrag),this.__viewport=s},p.pluginName="miniMap",p}(),ks=null,ia=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),Po=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},aa=function(p){ia(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getEdge=function(){for(var u=this.props.model.getEdgeStyle(),v=u.strokeWidth,y=u.stroke,b=u.strokeDashArray,w=this.props.model.points,j=w.split(" ").map(function(Ue){return Ue.split(",").map(function(rt){return Number(rt)})}),X=Po(j[0],2),Y=X[0],K=X[1],xe="M"+Y+" "+K,Ne=5,De=1;De<j.length-1;De++){var Xe=Po(j[De-1],2),yt=Xe[0],bt=Xe[1],Et=Po(j[De],2),ht=Et[0],Bt=Et[1],pr=Po(j[De+1],2),f=pr[0],d=pr[1];if(ht===yt&&Bt!==bt){var O=Bt>bt?Bt-Ne:Bt+Ne;xe=xe+" L "+ht+" "+O}if(Bt===bt&&ht!==yt){var R=ht>yt?ht-Ne:ht+Ne;xe=xe+" L "+R+" "+Bt}if(xe=xe+" Q "+ht+" "+Bt,ht===f&&Bt!==d){var O=Bt>d?Bt-Ne:Bt+Ne;xe=xe+" "+ht+" "+O}if(Bt===d&&ht!==f){var R=ht>f?ht-Ne:ht+Ne;xe=xe+" "+R+" "+Bt}}var k=Po(j[j.length-1],2),le=k[0],be=k[1];return xe=xe+" L "+le+" "+be,(0,M.h)("path",{d:xe,strokeWidth:v,stroke:y,fill:"none",strokeDashArray:b})},s.extendKey="curvedEdge",s}(M.PolylineEdge),ua=function(p){ia(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s}(M.PolylineEdgeModel),Zr={pluginName:"curved-edge",curvedSpace:5,init:function(p){var s=p.curvedSpace;Zr.curvedSpace=s},install:function(p){p.register({type:"curved-edge",view:aa,model:ua})}},en=null,Rn,nr,gi,la,In,mn,Ln,Bn={},$o=[],Wo=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _r(p,s){for(var u in s)p[u]=s[u];return p}function mi(p){var s=p.parentNode;s&&s.removeChild(p)}function tn(p,s,u){var v,y,b,w={};for(b in s)b=="key"?v=s[b]:b=="ref"?y=s[b]:w[b]=s[b];if(arguments.length>2&&(w.children=arguments.length>3?Rn.call(arguments,2):u),typeof p=="function"&&p.defaultProps!=null)for(b in p.defaultProps)w[b]===void 0&&(w[b]=p.defaultProps[b]);return ao(p,w,v,y,null)}function ao(p,s,u,v,y){var b={type:p,props:s,key:u,ref:v,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:y==null?++gi:y};return y==null&&nr.vnode!=null&&nr.vnode(b),b}function br(){return{current:null}}function bn(p){return p.children}function uo(p,s){this.props=p,this.context=s}function zn(p,s){if(s==null)return p.__?zn(p.__,p.__.__k.indexOf(p)+1):null;for(var u;s<p.__k.length;s++)if((u=p.__k[s])!=null&&u.__e!=null)return u.__e;return typeof p.type=="function"?zn(p):null}function Fn(p){var s,u;if((p=p.__)!=null&&p.__c!=null){for(p.__e=p.__c.base=null,s=0;s<p.__k.length;s++)if((u=p.__k[s])!=null&&u.__e!=null){p.__e=p.__c.base=u.__e;break}return Fn(p)}}function On(p){(!p.__d&&(p.__d=!0)&&In.push(p)&&!Mo.__r++||mn!==nr.debounceRendering)&&((mn=nr.debounceRendering)||setTimeout)(Mo)}function Mo(){for(var p;Mo.__r=In.length;)p=In.sort(function(s,u){return s.__v.__b-u.__v.__b}),In=[],p.some(function(s){var u,v,y,b,w,j;s.__d&&(w=(b=(u=s).__v).__e,(j=u.__P)&&(v=[],(y=_r({},b)).__v=b.__v+1,Er(j,b,y,u.__n,j.ownerSVGElement!==void 0,b.__h!=null?[w]:null,v,w==null?zn(b):w,b.__h),Yo(v,b),b.__e!=w&&Fn(b)))})}function Ko(p,s,u,v,y,b,w,j,X,Y){var K,xe,Ne,De,Xe,yt,bt,Et=v&&v.__k||$o,ht=Et.length;for(u.__k=[],K=0;K<s.length;K++)if((De=u.__k[K]=(De=s[K])==null||typeof De=="boolean"?null:typeof De=="string"||typeof De=="number"||typeof De=="bigint"?ao(null,De,null,null,De):Array.isArray(De)?ao(bn,{children:De},null,null,null):De.__b>0?ao(De.type,De.props,De.key,null,De.__v):De)!=null){if(De.__=u,De.__b=u.__b+1,(Ne=Et[K])===null||Ne&&De.key==Ne.key&&De.type===Ne.type)Et[K]=void 0;else for(xe=0;xe<ht;xe++){if((Ne=Et[xe])&&De.key==Ne.key&&De.type===Ne.type){Et[xe]=void 0;break}Ne=null}Er(p,De,Ne=Ne||Bn,y,b,w,j,X,Y),Xe=De.__e,(xe=De.ref)&&Ne.ref!=xe&&(bt||(bt=[]),Ne.ref&&bt.push(Ne.ref,null,De),bt.push(xe,De.__c||Xe,De)),Xe!=null?(yt==null&&(yt=Xe),typeof De.type=="function"&&De.__k===Ne.__k?De.__d=X=bi(De,X,p):X=rn(p,De,Ne,Et,Xe,X),typeof u.type=="function"&&(u.__d=X)):X&&Ne.__e==X&&X.parentNode!=p&&(X=zn(Ne))}for(u.__e=yt,K=ht;K--;)Et[K]!=null&&(typeof u.type=="function"&&Et[K].__e!=null&&Et[K].__e==u.__d&&(u.__d=zn(v,K+1)),fn(Et[K],Et[K]));if(bt)for(K=0;K<bt.length;K++)xi(bt[K],bt[++K],bt[++K])}function bi(p,s,u){for(var v,y=p.__k,b=0;y&&b<y.length;b++)(v=y[b])&&(v.__=p,s=typeof v.type=="function"?bi(v,s,u):rn(u,v,v,y,v.__e,s));return s}function sa(p,s){return s=s||[],p==null||typeof p=="boolean"||(Array.isArray(p)?p.some(function(u){sa(u,s)}):s.push(p)),s}function rn(p,s,u,v,y,b){var w,j,X;if(s.__d!==void 0)w=s.__d,s.__d=void 0;else if(u==null||y!=b||y.parentNode==null)e:if(b==null||b.parentNode!==p)p.appendChild(y),w=null;else{for(j=b,X=0;(j=j.nextSibling)&&X<v.length;X+=2)if(j==y)break e;p.insertBefore(y,b),w=b}return w!==void 0?w:y.nextSibling}function fa(p,s,u,v,y){var b;for(b in u)b==="children"||b==="key"||b in s||Hn(p,b,null,u[b],v);for(b in s)y&&typeof s[b]!="function"||b==="children"||b==="key"||b==="value"||b==="checked"||u[b]===s[b]||Hn(p,b,s[b],u[b],v)}function Oi(p,s,u){s[0]==="-"?p.setProperty(s,u):p[s]=u==null?"":typeof u!="number"||Wo.test(s)?u:u+"px"}function Hn(p,s,u,v,y){var b;e:if(s==="style")if(typeof u=="string")p.style.cssText=u;else{if(typeof v=="string"&&(p.style.cssText=v=""),v)for(s in v)u&&s in u||Oi(p.style,s,"");if(u)for(s in u)v&&u[s]===v[s]||Oi(p.style,s,u[s])}else if(s[0]==="o"&&s[1]==="n")b=s!==(s=s.replace(/Capture$/,"")),s=s.toLowerCase()in p?s.toLowerCase().slice(2):s.slice(2),p.l||(p.l={}),p.l[s+b]=u,u?v||p.addEventListener(s,b?Ei:Ir,b):p.removeEventListener(s,b?Ei:Ir,b);else if(s!=="dangerouslySetInnerHTML"){if(y)s=s.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(s!=="href"&&s!=="list"&&s!=="form"&&s!=="tabIndex"&&s!=="download"&&s in p)try{p[s]=u==null?"":u;break e}catch(w){}typeof u=="function"||(u!=null&&(u!==!1||s[0]==="a"&&s[1]==="r")?p.setAttribute(s,u):p.removeAttribute(s))}}function Ir(p){this.l[p.type+!1](nr.event?nr.event(p):p)}function Ei(p){this.l[p.type+!0](nr.event?nr.event(p):p)}function Er(p,s,u,v,y,b,w,j,X){var Y,K,xe,Ne,De,Xe,yt,bt,Et,ht,Bt,pr,f,d=s.type;if(s.constructor!==void 0)return null;u.__h!=null&&(X=u.__h,j=s.__e=u.__e,s.__h=null,b=[j]),(Y=nr.__b)&&Y(s);try{e:if(typeof d=="function"){if(bt=s.props,Et=(Y=d.contextType)&&v[Y.__c],ht=Y?Et?Et.props.value:Y.__:v,u.__c?yt=(K=s.__c=u.__c).__=K.__E:("prototype"in d&&d.prototype.render?s.__c=K=new d(bt,ht):(s.__c=K=new uo(bt,ht),K.constructor=d,K.render=Si),Et&&Et.sub(K),K.props=bt,K.state||(K.state={}),K.context=ht,K.__n=v,xe=K.__d=!0,K.__h=[]),K.__s==null&&(K.__s=K.state),d.getDerivedStateFromProps!=null&&(K.__s==K.state&&(K.__s=_r({},K.__s)),_r(K.__s,d.getDerivedStateFromProps(bt,K.__s))),Ne=K.props,De=K.state,xe)d.getDerivedStateFromProps==null&&K.componentWillMount!=null&&K.componentWillMount(),K.componentDidMount!=null&&K.__h.push(K.componentDidMount);else{if(d.getDerivedStateFromProps==null&&bt!==Ne&&K.componentWillReceiveProps!=null&&K.componentWillReceiveProps(bt,ht),!K.__e&&K.shouldComponentUpdate!=null&&K.shouldComponentUpdate(bt,K.__s,ht)===!1||s.__v===u.__v){K.props=bt,K.state=K.__s,s.__v!==u.__v&&(K.__d=!1),K.__v=s,s.__e=u.__e,s.__k=u.__k,s.__k.forEach(function(O){O&&(O.__=s)}),K.__h.length&&w.push(K);break e}K.componentWillUpdate!=null&&K.componentWillUpdate(bt,K.__s,ht),K.componentDidUpdate!=null&&K.__h.push(function(){K.componentDidUpdate(Ne,De,Xe)})}if(K.context=ht,K.props=bt,K.__v=s,K.__P=p,Bt=nr.__r,pr=0,"prototype"in d&&d.prototype.render)K.state=K.__s,K.__d=!1,Bt&&Bt(s),Y=K.render(K.props,K.state,K.context);else do K.__d=!1,Bt&&Bt(s),Y=K.render(K.props,K.state,K.context),K.state=K.__s;while(K.__d&&++pr<25);K.state=K.__s,K.getChildContext!=null&&(v=_r(_r({},v),K.getChildContext())),xe||K.getSnapshotBeforeUpdate==null||(Xe=K.getSnapshotBeforeUpdate(Ne,De)),f=Y!=null&&Y.type===bn&&Y.key==null?Y.props.children:Y,Ko(p,Array.isArray(f)?f:[f],s,u,v,y,b,w,j,X),K.base=s.__e,s.__h=null,K.__h.length&&w.push(K),yt&&(K.__E=K.__=null),K.__e=!1}else b==null&&s.__v===u.__v?(s.__k=u.__k,s.__e=u.__e):s.__e=ca(u.__e,s,u,v,y,b,w,X);(Y=nr.diffed)&&Y(s)}catch(O){s.__v=null,(X||b!=null)&&(s.__e=j,s.__h=!!X,b[b.indexOf(j)]=null),nr.__e(O,s,u)}}function Yo(p,s){nr.__c&&nr.__c(s,p),p.some(function(u){try{p=u.__h,u.__h=[],p.some(function(v){v.call(u)})}catch(v){nr.__e(v,u.__v)}})}function ca(p,s,u,v,y,b,w,j){var X,Y,K,xe=u.props,Ne=s.props,De=s.type,Xe=0;if(De==="svg"&&(y=!0),b!=null){for(;Xe<b.length;Xe++)if((X=b[Xe])&&"setAttribute"in X==!!De&&(De?X.localName===De:X.nodeType===3)){p=X,b[Xe]=null;break}}if(p==null){if(De===null)return document.createTextNode(Ne);p=y?document.createElementNS("http://www.w3.org/2000/svg",De):document.createElement(De,Ne.is&&Ne),b=null,j=!1}if(De===null)xe===Ne||j&&p.data===Ne||(p.data=Ne);else{if(b=b&&Rn.call(p.childNodes),Y=(xe=u.props||Bn).dangerouslySetInnerHTML,K=Ne.dangerouslySetInnerHTML,!j){if(b!=null)for(xe={},Xe=0;Xe<p.attributes.length;Xe++)xe[p.attributes[Xe].name]=p.attributes[Xe].value;(K||Y)&&(K&&(Y&&K.__html==Y.__html||K.__html===p.innerHTML)||(p.innerHTML=K&&K.__html||""))}if(fa(p,Ne,xe,y,j),K)s.__k=[];else if(Xe=s.props.children,Ko(p,Array.isArray(Xe)?Xe:[Xe],s,u,v,y&&De!=="foreignObject",b,w,b?b[0]:u.__k&&zn(u,0),j),b!=null)for(Xe=b.length;Xe--;)b[Xe]!=null&&mi(b[Xe]);j||("value"in Ne&&(Xe=Ne.value)!==void 0&&(Xe!==p.value||De==="progress"&&!Xe||De==="option"&&Xe!==xe.value)&&Hn(p,"value",Xe,xe.value,!1),"checked"in Ne&&(Xe=Ne.checked)!==void 0&&Xe!==p.checked&&Hn(p,"checked",Xe,xe.checked,!1))}return p}function xi(p,s,u){try{typeof p=="function"?p(s):p.current=s}catch(v){nr.__e(v,u)}}function fn(p,s,u){var v,y;if(nr.unmount&&nr.unmount(p),(v=p.ref)&&(v.current&&v.current!==p.__e||xi(v,null,s)),(v=p.__c)!=null){if(v.componentWillUnmount)try{v.componentWillUnmount()}catch(b){nr.__e(b,s)}v.base=v.__P=null}if(v=p.__k)for(y=0;y<v.length;y++)v[y]&&fn(v[y],s,typeof p.type!="function");u||p.__e==null||mi(p.__e),p.__e=p.__d=void 0}function Si(p,s,u){return this.constructor(p,u)}function da(p,s,u){var v,y,b;nr.__&&nr.__(p,s),y=(v=typeof u=="function")?null:u&&u.__k||s.__k,b=[],Er(s,p=(!v&&u||s).__k=tn(bn,null,[p]),y||Bn,Bn,s.ownerSVGElement!==void 0,!v&&u?[u]:y?null:s.firstChild?Rn.call(s.childNodes):null,b,!v&&u?u:y?y.__e:s.firstChild,v),Yo(b,p)}function Ja(p,s){da(p,s,Ja)}function Pi(p,s,u){var v,y,b,w=_r({},p.props);for(b in s)b=="key"?v=s[b]:b=="ref"?y=s[b]:w[b]=s[b];return arguments.length>2&&(w.children=arguments.length>3?Rn.call(arguments,2):u),ao(p.type,w,v||p.key,y||p.ref,null)}function pa(p,s){var u={__c:s="__cC"+Ln++,__:p,Consumer:function(v,y){return v.children(y)},Provider:function(v){var y,b;return this.getChildContext||(y=[],(b={})[s]=this,this.getChildContext=function(){return b},this.shouldComponentUpdate=function(w){this.props.value!==w.value&&y.some(On)},this.sub=function(w){y.push(w);var j=w.componentWillUnmount;w.componentWillUnmount=function(){y.splice(y.indexOf(w),1),j&&j.call(w)}}),v.children}};return u.Provider.__=u.Consumer.contextType=u}Rn=$o.slice,nr={__e:function(p,s,u,v){for(var y,b,w;s=s.__;)if((y=s.__c)&&!y.__)try{if((b=y.constructor)&&b.getDerivedStateFromError!=null&&(y.setState(b.getDerivedStateFromError(p)),w=y.__d),y.componentDidCatch!=null&&(y.componentDidCatch(p,v||{}),w=y.__d),w)return y.__E=y}catch(j){p=j}throw p}},gi=0,la=function(p){return p!=null&&p.constructor===void 0},uo.prototype.setState=function(p,s){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_r({},this.state),typeof p=="function"&&(p=p(_r({},u),this.props)),p&&_r(u,p),p!=null&&this.__v&&(s&&this.__h.push(s),On(this))},uo.prototype.forceUpdate=function(p){this.__v&&(this.__e=!0,p&&this.__h.push(p),On(this))},uo.prototype.render=bn,In=[],Mo.__r=0,Ln=0;var Gn=function(){return Gn=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},Gn.apply(this,arguments)};function wo(p){var s=p.x,u=p.y,v=p.width,y=p.height,b=p.radius,w=p.className,j=s-v/2,X=u-y/2,Y=Gn(Gn({width:10,height:10,cx:0,cy:0,rx:b||0,ry:b||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+w},p),{x:j,y:X});return(0,M.h)("rect",Gn({},Y))}wo.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var En;(function(p){p.NODE="node",p.CIRCLE_NODE="circle-node",p.POLYGON_NODE="polygon-node",p.RECT_NODE="rect-node",p.HTML_NODE="html-node",p.TEXT_NODE="text-node",p.ELLIPSE_NODE="ellipse-node",p.DIAMOND_NODE="diamond-node",p.EDGE="edge",p.LINE_EDGE="line-edge",p.POLYLINE_EDGE="polyline-edge",p.BEZIER_EDGE="bezier-edge",p.GRAPH="graph"})(En||(En={}));function To(p){var s=p.x,u=p.y,v=p.width,y=p.height;return{minX:s-v/2,minY:u-y/2,maxX:s+v/2,maxY:u+y/2}}function Vo(p){var s=To(p),u=p.radius,v=s.minX,y=s.minY,b=s.maxX,w=s.maxY;return[{x:v+u,y:y+u},{x:b-u,y:y+u},{x:b-u,y:w-u},{x:v+u,y:w-u}]}function cn(p){var s=p.point,u=p.beforeNode,v=p.afterNode,y=s.x,b=s.y,w={x:y,y:b},j=u.radius,X=To(u),Y=To(v);if(y===X.minX){w.x=Y.minX;var K=(b-u.y)/(u.height/2-j);K?w.y=v.y+(v.height/2-j)*K:w.y=v.y}else if(y===X.maxX){w.x=Y.maxX;var K=(b-u.y)/(u.height/2-j);K?w.y=v.y+(v.height/2-j)*K:w.y=v.y}else if(b===X.minY){w.y=Y.minY;var K=(y-u.x)/(u.width/2-j);K?w.x=v.x+(v.width/2-j)*K:w.x=v.x}else if(b===X.maxY){w.y=Y.maxY;var K=(y-u.x)/(u.width/2-j);K?w.x=v.x+(v.width/2-j)*K:w.x=v.x}else{var xe=Vo(u),Ne=Vo(v),De=To(u),Xe=De.minX,yt=De.minY,bt=De.maxX,Et=De.maxY,ht=-1;if(y-Xe<j&&b-yt<j?ht=0:bt-y<j&&b-yt<j?ht=1:bt-y<j&&Et-b<j?ht=2:y-Xe<j&&yt-b<j&&(ht=3),ht>-1){var Bt=Math.atan2(b-xe[ht].y,y-xe[ht].x);w.x=Ne[ht].x+j*Math.cos(Bt),w.y=Ne[ht].y+j*Math.sin(Bt)}}return w}function Ao(p){var s=p.point,u=p.beforeNode,v=p.afterNode,y=v.rx,b=v.ry,w=s,j=(s.y-u.y)/(s.x-u.x),X=y,Y=b,K,xe;return j>=Infinity?(K=0,xe=Y):j<=-Infinity?(K=0,xe=-Y):s.x-u.x>0?(K=X*Y/Math.sqrt(Y*Y+X*X*j*j),xe=X*Y*j/Math.sqrt(Y*Y+X*X*j*j)):(K=-(X*Y)/Math.sqrt(Y*Y+X*X*j*j),xe=-(X*Y*j)/Math.sqrt(Y*Y+X*X*j*j)),w={x:K+v.x,y:xe+v.y},w}function Tr(p){var s=p.point,u=p.beforeNode,v=p.afterNode,y=s,b,w,j=s.x-u.x,X=s.y-u.y,Y=u.rx,K=u.ry,xe=Math.sqrt((Y-Math.abs(j))*(Y-Math.abs(j))+X*X)/Math.sqrt(Y*Y+K*K),Ne=v.rx,De=v.ry,Xe=Math.sqrt((Ne*Ne+De*De)*xe*xe*(Ne*Ne/(Ne*Ne+De*De))),yt=Xe*(De/Ne);return j>=0?b=Ne-Xe:b=Xe-Ne,X>0?w=yt:w=-yt,y={x:b+v.x,y:w+v.y},y}var ha=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),dn=function(){return dn=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},dn.apply(this,arguments)},Qa=M.LogicFlowUtil.StepDrag,qa=function(p){ha(s,p);function s(u){var v=p.call(this)||this;v.updatePosition=function(w){var j=w.deltaX,X=w.deltaY,Y=v.nodeModel,K=Y.x,xe=Y.y;v.nodeModel.x=K+j/2,v.nodeModel.y=xe+X/2,v.nodeModel.moveText(j/2,X/2)},v.getResize=function(w){var j=w.index,X=w.deltaX,Y=w.deltaY,K=w.width,xe=w.height,Ne=w.pct,De=Ne===void 0?1:Ne,Xe={width:K,height:xe};switch(j){case 0:Xe.width=K-X*De,Xe.height=xe-Y*De;break;case 1:Xe.width=K+X*De,Xe.height=xe-Y*De;break;case 2:Xe.width=K+X,Xe.height=xe+Y*De;break;case 3:Xe.width=K-X*De,Xe.height=xe+Y*De;break;default:break}return Xe},v.updateRect=function(w){var j=w.deltaX,X=w.deltaY,Y=v.nodeModel,K=Y.id,xe=Y.x,Ne=Y.y,De=Y.width,Xe=Y.height,yt=Y.radius,bt=v.index,Et=v.getResize({index:bt,deltaX:j,deltaY:X,width:De,height:Xe,pct:1}),ht=v.nodeModel,Bt=ht.minWidth,pr=ht.minHeight,f=ht.maxWidth,d=ht.maxHeight;if(Et.width<Bt||Et.width>f||Et.height<pr||Et.height>d){v.dragHandler.cancelDrag();return}v.updatePosition({deltaX:j,deltaY:X}),v.nodeModel.width=Et.width,v.nodeModel.height=Et.height,v.nodeModel.setProperties({nodeSize:{width:Et.width,height:Et.height}});var O=v.getNodeEdges(K),R={x:xe,y:Ne,width:De,height:Xe,radius:yt},k={x:v.nodeModel.x,y:v.nodeModel.y,width:v.nodeModel.width,height:v.nodeModel.height,radius:yt},le={point:"",beforeNode:R,afterNode:k},be;O.sourceEdges.forEach(function(Ue){le.point=Ue.startPoint,be=cn(le),Ue.updateStartPoint(be)}),O.targetEdges.forEach(function(Ue){le.point=Ue.endPoint,be=cn(le),Ue.updateEndPoint(be)}),v.eventEmit({beforeNode:R,afterNode:k})},v.updateEllipse=function(w){var j=w.deltaX,X=w.deltaY,Y=v.nodeModel,K=Y.id,xe=Y.rx,Ne=Y.ry,De=Y.x,Xe=Y.y,yt=v.index,bt=xe,Et=Ne,ht=v.getResize({index:yt,deltaX:j,deltaY:X,width:bt,height:Et,pct:1/2}),Bt=v.nodeModel,pr=Bt.minWidth,f=Bt.minHeight,d=Bt.maxWidth,O=Bt.maxHeight;if(ht.width<pr/2||ht.width>d/2||ht.height<f/2||ht.height>O/2){v.dragHandler.cancelDrag();return}v.updatePosition({deltaX:j,deltaY:X}),v.nodeModel.rx=v.nodeModel.rx+j/2,v.nodeModel.ry=v.nodeModel.ry+X/2,v.nodeModel.setProperties({nodeSize:{rx:ht.width,ry:ht.height}});var R=v.getNodeEdges(K),k={x:De,y:Xe},le={rx:ht.width,ry:ht.height,x:v.nodeModel.x,y:v.nodeModel.y},be={point:{},beforeNode:k,afterNode:le},Ue;R.sourceEdges.forEach(function(rt){be.point=rt.startPoint,Ue=Ao(be),rt.updateStartPoint(Ue)}),R.targetEdges.forEach(function(rt){be.point=rt.endPoint,Ue=Ao(be),rt.updateEndPoint(Ue)}),v.eventEmit({beforeNode:dn(dn({},k),{rx:xe,ry:Ne}),afterNode:le})},v.updateDiamond=function(w){var j=w.deltaX,X=w.deltaY,Y=v.nodeModel,K=Y.id,xe=Y.rx,Ne=Y.ry,De=Y.x,Xe=Y.y,yt=v.index,bt=xe,Et=Ne,ht=v.getResize({index:yt,deltaX:j,deltaY:X,width:bt,height:Et,pct:1/2}),Bt=v.nodeModel,pr=Bt.minWidth,f=Bt.minHeight,d=Bt.maxWidth,O=Bt.maxHeight;if(ht.width<pr/2||ht.width>d/2||ht.height<f/2||ht.height>O/2){v.dragHandler.cancelDrag();return}v.updatePosition({deltaX:j,deltaY:X}),v.nodeModel.rx=v.nodeModel.rx+j/2,v.nodeModel.ry=v.nodeModel.ry+X/2,v.nodeModel.setProperties({nodeSize:{rx:ht.width,ry:ht.height}});var R={x:De,y:Xe,rx:xe,ry:Ne},k={rx:ht.width,ry:ht.height,x:v.nodeModel.x,y:v.nodeModel.y},le={point:{},beforeNode:R,afterNode:k},be,Ue=v.getNodeEdges(K);Ue.sourceEdges.forEach(function(rt){le.point=rt.startPoint,be=Tr(le),rt.updateStartPoint(be)}),Ue.targetEdges.forEach(function(rt){le.point=rt.endPoint,be=Tr(le),rt.updateEndPoint(be)}),v.eventEmit({beforeNode:R,afterNode:k})},v.eventEmit=function(w){var j=w.beforeNode,X=w.afterNode,Y=v.nodeModel,K=Y.id,xe=Y.modelType,Ne=Y.type,De=dn({id:K,modelType:xe,type:Ne},j),Xe=dn({id:K,modelType:xe,type:Ne},X);v.graphModel.eventCenter.emit("node:resize",{oldNodeSize:De,newNodeSize:Xe})},v.onDraging=function(w){var j=w.deltaX,X=w.deltaY,Y=v.nodeModel.modelType;Y===En.RECT_NODE||Y===En.HTML_NODE?v.updateRect({deltaX:j,deltaY:X}):Y===En.ELLIPSE_NODE?v.updateEllipse({deltaX:j,deltaY:X}):Y===En.DIAMOND_NODE&&v.updateDiamond({deltaX:j,deltaY:X})},v.index=u.index,v.nodeModel=u.model,v.graphModel=u.graphModel;var y=v.graphModel.gridSize,b=2;return y>1&&(b=2*y),v.nodeModel.gridSize&&(b=2*v.nodeModel.gridSize),v.state={},v.dragHandler=new Qa({onDraging:v.onDraging,step:b}),v}return s.prototype.getNodeEdges=function(u){for(var v=this.graphModel,y=v.edges,b=[],w=[],j=0;j<y.length;j++){var X=y[j];X.sourceNodeId===u?b.push(X):y[j].targetNodeId===u&&w.push(X)}return{sourceEdges:b,targetEdges:w}},s.prototype.render=function(){var u=this.props,v=u.x,y=u.y,b=u.index,w=u.model,j=w.getControlPointStyle();return tn("g",{className:"lf-resize-control-"+b},tn(wo,dn({className:"lf-node-control"},{x:v,y},j,{onMouseDown:this.dragHandler.handleMouseDown})))},s}(uo),va=qa,Zo=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),lo=function(){return lo=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},lo.apply(this,arguments)},_o=function(p){Zo(s,p);function s(){var u=p.call(this)||this;return u.state={},u}return s.prototype.getResizeControl=function(){var u=this.props,v=u.model,y=u.graphModel,b=v.x,w=v.y,j=v.width,X=v.height,Y={minX:b-j/2,minY:w-X/2,maxX:b+j/2,maxY:w+X/2},K=Y.minX,xe=Y.minY,Ne=Y.maxX,De=Y.maxY,Xe=[{x:K,y:xe},{x:Ne,y:xe},{x:Ne,y:De},{x:K,y:De}];return Xe.map(function(yt,bt){return tn(va,lo({index:bt},yt,{model:v,graphModel:y}))})},s.prototype.getGroupSolid=function(){var u=this.props.model,v=u.x,y=u.y,b=u.width,w=u.height,j=u.getResizeOutlineStyle();return tn(wo,lo({fill:"none"},j,{x:v,y,width:b,height:w}))},s.prototype.render=function(){return tn("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},s}(uo),so=_o,Jo=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),fo=function(p){Jo(s,p);function s(u,v){var y=p.call(this,u,v)||this,b=y.properties.nodeSize;return b&&(y.width=b.width,y.height=b.height),y}return s.prototype.initNodeData=function(u){p.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},s.prototype.getOutlineStyle=function(){var u=p.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},s.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},s.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},s.prototype.resize=function(u,v){console.log(u,v)},s}(M.RectNodeModel),eu=function(p){Jo(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getControlGroup=function(){var u=this.props,v=u.model,y=u.graphModel;return(0,M.h)(so,{model:v,graphModel:y})},s.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},s.prototype.getShape=function(){var u=this.props.model.isSelected;return(0,M.h)("g",null,this.getResizeShape(),u?this.getControlGroup():"")},s}(M.RectNode),kn={type:"rect",view:eu,model:fo},co=kn,pn=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),Mi=function(p){pn(s,p);function s(u,v){var y=p.call(this,u,v)||this,b=y.properties.nodeSize;return b&&(y.rx=b.rx,y.ry=b.ry),y}return s.prototype.initNodeData=function(u){p.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},s.prototype.getOutlineStyle=function(){var u=p.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},s.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},s.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},s}(M.EllipseNodeModel),tu=function(p){pn(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getControlGroup=function(){var u=this.props,v=u.model,y=u.graphModel;return(0,M.h)(so,{model:v,graphModel:y})},s.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},s.prototype.getShape=function(){var u=this.props.model;return(0,M.h)("g",null,this.getResizeShape(),u.isSelected?this.getControlGroup():"")},s}(M.EllipseNode),ya={type:"ellipse",view:tu,model:Mi},wi=ya,Qo=function(){return Qo=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},Qo.apply(this,arguments)};function ga(p){var s=p.fillOpacity,u=s===void 0?1:s,v=p.strokeWidth,y=v===void 0?1:v,b=p.strokeOpacity,w=b===void 0?1:b,j=p.fill,X=j===void 0?"transparent":j,Y=p.stroke,K=Y===void 0?"#000":Y,xe=p.points,Ne=p.className,De=Ne===void 0?"lf-basic-shape":Ne,Xe={fill:X,fillOpacity:u,strokeWidth:y,stroke:K,strokeOpacity:w,points:"",className:De};return Xe.points=xe.map(function(yt){return yt.join(",")}).join(" "),(0,M.h)("polygon",Qo({},Xe))}var Ti=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),qo=function(){return qo=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},qo.apply(this,arguments)},Un=function(p){Ti(s,p);function s(u,v){var y=p.call(this,u,v)||this,b=y.properties.nodeSize;return b&&(y.rx=b.rx,y.ry=b.ry),y}return s.prototype.initNodeData=function(u){p.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},s.prototype.getOutlineStyle=function(){var u=p.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},s.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},s.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},s}(M.DiamondNodeModel),hn=function(p){Ti(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getControlGroup=function(){var u=this.props,v=u.model,y=u.graphModel;return(0,M.h)(so,{model:v,graphModel:y})},s.prototype.getResizeShape=function(){var u=this.props.model,v=u.points,y=u.getNodeStyle();return(0,M.h)("g",null,(0,M.h)(ga,qo({},y,{points:v})))},s.prototype.getShape=function(){var u=this.props.model.isSelected;return(0,M.h)("g",null,this.getResizeShape(),u?this.getControlGroup():"")},s}(M.DiamondNode),ma={type:"diamond",view:hn,model:Un},ei=ma,vn=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),Jr=function(p){vn(s,p);function s(u,v){var y=p.call(this,u,v)||this,b=y.properties.nodeSize;return b&&(y.width=b.width,y.height=b.height),y}return s.prototype.initNodeData=function(u){p.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},s.prototype.getOutlineStyle=function(){var u=p.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},s.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},s.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},s}(M.HtmlNodeModel),po=function(p){vn(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getControlGroup=function(){var u=this.props,v=u.model,y=u.graphModel;return(0,M.h)(so,{model:v,graphModel:y})},s.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},s.prototype.getShape=function(){var u=this.props.model.isSelected;return(0,M.h)("g",null,this.getResizeShape(),u?this.getControlGroup():"")},s}(M.HtmlNode),Ai={type:"html",view:po,model:Jr},xn=Ai,ti={pluginName:"nodeResize",step:0,install:function(p){p.register({type:co.type,view:co.view,model:co.model}),p.register({type:wi.type,view:wi.view,model:wi.model}),p.register({type:ei.type,view:ei.view,model:ei.model}),p.register({type:xn.type,view:xn.view,model:xn.model})}},ri=null,Ni=function(){var p=function(s,u){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var b in y)y.hasOwnProperty(b)&&(v[b]=y[b])},p(s,u)};return function(s,u){p(s,u);function v(){this.constructor=s}s.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),No=function(){return No=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},No.apply(this,arguments)},Qr=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},Xn=function(){for(var p=[],s=0;s<arguments.length;s++)p=p.concat(Qr(arguments[s]));return p},Gr=500,Lr=300,ho=function(p){Ni(s,p);function s(){var u=p!==null&&p.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Gr,u.unfoldedHight=Lr,u}return s.prototype.initNodeData=function(u){var v=this;p.prototype.initNodeData.call(this,u);var y=[];Array.isArray(u.children)&&(y=u.children),this.children=new Set(y),this.width=Gr,this.height=Lr,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){v.isFolded&&v.foldGroup(v.isFolded)})},s.prototype.getResizeOutlineStyle=function(){var u=p.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},s.prototype.foldGroup=function(u){var v=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var y=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(b){var w=v.graphModel.getElement(b);w.visible=!u,y=y.concat(w.incoming.edges.concat(w.outgoing.edges))}),this.foldEdge(u,y)},s.prototype.getAnchorStyle=function(u){var v=p.prototype.getAnchorStyle.call(this,u);return v.stroke="transparent",v.fill="transparent",v.hover.fill="transparent",v.hover.stroke="transparent",v},s.prototype.foldEdge=function(u,v){var y=this;v.forEach(function(b,w){var j=b.id,X=b.sourceNodeId,Y=b.targetNodeId,K=b.startPoint,xe=b.endPoint,Ne=b.type,De=b.properties,Xe=b.text,yt={id:j+"__"+w,sourceNodeId:X,targetNodeId:Y,startPoint:K,endPoint:xe,type:Ne,properties:De,text:Xe==null?void 0:Xe.value};b.virtual&&y.graphModel.deleteEdgeById(b.id);var bt=y.graphModel.group.getNodeGroup(Y);bt||(bt=y.graphModel.getNodeModelById(Y));var Et=y.graphModel.group.getNodeGroup(X);Et||(Et=y.graphModel.getNodeModelById(X)),u&&b.visible!==!1&&(y.children.has(X)||y.id===X?(yt.startPoint=void 0,yt.sourceNodeId=y.id):(yt.endPoint=void 0,yt.targetNodeId=y.id),(bt.id!==y.id||Et.id!==y.id)&&y.createVirtualEdge(yt),b.visible=!1),!u&&b.visible===!1&&(bt&&bt.isGroup&&bt.isFolded?(yt.targetNodeId=bt.id,yt.endPoint=void 0,y.createVirtualEdge(yt)):Et&&Et.isGroup&&Et.isFolded?(yt.sourceNodeId=Et.id,yt.startPoint=void 0,y.createVirtualEdge(yt)):b.visible=!0)})},s.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var v=this.graphModel.addEdge(u);v.virtual=!0,v.text.editable=!1,v.isFoldedEdge=!0},s.prototype.isInRange=function(u){var v=u.x1,y=u.y1,b=u.x2,w=u.y2;return v>=this.x-this.width/2&&b<=this.x+this.width/2&&y>=this.y-this.height/2&&w<=this.y+this.height/2},s.prototype.isAllowMoveTo=function(u){var v=u.x1,y=u.y1,b=u.x2,w=u.y2;return{x:v>=this.x-this.width/2&&b<=this.x+this.width/2,y:y>=this.y-this.height/2&&w<=this.y+this.height/2}},s.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},s.prototype.addChild=function(u){this.children.add(u)},s.prototype.removeChild=function(u){this.children.delete(u)},s.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},s.prototype.getData=function(){var u=p.prototype.getData.call(this);u.children=Xn(this.children);var v=u.properties;return delete v.groupAddable,delete v.isFolded,u},s.prototype.getHistoryData=function(){var u=p.prototype.getData.call(this);u.children=Xn(this.children);var v=u.properties;return delete v.groupAddable,v.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},s.prototype.isAllowAppendIn=function(u){return!0},s}(co.model),kr=function(p){Ni(s,p);function s(){return p!==null&&p.apply(this,arguments)||this}return s.prototype.getControlGroup=function(){var u=this.props.model,v=u.resizable,y=u.properties;return v&&!y.isFolded?p.prototype.getControlGroup.call(this):null},s.prototype.getAddedableShape=function(){var u=this.props.model,v=u.width,y=u.height,b=u.x,w=u.y,j=u.radius,X=u.properties;if(!X.groupAddable)return null;var Y=this.props.model.getNodeStyle().strokeWidth,K=this.props.model.getAddableOutlineStyle(),xe=v+Y+8,Ne=y+Y+8;return(0,M.h)("rect",No(No({},K),{width:xe,height:Ne,x:b-xe/2,y:w-Ne/2,rx:j,ry:j}))},s.prototype.getFoldIcon=function(){var u=this.props.model,v=u.x-u.width/2+5,y=u.y-u.height/2+5;if(!u.foldable)return null;var b=(0,M.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(v+3)+","+(y+6)+" "+(v+11)+","+(y+6)+" M"+(v+7)+","+(y+2)+" "+(v+7)+","+(y+10):"M "+(v+3)+","+(y+6)+" "+(v+11)+","+(y+6)+" "});return(0,M.h)("g",{},[(0,M.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),b])},s.prototype.getResizeShape=function(){return(0,M.h)("g",{},[this.getAddedableShape(),p.prototype.getResizeShape.call(this),this.getFoldIcon()])},s}(co.view),ba={type:"group",view:kr,model:ho},ru=function(){function p(s){var u=this,v=s.lf;this.nodeGroupMap=new Map,this.graphRendered=function(y){y&&y.nodes&&y.nodes.forEach(function(b){b.children&&b.children.forEach(function(w){u.nodeGroupMap.set(w,b.id)})})},this.appendNodeToGroup=function(y){var b=y.data,w=u.nodeGroupMap.get(b.id);if(w){var j=u.lf.getNodeModelById(w);j.removeChild(b.id),u.nodeGroupMap.delete(b.id),j.setAllowAppendChild(!1)}var X=u.lf.getNodeModelById(b.id).getBounds(),Y=u.getGroup(X);if(!!Y){var K=Y.isAllowAppendIn(b);if(!K){u.lf.emit("group:not-allowed",{group:Y.getData(),node:b});return}b.id!==Y.id?(Y.addChild(b.id),u.nodeGroupMap.set(b.id,Y.id),Y.setAllowAppendChild(!1)):b.children&&b.children.length>0&&b.children.forEach(function(xe){u.nodeGroupMap.set(xe,b.id)})}},this.deleteGroupChild=function(y){var b=y.data,w=u.nodeGroupMap.get(b.id);if(w){var j=u.lf.getNodeModelById(w);j.removeChild(b.id),u.nodeGroupMap.delete(b.id)}},this.setActiveGroup=function(y){var b=y.data,w=u.lf.getNodeModelById(b.id),j=w.getBounds(),X=u.getGroup(j);if(u.activeGroup&&u.activeGroup.setAllowAppendChild(!1),!(w.isGroup&&X.id===b.id)&&X){var Y=X.isAllowAppendIn(b);if(!Y)return;u.activeGroup=X,u.activeGroup.setAllowAppendChild(!0)}},v.register(ba),this.lf=v,v.graphModel.addNodeMoveRules(function(y,b,w){if(y.isGroup){var j=u.getNodeAllChild(y);return v.graphModel.moveNodes(j,b,w,!0),!0}var X=v.getNodeModelById(u.nodeGroupMap.get(y.id));if(X&&X.isRestrict){var Y=y.getBounds(),K=Y.x1,xe=Y.y1,Ne=Y.x2,De=Y.y2,Xe=X.isAllowMoveTo({x1:K+b,y1:xe+w,x2:Ne+b,y2:De+w});return Xe}return!0}),v.graphModel.group=this,v.on("node:add",this.appendNodeToGroup),v.on("node:delete",this.deleteGroupChild),v.on("node:drop",this.appendNodeToGroup),v.on("node:dnd-drag",this.setActiveGroup),v.on("node:drag",this.setActiveGroup),v.on("graph:rendered",this.graphRendered)}return p.prototype.getNodeAllChild=function(s){var u=this,v=[];return s.children&&s.children.forEach(function(y){v.push(y);var b=u.lf.getNodeModelById(y);b.isGroup&&(v=v.concat(u.getNodeAllChild(b)))}),v},p.prototype.getGroup=function(s){for(var u=this.lf.graphModel.nodes,v=0;v<u.length;v++){var y=u[v];if(y.isGroup&&y.isInRange(s))return y}},p.prototype.getNodeGroup=function(s){var u=this.nodeGroupMap.get(s);if(u)return this.lf.getNodeModelById(u)},p.pluginName="group",p}(),Oa=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},$n=function(){for(var p=[],s=0;s<arguments.length;s++)p=p.concat(Oa(arguments[s]));return p},nn=function(){function p(s){var u=this,v=s.lf;this.lf=v,this.pathes=[],v.getPathes=function(){if(!u.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B");return u.getPathes()},v.setRawPathes=function(y){u.setPathes(y)},v.getRawPathes=function(){return u.pathes},v.setStartNodeType=function(y){u.startNodeType=y}}return p.prototype.setPathes=function(s){this.pathes=s.map(function(u){var v=u.routeId,y=u.name,b=u.elements,w=u.type;return{routeId:v,name:y,elements:b,type:w,similarElement:null,weight:0}})},p.prototype.getPathes=function(){var s=this,u=this.lf.getGraphRawData(),v=new Map,y=[];u.nodes.forEach(function(w){v.set(w.id,{id:w.id,data:w,nextNodes:[]}),w.type===s.startNodeType&&y.push(w.id)}),u.edges.forEach(function(w){var j=v.get(w.sourceNodeId);j.nextNodes.push(w.targetNodeId)});var b=[];return y.forEach(function(w){b=b.concat(s.findPathElements(v.get(w),v,[]))}),this.getNewPathes(b)},p.prototype.findPathElements=function(s,u,v){v===void 0&&(v=[]);var y=$n(v);if(y.push(s.id),s.nextNodes.length===0)return[y];for(var b=[],w=0;w<s.nextNodes.length;w++){var j=u.get(s.nextNodes[w]),X=void 0,Y=y.indexOf(j.id);Y!==-1?X=[$n(y.slice(Y),[j.id])]:X=this.findPathElements(j,u,$n(y)),b=b.concat(X)}return b},p.prototype.getNewPathes=function(s){var u=this,v=[],y=new Set;s.forEach(function(w){var j=u.getNewId("path"),X=u.getNewId("\u8DEF\u5F84"),Y=u.isLoopPath(w),K=w.join(",");y.has(K)||(y.add(K),v.push({routeId:j,name:X,elements:w,type:Y,weight:0,similarElement:""}))});var b=JSON.parse(JSON.stringify(this.pathes));return v.forEach(function(w){for(var j=0;j<b.length;j++){var X=b[j],Y=u.similar2Path($n(w.elements),$n(X.elements));Y>w.weight&&X.weight<=Y&&(w.weight=Y,w.similarElement=X,Y===X.weight&&X.similarElement?(X.similarElement.similarElement=null,X.similarElement.weight=0,X.similarElement=null,X.weight=0):(X.similarElement=w,X.weight=Y))}}),v.forEach(function(w){w.similarElement&&w.similarElement.similarElement===w&&(w.routeId=w.similarElement.routeId,w.name=w.similarElement.name),delete w.similarElement,delete w.weight}),this.setPathes(v),v},p.prototype.similar2Path=function(s,u){var v=0,y=s.length+u.length;s.sort(),u.sort();for(var b=s.shift(),w=u.shift();b!==void 0&&w!==void 0;)b===w?(v++,b=s.shift(),w=u.shift()):b<w?b=s.shift():b>w&&(w=u.shift());return v/y*200},p.prototype.getNewId=function(s){return s+"_"+N()},p.prototype.isLoopPath=function(s){var u=s.length;return s.indexOf(s[u-1])!==u-1?1:0},p.pluginName="flowPath",p}(),vo=function(){return vo=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},vo.apply(this,arguments)},fr={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},ni=function(){function p(s){var u=this,v=s.lf;this.lf=v,this.trunk=[],v.layout=function(y){var b=u.lf.getGraphRawData();u.lf.setStartNodeType(y);var w=u.lf.getPathes();return u.levelHeight=[],u.newNodeMap=new Map,u.layout(b,w)}}return p.prototype.layout=function(s,u){var v=this,y=[];u.forEach(function(X){var Y=X.elements;Y.length>y.length?y=Y:Y.length===y.length&&JSON.stringify(Y)===JSON.stringify(v.trunk)&&(y=v.trunk)}),this.trunk=y;for(var b=this.formatData(s),w={nodes:[],edges:[]},j=y.length-1;j>=0;j--)this.setNodePosition(y[j],b,w,j,1);this.lf.graphModel.graphDataToModel(w)},p.prototype.setNodePosition=function(s,u,v,y,b){var w=this,j=u[s],X=j.text,Y=j.type,K=j.next,xe=j.properties,Ne=y*160+40,De=b*120,Xe={id:s,x:Ne,text:X,y:De,type:Y,properties:xe};return X&&typeof X=="object"&&(Xe.text=vo(vo({},X),{x:Ne+X.x,y:De+X.y})),this.newNodeMap.set(Xe.id,{x:Xe.x,y:Xe.y,type:Y}),v.nodes.push(Xe),j.isFixed=!0,this.addLevelHeight(y,1),K&&K.length>0&&K.forEach(function(yt){var bt=u[yt.nodeId];if(!bt.isFixed){var Et=w.getLevelHeight(y+1);w.addLevelHeight(y,1),w.setNodePosition(yt.nodeId,u,v,y+1,Et+1)}v.edges.push(vo({id:yt.edgeId,type:yt.edgeType,sourceNodeId:s,targetNodeId:yt.nodeId,properties:yt.properties,text:yt.text},w.getEdgeDataPoints(s,yt.nodeId)))}),Xe},p.prototype.getEdgeDataPoints=function(s,u){var v=this.newNodeMap.get(s),y=this.newNodeMap.get(u),b=this.getShape(s),w=b.width,j=b.height,X=this.getShape(u),Y=X.width,K=X.height,xe=this.getRelativePosition(v,y),Ne={x:v.x,y:v.y},De={x:y.x,y:y.y};switch(xe){case fr.LEFT:Ne.x=v.x+w/2,De.x=y.x-Y/2;break;case fr.LEFT_TOP:Ne.y=v.y+j/2,De.x=y.x-Y/2;break;case fr.LEFT_BOTTOM:Ne.x=v.x+w/2,De.y=y.y+K/2;break;default:break}return{startPoint:Ne,endPoint:De}},p.prototype.getRelativePosition=function(s,u){var v=s.y,y=u.y,b;return v<y?b=-1:v===y?b=0:b=1,b},p.prototype.getShape=function(s){var u=this.lf.getNodeModelById(s);return{height:u.height,width:u.width}},p.prototype.formatData=function(s){var u=s.nodes.reduce(function(v,y){var b=y.type,w=y.properties,j=y.text,X=y.x,Y=y.y;return j&&typeof j=="object"&&(j.x=j.x-X,j.y=j.y-Y),v[y.id]={type:b,properties:w,text:j,prev:[],next:[]},v},{});return s.edges.forEach(function(v){var y=v.sourceNodeId,b=v.targetNodeId,w=v.id,j=v.properties,X=v.text,Y=X;typeof X=="object"&&(Y=X.value),u[y].next.push({edgeId:w,nodeId:b,edgeType:v.type,properties:j,text:Y}),u[b].prev.push({edgeId:w,nodeId:y,properties:j,text:Y})}),u},p.prototype.addLevelHeight=function(s,u,v){u===void 0&&(u=1),v===void 0&&(v=!1);var y=this.levelHeight[s];y||(y={positiveHeight:0,negativeHeight:0},this.levelHeight[s]=y),v?y.negativeHeight-=u:y.positiveHeight+=u},p.prototype.getLevelHeight=function(s,u){u===void 0&&(u=!1);var v=this.levelHeight[s];return v?u?v.negativeHeight:v.positiveHeight:0},p.pluginName="AutoLayout",p}(),Do=function(){return Do=Object.assign||function(p){for(var s,u=1,v=arguments.length;u<v;u++){s=arguments[u];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(p[y]=s[y])}return p},Do.apply(this,arguments)},oi=function(p,s){var u=typeof Symbol=="function"&&p[Symbol.iterator];if(!u)return p;var v=u.call(p),y,b=[],w;try{for(;(s===void 0||s-- >0)&&!(y=v.next()).done;)b.push(y.value)}catch(j){w={error:j}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(w)throw w.error}}return b},dr=function(){for(var p=[],s=0;s<arguments.length;s++)p=p.concat(oi(arguments[s]));return p},Di=function(p,s){var u=s.getModelById(p);return Ea(u.BaseType==="node"?u:u.targetNode,s)},Ea=function(p,s){var u=[],v=[],y=function(w,j,X){if(X===void 0&&(X=null),X&&j.unshift.apply(j,dr(s.getEdgeModels({sourceNodeId:w.id,targetNodeId:X.id}).map(function(Y){return Y.id}))),j.includes(w.id)){u.push(j);return}if(j.unshift(w.id),!w.incoming.nodes.length){u.push(j);return}w.incoming.nodes.forEach(function(Y){y(Y,j.slice(),w)})},b=function(w,j,X){if(X===void 0&&(X=null),X&&j.push.apply(j,dr(s.getEdgeModels({sourceNodeId:X.id,targetNodeId:w.id}).map(function(Y){return Y.id}))),j.includes(w.id)){v.push(j);return}if(j.push(w.id),!w.outgoing.nodes.length){v.push(j);return}w.outgoing.nodes.forEach(function(Y){b(Y,j.slice(),w)})};return y(p,[]),b(p,[]),dr(new Set(dr(u.flat(),v.flat())))},Co=function(){function p(s){var u=s.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=u}return p.prototype.setMode=function(s){this.mode=s},p.prototype.setManual=function(s){this.manual=s},p.prototype.highlightSingle=function(s){var u=this.lf.getModelById(s);u.BaseType==="node"?u.updateStyles(this.tempStyles[s]):u.BaseType==="edge"&&(u.updateStyles(this.tempStyles[s]),u.sourceNode.updateStyles(this.tempStyles[u.sourceNode.id]),u.targetNode.updateStyles(this.tempStyles[u.targetNode.id]))},p.prototype.highlightPath=function(s){var u=this,v=Di(s,this.lf);v.forEach(function(y){u.lf.getModelById(y).updateStyles(u.tempStyles[y])})},p.prototype.highlight=function(s,u){var v=this;if(u===void 0&&(u=this.mode),!this.manual){Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach(function(b){var w=b.BaseType==="node"?b.getNodeStyle():b.getEdgeStyle();v.tempStyles[b.id]=Do({},w),b.setStyles({opacity:.1})});var y={single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)};y[u](s)}},p.prototype.restoreHighlight=function(){var s=this;!Object.keys(this.tempStyles).length||(Object.values(this.lf.graphModel.modelsMap).forEach(function(u){var v,y=(v=s.tempStyles[u.id])!==null&&v!==void 0?v:{};u.updateStyles(Do({},y))}),this.tempStyles={})},p.prototype.render=function(s,u){var v=this;this.lf.on("node:mouseenter",function(y){var b=y.data;return v.highlight(b.id)}),this.lf.on("edge:mouseenter",function(y){var b=y.data;return v.highlight(b.id)}),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},p.prototype.destroy=function(){},p.pluginName="highlight",p}()},4150:function(){},80638:function(){},57719:function(){},13277:function(){},16695:function(){},15746:function(er,St,E){"use strict";var M=E(21584);St.Z=M.Z},99134:function(er,St,E){"use strict";var M=E(67294),a=(0,M.createContext)({});St.Z=a},21584:function(er,St,E){"use strict";var M=E(96156),a=E(22122),m=E(90484),h=E(94184),S=E.n(h),T=E(67294),N=E(53124),C=E(99134),I=function(F,_){var oe={};for(var fe in F)Object.prototype.hasOwnProperty.call(F,fe)&&_.indexOf(fe)<0&&(oe[fe]=F[fe]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,fe=Object.getOwnPropertySymbols(F);te<fe.length;te++)_.indexOf(fe[te])<0&&Object.prototype.propertyIsEnumerable.call(F,fe[te])&&(oe[fe[te]]=F[fe[te]]);return oe};function z(F){return typeof F=="number"?"".concat(F," ").concat(F," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(F)?"0 0 ".concat(F):F}var G=["xs","sm","md","lg","xl","xxl"],Z=T.forwardRef(function(F,_){var oe,fe=T.useContext(N.E_),te=fe.getPrefixCls,Ae=fe.direction,ye=T.useContext(C.Z),ge=ye.gutter,ce=ye.wrap,me=ye.supportFlexGap,pe=F.prefixCls,he=F.span,ue=F.order,H=F.offset,ne=F.push,ie=F.pull,de=F.className,re=F.children,J=F.flex,ae=F.style,we=I(F,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Ce=te("col",pe),Ge={};G.forEach(function(Me){var Be,ze={},Fe=F[Me];typeof Fe=="number"?ze.span=Fe:(0,m.Z)(Fe)==="object"&&(ze=Fe||{}),delete we[Me],Ge=(0,a.Z)((0,a.Z)({},Ge),(Be={},(0,M.Z)(Be,"".concat(Ce,"-").concat(Me,"-").concat(ze.span),ze.span!==void 0),(0,M.Z)(Be,"".concat(Ce,"-").concat(Me,"-order-").concat(ze.order),ze.order||ze.order===0),(0,M.Z)(Be,"".concat(Ce,"-").concat(Me,"-offset-").concat(ze.offset),ze.offset||ze.offset===0),(0,M.Z)(Be,"".concat(Ce,"-").concat(Me,"-push-").concat(ze.push),ze.push||ze.push===0),(0,M.Z)(Be,"".concat(Ce,"-").concat(Me,"-pull-").concat(ze.pull),ze.pull||ze.pull===0),(0,M.Z)(Be,"".concat(Ce,"-rtl"),Ae==="rtl"),Be))});var _e=S()(Ce,(oe={},(0,M.Z)(oe,"".concat(Ce,"-").concat(he),he!==void 0),(0,M.Z)(oe,"".concat(Ce,"-order-").concat(ue),ue),(0,M.Z)(oe,"".concat(Ce,"-offset-").concat(H),H),(0,M.Z)(oe,"".concat(Ce,"-push-").concat(ne),ne),(0,M.Z)(oe,"".concat(Ce,"-pull-").concat(ie),ie),oe),de,Ge),qe={};if(ge&&ge[0]>0){var vt=ge[0]/2;qe.paddingLeft=vt,qe.paddingRight=vt}if(ge&&ge[1]>0&&!me){var ke=ge[1]/2;qe.paddingTop=ke,qe.paddingBottom=ke}return J&&(qe.flex=z(J),ce===!1&&!qe.minWidth&&(qe.minWidth=0)),T.createElement("div",(0,a.Z)({},we,{style:(0,a.Z)((0,a.Z)({},qe),ae),className:_e,ref:_}),re)});St.Z=Z},92820:function(er,St,E){"use strict";var M=E(22122),a=E(96156),m=E(90484),h=E(28481),S=E(94184),T=E.n(S),N=E(67294),C=E(53124),I=E(98082),z=E(24308),G=E(93355),Z=E(99134),F=function(te,Ae){var ye={};for(var ge in te)Object.prototype.hasOwnProperty.call(te,ge)&&Ae.indexOf(ge)<0&&(ye[ge]=te[ge]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,ge=Object.getOwnPropertySymbols(te);ce<ge.length;ce++)Ae.indexOf(ge[ce])<0&&Object.prototype.propertyIsEnumerable.call(te,ge[ce])&&(ye[ge[ce]]=te[ge[ce]]);return ye},_=(0,G.b)("top","middle","bottom","stretch"),oe=(0,G.b)("start","end","center","space-around","space-between","space-evenly"),fe=N.forwardRef(function(te,Ae){var ye,ge=te.prefixCls,ce=te.justify,me=te.align,pe=te.className,he=te.style,ue=te.children,H=te.gutter,ne=H===void 0?0:H,ie=te.wrap,de=F(te,["prefixCls","justify","align","className","style","children","gutter","wrap"]),re=N.useContext(C.E_),J=re.getPrefixCls,ae=re.direction,we=N.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),Ce=(0,h.Z)(we,2),Ge=Ce[0],_e=Ce[1],qe=(0,I.Z)(),vt=N.useRef(ne);N.useEffect(function(){var at=z.ZP.subscribe(function(ot){var pt=vt.current||0;(!Array.isArray(pt)&&(0,m.Z)(pt)==="object"||Array.isArray(pt)&&((0,m.Z)(pt[0])==="object"||(0,m.Z)(pt[1])==="object"))&&_e(ot)});return function(){return z.ZP.unsubscribe(at)}},[]);var ke=function(){var ot=[void 0,void 0],pt=Array.isArray(ne)?ne:[ne,void 0];return pt.forEach(function(Re,Pt){if((0,m.Z)(Re)==="object")for(var Je=0;Je<z.c4.length;Je++){var ut=z.c4[Je];if(Ge[ut]&&Re[ut]!==void 0){ot[Pt]=Re[ut];break}}else ot[Pt]=Re}),ot},Me=J("row",ge),Be=ke(),ze=T()(Me,(ye={},(0,a.Z)(ye,"".concat(Me,"-no-wrap"),ie===!1),(0,a.Z)(ye,"".concat(Me,"-").concat(ce),ce),(0,a.Z)(ye,"".concat(Me,"-").concat(me),me),(0,a.Z)(ye,"".concat(Me,"-rtl"),ae==="rtl"),ye),pe),Fe={},Q=Be[0]!=null&&Be[0]>0?Be[0]/-2:void 0,W=Be[1]!=null&&Be[1]>0?Be[1]/-2:void 0;if(Q&&(Fe.marginLeft=Q,Fe.marginRight=Q),qe){var se=(0,h.Z)(Be,2);Fe.rowGap=se[1]}else W&&(Fe.marginTop=W,Fe.marginBottom=W);var Pe=(0,h.Z)(Be,2),Ve=Pe[0],Ee=Pe[1],ft=N.useMemo(function(){return{gutter:[Ve,Ee],wrap:ie,supportFlexGap:qe}},[Ve,Ee,ie,qe]);return N.createElement(Z.Z.Provider,{value:ft},N.createElement("div",(0,M.Z)({},de,{className:ze,style:(0,M.Z)((0,M.Z)({},Fe),he),ref:Ae}),ue))});St.Z=fe},6999:function(er,St,E){"use strict";var M=E(38663),a=E.n(M),m=E(80638),h=E.n(m)},38272:function(er,St,E){"use strict";E.d(St,{ZM:function(){return he},ZP:function(){return ne}});var M=E(85061),a=E(22122),m=E(96156),h=E(28481),S=E(90484),T=E(94184),N=E.n(T),C=E(67294),I=E(53124),z=E(88258),G=E(92820),Z=E(25378),F=E(93286),_=E(11382),oe=E(24308),fe=E(21584),te=E(96159),Ae=function(ie,de){var re={};for(var J in ie)Object.prototype.hasOwnProperty.call(ie,J)&&de.indexOf(J)<0&&(re[J]=ie[J]);if(ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ae=0,J=Object.getOwnPropertySymbols(ie);ae<J.length;ae++)de.indexOf(J[ae])<0&&Object.prototype.propertyIsEnumerable.call(ie,J[ae])&&(re[J[ae]]=ie[J[ae]]);return re},ye=function(de){var re=de.prefixCls,J=de.className,ae=de.avatar,we=de.title,Ce=de.description,Ge=Ae(de,["prefixCls","className","avatar","title","description"]),_e=(0,C.useContext)(I.E_),qe=_e.getPrefixCls,vt=qe("list",re),ke=N()("".concat(vt,"-item-meta"),J),Me=C.createElement("div",{className:"".concat(vt,"-item-meta-content")},we&&C.createElement("h4",{className:"".concat(vt,"-item-meta-title")},we),Ce&&C.createElement("div",{className:"".concat(vt,"-item-meta-description")},Ce));return C.createElement("div",(0,a.Z)({},Ge,{className:ke}),ae&&C.createElement("div",{className:"".concat(vt,"-item-meta-avatar")},ae),(we||Ce)&&Me)},ge=function(de,re){var J=de.prefixCls,ae=de.children,we=de.actions,Ce=de.extra,Ge=de.className,_e=de.colStyle,qe=Ae(de,["prefixCls","children","actions","extra","className","colStyle"]),vt=(0,C.useContext)(he),ke=vt.grid,Me=vt.itemLayout,Be=(0,C.useContext)(I.E_),ze=Be.getPrefixCls,Fe=function(){var ft;return C.Children.forEach(ae,function(at){typeof at=="string"&&(ft=!0)}),ft&&C.Children.count(ae)>1},Q=function(){return Me==="vertical"?!!Ce:!Fe()},W=ze("list",J),se=we&&we.length>0&&C.createElement("ul",{className:"".concat(W,"-item-action"),key:"actions"},we.map(function(Ee,ft){return C.createElement("li",{key:"".concat(W,"-item-action-").concat(ft)},Ee,ft!==we.length-1&&C.createElement("em",{className:"".concat(W,"-item-action-split")}))})),Pe=ke?"div":"li",Ve=C.createElement(Pe,(0,a.Z)({},qe,ke?{}:{ref:re},{className:N()("".concat(W,"-item"),(0,m.Z)({},"".concat(W,"-item-no-flex"),!Q()),Ge)}),Me==="vertical"&&Ce?[C.createElement("div",{className:"".concat(W,"-item-main"),key:"content"},ae,se),C.createElement("div",{className:"".concat(W,"-item-extra"),key:"extra"},Ce)]:[ae,se,(0,te.Tm)(Ce,{key:"extra"})]);return ke?C.createElement(fe.Z,{ref:re,flex:1,style:_e},Ve):Ve},ce=(0,C.forwardRef)(ge);ce.Meta=ye;var me=ce,pe=function(ie,de){var re={};for(var J in ie)Object.prototype.hasOwnProperty.call(ie,J)&&de.indexOf(J)<0&&(re[J]=ie[J]);if(ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ae=0,J=Object.getOwnPropertySymbols(ie);ae<J.length;ae++)de.indexOf(J[ae])<0&&Object.prototype.propertyIsEnumerable.call(ie,J[ae])&&(re[J[ae]]=ie[J[ae]]);return re},he=C.createContext({}),ue=he.Consumer;function H(ie){var de,re=ie.pagination,J=re===void 0?!1:re,ae=ie.prefixCls,we=ie.bordered,Ce=we===void 0?!1:we,Ge=ie.split,_e=Ge===void 0?!0:Ge,qe=ie.className,vt=ie.children,ke=ie.itemLayout,Me=ie.loadMore,Be=ie.grid,ze=ie.dataSource,Fe=ze===void 0?[]:ze,Q=ie.size,W=ie.header,se=ie.footer,Pe=ie.loading,Ve=Pe===void 0?!1:Pe,Ee=ie.rowKey,ft=ie.renderItem,at=ie.locale,ot=pe(ie,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),pt=J&&(0,S.Z)(J)==="object"?J:{},Re=C.useState(pt.defaultCurrent||1),Pt=(0,h.Z)(Re,2),Je=Pt[0],ut=Pt[1],gt=C.useState(pt.defaultPageSize||10),At=(0,h.Z)(gt,2),It=At[0],Ct=At[1],Ft=C.useContext(I.E_),Qt=Ft.getPrefixCls,$t=Ft.renderEmpty,tr=Ft.direction,ur={current:1,total:0},lr={},rr=function(sr){return function(wr,Rr){ut(wr),Ct(Rr),J&&J[sr]&&J[sr](wr,Rr)}},Lt=rr("onChange"),jt=rr("onShowSizeChange"),Wt=function(sr,wr){if(!ft)return null;var Rr;return typeof Ee=="function"?Rr=Ee(sr):Ee?Rr=sr[Ee]:Rr=sr.key,Rr||(Rr="list-item-".concat(wr)),lr[wr]=Rr,ft(sr,wr)},Qe=function(){return!!(Me||J||se)},lt=function(sr,wr){return C.createElement("div",{className:"".concat(sr,"-empty-text")},at&&at.emptyText||wr("List"))},Ke=Qt("list",ae),ct=Ve;typeof ct=="boolean"&&(ct={spinning:ct});var xt=ct&&ct.spinning,Nt="";switch(Q){case"large":Nt="lg";break;case"small":Nt="sm";break;default:break}var V=N()(Ke,(de={},(0,m.Z)(de,"".concat(Ke,"-vertical"),ke==="vertical"),(0,m.Z)(de,"".concat(Ke,"-").concat(Nt),Nt),(0,m.Z)(de,"".concat(Ke,"-split"),_e),(0,m.Z)(de,"".concat(Ke,"-bordered"),Ce),(0,m.Z)(de,"".concat(Ke,"-loading"),xt),(0,m.Z)(de,"".concat(Ke,"-grid"),!!Be),(0,m.Z)(de,"".concat(Ke,"-something-after-last-item"),Qe()),(0,m.Z)(de,"".concat(Ke,"-rtl"),tr==="rtl"),de),qe),U=(0,a.Z)((0,a.Z)((0,a.Z)({},ur),{total:Fe.length,current:Je,pageSize:It}),J||{}),P=Math.ceil(U.total/U.pageSize);U.current>P&&(U.current=P);var A=J?C.createElement("div",{className:"".concat(Ke,"-pagination")},C.createElement(F.Z,(0,a.Z)({},U,{onChange:Lt,onShowSizeChange:jt}))):null,B=(0,M.Z)(Fe);J&&Fe.length>(U.current-1)*U.pageSize&&(B=(0,M.Z)(Fe).splice((U.current-1)*U.pageSize,U.pageSize));var q=Object.keys(Be||{}).some(function(Vt){return["xs","sm","md","lg","xl","xxl"].includes(Vt)}),He=(0,Z.Z)(q),Le=C.useMemo(function(){for(var Vt=0;Vt<oe.c4.length;Vt+=1){var sr=oe.c4[Vt];if(He[sr])return sr}},[He]),tt=C.useMemo(function(){if(!!Be){var Vt=Le&&Be[Le]?Be[Le]:Be.column;if(Vt)return{width:"".concat(100/Vt,"%"),maxWidth:"".concat(100/Vt,"%")}}},[Be==null?void 0:Be.column,Le]),et=xt&&C.createElement("div",{style:{minHeight:53}});if(B.length>0){var dt=B.map(function(Vt,sr){return Wt(Vt,sr)}),Ht=C.Children.map(dt,function(Vt,sr){return C.createElement("div",{key:lr[sr],style:tt},Vt)});et=Be?C.createElement(G.Z,{gutter:Be.gutter},Ht):C.createElement("ul",{className:"".concat(Ke,"-items")},dt)}else!vt&&!xt&&(et=lt(Ke,$t||z.Z));var Mt=U.position||"bottom",hr=C.useMemo(function(){return{grid:Be,itemLayout:ke}},[JSON.stringify(Be),ke]);return C.createElement(he.Provider,{value:hr},C.createElement("div",(0,a.Z)({className:V},ot),(Mt==="top"||Mt==="both")&&A,W&&C.createElement("div",{className:"".concat(Ke,"-header")},W),C.createElement(_.Z,(0,a.Z)({},ct),et,vt),se&&C.createElement("div",{className:"".concat(Ke,"-footer")},se),Me||(Mt==="bottom"||Mt==="both")&&A))}H.Item=me;var ne=H},54421:function(er,St,E){"use strict";var M=E(38663),a=E.n(M),m=E(57719),h=E.n(m),S=E(13254),T=E(6999),N=E(14781),C=E(20228)},71230:function(er,St,E){"use strict";var M=E(92820);St.Z=M.Z},13062:function(er,St,E){"use strict";var M=E(38663),a=E.n(M),m=E(6999)},60331:function(er,St,E){"use strict";E.d(St,{Z:function(){return ge}});var M=E(96156),a=E(22122),m=E(28481),h=E(54549),S=E(94184),T=E.n(S),N=E(98423),C=E(67294),I=E(53124),z=E(98787),G=E(21790),Z=function(ce,me){var pe={};for(var he in ce)Object.prototype.hasOwnProperty.call(ce,he)&&me.indexOf(he)<0&&(pe[he]=ce[he]);if(ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,he=Object.getOwnPropertySymbols(ce);ue<he.length;ue++)me.indexOf(he[ue])<0&&Object.prototype.propertyIsEnumerable.call(ce,he[ue])&&(pe[he[ue]]=ce[he[ue]]);return pe},F=function(me){var pe,he=me.prefixCls,ue=me.className,H=me.checked,ne=me.onChange,ie=me.onClick,de=Z(me,["prefixCls","className","checked","onChange","onClick"]),re=C.useContext(I.E_),J=re.getPrefixCls,ae=function(_e){ne==null||ne(!H),ie==null||ie(_e)},we=J("tag",he),Ce=T()(we,(pe={},(0,M.Z)(pe,"".concat(we,"-checkable"),!0),(0,M.Z)(pe,"".concat(we,"-checkable-checked"),H),pe),ue);return C.createElement("span",(0,a.Z)({},de,{className:Ce,onClick:ae}))},_=F,oe=function(ce,me){var pe={};for(var he in ce)Object.prototype.hasOwnProperty.call(ce,he)&&me.indexOf(he)<0&&(pe[he]=ce[he]);if(ce!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,he=Object.getOwnPropertySymbols(ce);ue<he.length;ue++)me.indexOf(he[ue])<0&&Object.prototype.propertyIsEnumerable.call(ce,he[ue])&&(pe[he[ue]]=ce[he[ue]]);return pe},fe=new RegExp("^(".concat(z.Y.join("|"),")(-inverse)?$")),te=new RegExp("^(".concat(z.E.join("|"),")$")),Ae=function(me,pe){var he,ue=me.prefixCls,H=me.className,ne=me.style,ie=me.children,de=me.icon,re=me.color,J=me.onClose,ae=me.closeIcon,we=me.closable,Ce=we===void 0?!1:we,Ge=oe(me,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),_e=C.useContext(I.E_),qe=_e.getPrefixCls,vt=_e.direction,ke=C.useState(!0),Me=(0,m.Z)(ke,2),Be=Me[0],ze=Me[1];C.useEffect(function(){"visible"in Ge&&ze(Ge.visible)},[Ge.visible]);var Fe=function(){return re?fe.test(re)||te.test(re):!1},Q=(0,a.Z)({backgroundColor:re&&!Fe()?re:void 0},ne),W=Fe(),se=qe("tag",ue),Pe=T()(se,(he={},(0,M.Z)(he,"".concat(se,"-").concat(re),W),(0,M.Z)(he,"".concat(se,"-has-color"),re&&!W),(0,M.Z)(he,"".concat(se,"-hidden"),!Be),(0,M.Z)(he,"".concat(se,"-rtl"),vt==="rtl"),he),H),Ve=function(Je){Je.stopPropagation(),J==null||J(Je),!Je.defaultPrevented&&("visible"in Ge||ze(!1))},Ee=function(){return Ce?ae?C.createElement("span",{className:"".concat(se,"-close-icon"),onClick:Ve},ae):C.createElement(h.Z,{className:"".concat(se,"-close-icon"),onClick:Ve}):null},ft="onClick"in Ge||ie&&ie.type==="a",at=(0,N.Z)(Ge,["visible"]),ot=de||null,pt=ot?C.createElement(C.Fragment,null,ot,C.createElement("span",null,ie)):ie,Re=C.createElement("span",(0,a.Z)({},at,{ref:pe,className:Pe,style:Q}),pt,Ee());return ft?C.createElement(G.Z,null,Re):Re},ye=C.forwardRef(Ae);ye.CheckableTag=_;var ge=ye},71153:function(er,St,E){"use strict";var M=E(38663),a=E.n(M),m=E(13277),h=E.n(m)},32138:function(er,St,E){"use strict";E.d(St,{Z:function(){return vt}});var M=E(96156),a=E(90484),m=E(22122),h=E(28991),S=E(67294),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},N=T,C=E(27029),I=function(Me,Be){return S.createElement(C.Z,(0,h.Z)((0,h.Z)({},Me),{},{ref:Be,icon:N}))};I.displayName="HolderOutlined";var z=S.forwardRef(I),G=E(94184),Z=E.n(G),F=E(76513),_=E(53124),oe=E(33603),fe=E(85061),te=E(28481),Ae=E(86504),ye=E(91816),ge=E(63258),ce=E(10225),me=E(1089),pe;(function(ke){ke[ke.None=0]="None",ke[ke.Start=1]="Start",ke[ke.End=2]="End"})(pe||(pe={}));function he(ke,Me){function Be(ze){var Fe=ze.key,Q=ze.children;Me(Fe,ze)!==!1&&he(Q||[],Me)}ke.forEach(Be)}function ue(ke){var Me=ke.treeData,Be=ke.expandedKeys,ze=ke.startKey,Fe=ke.endKey,Q=[],W=pe.None;if(ze&&ze===Fe)return[ze];if(!ze||!Fe)return[];function se(Pe){return Pe===ze||Pe===Fe}return he(Me,function(Pe){if(W===pe.End)return!1;if(se(Pe)){if(Q.push(Pe),W===pe.None)W=pe.Start;else if(W===pe.Start)return W=pe.End,!1}else W===pe.Start&&Q.push(Pe);return Be.indexOf(Pe)!==-1}),Q}function H(ke,Me){var Be=(0,fe.Z)(Me),ze=[];return he(ke,function(Fe,Q){var W=Be.indexOf(Fe);return W!==-1&&(ze.push(Q),Be.splice(W,1)),!!Be.length}),ze}var ne=function(ke,Me){var Be={};for(var ze in ke)Object.prototype.hasOwnProperty.call(ke,ze)&&Me.indexOf(ze)<0&&(Be[ze]=ke[ze]);if(ke!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,ze=Object.getOwnPropertySymbols(ke);Fe<ze.length;Fe++)Me.indexOf(ze[Fe])<0&&Object.prototype.propertyIsEnumerable.call(ke,ze[Fe])&&(Be[ze[Fe]]=ke[ze[Fe]]);return Be};function ie(ke){var Me=ke.isLeaf,Be=ke.expanded;return Me?S.createElement(Ae.Z,null):Be?S.createElement(ye.Z,null):S.createElement(ge.Z,null)}function de(ke){var Me=ke.treeData,Be=ke.children;return Me||(0,me.zn)(Be)}var re=function(Me,Be){var ze=Me.defaultExpandAll,Fe=Me.defaultExpandParent,Q=Me.defaultExpandedKeys,W=ne(Me,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),se=S.useRef(),Pe=S.useRef(),Ve=S.createRef();S.useImperativeHandle(Be,function(){return Ve.current});var Ee=function(){var Lt=(0,me.I8)(de(W)),jt=Lt.keyEntities,Wt;return ze?Wt=Object.keys(jt):Fe?Wt=(0,ce.r7)(W.expandedKeys||Q||[],jt):Wt=W.expandedKeys||Q,Wt},ft=S.useState(W.selectedKeys||W.defaultSelectedKeys||[]),at=(0,te.Z)(ft,2),ot=at[0],pt=at[1],Re=S.useState(Ee()),Pt=(0,te.Z)(Re,2),Je=Pt[0],ut=Pt[1];S.useEffect(function(){"selectedKeys"in W&&pt(W.selectedKeys)},[W.selectedKeys]),S.useEffect(function(){"expandedKeys"in W&&ut(W.expandedKeys)},[W.expandedKeys]);var gt=function(Lt,jt){var Wt;return"expandedKeys"in W||ut(Lt),(Wt=W.onExpand)===null||Wt===void 0?void 0:Wt.call(W,Lt,jt)},At=function(Lt,jt){var Wt,Qe=W.multiple,lt=jt.node,Ke=jt.nativeEvent,ct=lt.key,xt=ct===void 0?"":ct,Nt=de(W),V=(0,m.Z)((0,m.Z)({},jt),{selected:!0}),U=(Ke==null?void 0:Ke.ctrlKey)||(Ke==null?void 0:Ke.metaKey),P=Ke==null?void 0:Ke.shiftKey,A;Qe&&U?(A=Lt,se.current=xt,Pe.current=A,V.selectedNodes=H(Nt,A)):Qe&&P?(A=Array.from(new Set([].concat((0,fe.Z)(Pe.current||[]),(0,fe.Z)(ue({treeData:Nt,expandedKeys:Je,startKey:xt,endKey:se.current}))))),V.selectedNodes=H(Nt,A)):(A=[xt],se.current=xt,Pe.current=A,V.selectedNodes=H(Nt,A)),(Wt=W.onSelect)===null||Wt===void 0||Wt.call(W,A,V),"selectedKeys"in W||pt(A)},It=S.useContext(_.E_),Ct=It.getPrefixCls,Ft=It.direction,Qt=W.prefixCls,$t=W.className,tr=ne(W,["prefixCls","className"]),ur=Ct("tree",Qt),lr=Z()("".concat(ur,"-directory"),(0,M.Z)({},"".concat(ur,"-directory-rtl"),Ft==="rtl"),$t);return S.createElement(qe,(0,m.Z)({icon:ie,ref:Ve,blockNode:!0},tr,{prefixCls:ur,className:lr,expandedKeys:Je,selectedKeys:ot,onSelect:At,onExpand:gt}))},J=S.forwardRef(re);J.defaultProps={showIcon:!0,expandAction:"click"};var ae=J,we=4;function Ce(ke){var Me,Be=ke.dropPosition,ze=ke.dropLevelOffset,Fe=ke.prefixCls,Q=ke.indent,W=ke.direction,se=W===void 0?"ltr":W,Pe=se==="ltr"?"left":"right",Ve=se==="ltr"?"right":"left",Ee=(Me={},(0,M.Z)(Me,Pe,-ze*Q+we),(0,M.Z)(Me,Ve,0),Me);switch(Be){case-1:Ee.top=-3;break;case 1:Ee.bottom=-3;break;default:Ee.bottom=-3,Ee[Pe]=Q+we;break}return S.createElement("div",{style:Ee,className:"".concat(Fe,"-drop-indicator")})}var Ge=E(6324),_e=S.forwardRef(function(ke,Me){var Be,ze=S.useContext(_.E_),Fe=ze.getPrefixCls,Q=ze.direction,W=ze.virtual,se=ke.prefixCls,Pe=ke.className,Ve=ke.showIcon,Ee=ke.showLine,ft=ke.switcherIcon,at=ke.blockNode,ot=ke.children,pt=ke.checkable,Re=ke.selectable,Pt=ke.draggable,Je=Fe("tree",se),ut=(0,m.Z)((0,m.Z)({},ke),{showLine:Boolean(Ee),dropIndicatorRender:Ce}),gt=S.useMemo(function(){if(!Pt)return!1;var At={};switch((0,a.Z)(Pt)){case"function":At.nodeDraggable=Pt;break;case"object":At=(0,m.Z)({},Pt);break;default:}return At.icon!==!1&&(At.icon=At.icon||S.createElement(z,null)),At},[Pt]);return S.createElement(F.Z,(0,m.Z)({itemHeight:20,ref:Me,virtual:W},ut,{prefixCls:Je,className:Z()((Be={},(0,M.Z)(Be,"".concat(Je,"-icon-hide"),!Ve),(0,M.Z)(Be,"".concat(Je,"-block-node"),at),(0,M.Z)(Be,"".concat(Je,"-unselectable"),!Re),(0,M.Z)(Be,"".concat(Je,"-rtl"),Q==="rtl"),Be),Pe),direction:Q,checkable:pt&&S.createElement("span",{className:"".concat(Je,"-checkbox-inner")}),selectable:Re,switcherIcon:function(It){return(0,Ge.Z)(Je,ft,Ee,It)},draggable:gt}),ot)});_e.TreeNode=F.O,_e.DirectoryTree=ae,_e.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:(0,m.Z)((0,m.Z)({},oe.ZP),{motionAppear:!1}),blockNode:!1};var qe=_e,vt=qe},32157:function(er,St,E){"use strict";var M=E(38663),a=E.n(M),m=E(16695),h=E.n(m)},29589:function(er,St,E){(function(M){M(E(4631))})(function(M){"use strict";var a={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},m={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};M.defineMode("xml",function(h,S){var T=h.indentUnit,N={},C=S.htmlMode?a:m;for(var I in C)N[I]=C[I];for(var I in S)N[I]=S[I];var z,G;function Z(re,J){function ae(Ge){return J.tokenize=Ge,Ge(re,J)}var we=re.next();if(we=="<")return re.eat("!")?re.eat("[")?re.match("CDATA[")?ae(oe("atom","]]>")):null:re.match("--")?ae(oe("comment","-->")):re.match("DOCTYPE",!0,!0)?(re.eatWhile(/[\w\._\-]/),ae(fe(1))):null:re.eat("?")?(re.eatWhile(/[\w\._\-]/),J.tokenize=oe("meta","?>"),"meta"):(z=re.eat("/")?"closeTag":"openTag",J.tokenize=F,"tag bracket");if(we=="&"){var Ce;return re.eat("#")?re.eat("x")?Ce=re.eatWhile(/[a-fA-F\d]/)&&re.eat(";"):Ce=re.eatWhile(/[\d]/)&&re.eat(";"):Ce=re.eatWhile(/[\w\.\-:]/)&&re.eat(";"),Ce?"atom":"error"}else return re.eatWhile(/[^&<]/),null}Z.isInText=!0;function F(re,J){var ae=re.next();if(ae==">"||ae=="/"&&re.eat(">"))return J.tokenize=Z,z=ae==">"?"endTag":"selfcloseTag","tag bracket";if(ae=="=")return z="equals",null;if(ae=="<"){J.tokenize=Z,J.state=ce,J.tagName=J.tagStart=null;var we=J.tokenize(re,J);return we?we+" tag error":"tag error"}else return/[\'\"]/.test(ae)?(J.tokenize=_(ae),J.stringStartCol=re.column(),J.tokenize(re,J)):(re.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function _(re){var J=function(ae,we){for(;!ae.eol();)if(ae.next()==re){we.tokenize=F;break}return"string"};return J.isInAttribute=!0,J}function oe(re,J){return function(ae,we){for(;!ae.eol();){if(ae.match(J)){we.tokenize=Z;break}ae.next()}return re}}function fe(re){return function(J,ae){for(var we;(we=J.next())!=null;){if(we=="<")return ae.tokenize=fe(re+1),ae.tokenize(J,ae);if(we==">")if(re==1){ae.tokenize=Z;break}else return ae.tokenize=fe(re-1),ae.tokenize(J,ae)}return"meta"}}function te(re){return re&&re.toLowerCase()}function Ae(re,J,ae){this.prev=re.context,this.tagName=J||"",this.indent=re.indented,this.startOfLine=ae,(N.doNotIndent.hasOwnProperty(J)||re.context&&re.context.noIndent)&&(this.noIndent=!0)}function ye(re){re.context&&(re.context=re.context.prev)}function ge(re,J){for(var ae;;){if(!re.context||(ae=re.context.tagName,!N.contextGrabbers.hasOwnProperty(te(ae))||!N.contextGrabbers[te(ae)].hasOwnProperty(te(J))))return;ye(re)}}function ce(re,J,ae){return re=="openTag"?(ae.tagStart=J.column(),me):re=="closeTag"?pe:ce}function me(re,J,ae){return re=="word"?(ae.tagName=J.current(),G="tag",H):N.allowMissingTagName&&re=="endTag"?(G="tag bracket",H(re,J,ae)):(G="error",me)}function pe(re,J,ae){if(re=="word"){var we=J.current();return ae.context&&ae.context.tagName!=we&&N.implicitlyClosed.hasOwnProperty(te(ae.context.tagName))&&ye(ae),ae.context&&ae.context.tagName==we||N.matchClosing===!1?(G="tag",he):(G="tag error",ue)}else return N.allowMissingTagName&&re=="endTag"?(G="tag bracket",he(re,J,ae)):(G="error",ue)}function he(re,J,ae){return re!="endTag"?(G="error",he):(ye(ae),ce)}function ue(re,J,ae){return G="error",he(re,J,ae)}function H(re,J,ae){if(re=="word")return G="attribute",ne;if(re=="endTag"||re=="selfcloseTag"){var we=ae.tagName,Ce=ae.tagStart;return ae.tagName=ae.tagStart=null,re=="selfcloseTag"||N.autoSelfClosers.hasOwnProperty(te(we))?ge(ae,we):(ge(ae,we),ae.context=new Ae(ae,we,Ce==ae.indented)),ce}return G="error",H}function ne(re,J,ae){return re=="equals"?ie:(N.allowMissing||(G="error"),H(re,J,ae))}function ie(re,J,ae){return re=="string"?de:re=="word"&&N.allowUnquoted?(G="string",H):(G="error",H(re,J,ae))}function de(re,J,ae){return re=="string"?de:H(re,J,ae)}return{startState:function(re){var J={tokenize:Z,state:ce,indented:re||0,tagName:null,tagStart:null,context:null};return re!=null&&(J.baseIndent=re),J},token:function(re,J){if(!J.tagName&&re.sol()&&(J.indented=re.indentation()),re.eatSpace())return null;z=null;var ae=J.tokenize(re,J);return(ae||z)&&ae!="comment"&&(G=null,J.state=J.state(z||ae,re,J),G&&(ae=G=="error"?ae+" error":G)),ae},indent:function(re,J,ae){var we=re.context;if(re.tokenize.isInAttribute)return re.tagStart==re.indented?re.stringStartCol+1:re.indented+T;if(we&&we.noIndent)return M.Pass;if(re.tokenize!=F&&re.tokenize!=Z)return ae?ae.match(/^(\s*)/)[0].length:0;if(re.tagName)return N.multilineTagIndentPastTag!==!1?re.tagStart+re.tagName.length+2:re.tagStart+T*(N.multilineTagIndentFactor||1);if(N.alignCDATA&&/<!\[CDATA\[/.test(J))return 0;var Ce=J&&/^<(\/)?([\w_:\.-]*)/.exec(J);if(Ce&&Ce[1])for(;we;)if(we.tagName==Ce[2]){we=we.prev;break}else if(N.implicitlyClosed.hasOwnProperty(te(we.tagName)))we=we.prev;else break;else if(Ce)for(;we;){var Ge=N.contextGrabbers[te(we.tagName)];if(Ge&&Ge.hasOwnProperty(te(Ce[2])))we=we.prev;else break}for(;we&&we.prev&&!we.startOfLine;)we=we.prev;return we?we.indent+T:re.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:N.htmlMode?"html":"xml",helperType:N.htmlMode?"html":"xml",skipAttribute:function(re){re.state==ie&&(re.state=H)},xmlCurrentTag:function(re){return re.tagName?{name:re.tagName,close:re.type=="closeTag"}:null},xmlCurrentContext:function(re){for(var J=[],ae=re.context;ae;ae=ae.prev)J.push(ae.tagName);return J.reverse()}}}),M.defineMIME("text/xml","xml"),M.defineMIME("application/xml","xml"),M.mimeModes.hasOwnProperty("text/html")||M.defineMIME("text/html",{name:"xml",htmlMode:!0})})}}]);
