(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4371],{38006:function(c){c.exports={linkGroup:"linkGroup___9Jgdb"}},72007:function(c){c.exports={activitiesList:"activitiesList___quVwP",username:"username___JQ75_",event:"event___RrE6y",pageHeaderContent:"pageHeaderContent___Zq2be",avatar:"avatar___3YARY",content:"content___2IM04",contentTitle:"contentTitle___2Xyph",extraContent:"extraContent___DoMpK",statItem:"statItem___1lG6z",members:"members___3WqNE",member:"member___31pPx",projectList:"projectList___VNzMH",cardTitle:"cardTitle___3PHIt",projectGrid:"projectGrid___2S2X-",projectItemContent:"projectItemContent___3nFch",datetime:"datetime___L-UUL",activeCard:"activeCard___1XqEA",container:"container___3CbIL"}},87161:function(c,j,n){"use strict";n.r(j),n.d(j,{default:function(){return _}});var at=n(13062),S=n(71230),rt=n(89032),g=n(15746),st=n(58024),m=n(91894),it=n(54421),x=n(38272),C=n(94657),lt=n(95300),y=n(7277),ot=n(94233),p=n(51890),dt=n(71748),G=n(33860),f=n(67294),b=n(73727),B=n(99937),D=n(30381),H=n.n(D),ut=n(57663),E=n(71577),U=n(49101),z=n(38006),M=n.n(z),t=n(85893),A=function(a){var e=a.links,o=a.linkElement,d=a.onAdd;return(0,t.jsxs)("div",{className:M().linkGroup,children:[e.map(function(l){return(0,f.createElement)(o,{key:"linkGroup-item-".concat(l.id||l.title),to:l.href,href:l.href},l.title)}),(0,t.jsxs)(E.Z,{size:"small",type:"primary",ghost:!0,onClick:d,children:[(0,t.jsx)(U.Z,{})," \u6DFB\u52A0"]})]})};A.defaultProps={links:[],onAdd:function(){},linkElement:"a"};var K=A,O=n(72007),r=n.n(O),N=n(27400),W=n(80937),J=[{key:"survey",tab:"\u6211\u7684\u95EE\u5377"},{key:"exam",tab:"\u6211\u7684\u8003\u8BD5"},{key:"practice",tab:"\u6211\u7684\u7EC3\u4E60"}],V={survey:(0,t.jsx)("p",{children:"survey content"}),exam:(0,t.jsx)("p",{children:"exam content"}),practice:(0,t.jsx)("p",{children:"practice content"})};function X(){var i=(0,f.useState)("survey"),a=(0,C.Z)(i,2),e=a[0],o=a[1],d=function(u){o(u)};return(0,t.jsx)(m.Z,{style:{width:"100%",marginBottom:24},tabList:J,activeTabKey:e,onTabChange:function(u){d(u)},children:V[e]})}var vt=n(71194),R=n(50146);function Y(i){return(0,t.jsxs)(R.Z,{visible:!0,onCancel:function(){i.onCancel()},cancelText:"\u4E0D\u518D\u663E\u793A",okText:"\u77E5\u9053\u4E86",bodyStyle:{padding:0,background:"#eb2f96",height:500,position:"relative"},footer:!1,children:[(0,t.jsx)("iframe",{src:"https://wj.surveyking.cn/s/gu31rJ?preview=1",style:{width:"100%",height:"100%"}}),(0,t.jsx)(E.Z,{style:{position:"absolute",right:0,bottom:-40},onClick:function(){i.onCancel(),localStorage.setItem("welcome","1")},type:"primary",children:"\u4E0D\u518D\u663E\u793A"})]})}var $=[{title:"\u521B\u5EFA\u95EE\u5377",href:"/survey/new?mode=survey"},{title:"\u521B\u5EFA\u8003\u8BD5",href:"/survey/new?mode=exam"}];function Q(){var i=new Date,a=i.getHours();return a<6?"\u51CC\u6668\u597D":a<9?"\u65E9\u4E0A\u597D":a<12?"\u4E0A\u5348\u597D":a<14?"\u4E2D\u5348\u597D":a<17?"\u4E0B\u5348\u597D":a<19?"\u508D\u665A\u597D":a<22?"\u665A\u4E0A\u597D":"\u591C\u91CC\u597D"}var k=function(a){var e=a.currentUser,o=e&&Object.keys(e).length;return o?(0,t.jsxs)("div",{className:r().pageHeaderContent,children:[(0,t.jsx)("div",{className:r().avatar,children:(0,t.jsx)(p.C,{size:"large",src:e.avatar})}),(0,t.jsxs)("div",{className:r().content,children:[(0,t.jsxs)("div",{className:r().contentTitle,children:[Q(),"\uFF0C",e.name,"\uFF0C\u795D\u4F60\u5F00\u5FC3\u6BCF\u4E00\u5929\uFF01"]}),(0,t.jsx)("div",{children:e.group})]})]}):(0,t.jsx)(G.Z,{avatar:!0,paragraph:{rows:1},active:!0})},w=function(){var a=(0,N.a)(),e=a.userOverview;return(0,t.jsxs)("div",{className:r().extraContent,children:[(0,t.jsx)("div",{className:r().statItem,children:(0,t.jsx)(y.Z,{title:"\u95EE\u5377\u6570",value:e==null?void 0:e.surveyCount})}),(0,t.jsx)("div",{className:r().statItem,children:(0,t.jsx)(y.Z,{title:"\u8003\u8BD5\u6570",value:e==null?void 0:e.examCount})})]})},Z=void 0==="1",q=function(){var a=(0,N.a)(),e=a.user,o=(0,f.useState)(function(){return!localStorage.getItem("welcome")}),d=(0,C.Z)(o,2),l=d[0],u=d[1],T={},ct=T.loading,F=T.data,mt=F===void 0?[]:F,L={},I=L.loading,P=L.data,tt=P===void 0?[]:P,et=function(s){var nt=s.template.split(/@\{([^{}]*)\}/gi).map(function(v){return s[v]?(0,t.jsx)("a",{href:s[v].link,children:s[v].name},s[v].name):v});return(0,t.jsx)(x.ZP.Item,{children:(0,t.jsx)(x.ZP.Item.Meta,{avatar:(0,t.jsx)(p.C,{src:s.user.avatar}),title:(0,t.jsxs)("span",{children:[(0,t.jsx)("a",{className:r().username,children:s.user.name}),"\xA0",(0,t.jsx)("span",{className:r().event,children:nt})]}),description:(0,t.jsx)("span",{className:r().datetime,title:s.updatedAt,children:H()(s.updatedAt).fromNow()})})},s.id)};return(0,t.jsxs)(B.ZP,{className:r().container,content:(0,t.jsx)(k,{currentUser:{avatar:"/api/public/preview/".concat(e==null?void 0:e.avatar),name:e==null?void 0:e.name,userid:e==null?void 0:e.userId,email:e==null?void 0:e.email,signature:e==null?void 0:e.profile,group:e==null?void 0:e.deptName}}),extraContent:(0,t.jsx)(w,{}),children:[(0,t.jsxs)(S.Z,{gutter:24,children:[Z&&(0,t.jsxs)(g.Z,{xl:16,lg:24,md:24,sm:24,xs:24,children:[(0,t.jsx)(X,{}),(0,t.jsx)(m.Z,{bodyStyle:{padding:0},bordered:!1,className:r().activeCard,title:"\u52A8\u6001",loading:I,children:(0,t.jsx)(x.ZP,{loading:I,renderItem:function(s){return et(s)},dataSource:tt,className:r().activitiesList,size:"large"})})]}),(0,t.jsx)(g.Z,{xl:8,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(m.Z,{style:{marginBottom:24},title:"\u5FEB\u901F\u5F00\u59CB / \u4FBF\u6377\u5BFC\u822A",bordered:!1,bodyStyle:{padding:0},children:(0,t.jsx)(K,{onAdd:function(){},links:$,linkElement:b.rU})})})]}),l&&Z&&(0,t.jsx)(Y,{onCancel:function(){return u(!1)}})]})},_=(0,W.Pi)(q)}}]);
