(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3272],{72850:function(le,T,e){"use strict";e.d(T,{Z:function(){return g}});var S=e(28991),D=e(67294),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},y=N,Q=e(27029),h=function(m,M){return D.createElement(Q.Z,(0,S.Z)((0,S.Z)({},m),{},{ref:M,icon:y}))};h.displayName="ClearOutlined";var g=D.forwardRef(h)},84391:function(le,T,e){"use strict";e.d(T,{Z:function(){return g}});var S=e(28991),D=e(67294),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},y=N,Q=e(27029),h=function(m,M){return D.createElement(Q.Z,(0,S.Z)((0,S.Z)({},m),{},{ref:M,icon:y}))};h.displayName="UploadOutlined";var g=D.forwardRef(h)},5966:function(le,T,e){"use strict";var S=e(22122),D=e(81253),N=e(67294),y=e(79976),Q=["fieldProps","proFieldProps"],h=["fieldProps","proFieldProps"],g="text",O=function(I){var V=I.fieldProps,L=I.proFieldProps,$=(0,D.Z)(I,Q);return N.createElement(y.Z,(0,S.Z)({mode:"edit",valueType:g,fieldProps:V,filedConfig:{valueType:g},proFieldProps:L},$))},m=function(I){var V=I.fieldProps,L=I.proFieldProps,$=(0,D.Z)(I,h);return N.createElement(y.Z,(0,S.Z)({mode:"edit",valueType:"password",fieldProps:V,proFieldProps:L,filedConfig:{valueType:g}},$))},M=O;M.Password=m,M.displayName="ProFormComponent",T.Z=M},90672:function(le,T,e){"use strict";var S=e(22122),D=e(81253),N=e(67294),y=e(79976),Q=["fieldProps","proFieldProps"],h=function(O,m){var M=O.fieldProps,a=O.proFieldProps,I=(0,D.Z)(O,Q);return N.createElement(y.Z,(0,S.Z)({ref:m,mode:"edit",valueType:"textarea",fieldProps:M,proFieldProps:a},I))};T.Z=N.forwardRef(h)},93279:function(le,T,e){"use strict";var S=e(22122),D=e(81253),N=e(59250),y=e(13013),Q=e(57663),h=e(71577),g=e(30887),O=e(28682),m=e(84305),M=e(88182),a=e(67294),I=e(94184),V=e.n(I),L=e(57254),$=e(44545),q=e(32070),K=e.n(q),de=["key","name"],ce=function(v){var j=v.children,P=v.menus,w=v.onSelect,G=v.className,J=v.style,ee=(0,a.useContext)(M.ZP.ConfigContext),ue=ee.getPrefixCls,te=ue("pro-table-dropdown"),i=a.createElement(O.Z,{onClick:function(k){return w&&w(k.key)}},P==null?void 0:P.map(function(X){return a.createElement(O.Z.Item,{key:X.key},X.name)}));return a.createElement(y.Z,{overlay:i,className:V()(te,G)},a.createElement(h.Z,{style:J},j," ",a.createElement(L.Z,null)))},ie=function(v){var j=v.className,P=v.style,w=v.onSelect,G=v.menus,J=G===void 0?[]:G,ee=v.children,ue=(0,a.useContext)(M.ZP.ConfigContext),te=ue.getPrefixCls,i=te("pro-table-dropdown"),X=a.createElement(O.Z,{onClick:function(ne){w==null||w(ne.key)}},J.map(function(k){var ne=k.key,fe=k.name,re=(0,D.Z)(k,de);return a.createElement(O.Z.Item,(0,S.Z)({key:ne},re),fe)}));return a.createElement(y.Z,{overlay:X,className:V()(i,j)},a.createElement("a",{style:P},ee||a.createElement($.Z,null)))};ie.Button=ce,T.Z=ie},32070:function(){},60102:function(le,T,e){"use strict";e.d(T,{Z:function(){return _}});var S=e(57338),D=e(25084),N=e(49111),y=e(19650),Q=e(57663),h=e(71577),g=e(94657),O=e(29656),m=e(67294),M=e(88386),a=e(85893),I={lineWrapping:!0,lineNumbers:!1,autofocus:!0,placeholder:"\u8BF7\u5C06\u51C6\u5907\u597D\u7684\u6587\u6863\u6309\u7167\u793A\u4F8B\u683C\u5F0F\u590D\u5236\u7C98\u8D34\u5230\u8FD9\u91CC"},V=`\u9879\u76EE\u6807\u9898
\u611F\u8C22\u60A8\u80FD\u62BD\u51FA\u51E0\u5206\u949F\u65F6\u95F4\u6765\u53C2\u52A0\u672C\u6B21\u7B54\u9898\uFF0C\u73B0\u5728\u6211\u4EEC\u5C31\u9A6C\u4E0A\u5F00\u59CB\u5427\uFF01\u3010\u6B22\u8FCE\u8BED\u3011


`,L=(0,m.forwardRef)(function(n,u){var t=n.onChange,l=(0,m.useState)(),r=(0,g.Z)(l,2),d=r[0],f=r[1];(0,m.useImperativeHandle)(u,function(){return{clear:function(){return d==null?void 0:d.setValue("")}}});var c=(0,m.useCallback)(function(s,C){f(s),t(n.defaultContent===void 0?V:n.defaultContent),setTimeout(function(){s.refresh(),s.focus()},1)},[]),o=(0,m.useCallback)(function(){t(d.getValue())},[d]);return(0,a.jsx)(O.Rt,{autoCursor:!0,value:n.defaultContent===void 0?V:n.defaultContent,options:I,editorDidMount:c,onChange:function(){o()}})}),$=e(19357),q=e(36602),K=e(24941),de=e(75907),ce=e(64254),ie=e(19888);function ve(n){return(0,K.Z)(n)||(0,de.Z)(n)||(0,ce.Z)(n)||(0,ie.Z)()}var v=e(71211),j=e(6936);function P(n){for(var u={type:"Survey",title:"",id:(0,v.Ox)(),children:[]},t=n.split(/[\n\r]{2,}/g).filter(function(r){return r.trim()}),l=0;l<t.length;l++)l===0?w(t[0],u):J(t[l]).forEach(function(r){G(r,u)});return u}function w(n,u){n.split(/[\n]+/).forEach(function(t,l){l===0?u.title=t:u.description=t.replace(/【.*】/,"")})}function G(n,u){var t,l=n.split(/\n/g),r=ve(l),d=r[0],f=r.slice(1),c=te(d,f),o={id:(0,v.Ox)(),type:c,title:d.replace(/【.*】/,""),children:[]};(t=u.children)===null||t===void 0||t.push(o),c==="QuestionSet"?ee(f,o):ue(f,o)}function J(n){var u=n.split(/\n/g),t=[],l=[];return u.forEach(function(r,d){/^\d+[.、]/i.test(r.trim())?(l.length>0&&(t.push(l.join(`
`)),l=[]),l.push(r.replace(/^\d+[.、]/,"").trim())):l.push(r.trim())}),l.length>0&&t.push(l.join(`
`)),t}function ee(n,u){}function ue(n,u){if(u.type==="FillBlank"||u.type==="Signature"){var t;(t=u.children)===null||t===void 0||t.push({title:"",id:(0,v.Ox)()})}else if(u.type==="Cascader"){if(n.length>1){var l=(0,j.D)(n[0]),r=(0,j.H)(n.slice(1));l.forEach(function(o){var s;(s=u.children)===null||s===void 0||s.push({title:o.title,id:(0,v.Ox)()})}),u.dataSource=r}}else if(u.type==="HorzBlank"){if(n.length>0){var d=n.join(`
`).split(/_{3,}/).length-1;u.attribute={content:n.join("<br/>")};for(var f=0;f<d;f++){var c;(c=u.children)===null||c===void 0||c.push({title:"\u586B\u7A7A".concat(f+1),id:(0,v.Ox)()})}}}else n==null||n.filter(function(o){return o.trim()}).forEach(function(o){var s;(s=u.children)===null||s===void 0||s.push({title:o,id:(0,v.Ox)()})})}function te(n,u){var t=n.substring(n.lastIndexOf("\u3010")+1,n.lastIndexOf("\u3011")).trim();if(!t&&u.length===0)return"FillBlank";switch(t){case"\u5355\u9009\u9898":return"Radio";case"\u591A\u9009\u9898":return"Checkbox";case"\u586B\u7A7A\u9898":return"FillBlank";case"\u5355\u884C\u6587\u672C\u9898":return"FillBlank";case"\u591A\u884C\u6587\u672C\u9898":return"MultipleBlank";case"\u4E0B\u62C9\u9898":return"Select";case"\u7B7E\u540D\u9898":return"Signature";case"\u6A2A\u5411\u586B\u7A7A":return"HorzBlank";case"\u6587\u672C\u63CF\u8FF0":return"Remark";case"\u7EA7\u8054\u9898":return"Cascader";default:return"Radio"}}function i(n,u){for(var t,l={type:"Survey",title:"",id:(0,v.Ox)(),attribute:{},children:[]},r=n.split(/[\n\r]{2,}/g).filter(function(f){return f.trim()}),d=0;d<r.length;d++)d===0&&u?X(r[0],l):ne(r[d]).forEach(function(f){k(f,l)});return l.attribute.examScore=(t=l.children)===null||t===void 0?void 0:t.reduce(function(f,c){var o;return f+(((o=c.attribute)===null||o===void 0?void 0:o.examScore)||0)},0),l}function X(n,u){n.split(/[\n]+/).forEach(function(t,l){l===0?u.title=t:u.description=t.replace(/【.*】/,"")})}function k(n,u){var t;(t=u.children)===null||t===void 0||t.push(Fe(n.split(/\n/g)))}function ne(n){var u=n.split(/\n/g),t=[],l=[];return u.forEach(function(r,d){/^\d+[.、]/i.test(r.trim())?(l.length>0&&(t.push(l.join(`
`)),l=[]),l.push(r.replace(/^\d+[.、]/,"").trim())):l.push(r.trim())}),l.length>0&&t.push(l.join(`
`)),t.filter(function(r){return r.trim()})}function fe(n){var u={optionLine:[],titleLine:"",correctAnswerLine:[],tagLine:[]};return n.map(function(t){return t.trim()}).forEach(function(t,l){if(l===0)u.titleLine=t;else if(t.startsWith("\u7B54\u6848\u89E3\u6790"))u.analysisLine=t.replace(/^答案解析[:：]/,"").trim();else if(t.startsWith("\u6B63\u786E\u7B54\u6848")){var r=t.replace(/^正确答案[:：]/,"").trim();r&&u.correctAnswerLine.push(r)}else t.startsWith("\u6807\u7B7E")?u.tagLine=t.replace(/^标签[:：]/,"").trim().split(/[、,]/).filter(function(d){return d}):t&&u.optionLine.push(t)}),n[0].includes("\u3010\u5224\u65AD\u9898\u3011")&&(u.optionLine.push("\u6B63\u786E","\u9519\u8BEF"),u.correctAnswerLine[0]==="\u6B63\u786E"&&(u.correctAnswerLine[0]="A"),u.correctAnswerLine[0]==="\u9519\u8BEF"&&(u.correctAnswerLine[0]="B")),u}function re(n){var u={title:""},t=n,l=n.match(/[(（]([\d\.]+)分[)）]/);l&&l.length>1&&(u.examScore=parseFloat(l[1]),t=t.replace(l[0],"").trim());var r=n.match(/[（(](正确答案|[A-Z]+)[）)]/);r&&r.length>1&&(u.examCorrectAnswer=r[1],t=t.replace(r[0],"").trim()),n.indexOf("\u3010")>=0&&(t=t.substring(0,t.indexOf("\u3010")).trim());var d=n.match(/^答案解析[:：](.+)/);return d&&d.length>1&&(u.examAnalysis=d[1]),r=n.match(/^正确答案[:：](.+)/),r&&r.length>1&&(u.examCorrectAnswer=r[1]),u.title=t,u}function Fe(n){var u=fe(n),t=pe(u.titleLine,u.optionLine),l=re(u.titleLine),r={id:(0,v.Ox)(),type:t,title:l.title,tags:u.tagLine,attribute:{examScore:l.examScore,examAnalysis:u.analysisLine},children:[]};if(t==="Radio"||t==="Select"){if(r.attribute.examAnswerMode="onlyOne",u.optionLine.forEach(function(Z){var A,x,W=re(Z),se=(0,v.Ox)();(A=r.children)===null||A===void 0||A.push({id:se,type:"Option",title:W.title,attribute:{examCorrectAnswer:W.examCorrectAnswer?se:void 0,examScore:W.examCorrectAnswer?(x=r.attribute)===null||x===void 0?void 0:x.examScore:void 0}})}),u.correctAnswerLine.length>0||l.examCorrectAnswer){var d=(u.correctAnswerLine[0]||l.examCorrectAnswer).toUpperCase().charCodeAt(0)-65,f=r.children[d];if(f){var c;f.attribute.examCorrectAnswer=f.id,f.attribute.examScore=(c=r.attribute)===null||c===void 0?void 0:c.examScore}}}else if(t==="Checkbox"){if(r.attribute.examAnswerMode="selectAll",u.optionLine.forEach(function(Z){var A,x=re(Z),W=(0,v.Ox)();(A=r.children)===null||A===void 0||A.push({id:W,type:"Option",title:x.title,attribute:{examCorrectAnswer:x.examCorrectAnswer?W:void 0}})}),u.correctAnswerLine.length>0||l.examCorrectAnswer)for(var o=(u.correctAnswerLine[0]||l.examCorrectAnswer).toUpperCase(),s=0;s<o.length;s++){var C=o.charCodeAt(s)-65,p=r.children[C];p&&(p.attribute.examCorrectAnswer=p.id)}}else if(t==="FillBlank"){var oe;r.attribute.examAnswerMode="selectAll",r.attribute.examMatchRule="completeSame";var he=(0,v.Ox)();(oe=r.children)===null||oe===void 0||oe.push({id:he,type:"Option",title:"",attribute:{}}),u.correctAnswerLine&&u.correctAnswerLine.forEach(function(Z,A){var x=r.children[A];x&&(x.attribute.examCorrectAnswer=Z)})}else t==="HorzBlank"&&(r.attribute.examAnswerMode="select",r.attribute.content=u.optionLine[0],u.optionLine.slice(1).forEach(function(Z){var A,x,W=re(Z),se=(0,v.Ox)();(A=r.children)===null||A===void 0||A.push({id:se,type:"Option",title:W.title,attribute:{examScore:W.examCorrectAnswer?(x=r.attribute)===null||x===void 0?void 0:x.examScore:void 0}})}),u.correctAnswerLine&&u.correctAnswerLine.forEach(function(Z,A){var x=r.children[A];x&&(x.attribute.examCorrectAnswer=Z)}));return r}function pe(n,u){var t=n.substring(n.lastIndexOf("\u3010")+1,n.lastIndexOf("\u3011")).trim();if(!t&&u.length===0)return"FillBlank";switch(t){case"\u5355\u9009\u9898":return"Radio";case"\u591A\u9009\u9898":return"Checkbox";case"\u586B\u7A7A\u9898":return"FillBlank";case"\u5355\u884C\u6587\u672C\u9898":return"FillBlank";case"\u591A\u884C\u6587\u672C\u9898":return"MultipleBlank";case"\u4E0B\u62C9\u9898":return"Select";case"\u7B7E\u540D\u9898":return"Signature";case"\u6A2A\u5411\u586B\u7A7A":return"HorzBlank";case"\u6587\u672C\u63CF\u8FF0":return"Remark";case"\u7EA7\u8054\u9898":return"Cascader";case"\u5224\u65AD\u9898":return"Radio";default:return"Radio"}}var xe=e(72850),Ae=e(71194),Be=e(50146),me=e(11849),De=e(18106),Ce=e(51752),R={lineWrapping:!0,lineNumbers:!1,autofocus:!1,placeholder:"\u8BF7\u5C06\u51C6\u5907\u597D\u7684\u6587\u6863\u6309\u7167\u793A\u4F8B\u683C\u5F0F\u590D\u5236\u7C98\u8D34\u5230\u8FD9\u91CC",readOnly:!0};function b(n){var u;return n.id=(0,v.Ox)(),(u=n.children)===null||u===void 0||u.forEach(function(t){t.id=(0,v.Ox)()}),{id:"demo",title:"",type:"Survey",children:[n]}}function H(n){var u=n.title,t=n.schema,l=n.text,r=n.mode;return(0,a.jsxs)("div",{className:"doc-item",children:[(0,a.jsxs)("h3",{className:"doc-item-title",children:[u,":"]}),(0,a.jsxs)("div",{className:"doc-item-wrapper",children:[(0,a.jsx)("div",{className:"doc-item-left",children:(0,a.jsx)(O.Rt,{value:l,options:R,editorDidMount:function(f){setTimeout(function(){f.refresh()},1)}})}),(0,a.jsxs)("div",{className:"doc-item-right",children:[(0,a.jsx)("div",{className:"tips",children:"\u9884\u89C8"}),(0,a.jsx)($.Z,{schema:b(t),headerVisible:!1,footerVisible:!1,questionNumber:!1,progressBar:!1,mode:r,correctAnswerVisible:r==="exam"})]})]})]})}var B=[{title:"\u6B22\u8FCE\u8BED",text:"\u611F\u8C22\u60A8\u80FD\u62BD\u51FA\u51E0\u5206\u949F\u65F6\u95F4\u6765\u53C2\u52A0\u672C\u6B21\u7B54\u9898\uFF0C\u73B0\u5728\u6211\u4EEC\u5C31\u9A6C\u4E0A\u5F00\u59CB\u5427\uFF01\u3010\u6B22\u8FCE\u8BED\u3011",schema:{id:"1",type:"Remark",title:"\u611F\u8C22\u60A8\u80FD\u62BD\u51FA\u51E0\u5206\u949F\u65F6\u95F4\u6765\u53C2\u52A0\u672C\u6B21\u7B54\u9898\uFF0C\u73B0\u5728\u6211\u4EEC\u5C31\u9A6C\u4E0A\u5F00\u59CB\u5427\uFF01\u3010\u6B22\u8FCE\u8BED\u3011"}},{title:"\u5355\u9009\u9898",text:`\u60A8\u7ECF\u5E38\u521B\u5EFA\u4EC0\u4E48\u7C7B\u578B\u7684\u9879\u76EE\uFF1F\u3010\u5355\u9009\u9898\u3011
\u95EE\u5377\u8C03\u7814
\u6295\u7968\u8BC4\u9009
\u6D4B\u8BC4\u8003\u8BD5
    `,schema:{type:"Radio",title:"\u60A8\u7ECF\u5E38\u521B\u5EFA\u4EC0\u4E48\u7C7B\u578B\u7684\u9879\u76EE\uFF1F",children:[{title:"\u95EE\u5377\u8C03\u7814"},{title:"\u6295\u7968\u8BC4\u9009"},{title:"\u6D4B\u8BC4\u8003\u8BD5"}]}},{title:"\u591A\u9009\u9898",text:`\u60A8\u4E86\u89E3\u8FC7\u54EA\u4E9B\u95EE\u5377\u7CFB\u7EDF\uFF1F\u3010\u591A\u9009\u9898\u3011
  \u95EE\u5377\u7F51
  \u95EE\u5377\u661F
  \u91D1\u6570\u636E
  \u5377\u738B
      `,schema:{type:"Checkbox",title:"\u60A8\u4E86\u89E3\u8FC7\u54EA\u4E9B\u95EE\u5377\u7CFB\u7EDF\uFF1F",children:[{title:"\u95EE\u5377\u7F51"},{title:"\u95EE\u5377\u661F"},{title:"\u91D1\u6570\u636E"},{title:"\u5377\u738B"}]}},{title:"\u586B\u7A7A\u9898",text:"\u8BF7\u586B\u5199\u60A8\u7684\u95EE\u9898\u548C\u5EFA\u8BAE\u3010\u586B\u7A7A\u9898\u3011",schema:{type:"FillBlank",title:"\u8BF7\u586B\u5199\u60A8\u7684\u95EE\u9898\u548C\u5EFA\u8BAE",children:[{title:""}]}},{title:"\u591A\u884C\u6587\u672C\u9898",text:`\u8BF7\u586B\u5199\u60A8\u7684\u95EE\u9898\u548C\u5EFA\u8BAE\u3010\u591A\u884C\u6587\u672C\u9898\u3011
  \u8EAB\u9AD8
  \u4F53\u91CD
  BMI
  `,schema:{type:"MultipleBlank",title:"\u8BF7\u586B\u5199\u60A8\u7684\u95EE\u9898\u548C\u5EFA\u8BAE",children:[{title:"\u8EAB\u9AD8"},{title:"\u4F53\u91CD"},{title:"BMI"}]}},{title:"\u4E0B\u62C9\u9898",text:`\u6027\u522B\u3010\u4E0B\u62C9\u9898\u3011
  \u7537
  \u5973`,schema:{type:"Select",title:"\u6027\u522B",children:[{title:"\u7537"},{title:"\u5973"}]}},{title:"\u7B7E\u540D",text:"\u7B7E\u4E2A\u540D\u5427\uFF01\u3010\u7B7E\u540D\u3011",schema:{type:"Signature",title:"\u7B7E\u4E2A\u540D\u5427\uFF01",children:[{title:""}]}},{title:"\u6A2A\u5411\u586B\u7A7A",text:`\u8BF7\u586B\u5199\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF1F\u3010\u6A2A\u5411\u586B\u7A7A\u3011
  \u59D3\u540D___\u5E74\u9F84___\u5C81
  \u8054\u7CFB\u65B9\u5F0F____`,schema:{type:"HorzBlank",title:"\u8BF7\u586B\u5199\u60A8\u7684\u4E2A\u4EBA\u4FE1\u606F\uFF1F",attribute:{content:`\u59D3\u540D___\u5E74\u9F84___\u5C81
  \u8054\u7CFB\u65B9\u5F0F____`},children:[{title:""},{title:""},{title:""}]}},{title:"\u7EA7\u8054\u9898",text:`\u7701\u5E02\u53BF\u3010\u7EA7\u8054\u9898\u3011
  \u7701 \u5E02 \u53BF
  \u5317\u4EAC\u5E02 \u6D77\u6DC0\u533A
  \u5317\u4EAC\u5E02 \u897F\u57CE\u533A
  \u6CB3\u5357\u7701 \u90D1\u5DDE\u5E02 \u7BA1\u57CE\u533A
  \u6CB3\u5357\u7701 \u90D1\u5DDE\u5E02 \u9AD8\u65B0\u533A`,schema:{type:"Cascader",title:"\u5730\u533A",children:[{title:"\u7701",id:"6t0l"},{title:"\u5E02",id:"1bdu"},{title:"\u53BF",id:"ie4u"}],dataSource:[{label:"\u5317\u4EAC\u5E02",value:"vv5k",children:[{label:"\u6D77\u6DC0\u533A",value:"55x3"},{label:"\u897F\u57CE\u533A",value:"dxg7"}]},{label:"\u6CB3\u5357\u7701",value:"fyx1",children:[{label:"\u90D1\u5DDE\u5E02",value:"qu6c",children:[{label:"\u7BA1\u57CE\u533A",value:"x7zs"},{label:"\u9AD8\u65B0\u533A",value:"t67i"}]}]}]}}],Y=[{title:"\u6B22\u8FCE\u8BED",text:"\u611F\u8C22\u60A8\u80FD\u62BD\u51FA\u51E0\u5206\u949F\u65F6\u95F4\u6765\u53C2\u52A0\u672C\u6B21\u7B54\u9898\uFF0C\u73B0\u5728\u6211\u4EEC\u5C31\u9A6C\u4E0A\u5F00\u59CB\u5427\uFF01\u3010\u6B22\u8FCE\u8BED\u3011",schema:{id:"1",type:"Remark",title:"\u611F\u8C22\u60A8\u80FD\u62BD\u51FA\u51E0\u5206\u949F\u65F6\u95F4\u6765\u53C2\u52A0\u672C\u6B21\u7B54\u9898\uFF0C\u73B0\u5728\u6211\u4EEC\u5C31\u9A6C\u4E0A\u5F00\u59CB\u5427\uFF01\u3010\u6B22\u8FCE\u8BED\u3011"}},{title:"\u5355\u9009\u9898",text:`\u5377\u738B\u662F\u516C\u53F8\u8FD8\u662F\u4E2A\u4EBA\u5F00\u53D1\u7684\uFF1F\uFF0810\u5206\uFF09\u3010\u5355\u9009\u9898\u3011
\u516C\u53F8
\u4E2A\u4EBA\uFF08\u6B63\u786E\u7B54\u6848\uFF09
\u7B54\u6848\u89E3\u6790\uFF1A\u5377\u738B\u662F\u4E2A\u4EBA\u5F00\u53D1\u7684
\u6807\u7B7E\uFF1A\u7B80\u5355
    `,schema:{type:"Radio",title:"\u5377\u738B\u662F\u516C\u53F8\u8FD8\u662F\u4E2A\u4EBA\u5F00\u53D1\u7684\uFF1F",attribute:{examAnswerMode:"select",examScore:10},children:[{title:"\u516C\u53F8"},{title:"\u4E2A\u4EBA",id:"o111",attribute:{examCorrectAnswer:"o111",examScore:10}}]}},{title:"\u591A\u9009\u9898",text:`\u5377\u738B\u591A\u9009\u9898\u652F\u6301\u54EA\u4E9B\u8BA1\u5206\u65B9\u5F0F\uFF1F\uFF0830\u5206\uFF09\u3010\u591A\u9009\u9898\u3011
A.\u5168\u90E8\u7B54\u5BF9\u624D\u5F97\u5206\uFF08\u6B63\u786E\u7B54\u6848\uFF09
B.\u7B54\u5BF9\u51E0\u9879\u5F97\u51E0\u5206\uFF0C\u7B54\u9519\u4E0D\u5F97\u5206\uFF08\u6B63\u786E\u7B54\u6848\uFF09
C.\u6BCF\u4E2A\u9009\u9879\u90FD\u6709\u76F8\u5E94\u5206\u503C\uFF08\u6B63\u786E\u7B54\u6848\uFF09
\u7B54\u6848\u89E3\u6790\uFF1A\u95EE\u5377\u7F51\u7CBE\u591A\u9009\u9898\u652F\u6301\u4E09\u79CD\u8BA1\u5206\u65B9\u5F0F
      `,schema:{type:"Checkbox",title:"\u5377\u738B\u591A\u9009\u9898\u652F\u6301\u54EA\u4E9B\u8BA1\u5206\u65B9\u5F0F?",attribute:{examAnswerMode:"selectCorrect",examScore:10},children:[{title:"A.\u5168\u90E8\u7B54\u5BF9\u624D\u5F97\u5206",attribute:{examCorrectAnswer:"o11"}},{title:"B.\u7B54\u5BF9\u51E0\u9879\u5F97\u51E0\u5206\uFF0C\u7B54\u9519\u4E0D\u5F97\u5206",attribute:{examCorrectAnswer:"o11"}},{title:"C.\u6BCF\u4E2A\u9009\u9879\u90FD\u6709\u76F8\u5E94\u5206\u503C",attribute:{examCorrectAnswer:"o11"}}]}}],U=Ce.Z.TabPane,E=function(u){var t=u.onClose;return(0,a.jsx)(Be.Z,{visible:!0,onCancel:function(){return t()},footer:!1,title:"\u793A\u4F8B&\u5E2E\u52A9",width:750,maskClosable:!1,className:"import-text-doc-modal",children:(0,a.jsxs)(Ce.Z,{children:[(0,a.jsxs)(U,{tab:"\u4E0D\u542B\u5206\u503C\u548C\u7B54\u6848",children:[(0,a.jsxs)("div",{"data-v-5d201132":"",className:"doc-desc",children:[(0,a.jsx)("h3",{"data-v-5d201132":"",children:"\u683C\u5F0F\u8BF4\u660E\uFF1A"})," ",(0,a.jsx)("p",{"data-v-5d201132":"",children:"1. \u9898\u76EE\u6807\u9898\u6700\u597D\u4EE5\u6570\u5B57\u5F00\u5934\uFF1B"}),(0,a.jsx)("p",{"data-v-5d201132":"",children:"2. \u5EFA\u8BAE\u5728\u9898\u76EE\u540E\u9762\u6DFB\u52A0\u9898\u578B\u6807\u8BC6(\u4F7F\u7528\u3010\u3011)\uFF0C\u672A\u6807\u8BC6\u7684\u9898\u76EE\u7CFB\u7EDF\u5C06\u81EA\u52A8\u8BC6\u522B\uFF1B"}),(0,a.jsxs)("p",{"data-v-5d201132":"",children:["3. \u76EE\u524D\u53EF\u8BC6\u522B\u7684\u9898\u578B\u6807\u8BC6\u5305\u62EC\uFF1A",(0,a.jsx)("span",{"data-v-5d201132":"",children:"\u3010\u6B22\u8FCE\u8BED\u3011\u3001"}),"\u3010\u5355\u9009\u9898\u3011\u3001\u3010\u591A\u9009\u9898\u3011\u3001\u3010\u7B7E\u540D\u9898\u3011\u3001\u3010\u4E0B\u62C9\u9898\u3011\u3001\u3010\u586B\u7A7A\u9898\u3011\u3001\u3010\u591A\u9879\u586B\u7A7A\u3011\u3001\u3010\u6A2A\u5411\u586B\u7A7A\u3011\u3001\u3010\u7EA7\u8054\u9898\u3011\u3001\u3010\u5907\u6CE8\u8BF4\u660E\u3011\uFF1B"]}),(0,a.jsx)("p",{"data-v-5d201132":"",children:"4. \u5982\u679C\u65E0\u6CD5\u6B63\u786E\u8BC6\u522B\uFF0C\u8BF7\u5C1D\u8BD5\u5728\u9898\u76EE\u4E0E\u9898\u76EE\u4E4B\u95F4\u52A0\u5165\u7A7A\u884C\uFF1B"}),(0,a.jsx)("p",{"data-v-5d201132":"",children:"5. \u8BF7\u52FF\u5728\u9009\u9879\u4E0E\u9009\u9879\u4E4B\u95F4\u7A7A\u884C\u3002"})]}),B.map(function(l){return(0,a.jsx)(H,(0,me.Z)({},l),l.title)})]},"survey"),(0,a.jsxs)(U,{tab:"\u542B\u5206\u503C\u548C\u7B54\u6848",children:[(0,a.jsxs)("div",{"data-v-5d201132":"",className:"doc-desc",children:[(0,a.jsx)("h3",{"data-v-5d201132":"",children:"\u683C\u5F0F\u8BF4\u660E\uFF1A"})," ",(0,a.jsx)("p",{"data-v-5d201132":"",children:"1. \u9898\u76EE\u6807\u9898\u6700\u597D\u4EE5\u6570\u5B57\u5F00\u5934\uFF1B"}),(0,a.jsx)("p",{"data-v-5d201132":"",children:"2. \u5EFA\u8BAE\u5728\u9898\u76EE\u540E\u9762\u6DFB\u52A0\u9898\u578B\u6807\u8BC6(\u4F7F\u7528\u3010\u3011)\uFF0C\u672A\u6807\u8BC6\u7684\u9898\u76EE\u7CFB\u7EDF\u5C06\u81EA\u52A8\u8BC6\u522B\uFF1B"}),(0,a.jsxs)("p",{"data-v-5d201132":"",children:["3. \u76EE\u524D\u53EF\u8BC6\u522B\u7684\u9898\u578B\u6807\u8BC6\u5305\u62EC\uFF1A",(0,a.jsx)("span",{"data-v-5d201132":"",children:"\u3010\u6B22\u8FCE\u8BED\u3011\u3001"}),"\u3010\u5355\u9009\u9898\u3011\u3001\u3010\u591A\u9009\u9898\u3011\u3001\u3010\u7B7E\u540D\u9898\u3011\u3001\u3010\u4E0B\u62C9\u9898\u3011\u3001\u3010\u586B\u7A7A\u9898\u3011\u3001\u3010\u591A\u9879\u586B\u7A7A\u3011\u3001\u3010\u6A2A\u5411\u586B\u7A7A\u3011\u3001\u3010\u7EA7\u8054\u9898\u3011\u3001\u3010\u5907\u6CE8\u8BF4\u660E\u3011\uFF1B"]}),(0,a.jsx)("p",{"data-v-5d201132":"",children:"4. \u5982\u679C\u65E0\u6CD5\u6B63\u786E\u8BC6\u522B\uFF0C\u8BF7\u5C1D\u8BD5\u5728\u9898\u76EE\u4E0E\u9898\u76EE\u4E4B\u95F4\u52A0\u5165\u7A7A\u884C\uFF1B"}),(0,a.jsx)("p",{"data-v-5d201132":"",children:"5. \u8BF7\u52FF\u5728\u9009\u9879\u4E0E\u9009\u9879\u4E4B\u95F4\u7A7A\u884C\u3002"})]}),Y.map(function(l){return(0,a.jsx)(H,(0,me.Z)((0,me.Z)({},l),{},{mode:"exam"}),l.title)})]},"exam")]})})},F=E,z=function(u){var t=u.onClose,l=u.mode,r=l===void 0?"survey":l,d=u.okText,f=u.onOk,c=u.title,o=c===void 0?"\u5BFC\u5165\u6587\u672C":c,s=u.headerVisible,C=s===void 0?!0:s,p=u.footerVisible,oe=p===void 0?!0:p,he=u.defaultContent,Z=(0,m.useRef)(null),A=(0,m.useState)({}),x=(0,g.Z)(A,2),W=x[0],se=x[1],Pe=(0,m.useState)(!1),ye=(0,g.Z)(Pe,2),je=ye[0],ge=ye[1],Oe=(0,m.useRef)(),Ze=(0,q.zE)(function(ae){se(r==="exam"?i(ae,C):P(ae,C))},30);return(0,a.jsxs)(D.Z,{visible:!0,onClose:t,width:"100%",placement:"left",className:"import-text-drawer",closeIcon:!1,title:(0,a.jsx)("span",{children:o}),autoFocus:!1,extra:(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(h.Z,{onClick:t,children:"\u5173\u95ED"}),(0,a.jsx)(h.Z,{type:"primary",onClick:function(){return f(W)},children:d})]}),children:[(0,a.jsxs)("div",{className:"text-header",children:[(0,a.jsxs)("div",{className:"header-left",children:[(0,a.jsx)("h3",{className:"header-left-title",children:"\u6587\u672C\u7F16\u8F91"}),(0,a.jsx)("div",{children:(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(h.Z,{type:"link",onClick:function(){ge(!0)},children:"\u793A\u4F8B&\u5E2E\u52A9"}),(0,a.jsx)(h.Z,{icon:(0,a.jsx)(xe.Z,{}),onClick:function(){var Ee;return(Ee=Oe.current)===null||Ee===void 0?void 0:Ee.clear()},children:"\u6E05\u7A7A\u6587\u672C"})]})})]}),(0,a.jsx)("div",{className:"header-right",children:(0,a.jsx)("h3",{className:"header-right-title ",children:"\u9898\u76EE\u9884\u89C8"})})]}),(0,a.jsxs)("div",{className:"text-body",children:[(0,a.jsx)("div",{className:"editor-container",children:(0,a.jsx)(L,{ref:Oe,defaultContent:he,onChange:function(Ee){Ze(Ee)}})}),(0,a.jsx)("div",{className:"preview-container",children:(0,a.jsx)($.O,{ref:Z,schema:W,headerVisible:C,footerVisible:oe,paginationVisible:!1,mode:r,correctAnswerVisible:!0})})]}),je&&(0,a.jsx)(F,{onClose:function(){return ge(!1)}})]})},_=z},86465:function(le,T,e){"use strict";e.r(T),e.d(T,{default:function(){return Ce}});var S=e(57338),D=e(25084),N=e(49111),y=e(19650),Q=e(57663),h=e(71577),g=e(3182),O=e(34792),m=e(48086),M=e(71194),a=e(50146),I=e(71153),V=e(60331),L=e(94657),$=e(94043),q=e.n($),K=e(36602),de=e(49101),ce=e(70844),ie=e(16894),ve=e(93279),v=e(77613),j=e(67294),P=e(11849),w=e(43358),G=e(34041),J=e(952),ee=e(71975),ue=e(5966),te=e(90672),i=e(85893),X=function(b){var H=(0,j.useState)([]),B=(0,L.Z)(H,2),Y=B[0],U=B[1],E=(0,K.zE)(function(F){K.hi.loadTags({name:F,category:"repo"}).then(function(z){z&&U(z)})},5);return(0,i.jsx)(J.ZP.Item,(0,P.Z)((0,P.Z)({},b),{},{children:(0,i.jsx)(G.Z,(0,P.Z)((0,P.Z)({mode:"tags",tokenSeparators:[","],placeholder:b.placeholder},b.fieldProps),{},{onSearch:E,className:"ant-pro-filed-search-select pro-field pro-field-".concat(b.width),children:Y.map(function(F){return(0,i.jsx)(G.Z.Option,{value:F,children:F},F)})}))}))},k=(0,v.P)(function(R){var b=R.onOk,H=R.onClose,B=R.repo,Y=(0,j.useRef)();return(0,i.jsxs)(ee.a,{title:B!=null&&B.id?"\u4FEE\u6539\u9898\u5E93":"\u65B0\u589E\u9898\u5E93",formRef:Y,visible:!0,initialValues:B,drawerProps:{forceRender:!0,destroyOnClose:!0,onClose:function(){H()}},onFinish:function(){var U=(0,g.Z)(q().mark(function E(F){var z;return q().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K.hi.saveOrUpdateRepo((0,P.Z)((0,P.Z)({},B),F));case 2:z=n.sent,z.success&&b();case 4:case"end":return n.stop()}},E)}));return function(E){return U.apply(this,arguments)}}(),children:[(0,i.jsxs)(J.ZP.Group,{children:[(0,i.jsx)(ue.Z,{name:"name",width:"md",label:"\u9898\u5E93\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u9898\u5E93\u540D\u79F0",required:!0,rules:[{required:!0,message:"\u9898\u5E93\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,i.jsx)(X,{name:"tag",width:"md",label:"\u6807\u7B7E",placeholder:"\u8BF7\u8F93\u5165\u9898\u5E93\u6807\u7B7E"})]}),(0,i.jsx)(J.ZP.Group,{children:(0,i.jsx)(te.Z,{name:"description",width:"md",label:"\u9898\u5E93\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u9898\u5E93\u540D\u79F0"})})]})}),ne=e(60102),fe=e(13299),re=e(43185),Fe=e(11324),pe=e(90631),xe=e(84391),Ae=e(43347),Be=Fe.Z.Dragger;function me(R){var b=R.current,H=R.onCancel,B=R.onOk,Y=(0,j.useState)(!1),U=(0,L.Z)(Y,2),E=U[0],F=U[1],z=(0,j.useState)([]),_=(0,L.Z)(z,2),n=_[0],u=_[1],t={multiple:!1,accept:".xlsx",beforeUpload:function(r){return u([r]),!1},onRemove:function(){u([])},maxCount:1};return(0,i.jsx)(a.Z,{title:"Excel\u6A21\u677F\u5BFC\u5165\u9898\u5E93",onCancel:H,visible:!0,maskClosable:!1,footer:[(0,i.jsx)(h.Z,{onClick:H,children:"\u53D6\u6D88"},"cancel"),(0,i.jsx)(h.Z,{icon:(0,i.jsx)(pe.Z,{}),onClick:function(){K.hi.download("/api/repos/downloadTemplate")},children:"\u4E0B\u8F7D\u6A21\u677F"},"downloadTemplate"),(0,i.jsx)(h.Z,{icon:(0,i.jsx)(xe.Z,{}),type:"primary",loading:E,onClick:function(){if(n.length===0){m.default.error("\u8BF7\u9009\u62E9\u6587\u4EF6");return}F(!0),console.log(n),K.hi.upload("/api/repos/import",{file:n[0],repoId:b.id},function(r){}).then(function(r){F(!1),r.success?(m.default.success("\u5BFC\u5165\u6210\u529F"),B()):m.default.error(r.message)})},children:"\u5BFC\u5165"},"importTemplate")],children:(0,i.jsxs)(Be,(0,P.Z)((0,P.Z)({},t),{},{children:[(0,i.jsx)("p",{className:"ant-upload-drag-icon",children:(0,i.jsx)(Ae.Z,{})}),(0,i.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u8005\u62D6\u62FDExcel\u6587\u4EF6\u5230\u6B64\u5904"})]}))})}var De=(0,v.P)(function(){var R,b=(0,K.eM)(),H=b.repos,B=(0,j.useRef)(),Y=(0,j.useState)(),U=(0,L.Z)(Y,2),E=U[0],F=U[1],z=(0,j.useState)(),_=(0,L.Z)(z,2),n=_[0],u=_[1],t=(0,j.useState)(),l=(0,L.Z)(t,2),r=l[0],d=l[1],f=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u540D\u79F0",dataIndex:"name",ellipsis:!0,width:200},{title:"\u63CF\u8FF0",dataIndex:"description",ellipsis:!0,hideInSearch:!0,width:200},{title:"\u6807\u7B7E",dataIndex:"tag",hideInSearch:!0,width:200,render:function(o){if(o==="-")return"-";var s=["magenta","volcano","orange","blue","geekblue","purple"];return(0,i.jsx)(i.Fragment,{children:o.map(function(C,p){return(0,i.jsx)(V.Z,{color:s[p],children:C.toUpperCase()},C)})})}},{title:"\u9898\u76EE\u6570\u91CF",dataIndex:"total",search:!1,ellipsis:!0,width:200},{title:"\u64CD\u4F5C",valueType:"option",render:function(o,s){return[(0,i.jsx)("a",{onClick:function(){u({visible:!0,current:s})},children:"\u6587\u672C\u5BFC\u5165"},"importText"),(0,i.jsx)("a",{onClick:function(){F({current:s,type:"upload"})},children:"\u6A21\u677F\u5BFC\u5165"},"importExcel"),(0,i.jsx)("a",{onClick:function(){d({visible:!0,current:s})},children:"\u8BD5\u9898\u7BA1\u7406"},"questions"),(0,i.jsx)(ve.Z,{onSelect:function(p){p==="edit"&&F({current:s,type:"edit"}),p==="delete"&&a.Z.confirm({title:"\u5220\u9664\u6A21\u677F",content:(0,i.jsxs)(i.Fragment,{children:["\u786E\u5B9A\u5220\u9664\u6A21\u677F",(0,i.jsx)("span",{style:{fontWeight:"bold",margin:"0 4px"},children:s.name}),"\u5417\uFF1F"]}),okButtonProps:{danger:!0},okText:"\u5220\u9664",cancelText:"\u53D6\u6D88",onOk:function(){K.hi.deleteRepo(s.id).then(function(he){if(he.success){var Z;m.default.success("\u5220\u9664\u6210\u529F"),(Z=B.current)===null||Z===void 0||Z.reload()}})}})},menus:[{key:"edit",name:"\u7F16\u8F91"},{key:"delete",name:"\u5220\u9664"}]},"actionGroup")]}}];return(0,i.jsxs)(ce.ZP,{title:!1,children:[(0,i.jsx)(ie.ZP,{columns:f,actionRef:B,dataSource:H.list,request:function(){var c=(0,g.Z)(q().mark(function o(s){return q().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",b.loadRepos(s));case 1:case"end":return p.stop()}},o)}));return function(o){return c.apply(this,arguments)}}(),columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage"},rowKey:"id",search:{labelWidth:"auto"},pagination:{pageSize:5},scroll:{x:650},dateFormatter:"string",headerTitle:"\u9898\u5E93\u5217\u8868",toolBarRender:function(){return[(0,i.jsx)(h.Z,{icon:(0,i.jsx)(de.Z,{}),type:"primary",onClick:function(){F({type:"add"})},children:"\u65B0\u5EFA"},"button")]}}),((E==null?void 0:E.type)==="add"||(E==null?void 0:E.type)==="edit")&&(0,i.jsx)(k,{onClose:function(){F(void 0)},onOk:function(){var o;F(void 0),(o=B.current)===null||o===void 0||o.reload()},repo:E.current}),(n==null?void 0:n.visible)&&(0,i.jsx)(ne.Z,{onClose:function(){return u(void 0)},mode:"exam",title:"\u6DFB\u52A0\u8BD5\u9898",okText:"\u6DFB\u52A0",defaultContent:"",headerVisible:!1,footerVisible:!1,onOk:function(o){var s;K.hi.batchAddRepoTemplate({repoId:n.current.id,templates:((s=o.children)===null||s===void 0?void 0:s.map(function(C){return{name:C.title,mode:"exam",template:C,tag:C.tags,questionType:C.type}}))||[]}).then(function(C){if(C.success){var p;m.default.success("\u5BFC\u5165\u6210\u529F"),(p=B.current)===null||p===void 0||p.reload(),u(void 0)}})}}),(r==null?void 0:r.visible)&&(0,i.jsx)(D.Z,{title:"\u8BD5\u9898\u7BA1\u7406",visible:!0,width:"100%",onClose:function(){return d(void 0)},bodyStyle:{background:"#eff2f5"},closeIcon:!1,extra:(0,i.jsx)(y.Z,{children:(0,i.jsx)(h.Z,{onClick:function(){return d(void 0)},children:"\u5173\u95ED"})}),children:(0,i.jsx)(fe.Template,{repoId:(R=r.current)===null||R===void 0?void 0:R.id})}),(E==null?void 0:E.current)&&E.type==="upload"&&(0,i.jsx)(me,{current:E.current,onCancel:function(){return F(void 0)},onOk:function(){var o;(o=B.current)===null||o===void 0||o.reload(),F(void 0)}})]})}),Ce=De}}]);
