(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9357],{48644:function(ye,re,t){"use strict";t.d(re,{Mt:function(){return ge},hl:function(){return ae},AT:function(){return te},HN:function(){return he},we:function(){return J},x4:function(){return K},k9:function(){return de},oq:function(){return a},jI:function(){return ne}});var b=t(80937),P=t(67294),ee=t(24004),q=t(95522),C=t(87998),r=t(85893);function de(c){var u=(0,P.useContext)(ee.ZX),d=u.theme,v=u.footerVisible,F=u.headerVisible,A=c.schema,O=function(m){var x=(0,q.GZ)(d,"Survey");if(x)return P.createElement(x,{schema:A,footerVisible:v,headerVisible:F},m)},g=function(){var m,x=-1;return(m=A.children)===null||m===void 0?void 0:m.filter(function(S){var H;return((H=S.attribute)===null||H===void 0?void 0:H.display)!=="hidden"}).map(function(S){var H=S.type,Y=S.id;return(0,C.nj)(H)||x++,H==="QuestionSet"?(0,r.jsx)(J,{schema:S,index:x},Y):(0,r.jsx)(he,{schema:S,index:x},Y)})};return(0,r.jsxs)(r.Fragment,{children:[O(g()),(0,r.jsx)(b.gN,{name:"_finish"})]})}var ie=t(32059),U=t(94657),X=t(83279),M=t(11849);function je(c,u){var d,v=[],F=c.attribute;return F&&F.required&&v.push({required:!0,triggerType:"onInput",theme:u}),F&&F.answerLimit&&v.push({answerLimit:!0,schema:c}),(d=c.children)===null||d===void 0||d.forEach(function(A){v.push.apply(v,(0,X.Z)(Fe(A,c)))}),v.forEach(function(A){A.triggerType="manual"}),v}function Fe(c,u){var d,v,F,A,O=[];if((d=c.attribute)!==null&&d!==void 0&&d.dataType){var g;O.push((g={},(0,ie.Z)(g,c.attribute.dataType,!0),(0,ie.Z)(g,"schema",(0,M.Z)((0,M.Z)({},c),{},{parent:u})),g))}return(v=c.attribute)!==null&&v!==void 0&&v.required&&O.push({required:!0,schema:(0,M.Z)((0,M.Z)({},c),{},{parent:u})}),(F=c.attribute)!==null&&F!==void 0&&F.textLimit&&O.push({textLimit:!0,schema:(0,M.Z)((0,M.Z)({},c),{},{parent:u})}),(A=c.attribute)!==null&&A!==void 0&&A.scope&&O.push({scope:!0,schema:(0,M.Z)((0,M.Z)({},c),{},{parent:u})}),O}var Me=t(80705),Ve=t(15020),ae=function(u){var d=u.html,v=d===void 0?"":d;return(0,r.jsx)(r.Fragment,{children:typeof v=="string"&&(0,Ve.ZP)(v.replace(/<p>/,"<span>").replace(/<\/p>/,"</span>"))})},se=function(u){return(0,r.jsx)("div",{className:"preview",children:ve(u)})};function ve(c){var u=c.schema,d=c.value;if(!d)return"";var v;if(u.type==="Radio"||u.type==="Select")Object.entries(d).some(function(g){var Z=(0,U.Z)(g,2),m=Z[0],x=Z[1];if(x===!0){var S,H;v=(0,r.jsx)(ae,{html:(S=u.children)===null||S===void 0||(H=S.find(function(W){return W.id===m}))===null||H===void 0?void 0:H.title})}else if(x){var Y,$;v=(0,r.jsx)(ae,{html:(Y=u.children)===null||Y===void 0||($=Y.find(function(W){return W.id===m}))===null||$===void 0?void 0:$.title})}return!0});else{if(u.type==="Checkbox")return Object.entries(d).map(function(g){var Z=(0,U.Z)(g,2),m=Z[0],x=Z[1];if(x===!0){var S,H;return(0,r.jsx)(ae,{html:(S=u.children)===null||S===void 0||(H=S.find(function(W){return W.id===m}))===null||H===void 0?void 0:H.title},m)}else if(x){var Y,$;return(0,r.jsx)(ae,{html:(Y=u.children)===null||Y===void 0||($=Y.find(function(W){return W.id===m}))===null||$===void 0?void 0:$.title},m)}}).reduce(function(g,Z){return[g,", ",Z]});if(u.type==="Cascader"){var F=u.children.map(function(g){return g.id}),A=F.map(function(g){return d[g]}),O=u.dataSource;return A.filter(function(g){return g!==void 0}).map(function(g,Z){var m,x=(m=O)===null||m===void 0?void 0:m.find(function(S){return S.value===g});return O=x.children,(0,r.jsx)("span",{children:x.label},F[Z])})}else if(u.type==="FillBlank"||u.type==="MultipleBlank"||u.type==="Textarea"||u.type==="Score"||u.type==="Nps")return Object.entries(d).map(function(g){var Z=(0,U.Z)(g,2),m=Z[0],x=Z[1];return(0,r.jsx)("span",{children:x},m)})}return v}var Ee=t(54531),he=(0,b.Pi)(function(u){var d,v=u.schema,F=u.index,A=u.qsIndex,O=v.id,g=v.type,Z=(0,P.useContext)(ee.ZX),m=Z.theme,x=Z.optionTypes,S=Z.id2title,H=Z.schema,Y=(0,b.cI)(),$=(0,P.useMemo)(function(){return(0,C.cB)(v,"calculate")},[]),W=(0,P.useRef)(),fe=(0,P.useMemo)(function(){var y;return(0,b.$j)((0,q.I8)(m,g),(0,b.jM)(function(j,D){return(0,M.Z)((0,M.Z)({},j),{},{onChange:function(E){function Q(){D.selfErrors.length>0&&D.validate().catch(function(){})}if(!j.readOnly){if((0,Me.xb)(E)){D.onInput(void 0),Q();return}if(g.startsWith("Matrix")&&(0,C.hb)(E)){Q(),D.onInput(void 0);return}E&&Object.keys(E).forEach(function(N){E[N]===void 0&&(E[N]="")}),D.onInput(E),Q()}}})}),(0,b.vl)(((y=(0,q.I8)(m,g))===null||y===void 0?void 0:y.Preview)||se))},[m,g]),oe=(0,P.useCallback)(function(y){return(0,r.jsx)("div",{tabIndex:-1,onBlur:y==null?void 0:y.onBlur,"data-id":y.schema.id,children:P.createElement((0,q.GZ)(m,"Question"),y)})},[m]),He=(0,P.useMemo)(function(){return(0,b.$j)(oe,(0,b.jM)(function(y,j){return(0,M.Z)((0,M.Z)({},y),{},{error:j.selfErrors.length?(0,X.Z)(j.selfErrors):[],warning:j.selfWarnings.length?j.selfWarnings:[],onBlur:function(){return j.onBlur.apply(j,arguments)},required:j.required})}))},[oe]),Le=(0,P.useMemo)(function(){return(0,b.$j)((0,q.I8)(m,g),(0,b.jM)(function(y,j){return(0,M.Z)({},y)}))},[m,g]);return(0,C.nj)(v.type)?(0,r.jsx)(b.jG,{name:O,component:[Le,{schema:v,controlShow:void 0}],reactions:[function(y){var j,D=(j=v.attribute)===null||j===void 0?void 0:j.replaceTextRule;if(D){var B=(0,C.vW)(D,function(Q){var N=(0,C.Op)(Q),L=(0,U.Z)(N,1),V=L[0],T=y.query(V).get("value");return(0,C.d0)(x,T,Q,S)}),E="";B.success&&B.result&&(E=B.result),y.setComponentProps((0,M.Z)((0,M.Z)({},y.componentProps),{},{replaceTitle:E}))}}]}):(0,r.jsx)(b.gN,{name:O,display:(d=v.attribute)===null||d===void 0?void 0:d.display,component:[fe,{schema:v,controlShow:void 0}],decorator:[He,{schema:v,index:F,qsIndex:A}],validator:je(v,m),reactions:[function(y){Object.entries($).forEach(function(j){var D=(0,U.Z)(j,2),B=D[0],E=D[1],Q=E,N=(0,C.vW)(Q,function(L){var V=(0,C.Op)(L),T=(0,U.Z)(V,2),me=T[0],ce=T[1],pe=y.query(me).get("value");return(0,C.d0)(x,pe,L)});N.success&&y.setState(function(L){var V;return L.value=(0,M.Z)((0,M.Z)({},L.value),{},(0,ie.Z)({},B,(0,C.A7)(N.result,(V=v.children)===null||V===void 0?void 0:V.find(function(T){return T.id===B}))))})})},function(y){var j,D=(j=v.attribute)===null||j===void 0?void 0:j.visibleRule;if(D){var B=(0,C.vW)(D,function(N){var L=(0,C.Op)(N),V=(0,U.Z)(L,2),T=V[0],me=V[1],ce=y.query(T).get("value");return(0,C.d0)(x,ce,N)});if(B.success){var E;B.result?y.display="visible":y.display="none";var Q=1;(E=H.children)===null||E===void 0||E.filter(function(N){return!(0,C.nj)(N.type)}).forEach(function(N){var L=N.id,V=y.query(L).get("display");if(V==="visible"){var T=Y.query(L).take();T&&(T.setDecoratorProps((0,M.Z)((0,M.Z)({},T.decoratorProps),{},{seqNo:Q})),Q++);var me=1;if(N.type==="QuestionSet"){var ce;(ce=N.children)===null||ce===void 0||ce.filter(function(pe){return!(0,C.nj)(pe.type)}).forEach(function(pe){var Re=pe.id,Qe=y.query(Re).get("display");if(Qe==="visible"){var Ne=Y.query(Re).take();Ne&&(Ne.setDecoratorProps((0,M.Z)((0,M.Z)({},Ne.decoratorProps),{},{seqNo:me})),me++)}})}}})}}},function(y){var j,D=(j=v.attribute)===null||j===void 0?void 0:j.requiredRule;if(D){var B=(0,C.vW)(D,function(E){var Q=(0,C.Op)(E),N=(0,U.Z)(Q,2),L=N[0],V=N[1],T=y.query(L).get("value");return(0,C.d0)(x,T,E)});B.success&&(B.result?y.required=!0:y.required=!1)}},function(y){var j,D=(j=v.attribute)===null||j===void 0?void 0:j.replaceTextRule;if(D){var B=(0,C.vW)(D,function(Q){var N=(0,C.Op)(Q),L=(0,U.Z)(N,1),V=L[0],T=y.query(V).get("value");return(0,C.d0)(x,T,Q,S)}),E="";B.success&&B.result&&(E=B.result),y.setDecoratorProps((0,M.Z)((0,M.Z)({},y.decoratorProps),{},{replaceTitle:E}))}},function(y){var j,D=(j=v.attribute)===null||j===void 0?void 0:j.validateRule;if(D){var B=(0,C.vW)(D,function(E){var Q=(0,C.Op)(E),N=(0,U.Z)(Q,1),L=N[0],V=y.query(L).get("value");return(0,C.d0)(x,V,E,S)});B.success&&(B.result?y.setSelfErrors([B.result]):y.setSelfErrors([]))}},function(y){var j,D=(j=v.children)===null||j===void 0?void 0:j.filter(function(V){var T;return(T=V.attribute)===null||T===void 0?void 0:T.rejectOtherOption});if(D&&D.length>0){var B=y.value,E=be(W.current,B);if(E){var Q,N,L=(Q=v.children)===null||Q===void 0?void 0:Q.find(function(V){return V.id===E});L&&(N=L.attribute)!==null&&N!==void 0&&N.rejectOtherOption?L.attribute.rejectOtherOption==="rejectAll"?B=(0,ie.Z)({},E,B[E]):L.attribute.rejectOtherOption==="rejectOther"&&D.forEach(function(V){V&&V.id!==E&&delete B[V.id]}):D.filter(function(V){var T;return((T=V.attribute)===null||T===void 0?void 0:T.rejectOtherOption)==="rejectAll"}).forEach(function(V){V&&V.id!==E&&delete B[V.id]}),y.setState(function(V){return V.value=(0,M.Z)({},B)})}W.current=(0,Ee.ZN)(B)}}]})});function be(c,u){if(u){var d=Object.keys(u).filter(function(v){return!(c&&c.hasOwnProperty(v))});if(d.length>0)return d[0]}}function J(c){var u=c.schema,d=c.index,v=u.id,F=(0,P.useContext)(ee.ZX),A=F.theme,O=function(){var Z;return(Z=u.children)===null||Z===void 0?void 0:Z.filter(function(m){var x;return((x=m.attribute)===null||x===void 0?void 0:x.display)!=="hidden"}).map(function(m,x){return m.type==="QuestionSet"?(0,r.jsx)(J,{schema:m,index:x},m.id):(0,r.jsx)(he,{schema:m,index:x,qsIndex:d},m.id)})};return(0,r.jsx)(b.jG,{name:v,decorator:[(0,q.GZ)(A,"QuestionSet"),{schema:u,index:d}],children:O()})}var _=function(u){var d=u.progress,v=d===void 0?0:d;return _jsx("div",{className:"progress-bar",style:{width:"".concat(v*100,"%")}})},Ce=t(16165),Ze=function(){return(0,r.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"150",height:"150",children:[(0,r.jsx)("path",{d:"M0 0h1024v1024H0z",fill:"#FFFFFF","p-id":"44112"}),(0,r.jsx)("path",{d:"M160 73.426667h83.173333V0h98.266667v155.010667h75.6v179.485333h37.813333V163.168h22.666667v-40.8h68.053333v24.474667h30.24v342.666666h60.48V40.8h45.36v236.586667h22.666667V179.485333h45.36V16.317333H893.333333V824H160V73.426667z",fill:"#DDEEFF",opacity:".4","p-id":"44113"}),(0,r.jsx)("path",{d:"M362.693333 741.416l635.866667 95.584L689.893333 997.333333 24 852.36z",fill:"#DFE7F7","p-id":"44114"}),(0,r.jsx)("path",{d:"M1002.64 813.370667l-307.6 160.322666-665.893333-144.970666-0.826667-2.629334v-8.213333l20.586667 2.666667v1.701333l318.933333-104.469333 614.213333 92.48v-5.101334H1002.666667v8.213334h-0.026667z",fill:"#5AA12E","p-id":"44115"}),(0,r.jsx)("path",{d:"M1002.64 805.157333l-308.64 160.314667-665.653333-144.92h-0.026667l-0.213333-0.04 0.213333-0.064v-8.104l17.733333 2.296 320.746667-105.066667 615.253333 92.488v-5.098666H1002.666667v8.213333h-0.026667z",fill:"#93C110","p-id":"44116"}),(0,r.jsx)("path",{d:"M366.8 701.333333L1002.666667 796.917333l-308.666667 160.333334L28.106667 812.266667z",fill:"#EEF2F5","p-id":"44117"}),(0,r.jsx)("path",{d:"M629.333333 809.333333a138.666667 6.666667 0 1 0 277.333334 0 138.666667 6.666667 0 1 0-277.333334 0Z",fill:"#E3E7EA","p-id":"44118"}),(0,r.jsx)("path",{d:"M162.666667 773.333333a152 13.333333 0 1 0 304 0 152 13.333333 0 1 0-304 0Z",fill:"#E3E7EA","p-id":"44119"}),(0,r.jsx)("path",{d:"M922.666667 610.666667h-64v170.666666h53.333333a13.333333 13.333333 0 0 1 0 26.666667h-181.333333a13.333333 13.333333 0 0 1 0-26.666667h58.666666v-144h-26.666666a10.666667 10.666667 0 0 1-10.666667-10.666666v-16h-117.333333v82.666666a8 8 0 0 1-16 0v-82.666666h-5.333334a10.666667 10.666667 0 0 1-10.666666-10.666667v-2.666667l48-50.666666h4.48a7.658667 7.658667 0 0 1 1.573333-0.968l187.093333-83.381334a10.4 10.4 0 0 1 14.773334 6.208l72.453333 81.178667a8.066667 8.066667 0 0 1 2.08 5.461333 11.581333 11.581333 0 0 1 0.213333 2.168v42.666667a10.666667 10.666667 0 0 1-10.666666 10.666667z m-272-42.666667l-26.666667 29.333333h26.666667v-29.333333z m117.333333 53.333333h66.666667v-58.666666h-29.333334l-37.333333 37.333333v21.333333z m-16-24l37.333333-37.333333h-37.333333v37.333333z m-45.333333 0h21.333333v-37.333333h-21.333333v37.333333z m-18.666667-37.333333h-21.333333v37.333333h21.333333v-37.333333z m5.84-13.333333h96.693333a9.224 9.224 0 0 1 0.693334-1.6l32.506666-56.290667zM842.666667 487.976L808.773333 546.666667H842.666667v-58.690667zM845.333333 648h-42.666666v26.666667h42.666666v-26.666667z m0 37.333333h-42.666666v42.666667h42.666666v-42.666667z m0 53.333334h-42.666666v42.666666h42.666666v-42.666666z m13.333334-141.333334h21.333333v-37.333333h-21.333333v37.333333z m0-104.690666V546.666667h48.213333zM917.333333 560h-21.333333v37.333333h21.333333v-37.333333z",fill:"#8BC8FF","p-id":"44120"}),(0,r.jsx)("path",{d:"M592 709.333333h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H514.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H592a8 8 0 0 1 0 16z",fill:"#DFF0FF","p-id":"44121"}),(0,r.jsx)("path",{d:"M936 298.666667h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205334 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H858.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205334H936a8 8 0 0 1 0 16z",fill:"#C3E2FF","p-id":"44122"}),(0,r.jsx)("path",{d:"M104 408H45.333333a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205334H26.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205334 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H104a8 8 0 0 1 0 16z",fill:"#DCEEFF","p-id":"44123"}),(0,r.jsx)("path",{d:"M309.333333 522.666667m-245.333333 0a245.333333 245.333333 0 1 0 490.666667 0 245.333333 245.333333 0 1 0-490.666667 0Z",fill:"#FFCC6C","p-id":"44124"}),(0,r.jsx)("path",{d:"M296 730.666667a245.389333 245.389333 0 0 0 237.013333-308.746667 245.333333 245.333333 0 1 1-460.693333 164.16A245.333333 245.333333 0 0 0 296 730.666667z",fill:"#F3B72C","p-id":"44125"}),(0,r.jsx)("path",{d:"M338.666667 464m-50.666667 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#E49817","p-id":"44126"}),(0,r.jsx)("path",{d:"M333.333333 456m-50.666666 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#FFFFFF","p-id":"44127"}),(0,r.jsx)("path",{d:"M303.333333 603.2a37.085333 37.085333 0 1 1-38 37.066667 37.544 37.544 0 0 1 38-37.066667z",fill:"#E49817","p-id":"44128"}),(0,r.jsx)("path",{d:"M299.333333 597.333333A37.085333 37.085333 0 1 1 261.333333 634.4a37.544 37.544 0 0 1 38-37.066667z",fill:"#FFFFFF","p-id":"44129"}),(0,r.jsx)("path",{d:"M182.786667 554.125333m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#E49817","p-id":"44130"}),(0,r.jsx)("path",{d:"M179.88 549.874667m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#FFFFFF","p-id":"44131"}),(0,r.jsx)("path",{d:"M251.733333 320.424a19.794667 19.794667 0 1 1-20.266666 19.789333 20.026667 20.026667 0 0 1 20.266666-19.789333z",fill:"#E49817","p-id":"44132"}),(0,r.jsx)("path",{d:"M249.6 317.333333a19.794667 19.794667 0 1 1-20.266667 19.786667 20.026667 20.026667 0 0 1 20.266667-19.786667z",fill:"#FFFFFF","p-id":"44133"}),(0,r.jsx)("path",{d:"M426.04 365.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44134"}),(0,r.jsx)("path",{d:"M419.293333 357.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44135"}),(0,r.jsx)("path",{d:"M466.04 589.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44136"}),(0,r.jsx)("path",{d:"M459.293333 581.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44137"}),(0,r.jsx)("path",{d:"M490.666667 860a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44138"}),(0,r.jsx)("path",{d:"M480 801.333333a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44139"}),(0,r.jsx)("path",{d:"M526.453333 597.12a48.968 48.968 0 0 0-4.586666-4.722667c55.493333-36.413333 83.466667-80.64 68.986666-121.04-8.746667-24.416-31.866667-44.266667-64.773333-58.512-0.346667-0.984-0.666667-1.970667-1.12-2.946666a40.712 40.712 0 0 0-3.12-5.410667c39.093333 15.2 66.72 37.432 76.72 65.333333 15.306667 42.656-14.026667 89.253333-72.106667 127.298667zM573.333333 856v5.333333s-135.84 11.306667-109.333333-136c19.866667-100.330667-32.586667-80.72-41.386667-80.112 0 0 0 0.016 0.026667 0.026667a595.552 595.552 0 0 1-66.4 17.274667c-160.48 32.136-312.186667-2.04-338.8-76.336-13.413333-37.413333 7.466667-77.866667 51.973333-112.904a31.802667 31.802667 0 0 0 0.293334 7.485333c0.053333 0.24 0.133333 0.464 0.186666 0.701333-39.04 32.48-56.933333 69.181333-44.746666 103.173334 25.493333 71.109333 172.8 103.397333 329.013333 72.114666a589.661333 589.661333 0 0 0 64.533333-16.714666L418.666667 640s72.826667-26.768 50.666666 80c-17.92 86.293333 13.146667 138.845333 104 136z",fill:"#FFE1A9","p-id":"44140"}),(0,r.jsx)("path",{d:"M512 884a74.666667 6.666667 0 1 0 149.333333 0 74.666667 6.666667 0 1 0-149.333333 0Z",fill:"#E3E7EA","p-id":"44141"}),(0,r.jsx)("path",{d:"M608.453333 802.666667h20.426667l17.093333 75.917333h-54.613333z m-6.88 15.165333h34.186667v6.752h-34.186667v-6.752z m-5.066666 16.917333h44.32v6.749334h-44.32v-6.749334z m-5.173334 21.917334h54.666667v6.749333h-54.666667v-6.749333z m-11.946666 21.917333h78.56a3.381333 3.381333 0 0 1 3.386666 3.373333 3.384 3.384 0 0 1-3.386666 3.373334h-78.56a3.384 3.384 0 0 1-3.386667-3.373334 3.381333 3.381333 0 0 1 3.386667-3.373333z",fill:"#F9A303","p-id":"44142"}),(0,r.jsx)("path",{d:"M768 838.666667a58.666667 6.666667 0 1 0 117.333333 0 58.666667 6.666667 0 1 0-117.333333 0Z",fill:"#E3E7EA","p-id":"44143"}),(0,r.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 0 5.333333-5v-70a5.181333 5.181333 0 0 0-5.333333-5v80z",fill:"#845C45","p-id":"44144"}),(0,r.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 1-5.333333-5v-70a5.181333 5.181333 0 0 1 5.333333-5v80z",fill:"#BA805A","p-id":"44145"}),(0,r.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 0 0-90.666667v90.666667z",fill:"#628A21","p-id":"44146"}),(0,r.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 1 0-90.666667v90.666667z",fill:"#6EA52E","p-id":"44147"}),(0,r.jsx)("path",{d:"M568 786.778667l-1.946667 6.824a1.130667 1.130667 0 0 1-1.173333 0.773333l-4.16-0.349333a19.581333 19.581333 0 0 1-18.88 8.477333l-13.093333-1.664 0.026666-0.04a3.733333 3.733333 0 0 1-0.986666-0.397333c-2.586667-1.504-3.706667-5.986667-3.306667-11.509334l-7.146667-1.816a3.408 3.408 0 0 1-2.56-4.173333 3.656 3.656 0 0 1 4.426667-2.4l6.453333 1.642667c0.293333-1.066667 0.613333-2.154667 1.013334-3.237334 0.213333-0.621333 0.453333-1.221333 0.693333-1.810666l-7.626667-1.938667a3.410667 3.410667 0 0 1-2.56-4.176 3.653333 3.653333 0 0 1 4.426667-2.4l9.12 2.317333a11.101333 11.101333 0 0 1 7.306667-5.472V765.333333l8.906666 1.136a18.562667 18.562667 0 0 1 16.613334 17.386667l3.813333 1.685333a1.066667 1.066667 0 0 1 0.64 1.237334z m-26.693333-20.149334c-2.693333-1.52-6.24 0.429333-9.306667 4.578667l4.08 1.032a3.392 3.392 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-5.68-1.437333c-0.24 0.573333-0.48 1.16-0.693333 1.765333q-0.6 1.642667-1.04 3.274667l6.88 1.744a3.389333 3.389333 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-6.133333-1.557333c-0.32 5.184 0.853333 9.368 3.386667 10.805333 4.053333 2.298667 10.08-3.309333 13.44-12.533333s2.853333-18.52-1.2-20.818667z",fill:"#FF6767","p-id":"44148"}),(0,r.jsx)("path",{d:"M578.666667 789.333333s194 0.666667 98.666666 64l-2.666666-2.666666s100.826667-53-98.666667-58.666667z",fill:"#FFE1A9","p-id":"44149"})]})},te=function(u){return(0,r.jsx)(Ce.Z,(0,M.Z)({component:Ze},u))},De=t(27484),w=t.n(De),le=t(75977),Be=t(45418),Se=t(62713),Te=t(33852),k=t(10285),ue=t.n(k),I=t(6833),Pe=t.n(I),ze=t(96036),Ae=t.n(ze);w().locale("zh-cn"),w().extend(Pe()),w().extend(ue()),w().extend(Ae());var ge=(0,Be.default)((0,M.Z)({},le.Z)),xe=ge,ne=P.forwardRef(function(c,u){return(0,r.jsx)(xe,(0,M.Z)((0,M.Z)({},c),{},{picker:"time",mode:void 0,ref:u}))});ne.displayName="TimePicker";var Oe=null,Ie=t(57663),e=t(71577),n=t(49914),a=(0,b.Pi)(function(){var c,u=(0,n.H)(),d=((c=u.savedAnswer)===null||c===void 0?void 0:c.progress)||0;return(0,r.jsx)("div",{className:"temp-confirm",children:(0,r.jsxs)("div",{className:"temp-confirm-cont",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("svg",{t:"1647102518492",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4235",width:"128",height:"128",children:[(0,r.jsx)("path",{d:"M876.88894187 362.30785921v463.42517333c0 23.4826304-19.07152853 42.6838976-42.55415894 42.6838976-23.61236907 0-42.6838976-19.07152853-42.6838976-42.6838976V362.30785921h85.23805654z",fill:"#CCCBCA","p-id":"4236","data-spm-anchor-id":"a313x.7781069.0.i0",className:"selected"}),(0,r.jsx)("path",{d:"M791.52114667 825.86277121V235.68328748l-103.27167894-103.27167894H146.98132053v693.45116267c0 10.898016 4.1516256 21.79603307 12.45487574 30.0992832 8.30325013 8.30325013 19.3310048 12.45487573 30.0992832 12.45487573H834.20504427c-23.4826304 0.12973867-42.6838976-19.07152853-42.6838976-42.55415893z",fill:"#FFFFFF","p-id":"4237","data-spm-anchor-id":"a313x.7781069.0.i1",className:"selected"}),(0,r.jsx)("path",{d:"M210.81255893 544.97937174h246.502752v11.4169696h-246.502752zM210.81255893 581.95478508h246.502752v11.28723093h-246.502752zM210.81255893 618.93019734h246.502752v11.4169696h-246.502752zM210.81255893 655.90561068h246.502752v11.4169696h-246.502752zM210.81255893 692.88102294h246.502752v11.4169696h-246.502752zM210.81255893 729.85643628h246.502752v11.4169696h-246.502752zM210.81255893 766.83184854h246.502752v11.4169696h-246.502752z",fill:"#CCCBCA","p-id":"4238"}),(0,r.jsx)("path",{d:"M210.81255893 397.07772054h246.502752V519.42092908h-246.502752z",fill:"#516575","p-id":"4239"}),(0,r.jsx)("path",{d:"M482.8737536 397.07772054h246.63249067v11.4169696H482.8737536zM482.8737536 434.05313388h246.63249067v11.4169696H482.8737536zM482.8737536 471.02854614h246.63249067v11.4169696H482.8737536zM482.8737536 508.00395948h246.63249067v11.4169696H482.8737536zM482.8737536 544.97937174h246.63249067v11.4169696H482.8737536zM482.8737536 581.95478508h246.63249067v11.28723093H482.8737536zM482.8737536 618.93019734h246.63249067v11.4169696H482.8737536zM482.8737536 655.90561068h246.63249067v122.34320746H482.8737536z",fill:"#CCCBCA","p-id":"4240","data-spm-anchor-id":"a313x.7781069.0.i5",className:"selected"}),(0,r.jsx)("path",{d:"M494.1609856 685.87515521h24.00158293V767.22106348h-24.00158293zM527.50372587 732.84041601H551.3755712V767.22106348h-23.87184533zM560.84646613 695.86500374h24.001584v71.35605974h-24.001584zM594.18920747 709.74700054h24.00158293V767.22106348H594.18920747zM627.53194773 675.10687681h24.001584v92.11418667h-24.001584zM660.874688 751.39299201h23.87184533V767.22106348h-23.87184533zM694.21742933 692.88102294h24.00158294V767.22106348h-24.00158294z",fill:"#FFFFFF","p-id":"4241"}),(0,r.jsx)("path",{d:"M209.1259616 245.54339841h520.250544v76.15637547h-520.250544z",fill:"#EC6C3F","p-id":"4242"}),(0,r.jsx)("path",{d:"M209.1259616 344.27423681h520.250544v7.1356064h-520.250544zM209.1259616 215.96306774h520.250544v7.1356064h-520.250544z",fill:"#2B4456","p-id":"4243"}),(0,r.jsx)("path",{d:"M791.52114667 235.68328748h-103.27167894v-103.27167894z",fill:"#CCCBCA","p-id":"4244"})]})}),(0,r.jsxs)("h4",{className:"confirm-title",children:[(0,r.jsx)("span",{children:"\u4E4B\u524D\u7684\u586B\u5199\u8FDB\u5EA6\u4E3A"}),(d*100).toFixed(0),"%",(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"\u662F\u5426\u7EE7\u7EED\u4E0A\u6B21\u586B\u5199\uFF1F"})]}),(0,r.jsxs)("div",{className:"confirm-btn-group",children:[(0,r.jsx)(e.Z,{type:"primary",block:!0,onClick:function(){u.confirmTempAnswerType=2},children:"\u7EE7\u7EED\u586B\u5199"}),(0,r.jsx)(e.Z,{block:!0,style:{marginTop:15},onClick:function(){u.confirmTempAnswerType=3},children:"\u91CD\u65B0\u586B\u5199"})]})]})})}),i=t(34792),s=t(48086),l=t(47673),o=t(4107),h=t(49111),f=t(19650),p=t(36602),z=t(27400),R=t(74855),G=t(73727),K=(0,b.Pi)(function(){var c,u,d=(0,n.H)(),v=(0,z.a)(),F=d.success,A=(c=d.setting)===null||c===void 0?void 0:c.submittedSetting,O=(u=d.setting)===null||u===void 0?void 0:u.answerSetting.loginRequired,g=A||{},Z=g.contentHtml,m=g.redirectUrl,x=d.answerUrl,S=d.answerQrCodeUrl,H=d.answerView,Y=d.values;return(0,P.useEffect)(function(){m&&Y&&(window.location.href=(0,C.Q8)(m,Y))},[m,Y]),F?(0,r.jsx)("div",{className:"survey-end animated",children:(0,r.jsxs)("div",{className:"survey-end-content",children:[(0,r.jsx)("h3",{className:"survey-end-title ",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(ae,{html:Z||"\u95EE\u5377\u5230\u6B64\u7ED3\u675F\uFF0C\u611F\u8C22\u60A8\u7684\u53C2\u4E0E\uFF01"}),(0,r.jsx)("div",{children:(H==null?void 0:H.examScore)!==void 0?(0,r.jsxs)("span",{children:["\u4F60\u7684\u5F97\u5206\u662F",H.examScore,"\u5206"]}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)("div",{children:O&&(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(G.rU,{to:"/",children:(0,r.jsx)(e.Z,{type:"link",onClick:function(){},children:"\u8FD4\u56DE\u9996\u9875"})}),(0,r.jsx)(e.Z,{type:"link",onClick:function(){v.logout(),(0,p.on)()},children:"\u9000\u51FA\u5173\u95ED"})]})})]})}),x&&(0,r.jsxs)("div",{className:"survey-end-result",children:[(0,r.jsx)("div",{style:{border:"1px solid #e1e7f2",borderRadius:3,boxShadow:"0px 3px 8px 0px rgb(224 229 236 / 40%)",width:100,height:100},children:(0,r.jsx)("img",{src:S,height:95,width:95})}),(0,r.jsxs)(o.Z.Group,{compact:!0,className:"survey-end-result-copy",children:[(0,r.jsx)(o.Z,{defaultValue:x,style:{width:300,background:"#f6f6f6",border:"1px solid #e1e7f2"}}),(0,r.jsx)(R.CopyToClipboard,{text:x,onCopy:function(){return s.default.success("\u590D\u5236\u6210\u529F")},children:(0,r.jsx)(e.Z,{children:"\u590D\u5236"})})]}),(0,r.jsx)("span",{className:"survey-end-result-tip",children:"\u957F\u6309\u4FDD\u5B58\u4E8C\u7EF4\u7801\u6216\u8005\u590D\u5236\u94FE\u63A5\u53EF\u4EE5\u4FEE\u6539\u7B54\u6848"})]})]})}):(0,r.jsx)(r.Fragment,{})})},49914:function(ye,re,t){"use strict";t.d(re,{H:function(){return ee}});var b=t(67294),P=t(87998);function ee(){return(0,b.useContext)(P.ff)}},19357:function(ye,re,t){"use strict";t.d(re,{O:function(){return Oe},Z:function(){return Ie}});var b=t(67294),P=t(80937),ee=t(48644),q=t(24004),C=t(95522),r=t(94657),de=t(80705),ie=t(99439),U=t(27484),X=t.n(U),M=t(66607),je=t.n(M);X().extend(je()),Number.prototype.isBetween=function(n,a,i){var s=this,l=parseFloat(n);isNaN(l)&&(l=-99999);var o=parseFloat(a);return isNaN(o)&&(o=99999),!(s>o||s<l||i[0]==="("&&l==s||i[1]===")"&&o==s)};function Fe(e,n){var a=ve(e),i=Number(n);return i.isBetween(e.substring(1,e.indexOf(",")),e.substring(e.indexOf(",")+1,e.length-1),a)}function Me(e,n){if(!n)return!0;var a=X()(n),i=se(e.substring(1,e.indexOf(",")),!0),s=se(e.substring(e.indexOf(",")+1,e.length-1),!1),l=ve(e);return a.isBetween(i,s,null,l)}function Ve(e,n){if(!n)return!0;var a=X()(n),i=se(e.substring(1,e.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),s=se(e.substring(e.indexOf(",")+1,e.length-1),!1,"YYYY-MM-DD hh:mm:ss"),l=ve(e);return a.isBetween(i,s,null,l)}function ae(e,n){if(!n)return!0;var a="2018-02-08 ",i=X()(a+n),s=se(a+e.substring(1,e.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),l=se(a+e.substring(e.indexOf(",")+1,e.length-1),!1,"YYYY-MM-DD hh:mm:ss"),o=ve(e);return i.isBetween(s,l,null,o)}function se(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY-MM-DD",i,s=X()(X()().format(a));return e==="undefined"?n?i=X()("1900-01-01"):i=X()("2999-01-01"):e.indexOf("T")!==-1?e==="T"?i=s:/T-\d+/.test(e)?i=s.subtract(parseInt(e.match(/\d+/)[0]),"days"):/T\+\d+/.test(e)&&(i=s.add(parseInt(e.match(/\d+/)[0]),"days")):/\d+-\d+-\d+/.test(e)&&(i=X()(e)),i}function ve(e){var n=e[0],a=e[e.length-1],i="".concat(n).concat(a);return i}function Ee(e,n){var a,i=n.id,s=[];if((a=n.parent)!==null&&a!==void 0&&a.type.startsWith("Matrix"))if(n.parent.type==="MatrixAuto"&&Array.isArray(e))e.forEach(function(f,p){s.push(["".concat(p,"-").concat(i),f[n.id]])});else{var l;(l=n.parent.row)===null||l===void 0||l.forEach(function(f){e[f.id]?s.push(["".concat(f.id,"-").concat(i),e[f.id][n.id]]):s.push(["".concat(f.id,"-").concat(i),void 0])})}else{var o,h=(o=n.parent)===null||o===void 0?void 0:o.type;h==="Radio"||h==="Checkbox"?Object.keys(e).includes(n.id)&&s.push([n.id,e[n.id]]):s.push([n.id,e[n.id]])}return s}function he(e){return!isNaN(parseFloat(e))&&isFinite(e)}function be(e){return!!(he(e)&&Number.isInteger(parseFloat(e)))}function J(e){var n=e.errMsg,a=e.schema,i=e.regEx,s=e.value;return a?_({schema:a,value:s,errMsg:n,isValid:function(o){return o?i.test("".concat(o)):!0}}):null}function _(e){var n=e.value,a=e.schema,i=e.isValid,s=e.errMsg;return!a||n==null?null:Ee(n,a).map(function(l){var o=(0,r.Z)(l,2),h=o[0],f=o[1];return i(f)?null:"".concat(h,"^").concat(s)}).filter(function(l){return l})[0]}(0,ie.au)({required:function(n,a){var i=a.schema,s=a.theme;return a&&a.required===!1?null:(0,de.xb)(n)||typeof n=="object"&&Object.keys(n).length===0?s==="antdForm"?"\u8BF7\u8F93\u5165":"\u8FD9\u9053\u9898\u672A\u56DE\u7B54":_({schema:i,value:n,errMsg:"\u8FD9\u4E2A\u9009\u9879\u672A\u56DE\u7B54",isValid:function(o){return!(0,de.xb)(o)}})},answerLimit:function(n,a){var i,s=a.schema,l=s==null||(i=s.attribute)===null||i===void 0?void 0:i.answerLimit;if(!l)return null;var o=l.slice(1,l.length-1).split(","),h=parseInt(o[0]||"0"),f=parseInt(o[1]||"0"),p=Object.keys(n||{}).length;return n&&(p<h&&h!==0||p>f&&f!==0)?h===0?"\u6700\u591A\u9009\u62E9".concat(f,"\u9879"):f===0?"\u6700\u5C11\u9009\u62E9".concat(h,"\u9879"):"\u6700\u5C11\u9009\u62E9".concat(h,"\u9879,\u6700\u591A\u9009\u62E9").concat(f,"\u9879"):null},number:function(n,a){var i,s=a.schema,l=s==null||(i=s.attribute)===null||i===void 0?void 0:i.numericScale;if(!s)return null;var o="\u8BF7\u8F93\u5165\u6570\u5B57";return l===0?o="\u8BF7\u8F93\u5165\u6574\u6570":l&&l>0&&(o="\u8BF7\u4FDD\u7559".concat(l,"\u4F4D\u5C0F\u6570")),_({errMsg:o,schema:s,value:n,isValid:function(f){return!(f!==void 0&&(!he(f)||l===0&&!be(f)||l!==void 0&&l>0&&("".concat(f).split(".")[1]||"").length>l))}})},date:function(n,a){var i=a.schema;return J({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F",schema:i,regEx:/^(?:(?:1[6-9]|[2-9][0-9])[0-9]{2}([-/.]?)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:(?:1[6-9]|[2-9][0-9])(?:0[48]|[2468][048]|[13579][26])|(?:16|[2468][048]|[3579][26])00)([-/.]?)0?2\2(?:29))(\s+([01][0-9]:|2[0-3]:)?[0-5][0-9]:[0-5][0-9])?$/,value:n})},dateTime:function(n,a){var i=a.schema;return J({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F\u65F6\u95F4",schema:i,regEx:/^\d{4}[-]([0][1-9]|(1[0-2]))[-]([1-9]|([012]\d)|(3[01]))\s(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:n})},time:function(n,a){var i=a.schema;return J({errMsg:"\u8BF7\u8F93\u5165\u65F6\u95F4",schema:i,regEx:/^(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:n})},mobile:function(n,a){var i=a.schema;return J({errMsg:"\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E",schema:i,regEx:/^1([358][0-9]|4[579]|66|7[01235678]|9[189])[0-9]{8}$/,value:n})},decimal:function(n,a){var i=a.schema;return J({errMsg:"\u8BF7\u8F93\u5165\u6570\u5B57",schema:i,regEx:/^[+-]?\d+(\.\d+)?$/,value:n})},email:function(n,a){var i=a.schema;return J({errMsg:"\u90AE\u4EF6\u683C\u5F0F\u4E0D\u6B63\u786E",schema:i,regEx:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,value:n})},idCard:function(n,a){var i=a.schema;return _({errMsg:"\u8EAB\u4EFD\u8BC1\u683C\u5F0F\u4E0D\u6B63\u786E",schema:i,value:n,isValid:function(l){return!(l&&!Ze("".concat(l)))}})},chinese:function(n,a){var i=a.schema;return J({errMsg:"\u8BF7\u8F93\u5165\u6C49\u5B57",schema:i,regEx:/^[\u4e00-\u9fa5]+$/,value:n})},alphabet:function(n,a){var i=a.schema;return J({errMsg:"\u8BF7\u8F93\u5165\u5B57\u6BCD",schema:i,regEx:/^[a-zA-Z]+$/,value:n})},textLimit:function(n,a){var i,s=a.schema,l=s==null||(i=s.attribute)===null||i===void 0?void 0:i.textLimit;if(!l)return null;var o=l.slice(1,l.length-1).split(","),h=parseInt(o[0]||"0"),f=parseInt(o[1]||"0");if(h===0&&f===0)return null;var p=_({errMsg:h!==f?"\u8BF7\u8F93\u5165".concat(h,"~").concat(f,"\u4E2A\u5B57"):"\u8BF7\u8F93\u5165".concat(h,"\u4E2A\u5B57"),schema:s,value:n,isValid:function(R){return!(R&&("".concat(R).length<h||"".concat(R).length>f))}});return p},scope:function(n,a){var i,s,l=a.schema,o=l==null||(i=l.attribute)===null||i===void 0?void 0:i.scope,h=l==null||(s=l.attribute)===null||s===void 0?void 0:s.dataType;if(o&&h){if(h==="number")return _({errMsg:"\u6570\u503C\u8303\u56F4\u4E0D\u6B63\u786E ".concat(o),schema:l,value:n,isValid:function(p){return!(p&&!Fe(o,"".concat(p)))}});if(h==="date")return _({errMsg:"\u65E5\u671F\u8303\u56F4\u4E0D\u6B63\u786E ".concat(o),schema:l,value:n,isValid:function(p){return!(p&&!Me(o,"".concat(p)))}});if(h==="dateTime")return _({errMsg:"\u65E5\u671F\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(o),schema:l,value:n,isValid:function(p){return!(p&&!Ve(o,"".concat(p)))}});if(h==="time")return _({errMsg:"\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(o),schema:l,value:n,isValid:function(p){return!(p&&!ae(o,"".concat(p)))}})}return null}});function Ce(e){var n=e.substring(6,8),a=e.substring(8,10),i=e.substring(10,12),s=new Date(parseFloat(n),parseFloat(a)-1,parseFloat(i));return!(s.getFullYear()-1900!==parseFloat(n)||s.getMonth()!==parseFloat(a)-1||s.getDate()!==parseFloat(i))}function Ze(e){var n=e;if(e.length!==15&&e.length!==18)return!1;if(e.length===15)return Ce(n);var a={11:"\u5317\u4EAC",12:"\u5929\u6D25",13:"\u6CB3\u5317",14:"\u5C71\u897F",15:"\u5185\u8499\u53E4",21:"\u8FBD\u5B81",22:"\u5409\u6797",23:"\u9ED1\u9F99\u6C5F ",31:"\u4E0A\u6D77",32:"\u6C5F\u82CF",33:"\u6D59\u6C5F",34:"\u5B89\u5FBD",35:"\u798F\u5EFA",36:"\u6C5F\u897F",37:"\u5C71\u4E1C",41:"\u6CB3\u5357",42:"\u6E56\u5317 ",43:"\u6E56\u5357",44:"\u5E7F\u4E1C",45:"\u5E7F\u897F",46:"\u6D77\u5357",50:"\u91CD\u5E86",51:"\u56DB\u5DDD",52:"\u8D35\u5DDE",53:"\u4E91\u5357",54:"\u897F\u85CF ",61:"\u9655\u897F",62:"\u7518\u8083",63:"\u9752\u6D77",64:"\u5B81\u590F",65:"\u65B0\u7586",71:"\u53F0\u6E7E",81:"\u9999\u6E2F",82:"\u6FB3\u95E8",91:"\u56FD\u5916 "},i=!0;if(!n||!/^([1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx])|([1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2})$/i.test(n))i=!1;else if(!a[n.substr(0,2)])i=!1;else if(n.length>18)i=!1;else if(n.length===18){for(var s=n.split(""),l=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=[1,0,"X",9,8,7,6,5,4,3,2],h=0,f=0,p=0,z=0;z<17;z+=1)f=parseInt(s[z],10),p=l[z],h+=f*p;var R=s[17].toUpperCase()==="X"?"X":Number(s[17]);o[h%11]!==R&&(i=!1)}return i}var te=t(87998),De=t(91220),w=t(11849),le=t(3182),Be=t(69610),Se=t(54941),Te=t(94043),k=t.n(Te),ue=t(64031),I=t(54531);function Pe(e,n){}var ze=function(){function e(n){var a=this,i;(0,Be.Z)(this,e),this.props=void 0,this.progress=0,this.form=void 0,this.pagination=void 0,this.questionsGroupByPagination=[],this.answerSheet=[],this.answerSheetVisible=!1,this.reviewAnswer={};var s=n.initialValues,l=n.readOnly,o=n.fieldPermission,h=n.theme,f=n.schema,p=n.mode,z=n.onePageOneQuestion,R=z===void 0?!1:z,G=n.paginationVisible;this.props=n,this.changeQuestionsGroupByPagination(f,G,R);var K=(0,ue.Np)({initialValues:s,readOnly:l,validateFirst:!0,effects:function(u){(0,ue.dQ)(function(){if(a.questionsGroupByPagination.map(function(F,A){return A}).slice(1).forEach(function(F){return a.setDisplay(F,"hidden")}),o){var d=[],v=[];Object.entries(o).forEach(function(F){var A=(0,r.Z)(F,2),O=A[0],g=A[1];g===0?d.push(O):g===1&&v.push(O)}),d.length>0&&K.setFieldState("*(".concat(d.join(","),")"),function(F){return F.display="none"}),v.length>0&&K.setFieldState("*(".concat(v.join(","),")"),function(F){return F.pattern="readPretty"})}a.handleFormValuesChange()}),(0,ue.pO)(function(d){a.handleFormValuesChange()}),(0,ue.Zj)("*",function(d,v){a.handleFieldValueChange(d,v)}),Pe(f,u)}});this.form=K,this.pagination=(0,te.dr)(f,R),this.answerSheet=((i=f.children)===null||i===void 0?void 0:i.filter(function(c){var u;return(0,te.a1)(c.type)&&((u=c.attribute)===null||u===void 0?void 0:u.display)!=="hidden"}).map(function(c){return{finished:!1,id:c.id,marked:!1,display:"visible"}}))||[],h==="antd"&&p==="exam"&&(this.answerSheetVisible=!0),this.makeObservable()}return(0,Se.Z)(e,[{key:"makeObservable",value:function(){(0,I.Ou)(this,{progress:I.LO.ref,pagination:I.LO.shallow,questionsGroupByPagination:I.LO.ref,form:I.LO.ref,props:I.LO.shallow,answerSheet:I.LO,answerSheetVisible:I.LO.ref,reviewAnswer:I.LO,changeProgress:I.aD,changeQuestionsGroupByPagination:I.aD,validate:I.aD,setDisplay:I.aD,handlePrev:I.aD,handleNext:I.aD,submit:I.aD,handleFormValuesChange:I.aD,changePageIndex:I.aD,handleFieldValueChange:I.aD})}},{key:"changeQuestionsGroupByPagination",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;i?this.questionsGroupByPagination=(0,te._T)(a,s):this.questionsGroupByPagination=[a.children]}},{key:"changeProgress",value:function(a){this.progress=a}},{key:"validate",value:function(){var n=(0,le.Z)(k().mark(function i(s){return k().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.form.validate("*(".concat(this.questionsGroupByPagination[s].map(function(h){return h.id}).join(","),")")));case 1:case"end":return o.stop()}},i,this)}));function a(i){return n.apply(this,arguments)}return a}()},{key:"setDisplay",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"visible";this.form.query("*(".concat(this.questionsGroupByPagination[a].map(function(s){return s.id}).join(","),")")).forEach(function(s){s.display=i})}},{key:"handlePrev",value:function(){var a=this.pagination,i=a.current-1;this.setDisplay(i,"hidden"),this.setDisplay(i-1,"visible"),this.pagination=(0,w.Z)((0,w.Z)({},a),{},{current:a.current-1})}},{key:"handleNext",value:function(){var n=(0,le.Z)(k().mark(function i(){var s,l;return k().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s=this.pagination.current-1,h.prev=1,h.next=4,this.validate(s);case 4:l=this.pagination,this.setDisplay(s,"hidden"),this.setDisplay(s+1,"visible"),this.pagination=(0,w.Z)((0,w.Z)({},l),{},{current:l.current+1}),h.next=12;break;case 10:h.prev=10,h.t0=h.catch(1);case 12:case"end":return h.stop()}},i,this,[[1,10]])}));function a(){return n.apply(this,arguments)}return a}()},{key:"changePageIndex",value:function(a){var i=this.questionsGroupByPagination.findIndex(function(o){return!!o.find(function(h){return h.id===a})}),s=this.pagination,l=s.current-1;this.setDisplay(l,"hidden"),this.setDisplay(i,"visible"),this.pagination=(0,w.Z)((0,w.Z)({},s),{},{current:i+1}),this.answerSheetVisible=!1}},{key:"handleFormValuesChange",value:function(){var n=(0,le.Z)(k().mark(function i(){var s=this,l,o;return k().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:l=0,o=0,this.form.query("*").forEach(function(p){var z=s.answerSheet.find(function(R){return R.id===p.address.toString()});p.displayName==="Field"&&!p.address.toString().startsWith("_")&&(z&&(z.display=p.display),p.display!=="none"&&l++,!(0,te.xb)(p.value)&&p.display!=="none"?(o++,z&&(z.finished=!0)):z&&(z.finished=!1))}),this.props.onChange&&(this.changeProgress(o/l),this.props.onChange(this.form.values,o/l));case 3:case"end":return f.stop()}},i,this)}));function a(){return n.apply(this,arguments)}return a}()},{key:"handleFieldValueChange",value:function(){var n=(0,le.Z)(k().mark(function i(s,l){var o,h,f,p,z;return k().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(!(this.props.mode==="exam"&&this.props.exerciseMode)){G.next=10;break}if(h=s.componentProps.schema,f=s.value,p=this.reviewAnswer[h.id],z=h.type,["FillBlank","MultipleBlank","Radio","Checkbox"].includes(h.type)){G.next=7;break}return G.abrupt("return");case 7:if((o=h.attribute)!==null&&o!==void 0&&o.examAnswerMode&&["selectAll","selectCorrect","onlyOne","select"].includes(h.attribute.examAnswerMode)){G.next=9;break}return G.abrupt("return");case 9:this.reviewAnswer[h.id]=h.children.reduce(function(K,c){var u,d=!!((u=c.attribute)!==null&&u!==void 0&&u.examCorrectAnswer);if(z==="FillBlank"||z==="MultipleBlank"||z==="Textarea"){var v,F,A=(v=c.attribute)===null||v===void 0?void 0:v.examMatchRule,O=f==null?void 0:f[c.id],g=(F=c.attribute)===null||F===void 0?void 0:F.examCorrectAnswer;!O||!g?d=!1:A==="contain"&&O.includes(g.trim())||O===g?d=!0:d=!1}return K[c.id]={selected:!!(f!=null&&f.hasOwnProperty(c.id)),isCorrect:d},K},{visible:!!(p!=null&&p.visible)});case 10:case"end":return G.stop()}},i,this)}));function a(i,s){return n.apply(this,arguments)}return a}()},{key:"submit",value:function(){var n=(0,le.Z)(k().mark(function i(){var s,l,o,h,f,p,z,R,G,K;return k().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:s="",l=this.form.query("*").map().filter(function(d){return!(0,ue.JF)(d)}),o=(0,De.Z)(l),u.prev=3,o.s();case 5:if((h=o.n()).done){u.next=28;break}if(R=h.value,!(0,ue.JF)(R)){u.next=9;break}return u.abrupt("continue",26);case 9:if(s=R.path.toString(),G=((f=this.props.schema.children)===null||f===void 0||(p=f.find(function(d){return d.id===s}))===null||p===void 0||(z=p.attribute)===null||z===void 0?void 0:z.display)==="hidden",!G){u.next=13;break}return u.abrupt("continue",26);case 13:return K=R.display,R.display="visible",u.prev=15,u.next=18,R.validate();case 18:R.display=K,u.next=26;break;case 21:return u.prev=21,u.t0=u.catch(15),this.changePageIndex(s),(0,te.lA)(s,this.props.progressBar?-25:0),u.abrupt("return");case 26:u.next=5;break;case 28:u.next=33;break;case 30:u.prev=30,u.t1=u.catch(3),o.e(u.t1);case 33:return u.prev=33,o.f(),u.finish(33);case 36:return this.props.onSubmit&&this.props.onSubmit((0,I.ZN)(this.form.values)),u.abrupt("return",{values:(0,I.ZN)(this.form.values)});case 38:case"end":return u.stop()}},i,this,[[3,30,33,36],[15,21]])}));function a(){return n.apply(this,arguments)}return a}()},{key:"markQuestion",value:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=this.answerSheet,l=s.findIndex(function(o){return o.id===a});this.answerSheet.splice(l,1,(0,w.Z)((0,w.Z)({},s[l]),{},{marked:i}))}}]),e}(),Ae=t(76826),ge=t(8166),xe=t(80893),ne=t(85893);window.katex=ge.Z;var Oe=(0,b.forwardRef)(function(e,n){var a=e.theme,i=a===void 0?C.uH:a,s=e.footerVisible,l=s===void 0?!0:s,o=e.headerVisible,h=o===void 0?!0:o,f=e.loading,p=e.questionNumber,z=p===void 0?!0:p,R=e.onUpload,G=e.progressBar,K=G===void 0?!1:G,c=e.statistics,u=e.isPreview,d=e.mode,v=d===void 0?"survey":d,F=e.correctAnswerVisible,A=F===void 0?!1:F,O=e.examScoreVisible,g=O===void 0?!1:O;console.log(e);var Z=(0,b.useMemo)(function(){return new ze(e)},[]),m=Z.form,x=(0,b.useMemo)(function(){return(0,te.Gt)(e.schema)},[e.schema]),S=(0,b.useMemo)(function(){var $={},W=function fe(oe){$[oe.id]=oe.title,oe.children&&oe.children.forEach(fe)};return W(x),document.title=(0,Ae.WO)(x.title),$},[x]),H=(0,b.useMemo)(function(){return(0,te.R6)(e.schema)},[e.schema]);(0,b.useImperativeHandle)(n,function(){return{submit:function(){return Z.submit()},reset:function(){m.reset()},setValues:function(W){m.setValues(W,"overwrite")},toggleReadOnly:function(W){m.setState(function(fe){fe.pattern=W?"readPretty":"editable"})},getValues:function(){return m.values}}}),(0,b.useEffect)(function(){e.onInit&&e.onInit(m)},[]);var Y=(0,b.useMemo)(function(){return{theme:i,schema:x,footerVisible:l,questionNumber:z,headerVisible:h,optionTypes:H,onUpload:R,loading:f,id2title:S,progressBar:K,innerStore:Z,statistics:c,isPreview:u,mode:v,correctAnswerVisible:A,examScoreVisible:g}},[f,x,c]);return(0,ne.jsx)(b.Suspense,{fallback:(0,ne.jsx)(xe.gb,{}),children:(0,ne.jsx)(xe.ZP,{theme:i,children:(0,ne.jsx)(P.RV,{form:m,children:(0,ne.jsx)(q.ZX.Provider,{value:Y,children:(0,ne.jsx)(ee.k9,{schema:x})})})})})}),Ie=Oe},80893:function(ye,re,t){"use strict";t.d(re,{gb:function(){return r}});var b=t(67294),P=t(85893),ee=b.lazy(function(){return Promise.all([t.e(8107),t.e(5514),t.e(2265),t.e(1642),t.e(4492),t.e(4863),t.e(2187),t.e(209),t.e(3894),t.e(5843),t.e(6945),t.e(9567),t.e(2824),t.e(1044),t.e(6728),t.e(1864),t.e(7194)]).then(t.bind(t,25934))}),q=b.lazy(function(){return Promise.all([t.e(8107),t.e(5514),t.e(2265),t.e(1642),t.e(4863),t.e(209),t.e(5843),t.e(2824),t.e(1044),t.e(6728),t.e(1864),t.e(1483),t.e(9868)]).then(t.bind(t,13787))}),C=b.lazy(function(){return Promise.all([t.e(8107),t.e(1642),t.e(2187),t.e(209),t.e(3894),t.e(1044),t.e(8021)]).then(t.bind(t,18021))}),r=function(){return(0,P.jsx)("div",{className:"page-loading-warp",children:(0,P.jsxs)("div",{className:"spinner",children:[(0,P.jsx)("div",{className:"rect1"}),(0,P.jsx)("div",{className:"rect2"}),(0,P.jsx)("div",{className:"rect3"}),(0,P.jsx)("div",{className:"rect4"}),(0,P.jsx)("div",{className:"rect5"})]})})},de=function(U){var X=U.theme,M=U.children;return X==="antdMobile"?(0,P.jsx)(q,{children:M}):X==="antdForm"?(0,P.jsx)(C,{children:M}):(0,P.jsx)(ee,{children:M})};re.ZP=de}}]);
