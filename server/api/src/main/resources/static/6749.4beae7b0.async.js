(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6749],{99165:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="CopyOutlined";var N=s.forwardRef(x)},73171:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="DeleteOutlined";var N=s.forwardRef(x)},99008:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="FileTextOutlined";var N=s.forwardRef(x)},54977:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="FormOutlined";var N=s.forwardRef(x)},65602:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="InteractionOutlined";var N=s.forwardRef(x)},2603:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="LockOutlined";var N=s.forwardRef(x)},89792:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 612c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H298a95.92 95.92 0 00-89-60c-53 0-96 43-96 96s43 96 96 96c40.3 0 74.8-24.8 89-60h150.3v152c0 55.2 44.8 100 100 100H952c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H548.3c-15.5 0-28-12.5-28-28V612H952zM451.7 313.7l172.5 136.2c6.3 5.1 15.8.5 15.8-7.7V344h264c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H640v-98.2c0-8.1-9.4-12.8-15.8-7.7L451.7 298.3a9.9 9.9 0 000 15.4z"}}]},name:"node-collapse",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="NodeCollapseOutlined";var N=s.forwardRef(x)},49101:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="PlusOutlined";var N=s.forwardRef(x)},1870:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="QuestionCircleOutlined";var N=s.forwardRef(x)},11075:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="RollbackOutlined";var N=s.forwardRef(x)},13105:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="SnippetsOutlined";var N=s.forwardRef(x)},15360:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="StopOutlined";var N=s.forwardRef(x)},89366:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="UserOutlined";var N=s.forwardRef(x)},3157:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return N}});var j=w(28991),s=w(67294),b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},p=b,S=w(27029),x=function(A,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},A),{},{ref:R,icon:p}))};x.displayName="UserSwitchOutlined";var N=s.forwardRef(x)},59782:function(Xt,ct){(function(w,j){if(!0)Xt.exports=j();else var s,b})(window,function(){return function(w){var j={};function s(b){if(j[b])return j[b].exports;var p=j[b]={i:b,l:!1,exports:{}};return w[b].call(p.exports,p,p.exports,s),p.l=!0,p.exports}return s.m=w,s.c=j,s.d=function(b,p,S){s.o(b,p)||Object.defineProperty(b,p,{enumerable:!0,get:S})},s.r=function(b){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},s.t=function(b,p){if(1&p&&(b=s(b)),8&p||4&p&&typeof b=="object"&&b&&b.__esModule)return b;var S=Object.create(null);if(s.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:b}),2&p&&typeof b!="string")for(var x in b)s.d(S,x,function(N){return b[N]}.bind(null,x));return S},s.n=function(b){var p=b&&b.__esModule?function(){return b.default}:function(){return b};return s.d(p,"a",p),p},s.o=function(b,p){return Object.prototype.hasOwnProperty.call(b,p)},s.p="",s(s.s=215)}([function(w,j,s){"use strict";(function(b,p){s.d(j,"a",function(){return H}),s.d(j,"b",function(){return wi}),s.d(j,"c",function(){return ur}),s.d(j,"d",function(){return Ot}),s.d(j,"e",function(){return ut}),s.d(j,"f",function(){return Je}),s.d(j,"g",function(){return yt}),s.d(j,"h",function(){return ho}),s.d(j,"i",function(){return Zt}),s.d(j,"j",function(){return st}),s.d(j,"k",function(){return cr}),s.d(j,"l",function(){return Vo}),s.d(j,"m",function(){return zt}),s.d(j,"n",function(){return io}),s.d(j,"o",function(){return G}),s.d(j,"p",function(){return bi}),s.d(j,"q",function(){return Qn}),s.d(j,"r",function(){return Kt}),s.d(j,"s",function(){return Kn}),s.d(j,"t",function(){return ao}),s.d(j,"u",function(){return oo}),s.d(j,"v",function(){return uo}),s.d(j,"w",function(){return Wo}),s.d(j,"x",function(){return Lr}),s.d(j,"y",function(){return Nn}),s.d(j,"z",function(){return kn}),s.d(j,"A",function(){return an}),s.d(j,"B",function(){return zn}),s.d(j,"C",function(){return qe}),s.d(j,"D",function(){return qn}),s.d(j,"E",function(){return Tr}),s.d(j,"F",function(){return Dr}),s.d(j,"G",function(){return Uo}),s.d(j,"H",function(){return Ar}),s.d(j,"I",function(){return zr}),s.d(j,"J",function(){return wn}),s.d(j,"K",function(){return be}),s.d(j,"L",function(){return ln}),s.d(j,"M",function(){return hn});var S=[];Object.freeze(S);var x={};function N(){return++at.mobxGuid}function T(g){throw A(!1,g),"X"}function A(g,m){if(!g)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(x);function R(g){var m=!1;return function(){if(!m)return m=!0,g.apply(this,arguments)}}var B=function(){};function V(g){return g!==null&&typeof g=="object"}function U(g){if(g===null||typeof g!="object")return!1;var m=Object.getPrototypeOf(g);return m===Object.prototype||m===null}function ue(g,m,E){Object.defineProperty(g,m,{enumerable:!1,writable:!0,configurable:!0,value:E})}function se(g,m){var E="isMobX"+g;return m.prototype[E]=!0,function(C){return V(C)&&C[E]===!0}}function ie(g){return g instanceof Map}function ee(g){return g instanceof Set}function ne(g){var m=new Set;for(var E in g)m.add(E);return Object.getOwnPropertySymbols(g).forEach(function(C){Object.getOwnPropertyDescriptor(g,C).enumerable&&m.add(C)}),Array.from(m)}function $(g){return g&&g.toString?g.toString():new String(g).toString()}function K(g){return g===null?null:typeof g=="object"?""+g:g}var pe=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:Object.getOwnPropertyNames,H=Symbol("mobx administration"),fe=function(){function g(m){m===void 0&&(m="Atom@"+N()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=le.NOT_TRACKING}return g.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},g.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},g.prototype.reportObserved=function(){return ar(this)},g.prototype.reportChanged=function(){Wn(),function(m){m.lowestObserverState!==le.STALE&&(m.lowestObserverState=le.STALE,m.observers.forEach(function(E){E.dependenciesState===le.UP_TO_DATE&&(E.isTracing!==et.NONE&&kr(E,m),E.onBecomeStale()),E.dependenciesState=le.STALE}))}(this),Yn()},g.prototype.toString=function(){return this.name},g}(),L=se("Atom",fe);function G(g,m,E){m===void 0&&(m=B),E===void 0&&(E=B);var C,I=new fe(g);return m!==B&&yi("onBecomeObserved",I,m,C),E!==B&&Tr(I,E),I}var F={identity:function(g,m){return g===m},structural:function(g,m){return Jo(g,m)},default:function(g,m){return Object.is(g,m)},shallow:function(g,m){return Jo(g,m,1)}},oe=function(g,m){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,C){E.__proto__=C}||function(E,C){for(var I in C)C.hasOwnProperty(I)&&(E[I]=C[I])})(g,m)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var me=function(){return(me=Object.assign||function(g){for(var m,E=1,C=arguments.length;E<C;E++)for(var I in m=arguments[E])Object.prototype.hasOwnProperty.call(m,I)&&(g[I]=m[I]);return g}).apply(this,arguments)};function Se(g){var m=typeof Symbol=="function"&&g[Symbol.iterator],E=0;return m?m.call(g):{next:function(){return g&&E>=g.length&&(g=void 0),{value:g&&g[E++],done:!g}}}}function X(g,m){var E=typeof Symbol=="function"&&g[Symbol.iterator];if(!E)return g;var C,I,q=E.call(g),Oe=[];try{for(;(m===void 0||m-- >0)&&!(C=q.next()).done;)Oe.push(C.value)}catch(Re){I={error:Re}}finally{try{C&&!C.done&&(E=q.return)&&E.call(q)}finally{if(I)throw I.error}}return Oe}function J(){for(var g=[],m=0;m<arguments.length;m++)g=g.concat(X(arguments[m]));return g}var Y=Symbol("mobx did run lazy initializers"),ae=Symbol("mobx pending decorators"),ve={},we={};function Ie(g,m){var E=m?ve:we;return E[g]||(E[g]={configurable:!0,enumerable:m,get:function(){return Ue(this),this[g]},set:function(C){Ue(this),this[g]=C}})}function Ue(g){var m,E;if(g[Y]!==!0){var C=g[ae];if(C){ue(g,Y,!0);var I=J(Object.getOwnPropertySymbols(C),Object.keys(C));try{for(var q=Se(I),Oe=q.next();!Oe.done;Oe=q.next()){var Re=C[Oe.value];Re.propertyCreator(g,Re.prop,Re.descriptor,Re.decoratorTarget,Re.decoratorArguments)}}catch(nt){m={error:nt}}finally{try{Oe&&!Oe.done&&(E=q.return)&&E.call(q)}finally{if(m)throw m.error}}}}}function Ye(g,m){return function(){var E,C=function(I,q,Oe,Re){if(Re===!0)return m(I,q,Oe,I,E),null;if(!Object.prototype.hasOwnProperty.call(I,ae)){var nt=I[ae];ue(I,ae,me({},nt))}return I[ae][q]={prop:q,propertyCreator:m,descriptor:Oe,decoratorTarget:I,decoratorArguments:E},Ie(q,g)};return He(arguments)?(E=S,C.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),C)}}function He(g){return(g.length===2||g.length===3)&&(typeof g[1]=="string"||typeof g[1]=="symbol")||g.length===4&&g[3]===!0}function Ke(g,m,E){return Lr(g)?g:Array.isArray(g)?qe.array(g,{name:E}):U(g)?qe.object(g,void 0,{name:E}):ie(g)?qe.map(g,{name:E}):ee(g)?qe.set(g,{name:E}):g}function dt(g){return g}function ce(g){A(g);var m=Ye(!0,function(C,I,q,Oe,Re){var nt=q?q.initializer?q.initializer.call(C):q.value:void 0;To(C).addObservableProp(I,nt,g)}),E=(b!==void 0&&b.env,m);return E.enhancer=g,E}var de={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ge(g){return g==null?de:typeof g=="string"?{name:g,deep:!0,proxy:!0}:g}Object.freeze(de);var De=ce(Ke),ze=ce(function(g,m,E){return g==null||an(g)||Nn(g)||kn(g)||nn(g)?g:Array.isArray(g)?qe.array(g,{name:E,deep:!1}):U(g)?qe.object(g,void 0,{name:E,deep:!1}):ie(g)?qe.map(g,{name:E,deep:!1}):ee(g)?qe.set(g,{name:E,deep:!1}):T(!1)}),Ce=ce(dt),it=ce(function(g,m,E){return Jo(g,m)?m:g});function rt(g){return g.defaultDecorator?g.defaultDecorator.enhancer:g.deep===!1?dt:Ke}var ht={box:function(g,m){arguments.length>2&&Me("box");var E=ge(m);return new On(g,rt(E),E.name,!0,E.equals)},array:function(g,m){arguments.length>2&&Me("array");var E=ge(m);return Ao(g,rt(E),E.name)},map:function(g,m){arguments.length>2&&Me("map");var E=ge(m);return new wi(g,rt(E),E.name)},set:function(g,m){arguments.length>2&&Me("set");var E=ge(m);return new nr(g,rt(E),E.name)},object:function(g,m,E){typeof arguments[1]=="string"&&Me("object");var C=ge(E);if(C.proxy===!1)return Qn({},g,m,C);var I=Cr(C),q=Qn({},void 0,void 0,C),Oe=Gr(q);return vi(Oe,g,m,I),Oe},ref:Ce,shallow:ze,deep:De,struct:it},qe=function(g,m,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if(Lr(g))return g;var C=U(g)?qe.object(g,m,E):Array.isArray(g)?qe.array(g,m):ie(g)?qe.map(g,m):ee(g)?qe.set(g,m):g;if(C!==g)return C;T(!1)};function Me(g){T("Expected one or two arguments to observable."+g+". Did you accidentally try to use observable."+g+" as decorator?")}Object.keys(ht).forEach(function(g){return qe[g]=ht[g]});var le,et,tt=Ye(!1,function(g,m,E,C,I){var q=E.get,Oe=E.set,Re=I[0]||{};To(g).addComputedProp(g,m,me({get:q,set:Oe,context:g},Re))}),Ze=tt({equals:F.structural}),zt=function(g,m,E){if(typeof m=="string"||g!==null&&typeof g=="object"&&arguments.length===1)return tt.apply(null,arguments);var C=typeof m=="object"?m:{};return C.get=g,C.set=typeof m=="function"?m:C.set,C.name=C.name||g.name||"",new ir(C)};zt.struct=Ze,function(g){g[g.NOT_TRACKING=-1]="NOT_TRACKING",g[g.UP_TO_DATE=0]="UP_TO_DATE",g[g.POSSIBLY_STALE=1]="POSSIBLY_STALE",g[g.STALE=2]="STALE"}(le||(le={})),function(g){g[g.NONE=0]="NONE",g[g.LOG=1]="LOG",g[g.BREAK=2]="BREAK"}(et||(et={}));var _t=function(g){this.cause=g};function mt(g){return g instanceof _t}function At(g){switch(g.dependenciesState){case le.UP_TO_DATE:return!1;case le.NOT_TRACKING:case le.STALE:return!0;case le.POSSIBLY_STALE:for(var m=Je(!0),E=Ge(),C=g.observing,I=C.length,q=0;q<I;q++){var Oe=C[q];if(Mr(Oe)){if(at.disableErrorBoundaries)Oe.get();else try{Oe.get()}catch(Re){return Fe(E),ut(m),!0}if(g.dependenciesState===le.STALE)return Fe(E),ut(m),!0}}return jt(g),Fe(E),ut(m),!1}}function Zt(){return at.trackingDerivation!==null}function Q(g){var m=g.observers.size>0;at.computationDepth>0&&m&&T(!1),at.allowStateChanges||!m&&at.enforceActions!=="strict"||T(!1)}function he(g,m,E){var C=Je(!0);jt(g),g.newObserving=new Array(g.observing.length+100),g.unboundDepsCount=0,g.runId=++at.runId;var I,q=at.trackingDerivation;if(at.trackingDerivation=g,at.disableErrorBoundaries===!0)I=m.call(E);else try{I=m.call(E)}catch(Oe){I=new _t(Oe)}return at.trackingDerivation=q,function(Oe){for(var Re=Oe.observing,nt=Oe.observing=Oe.newObserving,wt=le.UP_TO_DATE,xt=0,Bt=Oe.unboundDepsCount,It=0;It<Bt;It++)(Ct=nt[It]).diffValue===0&&(Ct.diffValue=1,xt!==It&&(nt[xt]=Ct),xt++),Ct.dependenciesState>wt&&(wt=Ct.dependenciesState);for(nt.length=xt,Oe.newObserving=null,Bt=Re.length;Bt--;)(Ct=Re[Bt]).diffValue===0&&li(Ct,Oe),Ct.diffValue=0;for(;xt--;){var Ct;(Ct=nt[xt]).diffValue===1&&(Ct.diffValue=0,Hi(Ct,Oe))}wt!==le.UP_TO_DATE&&(Oe.dependenciesState=wt,Oe.onBecomeStale())}(g),ut(C),I}function Te(g){var m=g.observing;g.observing=[];for(var E=m.length;E--;)li(m[E],g);g.dependenciesState=le.NOT_TRACKING}function be(g){var m=Ge();try{return g()}finally{Fe(m)}}function Ge(){var g=at.trackingDerivation;return at.trackingDerivation=null,g}function Fe(g){at.trackingDerivation=g}function Je(g){var m=at.allowStateReads;return at.allowStateReads=g,m}function ut(g){at.allowStateReads=g}function jt(g){if(g.dependenciesState!==le.UP_TO_DATE){g.dependenciesState=le.UP_TO_DATE;for(var m=g.observing,E=m.length;E--;)m[E].lowestObserverState=le.UP_TO_DATE}}var Vt=0,_n=1,rn=Object.getOwnPropertyDescriptor(function(){},"name");rn&&rn.configurable;function Mt(g,m,E){var C=function(){return $e(g,m,E||this,arguments)};return C.isMobxAction=!0,C}function $e(g,m,E,C){var I=st(g,E,C);try{return m.apply(E,C)}catch(q){throw I.error=q,q}finally{yt(I)}}function st(g,m,E){var C=0,I=Ge();Wn();var q={prevDerivation:I,prevAllowStateChanges:Ht(!0),prevAllowStateReads:Je(!0),notifySpy:!1,startTime:C,actionId:_n++,parentActionId:Vt};return Vt=q.actionId,q}function yt(g){Vt!==g.actionId&&T("invalid action stack. did you forget to finish an action?"),Vt=g.parentActionId,g.error!==void 0&&(at.suppressReactionErrors=!0),en(g.prevAllowStateChanges),ut(g.prevAllowStateReads),Yn(),Fe(g.prevDerivation),g.notifySpy,at.suppressReactionErrors=!1}function Ot(g,m){var E,C=Ht(g);try{E=m()}finally{en(C)}return E}function Ht(g){var m=at.allowStateChanges;return at.allowStateChanges=g,m}function en(g){at.allowStateChanges=g}var On=function(g){function m(E,C,I,q,Oe){I===void 0&&(I="ObservableValue@"+N()),q===void 0&&(q=!0),Oe===void 0&&(Oe=F.default);var Re=g.call(this,I)||this;return Re.enhancer=C,Re.name=I,Re.equals=Oe,Re.hasUnreportedChange=!1,Re.value=C(E,void 0,I),Re}return function(E,C){function I(){this.constructor=E}oe(E,C),E.prototype=C===null?Object.create(C):(I.prototype=C.prototype,new I)}(m,g),m.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},m.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==at.UNCHANGED&&this.setNewValue(E)},m.prototype.prepareNewValue=function(E){if(Q(this),Zn(this)){var C=Mn(this,{object:this,type:"update",newValue:E});if(!C)return at.UNCHANGED;E=C.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?at.UNCHANGED:E},m.prototype.setNewValue=function(E){var C=this.value;this.value=E,this.reportChanged(),Tt(this)&&vn(this,{type:"update",object:this,newValue:E,oldValue:C})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(E){return er(this,E)},m.prototype.observe=function(E,C){return C&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),fr(this,E)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return K(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(fe),Ho=se("ObservableValue",On),ir=function(){function g(m){this.dependenciesState=le.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=le.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+N(),this.value=new _t(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=et.NONE,A(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+N(),m.set&&(this.setter=Mt(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?F.structural:F.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return g.prototype.onBecomeStale=function(){(function(m){m.lowestObserverState===le.UP_TO_DATE&&(m.lowestObserverState=le.POSSIBLY_STALE,m.observers.forEach(function(E){E.dependenciesState===le.UP_TO_DATE&&(E.dependenciesState=le.POSSIBLY_STALE,E.isTracing!==et.NONE&&kr(E,m),E.onBecomeStale())}))})(this)},g.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},g.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},g.prototype.get=function(){this.isComputing&&T("Cycle detected in computation "+this.name+": "+this.derivation),at.inBatch!==0||this.observers.size!==0||this.keepAlive?(ar(this),At(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==le.STALE&&(E.lowestObserverState=le.STALE,E.observers.forEach(function(C){C.dependenciesState===le.POSSIBLY_STALE?C.dependenciesState=le.STALE:C.dependenciesState===le.UP_TO_DATE&&(E.lowestObserverState=le.UP_TO_DATE)}))}(this)):At(this)&&(this.warnAboutUntrackedRead(),Wn(),this.value=this.computeValue(!1),Yn());var m=this.value;if(mt(m))throw m.cause;return m},g.prototype.peek=function(){var m=this.computeValue(!1);if(mt(m))throw m.cause;return m},g.prototype.set=function(m){if(this.setter){A(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else A(!1,!1)},g.prototype.trackAndCompute=function(){var m=this.value,E=this.dependenciesState===le.NOT_TRACKING,C=this.computeValue(!0),I=E||mt(m)||mt(C)||!this.equals(m,C);return I&&(this.value=C),I},g.prototype.computeValue=function(m){var E;if(this.isComputing=!0,at.computationDepth++,m)E=he(this,this.derivation,this.scope);else if(at.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(C){E=new _t(C)}return at.computationDepth--,this.isComputing=!1,E},g.prototype.suspend=function(){this.keepAlive||(Te(this),this.value=void 0)},g.prototype.observe=function(m,E){var C=this,I=!0,q=void 0;return Vo(function(){var Oe=C.get();if(!I||E){var Re=Ge();m({type:"update",object:C,newValue:Oe,oldValue:q}),Fe(Re)}I=!1,q=Oe})},g.prototype.warnAboutUntrackedRead=function(){},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},g.prototype.valueOf=function(){return K(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(),Mr=se("ComputedValue",ir),Go=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Nr={};function Jn(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:Nr}var No=!0,ci=!1,at=function(){var g=Jn();return g.__mobxInstanceCount>0&&!g.__mobxGlobals&&(No=!1),g.__mobxGlobals&&g.__mobxGlobals.version!==new Go().version&&(No=!1),No?g.__mobxGlobals?(g.__mobxInstanceCount+=1,g.__mobxGlobals.UNCHANGED||(g.__mobxGlobals.UNCHANGED={}),g.__mobxGlobals):(g.__mobxInstanceCount=1,g.__mobxGlobals=new Go):(setTimeout(function(){ci||T("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Go)}();function Hi(g,m){g.observers.add(m),g.lowestObserverState>m.dependenciesState&&(g.lowestObserverState=m.dependenciesState)}function li(g,m){g.observers.delete(m),g.observers.size===0&&Fo(g)}function Fo(g){g.isPendingUnobservation===!1&&(g.isPendingUnobservation=!0,at.pendingUnobservations.push(g))}function Wn(){at.inBatch++}function Yn(){if(--at.inBatch==0){pi();for(var g=at.pendingUnobservations,m=0;m<g.length;m++){var E=g[m];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof ir&&E.suspend())}at.pendingUnobservations=[]}}function ar(g){var m=at.trackingDerivation;return m!==null?(m.runId!==g.lastAccessedBy&&(g.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=g,g.isBeingObserved||(g.isBeingObserved=!0,g.onBecomeObserved())),!0):(g.observers.size===0&&at.inBatch>0&&Fo(g),!1)}function kr(g,m){if(console.log("[mobx.trace] '"+g.name+"' is invalidated due to a change in: '"+m.name+"'"),g.isTracing===et.BREAK){var E=[];(function C(I,q,Oe){if(q.length>=1e3)return void q.push("(and many more)");q.push(""+new Array(Oe).join("	")+I.name),I.dependencies&&I.dependencies.forEach(function(Re){return C(Re,q,Oe+1)})})(ao(g),E,1),new Function(`debugger;
/*
Tracing '`+g.name+`'

You are entering this break point because derivation '`+g.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(g instanceof ir?g.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}var ur=function(){function g(m,E,C,I){m===void 0&&(m="Reaction@"+N()),I===void 0&&(I=!1),this.name=m,this.onInvalidate=E,this.errorHandler=C,this.requiresObservable=I,this.observing=[],this.newObserving=[],this.dependenciesState=le.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+N(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=et.NONE}return g.prototype.onBecomeStale=function(){this.schedule()},g.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,at.pendingReactions.push(this),pi())},g.prototype.isScheduled=function(){return this._isScheduled},g.prototype.runReaction=function(){if(!this.isDisposed){if(Wn(),this._isScheduled=!1,At(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(m){this.reportExceptionInDerivation(m)}}Yn()}},g.prototype.track=function(m){if(!this.isDisposed){Wn(),this._isRunning=!0;var E=he(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Te(this),mt(E)&&this.reportExceptionInDerivation(E.cause),Yn()}},g.prototype.reportExceptionInDerivation=function(m){var E=this;if(this.errorHandler)this.errorHandler(m,this);else{if(at.disableErrorBoundaries)throw m;var C="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";at.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(C,m),at.globalReactionErrorHandlers.forEach(function(I){return I(m,E)})}},g.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Wn(),Te(this),Yn()))},g.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m[H]=this,m},g.prototype.toString=function(){return"Reaction["+this.name+"]"},g.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var E=[],C=0;C<arguments.length;C++)E[C]=arguments[C];var I=!1;typeof E[E.length-1]=="boolean"&&(I=E.pop());var q=_i(E);if(!q)return T(!1);q.isTracing===et.NONE&&console.log("[mobx.trace] '"+q.name+"' tracing enabled"),q.isTracing=I?et.BREAK:et.LOG}(this,m)},g}(),fi=function(g){return g()};function pi(){at.inBatch>0||at.isRunningReactions||fi(Gi)}function Gi(){at.isRunningReactions=!0;for(var g=at.pendingReactions,m=0;g.length>0;){++m==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+g[0]),g.splice(0));for(var E=g.splice(0),C=0,I=E.length;C<I;C++)E[C].runReaction()}at.isRunningReactions=!1}var sr=se("Reaction",ur);function ro(g){var m=fi;fi=function(E){return g(function(){return m(E)})}}function Ar(g){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function di(){T(!1)}function yr(g){return function(m,E,C){if(C){if(C.value)return{value:Mt(g,C.value),enumerable:!1,configurable:!0,writable:!0};var I=C.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Mt(g,I.call(this))}}}return Fi(g).apply(this,arguments)}}function Fi(g){return function(m,E,C){Object.defineProperty(m,E,{configurable:!0,enumerable:!1,get:function(){},set:function(I){ue(this,E,cr(g,I))}})}}var cr=function(g,m,E,C){return arguments.length===1&&typeof g=="function"?Mt(g.name||"<unnamed action>",g):arguments.length===2&&typeof m=="function"?Mt(g,m):arguments.length===1&&typeof g=="string"?yr(g):C!==!0?yr(m).apply(null,arguments):void ue(g,m,Mt(g.name||m,E.value,this))};function Uo(g,m){return $e(typeof g=="string"?g:g.name||"<unnamed action>",typeof g=="function"?g:m,this,void 0)}function oo(g){return typeof g=="function"&&g.isMobxAction===!0}function Xo(g,m,E){ue(g,m,Mt(m,E.bind(g)))}function Vo(g,m){m===void 0&&(m=x);var E,C=m&&m.name||g.name||"Autorun@"+N();if(!m.scheduler&&!m.delay)E=new ur(C,function(){this.track(Oe)},m.onError,m.requiresObservable);else{var I=hi(m),q=!1;E=new ur(C,function(){q||(q=!0,I(function(){q=!1,E.isDisposed||E.track(Oe)}))},m.onError,m.requiresObservable)}function Oe(){g(E)}return E.schedule(),E.getDisposer()}cr.bound=function(g,m,E,C){return C===!0?(Xo(g,m,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return Xo(this,m,E.value||E.initializer.call(this)),this[m]},set:di}:{enumerable:!1,configurable:!0,set:function(I){Xo(this,m,I)},get:function(){}}};var ya=function(g){return g()};function hi(g){return g.scheduler?g.scheduler:g.delay?function(m){return setTimeout(m,g.delay)}:ya}function Dr(g,m,E){E===void 0&&(E=x);var C,I,q,Oe=E.name||"Reaction@"+N(),Re=cr(Oe,E.onError?(C=E.onError,I=m,function(){try{return I.apply(this,arguments)}catch(Gt){C.call(this,Gt)}}):m),nt=!E.scheduler&&!E.delay,wt=hi(E),xt=!0,Bt=!1,It=E.compareStructural?F.structural:E.equals||F.default,Ct=new ur(Oe,function(){xt||nt?Wt():Bt||(Bt=!0,wt(Wt))},E.onError,E.requiresObservable);function Wt(){if(Bt=!1,!Ct.isDisposed){var Gt=!1;Ct.track(function(){var Lt=g(Ct);Gt=xt||!It(q,Lt),q=Lt}),xt&&E.fireImmediately&&Re(q,Ct),xt||Gt!==!0||Re(q,Ct),xt&&(xt=!1)}}return Ct.schedule(),Ct.getDisposer()}function Tr(g,m,E){return yi("onBecomeUnobserved",g,m,E)}function yi(g,m,E,C){var I=typeof C=="function"?Kn(m,E):Kn(m),q=typeof C=="function"?C:E,Oe=g+"Listeners";return I[Oe]?I[Oe].add(q):I[Oe]=new Set([q]),typeof I[g]!="function"?T(!1):function(){var Re=I[Oe];Re&&(Re.delete(q),Re.size===0&&delete I[Oe])}}function io(g){var m=g.enforceActions,E=g.computedRequiresReaction,C=g.computedConfigurable,I=g.disableErrorBoundaries,q=g.reactionScheduler,Oe=g.reactionRequiresObservable,Re=g.observableRequiresReaction;if(g.isolateGlobalState===!0&&((at.pendingReactions.length||at.inBatch||at.isRunningReactions)&&T("isolateGlobalState should be called before MobX is running any reactions"),ci=!0,No&&(--Jn().__mobxInstanceCount==0&&(Jn().__mobxGlobals=void 0),at=new Go)),m!==void 0){var nt=void 0;switch(m){case!0:case"observed":nt=!0;break;case!1:case"never":nt=!1;break;case"strict":case"always":nt="strict";break;default:T("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}at.enforceActions=nt,at.allowStateChanges=nt!==!0&&nt!=="strict"}E!==void 0&&(at.computedRequiresReaction=!!E),Oe!==void 0&&(at.reactionRequiresObservable=!!Oe),Re!==void 0&&(at.observableRequiresReaction=!!Re,at.allowStateReads=!at.observableRequiresReaction),C!==void 0&&(at.computedConfigurable=!!C),I!==void 0&&(I===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),at.disableErrorBoundaries=!!I),q&&ro(q)}function Qn(g,m,E,C){var I=Cr(C=ge(C));return Ue(g),To(g,C.name,I.enhancer),m&&vi(g,m,E,I),g}function Cr(g){return g.defaultDecorator||(g.deep===!1?Ce:De)}function vi(g,m,E,C){var I,q;Wn();try{var Oe=pe(m);try{for(var Re=Se(Oe),nt=Re.next();!nt.done;nt=Re.next()){var wt=nt.value,xt=Object.getOwnPropertyDescriptor(m,wt),Bt=(E&&wt in E?E[wt]:xt.get?tt:C)(g,wt,xt,!0);Bt&&Object.defineProperty(g,wt,Bt)}}catch(It){I={error:It}}finally{try{nt&&!nt.done&&(q=Re.return)&&q.call(Re)}finally{if(I)throw I.error}}}finally{Yn()}}function ao(g,m){return gi(Kn(g,m))}function gi(g){var m,E,C={name:g.name};return g.observing&&g.observing.length>0&&(C.dependencies=(m=g.observing,E=[],m.forEach(function(I){E.indexOf(I)===-1&&E.push(I)}),E).map(gi)),C}var va=0;function Rr(){this.message="FLOW_CANCELLED"}function Kt(g){arguments.length!==1&&T("Flow expects 1 argument and cannot be used as decorator");var m=g.name||"<unnamed flow>";return function(){var E,C=this,I=arguments,q=++va,Oe=cr(m+" - runid: "+q+" - init",g).apply(C,I),Re=void 0,nt=new Promise(function(wt,xt){var Bt=0;function It(Gt){var Lt;Re=void 0;try{Lt=cr(m+" - runid: "+q+" - yield "+Bt++,Oe.next).call(Oe,Gt)}catch($n){return xt($n)}Wt(Lt)}function Ct(Gt){var Lt;Re=void 0;try{Lt=cr(m+" - runid: "+q+" - yield "+Bt++,Oe.throw).call(Oe,Gt)}catch($n){return xt($n)}Wt(Lt)}function Wt(Gt){if(!Gt||typeof Gt.then!="function")return Gt.done?wt(Gt.value):(Re=Promise.resolve(Gt.value)).then(It,Ct);Gt.then(Wt,xt)}E=xt,It(void 0)});return nt.cancel=cr(m+" - runid: "+q+" - cancel",function(){try{Re&&Ir(Re);var wt=Oe.return(void 0),xt=Promise.resolve(wt.value);xt.then(B,B),Ir(xt),E(new Rr)}catch(Bt){E(Bt)}}),nt}}function Ir(g){typeof g.cancel=="function"&&g.cancel()}function mi(g,m){if(g==null)return!1;if(m!==void 0){if(an(g)===!1||!g[H].values.has(m))return!1;var E=Kn(g,m);return Mr(E)}return Mr(g)}function uo(g){return arguments.length>1?T(!1):mi(g)}function Wo(g,m){return typeof m!="string"?T(!1):mi(g,m)}function ko(g,m){return g!=null&&(m!==void 0?!!an(g)&&g[H].values.has(m):an(g)||!!g[H]||L(g)||sr(g)||Mr(g))}function Lr(g){return arguments.length!==1&&T(!1),ko(g)}function zn(g){return an(g)?g[H].getKeys():kn(g)||nn(g)?Array.from(g.keys()):Nn(g)?g.map(function(m,E){return E}):T(!1)}function ln(g){return an(g)?zn(g).map(function(m){return g[m]}):kn(g)?zn(g).map(function(m){return g.get(m)}):nn(g)?Array.from(g.values()):Nn(g)?g.slice():T(!1)}function bi(g){return an(g)?zn(g).map(function(m){return[m,g[m]]}):kn(g)?zn(g).map(function(m){return[m,g.get(m)]}):nn(g)?Array.from(g.entries()):Nn(g)?g.map(function(m,E){return[E,m]}):T(!1)}function qn(g,m,E,C){return typeof E=="function"?function(I,q,Oe,Re){return ho(I,q).observe(Oe,Re)}(g,m,E,C):function(I,q,Oe){return ho(I).observe(q,Oe)}(g,m,E)}Rr.prototype=Object.create(Error.prototype);var Yo={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Bn(g,m,E,C){return C.detectCycles&&g.set(m,E),E}function zr(g,m){var E;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=Yo),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(E=new Map),function C(I,q,Oe){if(!q.recurseEverything&&!Lr(I)||typeof I!="object")return I;if(I===null)return null;if(I instanceof Date)return I;if(Ho(I))return C(I.get(),q,Oe);if(Lr(I)&&zn(I),q.detectCycles===!0&&I!==null&&Oe.has(I))return Oe.get(I);if(Nn(I)||Array.isArray(I)){var Re=Bn(Oe,I,[],q),nt=I.map(function(Lt){return C(Lt,q,Oe)});Re.length=nt.length;for(var wt=0,xt=nt.length;wt<xt;wt++)Re[wt]=nt[wt];return Re}if(nn(I)||Object.getPrototypeOf(I)===Set.prototype){if(q.exportMapsAsObjects===!1){var Bt=Bn(Oe,I,new Set,q);return I.forEach(function(Lt){Bt.add(C(Lt,q,Oe))}),Bt}var It=Bn(Oe,I,[],q);return I.forEach(function(Lt){It.push(C(Lt,q,Oe))}),It}if(kn(I)||Object.getPrototypeOf(I)===Map.prototype){if(q.exportMapsAsObjects===!1){var Ct=Bn(Oe,I,new Map,q);return I.forEach(function(Lt,$n){Ct.set($n,C(Lt,q,Oe))}),Ct}var Wt=Bn(Oe,I,{},q);return I.forEach(function(Lt,$n){Wt[$n]=C(Lt,q,Oe)}),Wt}var Gt=Bn(Oe,I,{},q);return ne(I).forEach(function(Lt){Gt[Lt]=C(I[Lt],q,Oe)}),Gt}(g,m,E)}function _i(g){switch(g.length){case 0:return at.trackingDerivation;case 1:return Kn(g[0]);case 2:return Kn(g[0],g[1])}}function wn(g,m){m===void 0&&(m=void 0),Wn();try{return g.apply(m)}finally{Yn()}}function hn(g,m,E){return arguments.length===1||m&&typeof m=="object"?Zo(g,m):lr(g,m,E||{})}function lr(g,m,E){var C;typeof E.timeout=="number"&&(C=setTimeout(function(){if(!q[H].isDisposed){q();var Oe=new Error("WHEN_TIMEOUT");if(!E.onError)throw Oe;E.onError(Oe)}},E.timeout)),E.name=E.name||"When@"+N();var I=Mt(E.name+"-effect",m),q=Vo(function(Oe){g()&&(Oe.dispose(),C&&clearTimeout(C),I())},E);return q}function Zo(g,m){var E,C=new Promise(function(I,q){var Oe=lr(g,I,me(me({},m),{onError:q}));E=function(){Oe(),q("WHEN_CANCELLED")}});return C.cancel=E,C}function Br(g){return g[H]}function vr(g){return typeof g=="string"||typeof g=="number"||typeof g=="symbol"}var Hr={has:function(g,m){if(m===H||m==="constructor"||m===Y)return!0;var E=Br(g);return vr(m)?E.has(m):m in g},get:function(g,m){if(m===H||m==="constructor"||m===Y)return g[m];var E=Br(g),C=E.values.get(m);if(C instanceof fe){var I=C.get();return I===void 0&&E.has(m),I}return vr(m)&&E.has(m),g[m]},set:function(g,m,E){return!!vr(m)&&(function C(I,q,Oe){if(arguments.length!==2||nn(I))if(an(I)){var Re=I[H],nt=Re.values.get(q);nt?Re.write(q,Oe):Re.addObservableProp(q,Oe,Re.defaultEnhancer)}else if(kn(I))I.set(q,Oe);else if(nn(I))I.add(q);else{if(!Nn(I))return T(!1);typeof q!="number"&&(q=parseInt(q,10)),A(q>=0,"Not a valid index: '"+q+"'"),Wn(),q>=I.length&&(I.length=q+1),I[q]=Oe,Yn()}else{Wn();var wt=q;try{for(var xt in wt)C(I,xt,wt[xt])}finally{Yn()}}}(g,m,E),!0)},deleteProperty:function(g,m){return!!vr(m)&&(Br(g).remove(m),!0)},ownKeys:function(g){return Br(g).keysAtom.reportObserved(),Reflect.ownKeys(g)},preventExtensions:function(g){return T("Dynamic observable objects cannot be frozen"),!1}};function Gr(g){var m=new Proxy(g,Hr);return g[H].proxy=m,m}function Zn(g){return g.interceptors!==void 0&&g.interceptors.length>0}function er(g,m){var E=g.interceptors||(g.interceptors=[]);return E.push(m),R(function(){var C=E.indexOf(m);C!==-1&&E.splice(C,1)})}function Mn(g,m){var E=Ge();try{for(var C=J(g.interceptors||[]),I=0,q=C.length;I<q&&(A(!(m=C[I](m))||m.type,"Intercept handlers should return nothing or a change object"),m);I++);return m}finally{Fe(E)}}function Tt(g){return g.changeListeners!==void 0&&g.changeListeners.length>0}function fr(g,m){var E=g.changeListeners||(g.changeListeners=[]);return E.push(m),R(function(){var C=E.indexOf(m);C!==-1&&E.splice(C,1)})}function vn(g,m){var E=Ge(),C=g.changeListeners;if(C){for(var I=0,q=(C=C.slice()).length;I<q;I++)C[I](m);Fe(E)}}var gr={get:function(g,m){return m===H?g[H]:m==="length"?g[H].getArrayLength():typeof m=="number"?tr.get.call(g,m):typeof m!="string"||isNaN(m)?tr.hasOwnProperty(m)?tr[m]:g[m]:tr.get.call(g,parseInt(m))},set:function(g,m,E){return m==="length"&&g[H].setArrayLength(E),typeof m=="number"&&tr.set.call(g,m,E),typeof m=="symbol"||isNaN(m)?g[m]=E:tr.set.call(g,parseInt(m),E),!0},preventExtensions:function(g){return T("Observable arrays cannot be frozen"),!1}};function Ao(g,m,E,C){E===void 0&&(E="ObservableArray@"+N()),C===void 0&&(C=!1);var I,q,Oe,Re=new so(E,m,C);I=Re.values,q=H,Oe=Re,Object.defineProperty(I,q,{enumerable:!1,writable:!1,configurable:!0,value:Oe});var nt=new Proxy(Re.values,gr);if(Re.proxy=nt,g&&g.length){var wt=Ht(!0);Re.spliceWithArray(0,0,g),en(wt)}return nt}var so=function(){function g(m,E,C){this.owned=C,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new fe(m||"ObservableArray@"+N()),this.enhancer=function(I,q){return E(I,q,m+"[..]")}}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},g.prototype.intercept=function(m){return er(this,m)},g.prototype.observe=function(m,E){return E===void 0&&(E=!1),E&&m({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),fr(this,m)},g.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},g.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var E=this.values.length;if(m!==E)if(m>E){for(var C=new Array(m-E),I=0;I<m-E;I++)C[I]=void 0;this.spliceWithArray(E,0,C)}else this.spliceWithArray(m,E-m)},g.prototype.updateArrayLength=function(m,E){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},g.prototype.spliceWithArray=function(m,E,C){var I=this;Q(this.atom);var q=this.values.length;if(m===void 0?m=0:m>q?m=q:m<0&&(m=Math.max(0,q+m)),E=arguments.length===1?q-m:E==null?0:Math.max(0,Math.min(E,q-m)),C===void 0&&(C=S),Zn(this)){var Oe=Mn(this,{object:this.proxy,type:"splice",index:m,removedCount:E,added:C});if(!Oe)return S;E=Oe.removedCount,C=Oe.added}C=C.length===0?C:C.map(function(nt){return I.enhancer(nt,void 0)});var Re=this.spliceItemsIntoValues(m,E,C);return E===0&&C.length===0||this.notifyArraySplice(m,C,Re),this.dehanceValues(Re)},g.prototype.spliceItemsIntoValues=function(m,E,C){var I;if(C.length<1e4)return(I=this.values).splice.apply(I,J([m,E],C));var q=this.values.slice(m,m+E);return this.values=this.values.slice(0,m).concat(C,this.values.slice(m+E)),q},g.prototype.notifyArrayChildUpdate=function(m,E,C){var I=!this.owned&&!1,q=Tt(this),Oe=q||I?{object:this.proxy,type:"update",index:m,newValue:E,oldValue:C}:null;this.atom.reportChanged(),q&&vn(this,Oe)},g.prototype.notifyArraySplice=function(m,E,C){var I=!this.owned&&!1,q=Tt(this),Oe=q||I?{object:this.proxy,type:"splice",index:m,removed:C,added:E,removedCount:C.length,addedCount:E.length}:null;this.atom.reportChanged(),q&&vn(this,Oe)},g}(),tr={intercept:function(g){return this[H].intercept(g)},observe:function(g,m){return m===void 0&&(m=!1),this[H].observe(g,m)},clear:function(){return this.splice(0)},replace:function(g){var m=this[H];return m.spliceWithArray(0,m.values.length,g)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(g,m){for(var E=[],C=2;C<arguments.length;C++)E[C-2]=arguments[C];var I=this[H];switch(arguments.length){case 0:return[];case 1:return I.spliceWithArray(g);case 2:return I.spliceWithArray(g,m)}return I.spliceWithArray(g,m,E)},spliceWithArray:function(g,m,E){return this[H].spliceWithArray(g,m,E)},push:function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var E=this[H];return E.spliceWithArray(E.values.length,0,g),E.values.length},pop:function(){return this.splice(Math.max(this[H].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var E=this[H];return E.spliceWithArray(0,0,g),E.values.length},reverse:function(){var g=this.slice();return g.reverse.apply(g,arguments)},sort:function(g){var m=this.slice();return m.sort.apply(m,arguments)},remove:function(g){var m=this[H],E=m.dehanceValues(m.values).indexOf(g);return E>-1&&(this.splice(E,1),!0)},get:function(g){var m=this[H];if(m){if(g<m.values.length)return m.atom.reportObserved(),m.dehanceValue(m.values[g]);console.warn("[mobx.array] Attempt to read an array index ("+g+") that is out of bounds ("+m.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(g,m){var E=this[H],C=E.values;if(g<C.length){Q(E.atom);var I=C[g];if(Zn(E)){var q=Mn(E,{type:"update",object:E.proxy,index:g,newValue:m});if(!q)return;m=q.newValue}(m=E.enhancer(m,I))!==I&&(C[g]=m,E.notifyArrayChildUpdate(g,m,I))}else{if(g!==C.length)throw new Error("[mobx.array] Index out of bounds, "+g+" is larger than "+C.length);E.spliceWithArray(g,0,[m])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(g){typeof Array.prototype[g]=="function"&&(tr[g]=function(){var m=this[H];m.atom.reportObserved();var E=m.dehanceValues(m.values);return E[g].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(g){typeof Array.prototype[g]=="function"&&(tr[g]=function(m,E){var C=this,I=this[H];return I.atom.reportObserved(),I.dehanceValues(I.values)[g](function(q,Oe){return m.call(E,q,Oe,C)},E)})}),["reduce","reduceRight"].forEach(function(g){tr[g]=function(){var m=this,E=this[H];E.atom.reportObserved();var C=arguments[0];return arguments[0]=function(I,q,Oe){return q=E.dehanceValue(q),C(I,q,Oe,m)},E.values[g].apply(E.values,arguments)}});var Do,Oi=se("ObservableArrayAdministration",so);function Nn(g){return V(g)&&Oi(g[H])}var Ko,Ui={},wi=function(){function g(m,E,C){if(E===void 0&&(E=Ke),C===void 0&&(C="ObservableMap@"+N()),this.enhancer=E,this.name=C,this[Do]=Ui,this._keysAtom=G(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return g.prototype._has=function(m){return this._data.has(m)},g.prototype.has=function(m){var E=this;if(!at.trackingDerivation)return this._has(m);var C=this._hasMap.get(m);if(!C){var I=C=new On(this._has(m),dt,this.name+"."+$(m)+"?",!1);this._hasMap.set(m,I),Tr(I,function(){return E._hasMap.delete(m)})}return C.get()},g.prototype.set=function(m,E){var C=this._has(m);if(Zn(this)){var I=Mn(this,{type:C?"update":"add",object:this,newValue:E,name:m});if(!I)return this;E=I.newValue}return C?this._updateValue(m,E):this._addValue(m,E),this},g.prototype.delete=function(m){var E=this;if(Q(this._keysAtom),Zn(this)&&!(I=Mn(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var C=Tt(this),I=C?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return wn(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(m,!1),E._data.get(m).setNewValue(void 0),E._data.delete(m)}),C&&vn(this,I),!0}return!1},g.prototype._updateHasMapEntry=function(m,E){var C=this._hasMap.get(m);C&&C.setNewValue(E)},g.prototype._updateValue=function(m,E){var C=this._data.get(m);if((E=C.prepareNewValue(E))!==at.UNCHANGED){var I=Tt(this),q=I?{type:"update",object:this,oldValue:C.value,name:m,newValue:E}:null;C.setNewValue(E),I&&vn(this,q)}},g.prototype._addValue=function(m,E){var C=this;Q(this._keysAtom),wn(function(){var Oe=new On(E,C.enhancer,C.name+"."+$(m),!1);C._data.set(m,Oe),E=Oe.value,C._updateHasMapEntry(m,!0),C._keysAtom.reportChanged()});var I=Tt(this),q=I?{type:"add",object:this,name:m,newValue:E}:null;I&&vn(this,q)},g.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},g.prototype.values=function(){var m=this,E=this.keys();return pr({next:function(){var C=E.next(),I=C.done,q=C.value;return{done:I,value:I?void 0:m.get(q)}}})},g.prototype.entries=function(){var m=this,E=this.keys();return pr({next:function(){var C=E.next(),I=C.done,q=C.value;return{done:I,value:I?void 0:[q,m.get(q)]}}})},g.prototype[Do=H,Symbol.iterator]=function(){return this.entries()},g.prototype.forEach=function(m,E){var C,I;try{for(var q=Se(this),Oe=q.next();!Oe.done;Oe=q.next()){var Re=X(Oe.value,2),nt=Re[0],wt=Re[1];m.call(E,wt,nt,this)}}catch(xt){C={error:xt}}finally{try{Oe&&!Oe.done&&(I=q.return)&&I.call(q)}finally{if(C)throw C.error}}},g.prototype.merge=function(m){var E=this;return kn(m)&&(m=m.toJS()),wn(function(){var C=Ht(!0);try{U(m)?ne(m).forEach(function(I){return E.set(I,m[I])}):Array.isArray(m)?m.forEach(function(I){var q=X(I,2),Oe=q[0],Re=q[1];return E.set(Oe,Re)}):ie(m)?(m.constructor!==Map&&T("Cannot initialize from classes that inherit from Map: "+m.constructor.name),m.forEach(function(I,q){return E.set(q,I)})):m!=null&&T("Cannot initialize map from "+m)}finally{en(C)}}),this},g.prototype.clear=function(){var m=this;wn(function(){be(function(){var E,C;try{for(var I=Se(m.keys()),q=I.next();!q.done;q=I.next()){var Oe=q.value;m.delete(Oe)}}catch(Re){E={error:Re}}finally{try{q&&!q.done&&(C=I.return)&&C.call(I)}finally{if(E)throw E.error}}})})},g.prototype.replace=function(m){var E=this;return wn(function(){var C,I,q,Oe,Re=function(An){if(ie(An)||kn(An))return An;if(Array.isArray(An))return new Map(An);if(U(An)){var Qo=new Map;for(var Ur in An)Qo.set(Ur,An[Ur]);return Qo}return T("Cannot convert to map from '"+An+"'")}(m),nt=new Map,wt=!1;try{for(var xt=Se(E._data.keys()),Bt=xt.next();!Bt.done;Bt=xt.next()){var It=Bt.value;if(!Re.has(It))if(E.delete(It))wt=!0;else{var Ct=E._data.get(It);nt.set(It,Ct)}}}catch(An){C={error:An}}finally{try{Bt&&!Bt.done&&(I=xt.return)&&I.call(xt)}finally{if(C)throw C.error}}try{for(var Wt=Se(Re.entries()),Gt=Wt.next();!Gt.done;Gt=Wt.next()){var Lt=X(Gt.value,2),$n=(It=Lt[0],Ct=Lt[1],E._data.has(It));if(E.set(It,Ct),E._data.has(It)){var Xi=E._data.get(It);nt.set(It,Xi),$n||(wt=!0)}}}catch(An){q={error:An}}finally{try{Gt&&!Gt.done&&(Oe=Wt.return)&&Oe.call(Wt)}finally{if(q)throw q.error}}if(!wt)if(E._data.size!==nt.size)E._keysAtom.reportChanged();else for(var vo=E._data.keys(),Fr=nt.keys(),mr=vo.next(),Si=Fr.next();!mr.done;){if(mr.value!==Si.value){E._keysAtom.reportChanged();break}mr=vo.next(),Si=Fr.next()}E._data=nt}),this},Object.defineProperty(g.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.toPOJO=function(){var m,E,C={};try{for(var I=Se(this),q=I.next();!q.done;q=I.next()){var Oe=X(q.value,2),Re=Oe[0],nt=Oe[1];C[typeof Re=="symbol"?Re:$(Re)]=nt}}catch(wt){m={error:wt}}finally{try{q&&!q.done&&(E=I.return)&&E.call(I)}finally{if(m)throw m.error}}return C},g.prototype.toJS=function(){return new Map(this)},g.prototype.toJSON=function(){return this.toPOJO()},g.prototype.toString=function(){var m=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return $(E)+": "+m.get(E)}).join(", ")+" }]"},g.prototype.observe=function(m,E){return fr(this,m)},g.prototype.intercept=function(m){return er(this,m)},g}(),kn=se("ObservableMap",wi),Hn={},nr=function(){function g(m,E,C){if(E===void 0&&(E=Ke),C===void 0&&(C="ObservableSet@"+N()),this.name=C,this[Ko]=Hn,this._data=new Set,this._atom=G(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(I,q){return E(I,q,C)},m&&this.replace(m)}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.clear=function(){var m=this;wn(function(){be(function(){var E,C;try{for(var I=Se(m._data.values()),q=I.next();!q.done;q=I.next()){var Oe=q.value;m.delete(Oe)}}catch(Re){E={error:Re}}finally{try{q&&!q.done&&(C=I.return)&&C.call(I)}finally{if(E)throw E.error}}})})},g.prototype.forEach=function(m,E){var C,I;try{for(var q=Se(this),Oe=q.next();!Oe.done;Oe=q.next()){var Re=Oe.value;m.call(E,Re,Re,this)}}catch(nt){C={error:nt}}finally{try{Oe&&!Oe.done&&(I=q.return)&&I.call(q)}finally{if(C)throw C.error}}},Object.defineProperty(g.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.add=function(m){var E=this;if(Q(this._atom),Zn(this)&&!(I=Mn(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){wn(function(){E._data.add(E.enhancer(m,void 0)),E._atom.reportChanged()});var C=Tt(this),I=C?{type:"add",object:this,newValue:m}:null;C&&vn(this,I)}return this},g.prototype.delete=function(m){var E=this;if(Zn(this)&&!(I=Mn(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var C=Tt(this),I=C?{type:"delete",object:this,oldValue:m}:null;return wn(function(){E._atom.reportChanged(),E._data.delete(m)}),C&&vn(this,I),!0}return!1},g.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},g.prototype.entries=function(){var m=0,E=Array.from(this.keys()),C=Array.from(this.values());return pr({next:function(){var I=m;return m+=1,I<C.length?{value:[E[I],C[I]],done:!1}:{done:!0}}})},g.prototype.keys=function(){return this.values()},g.prototype.values=function(){this._atom.reportObserved();var m=this,E=0,C=Array.from(this._data.values());return pr({next:function(){return E<C.length?{value:m.dehanceValue(C[E++]),done:!1}:{done:!0}}})},g.prototype.replace=function(m){var E=this;return nn(m)&&(m=m.toJS()),wn(function(){var C=Ht(!0);try{Array.isArray(m)||ee(m)?(E.clear(),m.forEach(function(I){return E.add(I)})):m!=null&&T("Cannot initialize set from "+m)}finally{en(C)}}),this},g.prototype.observe=function(m,E){return fr(this,m)},g.prototype.intercept=function(m){return er(this,m)},g.prototype.toJS=function(){return new Set(this)},g.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},g.prototype[Ko=H,Symbol.iterator]=function(){return this.values()},g}(),nn=se("ObservableSet",nr),co=function(){function g(m,E,C,I){E===void 0&&(E=new Map),this.target=m,this.values=E,this.name=C,this.defaultEnhancer=I,this.keysAtom=new fe(C+".keys")}return g.prototype.read=function(m){return this.values.get(m).get()},g.prototype.write=function(m,E){var C=this.target,I=this.values.get(m);if(I instanceof ir)I.set(E);else{if(Zn(this)){if(!(Oe=Mn(this,{type:"update",object:this.proxy||C,name:m,newValue:E})))return;E=Oe.newValue}if((E=I.prepareNewValue(E))!==at.UNCHANGED){var q=Tt(this),Oe=q?{type:"update",object:this.proxy||C,oldValue:I.value,name:m,newValue:E}:null;I.setNewValue(E),q&&vn(this,Oe)}}},g.prototype.has=function(m){var E=this.pendingKeys||(this.pendingKeys=new Map),C=E.get(m);if(C)return C.get();var I=!!this.values.get(m);return C=new On(I,dt,this.name+"."+$(m)+"?",!1),E.set(m,C),C.get()},g.prototype.addObservableProp=function(m,E,C){C===void 0&&(C=this.defaultEnhancer);var I=this.target;if(Zn(this)){var q=Mn(this,{object:this.proxy||I,name:m,type:"add",newValue:E});if(!q)return;E=q.newValue}var Oe=new On(E,C,this.name+"."+$(m),!1);this.values.set(m,Oe),E=Oe.value,Object.defineProperty(I,m,function(Re){return lo[Re]||(lo[Re]={configurable:!0,enumerable:!0,get:function(){return this[H].read(Re)},set:function(nt){this[H].write(Re,nt)}})}(m)),this.notifyPropertyAddition(m,E)},g.prototype.addComputedProp=function(m,E,C){var I,q,Oe,Re=this.target;C.name=C.name||this.name+"."+$(E),this.values.set(E,new ir(C)),(m===Re||(I=m,q=E,!(Oe=Object.getOwnPropertyDescriptor(I,q))||Oe.configurable!==!1&&Oe.writable!==!1))&&Object.defineProperty(m,E,function(nt){return fo[nt]||(fo[nt]={configurable:at.computedConfigurable,enumerable:!1,get:function(){return po(this).read(nt)},set:function(wt){po(this).write(nt,wt)}})}(E))},g.prototype.remove=function(m){if(this.values.has(m)){var E=this.target;if(Zn(this)&&!(Re=Mn(this,{object:this.proxy||E,name:m,type:"remove"})))return;try{Wn();var C=Tt(this),I=this.values.get(m),q=I&&I.get();if(I&&I.set(void 0),this.keysAtom.reportChanged(),this.values.delete(m),this.pendingKeys){var Oe=this.pendingKeys.get(m);Oe&&Oe.set(!1)}delete this.target[m];var Re=C?{type:"remove",object:this.proxy||E,oldValue:q,name:m}:null;C&&vn(this,Re)}finally{Yn()}}},g.prototype.illegalAccess=function(m,E){console.warn("Property '"+E+"' of '"+m+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},g.prototype.observe=function(m,E){return fr(this,m)},g.prototype.intercept=function(m){return er(this,m)},g.prototype.notifyPropertyAddition=function(m,E){var C=Tt(this),I=C?{type:"add",object:this.proxy||this.target,name:m,newValue:E}:null;if(C&&vn(this,I),this.pendingKeys){var q=this.pendingKeys.get(m);q&&q.set(!0)}this.keysAtom.reportChanged()},g.prototype.getKeys=function(){var m,E;this.keysAtom.reportObserved();var C=[];try{for(var I=Se(this.values),q=I.next();!q.done;q=I.next()){var Oe=X(q.value,2),Re=Oe[0];Oe[1]instanceof On&&C.push(Re)}}catch(nt){m={error:nt}}finally{try{q&&!q.done&&(E=I.return)&&E.call(I)}finally{if(m)throw m.error}}return C},g}();function To(g,m,E){if(m===void 0&&(m=""),E===void 0&&(E=Ke),Object.prototype.hasOwnProperty.call(g,H))return g[H];U(g)||(m=(g.constructor.name||"ObservableObject")+"@"+N()),m||(m="ObservableObject@"+N());var C=new co(g,new Map,$(m),E);return ue(g,H,C),C}var lo=Object.create(null),fo=Object.create(null);function po(g){var m=g[H];return m||(Ue(g),g[H])}var $o=se("ObservableObjectAdministration",co);function an(g){return!!V(g)&&(Ue(g),$o(g[H]))}function Kn(g,m){if(typeof g=="object"&&g!==null){if(Nn(g))return m!==void 0&&T(!1),g[H].atom;if(nn(g))return g[H];if(kn(g)){var E=g;return m===void 0?E._keysAtom:((C=E._data.get(m)||E._hasMap.get(m))||T(!1),C)}var C;if(Ue(g),m&&!g[H]&&g[m],an(g))return m?((C=g[H].values.get(m))||T(!1),C):T(!1);if(L(g)||Mr(g)||sr(g))return g}else if(typeof g=="function"&&sr(g[H]))return g[H];return T(!1)}function ho(g,m){return g||T("Expecting some object"),m!==void 0?ho(Kn(g,m)):L(g)||Mr(g)||sr(g)||kn(g)||nn(g)?g:(Ue(g),g[H]?g[H]:void T(!1))}var xi=Object.prototype.toString;function Jo(g,m,E){return E===void 0&&(E=-1),function C(I,q,Oe,Re,nt){if(I===q)return I!==0||1/I==1/q;if(I==null||q==null)return!1;if(I!=I)return q!=q;var wt=typeof I;if(wt!=="function"&&wt!=="object"&&typeof q!="object")return!1;var xt=xi.call(I);if(xt!==xi.call(q))return!1;switch(xt){case"[object RegExp]":case"[object String]":return""+I==""+q;case"[object Number]":return+I!=+I?+q!=+q:+I==0?1/+I==1/q:+I==+q;case"[object Date]":case"[object Boolean]":return+I==+q;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(I)===Symbol.valueOf.call(q);case"[object Map]":case"[object Set]":Oe>=0&&Oe++}I=Gn(I),q=Gn(q);var Bt=xt==="[object Array]";if(!Bt){if(typeof I!="object"||typeof q!="object")return!1;var It=I.constructor,Ct=q.constructor;if(It!==Ct&&!(typeof It=="function"&&It instanceof It&&typeof Ct=="function"&&Ct instanceof Ct)&&"constructor"in I&&"constructor"in q)return!1}if(Oe===0)return!1;Oe<0&&(Oe=-1),nt=nt||[];for(var Wt=(Re=Re||[]).length;Wt--;)if(Re[Wt]===I)return nt[Wt]===q;if(Re.push(I),nt.push(q),Bt){if((Wt=I.length)!==q.length)return!1;for(;Wt--;)if(!C(I[Wt],q[Wt],Oe-1,Re,nt))return!1}else{var Gt=Object.keys(I),Lt=void 0;if(Wt=Gt.length,Object.keys(q).length!==Wt)return!1;for(;Wt--;)if(Lt=Gt[Wt],!yo(q,Lt)||!C(I[Lt],q[Lt],Oe-1,Re,nt))return!1}return Re.pop(),nt.pop(),!0}(g,m,E)}function Gn(g){return Nn(g)?g.slice():ie(g)||kn(g)||ee(g)||nn(g)?Array.from(g.entries()):g}function yo(g,m){return Object.prototype.hasOwnProperty.call(g,m)}function pr(g){return g[Symbol.iterator]=Ei,g}function Ei(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ar,extras:{getDebugName:function(g,m){return(m!==void 0?Kn(g,m):an(g)||kn(g)||nn(g)?ho(g):Kn(g)).name}},$mobx:H})}).call(this,s(155),s(81))},function(w,j,s){"use strict";s.d(j,"a",function(){return $}),s.d(j,"b",function(){return ne}),s.d(j,"c",function(){return Ke}),s.d(j,"d",function(){return dt}),s.d(j,"e",function(){return se}),s.d(j,"f",function(){return ee}),s.d(j,"g",function(){return se}),s.d(j,"h",function(){return He}),s.d(j,"i",function(){return p}),s.d(j,"j",function(){return Ye}),s.d(j,"k",function(){return F});var b,p,S,x,N,T,A,R={},B=[],V=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function U(ce,de){for(var ge in de)ce[ge]=de[ge];return ce}function ue(ce){var de=ce.parentNode;de&&de.removeChild(ce)}function se(ce,de,ge){var De,ze,Ce,it={};for(Ce in de)Ce=="key"?De=de[Ce]:Ce=="ref"?ze=de[Ce]:it[Ce]=de[Ce];if(arguments.length>2&&(it.children=arguments.length>3?b.call(arguments,2):ge),typeof ce=="function"&&ce.defaultProps!=null)for(Ce in ce.defaultProps)it[Ce]===void 0&&(it[Ce]=ce.defaultProps[Ce]);return ie(ce,it,De,ze,null)}function ie(ce,de,ge,De,ze){var Ce={type:ce,props:de,key:ge,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:ze==null?++S:ze};return ze==null&&p.vnode!=null&&p.vnode(Ce),Ce}function ee(){return{current:null}}function ne(ce){return ce.children}function $(ce,de){this.props=ce,this.context=de}function K(ce,de){if(de==null)return ce.__?K(ce.__,ce.__.__k.indexOf(ce)+1):null;for(var ge;de<ce.__k.length;de++)if((ge=ce.__k[de])!=null&&ge.__e!=null)return ge.__e;return typeof ce.type=="function"?K(ce):null}function pe(ce){var de,ge;if((ce=ce.__)!=null&&ce.__c!=null){for(ce.__e=ce.__c.base=null,de=0;de<ce.__k.length;de++)if((ge=ce.__k[de])!=null&&ge.__e!=null){ce.__e=ce.__c.base=ge.__e;break}return pe(ce)}}function H(ce){(!ce.__d&&(ce.__d=!0)&&x.push(ce)&&!fe.__r++||T!==p.debounceRendering)&&((T=p.debounceRendering)||N)(fe)}function fe(){for(var ce;fe.__r=x.length;)ce=x.sort(function(de,ge){return de.__v.__b-ge.__v.__b}),x=[],ce.some(function(de){var ge,De,ze,Ce,it,rt;de.__d&&(it=(Ce=(ge=de).__v).__e,(rt=ge.__P)&&(De=[],(ze=U({},Ce)).__v=Ce.__v+1,Y(rt,Ce,ze,ge.__n,rt.ownerSVGElement!==void 0,Ce.__h!=null?[it]:null,De,it==null?K(Ce):it,Ce.__h),ae(De,Ce),Ce.__e!=it&&pe(Ce)))})}function L(ce,de,ge,De,ze,Ce,it,rt,ht,qe){var Me,le,et,tt,Ze,zt,_t,mt=De&&De.__k||B,At=mt.length;for(ge.__k=[],Me=0;Me<de.length;Me++)if((tt=ge.__k[Me]=(tt=de[Me])==null||typeof tt=="boolean"?null:typeof tt=="string"||typeof tt=="number"||typeof tt=="bigint"?ie(null,tt,null,null,tt):Array.isArray(tt)?ie(ne,{children:tt},null,null,null):tt.__b>0?ie(tt.type,tt.props,tt.key,null,tt.__v):tt)!=null){if(tt.__=ge,tt.__b=ge.__b+1,(et=mt[Me])===null||et&&tt.key==et.key&&tt.type===et.type)mt[Me]=void 0;else for(le=0;le<At;le++){if((et=mt[le])&&tt.key==et.key&&tt.type===et.type){mt[le]=void 0;break}et=null}Y(ce,tt,et=et||R,ze,Ce,it,rt,ht,qe),Ze=tt.__e,(le=tt.ref)&&et.ref!=le&&(_t||(_t=[]),et.ref&&_t.push(et.ref,null,tt),_t.push(le,tt.__c||Ze,tt)),Ze!=null?(zt==null&&(zt=Ze),typeof tt.type=="function"&&tt.__k===et.__k?tt.__d=ht=G(tt,ht,ce):ht=oe(ce,tt,et,mt,Ze,ht),typeof ge.type=="function"&&(ge.__d=ht)):ht&&et.__e==ht&&ht.parentNode!=ce&&(ht=K(et))}for(ge.__e=zt,Me=At;Me--;)mt[Me]!=null&&(typeof ge.type=="function"&&mt[Me].__e!=null&&mt[Me].__e==ge.__d&&(ge.__d=K(De,Me+1)),Ie(mt[Me],mt[Me]));if(_t)for(Me=0;Me<_t.length;Me++)we(_t[Me],_t[++Me],_t[++Me])}function G(ce,de,ge){for(var De,ze=ce.__k,Ce=0;ze&&Ce<ze.length;Ce++)(De=ze[Ce])&&(De.__=ce,de=typeof De.type=="function"?G(De,de,ge):oe(ge,De,De,ze,De.__e,de));return de}function F(ce,de){return de=de||[],ce==null||typeof ce=="boolean"||(Array.isArray(ce)?ce.some(function(ge){F(ge,de)}):de.push(ce)),de}function oe(ce,de,ge,De,ze,Ce){var it,rt,ht;if(de.__d!==void 0)it=de.__d,de.__d=void 0;else if(ge==null||ze!=Ce||ze.parentNode==null)e:if(Ce==null||Ce.parentNode!==ce)ce.appendChild(ze),it=null;else{for(rt=Ce,ht=0;(rt=rt.nextSibling)&&ht<De.length;ht+=2)if(rt==ze)break e;ce.insertBefore(ze,Ce),it=Ce}return it!==void 0?it:ze.nextSibling}function me(ce,de,ge){de[0]==="-"?ce.setProperty(de,ge):ce[de]=ge==null?"":typeof ge!="number"||V.test(de)?ge:ge+"px"}function Se(ce,de,ge,De,ze){var Ce;e:if(de==="style")if(typeof ge=="string")ce.style.cssText=ge;else{if(typeof De=="string"&&(ce.style.cssText=De=""),De)for(de in De)ge&&de in ge||me(ce.style,de,"");if(ge)for(de in ge)De&&ge[de]===De[de]||me(ce.style,de,ge[de])}else if(de[0]==="o"&&de[1]==="n")Ce=de!==(de=de.replace(/Capture$/,"")),de=de.toLowerCase()in ce?de.toLowerCase().slice(2):de.slice(2),ce.l||(ce.l={}),ce.l[de+Ce]=ge,ge?De||ce.addEventListener(de,Ce?J:X,Ce):ce.removeEventListener(de,Ce?J:X,Ce);else if(de!=="dangerouslySetInnerHTML"){if(ze)de=de.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(de!=="href"&&de!=="list"&&de!=="form"&&de!=="tabIndex"&&de!=="download"&&de in ce)try{ce[de]=ge==null?"":ge;break e}catch(it){}typeof ge=="function"||(ge!=null&&(ge!==!1||de[0]==="a"&&de[1]==="r")?ce.setAttribute(de,ge):ce.removeAttribute(de))}}function X(ce){this.l[ce.type+!1](p.event?p.event(ce):ce)}function J(ce){this.l[ce.type+!0](p.event?p.event(ce):ce)}function Y(ce,de,ge,De,ze,Ce,it,rt,ht){var qe,Me,le,et,tt,Ze,zt,_t,mt,At,Zt,Q=de.type;if(de.constructor!==void 0)return null;ge.__h!=null&&(ht=ge.__h,rt=de.__e=ge.__e,de.__h=null,Ce=[rt]),(qe=p.__b)&&qe(de);try{e:if(typeof Q=="function"){if(_t=de.props,mt=(qe=Q.contextType)&&De[qe.__c],At=qe?mt?mt.props.value:qe.__:De,ge.__c?zt=(Me=de.__c=ge.__c).__=Me.__E:("prototype"in Q&&Q.prototype.render?de.__c=Me=new Q(_t,At):(de.__c=Me=new $(_t,At),Me.constructor=Q,Me.render=Ue),mt&&mt.sub(Me),Me.props=_t,Me.state||(Me.state={}),Me.context=At,Me.__n=De,le=Me.__d=!0,Me.__h=[]),Me.__s==null&&(Me.__s=Me.state),Q.getDerivedStateFromProps!=null&&(Me.__s==Me.state&&(Me.__s=U({},Me.__s)),U(Me.__s,Q.getDerivedStateFromProps(_t,Me.__s))),et=Me.props,tt=Me.state,le)Q.getDerivedStateFromProps==null&&Me.componentWillMount!=null&&Me.componentWillMount(),Me.componentDidMount!=null&&Me.__h.push(Me.componentDidMount);else{if(Q.getDerivedStateFromProps==null&&_t!==et&&Me.componentWillReceiveProps!=null&&Me.componentWillReceiveProps(_t,At),!Me.__e&&Me.shouldComponentUpdate!=null&&Me.shouldComponentUpdate(_t,Me.__s,At)===!1||de.__v===ge.__v){Me.props=_t,Me.state=Me.__s,de.__v!==ge.__v&&(Me.__d=!1),Me.__v=de,de.__e=ge.__e,de.__k=ge.__k,de.__k.forEach(function(he){he&&(he.__=de)}),Me.__h.length&&it.push(Me);break e}Me.componentWillUpdate!=null&&Me.componentWillUpdate(_t,Me.__s,At),Me.componentDidUpdate!=null&&Me.__h.push(function(){Me.componentDidUpdate(et,tt,Ze)})}Me.context=At,Me.props=_t,Me.state=Me.__s,(qe=p.__r)&&qe(de),Me.__d=!1,Me.__v=de,Me.__P=ce,qe=Me.render(Me.props,Me.state,Me.context),Me.state=Me.__s,Me.getChildContext!=null&&(De=U(U({},De),Me.getChildContext())),le||Me.getSnapshotBeforeUpdate==null||(Ze=Me.getSnapshotBeforeUpdate(et,tt)),Zt=qe!=null&&qe.type===ne&&qe.key==null?qe.props.children:qe,L(ce,Array.isArray(Zt)?Zt:[Zt],de,ge,De,ze,Ce,it,rt,ht),Me.base=de.__e,de.__h=null,Me.__h.length&&it.push(Me),zt&&(Me.__E=Me.__=null),Me.__e=!1}else Ce==null&&de.__v===ge.__v?(de.__k=ge.__k,de.__e=ge.__e):de.__e=ve(ge.__e,de,ge,De,ze,Ce,it,ht);(qe=p.diffed)&&qe(de)}catch(he){de.__v=null,(ht||Ce!=null)&&(de.__e=rt,de.__h=!!ht,Ce[Ce.indexOf(rt)]=null),p.__e(he,de,ge)}}function ae(ce,de){p.__c&&p.__c(de,ce),ce.some(function(ge){try{ce=ge.__h,ge.__h=[],ce.some(function(De){De.call(ge)})}catch(De){p.__e(De,ge.__v)}})}function ve(ce,de,ge,De,ze,Ce,it,rt){var ht,qe,Me,le=ge.props,et=de.props,tt=de.type,Ze=0;if(tt==="svg"&&(ze=!0),Ce!=null){for(;Ze<Ce.length;Ze++)if((ht=Ce[Ze])&&"setAttribute"in ht==!!tt&&(tt?ht.localName===tt:ht.nodeType===3)){ce=ht,Ce[Ze]=null;break}}if(ce==null){if(tt===null)return document.createTextNode(et);ce=ze?document.createElementNS("http://www.w3.org/2000/svg",tt):document.createElement(tt,et.is&&et),Ce=null,rt=!1}if(tt===null)le===et||rt&&ce.data===et||(ce.data=et);else{if(Ce=Ce&&b.call(ce.childNodes),qe=(le=ge.props||R).dangerouslySetInnerHTML,Me=et.dangerouslySetInnerHTML,!rt){if(Ce!=null)for(le={},Ze=0;Ze<ce.attributes.length;Ze++)le[ce.attributes[Ze].name]=ce.attributes[Ze].value;(Me||qe)&&(Me&&(qe&&Me.__html==qe.__html||Me.__html===ce.innerHTML)||(ce.innerHTML=Me&&Me.__html||""))}if(function(zt,_t,mt,At,Zt){var Q;for(Q in mt)Q==="children"||Q==="key"||Q in _t||Se(zt,Q,null,mt[Q],At);for(Q in _t)Zt&&typeof _t[Q]!="function"||Q==="children"||Q==="key"||Q==="value"||Q==="checked"||mt[Q]===_t[Q]||Se(zt,Q,_t[Q],mt[Q],At)}(ce,et,le,ze,rt),Me)de.__k=[];else if(Ze=de.props.children,L(ce,Array.isArray(Ze)?Ze:[Ze],de,ge,De,ze&&tt!=="foreignObject",Ce,it,Ce?Ce[0]:ge.__k&&K(ge,0),rt),Ce!=null)for(Ze=Ce.length;Ze--;)Ce[Ze]!=null&&ue(Ce[Ze]);rt||("value"in et&&(Ze=et.value)!==void 0&&(Ze!==le.value||Ze!==ce.value||tt==="progress"&&!Ze)&&Se(ce,"value",Ze,le.value,!1),"checked"in et&&(Ze=et.checked)!==void 0&&Ze!==ce.checked&&Se(ce,"checked",Ze,le.checked,!1))}return ce}function we(ce,de,ge){try{typeof ce=="function"?ce(de):ce.current=de}catch(De){p.__e(De,ge)}}function Ie(ce,de,ge){var De,ze;if(p.unmount&&p.unmount(ce),(De=ce.ref)&&(De.current&&De.current!==ce.__e||we(De,null,de)),(De=ce.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(Ce){p.__e(Ce,de)}De.base=De.__P=null}if(De=ce.__k)for(ze=0;ze<De.length;ze++)De[ze]&&Ie(De[ze],de,typeof ce.type!="function");ge||ce.__e==null||ue(ce.__e),ce.__e=ce.__d=void 0}function Ue(ce,de,ge){return this.constructor(ce,ge)}function Ye(ce,de,ge){var De,ze,Ce;p.__&&p.__(ce,de),ze=(De=typeof ge=="function")?null:ge&&ge.__k||de.__k,Ce=[],Y(de,ce=(!De&&ge||de).__k=se(ne,null,[ce]),ze||R,R,de.ownerSVGElement!==void 0,!De&&ge?[ge]:ze?null:de.firstChild?b.call(de.childNodes):null,Ce,!De&&ge?ge:ze?ze.__e:de.firstChild,De),ae(Ce,ce)}function He(ce,de){Ye(ce,de,He)}function Ke(ce,de,ge){var De,ze,Ce,it=U({},ce.props);for(Ce in de)Ce=="key"?De=de[Ce]:Ce=="ref"?ze=de[Ce]:it[Ce]=de[Ce];return arguments.length>2&&(it.children=arguments.length>3?b.call(arguments,2):ge),ie(ce.type,it,De||ce.key,ze||ce.ref,null)}function dt(ce,de){var ge={__c:de="__cC"+A++,__:ce,Consumer:function(De,ze){return De.children(ze)},Provider:function(De){var ze,Ce;return this.getChildContext||(ze=[],(Ce={})[de]=this,this.getChildContext=function(){return Ce},this.shouldComponentUpdate=function(it){this.props.value!==it.value&&ze.some(H)},this.sub=function(it){ze.push(it);var rt=it.componentWillUnmount;it.componentWillUnmount=function(){ze.splice(ze.indexOf(it),1),rt&&rt.call(it)}}),De.children}};return ge.Provider.__=ge.Consumer.contextType=ge}b=B.slice,p={__e:function(ce,de){for(var ge,De,ze;de=de.__;)if((ge=de.__c)&&!ge.__)try{if((De=ge.constructor)&&De.getDerivedStateFromError!=null&&(ge.setState(De.getDerivedStateFromError(ce)),ze=ge.__d),ge.componentDidCatch!=null&&(ge.componentDidCatch(ce),ze=ge.__d),ze)return ge.__E=ge}catch(Ce){ce=Ce}throw ce}},S=0,$.prototype.setState=function(ce,de){var ge;ge=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=U({},this.state),typeof ce=="function"&&(ce=ce(U({},ge),this.props)),ce&&U(ge,ce),ce!=null&&this.__v&&(de&&this.__h.push(de),H(this))},$.prototype.forceUpdate=function(ce){this.__v&&(this.__e=!0,ce&&this.__h.push(ce),H(this))},$.prototype.render=ne,x=[],N=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,fe.__r=0,A=0},function(w,j,s){var b=s(116),p=s(44),S=s(177);b||p(Object.prototype,"toString",S,{unsafe:!0})},function(w,j,s){"use strict";var b=s(39),p=s(82),S=s(70),x=s(56),N=s(111),T=x.set,A=x.getterFor("Array Iterator");w.exports=N(Array,"Array",function(R,B){T(this,{type:"Array Iterator",target:b(R),index:0,kind:B})},function(){var R=A(this),B=R.target,V=R.kind,U=R.index++;return!B||U>=B.length?(R.target=void 0,{value:void 0,done:!0}):V=="keys"?{value:U,done:!1}:V=="values"?{value:B[U],done:!1}:{value:[U,B[U]],done:!1}},"values"),S.Arguments=S.Array,p("keys"),p("values"),p("entries")},function(w,j,s){var b=s(7),p=s(147),S=s(148),x=s(3),N=s(57),T=s(27),A=T("iterator"),R=T("toStringTag"),B=x.values,V=function(ue,se){if(ue){if(ue[A]!==B)try{N(ue,A,B)}catch(ee){ue[A]=B}if(ue[R]||N(ue,R,se),p[se]){for(var ie in x)if(ue[ie]!==x[ie])try{N(ue,ie,x[ie])}catch(ee){ue[ie]=x[ie]}}}};for(var U in p)V(b[U]&&b[U].prototype,U);V(S,"DOMTokenList")},function(w,j,s){"use strict";var b=s(16),p=s(7),S=s(46),x=s(76),N=s(35),T=s(15),A=s(64),R=s(36),B=s(109),V=s(18),U=s(34),ue=s(98),se=s(28),ie=s(33),ee=s(58),ne=s(87),$=s(32),K=s(38),pe=s(39),H=s(86),fe=s(40),L=s(71),G=s(54),F=s(66),oe=s(72),me=s(139),Se=s(112),X=s(51),J=s(37),Y=s(92),ae=s(100),ve=s(44),we=s(83),Ie=s(90),Ue=s(69),Ye=s(84),He=s(27),Ke=s(149),dt=s(150),ce=s(73),de=s(56),ge=s(74).forEach,De=Ie("hidden"),ze=He("toPrimitive"),Ce=de.set,it=de.getterFor("Symbol"),rt=Object.prototype,ht=p.Symbol,qe=ht&&ht.prototype,Me=p.TypeError,le=p.QObject,et=S("JSON","stringify"),tt=X.f,Ze=J.f,zt=me.f,_t=Y.f,mt=T([].push),At=we("symbols"),Zt=we("op-symbols"),Q=we("string-to-symbol-registry"),he=we("symbol-to-string-registry"),Te=we("wks"),be=!le||!le.prototype||!le.prototype.findChild,Ge=R&&V(function(){return G(Ze({},"a",{get:function(){return Ze(this,"a",{value:7}).a}})).a!=7})?function($e,st,yt){var Ot=tt(rt,st);Ot&&delete rt[st],Ze($e,st,yt),Ot&&$e!==rt&&Ze(rt,st,Ot)}:Ze,Fe=function($e,st){var yt=At[$e]=G(qe);return Ce(yt,{type:"Symbol",tag:$e,description:st}),R||(yt.description=st),yt},Je=function($e,st,yt){$e===rt&&Je(Zt,st,yt),$($e);var Ot=H(st);return $(yt),U(At,Ot)?(yt.enumerable?(U($e,De)&&$e[De][Ot]&&($e[De][Ot]=!1),yt=G(yt,{enumerable:L(0,!1)})):(U($e,De)||Ze($e,De,L(1,{})),$e[De][Ot]=!0),Ge($e,Ot,yt)):Ze($e,Ot,yt)},ut=function($e,st){$($e);var yt=pe(st),Ot=F(yt).concat(rn(yt));return ge(Ot,function(Ht){R&&!N(jt,yt,Ht)||Je($e,Ht,yt[Ht])}),$e},jt=function($e){var st=H($e),yt=N(_t,this,st);return!(this===rt&&U(At,st)&&!U(Zt,st))&&(!(yt||!U(this,st)||!U(At,st)||U(this,De)&&this[De][st])||yt)},Vt=function($e,st){var yt=pe($e),Ot=H(st);if(yt!==rt||!U(At,Ot)||U(Zt,Ot)){var Ht=tt(yt,Ot);return!Ht||!U(At,Ot)||U(yt,De)&&yt[De][Ot]||(Ht.enumerable=!0),Ht}},_n=function($e){var st=zt(pe($e)),yt=[];return ge(st,function(Ot){U(At,Ot)||U(Ue,Ot)||mt(yt,Ot)}),yt},rn=function($e){var st=$e===rt,yt=zt(st?Zt:pe($e)),Ot=[];return ge(yt,function(Ht){!U(At,Ht)||st&&!U(rt,Ht)||mt(Ot,At[Ht])}),Ot};if(B||(ve(qe=(ht=function(){if(ee(qe,this))throw Me("Symbol is not a constructor");var $e=arguments.length&&arguments[0]!==void 0?fe(arguments[0]):void 0,st=Ye($e),yt=function(Ot){this===rt&&N(yt,Zt,Ot),U(this,De)&&U(this[De],st)&&(this[De][st]=!1),Ge(this,st,L(1,Ot))};return R&&be&&Ge(rt,st,{configurable:!0,set:yt}),Fe(st,$e)}).prototype,"toString",function(){return it(this).tag}),ve(ht,"withoutSetter",function($e){return Fe(Ye($e),$e)}),Y.f=jt,J.f=Je,X.f=Vt,oe.f=me.f=_n,Se.f=rn,Ke.f=function($e){return Fe(He($e),$e)},R&&(Ze(qe,"description",{configurable:!0,get:function(){return it(this).description}}),A||ve(rt,"propertyIsEnumerable",jt,{unsafe:!0}))),b({global:!0,wrap:!0,forced:!B,sham:!B},{Symbol:ht}),ge(F(Te),function($e){dt($e)}),b({target:"Symbol",stat:!0,forced:!B},{for:function($e){var st=fe($e);if(U(Q,st))return Q[st];var yt=ht(st);return Q[st]=yt,he[yt]=st,yt},keyFor:function($e){if(!ne($e))throw Me($e+" is not a symbol");if(U(he,$e))return he[$e]},useSetter:function(){be=!0},useSimple:function(){be=!1}}),b({target:"Object",stat:!0,forced:!B,sham:!R},{create:function($e,st){return st===void 0?G($e):ut(G($e),st)},defineProperty:Je,defineProperties:ut,getOwnPropertyDescriptor:Vt}),b({target:"Object",stat:!0,forced:!B},{getOwnPropertyNames:_n,getOwnPropertySymbols:rn}),b({target:"Object",stat:!0,forced:V(function(){Se.f(1)})},{getOwnPropertySymbols:function($e){return Se.f(K($e))}}),et&&b({target:"JSON",stat:!0,forced:!B||V(function(){var $e=ht();return et([$e])!="[null]"||et({a:$e})!="{}"||et(Object($e))!="{}"})},{stringify:function($e,st,yt){var Ot=ae(arguments),Ht=st;if((ie(st)||$e!==void 0)&&!ne($e))return ue(st)||(st=function(en,On){if(se(Ht)&&(On=N(Ht,this,en,On)),!ne(On))return On}),Ot[1]=st,x(et,null,Ot)}}),!qe[ze]){var Mt=qe.valueOf;ve(qe,ze,function($e){return N(Mt,this)})}ce(ht,"Symbol"),Ue[De]=!0},function(w,j,s){"use strict";var b=s(146).charAt,p=s(40),S=s(56),x=s(111),N=S.set,T=S.getterFor("String Iterator");x(String,"String",function(A){N(this,{type:"String Iterator",string:p(A),index:0})},function(){var A,R=T(this),B=R.string,V=R.index;return V>=B.length?{value:void 0,done:!0}:(A=b(B,V),R.index+=A.length,{value:A,done:!1})})},function(w,j,s){(function(b){var p=function(S){return S&&S.Math==Math&&S};w.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof b=="object"&&b)||function(){return this}()||Function("return this")()}).call(this,s(81))},function(w,j,s){"use strict";var b=s(16),p=s(36),S=s(7),x=s(15),N=s(34),T=s(28),A=s(58),R=s(40),B=s(37).f,V=s(134),U=S.Symbol,ue=U&&U.prototype;if(p&&T(U)&&(!("description"in ue)||U().description!==void 0)){var se={},ie=function(){var fe=arguments.length<1||arguments[0]===void 0?void 0:R(arguments[0]),L=A(ue,this)?new U(fe):fe===void 0?U():U(fe);return fe===""&&(se[L]=!0),L};V(ie,U),ie.prototype=ue,ue.constructor=ie;var ee=String(U("test"))=="Symbol(test)",ne=x(ue.toString),$=x(ue.valueOf),K=/^Symbol\((.*)\)[^)]+$/,pe=x("".replace),H=x("".slice);B(ue,"description",{configurable:!0,get:function(){var fe=$(this),L=ne(fe);if(N(se,fe))return"";var G=ee?H(L,7,-1):pe(L,K,"$1");return G===""?void 0:G}}),b({global:!0,forced:!0},{Symbol:ie})}},function(w,j,s){s(150)("iterator")},function(w,j,s){"use strict";s.d(j,"a",function(){return x.a}),s.d(j,"c",function(){return x.e}),s.d(j,"h",function(){return K}),s.d(j,"i",function(){return ee}),s.d(j,"j",function(){return se}),s.d(j,"b",function(){return X}),s.d(j,"e",function(){return ve}),s.d(j,"f",function(){return J}),s.d(j,"g",function(){return mt});var b,p,S,x=s(1),N=0,T=[],A=x.i.__b,R=x.i.__r,B=x.i.diffed,V=x.i.__c,U=x.i.unmount;function ue(Q,he){x.i.__h&&x.i.__h(p,Q,N||he),N=0;var Te=p.__H||(p.__H={__:[],__h:[]});return Q>=Te.__.length&&Te.__.push({}),Te.__[Q]}function se(Q){return N=1,ie(oe,Q)}function ie(Q,he,Te){var be=ue(b++,2);return be.t=Q,be.__c||(be.__=[Te?Te(he):oe(void 0,he),function(Ge){var Fe=be.t(be.__[0],Ge);be.__[0]!==Fe&&(be.__=[Fe,be.__[1]],be.__c.setState({}))}],be.__c=p),be.__}function ee(Q,he){var Te=ue(b++,3);!x.i.__s&&F(Te.__H,he)&&(Te.__=Q,Te.__H=he,p.__H.__h.push(Te))}function ne(Q,he){var Te=ue(b++,4);!x.i.__s&&F(Te.__H,he)&&(Te.__=Q,Te.__H=he,p.__h.push(Te))}function $(Q,he){var Te=ue(b++,7);return F(Te.__H,he)&&(Te.__=Q(),Te.__H=he,Te.__h=Q),Te.__}function K(Q,he){return N=8,$(function(){return Q},he)}function pe(){var Q;for(T.sort(function(he,Te){return he.__v.__b-Te.__v.__b});Q=T.pop();)if(Q.__P)try{Q.__H.__h.forEach(L),Q.__H.__h.forEach(G),Q.__H.__h=[]}catch(he){Q.__H.__h=[],x.i.__e(he,Q.__v)}}x.i.__b=function(Q){p=null,A&&A(Q)},x.i.__r=function(Q){R&&R(Q),b=0;var he=(p=Q.__c).__H;he&&(he.__h.forEach(L),he.__h.forEach(G),he.__h=[])},x.i.diffed=function(Q){B&&B(Q);var he=Q.__c;he&&he.__H&&he.__H.__h.length&&(T.push(he)!==1&&S===x.i.requestAnimationFrame||((S=x.i.requestAnimationFrame)||fe)(pe)),p=null},x.i.__c=function(Q,he){he.some(function(Te){try{Te.__h.forEach(L),Te.__h=Te.__h.filter(function(be){return!be.__||G(be)})}catch(be){he.some(function(Ge){Ge.__h&&(Ge.__h=[])}),he=[],x.i.__e(be,Te.__v)}}),V&&V(Q,he)},x.i.unmount=function(Q){U&&U(Q);var he,Te=Q.__c;Te&&Te.__H&&(Te.__H.__.forEach(function(be){try{L(be)}catch(Ge){he=Ge}}),he&&x.i.__e(he,Te.__v))};var H=typeof requestAnimationFrame=="function";function fe(Q){var he,Te=function(){clearTimeout(be),H&&cancelAnimationFrame(he),setTimeout(Q)},be=setTimeout(Te,100);H&&(he=requestAnimationFrame(Te))}function L(Q){var he=p,Te=Q.__c;typeof Te=="function"&&(Q.__c=void 0,Te()),p=he}function G(Q){var he=p;Q.__c=Q.__(),p=he}function F(Q,he){return!Q||Q.length!==he.length||he.some(function(Te,be){return Te!==Q[be]})}function oe(Q,he){return typeof he=="function"?he(Q):he}function me(Q,he){for(var Te in he)Q[Te]=he[Te];return Q}function Se(Q,he){for(var Te in Q)if(Te!=="__source"&&!(Te in he))return!0;for(var be in he)if(be!=="__source"&&Q[be]!==he[be])return!0;return!1}function X(Q){this.props=Q}function J(Q,he){function Te(Ge){var Fe=this.props.ref,Je=Fe==Ge.ref;return!Je&&Fe&&(Fe.call?Fe(null):Fe.current=null),he?!he(this.props,Ge)||!Je:Se(this.props,Ge)}function be(Ge){return this.shouldComponentUpdate=Te,Object(x.e)(Q,Ge)}return be.displayName="Memo("+(Q.displayName||Q.name)+")",be.prototype.isReactComponent=!0,be.__f=!0,be}(X.prototype=new x.a).isPureReactComponent=!0,X.prototype.shouldComponentUpdate=function(Q,he){return Se(this.props,Q)||Se(this.state,he)};var Y=x.i.__b;x.i.__b=function(Q){Q.type&&Q.type.__f&&Q.ref&&(Q.props.ref=Q.ref,Q.ref=null),Y&&Y(Q)};var ae=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ve(Q){function he(Te,be){var Ge=me({},Te);return delete Ge.ref,Q(Ge,!(be=Te.ref||be)||typeof be=="object"&&!("current"in be)?null:be)}return he.$$typeof=ae,he.render=he,he.prototype.isReactComponent=he.__f=!0,he.displayName="ForwardRef("+(Q.displayName||Q.name)+")",he}var we=function(Q,he){return Q==null?null:Object(x.k)(Object(x.k)(Q).map(he))},Ie={map:we,forEach:we,count:function(Q){return Q?Object(x.k)(Q).length:0},only:function(Q){var he=Object(x.k)(Q);if(he.length!==1)throw"Children.only";return he[0]},toArray:x.k},Ue=x.i.__e;x.i.__e=function(Q,he,Te){if(Q.then){for(var be,Ge=he;Ge=Ge.__;)if((be=Ge.__c)&&be.__c)return he.__e==null&&(he.__e=Te.__e,he.__k=Te.__k),be.__c(Q,he)}Ue(Q,he,Te)};var Ye=x.i.unmount;function He(){this.__u=0,this.t=null,this.__b=null}function Ke(Q){var he=Q.__.__c;return he&&he.__e&&he.__e(Q)}function dt(){this.u=null,this.o=null}x.i.unmount=function(Q){var he=Q.__c;he&&he.__R&&he.__R(),he&&Q.__h===!0&&(Q.type=null),Ye&&Ye(Q)},(He.prototype=new x.a).__c=function(Q,he){var Te=he.__c,be=this;be.t==null&&(be.t=[]),be.t.push(Te);var Ge=Ke(be.__v),Fe=!1,Je=function(){Fe||(Fe=!0,Te.__R=null,Ge?Ge(ut):ut())};Te.__R=Je;var ut=function(){if(!--be.__u){if(be.state.__e){var Vt=be.state.__e;be.__v.__k[0]=function rn(Mt,$e,st){return Mt&&(Mt.__v=null,Mt.__k=Mt.__k&&Mt.__k.map(function(yt){return rn(yt,$e,st)}),Mt.__c&&Mt.__c.__P===$e&&(Mt.__e&&st.insertBefore(Mt.__e,Mt.__d),Mt.__c.__e=!0,Mt.__c.__P=st)),Mt}(Vt,Vt.__c.__P,Vt.__c.__O)}var _n;for(be.setState({__e:be.__b=null});_n=be.t.pop();)_n.forceUpdate()}},jt=he.__h===!0;be.__u++||jt||be.setState({__e:be.__b=be.__v.__k[0]}),Q.then(Je,Je)},He.prototype.componentWillUnmount=function(){this.t=[]},He.prototype.render=function(Q,he){if(this.__b){if(this.__v.__k){var Te=document.createElement("div"),be=this.__v.__k[0].__c;this.__v.__k[0]=function Fe(Je,ut,jt){return Je&&(Je.__c&&Je.__c.__H&&(Je.__c.__H.__.forEach(function(Vt){typeof Vt.__c=="function"&&Vt.__c()}),Je.__c.__H=null),(Je=me({},Je)).__c!=null&&(Je.__c.__P===jt&&(Je.__c.__P=ut),Je.__c=null),Je.__k=Je.__k&&Je.__k.map(function(Vt){return Fe(Vt,ut,jt)})),Je}(this.__b,Te,be.__O=be.__P)}this.__b=null}var Ge=he.__e&&Object(x.e)(x.b,null,Q.fallback);return Ge&&(Ge.__h=null),[Object(x.e)(x.b,null,he.__e?null:Q.children),Ge]};var ce=function(Q,he,Te){if(++Te[1]===Te[0]&&Q.o.delete(he),Q.props.revealOrder&&(Q.props.revealOrder[0]!=="t"||!Q.o.size))for(Te=Q.u;Te;){for(;Te.length>3;)Te.pop()();if(Te[1]<Te[0])break;Q.u=Te=Te[2]}};function de(Q){return this.getChildContext=function(){return Q.context},Q.children}function ge(Q){var he=this,Te=Q.i;he.componentWillUnmount=function(){Object(x.j)(null,he.l),he.l=null,he.i=null},he.i&&he.i!==Te&&he.componentWillUnmount(),Q.__v?(he.l||(he.i=Te,he.l={nodeType:1,parentNode:Te,childNodes:[],appendChild:function(be){this.childNodes.push(be),he.i.appendChild(be)},insertBefore:function(be,Ge){this.childNodes.push(be),he.i.appendChild(be)},removeChild:function(be){this.childNodes.splice(this.childNodes.indexOf(be)>>>1,1),he.i.removeChild(be)}}),Object(x.j)(Object(x.e)(de,{context:he.context},Q.__v),he.l)):he.l&&he.componentWillUnmount()}(dt.prototype=new x.a).__e=function(Q){var he=this,Te=Ke(he.__v),be=he.o.get(Q);return be[0]++,function(Ge){var Fe=function(){he.props.revealOrder?(be.push(Ge),ce(he,Q,be)):Ge()};Te?Te(Fe):Fe()}},dt.prototype.render=function(Q){this.u=null,this.o=new Map;var he=Object(x.k)(Q.children);Q.revealOrder&&Q.revealOrder[0]==="b"&&he.reverse();for(var Te=he.length;Te--;)this.o.set(he[Te],this.u=[1,0,this.u]);return Q.children},dt.prototype.componentDidUpdate=dt.prototype.componentDidMount=function(){var Q=this;this.o.forEach(function(he,Te){ce(Q,Te,he)})};var De=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,ze=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ce=typeof document!="undefined",it=function(Q){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(Q)};x.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Q){Object.defineProperty(x.a.prototype,Q,{configurable:!0,get:function(){return this["UNSAFE_"+Q]},set:function(he){Object.defineProperty(this,Q,{configurable:!0,writable:!0,value:he})}})});var rt=x.i.event;function ht(){}function qe(){return this.cancelBubble}function Me(){return this.defaultPrevented}x.i.event=function(Q){return rt&&(Q=rt(Q)),Q.persist=ht,Q.isPropagationStopped=qe,Q.isDefaultPrevented=Me,Q.nativeEvent=Q};var le,et={configurable:!0,get:function(){return this.class}},tt=x.i.vnode;x.i.vnode=function(Q){var he=Q.type,Te=Q.props,be=Te;if(typeof he=="string"){var Ge=he.indexOf("-")===-1;for(var Fe in be={},Te){var Je=Te[Fe];Ce&&Fe==="children"&&he==="noscript"||Fe==="value"&&"defaultValue"in Te&&Je==null||(Fe==="defaultValue"&&"value"in Te&&Te.value==null?Fe="value":Fe==="download"&&Je===!0?Je="":/ondoubleclick/i.test(Fe)?Fe="ondblclick":/^onchange(textarea|input)/i.test(Fe+he)&&!it(Te.type)?Fe="oninput":/^onfocus$/i.test(Fe)?Fe="onfocusin":/^onblur$/i.test(Fe)?Fe="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Fe)?Fe=Fe.toLowerCase():Ge&&ze.test(Fe)?Fe=Fe.replace(/[A-Z0-9]/,"-$&").toLowerCase():Je===null&&(Je=void 0),be[Fe]=Je)}he=="select"&&be.multiple&&Array.isArray(be.value)&&(be.value=Object(x.k)(Te.children).forEach(function(ut){ut.props.selected=be.value.indexOf(ut.props.value)!=-1})),he=="select"&&be.defaultValue!=null&&(be.value=Object(x.k)(Te.children).forEach(function(ut){ut.props.selected=be.multiple?be.defaultValue.indexOf(ut.props.value)!=-1:be.defaultValue==ut.props.value})),Q.props=be,Te.class!=Te.className&&(et.enumerable="className"in Te,Te.className!=null&&(be.class=Te.className),Object.defineProperty(be,"className",et))}Q.$$typeof=De,tt&&tt(Q)};var Ze=x.i.__r;x.i.__r=function(Q){Ze&&Ze(Q),le=Q.__c};var zt={ReactCurrentDispatcher:{current:{readContext:function(Q){return le.__n[Q.__c].props.value}}}};function _t(Q){return!!Q&&Q.$$typeof===De}var mt=function(Q,he){return Q(he)},At=x.b,Zt={useState:se,useReducer:ie,useEffect:ee,useLayoutEffect:ne,useRef:function(Q){return N=5,$(function(){return{current:Q}},[])},useImperativeHandle:function(Q,he,Te){N=6,ne(function(){typeof Q=="function"?Q(he()):Q&&(Q.current=he())},Te==null?Te:Te.concat(Q))},useMemo:$,useCallback:K,useContext:function(Q){var he=p.context[Q.__c],Te=ue(b++,9);return Te.c=Q,he?(Te.__==null&&(Te.__=!0,he.sub(p)),he.props.value):Q.__},useDebugValue:function(Q,he){x.i.useDebugValue&&x.i.useDebugValue(he?he(Q):Q)},version:"17.0.2",Children:Ie,render:function(Q,he,Te){return he.__k==null&&(he.textContent=""),Object(x.j)(Q,he),typeof Te=="function"&&Te(),Q?Q.__c:null},hydrate:function(Q,he,Te){return Object(x.h)(Q,he),typeof Te=="function"&&Te(),Q?Q.__c:null},unmountComponentAtNode:function(Q){return!!Q.__k&&(Object(x.j)(null,Q),!0)},createPortal:function(Q,he){return Object(x.e)(ge,{__v:Q,i:he})},createElement:x.e,createContext:x.d,createFactory:function(Q){return x.e.bind(null,Q)},cloneElement:function(Q){return _t(Q)?x.c.apply(null,arguments):Q},createRef:x.f,Fragment:x.b,isValidElement:_t,findDOMNode:function(Q){return Q&&(Q.base||Q.nodeType===1&&Q)||null},Component:x.a,PureComponent:X,memo:J,forwardRef:ve,flushSync:function(Q,he){return Q(he)},unstable_batchedUpdates:mt,StrictMode:At,Suspense:He,SuspenseList:dt,lazy:function(Q){var he,Te,be;function Ge(Fe){if(he||(he=Q()).then(function(Je){Te=Je.default||Je},function(Je){be=Je}),be)throw be;if(!Te)throw he;return Object(x.e)(Te,Fe)}return Ge.displayName="Lazy",Ge.__f=!0,Ge},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:zt};j.d=Zt},function(w,j,s){var b=s(7),p=s(147),S=s(148),x=s(178),N=s(57),T=function(R){if(R&&R.forEach!==x)try{N(R,"forEach",x)}catch(B){R.forEach=x}};for(var A in p)p[A]&&T(b[A]&&b[A].prototype);T(S)},function(w,j,s){s(16)({target:"Object",stat:!0},{setPrototypeOf:s(96)})},function(w,j,s){var b=s(16),p=s(18),S=s(38),x=s(95),N=s(137);b({target:"Object",stat:!0,forced:p(function(){x(1)}),sham:!N},{getPrototypeOf:function(T){return x(S(T))}})},function(w,j,s){var b=s(16),p=s(46),S=s(76),x=s(198),N=s(157),T=s(32),A=s(33),R=s(54),B=s(18),V=p("Reflect","construct"),U=Object.prototype,ue=[].push,se=B(function(){function ne(){}return!(V(function(){},[],ne)instanceof ne)}),ie=!B(function(){V(function(){})}),ee=se||ie;b({target:"Reflect",stat:!0,forced:ee,sham:ee},{construct:function(ne,$){N(ne),T($);var K=arguments.length<3?ne:N(arguments[2]);if(ie&&!se)return V(ne,$,K);if(ne==K){switch($.length){case 0:return new ne;case 1:return new ne($[0]);case 2:return new ne($[0],$[1]);case 3:return new ne($[0],$[1],$[2]);case 4:return new ne($[0],$[1],$[2],$[3])}var pe=[null];return S(ue,pe,$),new(S(x,ne,pe))}var H=K.prototype,fe=R(A(H)?H:U),L=S(ne,fe,$);return A(L)?L:fe}})},function(w,j){var s=Function.prototype,b=s.bind,p=s.call,S=b&&b.bind(p);w.exports=b?function(x){return x&&S(p,x)}:function(x){return x&&function(){return p.apply(x,arguments)}}},function(w,j,s){var b=s(7),p=s(51).f,S=s(57),x=s(44),N=s(108),T=s(134),A=s(94);w.exports=function(R,B){var V,U,ue,se,ie,ee=R.target,ne=R.global,$=R.stat;if(V=ne?b:$?b[ee]||N(ee,{}):(b[ee]||{}).prototype)for(U in B){if(se=B[U],ue=R.noTargetGet?(ie=p(V,U))&&ie.value:V[U],!A(ne?U:ee+($?".":"#")+U,R.forced)&&ue!==void 0){if(typeof se==typeof ue)continue;T(se,ue)}(R.sham||ue&&ue.sham)&&S(se,"sham",!0),x(V,U,se,R)}}},function(w,j,s){"use strict";var b=s(16),p=s(7),S=s(98),x=s(99),N=s(33),T=s(67),A=s(43),R=s(39),B=s(61),V=s(27),U=s(75),ue=s(100),se=U("slice"),ie=V("species"),ee=p.Array,ne=Math.max;b({target:"Array",proto:!0,forced:!se},{slice:function($,K){var pe,H,fe,L=R(this),G=A(L),F=T($,G),oe=T(K===void 0?G:K,G);if(S(L)&&(pe=L.constructor,(x(pe)&&(pe===ee||S(pe.prototype))||N(pe)&&(pe=pe[ie])===null)&&(pe=void 0),pe===ee||pe===void 0))return ue(L,F,oe);for(H=new(pe===void 0?ee:pe)(ne(oe-F,0)),fe=0;F<oe;F++,fe++)F in L&&B(H,fe,L[F]);return H.length=fe,H}})},function(w,j){w.exports=function(s){try{return!!s()}catch(b){return!0}}},function(w,j,s){"use strict";var b=s(16),p=s(101);b({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},function(w,j,s){var b=s(16),p=s(38),S=s(66);b({target:"Object",stat:!0,forced:s(18)(function(){S(1)})},{keys:function(x){return S(p(x))}})},function(w,j,s){var b=s(16),p=s(18),S=s(39),x=s(51).f,N=s(36),T=p(function(){x(1)});b({target:"Object",stat:!0,forced:!N||T,sham:!N},{getOwnPropertyDescriptor:function(A,R){return x(S(A),R)}})},function(w,j,s){"use strict";var b=s(16),p=s(74).filter;b({target:"Array",proto:!0,forced:!s(75)("filter")},{filter:function(S){return p(this,S,arguments.length>1?arguments[1]:void 0)}})},function(w,j,s){var b=s(16),p=s(36),S=s(135),x=s(39),N=s(51),T=s(61);b({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(A){for(var R,B,V=x(A),U=N.f,ue=S(V),se={},ie=0;ue.length>ie;)(B=U(V,R=ue[ie++]))!==void 0&&T(se,R,B);return se}})},function(w,j,s){var b=s(36),p=s(93).EXISTS,S=s(15),x=s(37).f,N=Function.prototype,T=S(N.toString),A=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,R=S(A.exec);b&&!p&&x(N,"name",{configurable:!0,get:function(){try{return R(A,T(this))[1]}catch(B){return""}}})},function(w,j,s){var b=s(16),p=s(181);b({target:"Array",stat:!0,forced:!s(118)(function(S){Array.from(S)})},{from:p})},,function(w,j,s){var b=s(7),p=s(83),S=s(34),x=s(84),N=s(109),T=s(128),A=p("wks"),R=b.Symbol,B=R&&R.for,V=T?R:R&&R.withoutSetter||x;w.exports=function(U){if(!S(A,U)||!N&&typeof A[U]!="string"){var ue="Symbol."+U;N&&S(R,U)?A[U]=R[U]:A[U]=T&&B?B(ue):V(ue)}return A[U]}},function(w,j){w.exports=function(s){return typeof s=="function"}},function(w,j,s){"use strict";var b=s(16),p=s(7),S=s(18),x=s(98),N=s(33),T=s(38),A=s(43),R=s(61),B=s(119),V=s(75),U=s(27),ue=s(65),se=U("isConcatSpreadable"),ie=p.TypeError,ee=ue>=51||!S(function(){var K=[];return K[se]=!1,K.concat()[0]!==K}),ne=V("concat"),$=function(K){if(!N(K))return!1;var pe=K[se];return pe!==void 0?!!pe:x(K)};b({target:"Array",proto:!0,forced:!ee||!ne},{concat:function(K){var pe,H,fe,L,G,F=T(this),oe=B(F,0),me=0;for(pe=-1,fe=arguments.length;pe<fe;pe++)if($(G=pe===-1?F:arguments[pe])){if(me+(L=A(G))>9007199254740991)throw ie("Maximum allowed index exceeded");for(H=0;H<L;H++,me++)H in G&&R(oe,me,G[H])}else{if(me>=9007199254740991)throw ie("Maximum allowed index exceeded");R(oe,me++,G)}return oe.length=me,oe}})},function(w,j,s){"use strict";var b=s(105),p=typeof self=="object"&&self&&self.Object===Object&&self,S=b.a||p||Function("return this")();j.a=S},function(w,j,s){var b=s(16),p=s(200);b({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},function(w,j,s){var b=s(7),p=s(33),S=b.String,x=b.TypeError;w.exports=function(N){if(p(N))return N;throw x(S(N)+" is not an object")}},function(w,j,s){var b=s(28);w.exports=function(p){return typeof p=="object"?p!==null:b(p)}},function(w,j,s){var b=s(15),p=s(38),S=b({}.hasOwnProperty);w.exports=Object.hasOwn||function(x,N){return S(p(x),N)}},function(w,j){var s=Function.prototype.call;w.exports=s.bind?s.bind(s):function(){return s.apply(s,arguments)}},function(w,j,s){var b=s(18);w.exports=!b(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(w,j,s){var b=s(7),p=s(36),S=s(129),x=s(32),N=s(86),T=b.TypeError,A=Object.defineProperty;j.f=p?A:function(R,B,V){if(x(R),B=N(B),x(V),S)try{return A(R,B,V)}catch(U){}if("get"in V||"set"in V)throw T("Accessors not supported");return"value"in V&&(R[B]=V.value),R}},function(w,j,s){var b=s(7),p=s(45),S=b.Object;w.exports=function(x){return S(p(x))}},function(w,j,s){var b=s(80),p=s(45);w.exports=function(S){return b(p(S))}},function(w,j,s){var b=s(7),p=s(97),S=b.String;w.exports=function(x){if(p(x)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return S(x)}},function(w,j,s){"use strict";var b=s(16),p=s(74).map;b({target:"Array",proto:!0,forced:!s(75)("map")},{map:function(S){return p(this,S,arguments.length>1?arguments[1]:void 0)}})},function(w,j,s){"use strict";(function(b){s.d(j,"d",function(){return x}),s.d(j,"c",function(){return N}),s.d(j,"b",function(){return T}),s.d(j,"a",function(){return R});var p=s(10),S=function(B,V){var U=typeof Symbol=="function"&&B[Symbol.iterator];if(!U)return B;var ue,se,ie=U.call(B),ee=[];try{for(;(V===void 0||V-- >0)&&!(ue=ie.next()).done;)ee.push(ue.value)}catch(ne){se={error:ne}}finally{try{ue&&!ue.done&&(U=ie.return)&&U.call(ie)}finally{if(se)throw se.error}}return ee};function x(){var B=S(Object(p.j)(0),2)[1];return Object(p.h)(function(){B(function(V){return V+1})},[])}function N(B){if(!B||typeof B!="object")return!1;var V=Object.getPrototypeOf(B);return!V||V===Object.prototype}function T(B){return typeof Symbol=="function"?Symbol.for(B):"__$mobx-react "+B+"__"}var A={};function R(){return typeof window!="undefined"?window:b!==void 0?b:typeof self!="undefined"?self:A}}).call(this,s(81))},function(w,j,s){var b=s(89);w.exports=function(p){return b(p.length)}},function(w,j,s){var b=s(7),p=s(28),S=s(34),x=s(57),N=s(108),T=s(91),A=s(56),R=s(93).CONFIGURABLE,B=A.get,V=A.enforce,U=String(String).split("String");(w.exports=function(ue,se,ie,ee){var ne,$=!!ee&&!!ee.unsafe,K=!!ee&&!!ee.enumerable,pe=!!ee&&!!ee.noTargetGet,H=ee&&ee.name!==void 0?ee.name:se;p(ie)&&(String(H).slice(0,7)==="Symbol("&&(H="["+String(H).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!S(ie,"name")||R&&ie.name!==H)&&x(ie,"name",H),(ne=V(ie)).source||(ne.source=U.join(typeof H=="string"?H:""))),ue!==b?($?!pe&&ue[se]&&(K=!0):delete ue[se],K?ue[se]=ie:x(ue,se,ie)):K?ue[se]=ie:N(se,ie)})(Function.prototype,"toString",function(){return p(this)&&B(this).source||T(this)})},function(w,j,s){var b=s(7).TypeError;w.exports=function(p){if(p==null)throw b("Can't call method on "+p);return p}},function(w,j,s){var b=s(7),p=s(28),S=function(x){return p(x)?x:void 0};w.exports=function(x,N){return arguments.length<2?S(b[x]):b[x]&&b[x][N]}},function(w,j,s){var b=s(16),p=s(35),S=s(33),x=s(32),N=s(199),T=s(51),A=s(95);b({target:"Reflect",stat:!0},{get:function R(B,V){var U,ue,se=arguments.length<3?B:arguments[2];return x(B)===se?B[V]:(U=T.f(B,V))?N(U)?U.value:U.get===void 0?void 0:p(U.get,se):S(ue=A(B))?R(ue,V,se):void 0}})},function(w,j,s){"use strict";(function(b){var p=s(30),S=s(164),x=ct&&!ct.nodeType&&ct,N=x&&typeof b=="object"&&b&&!b.nodeType&&b,T=N&&N.exports===x?p.a.Buffer:void 0,A=(T?T.isBuffer:void 0)||S.a;j.a=A}).call(this,s(121)(w))},function(w,j,s){"use strict";(function(b){var p=s(105),S=ct&&!ct.nodeType&&ct,x=S&&typeof b=="object"&&b&&!b.nodeType&&b,N=x&&x.exports===S&&p.a.process,T=function(){try{var A=x&&x.require&&x.require("util").types;return A||N&&N.binding&&N.binding("util")}catch(R){}}();j.a=T}).call(this,s(121)(w))},function(w,j,s){var b=s(15),p=b({}.toString),S=b("".slice);w.exports=function(x){return S(p(x),8,-1)}},function(w,j,s){var b=s(36),p=s(35),S=s(92),x=s(71),N=s(39),T=s(86),A=s(34),R=s(129),B=Object.getOwnPropertyDescriptor;j.f=b?B:function(V,U){if(V=N(V),U=T(U),R)try{return B(V,U)}catch(ue){}if(A(V,U))return x(!p(S.f,V,U),V[U])}},function(w,j,s){var b=s(16),p=s(213).entries;b({target:"Object",stat:!0},{entries:function(S){return p(S)}})},function(w,j,s){var b=s(46);w.exports=b("navigator","userAgent")||""},function(w,j,s){var b,p=s(32),S=s(167),x=s(110),N=s(69),T=s(133),A=s(85),R=s(90),B=R("IE_PROTO"),V=function(){},U=function(ie){return"<script>"+ie+"</script>"},ue=function(ie){ie.write(U("")),ie.close();var ee=ie.parentWindow.Object;return ie=null,ee},se=function(){try{b=new ActiveXObject("htmlfile")}catch($){}var ie,ee;se=typeof document!="undefined"?document.domain&&b?ue(b):((ee=A("iframe")).style.display="none",T.appendChild(ee),ee.src=String("javascript:"),(ie=ee.contentWindow.document).open(),ie.write(U("document.F=Object")),ie.close(),ie.F):ue(b);for(var ne=x.length;ne--;)delete se.prototype[x[ne]];return se()};N[B]=!0,w.exports=Object.create||function(ie,ee){var ne;return ie!==null?(V.prototype=p(ie),ne=new V,V.prototype=null,ne[B]=ie):ne=se(),ee===void 0?ne:S(ne,ee)}},function(w,j,s){var b=s(7),p=s(28),S=s(88),x=b.TypeError;w.exports=function(N){if(p(N))return N;throw x(S(N)+" is not a function")}},function(w,j,s){var b,p,S,x=s(169),N=s(7),T=s(15),A=s(33),R=s(57),B=s(34),V=s(107),U=s(90),ue=s(69),se=N.TypeError,ie=N.WeakMap;if(x||V.state){var ee=V.state||(V.state=new ie),ne=T(ee.get),$=T(ee.has),K=T(ee.set);b=function(H,fe){if($(ee,H))throw new se("Object already initialized");return fe.facade=H,K(ee,H,fe),fe},p=function(H){return ne(ee,H)||{}},S=function(H){return $(ee,H)}}else{var pe=U("state");ue[pe]=!0,b=function(H,fe){if(B(H,pe))throw new se("Object already initialized");return fe.facade=H,R(H,pe,fe),fe},p=function(H){return B(H,pe)?H[pe]:{}},S=function(H){return B(H,pe)}}w.exports={set:b,get:p,has:S,enforce:function(H){return S(H)?p(H):b(H,{})},getterFor:function(H){return function(fe){var L;if(!A(fe)||(L=p(fe)).type!==H)throw se("Incompatible receiver, "+H+" required");return L}}}},function(w,j,s){var b=s(36),p=s(37),S=s(71);w.exports=b?function(x,N,T){return p.f(x,N,S(1,T))}:function(x,N,T){return x[N]=T,x}},function(w,j,s){var b=s(15);w.exports=b({}.isPrototypeOf)},function(w,j,s){var b=s(55);w.exports=function(p,S){var x=p[S];return x==null?void 0:b(x)}},function(w,j,s){"use strict";s(172)("Map",function(b){return function(){return b(this,arguments.length?arguments[0]:void 0)}},s(176))},function(w,j,s){"use strict";var b=s(86),p=s(37),S=s(71);w.exports=function(x,N,T){var A=b(N);A in x?p.f(x,A,S(0,T)):x[A]=T}},function(w,j,s){var b=s(15),p=s(55),S=b(b.bind);w.exports=function(x,N){return p(x),N===void 0?x:S?S(x,N):function(){return x.apply(N,arguments)}}},function(w,j,s){var b=s(16),p=s(214),S=s(82);b({target:"Array",proto:!0},{fill:p}),S("fill")},function(w,j){w.exports=!1},function(w,j,s){var b,p,S=s(7),x=s(53),N=S.process,T=S.Deno,A=N&&N.versions||T&&T.version,R=A&&A.v8;R&&(p=(b=R.split("."))[0]>0&&b[0]<4?1:+(b[0]+b[1])),!p&&x&&(!(b=x.match(/Edge\/(\d+)/))||b[1]>=74)&&(b=x.match(/Chrome\/(\d+)/))&&(p=+b[1]),w.exports=p},function(w,j,s){var b=s(131),p=s(110);w.exports=Object.keys||function(S){return b(S,p)}},function(w,j,s){var b=s(68),p=Math.max,S=Math.min;w.exports=function(x,N){var T=b(x);return T<0?p(T+N,0):S(T,N)}},function(w,j){var s=Math.ceil,b=Math.floor;w.exports=function(p){var S=+p;return S!=S||S===0?0:(S>0?b:s)(S)}},function(w,j){w.exports={}},function(w,j){w.exports={}},function(w,j){w.exports=function(s,b){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:b}}},function(w,j,s){var b=s(131),p=s(110).concat("length","prototype");j.f=Object.getOwnPropertyNames||function(S){return b(S,p)}},function(w,j,s){var b=s(37).f,p=s(34),S=s(27)("toStringTag");w.exports=function(x,N,T){x&&!p(x=T?x:x.prototype,S)&&b(x,S,{configurable:!0,value:N})}},function(w,j,s){var b=s(62),p=s(15),S=s(80),x=s(38),N=s(43),T=s(119),A=p([].push),R=function(B){var V=B==1,U=B==2,ue=B==3,se=B==4,ie=B==6,ee=B==7,ne=B==5||ie;return function($,K,pe,H){for(var fe,L,G=x($),F=S(G),oe=b(K,pe),me=N(F),Se=0,X=H||T,J=V?X($,me):U||ee?X($,0):void 0;me>Se;Se++)if((ne||Se in F)&&(L=oe(fe=F[Se],Se,G),B))if(V)J[Se]=L;else if(L)switch(B){case 3:return!0;case 5:return fe;case 6:return Se;case 2:A(J,fe)}else switch(B){case 4:return!1;case 7:A(J,fe)}return ie?-1:ue||se?se:J}};w.exports={forEach:R(0),map:R(1),filter:R(2),some:R(3),every:R(4),find:R(5),findIndex:R(6),filterReject:R(7)}},function(w,j,s){var b=s(18),p=s(27),S=s(65),x=p("species");w.exports=function(N){return S>=51||!b(function(){var T=[];return(T.constructor={})[x]=function(){return{foo:1}},T[N](Boolean).foo!==1})}},function(w,j){var s=Function.prototype,b=s.apply,p=s.bind,S=s.call;w.exports=typeof Reflect=="object"&&Reflect.apply||(p?S.bind(b):function(){return S.apply(b,arguments)})},function(w,j,s){"use strict";var b=s(76),p=s(35),S=s(15),x=s(122),N=s(154),T=s(32),A=s(45),R=s(156),B=s(123),V=s(89),U=s(40),ue=s(59),se=s(113),ie=s(124),ee=s(101),ne=s(151),$=s(18),K=ne.UNSUPPORTED_Y,pe=Math.min,H=[].push,fe=S(/./.exec),L=S(H),G=S("".slice);x("split",function(F,oe,me){var Se;return Se="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(X,J){var Y=U(A(this)),ae=J===void 0?4294967295:J>>>0;if(ae===0)return[];if(X===void 0)return[Y];if(!N(X))return p(oe,Y,X,ae);for(var ve,we,Ie,Ue=[],Ye=(X.ignoreCase?"i":"")+(X.multiline?"m":"")+(X.unicode?"u":"")+(X.sticky?"y":""),He=0,Ke=new RegExp(X.source,Ye+"g");(ve=p(ee,Ke,Y))&&!((we=Ke.lastIndex)>He&&(L(Ue,G(Y,He,ve.index)),ve.length>1&&ve.index<Y.length&&b(H,Ue,se(ve,1)),Ie=ve[0].length,He=we,Ue.length>=ae));)Ke.lastIndex===ve.index&&Ke.lastIndex++;return He===Y.length?!Ie&&fe(Ke,"")||L(Ue,""):L(Ue,G(Y,He)),Ue.length>ae?se(Ue,0,ae):Ue}:"0".split(void 0,0).length?function(X,J){return X===void 0&&J===0?[]:p(oe,this,X,J)}:oe,[function(X,J){var Y=A(this),ae=X==null?void 0:ue(X,F);return ae?p(ae,X,Y,J):p(Se,U(Y),X,J)},function(X,J){var Y=T(this),ae=U(X),ve=me(Se,Y,ae,J,Se!==oe);if(ve.done)return ve.value;var we=R(Y,RegExp),Ie=Y.unicode,Ue=(Y.ignoreCase?"i":"")+(Y.multiline?"m":"")+(Y.unicode?"u":"")+(K?"g":"y"),Ye=new we(K?"^(?:"+Y.source+")":Y,Ue),He=J===void 0?4294967295:J>>>0;if(He===0)return[];if(ae.length===0)return ie(Ye,ae)===null?[ae]:[];for(var Ke=0,dt=0,ce=[];dt<ae.length;){Ye.lastIndex=K?0:dt;var de,ge=ie(Ye,K?G(ae,dt):ae);if(ge===null||(de=pe(V(Ye.lastIndex+(K?dt:0)),ae.length))===Ke)dt=B(ae,dt,Ie);else{if(L(ce,G(ae,Ke,dt)),ce.length===He)return ce;for(var De=1;De<=ge.length-1;De++)if(L(ce,ge[De]),ce.length===He)return ce;dt=Ke=de}}return L(ce,G(ae,Ke)),ce}]},!!$(function(){var F=/(?:)/,oe=F.exec;F.exec=function(){return oe.apply(this,arguments)};var me="ab".split(F);return me.length!==2||me[0]!=="a"||me[1]!=="b"}),K)},function(w,j,s){"use strict";var b=s(36),p=s(7),S=s(15),x=s(94),N=s(44),T=s(34),A=s(143),R=s(58),B=s(87),V=s(130),U=s(18),ue=s(72).f,se=s(51).f,ie=s(37).f,ee=s(196),ne=s(158).trim,$=p.Number,K=$.prototype,pe=p.TypeError,H=S("".slice),fe=S("".charCodeAt),L=function(X){var J=V(X,"number");return typeof J=="bigint"?J:G(J)},G=function(X){var J,Y,ae,ve,we,Ie,Ue,Ye,He=V(X,"number");if(B(He))throw pe("Cannot convert a Symbol value to a number");if(typeof He=="string"&&He.length>2){if(He=ne(He),(J=fe(He,0))===43||J===45){if((Y=fe(He,2))===88||Y===120)return NaN}else if(J===48){switch(fe(He,1)){case 66:case 98:ae=2,ve=49;break;case 79:case 111:ae=8,ve=55;break;default:return+He}for(Ie=(we=H(He,2)).length,Ue=0;Ue<Ie;Ue++)if((Ye=fe(we,Ue))<48||Ye>ve)return NaN;return parseInt(we,ae)}}return+He};if(x("Number",!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var F,oe=function(X){var J=arguments.length<1?0:$(L(X)),Y=this;return R(K,Y)&&U(function(){ee(Y)})?A(Object(J),Y,oe):J},me=b?ue($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Se=0;me.length>Se;Se++)T($,F=me[Se])&&!T(oe,F)&&ie(oe,F,se($,F));oe.prototype=K,K.constructor=oe,N(p,"Number",oe)}},function(w,j,s){s(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(w,j,s){var b=s(7),p=s(15),S=s(18),x=s(50),N=b.Object,T=p("".split);w.exports=S(function(){return!N("z").propertyIsEnumerable(0)})?function(A){return x(A)=="String"?T(A,""):N(A)}:N},function(w,j){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(b){typeof window=="object"&&(s=window)}w.exports=s},function(w,j,s){var b=s(27),p=s(54),S=s(37),x=b("unscopables"),N=Array.prototype;N[x]==null&&S.f(N,x,{configurable:!0,value:p(null)}),w.exports=function(T){N[x][T]=!0}},function(w,j,s){var b=s(64),p=s(107);(w.exports=function(S,x){return p[S]||(p[S]=x!==void 0?x:{})})("versions",[]).push({version:"3.19.3",mode:b?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(w,j,s){var b=s(15),p=0,S=Math.random(),x=b(1 .toString);w.exports=function(N){return"Symbol("+(N===void 0?"":N)+")_"+x(++p+S,36)}},function(w,j,s){var b=s(7),p=s(33),S=b.document,x=p(S)&&p(S.createElement);w.exports=function(N){return x?S.createElement(N):{}}},function(w,j,s){var b=s(130),p=s(87);w.exports=function(S){var x=b(S,"string");return p(x)?x:x+""}},function(w,j,s){var b=s(7),p=s(46),S=s(28),x=s(58),N=s(128),T=b.Object;w.exports=N?function(A){return typeof A=="symbol"}:function(A){var R=p("Symbol");return S(R)&&x(R.prototype,T(A))}},function(w,j,s){var b=s(7).String;w.exports=function(p){try{return b(p)}catch(S){return"Object"}}},function(w,j,s){var b=s(68),p=Math.min;w.exports=function(S){return S>0?p(b(S),9007199254740991):0}},function(w,j,s){var b=s(83),p=s(84),S=b("keys");w.exports=function(x){return S[x]||(S[x]=p(x))}},function(w,j,s){var b=s(15),p=s(28),S=s(107),x=b(Function.toString);p(S.inspectSource)||(S.inspectSource=function(N){return x(N)}),w.exports=S.inspectSource},function(w,j,s){"use strict";var b={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,S=p&&!b.call({1:2},1);j.f=S?function(x){var N=p(this,x);return!!N&&N.enumerable}:b},function(w,j,s){var b=s(36),p=s(34),S=Function.prototype,x=b&&Object.getOwnPropertyDescriptor,N=p(S,"name"),T=N&&function(){}.name==="something",A=N&&(!b||b&&x(S,"name").configurable);w.exports={EXISTS:N,PROPER:T,CONFIGURABLE:A}},function(w,j,s){var b=s(18),p=s(28),S=/#|\.prototype\./,x=function(B,V){var U=T[N(B)];return U==R||U!=A&&(p(V)?b(V):!!V)},N=x.normalize=function(B){return String(B).replace(S,".").toLowerCase()},T=x.data={},A=x.NATIVE="N",R=x.POLYFILL="P";w.exports=x},function(w,j,s){var b=s(7),p=s(34),S=s(28),x=s(38),N=s(90),T=s(137),A=N("IE_PROTO"),R=b.Object,B=R.prototype;w.exports=T?R.getPrototypeOf:function(V){var U=x(V);if(p(U,A))return U[A];var ue=U.constructor;return S(ue)&&U instanceof ue?ue.prototype:U instanceof R?B:null}},function(w,j,s){var b=s(15),p=s(32),S=s(171);w.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var x,N=!1,T={};try{(x=b(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(T,[]),N=T instanceof Array}catch(A){}return function(A,R){return p(A),S(R),N?x(A,R):A.__proto__=R,A}}():void 0)},function(w,j,s){var b=s(7),p=s(116),S=s(28),x=s(50),N=s(27)("toStringTag"),T=b.Object,A=x(function(){return arguments}())=="Arguments";w.exports=p?x:function(R){var B,V,U;return R===void 0?"Undefined":R===null?"Null":typeof(V=function(ue,se){try{return ue[se]}catch(ie){}}(B=T(R),N))=="string"?V:A?x(B):(U=x(B))=="Object"&&S(B.callee)?"Arguments":U}},function(w,j,s){var b=s(50);w.exports=Array.isArray||function(p){return b(p)=="Array"}},function(w,j,s){var b=s(15),p=s(18),S=s(28),x=s(97),N=s(46),T=s(91),A=function(){},R=[],B=N("Reflect","construct"),V=/^\s*(?:class|function)\b/,U=b(V.exec),ue=!V.exec(A),se=function(ie){if(!S(ie))return!1;try{return B(A,R,ie),!0}catch(ee){return!1}};w.exports=!B||p(function(){var ie;return se(se.call)||!se(Object)||!se(function(){ie=!0})||ie})?function(ie){if(!S(ie))return!1;switch(x(ie)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return ue||!!U(V,T(ie))}:se},function(w,j,s){var b=s(15);w.exports=b([].slice)},function(w,j,s){"use strict";var b,p,S=s(35),x=s(15),N=s(40),T=s(183),A=s(151),R=s(83),B=s(54),V=s(56).get,U=s(184),ue=s(185),se=R("native-string-replace",String.prototype.replace),ie=RegExp.prototype.exec,ee=ie,ne=x("".charAt),$=x("".indexOf),K=x("".replace),pe=x("".slice),H=(p=/b*/g,S(ie,b=/a/,"a"),S(ie,p,"a"),b.lastIndex!==0||p.lastIndex!==0),fe=A.BROKEN_CARET,L=/()??/.exec("")[1]!==void 0;(H||L||fe||U||ue)&&(ee=function(G){var F,oe,me,Se,X,J,Y,ae=this,ve=V(ae),we=N(G),Ie=ve.raw;if(Ie)return Ie.lastIndex=ae.lastIndex,F=S(ee,Ie,we),ae.lastIndex=Ie.lastIndex,F;var Ue=ve.groups,Ye=fe&&ae.sticky,He=S(T,ae),Ke=ae.source,dt=0,ce=we;if(Ye&&(He=K(He,"y",""),$(He,"g")===-1&&(He+="g"),ce=pe(we,ae.lastIndex),ae.lastIndex>0&&(!ae.multiline||ae.multiline&&ne(we,ae.lastIndex-1)!==`
`)&&(Ke="(?: "+Ke+")",ce=" "+ce,dt++),oe=new RegExp("^(?:"+Ke+")",He)),L&&(oe=new RegExp("^"+Ke+"$(?!\\s)",He)),H&&(me=ae.lastIndex),Se=S(ie,Ye?oe:ae,ce),Ye?Se?(Se.input=pe(Se.input,dt),Se[0]=pe(Se[0],dt),Se.index=ae.lastIndex,ae.lastIndex+=Se[0].length):ae.lastIndex=0:H&&Se&&(ae.lastIndex=ae.global?Se.index+Se[0].length:me),L&&Se&&Se.length>1&&S(se,Se[0],oe,function(){for(X=1;X<arguments.length-2;X++)arguments[X]===void 0&&(Se[X]=void 0)}),Se&&Ue)for(Se.groups=J=B(null),X=0;X<Ue.length;X++)J[(Y=Ue[X])[0]]=Se[Y[1]];return Se}),w.exports=ee},function(w,j,s){"use strict";var b=s(16),p=s(7),S=s(67),x=s(68),N=s(43),T=s(38),A=s(119),R=s(61),B=s(75)("splice"),V=p.TypeError,U=Math.max,ue=Math.min;b({target:"Array",proto:!0,forced:!B},{splice:function(se,ie){var ee,ne,$,K,pe,H,fe=T(this),L=N(fe),G=S(se,L),F=arguments.length;if(F===0?ee=ne=0:F===1?(ee=0,ne=L-G):(ee=F-2,ne=ue(U(x(ie),0),L-G)),L+ee-ne>9007199254740991)throw V("Maximum allowed length exceeded");for($=A(fe,ne),K=0;K<ne;K++)(pe=G+K)in fe&&R($,K,fe[pe]);if($.length=ne,ee<ne){for(K=G;K<L-ne;K++)H=K+ee,(pe=K+ne)in fe?fe[H]=fe[pe]:delete fe[H];for(K=L;K>L-ne+ee;K--)delete fe[K-1]}else if(ee>ne)for(K=L-ne;K>G;K--)H=K+ee-1,(pe=K+ne-1)in fe?fe[H]=fe[pe]:delete fe[H];for(K=0;K<ee;K++)fe[K+G]=arguments[K+2];return fe.length=L-ne+ee,$}})},function(w,j,s){"use strict";var b=s(16),p=s(15),S=s(80),x=s(39),N=s(120),T=p([].join),A=S!=Object,R=N("join",",");b({target:"Array",proto:!0,forced:A||!R},{join:function(B){return T(x(this),B===void 0?",":B)}})},function(w,j,s){"use strict";var b=s(16),p=s(201);b({target:"String",proto:!0,forced:s(202)("anchor")},{anchor:function(S){return p(this,"a","name",S)}})},function(w,j,s){"use strict";(function(b){var p=typeof b=="object"&&b&&b.Object===Object&&b;j.a=p}).call(this,s(81))},function(w,j,s){"use strict";(function(b){var p=s(30),S=ct&&!ct.nodeType&&ct,x=S&&typeof b=="object"&&b&&!b.nodeType&&b,N=x&&x.exports===S?p.a.Buffer:void 0,T=N?N.allocUnsafe:void 0;j.a=function(A,R){if(R)return A.slice();var B=A.length,V=T?T(B):new A.constructor(B);return A.copy(V),V}}).call(this,s(121)(w))},function(w,j,s){var b=s(7),p=s(108),S=b["__core-js_shared__"]||p("__core-js_shared__",{});w.exports=S},function(w,j,s){var b=s(7),p=Object.defineProperty;w.exports=function(S,x){try{p(b,S,{value:x,configurable:!0,writable:!0})}catch(N){b[S]=x}return x}},function(w,j,s){var b=s(65),p=s(18);w.exports=!!Object.getOwnPropertySymbols&&!p(function(){var S=Symbol();return!String(S)||!(Object(S)instanceof Symbol)||!Symbol.sham&&b&&b<41})},function(w,j){w.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(w,j,s){"use strict";var b=s(16),p=s(35),S=s(64),x=s(93),N=s(28),T=s(170),A=s(95),R=s(96),B=s(73),V=s(57),U=s(44),ue=s(27),se=s(70),ie=s(136),ee=x.PROPER,ne=x.CONFIGURABLE,$=ie.IteratorPrototype,K=ie.BUGGY_SAFARI_ITERATORS,pe=ue("iterator"),H=function(){return this};w.exports=function(fe,L,G,F,oe,me,Se){T(G,L,F);var X,J,Y,ae=function(Ke){if(Ke===oe&&Ye)return Ye;if(!K&&Ke in Ie)return Ie[Ke];switch(Ke){case"keys":case"values":case"entries":return function(){return new G(this,Ke)}}return function(){return new G(this)}},ve=L+" Iterator",we=!1,Ie=fe.prototype,Ue=Ie[pe]||Ie["@@iterator"]||oe&&Ie[oe],Ye=!K&&Ue||ae(oe),He=L=="Array"&&Ie.entries||Ue;if(He&&(X=A(He.call(new fe)))!==Object.prototype&&X.next&&(S||A(X)===$||(R?R(X,$):N(X[pe])||U(X,pe,H)),B(X,ve,!0,!0),S&&(se[ve]=H)),ee&&oe=="values"&&Ue&&Ue.name!=="values"&&(!S&&ne?V(Ie,"name","values"):(we=!0,Ye=function(){return p(Ue,this)})),oe)if(J={values:ae("values"),keys:me?Ye:ae("keys"),entries:ae("entries")},Se)for(Y in J)(K||we||!(Y in Ie))&&U(Ie,Y,J[Y]);else b({target:L,proto:!0,forced:K||we},J);return S&&!Se||Ie[pe]===Ye||U(Ie,pe,Ye,{name:oe}),se[L]=Ye,J}},function(w,j){j.f=Object.getOwnPropertySymbols},function(w,j,s){var b=s(7),p=s(67),S=s(43),x=s(61),N=b.Array,T=Math.max;w.exports=function(A,R,B){for(var V=S(A),U=p(R,V),ue=p(B===void 0?V:B,V),se=N(T(ue-U,0)),ie=0;U<ue;U++,ie++)x(se,ie,A[U]);return se.length=ie,se}},function(w,j,s){var b=s(7),p=s(62),S=s(35),x=s(32),N=s(88),T=s(140),A=s(43),R=s(58),B=s(141),V=s(115),U=s(142),ue=b.TypeError,se=function(ee,ne){this.stopped=ee,this.result=ne},ie=se.prototype;w.exports=function(ee,ne,$){var K,pe,H,fe,L,G,F,oe=$&&$.that,me=!(!$||!$.AS_ENTRIES),Se=!(!$||!$.IS_ITERATOR),X=!(!$||!$.INTERRUPTED),J=p(ne,oe),Y=function(ve){return K&&U(K,"normal",ve),new se(!0,ve)},ae=function(ve){return me?(x(ve),X?J(ve[0],ve[1],Y):J(ve[0],ve[1])):X?J(ve,Y):J(ve)};if(Se)K=ee;else{if(!(pe=V(ee)))throw ue(N(ee)+" is not iterable");if(T(pe)){for(H=0,fe=A(ee);fe>H;H++)if((L=ae(ee[H]))&&R(ie,L))return L;return new se(!1)}K=B(ee,pe)}for(G=K.next;!(F=S(G,K)).done;){try{L=ae(F.value)}catch(ve){U(K,"throw",ve)}if(typeof L=="object"&&L&&R(ie,L))return L}return new se(!1)}},function(w,j,s){var b=s(97),p=s(59),S=s(70),x=s(27)("iterator");w.exports=function(N){if(N!=null)return p(N,x)||p(N,"@@iterator")||S[b(N)]}},function(w,j,s){var b={};b[s(27)("toStringTag")]="z",w.exports=String(b)==="[object z]"},function(w,j,s){var b=s(7),p=s(58),S=b.TypeError;w.exports=function(x,N){if(p(N,x))return x;throw S("Incorrect invocation")}},function(w,j,s){var b=s(27)("iterator"),p=!1;try{var S=0,x={next:function(){return{done:!!S++}},return:function(){p=!0}};x[b]=function(){return this},Array.from(x,function(){throw 2})}catch(N){}w.exports=function(N,T){if(!T&&!p)return!1;var A=!1;try{var R={};R[b]=function(){return{next:function(){return{done:A=!0}}}},N(R)}catch(B){}return A}},function(w,j,s){var b=s(179);w.exports=function(p,S){return new(b(p))(S===0?0:S)}},function(w,j,s){"use strict";var b=s(18);w.exports=function(p,S){var x=[][p];return!!x&&b(function(){x.call(null,S||function(){throw 1},1)})}},function(w,j){w.exports=function(s){if(!s.webpackPolyfill){var b=Object.create(s);b.children||(b.children=[]),Object.defineProperty(b,"loaded",{enumerable:!0,get:function(){return b.l}}),Object.defineProperty(b,"id",{enumerable:!0,get:function(){return b.i}}),Object.defineProperty(b,"exports",{enumerable:!0}),b.webpackPolyfill=1}return b}},function(w,j,s){"use strict";s(19);var b=s(15),p=s(44),S=s(101),x=s(18),N=s(27),T=s(57),A=N("species"),R=RegExp.prototype;w.exports=function(B,V,U,ue){var se=N(B),ie=!x(function(){var K={};return K[se]=function(){return 7},""[B](K)!=7}),ee=ie&&!x(function(){var K=!1,pe=/a/;return B==="split"&&((pe={}).constructor={},pe.constructor[A]=function(){return pe},pe.flags="",pe[se]=/./[se]),pe.exec=function(){return K=!0,null},pe[se](""),!K});if(!ie||!ee||U){var ne=b(/./[se]),$=V(se,""[B],function(K,pe,H,fe,L){var G=b(K),F=pe.exec;return F===S||F===R.exec?ie&&!L?{done:!0,value:ne(pe,H,fe)}:{done:!0,value:G(H,pe,fe)}:{done:!1}});p(String.prototype,B,$[0]),p(R,se,$[1])}ue&&T(R[se],"sham",!0)}},function(w,j,s){"use strict";var b=s(146).charAt;w.exports=function(p,S,x){return S+(x?b(p,S).length:1)}},function(w,j,s){var b=s(7),p=s(35),S=s(32),x=s(28),N=s(50),T=s(101),A=b.TypeError;w.exports=function(R,B){var V=R.exec;if(x(V)){var U=p(V,R,B);return U!==null&&S(U),U}if(N(R)==="RegExp")return p(T,R,B);throw A("RegExp#exec called on incompatible receiver")}},function(w,j,s){"use strict";var b=s(76),p=s(35),S=s(15),x=s(122),N=s(18),T=s(32),A=s(28),R=s(68),B=s(89),V=s(40),U=s(45),ue=s(123),se=s(59),ie=s(197),ee=s(124),ne=s(27)("replace"),$=Math.max,K=Math.min,pe=S([].concat),H=S([].push),fe=S("".indexOf),L=S("".slice),G="a".replace(/./,"$0")==="$0",F=!!/./[ne]&&/./[ne]("a","$0")==="";x("replace",function(oe,me,Se){var X=F?"$":"$0";return[function(J,Y){var ae=U(this),ve=J==null?void 0:se(J,ne);return ve?p(ve,J,ae,Y):p(me,V(ae),J,Y)},function(J,Y){var ae=T(this),ve=V(J);if(typeof Y=="string"&&fe(Y,X)===-1&&fe(Y,"$<")===-1){var we=Se(me,ae,ve,Y);if(we.done)return we.value}var Ie=A(Y);Ie||(Y=V(Y));var Ue=ae.global;if(Ue){var Ye=ae.unicode;ae.lastIndex=0}for(var He=[];;){var Ke=ee(ae,ve);if(Ke===null||(H(He,Ke),!Ue))break;V(Ke[0])===""&&(ae.lastIndex=ue(ve,B(ae.lastIndex),Ye))}for(var dt,ce="",de=0,ge=0;ge<He.length;ge++){for(var De=V((Ke=He[ge])[0]),ze=$(K(R(Ke.index),ve.length),0),Ce=[],it=1;it<Ke.length;it++)H(Ce,(dt=Ke[it])===void 0?dt:String(dt));var rt=Ke.groups;if(Ie){var ht=pe([De],Ce,ze,ve);rt!==void 0&&H(ht,rt);var qe=V(b(Y,void 0,ht))}else qe=ie(De,ve,ze,Ce,rt,Y);ze>=de&&(ce+=L(ve,de,ze)+qe,de=ze+De.length)}return ce+L(ve,de)}]},!!N(function(){var oe=/./;return oe.exec=function(){var me=[];return me.groups={a:"7"},me},"".replace(oe,"$<a>")!=="7"})||!G||F)},function(w,j,s){var b=s(50),p=s(7);w.exports=b(p.process)=="process"},function(w,j,s){s(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(w,j,s){var b=s(109);w.exports=b&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(w,j,s){var b=s(36),p=s(18),S=s(85);w.exports=!b&&!p(function(){return Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a!=7})},function(w,j,s){var b=s(7),p=s(35),S=s(33),x=s(87),N=s(59),T=s(168),A=s(27),R=b.TypeError,B=A("toPrimitive");w.exports=function(V,U){if(!S(V)||x(V))return V;var ue,se=N(V,B);if(se){if(U===void 0&&(U="default"),ue=p(se,V,U),!S(ue)||x(ue))return ue;throw R("Can't convert object to primitive value")}return U===void 0&&(U="number"),T(V,U)}},function(w,j,s){var b=s(15),p=s(34),S=s(39),x=s(132).indexOf,N=s(69),T=b([].push);w.exports=function(A,R){var B,V=S(A),U=0,ue=[];for(B in V)!p(N,B)&&p(V,B)&&T(ue,B);for(;R.length>U;)p(V,B=R[U++])&&(~x(ue,B)||T(ue,B));return ue}},function(w,j,s){var b=s(39),p=s(67),S=s(43),x=function(N){return function(T,A,R){var B,V=b(T),U=S(V),ue=p(R,U);if(N&&A!=A){for(;U>ue;)if((B=V[ue++])!=B)return!0}else for(;U>ue;ue++)if((N||ue in V)&&V[ue]===A)return N||ue||0;return!N&&-1}};w.exports={includes:x(!0),indexOf:x(!1)}},function(w,j,s){var b=s(46);w.exports=b("document","documentElement")},function(w,j,s){var b=s(34),p=s(135),S=s(51),x=s(37);w.exports=function(N,T){for(var A=p(T),R=x.f,B=S.f,V=0;V<A.length;V++){var U=A[V];b(N,U)||R(N,U,B(T,U))}}},function(w,j,s){var b=s(46),p=s(15),S=s(72),x=s(112),N=s(32),T=p([].concat);w.exports=b("Reflect","ownKeys")||function(A){var R=S.f(N(A)),B=x.f;return B?T(R,B(A)):R}},function(w,j,s){"use strict";var b,p,S,x=s(18),N=s(28),T=s(54),A=s(95),R=s(44),B=s(27),V=s(64),U=B("iterator"),ue=!1;[].keys&&("next"in(S=[].keys())?(p=A(A(S)))!==Object.prototype&&(b=p):ue=!0),b==null||x(function(){var se={};return b[U].call(se)!==se})?b={}:V&&(b=T(b)),N(b[U])||R(b,U,function(){return this}),w.exports={IteratorPrototype:b,BUGGY_SAFARI_ITERATORS:ue}},function(w,j,s){var b=s(18);w.exports=!b(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},function(w,j,s){var b=s(16),p=s(15),S=s(69),x=s(33),N=s(34),T=s(37).f,A=s(72),R=s(139),B=s(173),V=s(84),U=s(175),ue=!1,se=V("meta"),ie=0,ee=function($){T($,se,{value:{objectID:"O"+ie++,weakData:{}}})},ne=w.exports={enable:function(){ne.enable=function(){},ue=!0;var $=A.f,K=p([].splice),pe={};pe[se]=1,$(pe).length&&(A.f=function(H){for(var fe=$(H),L=0,G=fe.length;L<G;L++)if(fe[L]===se){K(fe,L,1);break}return fe},b({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:R.f}))},fastKey:function($,K){if(!x($))return typeof $=="symbol"?$:(typeof $=="string"?"S":"P")+$;if(!N($,se)){if(!B($))return"F";if(!K)return"E";ee($)}return $[se].objectID},getWeakData:function($,K){if(!N($,se)){if(!B($))return!0;if(!K)return!1;ee($)}return $[se].weakData},onFreeze:function($){return U&&ue&&B($)&&!N($,se)&&ee($),$}};S[se]=!0},function(w,j,s){var b=s(50),p=s(39),S=s(72).f,x=s(113),N=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];w.exports.f=function(T){return N&&b(T)=="Window"?function(A){try{return S(A)}catch(R){return x(N)}}(T):S(p(T))}},function(w,j,s){var b=s(27),p=s(70),S=b("iterator"),x=Array.prototype;w.exports=function(N){return N!==void 0&&(p.Array===N||x[S]===N)}},function(w,j,s){var b=s(7),p=s(35),S=s(55),x=s(32),N=s(88),T=s(115),A=b.TypeError;w.exports=function(R,B){var V=arguments.length<2?T(R):B;if(S(V))return x(p(V,R));throw A(N(R)+" is not iterable")}},function(w,j,s){var b=s(35),p=s(32),S=s(59);w.exports=function(x,N,T){var A,R;p(x);try{if(!(A=S(x,"return"))){if(N==="throw")throw T;return T}A=b(A,x)}catch(B){R=!0,A=B}if(N==="throw")throw T;if(R)throw A;return p(A),T}},function(w,j,s){var b=s(28),p=s(33),S=s(96);w.exports=function(x,N,T){var A,R;return S&&b(A=N.constructor)&&A!==T&&p(R=A.prototype)&&R!==T.prototype&&S(x,R),x}},function(w,j,s){var b=s(44);w.exports=function(p,S,x){for(var N in S)b(p,N,S[N],x);return p}},function(w,j,s){"use strict";var b=s(46),p=s(37),S=s(27),x=s(36),N=S("species");w.exports=function(T){var A=b(T),R=p.f;x&&A&&!A[N]&&R(A,N,{configurable:!0,get:function(){return this}})}},function(w,j,s){var b=s(15),p=s(68),S=s(40),x=s(45),N=b("".charAt),T=b("".charCodeAt),A=b("".slice),R=function(B){return function(V,U){var ue,se,ie=S(x(V)),ee=p(U),ne=ie.length;return ee<0||ee>=ne?B?"":void 0:(ue=T(ie,ee))<55296||ue>56319||ee+1===ne||(se=T(ie,ee+1))<56320||se>57343?B?N(ie,ee):ue:B?A(ie,ee,ee+2):se-56320+(ue-55296<<10)+65536}};w.exports={codeAt:R(!1),charAt:R(!0)}},function(w,j){w.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(w,j,s){var b=s(85)("span").classList,p=b&&b.constructor&&b.constructor.prototype;w.exports=p===Object.prototype?void 0:p},function(w,j,s){var b=s(27);j.f=b},function(w,j,s){var b=s(180),p=s(34),S=s(149),x=s(37).f;w.exports=function(N){var T=b.Symbol||(b.Symbol={});p(T,N)||x(T,N,{value:S.f(N)})}},function(w,j,s){var b=s(18),p=s(7).RegExp,S=b(function(){var T=p("a","y");return T.lastIndex=2,T.exec("abcd")!=null}),x=S||b(function(){return!p("a","y").sticky}),N=S||b(function(){var T=p("^r","gy");return T.lastIndex=2,T.exec("str")!=null});w.exports={BROKEN_CARET:N,MISSED_STICKY:x,UNSUPPORTED_Y:S}},function(w,j,s){"use strict";var b=s(16),p=s(132).includes,S=s(82);b({target:"Array",proto:!0},{includes:function(x){return p(this,x,arguments.length>1?arguments[1]:void 0)}}),S("includes")},function(w,j,s){"use strict";var b=s(16),p=s(15),S=s(192),x=s(45),N=s(40),T=s(193),A=p("".indexOf);b({target:"String",proto:!0,forced:!T("includes")},{includes:function(R){return!!~A(N(x(this)),N(S(R)),arguments.length>1?arguments[1]:void 0)}})},function(w,j,s){var b=s(33),p=s(50),S=s(27)("match");w.exports=function(x){var N;return b(x)&&((N=x[S])!==void 0?!!N:p(x)=="RegExp")}},function(w,j){var s,b,p=w.exports={};function S(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function N(ie){if(s===setTimeout)return setTimeout(ie,0);if((s===S||!s)&&setTimeout)return s=setTimeout,setTimeout(ie,0);try{return s(ie,0)}catch(ee){try{return s.call(null,ie,0)}catch(ne){return s.call(this,ie,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:S}catch(ie){s=S}try{b=typeof clearTimeout=="function"?clearTimeout:x}catch(ie){b=x}})();var T,A=[],R=!1,B=-1;function V(){R&&T&&(R=!1,T.length?A=T.concat(A):B=-1,A.length&&U())}function U(){if(!R){var ie=N(V);R=!0;for(var ee=A.length;ee;){for(T=A,A=[];++B<ee;)T&&T[B].run();B=-1,ee=A.length}T=null,R=!1,function(ne){if(b===clearTimeout)return clearTimeout(ne);if((b===x||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(ne);try{b(ne)}catch($){try{return b.call(null,ne)}catch(K){return b.call(this,ne)}}}(ie)}}function ue(ie,ee){this.fun=ie,this.array=ee}function se(){}p.nextTick=function(ie){var ee=new Array(arguments.length-1);if(arguments.length>1)for(var ne=1;ne<arguments.length;ne++)ee[ne-1]=arguments[ne];A.push(new ue(ie,ee)),A.length!==1||R||N(U)},ue.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=se,p.addListener=se,p.once=se,p.off=se,p.removeListener=se,p.removeAllListeners=se,p.emit=se,p.prependListener=se,p.prependOnceListener=se,p.listeners=function(ie){return[]},p.binding=function(ie){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(ie){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(w,j,s){var b=s(32),p=s(157),S=s(27)("species");w.exports=function(x,N){var T,A=b(x).constructor;return A===void 0||(T=b(A)[S])==null?N:p(T)}},function(w,j,s){var b=s(7),p=s(99),S=s(88),x=b.TypeError;w.exports=function(N){if(p(N))return N;throw x(S(N)+" is not a constructor")}},function(w,j,s){var b=s(15),p=s(45),S=s(40),x=s(159),N=b("".replace),T="["+x+"]",A=RegExp("^"+T+T+"*"),R=RegExp(T+T+"*$"),B=function(V){return function(U){var ue=S(p(U));return 1&V&&(ue=N(ue,A,"")),2&V&&(ue=N(ue,R,"")),ue}};w.exports={start:B(1),end:B(2),trim:B(3)}},function(w,j){w.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(w,j,s){"use strict";var b=s(35),p=s(122),S=s(32),x=s(89),N=s(40),T=s(45),A=s(59),R=s(123),B=s(124);p("match",function(V,U,ue){return[function(se){var ie=T(this),ee=se==null?void 0:A(se,V);return ee?b(ee,se,ie):new RegExp(se)[V](N(ie))},function(se){var ie=S(this),ee=N(se),ne=ue(U,ie,ee);if(ne.done)return ne.value;if(!ie.global)return B(ie,ee);var $=ie.unicode;ie.lastIndex=0;for(var K,pe=[],H=0;(K=B(ie,ee))!==null;){var fe=N(K[0]);pe[H]=fe,fe===""&&(ie.lastIndex=R(ee,x(ie.lastIndex),$)),H++}return H===0?null:pe}]})},function(w,j,s){var b,p,S,x,N=s(7),T=s(76),A=s(62),R=s(28),B=s(34),V=s(18),U=s(133),ue=s(100),se=s(85),ie=s(162),ee=s(126),ne=N.setImmediate,$=N.clearImmediate,K=N.process,pe=N.Dispatch,H=N.Function,fe=N.MessageChannel,L=N.String,G=0,F={};try{b=N.location}catch(J){}var oe=function(J){if(B(F,J)){var Y=F[J];delete F[J],Y()}},me=function(J){return function(){oe(J)}},Se=function(J){oe(J.data)},X=function(J){N.postMessage(L(J),b.protocol+"//"+b.host)};ne&&$||(ne=function(J){var Y=ue(arguments,1);return F[++G]=function(){T(R(J)?J:H(J),void 0,Y)},p(G),G},$=function(J){delete F[J]},ee?p=function(J){K.nextTick(me(J))}:pe&&pe.now?p=function(J){pe.now(me(J))}:fe&&!ie?(x=(S=new fe).port2,S.port1.onmessage=Se,p=A(x.postMessage,x)):N.addEventListener&&R(N.postMessage)&&!N.importScripts&&b&&b.protocol!=="file:"&&!V(X)?(p=X,N.addEventListener("message",Se,!1)):p="onreadystatechange"in se("script")?function(J){U.appendChild(se("script")).onreadystatechange=function(){U.removeChild(this),oe(J)}}:function(J){setTimeout(me(J),0)}),w.exports={set:ne,clear:$}},function(w,j,s){var b=s(53);w.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(b)},function(w,j,s){"use strict";var b=s(55),p=function(S){var x,N;this.promise=new S(function(T,A){if(x!==void 0||N!==void 0)throw TypeError("Bad Promise constructor");x=T,N=A}),this.resolve=b(x),this.reject=b(N)};w.exports.f=function(S){return new p(S)}},function(w,j,s){"use strict";j.a=function(){return!1}},function(w,j,s){"use strict";(function(b){s.d(j,"a",function(){return ee});var p=s(0);function S(L){throw new Error("[mobx-utils] "+L)}function x(L,G){G===void 0&&(G="Illegal state"),L||S(G)}var N=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(N(Object.getPrototypeOf(L))||[])},T=function(L){return function(G){var F=N(G);return F.filter(function(oe,me){return F.indexOf(oe)===me})}(L).filter(function(G){return G!=="constructor"&&!~G.indexOf("__")})};function A(L){switch(this.state){case"pending":return L.pending&&L.pending(this.value);case"rejected":return L.rejected&&L.rejected(this.value);case"fulfilled":return L.fulfilled?L.fulfilled(this.value):this.value}}function R(L,G){if(x(arguments.length<=2,"fromPromise expects up to two arguments"),x(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var F=L;L.then(Object(p.k)("observableFromPromise-resolve",function(me){F.value=me,F.state="fulfilled"}),Object(p.k)("observableFromPromise-reject",function(me){F.value=me,F.state="rejected"})),F.isPromiseBasedObservable=!0,F.case=A;var oe=G&&G.state==="fulfilled"?G.value:void 0;return Object(p.q)(F,{value:oe,state:"pending"},{},{deep:!1}),F}(function(L){L.reject=Object(p.k)("fromPromise.reject",function(G){var F=L(Promise.reject(G));return F.state="rejected",F.value=G,F}),L.resolve=Object(p.k)("fromPromise.resolve",function(G){G===void 0&&(G=void 0);var F=L(Promise.resolve(G));return F.state="fulfilled",F.value=G,F})})(R||(R={}));var B=function(L,G,F,oe){var me,Se=arguments.length,X=Se<3?G:oe===null?oe=Object.getOwnPropertyDescriptor(G,F):oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(L,G,F,oe);else for(var J=L.length-1;J>=0;J--)(me=L[J])&&(X=(Se<3?me(X):Se>3?me(G,F,X):me(G,F))||X);return Se>3&&X&&Object.defineProperty(G,F,X),X};(function(){function L(G,F){var oe=this;Object(p.G)(function(){oe.current=F,oe.subscription=G.subscribe(oe)})}L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function(G){this.current=G},L.prototype.complete=function(){this.dispose()},L.prototype.error=function(G){this.current=G,this.dispose()},B([p.C.ref],L.prototype,"current",void 0),B([p.k.bound],L.prototype,"next",null),B([p.k.bound],L.prototype,"complete",null),B([p.k.bound],L.prototype,"error",null)})();var V=function(){return(V=Object.assign||function(L){for(var G,F=1,oe=arguments.length;F<oe;F++)for(var me in G=arguments[F])Object.prototype.hasOwnProperty.call(G,me)&&(L[me]=G[me]);return L}).apply(this,arguments)},U=function(L,G,F,oe){var me,Se=arguments.length,X=Se<3?G:oe===null?oe=Object.getOwnPropertyDescriptor(G,F):oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(L,G,F,oe);else for(var J=L.length-1;J>=0;J--)(me=L[J])&&(X=(Se<3?me(X):Se>3?me(G,F,X):me(G,F))||X);return Se>3&&X&&Object.defineProperty(G,F,X),X},ue=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L(G){var F=this;this.model=G,this.localValues=p.C.map({}),this.localComputedValues=p.C.map({}),this.isPropertyDirty=function(oe){return F.localValues.has(oe)},x(Object(p.A)(G),"createViewModel expects an observable object"),T(G).forEach(function(oe){if(oe!==p.a&&oe!=="__mobxDidRunLazyInitializers"){if(x(ue.indexOf(oe)===-1,"The propertyname "+oe+" is reserved and cannot be used with viewModels"),Object(p.w)(G,oe)){var me=Object(p.h)(G,oe).derivation;F.localComputedValues.set(oe,Object(p.m)(me.bind(F)))}var Se=Object.getOwnPropertyDescriptor(G,oe),X=Se?{enumerable:Se.enumerable}:{};Object.defineProperty(F,oe,V(V({},X),{configurable:!0,get:function(){return Object(p.w)(G,oe)?F.localComputedValues.get(oe).get():F.isPropertyDirty(oe)?F.localValues.get(oe):F.model[oe]},set:Object(p.k)(function(J){J!==F.model[oe]?F.localValues.set(oe,J):F.localValues.delete(oe)})}))}})}Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var G=this;Object(p.B)(this.localValues).forEach(function(F){var oe=G.localValues.get(F),me=G.model[F];Object(p.y)(me)?me.replace(oe):Object(p.z)(me)?(me.clear(),me.merge(oe)):Object(p.v)(oe)||(G.model[F]=oe)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function(G){this.localValues.delete(G)},U([p.m],L.prototype,"isDirty",null),U([p.m],L.prototype,"changedValues",null),U([p.k.bound],L.prototype,"submit",null),U([p.k.bound],L.prototype,"reset",null),U([p.k.bound],L.prototype,"resetProperty",null)})();function se(L){if(!L)return"ROOT";for(var G=[];L.parent;)G.push(L.path),L=L.parent;return G.reverse().join("/")}function ie(L){return Object(p.A)(L)||Object(p.y)(L)||Object(p.z)(L)}function ee(L,G){var F=new WeakMap;function oe(X){var J=F.get(X.object);(function(Y,ae){switch(Y.type){case"add":me(Y.newValue,ae,Y.name);break;case"update":Se(Y.oldValue),me(Y.newValue,ae,Y.name||""+Y.index);break;case"remove":case"delete":Se(Y.oldValue);break;case"splice":Y.removed.map(Se),Y.added.forEach(function(Ie,Ue){return me(Ie,ae,""+(Y.index+Ue))});for(var ve=Y.index+Y.addedCount;ve<Y.object.length;ve++)if(ie(Y.object[ve])){var we=F.get(Y.object[ve]);we&&(we.path=""+ve)}}})(X,J),G(X,se(J),L)}function me(X,J,Y){if(ie(X)){var ae=F.get(X);if(ae){if(ae.parent!==J||ae.path!==Y)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+se(J)+"/"+Y+"', but it already exists at '"+se(ae.parent)+"/"+ae.path+"'")}else{var ve={parent:J,path:Y,dispose:Object(p.D)(X,oe)};F.set(X,ve),Object(p.p)(X).forEach(function(we){var Ie=we[0];return me(we[1],ve,Ie)})}}}function Se(X){if(ie(X)){var J=F.get(X);if(!J)return;F.delete(X),J.dispose(),Object(p.L)(X).forEach(Se)}}return me(L,void 0,""),function(){Se(L)}}var ne,$=(ne=function(L,G){return(ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,oe){F.__proto__=oe}||function(F,oe){for(var me in oe)oe.hasOwnProperty(me)&&(F[me]=oe[me])})(L,G)},function(L,G){function F(){this.constructor=L}ne(L,G),L.prototype=G===null?Object.create(G):(F.prototype=G.prototype,new F)}),K=(function(L){function G(F,oe,me){var Se=me===void 0?{}:me,X=Se.name,J=X===void 0?"ogm"+(1e3*Math.random()|0):X,Y=Se.keyToName,ae=Y===void 0?function(Ie){return""+Ie}:Y,ve=L.call(this)||this;ve._keyToName=ae,ve._groupBy=oe,ve._ogmInfoKey=Symbol("ogmInfo"+J),ve._base=F;for(var we=0;we<F.length;we++)ve._addItem(F[we]);return ve._disposeBaseObserver=Object(p.D)(ve._base,function(Ie){if(Ie.type==="splice")Object(p.J)(function(){for(var Ue=0,Ye=Ie.removed;Ue<Ye.length;Ue++){var He=Ye[Ue];ve._removeItem(He)}for(var Ke=0,dt=Ie.added;Ke<dt.length;Ke++){var ce=dt[Ke];ve._addItem(ce)}});else{if(Ie.type!=="update")throw new Error("illegal state");Object(p.J)(function(){ve._removeItem(Ie.oldValue),ve._addItem(Ie.newValue)})}}),ve}$(G,L),G.prototype.clear=function(){throw new Error("not supported")},G.prototype.delete=function(F){throw new Error("not supported")},G.prototype.set=function(F,oe){throw new Error("not supported")},G.prototype.dispose=function(){this._disposeBaseObserver();for(var F=0;F<this._base.length;F++){var oe=this._base[F];oe[this._ogmInfoKey].reaction(),delete oe[this._ogmInfoKey]}},G.prototype._getGroupArr=function(F){var oe=L.prototype.get.call(this,F);return oe===void 0&&(oe=Object(p.C)([],{name:"GroupArray["+this._keyToName(F)+"]",deep:!1}),L.prototype.set.call(this,F,oe)),oe},G.prototype._removeFromGroupArr=function(F,oe){var me=L.prototype.get.call(this,F);me.length===1?L.prototype.delete.call(this,F):(oe===me.length-1||(me[oe]=me[me.length-1],me[oe][this._ogmInfoKey].groupArrIndex=oe),me.length--)},G.prototype._addItem=function(F){var oe=this,me=this._groupBy(F),Se=this._getGroupArr(me),X={groupByValue:me,groupArrIndex:Se.length,reaction:Object(p.F)(function(){return oe._groupBy(F)},function(J,Y){var ae=F[oe._ogmInfoKey];oe._removeFromGroupArr(ae.groupByValue,ae.groupArrIndex);var ve=oe._getGroupArr(J),we=ve.length;ve.push(F),ae.groupByValue=J,ae.groupArrIndex=we})};Object.defineProperty(F,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:X}),Se.push(F)},G.prototype._removeItem=function(F){var oe=F[this._ogmInfoKey];this._removeFromGroupArr(oe.groupByValue,oe.groupArrIndex),oe.reaction(),delete F[this._ogmInfoKey]}}(p.b),function(){function L(G,F){this.base=G,this.args=F,this.closestIdx=0,this.isDisposed=!1;for(var oe=this.closest=this.root=G,me=0;me<this.args.length-1&&(oe=oe.get(F[me]));me++)this.closest=oe;this.closestIdx=me}return L.prototype.exists=function(){this.assertNotDisposed();var G=this.args.length;return this.closestIdx>=G-1&&this.closest.has(this.args[G-1])},L.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},L.prototype.set=function(G){this.assertNotDisposed();for(var F=this.args.length,oe=this.closest,me=this.closestIdx;me<F-1;me++){var Se=new Map;oe.set(this.args[me],Se),oe=Se}this.closestIdx=F-1,this.closest=oe,oe.set(this.args[F-1],G)},L.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var G=this.args.length;this.closest.delete(this.args[G-1]);for(var F=this.root,oe=[F],me=0;me<G-1;me++)F=F.get(this.args[me]),oe.push(F);for(me=oe.length-1;me>0;me--)oe[me].size===0&&oe[me-1].delete(this.args[me-1]);this.isDisposed=!0},L.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},L}());(function(){function L(){this.store=new Map,this.argsLength=-1}L.prototype.entry=function(G){if(this.argsLength===-1)this.argsLength=G.length;else if(this.argsLength!==G.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+G.length);return this.last&&(this.last.isDisposed=!0),this.last=new K(this.store,G)}})(),new Set,new Set;var pe,H=Promise.resolve();pe=typeof queueMicrotask!="undefined"?queueMicrotask:b!==void 0&&b.nextTick?function(L){b.nextTick(L)}:function(L){setTimeout(L,0)};var fe=function(){return new Promise(function(L){pe(L)})}}).call(this,s(155))},function(w,j,s){var b;(function(p,S,x){if(p){for(var N,T={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},R={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},B={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},V=1;V<20;++V)T[111+V]="f"+V;for(V=0;V<=9;++V)T[V+96]=V.toString();ne.prototype.bind=function($,K,pe){return $=$ instanceof Array?$:[$],this._bindMultiple.call(this,$,K,pe),this},ne.prototype.unbind=function($,K){return this.bind.call(this,$,function(){},K)},ne.prototype.trigger=function($,K){return this._directMap[$+":"+K]&&this._directMap[$+":"+K]({},$),this},ne.prototype.reset=function(){return this._callbacks={},this._directMap={},this},ne.prototype.stopCallback=function($,K){if((" "+K.className+" ").indexOf(" mousetrap ")>-1||function H(fe,L){return fe!==null&&fe!==S&&(fe===L||H(fe.parentNode,L))}(K,this.target))return!1;if("composedPath"in $&&typeof $.composedPath=="function"){var pe=$.composedPath()[0];pe!==$.target&&(K=pe)}return K.tagName=="INPUT"||K.tagName=="SELECT"||K.tagName=="TEXTAREA"||K.isContentEditable},ne.prototype.handleKey=function(){var $=this;return $._handleKey.apply($,arguments)},ne.addKeycodes=function($){for(var K in $)$.hasOwnProperty(K)&&(T[K]=$[K]);N=null},ne.init=function(){var $=ne(S);for(var K in $)K.charAt(0)!=="_"&&(ne[K]=function(pe){return function(){return $[pe].apply($,arguments)}}(K))},ne.init(),p.Mousetrap=ne,w.exports&&(w.exports=ne),(b=function(){return ne}.call(j,s,j,w))===void 0||(w.exports=b)}function U($,K,pe){$.addEventListener?$.addEventListener(K,pe,!1):$.attachEvent("on"+K,pe)}function ue($){if($.type=="keypress"){var K=String.fromCharCode($.which);return $.shiftKey||(K=K.toLowerCase()),K}return T[$.which]?T[$.which]:A[$.which]?A[$.which]:String.fromCharCode($.which).toLowerCase()}function se($){return $=="shift"||$=="ctrl"||$=="alt"||$=="meta"}function ie($,K,pe){return pe||(pe=function(){if(!N)for(var H in N={},T)H>95&&H<112||T.hasOwnProperty(H)&&(N[T[H]]=H);return N}()[$]?"keydown":"keypress"),pe=="keypress"&&K.length&&(pe="keydown"),pe}function ee($,K){var pe,H,fe,L=[];for(pe=function(G){return G==="+"?["+"]:(G=G.replace(/\+{2}/g,"+plus")).split("+")}($),fe=0;fe<pe.length;++fe)H=pe[fe],B[H]&&(H=B[H]),K&&K!="keypress"&&R[H]&&(H=R[H],L.push("shift")),se(H)&&L.push(H);return{key:H,modifiers:L,action:K=ie(H,L,K)}}function ne($){var K=this;if($=$||S,!(K instanceof ne))return new ne($);K.target=$,K._callbacks={},K._directMap={};var pe,H={},fe=!1,L=!1,G=!1;function F(Y){Y=Y||{};var ae,ve=!1;for(ae in H)Y[ae]?ve=!0:H[ae]=0;ve||(G=!1)}function oe(Y,ae,ve,we,Ie,Ue){var Ye,He,Ke,dt,ce=[],de=ve.type;if(!K._callbacks[Y])return[];for(de=="keyup"&&se(Y)&&(ae=[Y]),Ye=0;Ye<K._callbacks[Y].length;++Ye)if(He=K._callbacks[Y][Ye],(we||!He.seq||H[He.seq]==He.level)&&de==He.action&&(de=="keypress"&&!ve.metaKey&&!ve.ctrlKey||(Ke=ae,dt=He.modifiers,Ke.sort().join(",")===dt.sort().join(",")))){var ge=!we&&He.combo==Ie,De=we&&He.seq==we&&He.level==Ue;(ge||De)&&K._callbacks[Y].splice(Ye,1),ce.push(He)}return ce}function me(Y,ae,ve,we){K.stopCallback(ae,ae.target||ae.srcElement,ve,we)||Y(ae,ve)===!1&&(function(Ie){Ie.preventDefault?Ie.preventDefault():Ie.returnValue=!1}(ae),function(Ie){Ie.stopPropagation?Ie.stopPropagation():Ie.cancelBubble=!0}(ae))}function Se(Y){typeof Y.which!="number"&&(Y.which=Y.keyCode);var ae=ue(Y);ae&&(Y.type!="keyup"||fe!==ae?K.handleKey(ae,function(ve){var we=[];return ve.shiftKey&&we.push("shift"),ve.altKey&&we.push("alt"),ve.ctrlKey&&we.push("ctrl"),ve.metaKey&&we.push("meta"),we}(Y),Y):fe=!1)}function X(Y,ae,ve,we){function Ie(Ke){return function(){G=Ke,++H[Y],clearTimeout(pe),pe=setTimeout(F,1e3)}}function Ue(Ke){me(ve,Ke,Y),we!=="keyup"&&(fe=ue(Ke)),setTimeout(F,10)}H[Y]=0;for(var Ye=0;Ye<ae.length;++Ye){var He=Ye+1===ae.length?Ue:Ie(we||ee(ae[Ye+1]).action);J(ae[Ye],He,we,Y,Ye)}}function J(Y,ae,ve,we,Ie){K._directMap[Y+":"+ve]=ae;var Ue,Ye=(Y=Y.replace(/\s+/g," ")).split(" ");Ye.length>1?X(Y,Ye,ae,ve):(Ue=ee(Y,ve),K._callbacks[Ue.key]=K._callbacks[Ue.key]||[],oe(Ue.key,Ue.modifiers,{type:Ue.action},we,Y,Ie),K._callbacks[Ue.key][we?"unshift":"push"]({callback:ae,modifiers:Ue.modifiers,action:Ue.action,seq:we,level:Ie,combo:Y}))}K._handleKey=function(Y,ae,ve){var we,Ie=oe(Y,ae,ve),Ue={},Ye=0,He=!1;for(we=0;we<Ie.length;++we)Ie[we].seq&&(Ye=Math.max(Ye,Ie[we].level));for(we=0;we<Ie.length;++we)if(Ie[we].seq){if(Ie[we].level!=Ye)continue;He=!0,Ue[Ie[we].seq]=1,me(Ie[we].callback,ve,Ie[we].combo,Ie[we].seq)}else He||me(Ie[we].callback,ve,Ie[we].combo);var Ke=ve.type=="keypress"&&L;ve.type!=G||se(Y)||Ke||F(Ue),L=He&&ve.type=="keydown"},K._bindMultiple=function(Y,ae,ve){for(var we=0;we<Y.length;++we)J(Y[we],ae,ve)},U($,"keypress",Se),U($,"keydown",Se),U($,"keyup",Se)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(w,j,s){var b=s(36),p=s(37),S=s(32),x=s(39),N=s(66);w.exports=b?Object.defineProperties:function(T,A){S(T);for(var R,B=x(A),V=N(A),U=V.length,ue=0;U>ue;)p.f(T,R=V[ue++],B[R]);return T}},function(w,j,s){var b=s(7),p=s(35),S=s(28),x=s(33),N=b.TypeError;w.exports=function(T,A){var R,B;if(A==="string"&&S(R=T.toString)&&!x(B=p(R,T))||S(R=T.valueOf)&&!x(B=p(R,T))||A!=="string"&&S(R=T.toString)&&!x(B=p(R,T)))return B;throw N("Can't convert object to primitive value")}},function(w,j,s){var b=s(7),p=s(28),S=s(91),x=b.WeakMap;w.exports=p(x)&&/native code/.test(S(x))},function(w,j,s){"use strict";var b=s(136).IteratorPrototype,p=s(54),S=s(71),x=s(73),N=s(70),T=function(){return this};w.exports=function(A,R,B,V){var U=R+" Iterator";return A.prototype=p(b,{next:S(+!V,B)}),x(A,U,!1,!0),N[U]=T,A}},function(w,j,s){var b=s(7),p=s(28),S=b.String,x=b.TypeError;w.exports=function(N){if(typeof N=="object"||p(N))return N;throw x("Can't set "+S(N)+" as a prototype")}},function(w,j,s){"use strict";var b=s(16),p=s(7),S=s(15),x=s(94),N=s(44),T=s(138),A=s(114),R=s(117),B=s(28),V=s(33),U=s(18),ue=s(118),se=s(73),ie=s(143);w.exports=function(ee,ne,$){var K=ee.indexOf("Map")!==-1,pe=ee.indexOf("Weak")!==-1,H=K?"set":"add",fe=p[ee],L=fe&&fe.prototype,G=fe,F={},oe=function(ae){var ve=S(L[ae]);N(L,ae,ae=="add"?function(we){return ve(this,we===0?0:we),this}:ae=="delete"?function(we){return!(pe&&!V(we))&&ve(this,we===0?0:we)}:ae=="get"?function(we){return pe&&!V(we)?void 0:ve(this,we===0?0:we)}:ae=="has"?function(we){return!(pe&&!V(we))&&ve(this,we===0?0:we)}:function(we,Ie){return ve(this,we===0?0:we,Ie),this})};if(x(ee,!B(fe)||!(pe||L.forEach&&!U(function(){new fe().entries().next()}))))G=$.getConstructor(ne,ee,K,H),T.enable();else if(x(ee,!0)){var me=new G,Se=me[H](pe?{}:-0,1)!=me,X=U(function(){me.has(1)}),J=ue(function(ae){new fe(ae)}),Y=!pe&&U(function(){for(var ae=new fe,ve=5;ve--;)ae[H](ve,ve);return!ae.has(-0)});J||((G=ne(function(ae,ve){R(ae,L);var we=ie(new fe,ae,G);return ve!=null&&A(ve,we[H],{that:we,AS_ENTRIES:K}),we})).prototype=L,L.constructor=G),(X||Y)&&(oe("delete"),oe("has"),K&&oe("get")),(Y||Se)&&oe(H),pe&&L.clear&&delete L.clear}return F[ee]=G,b({global:!0,forced:G!=fe},F),se(G,ee),pe||$.setStrong(G,ee,K),G}},function(w,j,s){var b=s(18),p=s(33),S=s(50),x=s(174),N=Object.isExtensible,T=b(function(){N(1)});w.exports=T||x?function(A){return!!p(A)&&(!x||S(A)!="ArrayBuffer")&&(!N||N(A))}:N},function(w,j,s){var b=s(18);w.exports=b(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})},function(w,j,s){var b=s(18);w.exports=!b(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(w,j,s){"use strict";var b=s(37).f,p=s(54),S=s(144),x=s(62),N=s(117),T=s(114),A=s(111),R=s(145),B=s(36),V=s(138).fastKey,U=s(56),ue=U.set,se=U.getterFor;w.exports={getConstructor:function(ie,ee,ne,$){var K=ie(function(G,F){N(G,pe),ue(G,{type:ee,index:p(null),first:void 0,last:void 0,size:0}),B||(G.size=0),F!=null&&T(F,G[$],{that:G,AS_ENTRIES:ne})}),pe=K.prototype,H=se(ee),fe=function(G,F,oe){var me,Se,X=H(G),J=L(G,F);return J?J.value=oe:(X.last=J={index:Se=V(F,!0),key:F,value:oe,previous:me=X.last,next:void 0,removed:!1},X.first||(X.first=J),me&&(me.next=J),B?X.size++:G.size++,Se!=="F"&&(X.index[Se]=J)),G},L=function(G,F){var oe,me=H(G),Se=V(F);if(Se!=="F")return me.index[Se];for(oe=me.first;oe;oe=oe.next)if(oe.key==F)return oe};return S(pe,{clear:function(){for(var G=H(this),F=G.index,oe=G.first;oe;)oe.removed=!0,oe.previous&&(oe.previous=oe.previous.next=void 0),delete F[oe.index],oe=oe.next;G.first=G.last=void 0,B?G.size=0:this.size=0},delete:function(G){var F=H(this),oe=L(this,G);if(oe){var me=oe.next,Se=oe.previous;delete F.index[oe.index],oe.removed=!0,Se&&(Se.next=me),me&&(me.previous=Se),F.first==oe&&(F.first=me),F.last==oe&&(F.last=Se),B?F.size--:this.size--}return!!oe},forEach:function(G){for(var F,oe=H(this),me=x(G,arguments.length>1?arguments[1]:void 0);F=F?F.next:oe.first;)for(me(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(G){return!!L(this,G)}}),S(pe,ne?{get:function(G){var F=L(this,G);return F&&F.value},set:function(G,F){return fe(this,G===0?0:G,F)}}:{add:function(G){return fe(this,G=G===0?0:G,G)}}),B&&b(pe,"size",{get:function(){return H(this).size}}),K},setStrong:function(ie,ee,ne){var $=ee+" Iterator",K=se(ee),pe=se($);A(ie,ee,function(H,fe){ue(this,{type:$,target:H,state:K(H),kind:fe,last:void 0})},function(){for(var H=pe(this),fe=H.kind,L=H.last;L&&L.removed;)L=L.previous;return H.target&&(H.last=L=L?L.next:H.state.first)?fe=="keys"?{value:L.key,done:!1}:fe=="values"?{value:L.value,done:!1}:{value:[L.key,L.value],done:!1}:(H.target=void 0,{value:void 0,done:!0})},ne?"entries":"values",!ne,!0),R(ee)}}},function(w,j,s){"use strict";var b=s(116),p=s(97);w.exports=b?{}.toString:function(){return"[object "+p(this)+"]"}},function(w,j,s){"use strict";var b=s(74).forEach,p=s(120)("forEach");w.exports=p?[].forEach:function(S){return b(this,S,arguments.length>1?arguments[1]:void 0)}},function(w,j,s){var b=s(7),p=s(98),S=s(99),x=s(33),N=s(27)("species"),T=b.Array;w.exports=function(A){var R;return p(A)&&(R=A.constructor,(S(R)&&(R===T||p(R.prototype))||x(R)&&(R=R[N])===null)&&(R=void 0)),R===void 0?T:R}},function(w,j,s){var b=s(7);w.exports=b},function(w,j,s){"use strict";var b=s(7),p=s(62),S=s(35),x=s(38),N=s(182),T=s(140),A=s(99),R=s(43),B=s(61),V=s(141),U=s(115),ue=b.Array;w.exports=function(se){var ie=x(se),ee=A(this),ne=arguments.length,$=ne>1?arguments[1]:void 0,K=$!==void 0;K&&($=p($,ne>2?arguments[2]:void 0));var pe,H,fe,L,G,F,oe=U(ie),me=0;if(!oe||this==ue&&T(oe))for(pe=R(ie),H=ee?new this(pe):ue(pe);pe>me;me++)F=K?$(ie[me],me):ie[me],B(H,me,F);else for(G=(L=V(ie,oe)).next,H=ee?new this:[];!(fe=S(G,L)).done;me++)F=K?N(L,$,[fe.value,me],!0):fe.value,B(H,me,F);return H.length=me,H}},function(w,j,s){var b=s(32),p=s(142);w.exports=function(S,x,N,T){try{return T?x(b(N)[0],N[1]):x(N)}catch(A){p(S,"throw",A)}}},function(w,j,s){"use strict";var b=s(32);w.exports=function(){var p=b(this),S="";return p.global&&(S+="g"),p.ignoreCase&&(S+="i"),p.multiline&&(S+="m"),p.dotAll&&(S+="s"),p.unicode&&(S+="u"),p.sticky&&(S+="y"),S}},function(w,j,s){var b=s(18),p=s(7).RegExp;w.exports=b(function(){var S=p(".","s");return!(S.dotAll&&S.exec(`
`)&&S.flags==="s")})},function(w,j,s){var b=s(18),p=s(7).RegExp;w.exports=b(function(){var S=p("(?<a>b)","g");return S.exec("b").groups.a!=="b"||"b".replace(S,"$<a>c")!=="bc"})},function(w,j,s){"use strict";var b=s(16),p=s(15),S=s(55),x=s(38),N=s(43),T=s(40),A=s(18),R=s(187),B=s(120),V=s(188),U=s(189),ue=s(65),se=s(190),ie=[],ee=p(ie.sort),ne=p(ie.push),$=A(function(){ie.sort(void 0)}),K=A(function(){ie.sort(null)}),pe=B("sort"),H=!A(function(){if(ue)return ue<70;if(!(V&&V>3)){if(U)return!0;if(se)return se<603;var fe,L,G,F,oe="";for(fe=65;fe<76;fe++){switch(L=String.fromCharCode(fe),fe){case 66:case 69:case 70:case 72:G=3;break;case 68:case 71:G=4;break;default:G=2}for(F=0;F<47;F++)ie.push({k:L+F,v:G})}for(ie.sort(function(me,Se){return Se.v-me.v}),F=0;F<ie.length;F++)L=ie[F].k.charAt(0),oe.charAt(oe.length-1)!==L&&(oe+=L);return oe!=="DGBEFHACIJK"}});b({target:"Array",proto:!0,forced:$||!K||!pe||!H},{sort:function(fe){fe!==void 0&&S(fe);var L=x(this);if(H)return fe===void 0?ee(L):ee(L,fe);var G,F,oe=[],me=N(L);for(F=0;F<me;F++)F in L&&ne(oe,L[F]);for(R(oe,function(Se){return function(X,J){return J===void 0?-1:X===void 0?1:Se!==void 0?+Se(X,J)||0:T(X)>T(J)?1:-1}}(fe)),G=oe.length,F=0;F<G;)L[F]=oe[F++];for(;F<me;)delete L[F++];return L}})},function(w,j,s){var b=s(113),p=Math.floor,S=function(T,A){var R=T.length,B=p(R/2);return R<8?x(T,A):N(T,S(b(T,0,B),A),S(b(T,B),A),A)},x=function(T,A){for(var R,B,V=T.length,U=1;U<V;){for(B=U,R=T[U];B&&A(T[B-1],R)>0;)T[B]=T[--B];B!==U++&&(T[B]=R)}return T},N=function(T,A,R,B){for(var V=A.length,U=R.length,ue=0,se=0;ue<V||se<U;)T[ue+se]=ue<V&&se<U?B(A[ue],R[se])<=0?A[ue++]:R[se++]:ue<V?A[ue++]:R[se++];return T};w.exports=S},function(w,j,s){var b=s(53).match(/firefox\/(\d+)/i);w.exports=!!b&&+b[1]},function(w,j,s){var b=s(53);w.exports=/MSIE|Trident/.test(b)},function(w,j,s){var b=s(53).match(/AppleWebKit\/(\d+)\./);w.exports=!!b&&+b[1]},function(w,j,s){"use strict";var b=s(16),p=s(74).find,S=s(82),x=!0;"find"in[]&&Array(1).find(function(){x=!1}),b({target:"Array",proto:!0,forced:x},{find:function(N){return p(this,N,arguments.length>1?arguments[1]:void 0)}}),S("find")},function(w,j,s){var b=s(7),p=s(154),S=b.TypeError;w.exports=function(x){if(p(x))throw S("The method doesn't accept regular expressions");return x}},function(w,j,s){var b=s(27)("match");w.exports=function(p){var S=/./;try{"/./"[p](S)}catch(x){try{return S[b]=!1,"/./"[p](S)}catch(N){}}return!1}},function(w,j,s){"use strict";var b=s(16),p=s(158).trim;b({target:"String",proto:!0,forced:s(195)("trim")},{trim:function(){return p(this)}})},function(w,j,s){var b=s(93).PROPER,p=s(18),S=s(159);w.exports=function(x){return p(function(){return!!S[x]()||"\u200B\x85\u180E"[x]()!=="\u200B\x85\u180E"||b&&S[x].name!==x})}},function(w,j,s){var b=s(15);w.exports=b(1 .valueOf)},function(w,j,s){var b=s(15),p=s(38),S=Math.floor,x=b("".charAt),N=b("".replace),T=b("".slice),A=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,R=/\$([$&'`]|\d{1,2})/g;w.exports=function(B,V,U,ue,se,ie){var ee=U+B.length,ne=ue.length,$=R;return se!==void 0&&(se=p(se),$=A),N(ie,$,function(K,pe){var H;switch(x(pe,0)){case"$":return"$";case"&":return B;case"`":return T(V,0,U);case"'":return T(V,ee);case"<":H=se[T(pe,1,-1)];break;default:var fe=+pe;if(fe===0)return K;if(fe>ne){var L=S(fe/10);return L===0?K:L<=ne?ue[L-1]===void 0?x(pe,1):ue[L-1]+x(pe,1):K}H=ue[fe-1]}return H===void 0?"":H})}},function(w,j,s){"use strict";var b=s(7),p=s(15),S=s(55),x=s(33),N=s(34),T=s(100),A=b.Function,R=p([].concat),B=p([].join),V={},U=function(ue,se,ie){if(!N(V,se)){for(var ee=[],ne=0;ne<se;ne++)ee[ne]="a["+ne+"]";V[se]=A("C,a","return new C("+B(ee,",")+")")}return V[se](ue,ie)};w.exports=A.bind||function(ue){var se=S(this),ie=se.prototype,ee=T(arguments,1),ne=function(){var $=R(ee,T(arguments));return this instanceof ne?U(se,$.length,$):se.apply(ue,$)};return x(ie)&&(ne.prototype=ie),ne}},function(w,j,s){var b=s(34);w.exports=function(p){return p!==void 0&&(b(p,"value")||b(p,"writable"))}},function(w,j,s){"use strict";var b=s(36),p=s(15),S=s(35),x=s(18),N=s(66),T=s(112),A=s(92),R=s(38),B=s(80),V=Object.assign,U=Object.defineProperty,ue=p([].concat);w.exports=!V||x(function(){if(b&&V({b:1},V(U({},"a",{enumerable:!0,get:function(){U(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var se={},ie={},ee=Symbol();return se[ee]=7,"abcdefghijklmnopqrst".split("").forEach(function(ne){ie[ne]=ne}),V({},se)[ee]!=7||N(V({},ie)).join("")!="abcdefghijklmnopqrst"})?function(se,ie){for(var ee=R(se),ne=arguments.length,$=1,K=T.f,pe=A.f;ne>$;)for(var H,fe=B(arguments[$++]),L=K?ue(N(fe),K(fe)):N(fe),G=L.length,F=0;G>F;)H=L[F++],b&&!S(pe,fe,H)||(ee[H]=fe[H]);return ee}:V},function(w,j,s){var b=s(15),p=s(45),S=s(40),x=/"/g,N=b("".replace);w.exports=function(T,A,R,B){var V=S(p(T)),U="<"+A;return R!==""&&(U+=" "+R+'="'+N(S(B),x,"&quot;")+'"'),U+">"+V+"</"+A+">"}},function(w,j,s){var b=s(18);w.exports=function(p){return b(function(){var S=""[p]('"');return S!==S.toLowerCase()||S.split('"').length>3})}},function(w,j,s){var b=s(16),p=Math.hypot,S=Math.abs,x=Math.sqrt;b({target:"Math",stat:!0,forced:!!p&&p(1/0,NaN)!==1/0},{hypot:function(N,T){for(var A,R,B=0,V=0,U=arguments.length,ue=0;V<U;)ue<(A=S(arguments[V++]))?(B=B*(R=ue/A)*R+1,ue=A):B+=A>0?(R=A/ue)*R:A;return ue===1/0?1/0:ue*x(B)}})},function(w,j,s){"use strict";var b,p,S,x,N=s(16),T=s(64),A=s(7),R=s(46),B=s(35),V=s(205),U=s(44),ue=s(144),se=s(96),ie=s(73),ee=s(145),ne=s(55),$=s(28),K=s(33),pe=s(117),H=s(91),fe=s(114),L=s(118),G=s(156),F=s(161).set,oe=s(206),me=s(209),Se=s(210),X=s(163),J=s(211),Y=s(56),ae=s(94),ve=s(27),we=s(212),Ie=s(126),Ue=s(65),Ye=ve("species"),He="Promise",Ke=Y.getterFor(He),dt=Y.set,ce=Y.getterFor(He),de=V&&V.prototype,ge=V,De=de,ze=A.TypeError,Ce=A.document,it=A.process,rt=X.f,ht=rt,qe=!!(Ce&&Ce.createEvent&&A.dispatchEvent),Me=$(A.PromiseRejectionEvent),le=!1,et=ae(He,function(){var be=H(ge),Ge=be!==String(ge);if(!Ge&&Ue===66||T&&!De.finally)return!0;if(Ue>=51&&/native code/.test(be))return!1;var Fe=new ge(function(ut){ut(1)}),Je=function(ut){ut(function(){},function(){})};return(Fe.constructor={})[Ye]=Je,!(le=Fe.then(function(){})instanceof Je)||!Ge&&we&&!Me}),tt=et||!L(function(be){ge.all(be).catch(function(){})}),Ze=function(be){var Ge;return!(!K(be)||!$(Ge=be.then))&&Ge},zt=function(be,Ge){if(!be.notified){be.notified=!0;var Fe=be.reactions;oe(function(){for(var Je=be.value,ut=be.state==1,jt=0;Fe.length>jt;){var Vt,_n,rn,Mt=Fe[jt++],$e=ut?Mt.ok:Mt.fail,st=Mt.resolve,yt=Mt.reject,Ot=Mt.domain;try{$e?(ut||(be.rejection===2&&Zt(be),be.rejection=1),$e===!0?Vt=Je:(Ot&&Ot.enter(),Vt=$e(Je),Ot&&(Ot.exit(),rn=!0)),Vt===Mt.promise?yt(ze("Promise-chain cycle")):(_n=Ze(Vt))?B(_n,Vt,st,yt):st(Vt)):yt(Je)}catch(Ht){Ot&&!rn&&Ot.exit(),yt(Ht)}}be.reactions=[],be.notified=!1,Ge&&!be.rejection&&mt(be)})}},_t=function(be,Ge,Fe){var Je,ut;qe?((Je=Ce.createEvent("Event")).promise=Ge,Je.reason=Fe,Je.initEvent(be,!1,!0),A.dispatchEvent(Je)):Je={promise:Ge,reason:Fe},!Me&&(ut=A["on"+be])?ut(Je):be==="unhandledrejection"&&Se("Unhandled promise rejection",Fe)},mt=function(be){B(F,A,function(){var Ge,Fe=be.facade,Je=be.value;if(At(be)&&(Ge=J(function(){Ie?it.emit("unhandledRejection",Je,Fe):_t("unhandledrejection",Fe,Je)}),be.rejection=Ie||At(be)?2:1,Ge.error))throw Ge.value})},At=function(be){return be.rejection!==1&&!be.parent},Zt=function(be){B(F,A,function(){var Ge=be.facade;Ie?it.emit("rejectionHandled",Ge):_t("rejectionhandled",Ge,be.value)})},Q=function(be,Ge,Fe){return function(Je){be(Ge,Je,Fe)}},he=function(be,Ge,Fe){be.done||(be.done=!0,Fe&&(be=Fe),be.value=Ge,be.state=2,zt(be,!0))},Te=function(be,Ge,Fe){if(!be.done){be.done=!0,Fe&&(be=Fe);try{if(be.facade===Ge)throw ze("Promise can't be resolved itself");var Je=Ze(Ge);Je?oe(function(){var ut={done:!1};try{B(Je,Ge,Q(Te,ut,be),Q(he,ut,be))}catch(jt){he(ut,jt,be)}}):(be.value=Ge,be.state=1,zt(be,!1))}catch(ut){he({done:!1},ut,be)}}};if(et&&(De=(ge=function(be){pe(this,De),ne(be),B(b,this);var Ge=Ke(this);try{be(Q(Te,Ge),Q(he,Ge))}catch(Fe){he(Ge,Fe)}}).prototype,(b=function(be){dt(this,{type:He,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=ue(De,{then:function(be,Ge){var Fe=ce(this),Je=Fe.reactions,ut=rt(G(this,ge));return ut.ok=!$(be)||be,ut.fail=$(Ge)&&Ge,ut.domain=Ie?it.domain:void 0,Fe.parent=!0,Je[Je.length]=ut,Fe.state!=0&&zt(Fe,!1),ut.promise},catch:function(be){return this.then(void 0,be)}}),p=function(){var be=new b,Ge=Ke(be);this.promise=be,this.resolve=Q(Te,Ge),this.reject=Q(he,Ge)},X.f=rt=function(be){return be===ge||be===S?new p(be):ht(be)},!T&&$(V)&&de!==Object.prototype)){x=de.then,le||(U(de,"then",function(be,Ge){var Fe=this;return new ge(function(Je,ut){B(x,Fe,Je,ut)}).then(be,Ge)},{unsafe:!0}),U(de,"catch",De.catch,{unsafe:!0}));try{delete de.constructor}catch(be){}se&&se(de,De)}N({global:!0,wrap:!0,forced:et},{Promise:ge}),ie(ge,He,!1,!0),ee(He),S=R(He),N({target:He,stat:!0,forced:et},{reject:function(be){var Ge=rt(this);return B(Ge.reject,void 0,be),Ge.promise}}),N({target:He,stat:!0,forced:T||et},{resolve:function(be){return me(T&&this===S?ge:this,be)}}),N({target:He,stat:!0,forced:tt},{all:function(be){var Ge=this,Fe=rt(Ge),Je=Fe.resolve,ut=Fe.reject,jt=J(function(){var Vt=ne(Ge.resolve),_n=[],rn=0,Mt=1;fe(be,function($e){var st=rn++,yt=!1;Mt++,B(Vt,Ge,$e).then(function(Ot){yt||(yt=!0,_n[st]=Ot,--Mt||Je(_n))},ut)}),--Mt||Je(_n)});return jt.error&&ut(jt.value),Fe.promise},race:function(be){var Ge=this,Fe=rt(Ge),Je=Fe.reject,ut=J(function(){var jt=ne(Ge.resolve);fe(be,function(Vt){B(jt,Ge,Vt).then(Fe.resolve,Je)})});return ut.error&&Je(ut.value),Fe.promise}})},function(w,j,s){var b=s(7);w.exports=b.Promise},function(w,j,s){var b,p,S,x,N,T,A,R,B=s(7),V=s(62),U=s(51).f,ue=s(161).set,se=s(162),ie=s(207),ee=s(208),ne=s(126),$=B.MutationObserver||B.WebKitMutationObserver,K=B.document,pe=B.process,H=B.Promise,fe=U(B,"queueMicrotask"),L=fe&&fe.value;L||(b=function(){var G,F;for(ne&&(G=pe.domain)&&G.exit();p;){F=p.fn,p=p.next;try{F()}catch(oe){throw p?x():S=void 0,oe}}S=void 0,G&&G.enter()},se||ne||ee||!$||!K?!ie&&H&&H.resolve?((A=H.resolve(void 0)).constructor=H,R=V(A.then,A),x=function(){R(b)}):ne?x=function(){pe.nextTick(b)}:(ue=V(ue,B),x=function(){ue(b)}):(N=!0,T=K.createTextNode(""),new $(b).observe(T,{characterData:!0}),x=function(){T.data=N=!N})),w.exports=L||function(G){var F={fn:G,next:void 0};S&&(S.next=F),p||(p=F,x()),S=F}},function(w,j,s){var b=s(53),p=s(7);w.exports=/ipad|iphone|ipod/i.test(b)&&p.Pebble!==void 0},function(w,j,s){var b=s(53);w.exports=/web0s(?!.*chrome)/i.test(b)},function(w,j,s){var b=s(32),p=s(33),S=s(163);w.exports=function(x,N){if(b(x),p(N)&&N.constructor===x)return N;var T=S.f(x);return(0,T.resolve)(N),T.promise}},function(w,j,s){var b=s(7);w.exports=function(p,S){var x=b.console;x&&x.error&&(arguments.length==1?x.error(p):x.error(p,S))}},function(w,j){w.exports=function(s){try{return{error:!1,value:s()}}catch(b){return{error:!0,value:b}}}},function(w,j){w.exports=typeof window=="object"},function(w,j,s){var b=s(36),p=s(15),S=s(66),x=s(39),N=p(s(92).f),T=p([].push),A=function(R){return function(B){for(var V,U=x(B),ue=S(U),se=ue.length,ie=0,ee=[];se>ie;)V=ue[ie++],b&&!N(U,V)||T(ee,R?[V,U[V]]:U[V]);return ee}};w.exports={entries:A(!0),values:A(!1)}},function(w,j,s){"use strict";var b=s(38),p=s(67),S=s(43);w.exports=function(x){for(var N=b(this),T=S(N),A=arguments.length,R=p(A>1?arguments[1]:void 0,T),B=A>2?arguments[2]:void 0,V=B===void 0?T:p(B,T);V>R;)N[R++]=x;return N}},function(w,j,s){"use strict";s.r(j),s.d(j,"observer",function(){return Pr}),s.d(j,"LogicFlow",function(){return Ys}),s.d(j,"h",function(){return le.g}),s.d(j,"LogicFlowUtil",function(){return b}),s.d(j,"BaseNode",function(){return Eo}),s.d(j,"RectNode",function(){return ls}),s.d(j,"CircleNode",function(){return ps}),s.d(j,"PolygonNode",function(){return hs}),s.d(j,"DiamondNode",function(){return vs}),s.d(j,"EllipseNode",function(){return ms}),s.d(j,"TextNode",function(){return _s}),s.d(j,"HtmlNode",function(){return ws}),s.d(j,"BaseEdge",function(){return fa}),s.d(j,"LineEdge",function(){return Ds}),s.d(j,"PolylineEdge",function(){return Rs}),s.d(j,"BezierEdge",function(){return zs}),s.d(j,"Arrow",function(){return Jh}),s.d(j,"BaseEdgeModel",function(){return xu}),s.d(j,"BezierEdgeModel",function(){return Yu}),s.d(j,"LineEdgeModel",function(){return Su}),s.d(j,"PolylineEdgeModel",function(){return Pu}),s.d(j,"BaseNodeModel",function(){return wo}),s.d(j,"CircleNodeModel",function(){return Ku}),s.d(j,"DiamondNodeModel",function(){return Ju}),s.d(j,"EllipseNodeModel",function(){return Qu}),s.d(j,"PolygonNodeModel",function(){return es}),s.d(j,"RectNodeModel",function(){return ts}),s.d(j,"TextNodeModel",function(){return ns}),s.d(j,"HtmlNodeModel",function(){return os}),s.d(j,"EditConfigModel",function(){return nc}),s.d(j,"GraphModel",function(){return Ql}),s.d(j,"SnaplineModel",function(){return Xd}),s.d(j,"Keyboard",function(){return Jy}),s.d(j,"get",function(){return np}),s.d(j,"defaults",function(){return op});var b={};s.r(b),s.d(b,"createUuid",function(){return ei}),s.d(b,"refreshGraphId",function(){return Xv}),s.d(b,"createDrag",function(){return Tu}),s.d(b,"StepDrag",function(){return ni});var p=s(0),S=s(10);if(!S.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!p.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var x=s(42),N=Object(x.b)("observerBatching");function T(t){t()}var A=!1;function R(){return A}function B(t){return Object(p.t)(t)}var V,U=1e4,ue=new Set;function se(){V===void 0&&(V=setTimeout(ie,1e4))}function ie(){V=void 0;var t=Date.now();ue.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,ue.delete(e))}),ue.size>0&&se()}var ee=!1,ne=[],$={};function K(t){return"observer"+t}function pe(t,e,n){if(e===void 0&&(e="observed"),n===void 0&&(n=$),R())return t();var r,o=function(v){return function(){ee?ne.push(v):v()}}((n.useForceUpdate||x.d)()),u=S.d.useRef(null);if(!u.current){var i=new p.c(K(e),function(){a.mounted?o():(i.dispose(),u.current=null)}),a=function(v){return{cleanAt:Date.now()+U,reaction:v}}(i);u.current=a,r=u,ue.add(r),se()}var f=u.current.reaction;return S.d.useDebugValue(f,B),S.d.useEffect(function(){var v;return v=u,ue.delete(v),u.current?u.current.mounted=!0:(u.current={reaction:new p.c(K(e),function(){o()}),cleanAt:1/0},o()),function(){u.current.reaction.dispose(),u.current=null}},[]),function(v){ee=!0,ne=[];try{var O=v();ee=!1;var M=ne.length>0?ne:void 0;return S.d.useLayoutEffect(function(){M&&M.forEach(function(k){return k()})},[M]),O}finally{ee=!1}}(function(){var v,O;if(f.track(function(){try{v=t()}catch(M){O=M}}),O)throw O;return v})}var H=function(){return(H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function fe(t,e){if(R())return t;var n,r,o,u=H({forwardRef:!1},e),i=t.displayName||t.name,a=function(f,v){return pe(function(){return t(f,v)},i)};return a.displayName=i,n=u.forwardRef?Object(S.f)(Object(S.e)(a)):Object(S.f)(a),r=t,o=n,Object.keys(r).forEach(function(f){L[f]||Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(r,f))}),n.displayName=i,n}var L={$$typeof:!0,render:!0,compare:!0,type:!0};function G(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:pe(r)}function F(t,e,n,r,o){var u=e==="children"?"render":"children",i=typeof t[e]=="function",a=typeof t[u]=="function";return i&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):i||a?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}G.propTypes={children:F,render:F},G.displayName="Observer";var oe;(oe=S.g)||(oe=T),Object(p.n)({reactionScheduler:oe}),Object(x.a)()[N]=!0;var me=0,Se={};function X(t){return Se[t]||(Se[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+me+")";return me++,n}(t)),Se[t]}function J(t,e){if(Y(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!Y(t[n[o]],e[n[o]]))return!1;return!0}function Y(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ae(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var ve=X("patchMixins"),we=X("patchedDefinition");function Ie(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];e.locks++;try{var i;return t!=null&&(i=t.apply(this,o)),i}finally{e.locks--,e.locks===0&&e.methods.forEach(function(a){a.apply(n,o)})}}function Ue(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Ie.call.apply(Ie,[this,t,e].concat(r))}}function Ye(t,e,n){var r=function(a,f){var v=a[ve]=a[ve]||{},O=v[f]=v[f]||{};return O.locks=O.locks||0,O.methods=O.methods||[],O}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[we]){var u=t[e],i=function a(f,v,O,M,k){var z,te=Ue(k,M);return(z={})[we]=!0,z.get=function(){return te},z.set=function(ye){if(this===f)te=Ue(ye,M);else{var _e=a(this,v,O,M,ye);Object.defineProperty(this,v,_e)}},z.configurable=!0,z.enumerable=O,z}(t,e,o?o.enumerable:void 0,r,u);Object.defineProperty(t,e,i)}}var He=p.a||"$mobx",Ke=X("isMobXReactObserver"),dt=X("isUnmounted"),ce=X("skipRender"),de=X("isForcingUpdate");function ge(t){var e=t.prototype;if(t[Ke]){var n=De(e);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else t[Ke]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==S.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Ce)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Ce;it(e,"props"),it(e,"state");var r=e.render;return e.render=function(){return ze.call(this,r)},Ye(e,"componentWillUnmount",function(){var o;if(R()!==!0&&((o=this.render[He])===null||o===void 0||o.dispose(),this[dt]=!0,!this.render[He])){var u=De(this);console.warn("The reactive render of an observer class component ("+u+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),t}function De(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function ze(t){var e=this;if(R()===!0)return t.call(this);ae(this,ce,!1),ae(this,de,!1);var n=De(this),r=t.bind(this),o=!1,u=new p.c(n+".render()",function(){if(!o&&(o=!0,e[dt]!==!0)){var a=!0;try{ae(e,de,!0),e[ce]||S.a.prototype.forceUpdate.call(e),a=!1}finally{ae(e,de,!1),a&&u.dispose()}}});function i(){o=!1;var a=void 0,f=void 0;if(u.track(function(){try{f=Object(p.d)(!1,r)}catch(v){a=v}}),a)throw a;return f}return u.reactComponent=this,i[He]=u,this.render=i,i.call(this)}function Ce(t,e){return R()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!J(this.props,t)}function it(t,e){var n=X("reactProp_"+e+"_valueHolder"),r=X("reactProp_"+e+"_atomHolder");function o(){return this[r]||ae(this,r,Object(p.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var u=!1;return p.f&&p.e&&(u=Object(p.f)(!0)),o.call(this).reportObserved(),p.f&&p.e&&Object(p.e)(u),this[n]},set:function(u){this[de]||J(this[n],u)?ae(this,n,u):(ae(this,n,u),ae(this,ce,!0),o.call(this).reportChanged(),ae(this,ce,!1))}})}var rt=typeof Symbol=="function"&&Symbol.for,ht=rt?Symbol.for("react.forward_ref"):typeof S.e=="function"&&Object(S.e)(function(t){return null}).$$typeof,qe=rt?Symbol.for("react.memo"):typeof S.f=="function"&&Object(S.f)(function(t){return null}).$$typeof;function Me(t){if(t.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),qe&&t.$$typeof===qe)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(ht&&t.$$typeof===ht){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(S.e)(function(){var n=arguments;return Object(S.c)(G,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(S.a,t)?ge(t):fe(t)}if(!S.a)throw new Error("mobx-react requires React to be available");if(!p.C)throw new Error("mobx-react requires mobx to be available");var le=s(1);s(3),s(60),s(2),s(6),s(4),s(11),s(41),s(24),s(20),s(5),s(22),s(21),s(23),s(8),s(9),s(17),s(25),s(19),s(29),s(186),s(191),s(102),s(152),s(153);var et=function(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},tt=function(){this.__data__=[],this.size=0},Ze=function(t,e){return t===e||t!=t&&e!=e},zt=function(t,e){for(var n=t.length;n--;)if(Ze(t[n][0],e))return n;return-1},_t=Array.prototype.splice,mt=function(t){var e=this.__data__,n=zt(e,t);return!(n<0)&&(n==e.length-1?e.pop():_t.call(e,n,1),--this.size,!0)},At=function(t){var e=this.__data__,n=zt(e,t);return n<0?void 0:e[n][1]},Zt=function(t){return zt(this.__data__,t)>-1},Q=function(t,e){var n=this.__data__,r=zt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function he(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}he.prototype.clear=tt,he.prototype.delete=mt,he.prototype.get=At,he.prototype.has=Zt,he.prototype.set=Q;var Te=he,be=function(){this.__data__=new Te,this.size=0},Ge=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Fe=function(t){return this.__data__.get(t)},Je=function(t){return this.__data__.has(t)},ut=s(30),jt=ut.a.Symbol,Vt=Object.prototype,_n=Vt.hasOwnProperty,rn=Vt.toString,Mt=jt?jt.toStringTag:void 0,$e=function(t){var e=_n.call(t,Mt),n=t[Mt];try{t[Mt]=void 0;var r=!0}catch(u){}var o=rn.call(t);return r&&(e?t[Mt]=n:delete t[Mt]),o},st=Object.prototype.toString,yt=function(t){return st.call(t)},Ot=jt?jt.toStringTag:void 0,Ht=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Ot&&Ot in Object(t)?$e(t):yt(t)},en=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},On,Ho=function(t){if(!en(t))return!1;var e=Ht(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},ir=ut.a["__core-js_shared__"],Mr=(On=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||""))?"Symbol(src)_1."+On:"",Go=function(t){return!!Mr&&Mr in t},Nr=Function.prototype.toString,Jn=function(t){if(t!=null){try{return Nr.call(t)}catch(e){}try{return t+""}catch(e){}}return""},No=/^\[object .+?Constructor\]$/,ci=Function.prototype,at=Object.prototype,Hi=ci.toString,li=at.hasOwnProperty,Fo=RegExp("^"+Hi.call(li).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wn=function(t){return!(!en(t)||Go(t))&&(Ho(t)?Fo:No).test(Jn(t))},Yn=function(t,e){return t==null?void 0:t[e]},ar=function(t,e){var n=Yn(t,e);return Wn(n)?n:void 0},kr=ar(ut.a,"Map"),ur=ar(Object,"create"),fi=function(){this.__data__=ur?ur(null):{},this.size=0},pi=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gi=Object.prototype.hasOwnProperty,sr=function(t){var e=this.__data__;if(ur){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Gi.call(e,t)?e[t]:void 0},ro=Object.prototype.hasOwnProperty,Ar=function(t){var e=this.__data__;return ur?e[t]!==void 0:ro.call(e,t)},di=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ur&&e===void 0?"__lodash_hash_undefined__":e,this};function yr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yr.prototype.clear=fi,yr.prototype.delete=pi,yr.prototype.get=sr,yr.prototype.has=Ar,yr.prototype.set=di;var Fi=yr,cr=function(){this.size=0,this.__data__={hash:new Fi,map:new(kr||Te),string:new Fi}},Uo=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},oo=function(t,e){var n=t.__data__;return Uo(e)?n[typeof e=="string"?"string":"hash"]:n.map},Xo=function(t){var e=oo(this,t).delete(t);return this.size-=e?1:0,e},Vo=function(t){return oo(this,t).get(t)},ya=function(t){return oo(this,t).has(t)},hi=function(t,e){var n=oo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Dr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Dr.prototype.clear=cr,Dr.prototype.delete=Xo,Dr.prototype.get=Vo,Dr.prototype.has=ya,Dr.prototype.set=hi;var Tr=Dr,yi=function(t,e){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!kr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Tr(r)}return n.set(t,e),this.size=n.size,this};function io(t){var e=this.__data__=new Te(t);this.size=e.size}io.prototype.clear=be,io.prototype.delete=Ge,io.prototype.get=Fe,io.prototype.has=Je,io.prototype.set=yi;var Qn=io,Cr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},vi=function(t){return this.__data__.has(t)};function ao(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Tr;++e<n;)this.add(t[e])}ao.prototype.add=ao.prototype.push=Cr,ao.prototype.has=vi;var gi=ao,va=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Rr=function(t,e){return t.has(e)},Kt=function(t,e,n,r,o,u){var i=1&n,a=t.length,f=e.length;if(a!=f&&!(i&&f>a))return!1;var v=u.get(t),O=u.get(e);if(v&&O)return v==e&&O==t;var M=-1,k=!0,z=2&n?new gi:void 0;for(u.set(t,e),u.set(e,t);++M<a;){var te=t[M],ye=e[M];if(r)var _e=i?r(ye,te,M,e,t,u):r(te,ye,M,t,e,u);if(_e!==void 0){if(_e)continue;k=!1;break}if(z){if(!va(e,function(Ne,xe){if(!Rr(z,xe)&&(te===Ne||o(te,Ne,n,r,u)))return z.push(xe)})){k=!1;break}}else if(te!==ye&&!o(te,ye,n,r,u)){k=!1;break}}return u.delete(t),u.delete(e),k},Ir=ut.a.Uint8Array,mi=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n},uo=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Wo=jt?jt.prototype:void 0,ko=Wo?Wo.valueOf:void 0,Lr=function(t,e,n,r,o,u,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!u(new Ir(t),new Ir(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ze(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=mi;case"[object Set]":var f=1&r;if(a||(a=uo),t.size!=e.size&&!f)return!1;var v=i.get(t);if(v)return v==e;r|=2,i.set(t,e);var O=Kt(a(t),a(e),r,o,u,i);return i.delete(t),O;case"[object Symbol]":if(ko)return ko.call(t)==ko.call(e)}return!1},zn=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},ln=Array.isArray,bi=function(t,e,n){var r=e(t);return ln(t)?r:zn(r,n(t))},qn=function(t,e){for(var n=-1,r=t==null?0:t.length,o=0,u=[];++n<r;){var i=t[n];e(i,n,t)&&(u[o++]=i)}return u},Yo=function(){return[]},Bn=Object.prototype.propertyIsEnumerable,zr=Object.getOwnPropertySymbols,_i=zr?function(t){return t==null?[]:(t=Object(t),qn(zr(t),function(e){return Bn.call(t,e)}))}:Yo,wn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},hn=function(t){return t!=null&&typeof t=="object"},lr=function(t){return hn(t)&&Ht(t)=="[object Arguments]"},Zo=Object.prototype,Br=Zo.hasOwnProperty,vr=Zo.propertyIsEnumerable,Hr=lr(function(){return arguments}())?lr:function(t){return hn(t)&&Br.call(t,"callee")&&!vr.call(t,"callee")},Gr=s(48),Zn=/^(?:0|[1-9]\d*)$/,er=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Zn.test(t))&&t>-1&&t%1==0&&t<e},Mn=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Tt={};Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Arguments]"]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object Boolean]"]=Tt["[object DataView]"]=Tt["[object Date]"]=Tt["[object Error]"]=Tt["[object Function]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt["[object Object]"]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object WeakMap]"]=!1;var fr=function(t){return hn(t)&&Mn(t.length)&&!!Tt[Ht(t)]},vn=function(t){return function(e){return t(e)}},gr=s(49),Ao=gr.a&&gr.a.isTypedArray,so=Ao?vn(Ao):fr,tr=Object.prototype.hasOwnProperty,Do=function(t,e){var n=ln(t),r=!n&&Hr(t),o=!n&&!r&&Object(Gr.a)(t),u=!n&&!r&&!o&&so(t),i=n||r||o||u,a=i?wn(t.length,String):[],f=a.length;for(var v in t)!e&&!tr.call(t,v)||i&&(v=="length"||o&&(v=="offset"||v=="parent")||u&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||er(v,f))||a.push(v);return a},Oi=Object.prototype,Nn=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Oi)},Ko=function(t,e){return function(n){return t(e(n))}},Ui=Ko(Object.keys,Object),wi=Object.prototype.hasOwnProperty,kn=function(t){if(!Nn(t))return Ui(t);var e=[];for(var n in Object(t))wi.call(t,n)&&n!="constructor"&&e.push(n);return e},Hn=function(t){return t!=null&&Mn(t.length)&&!Ho(t)},nr=function(t){return Hn(t)?Do(t):kn(t)},nn=function(t){return bi(t,nr,_i)},co=Object.prototype.hasOwnProperty,To=function(t,e,n,r,o,u){var i=1&n,a=nn(t),f=a.length;if(f!=nn(e).length&&!i)return!1;for(var v=f;v--;){var O=a[v];if(!(i?O in e:co.call(e,O)))return!1}var M=u.get(t),k=u.get(e);if(M&&k)return M==e&&k==t;var z=!0;u.set(t,e),u.set(e,t);for(var te=i;++v<f;){var ye=t[O=a[v]],_e=e[O];if(r)var Ne=i?r(_e,ye,O,e,t,u):r(ye,_e,O,t,e,u);if(!(Ne===void 0?ye===_e||o(ye,_e,n,r,u):Ne)){z=!1;break}te||(te=O=="constructor")}if(z&&!te){var xe=t.constructor,Ee=e.constructor;xe==Ee||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Ee=="function"&&Ee instanceof Ee||(z=!1)}return u.delete(t),u.delete(e),z},lo=ar(ut.a,"DataView"),fo=ar(ut.a,"Promise"),po=ar(ut.a,"Set"),$o=ar(ut.a,"WeakMap"),an=Jn(lo),Kn=Jn(kr),ho=Jn(fo),xi=Jn(po),Jo=Jn($o),Gn=Ht;(lo&&Gn(new lo(new ArrayBuffer(1)))!="[object DataView]"||kr&&Gn(new kr)!="[object Map]"||fo&&Gn(fo.resolve())!="[object Promise]"||po&&Gn(new po)!="[object Set]"||$o&&Gn(new $o)!="[object WeakMap]")&&(Gn=function(t){var e=Ht(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Jn(n):"";if(r)switch(r){case an:return"[object DataView]";case Kn:return"[object Map]";case ho:return"[object Promise]";case xi:return"[object Set]";case Jo:return"[object WeakMap]"}return e});var yo=Gn,pr=Object.prototype.hasOwnProperty,Ei=function(t,e,n,r,o,u){var i=ln(t),a=ln(e),f=i?"[object Array]":yo(t),v=a?"[object Array]":yo(e),O=(f=f=="[object Arguments]"?"[object Object]":f)=="[object Object]",M=(v=v=="[object Arguments]"?"[object Object]":v)=="[object Object]",k=f==v;if(k&&Object(Gr.a)(t)){if(!Object(Gr.a)(e))return!1;i=!0,O=!1}if(k&&!O)return u||(u=new Qn),i||so(t)?Kt(t,e,n,r,o,u):Lr(t,e,f,n,r,o,u);if(!(1&n)){var z=O&&pr.call(t,"__wrapped__"),te=M&&pr.call(e,"__wrapped__");if(z||te){var ye=z?t.value():t,_e=te?e.value():e;return u||(u=new Qn),o(ye,_e,n,r,u)}}return!!k&&(u||(u=new Qn),To(t,e,n,r,o,u))},g=function t(e,n,r,o,u){return e===n||(e==null||n==null||!hn(e)&&!hn(n)?e!=e&&n!=n:Ei(e,n,r,o,t,u))},m=function(t,e,n,r){var o=n.length,u=o,i=!r;if(t==null)return!u;for(t=Object(t);o--;){var a=n[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){var f=(a=n[o])[0],v=t[f],O=a[1];if(i&&a[2]){if(v===void 0&&!(f in t))return!1}else{var M=new Qn;if(r)var k=r(v,O,f,t,e,M);if(!(k===void 0?g(O,v,3,r,M):k))return!1}}return!0},E=function(t){return t==t&&!en(t)},C=function(t){for(var e=nr(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,E(o)]}return e},I=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},q=function(t){var e=C(t);return e.length==1&&e[0][2]?I(e[0][0],e[0][1]):function(n){return n===t||m(n,t,e)}},Oe=function(t){return typeof t=="symbol"||hn(t)&&Ht(t)=="[object Symbol]"},Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,wt=function(t,e){if(ln(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Oe(t))||nt.test(t)||!Re.test(t)||e!=null&&t in Object(e)};function xt(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var i=t.apply(this,r);return n.cache=u.set(o,i)||u,i};return n.cache=new(xt.Cache||Tr),n}xt.Cache=Tr;var Bt=xt,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ct=/\\(\\)?/g,Wt=function(t){var e=Bt(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(It,function(n,r,o,u){e.push(o?u.replace(Ct,"$1"):r||n)}),e}),Gt=jt?jt.prototype:void 0,Lt=Gt?Gt.toString:void 0,$n=function t(e){if(typeof e=="string")return e;if(ln(e))return et(e,t)+"";if(Oe(e))return Lt?Lt.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Xi=function(t){return t==null?"":$n(t)},vo=function(t,e){return ln(t)?t:wt(t,e)?[t]:Wt(Xi(t))},Fr=function(t){if(typeof t=="string"||Oe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},mr=function(t,e){for(var n=0,r=(e=vo(e,t)).length;t!=null&&n<r;)t=t[Fr(e[n++])];return n&&n==r?t:void 0},Si=function(t,e,n){var r=t==null?void 0:mr(t,e);return r===void 0?n:r},An=function(t,e){return t!=null&&e in Object(t)},Qo=function(t,e,n){for(var r=-1,o=(e=vo(e,t)).length,u=!1;++r<o;){var i=Fr(e[r]);if(!(u=t!=null&&n(t,i)))break;t=t[i]}return u||++r!=o?u:!!(o=t==null?0:t.length)&&Mn(o)&&er(i,o)&&(ln(t)||Hr(t))},Ur=function(t,e){return t!=null&&Qo(t,e,An)},tu=function(t,e){return wt(t)&&E(e)?I(Fr(t),e):function(n){var r=Si(n,t);return r===void 0&&r===e?Ur(n,t):g(e,r,3)}},ji=function(t){return t},ga=function(t){return function(e){return e==null?void 0:e[t]}},ma=function(t){return function(e){return mr(e,t)}},nu=function(t){return wt(t)?ga(Fr(t)):ma(t)},ru=function(t){return typeof t=="function"?t:t==null?ji:typeof t=="object"?ln(t)?tu(t[0],t[1]):q(t):nu(t)},ba=function(t){return function(e,n,r){for(var o=-1,u=Object(e),i=r(e),a=i.length;a--;){var f=i[t?a:++o];if(n(u[f],f,u)===!1)break}return e}}(),ou=function(t,e){return function(n,r){if(n==null)return n;if(!Hn(n))return t(n,r);for(var o=n.length,u=e?o:-1,i=Object(n);(e?u--:++u<o)&&r(i[u],u,i)!==!1;);return n}}(function(t,e){return t&&ba(t,e,nr)}),iu=function(t,e){var n=-1,r=Hn(t)?Array(t.length):[];return ou(t,function(o,u,i){r[++n]=e(o,u,i)}),r},Vi=function(t,e){return(ln(t)?et:iu)(t,ru(e,3))},Pi=function(){try{var t=ar(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),go=function(t,e,n){e=="__proto__"&&Pi?Pi(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},au=Object.prototype.hasOwnProperty,Xr=function(t,e,n){var r=t[e];au.call(t,e)&&Ze(r,n)&&(n!==void 0||e in t)||go(t,e,n)},Vr=function(t,e,n,r){var o=!n;n||(n={});for(var u=-1,i=e.length;++u<i;){var a=e[u],f=r?r(n[a],t[a],a,n,t):void 0;f===void 0&&(f=t[a]),o?go(n,a,f):Xr(n,a,f)}return n},uu=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},d=Math.max,l=function(t,e,n){return e=d(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,u=d(r.length-e,0),i=Array(u);++o<u;)i[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(i),uu(t,this,a)}},c=function(t){return function(){return t}},h=Pi?function(t,e){return Pi(t,"toString",{configurable:!0,enumerable:!1,value:c(e),writable:!0})}:ji,y=Date.now,_=function(t){var e=0,n=0;return function(){var r=y(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(h),P=function(t,e){return _(l(t,e,ji),t+"")},D=function(t,e,n){if(!en(n))return!1;var r=typeof e;return!!(r=="number"?Hn(n)&&er(e,n.length):r=="string"&&e in n)&&Ze(n[e],t)},W=function(t){return P(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(u=t.length>3&&typeof u=="function"?(o--,u):void 0,i&&D(n[0],n[1],i)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,u)}return e})},re=Object.prototype.hasOwnProperty,Z=W(function(t,e){if(Nn(e)||Hn(e))Vr(e,nr(e),t);else for(var n in e)re.call(e,n)&&Xr(t,n,e[n])}),je=function(t,e,n,r){if(!en(t))return t;for(var o=-1,u=(e=vo(e,t)).length,i=u-1,a=t;a!=null&&++o<u;){var f=Fr(e[o]),v=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(o!=i){var O=a[f];(v=r?r(O,f,a):void 0)===void 0&&(v=en(O)?O:er(e[o+1])?[]:{})}Xr(a,f,v),a=a[f]}return t},Pe=function(t,e,n){for(var r=-1,o=e.length,u={};++r<o;){var i=e[r],a=mr(t,i);n(a,i)&&je(u,vo(i,t),a)}return u},ke=function(t,e){return Pe(t,e,function(n,r){return Ur(t,r)})},Le=jt?jt.isConcatSpreadable:void 0,lt=function(t){return ln(t)||Hr(t)||!!(Le&&t&&t[Le])},ft=function t(e,n,r,o,u){var i=-1,a=e.length;for(r||(r=lt),u||(u=[]);++i<a;){var f=e[i];n>0&&r(f)?n>1?t(f,n-1,r,o,u):zn(u,f):o||(u[u.length]=f)}return u},vt=function(t){return(t==null?0:t.length)?ft(t,1):[]},We,Nt,$t,tn,Dn,Tn,gn,mn,un,sn,bn,Cn,Zs,Ks,$s,Js,Qs,Wi=function(t){return _(l(t,void 0,vt),t+"")}(function(t,e){return t==null?{}:ke(t,e)});function Rn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ec(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Yt,tc,Rt,yn,Et,qt,ov={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},su=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],nc=(Nt=xn((We=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Rn(this,"isSilentMode",Nt,this),Rn(this,"stopZoomGraph",$t,this),Rn(this,"stopScrollGraph",tn,this),Rn(this,"stopMoveGraph",Dn,this),Rn(this,"adjustEdge",Tn,this),Rn(this,"adjustEdgeMiddle",gn,this),Rn(this,"adjustEdgeStartAndEnd",mn,this),Rn(this,"adjustNodePosition",un,this),Rn(this,"hideAnchors",sn,this),Rn(this,"hoverOutline",bn,this),Rn(this,"nodeSelectedOutline",Cn,this),Rn(this,"edgeSelectedOutline",Zs,this),Rn(this,"nodeTextEdit",Ks,this),Rn(this,"edgeTextEdit",$s,this),Rn(this,"nodeTextDraggable",Js,this),Rn(this,"edgeTextDraggable",Qs,this),ec(this,"multipleSelectKey",""),ec(this,"defaultConfig",{}),Z(this,this.getConfigDetail(o))}var e,n,r;return e=t,(n=[{key:"updateEditConfig",value:function(o){var u=this.getConfigDetail(o);Z(this,u)}},{key:"getConfigDetail",value:function(o){var u=o.isSilentMode,i=o.textEdit,a={};if(u===!1&&Z(a,this.defaultConfig),u===!0){var f=Wi(ov,su);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},Z(a,f)}i===!1&&Z(a,{nodeTextEdit:!1,edgeTextEdit:!1});var v=Wi(o,su);return Z(a,v)}},{key:"getConfig",value:function(){return Wi(this,su)}}])&&qs(e.prototype,n),r&&qs(e,r),t}()).prototype,"isSilentMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$t=xn(We.prototype,"stopZoomGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tn=xn(We.prototype,"stopScrollGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dn=xn(We.prototype,"stopMoveGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tn=xn(We.prototype,"adjustEdge",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gn=xn(We.prototype,"adjustEdgeMiddle",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mn=xn(We.prototype,"adjustEdgeStartAndEnd",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),un=xn(We.prototype,"adjustNodePosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sn=xn(We.prototype,"hideAnchors",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bn=xn(We.prototype,"hoverOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cn=xn(We.prototype,"nodeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zs=xn(We.prototype,"edgeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ks=xn(We.prototype,"nodeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$s=xn(We.prototype,"edgeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Js=xn(We.prototype,"nodeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qs=xn(We.prototype,"edgeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xn(We.prototype,"updateEditConfig",[p.k],Object.getOwnPropertyDescriptor(We.prototype,"updateEditConfig"),We.prototype),We);s(103),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Yt||(Yt={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(tc||(tc={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Rt||(Rt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(yn||(yn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(Et||(Et={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(qt||(qt={}));var rr,fn,rc,oc,ic,ac,uc,sc,cc;function _a(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return lc(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return lc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function br(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(rr||(rr={}));var iv=(rc=br((fn=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),cu(this,"MINI_SCALE_SIZE",.2),cu(this,"MAX_SCALE_SIZE",16),qo(this,"SCALE_X",rc,this),qo(this,"SKEW_Y",oc,this),qo(this,"SKEW_X",ic,this),qo(this,"SCALE_Y",ac,this),qo(this,"TRANSLATE_X",uc,this),qo(this,"TRANSLATE_Y",sc,this),qo(this,"ZOOM_SIZE",cc,this),cu(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,(n=[{key:"setZoomMiniSize",value:function(o){this.MINI_SCALE_SIZE=o}},{key:"setZoomMaxSize",value:function(o){this.MAX_SCALE_SIZE=o}},{key:"HtmlPointToCanvasPoint",value:function(o){var u=_a(o,2),i=u[0],a=u[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(o){var u=_a(o,2),i=u[0],a=u[1];return[i*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(o,u,i){var a=_a(o,2),f=a[0],v=a[1];return[f+u/this.SCALE_X,v+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(o,u){return[o/this.SCALE_X,u/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var o=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(o,")")}}},{key:"zoom",value:function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0],u=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,a=this.SCALE_Y;return o===!0?(i+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):o===!1?(i-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof o=="number"&&(i=o,a=o),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(u&&(this.TRANSLATE_X-=(i-this.SCALE_X)*u[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*u[1]),this.SCALE_X=i,this.SCALE_Y=a,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(o){this.eventCenter.emit(Et.GRAPH_TRANSFORM,{type:o,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(o,u){this.TRANSLATE_X+=o,this.TRANSLATE_Y+=u,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(o,u,i,a){var f=_a(this.CanvasPointToHtmlPoint([o,u]),2),v=i/2-f[0],O=a/2-f[1];this.TRANSLATE_X+=v,this.TRANSLATE_Y+=O,this.emitGraphTransform("focusOn")}}])&&fc(e.prototype,n),r&&fc(e,r),t}()).prototype,"SCALE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),oc=br(fn.prototype,"SKEW_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ic=br(fn.prototype,"SKEW_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ac=br(fn.prototype,"SCALE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),uc=br(fn.prototype,"TRANSLATE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sc=br(fn.prototype,"TRANSLATE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cc=br(fn.prototype,"ZOOM_SIZE",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),br(fn.prototype,"zoom",[p.k],Object.getOwnPropertyDescriptor(fn.prototype,"zoom"),fn.prototype),br(fn.prototype,"resetZoom",[p.k],Object.getOwnPropertyDescriptor(fn.prototype,"resetZoom"),fn.prototype),br(fn.prototype,"translate",[p.k],Object.getOwnPropertyDescriptor(fn.prototype,"translate"),fn.prototype),br(fn.prototype,"focusOn",[p.k],Object.getOwnPropertyDescriptor(fn.prototype,"focusOn"),fn.prototype),fn),av=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},uv=function(t,e){return t&&Vr(e,nr(e),t)},sv=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},cv=Object.prototype.hasOwnProperty,lv=function(t){if(!en(t))return sv(t);var e=Nn(t),n=[];for(var r in t)(r!="constructor"||!e&&cv.call(t,r))&&n.push(r);return n},Yi=function(t){return Hn(t)?Do(t,!0):lv(t)},fv=function(t,e){return t&&Vr(e,Yi(e),t)},pc=s(106),dc=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},pv=function(t,e){return Vr(t,_i(t),e)},lu=Ko(Object.getPrototypeOf,Object),hc=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)zn(e,_i(t)),t=lu(t);return e}:Yo,dv=function(t,e){return Vr(t,hc(t),e)},hv=function(t){return bi(t,Yi,hc)},yv=Object.prototype.hasOwnProperty,vv=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&yv.call(t,"index")&&(n.index=t.index,n.input=t.input),n},fu=function(t){var e=new t.constructor(t.byteLength);return new Ir(e).set(new Ir(t)),e},gv=function(t,e){var n=e?fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},mv=/\w*$/,bv=function(t){var e=new t.constructor(t.source,mv.exec(t));return e.lastIndex=t.lastIndex,e},yc=jt?jt.prototype:void 0,vc=yc?yc.valueOf:void 0,_v=function(t){return vc?Object(vc.call(t)):{}},gc=function(t,e){var n=e?fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Ov=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return fu(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return gv(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gc(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return bv(t);case"[object Set]":return new r;case"[object Symbol]":return _v(t)}},mc=Object.create,wv=function(){function t(){}return function(e){if(!en(e))return{};if(mc)return mc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),bc=function(t){return typeof t.constructor!="function"||Nn(t)?{}:wv(lu(t))},xv=function(t){return hn(t)&&yo(t)=="[object Map]"},_c=gr.a&&gr.a.isMap,Ev=_c?vn(_c):xv,Sv=function(t){return hn(t)&&yo(t)=="[object Set]"},Oc=gr.a&&gr.a.isSet,jv=Oc?vn(Oc):Sv,Jt={};Jt["[object Arguments]"]=Jt["[object Array]"]=Jt["[object ArrayBuffer]"]=Jt["[object DataView]"]=Jt["[object Boolean]"]=Jt["[object Date]"]=Jt["[object Float32Array]"]=Jt["[object Float64Array]"]=Jt["[object Int8Array]"]=Jt["[object Int16Array]"]=Jt["[object Int32Array]"]=Jt["[object Map]"]=Jt["[object Number]"]=Jt["[object Object]"]=Jt["[object RegExp]"]=Jt["[object Set]"]=Jt["[object String]"]=Jt["[object Symbol]"]=Jt["[object Uint8Array]"]=Jt["[object Uint8ClampedArray]"]=Jt["[object Uint16Array]"]=Jt["[object Uint32Array]"]=!0,Jt["[object Error]"]=Jt["[object Function]"]=Jt["[object WeakMap]"]=!1;var Pv=function t(e,n,r,o,u,i){var a,f=1&n,v=2&n,O=4&n;if(r&&(a=u?r(e,o,u,i):r(e)),a!==void 0)return a;if(!en(e))return e;var M=ln(e);if(M){if(a=vv(e),!f)return dc(e,a)}else{var k=yo(e),z=k=="[object Function]"||k=="[object GeneratorFunction]";if(Object(Gr.a)(e))return Object(pc.a)(e,f);if(k=="[object Object]"||k=="[object Arguments]"||z&&!u){if(a=v||z?{}:bc(e),!f)return v?dv(e,fv(a,e)):pv(e,uv(a,e))}else{if(!Jt[k])return u?e:{};a=Ov(e,k,f)}}i||(i=new Qn);var te=i.get(e);if(te)return te;i.set(e,a),jv(e)?e.forEach(function(_e){a.add(t(_e,n,r,_e,e,i))}):Ev(e)&&e.forEach(function(_e,Ne){a.set(Ne,t(_e,n,r,Ne,e,i))});var ye=M?void 0:(O?v?hv:nn:v?Yi:nr)(e);return av(ye||e,function(_e,Ne){ye&&(_e=e[Ne=_e]),Xr(a,Ne,t(_e,n,r,Ne,e,i))}),a},on=function(t){return Pv(t,5)},pu=function(t,e,n){(n!==void 0&&!Ze(t[e],n)||n===void 0&&!(e in t))&&go(t,e,n)},Mv=function(t){return hn(t)&&Hn(t)},Nv=Function.prototype,kv=Object.prototype,wc=Nv.toString,Av=kv.hasOwnProperty,Dv=wc.call(Object),Tv=function(t){if(!hn(t)||Ht(t)!="[object Object]")return!1;var e=lu(t);if(e===null)return!0;var n=Av.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&wc.call(n)==Dv},du=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Cv=function(t){return Vr(t,Yi(t))},Rv=function(t,e,n,r,o,u,i){var a=du(t,n),f=du(e,n),v=i.get(f);if(v)pu(t,n,v);else{var O=u?u(a,f,n+"",t,e,i):void 0,M=O===void 0;if(M){var k=ln(f),z=!k&&Object(Gr.a)(f),te=!k&&!z&&so(f);O=f,k||z||te?ln(a)?O=a:Mv(a)?O=dc(a):z?(M=!1,O=Object(pc.a)(f,!0)):te?(M=!1,O=gc(f,!0)):O=[]:Tv(f)||Hr(f)?(O=a,Hr(a)?O=Cv(a):en(a)&&!Ho(a)||(O=bc(f))):M=!1}M&&(i.set(f,O),o(O,f,r,u,i),i.delete(f)),pu(t,n,O)}},Iv=function t(e,n,r,o,u){e!==n&&ba(n,function(i,a){if(u||(u=new Qn),en(i))Rv(e,n,a,r,t,o,u);else{var f=o?o(du(e,a),i,a+"",e,n,u):void 0;f===void 0&&(f=i),pu(e,a,f)}},Yi)},xc=W(function(t,e,n){Iv(t,e,n)}),Lv={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},Ec=function(t){var e=on(Lv);return t&&(e=xc(e,t)),e};s(77),s(194);function Sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zv=function(){function t(){var o,u,i;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(u="_events")in(o=this)?Object.defineProperty(o,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[u]=i}var e,n,r;return e=t,(n=[{key:"on",value:function(o,u,i){var a=this;return o==null||o.split(",").forEach(function(f){f=f.trim(),a._events[f]||(a._events[f]=[]),a._events[f].push({callback:u,once:!!i})}),this}},{key:"once",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){return a=a.trim(),i.on(a,u,!0)})}},{key:"emit",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){var f=i._events[a]||[],v=i._events["*"]||[],O=function(M){for(var k=M.length,z=0;z<k;z++)if(M[z]){var te=M[z],ye=te.callback;te.once&&(M.splice(z,1),M.length===0&&delete i._events[a],k--,z--),ye.apply(i,[u])}};O(f),O(v)})}},{key:"off",value:function(o,u){var i=this;return o||(this._events={}),o.split(",").forEach(function(a){if(u){for(var f=i._events[a]||[],v=f.length,O=0;O<v;O++)f[O].callback===u&&(f.splice(O,1),v--,O--);f.length===0&&delete i._events[a]}else delete i._events[a]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Sc(e.prototype,n),r&&Sc(e,r),t}();function Mi(t,e){return e*Math.round(t/e)||t}function jc(t,e){return t%e}function hu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Pc(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Pc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yu,vu=function(t,e,n){var r=hu(t,2),o=r[0],u=r[1],i=hu(e,2),a=i[0],f=i[1],v=hu(n,2),O=v[0],M=v[1];return o>a&&o<O&&u>f&&u<M},Mc=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;default:n=!1}return n},Bv=(s(78),s(160),s(125),s(79),s(12),s(13),s(14),s(47),s(31),new Uint8Array(16));function Hv(){if(!yu&&!(yu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yu(Bv)}for(var Gv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Fv=function(t){return typeof t=="string"&&Gv.test(t)},En=[],gu=0;gu<256;++gu)En.push((gu+256).toString(16).substr(1));var Uv=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase();if(!Fv(n))throw TypeError("Stringified UUID is invalid");return n},mu=function(t,e,n){var r=(t=t||{}).random||(t.rng||Hv)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return Uv(r)},ei=function(){return mu()},Xv=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,o){return r[o.id]=e+mu(),o.id=r[o.id],r},{});return t.edges.forEach(function(r){r.id=e+mu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Zi=(s(104),s(203),function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0});function Nc(t){return(Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function kc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kc(Object(n),!0).forEach(function(r){Vv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xe,Dc,Tc,Cc,Rc,Ic,Lc,zc,Bc,Hc,Gc,Fc,Uc,Xc,Vc,Wc,Yc,bu=function(t){return t.anchors},Oa=function(t,e){for(var n,r=e.nodes,o=r.length-1;o>=0;o--){var u=r[o];if(Zv(t,u)){var i=Yv(t,u);if(i){var a={node:u,anchorIndex:i.index,anchor:i.anchor};n&&!Wv(u,n.node,e)||(n=a)}}}return n},Wv=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Yv=function(t,e){for(var n,r=bu(e),o=Number.MAX_SAFE_INTEGER,u=0;u<r.length;u++){var i=Wr(t.x,t.y,r[u].x,r[u].y);i<o&&(o=i,n={index:u,anchor:Ac(Ac({},r[u]),{},{x:r[u].x,y:r[u].y,id:r[u].id})})}return n},Wr=function(t,e,n,r){return Math.hypot(t-n,e-r)},Co=function(t,e){var n=!1,r=or(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Zv=function(t,e){var n=!1,r=or(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},or=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},Zc=function(t,e,n){var r,o=function(i){var a=i,f=a.x,v=a.y,O=a.width,M=a.height,k=a.radius;return[{x:f-O/2+k,y:v-M/2+k,r:k},{x:f+O/2-k,y:v-M/2+k,r:k},{x:f-O/2+k,y:v+M/2-k,r:k},{x:f+O/2-k,y:v+M/2-k,r:k}]}(n),u=Number.MAX_SAFE_INTEGER;return o.forEach(function(i){var a=Wr(t.x,t.y,i.x,i.y);a<u&&(u=a,r=i)}),_u(t,e,r)},_u=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.r;if(e===qt.HORIZONTAL){var f=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)),v=u+Math.sqrt(a*a-(t.y-i)*(t.y-i));r={x:Math.abs(f-t.x)<Math.abs(v-t.x)?f:v,y:t.y}}else if(e===qt.VERTICAL){var O=i-Math.sqrt(a*a-(t.x-u)*(t.x-u)),M=i+Math.sqrt(a*a-(t.x-u)*(t.x-u)),k=Math.abs(O-t.y)<Math.abs(M-t.y)?O:M;r={x:t.x,y:k}}return r},Kc=function(t,e){var n=e,r=!1,o=n.x-n.width/2+n.radius,u=n.x+n.width/2-n.radius,i=n.y-n.height/2+n.radius,a=n.y+n.height/2-n.radius,f=n.x,v=n.y,O=n.width,M=n.height;return t.y===v+M/2||t.y===v-M/2?r=t.x>o&&t.x<u:t.x!==f+O/2&&t.x!==f-O/2||(r=t.y>i&&t.y<a),r},$c=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.rx,f=o.ry;if(e===qt.HORIZONTAL){var v=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f)),O=u+Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f));r={x:Math.abs(v-t.x)<Math.abs(O-t.x)?v:O,y:t.y}}else if(e===qt.VERTICAL){var M=i-Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),k=i+Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),z=Math.abs(M-t.y)<Math.abs(k-t.y)?M:k;r={x:t.x,y:z}}return r},Jc=function(t,e,n){for(var r,o=n.pointsPosition,u=Number.MAX_SAFE_INTEGER,i=[],a=0;a<o.length;a++)i.push({start:o[a],end:o[(a+1)%o.length]});return i.forEach(function(f){var v=f.start,O=f.end,M=v,k=O;v.x>O.x&&(M=O,k=v);var z={x:t.x,y:t.y};if(M.x===k.x&&e===qt.HORIZONTAL&&(z={x:M.x,y:t.y}),M.y===k.y&&e===qt.VERTICAL&&(z={x:t.x,y:M.y}),M.x!==k.x&&M.y!==k.y){var te=(k.y-M.y)/(k.x-M.x),ye=(M.x*k.y-k.x*M.y)/(M.x-k.x);e===qt.HORIZONTAL?z={x:(t.y-ye)/te,y:t.y}:e===qt.VERTICAL&&(z={x:t.x,y:te*t.x+ye})}if(Zi(z,v,O)){var _e=Wr(z.x,z.y,t.x,t.y);_e<u&&(u=_e,r=z)}}),r},Qc=function(t,e,n,r){var o=t.x,u=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?u=t.y+r/2:e.y<t.y&&(u=t.y-r/2),{x:o,y:u}},qc=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,u=document.createElement("div");u.style.fontSize=n.fontSize,u.style.width=n.width,u.className=o,u.style.lineHeight=n.lineHeight,u.style.padding=n.padding,n.fontFamily&&(u.style.fontFamily=n.fontFamily),r>1?e.forEach(function(a){var f=document.createElement("div");f.textContent=a,u.appendChild(f)}):u.textContent=e,document.body.appendChild(u);var i=u.clientHeight;return document.body.removeChild(u),i},Ou=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach(function(u){var i=kl(u);o=i>o?i:o}),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},wa=function(t){return Nc(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},el={node:!1,edge:!1},Kv={node:!0,edge:!0},$v={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Yr=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Jv=1e3,Qv=999,wu=function(){return++Jv};function tl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tl(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function In(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var xu=(Dc=Dt((Xe=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),_r(this,"id",ei()),In(this,"type",Dc,this),In(this,"sourceNodeId",Tc,this),In(this,"targetNodeId",Cc,this),In(this,"startPoint",Rc,this),In(this,"endPoint",Ic,this),In(this,"text",Lc,this),In(this,"properties",zc,this),In(this,"points",Bc,this),In(this,"pointsList",Hc,this),In(this,"isSelected",Gc,this),In(this,"isHovered",Fc,this),In(this,"isHitable",Uc,this),In(this,"draggable",Xc,this),In(this,"visible",Vc,this),_r(this,"graphModel",void 0),In(this,"zIndex",Wc,this),_r(this,"BaseType",yn.EDGE),_r(this,"modelType",Rt.EDGE),In(this,"state",Yc,this),_r(this,"additionStateData",void 0),_r(this,"sourceAnchorId",""),_r(this,"targetAnchorId",""),_r(this,"menu",void 0),_r(this,"customTextPosition",!1),_r(this,"animationData",$v),this.graphModel=u,this.initEdgeData(o),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(o)}var e,n,r;return e=t,(n=[{key:"initEdgeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}Z(this,hg(o)),this.graphModel.overlapMode===rr.INCREASE&&(this.zIndex=o.zIndex||wu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.baseEdge;return on(o)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.edgeText;return on(o)}},{key:"getAnimation",value:function(){var o=this.animationData;return on(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return on(o)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.sourceNodeId])===null||u===void 0?void 0:u.model}},{key:"targetNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.targetNodeId])===null||u===void 0?void 0:u.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(o,u){var i,a;return bu(o).forEach(function(f){var v=Tl(f,u);a?v<a&&(a=v,i=f):(a=v,i=f)}),i}},{key:"getEndAnchor",value:function(o){var u,i,a=this;return bu(o).forEach(function(f){var v=Tl(f,a.startPoint);i?v<i&&(i=v,u=f):(i=v,u=f)}),u}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(p.I)(this.properties)};return a&&(f.text={x:u,y:i,value:a}),this.graphModel.overlapMode===rr.INCREASE&&(f.zIndex=this.zIndex),f}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(o,u){this.properties[o]=Yr(u),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=xa(xa({},this.properties),Yr(o)),this.setAttributes()}},{key:"formatText",value:function(o){var u=this.textPosition,i=u.x,a=u.y;o.text&&typeof o.text!="string"?Object.prototype.toString.call(o.text)==="[object Object]"&&(this.text={x:o.text.x||i,y:o.text.y||a,value:o.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:o.text||"",x:i,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var o=this.textPosition,u=o.x,i=o.y;this.text.x=u,this.text.y=i}},{key:"moveText",value:function(o,u){if(this.text){var i=this.text,a=i.x,f=i.y,v=i.value,O=i.draggable,M=i.editable;this.text={value:v,draggable:O,x:a+o,y:f+u,editable:M}}}},{key:"setText",value:function(o){o&&Z(this.text,o)}},{key:"updateText",value:function(o){this.text=xa(xa({},this.text),{},{value:o})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var o=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:o.x,y:o.y}),this.sourceAnchorId||(this.sourceAnchorId=o.id)}if(!this.targetAnchorId||!this.endPoint){var u=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:u.x,y:u.y}),this.targetAnchorId||(this.targetAnchorId=u.id)}}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"updateStartPoint",value:function(o){this.startPoint=o}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u}},{key:"updateEndPoint",value:function(o){this.endPoint=o}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=o}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(o){Z(this,o)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,i=o.endPoint;this.updateStartPoint({x:u.x,y:u.y}),this.updateEndPoint({x:i.x,y:i.y})}}])&&nl(e.prototype,n),r&&nl(e,r),t}()).prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Tc=Dt(Xe.prototype,"sourceNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Cc=Dt(Xe.prototype,"targetNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rc=Dt(Xe.prototype,"startPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ic=Dt(Xe.prototype,"endPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lc=Dt(Xe.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),zc=Dt(Xe.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Bc=Dt(Xe.prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hc=Dt(Xe.prototype,"pointsList",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gc=Dt(Xe.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fc=Dt(Xe.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uc=Dt(Xe.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xc=Dt(Xe.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vc=Dt(Xe.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wc=Dt(Xe.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yc=Dt(Xe.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Dt(Xe.prototype,"sourceNode",[p.m],Object.getOwnPropertyDescriptor(Xe.prototype,"sourceNode"),Xe.prototype),Dt(Xe.prototype,"targetNode",[p.m],Object.getOwnPropertyDescriptor(Xe.prototype,"targetNode"),Xe.prototype),Dt(Xe.prototype,"textPosition",[p.m],Object.getOwnPropertyDescriptor(Xe.prototype,"textPosition"),Xe.prototype),Dt(Xe.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperty"),Xe.prototype),Dt(Xe.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setProperties"),Xe.prototype),Dt(Xe.prototype,"formatText",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"formatText"),Xe.prototype),Dt(Xe.prototype,"resetTextPosition",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"resetTextPosition"),Xe.prototype),Dt(Xe.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveText"),Xe.prototype),Dt(Xe.prototype,"setText",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setText"),Xe.prototype),Dt(Xe.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateText"),Xe.prototype),Dt(Xe.prototype,"setAnchors",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setAnchors"),Xe.prototype),Dt(Xe.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setSelected"),Xe.prototype),Dt(Xe.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHovered"),Xe.prototype),Dt(Xe.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setHitable"),Xe.prototype),Dt(Xe.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setElementState"),Xe.prototype),Dt(Xe.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateStartPoint"),Xe.prototype),Dt(Xe.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveStartPoint"),Xe.prototype),Dt(Xe.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateEndPoint"),Xe.prototype),Dt(Xe.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"moveEndPoint"),Xe.prototype),Dt(Xe.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"setZIndex"),Xe.prototype),Dt(Xe.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"initPoints"),Xe.prototype),Dt(Xe.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateAttributes"),Xe.prototype),Dt(Xe.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"getAdjustStart"),Xe.prototype),Dt(Xe.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"getAdjustEnd"),Xe.prototype),Dt(Xe.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateAfterAdjustStartAndEnd"),Xe.prototype),Xe),Eu=xu;function rl(t){return(rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ol(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ol(Object(n),!0).forEach(function(r){ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function al(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ul(){return(ul=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=eg(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function eg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ki(t))!==null;);return t}function sl(t,e){return(sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function tg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ki(t);if(e){var o=Ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ng(this,n)}}function ng(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cl(t)}function cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ki(t){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ll(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt,fl,Su=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&sl(i,a)})(u,t);var e,n,r,o=tg(u);function u(){var i;qv(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return ll(cl(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.LINE_EDGE),i}return e=u,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return il(il({},ul(Ki(u.prototype),"getEdgeStyle",this).call(this)),on(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&al(e.prototype,n),r&&al(e,r),u}(Eu);function pl(t){return(pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return dl(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return dl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hl(Object(n),!0).forEach(function(r){ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function og(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ig(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ea(){return(Ea=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=ag(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ag(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ti(t))!==null;);return t}function gl(t,e){return(gl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ug(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ti(t);if(e){var o=ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sg(this,n)}}function sg(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $i(t)}function $i(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ju(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Pu=(fl=Fn((Pt=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&gl(i,a)})(u,t);var e,n,r,o=ug(u);function u(){var i;ig(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return ju($i(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.POLYLINE_EDGE),ju($i(i),"draginngPointList",void 0),og($i(i),"dbClickPosition",fl,$i(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Ea(ti(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return yl(yl({},Ea(ti(u.prototype),"getEdgeStyle",this).call(this)),on(i))}},{key:"getTextPosition",value:function(){var i,a=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!a){var f=this.dbClickPosition;return{x:f.x,y:f.y}}var v=Ni(this.points),O=rg(pg(v),2),M=O[0],k=O[1];return{x:(M.x+k.x)/2,y:(M.y+k.y)/2}}},{key:"getAfterAnchor",value:function(i,a,f){var v,O;return f.forEach(function(M){var k;i===qt.HORIZONTAL?k=Math.abs(a.y-M.y):i===qt.VERTICAL&&(k=Math.abs(a.x-M.x)),(!O||O>k)&&(O=k,v=M)}),v}},{key:"getCorssPoint",value:function(i,a,f){var v;return i===qt.HORIZONTAL?v={x:f.x,y:a.y}:i===qt.VERTICAL&&(v={x:a.x,y:f.y}),v}},{key:"removeCrossPoints",value:function(i,a,f){var v=f.map(function(xe){return xe});if(i===1){var O=v[i],M=v[a],k=v[i-1];if(jl(k,O,this.sourceNode)){if(Pl(O,M,this.sourceNode)){var z=Ml(O,M,this.sourceNode);z&&(v[i]=z,v.splice(i-1,1),i--,a--)}}else this.sourceNode.anchors.forEach(function(xe){(xe.x===k.x&&xe.x===O.x||xe.y===k.y&&xe.y===O.y)&&Wr(xe.x,xe.y,O.x,O.y)<Wr(k.x,k.y,O.x,O.y)&&(v[i-1]=xe)})}if(a===f.length-2){var te=v[i],ye=v[a],_e=v[a+1];if(jl(ye,_e,this.targetNode)){if(Pl(te,ye,this.targetNode)){var Ne=Ml(te,ye,this.targetNode);Ne&&(v[a]=Ne,v.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(xe){(xe.x===_e.x&&xe.x===ye.x||xe.y===_e.y&&xe.y===ye.y)&&Wr(xe.x,xe.y,ye.x,ye.y)<Wr(_e.x,_e.y,ye.x,ye.y)&&(v[a+1]=xe)})}return v}},{key:"getDragingPoints",value:function(i,a,f,v,O){var M=O.map(function(te){return te}),k=this.getAfterAnchor(i,f,v),z=this.getCorssPoint(i,f,k);return a==="start"?(M.unshift(z),M.unshift(k)):(M.push(z),M.push(k)),M}},{key:"updateCrossPoints",value:function(i){var a=i.map(function(Be){return Be}),f=i[0],v=i[1],O=i[a.length-2],M=i[a.length-1],k=this.sourceNode,z=this.targetNode,te=k.modelType,ye=z.modelType,_e=ka(f,v),Ne=a[0];switch(te){case Rt.RECT_NODE:k.radius!==0&&(Kc(f,k)||(Ne=Zc(f,_e,k)));break;case Rt.CIRCLE_NODE:Ne=_u(f,_e,k);break;case Rt.ELLIPSE_NODE:Ne=$c(f,_e,k);break;case Rt.DIAMOND_NODE:case Rt.POLYGON_NODE:Ne=Jc(f,_e,k)}a[0]=Ne;var xe=ka(O,M),Ee=a[a.length-1];switch(ye){case Rt.RECT_NODE:z.radius!==0&&(Kc(M,z)||(Ee=Zc(M,xe,z)));break;case Rt.CIRCLE_NODE:Ee=_u(M,xe,z);break;case Rt.ELLIPSE_NODE:Ee=$c(M,xe,z);break;case Rt.DIAMOND_NODE:case Rt.POLYGON_NODE:Ee=Jc(M,xe,z)}return a[a.length-1]=Ee,a}},{key:"getData",value:function(){var i=Ea(ti(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return Object.assign({},i,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Sl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,a){this.isDragging=!0;var f=i.start,v=i.end,O=i.startIndex,M=i.endIndex,k=i.direction,z=this.pointsList,te=z;return k===qt.HORIZONTAL?(z[O]={x:f.x,y:f.y+a.y},z[M]={x:v.x,y:v.y+a.y},te=this.pointsList.map(function(ye){return ye})):k===qt.VERTICAL&&(z[O]={x:f.x+a.x,y:f.y},z[M]={x:v.x+a.x,y:v.y},te=this.pointsList.map(function(ye){return ye})),this.updatePointsAfterDrage(te),this.draginngPointList=te,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},z[O]),end:Object.assign({},z[M]),startIndex:O,endIndex:M,direction:k}}},{key:"dragAppend",value:function(i,a){this.isDragging=!0;var f=i.start,v=i.end,O=i.startIndex,M=i.endIndex,k=i.direction,z=this.pointsList;if(k===qt.HORIZONTAL){z[O]={x:f.x,y:f.y+a.y},z[M]={x:v.x,y:v.y+a.y};var te=this.pointsList.map(function(gt){return gt});if(O!==0&&M!==this.pointsList.length-1&&(te=this.removeCrossPoints(O,M,te)),O===0){var ye={x:f.x,y:f.y+a.y};if(!Co(ye,this.sourceNode)){var _e=this.sourceNode.anchors;te=this.getDragingPoints(k,"start",ye,_e,te)}}if(M===this.pointsList.length-1){var Ne={x:v.x,y:v.y+a.y};if(!Co(Ne,this.targetNode)){var xe=this.targetNode.anchors;te=this.getDragingPoints(k,"end",Ne,xe,te)}}te=Du(te),this.updatePointsAfterDrage(te),this.draginngPointList=te}else if(k===qt.VERTICAL){z[O]={x:f.x+a.x,y:f.y},z[M]={x:v.x+a.x,y:v.y};var Ee=this.pointsList.map(function(gt){return gt});if(O!==0&&M!==this.pointsList.length-1&&(Ee=this.removeCrossPoints(O,M,Ee)),O===0){var Be={x:f.x+a.x,y:f.y};if(!Co(Be,this.sourceNode)){var Qe=this.sourceNode.anchors;Ee=this.getDragingPoints(k,"start",Be,Qe,Ee)}}if(M===this.pointsList.length-1){var Ve={x:v.x+a.x,y:v.y};if(!Co(Ve,this.targetNode)){var ot=this.targetNode.anchors;Ee=this.getDragingPoints(k,"end",Ve,ot,Ee)}}Ee=Du(Ee),this.updatePointsAfterDrage(Ee),this.draginngPointList=Ee}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},z[O]),end:Object.assign({},z[M]),startIndex:O,endIndex:M,direction:k}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var i=Ni(this.points);this.pointsList=i.map(function(v){return v}),this.draginngPointList=[];var a=i[0];this.startPoint=Object.assign({},a);var f=i[i.length-1];this.endPoint=Object.assign({},f)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(i){var a=this.updateCrossPoints(i);this.points=a.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,v=i.sourceNode,O=i.targetNode,M=Sl({x:a.x,y:a.y},{x:f.x,y:f.y},v,O,this.offset||0);this.pointsList=M,this.initPoints()}}])&&vl(e.prototype,n),r&&vl(e,r),u}(Eu)).prototype,"dbClickPosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn(Pt.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"initPoints"),Pt.prototype),Fn(Pt.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updatePoints"),Pt.prototype),Fn(Pt.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updateStartPoint"),Pt.prototype),Fn(Pt.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"moveStartPoint"),Pt.prototype),Fn(Pt.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updateEndPoint"),Pt.prototype),Fn(Pt.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"moveEndPoint"),Pt.prototype),Fn(Pt.prototype,"dragAppendStart",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppendStart"),Pt.prototype),Fn(Pt.prototype,"dragAppendSimple",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppendSimple"),Pt.prototype),Fn(Pt.prototype,"dragAppend",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppend"),Pt.prototype),Fn(Pt.prototype,"dragAppendEnd",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppendEnd"),Pt.prototype),Fn(Pt.prototype,"updatePointsAfterDrage",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updatePointsAfterDrage"),Pt.prototype),Fn(Pt.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"getAdjustStart"),Pt.prototype),Fn(Pt.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"getAdjustEnd"),Pt.prototype),Fn(Pt.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updateAfterAdjustStartAndEnd"),Pt.prototype),Pt),Ji=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,u=t.type,i={leftX:0,leftY:0,rightX:0,rightY:0},a=Math.atan((n.y-e.y)/(n.x-e.x)),f=Math.atan(r/o),v=Math.sqrt(o*o+r*r);return u==="start"?n.x>=e.x?(i.leftX=e.x+v*Math.sin(a+f),i.leftY=e.y-v*Math.cos(a+f),i.rightX=e.x-v*Math.sin(a-f),i.rightY=e.y+v*Math.cos(a-f)):(i.leftX=e.x-v*Math.sin(a+f),i.leftY=e.y+v*Math.cos(a+f),i.rightX=e.x+v*Math.sin(a-f),i.rightY=e.y-v*Math.cos(a-f)):u==="end"&&(n.x>=e.x?(i.leftX=n.x+v*Math.sin(a-f),i.leftY=n.y-v*Math.cos(a-f),i.rightX=n.x-v*Math.sin(a+f),i.rightY=n.y+v*Math.cos(a+f)):(i.leftX=n.x-v*Math.sin(a-f),i.leftY=n.y+v*Math.cos(a-f),i.rightX=n.x+v*Math.sin(a+f),i.rightY=n.y-v*Math.cos(a+f))),i};function ml(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ml(Object(n),!0).forEach(function(r){cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lg(t){return function(e){if(Array.isArray(e))return Nu(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||_l(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bl(t){return(bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||_l(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _l(t,e){if(t){if(typeof t=="string")return Nu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nu(t,e):void 0}}function Nu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ku=function(t){var e=[],n={};return t.forEach(function(r){var o="".concat(r.x,"-").concat(r.y);r.id=o,n[o]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},ja=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Pa=function(t,e){return function(n,r){var o=Math.abs(n.x-r.centerX),u=Math.abs(n.y-r.centerY);return o/r.width>u/r.height?qt.HORIZONTAL:qt.VERTICAL}(e,t)===qt.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Ol=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),u=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+u)/2,minX:n,minY:r,maxX:o,maxY:u,height:u-r,width:o-n}},Qi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(O){n.push(O.x),r.push(O.y)});var o=Math.min.apply(Math,n),u=Math.max.apply(Math,n),i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),f=u-o,v=a-i;return e&&(f+=e,v+=e),{centerX:(o+u)/2,centerY:(i+a)/2,maxX:u,maxY:a,minX:o,minY:i,x:(o+u)/2,y:(i+a)/2,height:v,width:f}},Ma=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},Na=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Au=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},wl=function(t,e,n,r,o){return Au(t,e)+Au(t,n)+function(u,i){var a=0;return i.forEach(function(f){f&&(u.x===f.x&&(a+=-2),u.y===f.y&&(a+=-2))}),a}(t,[e,n,r,o])},qi=function(t,e,n,r){var o=e.x-t.x,u=e.y-t.y,i=r.x-n.x,a=r.y-n.y,f=(-u*(t.x-n.x)+o*(t.y-n.y))/(-i*u+o*a),v=(i*(t.y-n.y)-a*(t.x-n.x))/(-i*u+o*a);return f>=0&&f<=1&&v>=0&&v<=1},xl=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Mu(Ma(n),4),o=r[0],u=r[1],i=r[2],a=r[3];return qi(t,e,o,u)||qi(t,e,o,a)||qi(t,e,u,i)||qi(t,e,i,a)},fg=function(t,e,n,r,o,u,i){var a=[],f=[e],v={},O={},M={};O[e.id]=0,M[e.id]=wl(e,n,e);var k={};t.forEach(function(ye){k[ye.id]=ye});for(var z=function(){var ye,_e,Ne,xe=void 0,Ee=1/0;if(f.forEach(function(Qe){M[Qe.id]<Ee&&(Ee=M[Qe.id],xe=Qe)}),xe===n){var Be=[];return function Qe(Ve,ot,gt,St,kt){kt||(kt=0),Ve.unshift(ot[St]),gt[St]&&gt[St]!==St&&kt<=100&&Qe(Ve,ot,gt,gt[St],kt+1)}(Be,k,v,n.id),{v:Be}}_e=xe,(Ne=(ye=f).indexOf(_e))>-1&&ye.splice(Ne,1),a.push(xe),function(Qe,Ve,ot,gt){var St=[];return Qe.forEach(function(kt){kt!==Ve&&(kt.x!==Ve.x&&kt.y!==Ve.y||xl(kt,Ve,ot)||xl(kt,Ve,gt)||St.push(kt))}),ku(St)}(t,xe,r,o).forEach(function(Qe){if(a.indexOf(Qe)===-1){f.indexOf(Qe)===-1&&f.push(Qe);var Ve=M[xe.id]+Au(xe,Qe);O[Qe.id]&&Ve>=O[Qe.id]||(v[Qe.id]=xe.id,O[Qe.id]=Ve,M[Qe.id]=O[Qe.id]+wl(Qe,n,e,u,i))}})};f.length;){var te=z();if(bl(te)==="object")return te.v}return[e,n]},El=function(t){return or(t)},Du=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],o=e[n],u=e[n+1];r.x===o.x&&o.x===u.x||r.y===o.y&&o.y===u.y?e.splice(n,1):n++}return e},Sl=function(t,e,n,r,o){var u,i,a=El(n),f=El(r),v=ja(a,o),O=ja(f,o),M=Pa(v,t),k=Pa(O,e);if(u=v,i=O,2*Math.abs(u.centerX-i.centerX)<u.width+i.width&&2*Math.abs(u.centerY-i.centerY)<u.height+i.height){var z=dg(t,e,M,k);return[t,M].concat(lg(z),[k,e])}var te=Qi([M,k]),ye=Ol(v,te),_e=Ol(O,te),Ne=[];Ne=(Ne=Ne.concat(Ma(ye))).concat(Ma(_e));var xe={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[te,ye,_e].forEach(function(Be){Ne=Ne.concat(function(Qe,Ve){return function(ot,gt){return gt<ot.minX||gt>ot.maxX?[]:[{x:gt,y:ot.minY},{x:gt,y:ot.maxY}]}(Qe,Ve.x).concat(function(ot,gt){return gt<ot.minY||gt>ot.maxY?[]:[{x:ot.minX,y:gt},{x:ot.maxX,y:gt}]}(Qe,Ve.y))}(Be,xe).filter(function(Qe){return Na(Qe,v)&&Na(Qe,O)}))}),[{x:M.x,y:k.y},{x:k.x,y:M.y}].forEach(function(Be){Na(Be,v)&&Na(Be,O)&&Ne.push(Be)}),Ne.unshift(M),Ne.push(k),Ne=ku(Ne);var Ee=fg(Ne,M,k,a,f,t,e);return Ee.unshift(t),Ee.push(e),Ee.length>2&&(Ee=Du(Ee)),ku(Ee)},pg=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Wr(n.x,n.y,r.x,r.y),u=1;u<t.length-1;u++){var i=t[u],a=t[u+1],f=Wr(i.x,i.y,a.x,a.y);f>o&&(o=f,n=i,r=a)}e=[n,r]}return e},jl=function(t,e,n){var r=Co(t,n),o=Co(e,n);return r&&o},Pl=function(t,e,n){var r=Co(t,n),o=Co(e,n);return!(r&&o)&&(r||o)},Ml=function(t,e,n){for(var r,o,u=or(n),i=Ma(u),a=0;a<i.length;a++)qi(t,e,i[a],i[(a+1)%i.length])&&(o=[i[a],i[(a+1)%i.length]]);return o&&(r=function(f,v,O,M){var k=(v.y-f.y)*(M.x-O.x)-(f.x-v.x)*(O.y-M.y);if(k===0)return!1;var z=((v.x-f.x)*(M.x-O.x)*(O.y-f.y)+(v.y-f.y)*(M.x-O.x)*f.x-(M.y-O.y)*(v.x-f.x)*O.x)/k,te=-((v.y-f.y)*(M.y-O.y)*(O.x-f.x)+(v.x-f.x)*(M.y-O.y)*f.y-(M.x-O.x)*(v.y-f.y)*O.y)/k;return(z-f.x)*(z-v.x)<=0&&(te-f.y)*(te-v.y)<=0&&(z-O.x)*(z-M.x)<=0&&(te-O.y)*(te-M.y)<=0&&{x:z,y:te}}(t,e,o[0],o[1])),r},ka=function(t,e){var n;return t.x===e.x?n=qt.VERTICAL:t.y===e.y&&(n=qt.HORIZONTAL),n},Ni=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var o=Mu(r.split(","),2),u=o[0],i=o[1];n.push({x:Number(u),y:Number(i)})}),n},dg=function(t,e,n,r){var o=[];if(ka(t,n)===ka(e,r))t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var u={x:n.x,y:r.y},i=Zi(u,t,n),a=Zi(u,e,r);if(i||a)u={x:r.x,y:n.y};else{var f=Nl(u,t,n),v=Nl(u,e,r);f&&v&&(u={x:r.x,y:n.y})}o.push(u)}return o},Nl=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},kl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Al=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,u=t.offset,i=or(r),a=or(o),f=ja(i,u),v=ja(a,u);return{sNext:Pa(f,e),ePre:Pa(v,n)}},Aa=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Da(e[0]),Da(e[1]),Da(e[2]),Da(e[3])]},Da=function(t){var e=Mu(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Dl=function(t,e){for(var n,r=t.x,o=t.y,u=Ni(e),i=Number.MAX_SAFE_INTEGER,a=[],f=0;f<u.length;f++)a.push({start:u[f],end:u[(f+1)%u.length]});if(a.forEach(function(k){var z=k.start,te=k.end;if(z.x===te.x){var ye={x:z.x,y:o};if(Zi(ye,z,te)){var _e=Math.abs(z.x-r);_e<i&&(i=_e,n=ye)}}else if(z.y===te.y){var Ne={x:r,y:z.y};if(Zi(Ne,z,te)){var xe=Math.abs(z.y-o);xe<i&&(i=xe,n=Ne)}}}),!n){var v=a[0],O=v.start,M=v.end;n={x:O.x+(M.x-O.x)/2,y:O.y+(M.y-O.y)/2}}return n},hg=function(t){return Wi(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Tl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};s(204);var ki=function(){};function Cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zr=window.document;function Tu(t){var e=t.onDragStart,n=e===void 0?ki:e,r=t.onDraging,o=r===void 0?ki:r,u=t.onDragEnd,i=u===void 0?ki:u,a=t.step,f=a===void 0?1:a,v=t.isStopPropagation,O=v===void 0||v,M=!1,k=!1,z=0,te=0,ye=0,_e=0;function Ne(Ee){if(O&&Ee.stopPropagation(),k&&(M=!0,ye+=Ee.clientX-z,_e+=Ee.clientY-te,z=Ee.clientX,te=Ee.clientY,Math.abs(ye)>f||Math.abs(_e)>f)){var Be=ye%f,Qe=_e%f,Ve=ye-Be,ot=_e-Qe;ye=Be,_e=Qe,o({deltaX:Ve,deltaY:ot,event:Ee})}}function xe(Ee){if(O&&Ee.stopPropagation(),k=!1,Zr.removeEventListener("mousemove",Ne,!1),Zr.removeEventListener("mouseup",xe,!1),M)return M=!1,i({event:Ee})}return function(Ee){if(Ee.button===0)return O&&Ee.stopPropagation(),k=!0,z=Ee.clientX,te=Ee.clientY,Zr.addEventListener("mousemove",Ne,!1),Zr.addEventListener("mouseup",xe,!1),n({event:Ee})}}var Ae,Rl,Il,Ll,zl,Bl,Hl,Gl,Fl,Ul,Xl,Vl,Wl,ni=function(){function t(o){var u=this,i=o.onDragStart,a=i===void 0?ki:i,f=o.onDraging,v=f===void 0?ki:f,O=o.onDragEnd,M=O===void 0?ki:O,k=o.eventType,z=k===void 0?"":k,te=o.eventCenter,ye=te===void 0?null:te,_e=o.step,Ne=_e===void 0?1:_e,xe=o.isStopPropagation,Ee=xe===void 0||xe,Be=o.model,Qe=Be===void 0?null:Be;(function(Ve,ot){if(!(Ve instanceof ot))throw new TypeError("Cannot call a class as a function")})(this,t),pn(this,"onDragStart",void 0),pn(this,"onDraging",void 0),pn(this,"onDragEnd",void 0),pn(this,"step",void 0),pn(this,"isStopPropagation",void 0),pn(this,"isDraging",!1),pn(this,"isStartDraging",!1),pn(this,"startX",0),pn(this,"startY",0),pn(this,"sumDeltaX",0),pn(this,"sumDeltaY",0),pn(this,"eventType",void 0),pn(this,"eventCenter",void 0),pn(this,"model",void 0),pn(this,"startTime",void 0),pn(this,"isGrag",void 0),pn(this,"handleMouseDown",function(Ve){var ot,gt;if(Ve.button===0){u.isStopPropagation&&Ve.stopPropagation(),u.isStartDraging=!0,u.startX=Ve.clientX,u.startY=Ve.clientY,Zr.addEventListener("mousemove",u.handleMouseMove,!1),Zr.addEventListener("mouseup",u.handleMouseUp,!1);var St=(ot=u.model)===null||ot===void 0?void 0:ot.getData();(gt=u.eventCenter)===null||gt===void 0||gt.emit(Et["".concat(u.eventType,"_MOUSEDOWN")],{e:Ve,data:St}),u.startTime=new Date().getTime()}}),pn(this,"handleMouseMove",function(Ve){if(u.isStopPropagation&&Ve.stopPropagation(),u.isStartDraging&&(u.sumDeltaX+=Ve.clientX-u.startX,u.sumDeltaY+=Ve.clientY-u.startY,u.startX=Ve.clientX,u.startY=Ve.clientY,u.step<=1||Math.abs(u.sumDeltaX)>u.step||Math.abs(u.sumDeltaY)>u.step)){var ot,gt=u.sumDeltaX%u.step,St=u.sumDeltaY%u.step,kt=u.sumDeltaX-gt,Qt=u.sumDeltaY-St;u.sumDeltaX=gt,u.sumDeltaY=St;var dn,jn=(ot=u.model)===null||ot===void 0?void 0:ot.getData();u.isDraging||((dn=u.eventCenter)===null||dn===void 0||dn.emit(Et["".concat(u.eventType,"_DRAGSTART")],{e:Ve,data:jn}),u.onDragStart({event:Ve})),u.isDraging=!0,Promise.resolve().then(function(){var Vn,Pn;u.onDraging({deltaX:kt,deltaY:Qt,event:Ve}),(Vn=u.eventCenter)===null||Vn===void 0||Vn.emit(Et["".concat(u.eventType,"_MOUSEMOVE")],{e:Ve,data:jn}),(Pn=u.eventCenter)===null||Pn===void 0||Pn.emit(Et["".concat(u.eventType,"_DRAG")],{e:Ve,data:jn})})}}),pn(this,"handleMouseUp",function(Ve){u.isStartDraging=!1,u.isStopPropagation&&Ve.stopPropagation(),Promise.resolve().then(function(){var ot,gt,St;Zr.removeEventListener("mousemove",u.handleMouseMove,!1),Zr.removeEventListener("mouseup",u.handleMouseUp,!1);var kt=(ot=u.model)===null||ot===void 0?void 0:ot.getData();(gt=u.eventCenter)===null||gt===void 0||gt.emit(Et["".concat(u.eventType,"_MOUSEUP")],{e:Ve,data:kt}),u.isDraging&&(u.isDraging=!1,u.onDragEnd({event:Ve}),(St=u.eventCenter)===null||St===void 0||St.emit(Et["".concat(u.eventType,"_DROP")],{e:Ve,data:kt}))})}),pn(this,"cancelDrag",function(){Zr.removeEventListener("mousemove",u.handleMouseMove,!1),Zr.removeEventListener("mouseup",u.handleMouseUp,!1),u.isDraging=!1}),this.onDragStart=a,this.onDraging=v,this.onDragEnd=M,this.step=Ne,this.isStopPropagation=Ee,this.eventType=z,this.eventCenter=ye,this.model=Qe}var e,n,r;return e=t,(n=[{key:"setStep",value:function(o){this.step=o}}])&&Cl(e.prototype,n),r&&Cl(e,r),t}();function Yl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yl(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||Kl(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ai(t){return function(e){if(Array.isArray(e))return Cu(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Kl(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kl(t,e){if(t){if(typeof t=="string")return Cu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cu(t,e):void 0}}function Cu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ru(t){return(Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Jl,Ql=(Rl=bt((Ae=function(){function t(o){(function(k,z){if(!(k instanceof z))throw new TypeError("Cannot call a class as a function")})(this,t),mo(this,"rootEl",void 0),dr(this,"width",Rl,this),dr(this,"height",Il,this),mo(this,"theme",void 0),mo(this,"eventCenter",void 0),mo(this,"modelMap",new Map),mo(this,"topElement",void 0),mo(this,"animation",void 0),mo(this,"idGenerator",void 0),mo(this,"nodeMoveRules",[]),dr(this,"edgeType",Ll,this),dr(this,"nodes",zl,this),dr(this,"edges",Bl,this),dr(this,"overlapMode",Hl,this),dr(this,"background",Gl,this),dr(this,"transformModel",Fl,this),dr(this,"editConfigModel",Ul,this),dr(this,"gridSize",Xl,this),dr(this,"partial",Vl,this),dr(this,"fakerNode",Wl,this);var u,i=o.container,a=o.background,f=a===void 0?{}:a,v=o.grid,O=o.idGenerator,M=o.animation;this.background=f,Ru(v)==="object"&&(this.gridSize=v.size),this.rootEl=i,this.editConfigModel=new nc(o),this.eventCenter=new zv,this.transformModel=new iv(this.eventCenter),this.theme=Ec(o.style),this.edgeType=o.edgeType||"polyline",o.width||(o.width=i.getBoundingClientRect().width),o.height||(o.height=i.getBoundingClientRect().height),this.width=o.width,this.height=o.height,this.animation=(u=M)&&typeof u!="boolean"?xc(on(el),u):on(u===!0?Kv:el),this.partial=o.partial,this.overlapMode=o.overlapMode||0,this.idGenerator=O}var e,n,r;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"modelsMap",get:function(){return[].concat(Ai(this.nodes),Ai(this.edges)).reduce(function(o,u){return o[u.id]=u,o},{})}},{key:"sortElements",get:function(){var o=[];this.nodes.forEach(function(k){return o.push(k)}),this.edges.forEach(function(k){return o.push(k)}),o=o.sort(function(k,z){return k.zIndex-z.zIndex});for(var u=[],i=-1,a=[-200,-200],f=[this.width+200,this.height+200],v=0;v<o.length;v++){var O=o[v];O.visible&&(!this.partial||O.isSelected||this.isElementInArea(O,a,f,!1,!1))&&(O.zIndex===9999&&(i=u.length),u.push(O))}if(i!==-1){var M=u[u.length-1];u[u.length-1]=u[i],u[i]=M}return u}},{key:"textEditElement",get:function(){var o=this.nodes.find(function(i){return i.state===Yt.TEXT_EDIT}),u=this.edges.find(function(i){return i.state===Yt.TEXT_EDIT});return o||u}},{key:"selectElements",get:function(){var o=new Map;return this.nodes.forEach(function(u){u.isSelected&&o.set(u.id,u)}),this.edges.forEach(function(u){u.isSelected&&o.set(u.id,u)}),o}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=[],v=[];this.nodes.forEach(function(k){return v.push(k)}),this.edges.forEach(function(k){return v.push(k)});for(var O=0;O<v.length;O++){var M=v[O];this.isElementInArea(M,o,u,i,a)&&f.push(M)}return f}},{key:"getModel",value:function(o){return this.modelMap.get(o)}},{key:"getNodeModelById",value:function(o){var u;return this.fakerNode&&o===this.fakerNode.id?this.fakerNode:(u=this.nodesMap[o])===null||u===void 0?void 0:u.model}},{key:"getPointByClient",value:function(o){var u=o.x,i=o.y,a=this.rootEl.getBoundingClientRect(),f={x:u-a.left,y:i-a.top},v=Zl(this.transformModel.HtmlPointToCanvasPoint([f.x,f.y]),2);return{domOverlayPosition:f,canvasOverlayPosition:{x:v[0],y:v[1]}}}},{key:"isElementInArea",value:function(o,u,i){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(o.BaseType===yn.NODE){for(var v=or(o=o),O=v.minX,M=v.minY,k=v.maxX,z=v.maxY,te=[{x:O,y:M},{x:k,y:M},{x:k,y:z},{x:O,y:z}],ye=f,_e=0;_e<te.length;_e++){var Ne=te[_e],xe=Ne.x,Ee=Ne.y,Be=this.transformModel.CanvasPointToHtmlPoint([xe,Ee]),Qe=Zl(Be,2);if(xe=Qe[0],Ee=Qe[1],vu([xe,Ee],u,i)!==f){ye=!f;break}}return ye}if(o.BaseType===yn.EDGE){var Ve=o=o,ot=Ve.startPoint,gt=Ve.endPoint,St=this.transformModel.CanvasPointToHtmlPoint([ot.x,ot.y]),kt=this.transformModel.CanvasPointToHtmlPoint([gt.x,gt.y]),Qt=vu(St,u,i),dn=vu(kt,u,i);return a?Qt&&dn:Qt||dn}return!1}},{key:"graphDataToModel",value:function(o){var u=this;this.nodes=Vi(o.nodes,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var f=i.x,v=i.y;return f&&v&&(i.x=Mi(f,u.gridSize),i.y=Mi(v,u.gridSize),Ru(i.text)==="object"&&(i.text.x-=jc(f,u.gridSize),i.text.y-=jc(v,u.gridSize))),new a(i,u)}),this.edges=Vi(o.edges,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(i,u)})}},{key:"modelToGraphData",value:function(){var o=[];this.edges.forEach(function(i){var a=i.getData();a&&o.push(a)});var u=[];return this.nodes.forEach(function(i){var a=i.getData();a&&u.push(a)}),{nodes:u,edges:o}}},{key:"modelToHistoryData",value:function(){for(var o=!1,u=[],i=0;i<this.nodes.length;i++){var a=this.nodes[i];if(a.isDragging){o=!0;break}u.push(a.getHistoryData())}if(o)return!1;for(var f=!1,v=[],O=0;O<this.edges.length;O++){var M=this.edges[O];if(M.isDragging){f=!0;break}v.push(M.getHistoryData())}return!f&&{nodes:u,edges:v}}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getElement",value:function(o){return this.modelsMap[o]}},{key:"getNodeEdges",value:function(o){for(var u=[],i=0;i<this.edges.length;i++){var a=this.edges[i],f=this.edges[i].sourceNodeId===o,v=this.edges[i].targetNodeId===o;(f||v)&&u.push(a)}return u}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],u=this.selectElements,i={nodes:[],edges:[]};return u.forEach(function(a){if(a.BaseType===yn.NODE&&i.nodes.push(a.getData()),a.BaseType===yn.EDGE){var f=a.getData(),v=u.get(f.sourceNodeId)&&u.get(f.targetNodeId);(o||v)&&i.edges.push(f)}}),i}},{key:"updateAttributes",value:function(o,u){this.getElement(o).updateAttributes(u)}},{key:"changeNodeId",value:function(o,u){return u||(u=ei()),this.nodesMap[u]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(u,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[o]?(this.edges.forEach(function(i){i.sourceNodeId===o&&(i.sourceNodeId=u),i.targetNodeId===o&&(i.targetNodeId=u)}),this.nodesMap[o].model.id=u,u):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(u,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(o,u){return u||(u=ei()),this.edgesMap[u]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(u,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[o]?(this.edges.forEach(function(i){i.id===o&&(i.id=u)}),u):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(u,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(o){this.fakerNode=o}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(o,u){return this.modelMap.set(o,u)}},{key:"toFront",value:function(o){var u,i,a,f=((u=this.nodesMap[o])===null||u===void 0?void 0:u.model)||((i=this.edgesMap[o])===null||i===void 0?void 0:i.model);f&&(this.overlapMode===rr.DEFAULT&&((a=this.topElement)===null||a===void 0||a.setZIndex(),f.setZIndex(9999),this.topElement=f),this.overlapMode===rr.INCREASE&&this.setElementZIndex(o,"top"))}},{key:"setElementZIndex",value:function(o,u){var i,a,f,v=((i=this.nodesMap[o])===null||i===void 0?void 0:i.model)||((a=this.edgesMap[o])===null||a===void 0?void 0:a.model);v&&(typeof u=="number"&&(f=u),u==="top"&&(f=wu()),u==="bottom"&&(f=--Qv),v.setZIndex(f))}},{key:"deleteNode",value:function(o){var u=this.nodesMap[o].model.getData();this.deleteEdgeBySource(o),this.deleteEdgeByTarget(o),this.nodes.splice(this.nodesMap[o].index,1),this.eventCenter.emit(Et.NODE_DELETE,{data:u})}},{key:"addNode",value:function(o){var u=Yr(o);u.id&&this.nodesMap[o.id]&&delete u.id;var i=this.getModel(u.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(u.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new i(u,this);this.nodes.push(a);var f=a.getData();return this.eventCenter.emit(Et.NODE_ADD,{data:f}),a}},{key:"cloneNode",value:function(o){var u=this.getNodeModelById(o),i=u.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var a=this.addNode(i);return a.setSelected(!0),u.setSelected(!1),a.getData()}},{key:"moveNode",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var v=f.model,O=v.move(u,i,a);O&&this.moveEdge(o,u,i)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(o,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var v=f.model,O=v.x,M=v.y,k=u-O,z=i-M;this.moveNode(o,k,z,a)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(o,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(o){this.setElementStateById(o,Yt.TEXT_EDIT)}},{key:"addEdge",value:function(o){var u=Yr(o),i=u.type;i||(i=this.edgeType),u.id&&this.edgesMap[u.id]&&delete u.id;var a=this.getModel(i);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var f=new a(Ta(Ta({},u),{},{type:i}),this),v=f.getData();return this.edges.push(f),this.eventCenter.emit(Et.EDGE_ADD,{data:v}),f}},{key:"moveEdge",value:function(o,u,i){for(var a=0;a<this.edges.length;a++){var f,v=this.edges[a],O=v.textPosition,M=O.x,k=O.y,z=this.edges[a].sourceNodeId===o,te=this.edges[a].targetNodeId===o;if(z&&v.moveStartPoint(u,i),te&&v.moveEndPoint(u,i),z||te)if(v.customTextPosition===!0)v.resetTextPosition();else if(v.modelType===Rt.POLYLINE_EDGE&&(f=v.text)!==null&&f!==void 0&&f.value){var ye=v.text,_e=Dl(ye,v.points);v.moveText(_e.x-ye.x,_e.y-ye.y)}else{var Ne=v.textPosition,xe=Ne.x,Ee=Ne.y;v.moveText(xe-M,Ee-k)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(o,u){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===o&&this.edges[i].targetNodeId===u){var a=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Et.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(o){if(this.edgesMap[o]){var u=this.edgesMap[o].index,i=this.edgesMap[o].model.getData();this.edges.splice(u,1),this.eventCenter.emit(Et.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].sourceNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(Et.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].targetNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(Et.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(o,u,i){this.nodes.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Yt.DEFAULT)}),this.edges.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Yt.DEFAULT)})}},{key:"updateText",value:function(o,u){this.nodes.forEach(function(i){i.id===o&&i.updateText(u)}),this.edges.forEach(function(i){i.id===o&&i.updateText(u)})}},{key:"selectNodeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.nodesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.edgesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||this.clearSelectElements();var i=this.getElement(o);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var o;this.selectElements.forEach(function(u){u==null||u.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===rr.DEFAULT&&((o=this.topElement)===null||o===void 0||o.setZIndex())}},{key:"moveNodes",value:function(o,u,i){var a=this,f=arguments.length>3&&arguments[3]!==void 0&&arguments[3];o.forEach(function(v){return a.moveNode(v,u,i,f)})}},{key:"addNodeMoveRules",value:function(o){this.nodeMoveRules.includes(o)||this.nodeMoveRules.push(o)}},{key:"setDefaultEdgeType",value:function(o){this.edgeType=o}},{key:"changeNodeType",value:function(o,u){var i=this.getNodeModelById(o);if(i){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var v=new f(a,this);this.nodes.splice(this.nodesMap[o].index,1,v),this.getNodeEdges(o).forEach(function(O){if(O.sourceNodeId===o){var M=Qc(v,O.startPoint,v.width,v.height);O.updateStartPoint(M)}if(O.targetNodeId===o){var k=Qc(v,O.endPoint,v.width,v.height);O.updateEndPoint(k)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(o,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(o,u){var i=this.getEdgeModelById(o);if(i){if(i.type!==u){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var v=new f(a,this);this.edges.splice(this.edgesMap[o].index,1,v)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(o,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.targetNodeId===o&&u.push(i)}),u}},{key:"getNodeOutgoingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.sourceNodeId===o&&u.push(i)}),u}},{key:"getNodeIncomingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.targetNodeId===o&&i.push(u.nodesMap[a.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.sourceNodeId===o&&i.push(u.nodesMap[a.targetNodeId].model)}),i}},{key:"setTheme",value:function(o){this.theme=Ec(Ta(Ta({},this.theme),o))}},{key:"resize",value:function(o,u){this.width=o!=null?o:this.width,this.height=u!=null?u:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var o=this.nodes,u=[],i=[];o.forEach(function(k){var z=k.x,te=k.y,ye=k.width,_e=k.height,Ne=k.getNodeStyle().strokeWidth,xe=Ne===void 0?0:Ne;u=u.concat([z+ye/2+xe,z-ye/2-xe]),i=i.concat([te+_e/2+xe,te-_e/2-xe])});var a=Math.min.apply(Math,Ai(u)),f=Math.max.apply(Math,Ai(u)),v=Math.min.apply(Math,Ai(i)),O=f-a||0,M=Math.max.apply(Math,Ai(i))-v||0;return{virtualRectWidth:O,virtualRectHeight:M,virtualRectCenterPositionX:a+O/2,virtualRectCenterPositionY:v+M/2}}},{key:"translateCenter",value:function(){var o=this.nodes,u=this.width,i=this.height,a=this.rootEl,f=this.transformModel;if(o.length){var v=u||a.clientWidth,O=i||a.clientHeight,M=this.getVirtualRectSize(),k=M.virtualRectCenterPositionX,z=M.virtualRectCenterPositionY;f.focusOn(k,z,v,O)}}},{key:"fitView",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,u=this.nodes,i=this.width,a=this.height,f=this.rootEl,v=this.transformModel;if(u.length){var O=i||f.clientWidth,M=a||f.clientHeight,k=this.getVirtualRectSize(),z=k.virtualRectWidth,te=k.virtualRectHeight,ye=k.virtualRectCenterPositionX,_e=k.virtualRectCenterPositionY,Ne=(z+o)/O,xe=(te+o)/M,Ee=0;Ee=1/Math.max(Ne,xe);var Be=[O/2,M/2];v.zoom(Ee,Be),v.focusOn(ye,_e,O,M)}}}])&&$l(e.prototype,n),r&&$l(e,r),t}()).prototype,"width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Il=bt(Ae.prototype,"height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ll=bt(Ae.prototype,"edgeType",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zl=bt(Ae.prototype,"nodes",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bl=bt(Ae.prototype,"edges",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hl=bt(Ae.prototype,"overlapMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rr.DEFAULT}}),Gl=bt(Ae.prototype,"background",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fl=bt(Ae.prototype,"transformModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ul=bt(Ae.prototype,"editConfigModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xl=bt(Ae.prototype,"gridSize",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vl=bt(Ae.prototype,"partial",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wl=bt(Ae.prototype,"fakerNode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bt(Ae.prototype,"nodesMap",[p.m],Object.getOwnPropertyDescriptor(Ae.prototype,"nodesMap"),Ae.prototype),bt(Ae.prototype,"edgesMap",[p.m],Object.getOwnPropertyDescriptor(Ae.prototype,"edgesMap"),Ae.prototype),bt(Ae.prototype,"modelsMap",[p.m],Object.getOwnPropertyDescriptor(Ae.prototype,"modelsMap"),Ae.prototype),bt(Ae.prototype,"sortElements",[p.m],Object.getOwnPropertyDescriptor(Ae.prototype,"sortElements"),Ae.prototype),bt(Ae.prototype,"textEditElement",[p.m],Object.getOwnPropertyDescriptor(Ae.prototype,"textEditElement"),Ae.prototype),bt(Ae.prototype,"selectElements",[p.m],Object.getOwnPropertyDescriptor(Ae.prototype,"selectElements"),Ae.prototype),bt(Ae.prototype,"setFakerNode",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setFakerNode"),Ae.prototype),bt(Ae.prototype,"removeFakerNode",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"removeFakerNode"),Ae.prototype),bt(Ae.prototype,"setModel",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setModel"),Ae.prototype),bt(Ae.prototype,"toFront",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"toFront"),Ae.prototype),bt(Ae.prototype,"setElementZIndex",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setElementZIndex"),Ae.prototype),bt(Ae.prototype,"deleteNode",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"deleteNode"),Ae.prototype),bt(Ae.prototype,"addNode",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"addNode"),Ae.prototype),bt(Ae.prototype,"cloneNode",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"cloneNode"),Ae.prototype),bt(Ae.prototype,"moveNode",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"moveNode"),Ae.prototype),bt(Ae.prototype,"moveNode2Coordinate",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"moveNode2Coordinate"),Ae.prototype),bt(Ae.prototype,"editText",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"editText"),Ae.prototype),bt(Ae.prototype,"addEdge",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"addEdge"),Ae.prototype),bt(Ae.prototype,"moveEdge",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"moveEdge"),Ae.prototype),bt(Ae.prototype,"deleteEdgeBySourceAndTarget",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"deleteEdgeBySourceAndTarget"),Ae.prototype),bt(Ae.prototype,"deleteEdgeById",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"deleteEdgeById"),Ae.prototype),bt(Ae.prototype,"deleteEdgeBySource",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"deleteEdgeBySource"),Ae.prototype),bt(Ae.prototype,"deleteEdgeByTarget",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"deleteEdgeByTarget"),Ae.prototype),bt(Ae.prototype,"setElementStateById",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setElementStateById"),Ae.prototype),bt(Ae.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"updateText"),Ae.prototype),bt(Ae.prototype,"selectNodeById",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"selectNodeById"),Ae.prototype),bt(Ae.prototype,"selectEdgeById",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"selectEdgeById"),Ae.prototype),bt(Ae.prototype,"selectElementById",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"selectElementById"),Ae.prototype),bt(Ae.prototype,"clearSelectElements",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"clearSelectElements"),Ae.prototype),bt(Ae.prototype,"moveNodes",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"moveNodes"),Ae.prototype),bt(Ae.prototype,"setDefaultEdgeType",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setDefaultEdgeType"),Ae.prototype),bt(Ae.prototype,"changeNodeType",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"changeNodeType"),Ae.prototype),bt(Ae.prototype,"changeEdgeType",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"changeEdgeType"),Ae.prototype),bt(Ae.prototype,"getNodeIncomingEdge",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"getNodeIncomingEdge"),Ae.prototype),bt(Ae.prototype,"getNodeOutgoingEdge",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"getNodeOutgoingEdge"),Ae.prototype),bt(Ae.prototype,"getNodeIncomingNode",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"getNodeIncomingNode"),Ae.prototype),bt(Ae.prototype,"getNodeOutgoingNode",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"getNodeOutgoingNode"),Ae.prototype),bt(Ae.prototype,"setTheme",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"setTheme"),Ae.prototype),bt(Ae.prototype,"resize",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"resize"),Ae.prototype),bt(Ae.prototype,"clearData",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"clearData"),Ae.prototype),bt(Ae.prototype,"translateCenter",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"translateCenter"),Ae.prototype),bt(Ae.prototype,"fitView",[p.k],Object.getOwnPropertyDescriptor(Ae.prototype,"fitView"),Ae.prototype),Ae),yg=Ql;function ql(t){return(ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ef(){return(ef=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nf(t,e){return(nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function vg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Iu(t);if(e){var o=Iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gg(this,n)}}function gg(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kr(t)}function Kr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iu(t){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rf,mg=Pr(Jl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&nf(i,a)})(u,t);var e,n,r,o=vg(u);function u(i){var a;(function(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")})(this,u),bo(Kr(a=o.call(this)),"stepDrag",void 0),bo(Kr(a),"stepScrollX",0),bo(Kr(a),"stepScrollY",0),bo(Kr(a),"onDraging",function(M){var k=M.deltaX,z=M.deltaY;a.setState({isDraging:!0});var te=a.props.graphModel,ye=te.transformModel;te.editConfigModel.stopMoveGraph||ye.translate(k,z)}),bo(Kr(a),"onDragEnd",function(){a.setState({isDraging:!1})}),bo(Kr(a),"zoomHandler",function(M){var k=a.props,z=k.graphModel,te=z.editConfigModel,ye=z.transformModel,_e=z.gridSize,Ne=k.graphModel,xe=M.deltaX,Ee=M.deltaY;if(te.stopScrollGraph||M.ctrlKey===!0){if(!te.stopZoomGraph){M.preventDefault();var Be=Ne.getPointByClient({x:M.clientX,y:M.clientY}).canvasOverlayPosition,Qe=Be.x,Ve=Be.y;ye.zoom(M.deltaY<0,[Qe,Ve])}}else{if(M.preventDefault(),a.stepScrollX+=xe,a.stepScrollY+=Ee,Math.abs(a.stepScrollX)>=_e){var ot=a.stepScrollX%_e,gt=a.stepScrollX-ot;ye.translate(-gt*ye.SCALE_X,0),a.stepScrollX=ot}if(Math.abs(a.stepScrollY)>=_e){var St=a.stepScrollY%_e,kt=a.stepScrollY-St;ye.translate(0,-kt*ye.SCALE_Y),a.stepScrollY=St}}}),bo(Kr(a),"clickHandler",function(M){if(M.target.getAttribute("name")==="canvas-overlay"){var k=a.props.graphModel;k.selectElements.size>0&&k.clearSelectElements(),k.eventCenter.emit(Et.BLANK_CLICK,{e:M})}}),bo(Kr(a),"handleContextMenu",function(M){if(M.target.getAttribute("name")==="canvas-overlay"){M.preventDefault();var k=a.props.graphModel,z=k.getPointByClient({x:M.clientX,y:M.clientY});k.eventCenter.emit(Et.BLANK_CONTEXTMENU,{e:M,position:z})}}),bo(Kr(a),"mouseDownHandler",function(M){var k=a.props.graphModel,z=k.eventCenter,te=k.editConfigModel,ye=k.transformModel.SCALE_X,_e=k.gridSize,Ne=M.target,xe=!te.adjustEdge&&!te.adjustNodePosition;(Ne.getAttribute("name")==="canvas-overlay"||xe)&&(te.stopMoveGraph?z.emit(Et.BLANK_MOUSEDOWN,{e:M}):(a.stepDrag.setStep(_e*ye),a.stepDrag.handleMouseDown(M)),a.clickHandler(M))});var f=i.graphModel,v=f.gridSize,O=f.eventCenter;return a.stepDrag=new ni({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:v,eventType:"BLANK",isStopPropagation:!1,eventCenter:O,model:null}),a.state={isDraging:!1},a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props,f=a.children,v=a.dnd,O=this.state.isDraging;return Object(le.g)("svg",ef({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:O?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},v.eventMap()),Object(le.g)("g",{transform:i},f))}}])&&tf(e.prototype,n),r&&tf(e,r),u}(le.a))||Jl;function of(t){return(of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uf(t,e){return(uf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function _g(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lu(t);if(e){var o=Lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Og(this,n)}}function Og(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sf(t)}function sf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lu(t){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function wg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xg=Pr(rf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&uf(i,a)})(u,t);var e,n,r,o=_g(u);function u(){var i;bg(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return wg(sf(i=o.call.apply(o,[this].concat(f))),"setToolOverlayRef",function(O){var M=i.props.tool.getInstance();M.components.forEach(function(k){return k(M,O)}),M.components=[]}),i}return e=u,(n=[{key:"getTools",value:function(){var i=this.props,a=i.tool,f=i.graphModel,v=a.getTools().map(function(O){return Object(le.g)(O,{graphModel:f,logicFlow:a.instance})});return a.components=v,v}},{key:"render",value:function(){return Object(le.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&af(e.prototype,n),r&&af(e,r),u}(le.a))||rf;function cf(t){return(cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Eg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ff(t,e){return(ff=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Sg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zu(t);if(e){var o=zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jg(this,n)}}function jg(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function zu(t){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var pf,Pg=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ff(i,a)})(u,t);var e,n,r,o=Sg(u);function u(){return Eg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.background;return Object(le.g)("div",{className:"lf-background"},Object(le.g)("div",{style:i,className:"lf-background-area"}))}}])&&lf(e.prototype,n),r&&lf(e,r),u}(le.a);function df(t){return(df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yf(t,e){return(yf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ng(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bu(t);if(e){var o=Bu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kg(this,n)}}function kg(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vf(t)}function vf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bu(t){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ag(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gf=Pr(pf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&yf(i,a)})(u,t);var e,n,r,o=Ng(u);function u(){var i;Mg(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Ag(vf(i=o.call.apply(o,[this].concat(f))),"id",ei()),i}return e=u,(n=[{key:"renderDot",value:function(){var i=this.props,a=i.config,f=a.color,v=a.thickness,O=v===void 0?2:v,M=i.size,k=i.visible,z=Math.min(Math.max(2,O),M/2),te=1;return k||(te=0),Object(le.g)("rect",{width:z,height:z,rx:z/2,ry:z/2,fill:f,opacity:te})}},{key:"renderMesh",value:function(){var i=this.props,a=i.config,f=a.color,v=a.thickness,O=v===void 0?1:v,M=i.size,k=i.visible,z=Math.min(Math.max(1,O),M/2),te="M ".concat(M," 0 H0 M0 0 V0 ").concat(M),ye=1;return k||(ye=0),Object(le.g)("path",{d:te,stroke:f,strokeWidth:z,opacity:ye})}},{key:"render",value:function(){var i=this.props,a=i.type,f=i.size,v=i.graphModel.transformModel,O=[v.SCALE_X,v.SKEW_Y,v.SKEW_X,v.SCALE_Y,v.TRANSLATE_X,v.TRANSLATE_Y].join(","),M="matrix(".concat(O,")");return Object(le.g)("div",{className:"lf-grid"},Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(le.g)("defs",null,Object(le.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:M,x:"0",y:"0",width:f,height:f},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(le.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&hf(e.prototype,n),r&&hf(e,r),u}(le.a))||pf;gf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},s(52);function mf(t){return(mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Dg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return bf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return bf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _f,ri=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=Dg(n,2),o=r[0],u=r[1];mf(u)!=="object"&&(e[o]=u)}),Object(le.g)("line",e)};function Of(t){return(Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wf(Object(n),!0).forEach(function(r){Tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ef(t,e){return(Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Rg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hu(t);if(e){var o=Hu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ig(this,n)}}function Ig(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hu(t){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Sf,Lg=Pr(_f=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ef(i,a)})(u,t);var e,n,r,o=Rg(u);function u(){return Cg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,a=i.position,f=i.isShowHorizontal,v=i.isShowVertical,O=i.getStyle(),M=a.x,k=M===void 0?0:M,z=a.y,te=z===void 0?0:z,ye=Ca(Ca({x1:-1e5,y1:te,x2:1e5,y2:te},O),{},{stroke:f?O.stroke:"none"}),_e=Ca(Ca({x1:k,y1:-1e5,x2:k,y2:1e5},O),{},{stroke:v?O.stroke:"none"});return Object(le.g)("g",{className:"lf-snapline"},Object(le.g)(ri,ye),Object(le.g)(ri,_e))}}])&&xf(e.prototype,n),r&&xf(e,r),u}(le.a))||_f;function jf(t){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Pf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Pf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ro(t){var e=t.x,n=t.y,r=t.width,o=t.height,u=t.className,i=t.radius,a=e-r/2,f=n-o/2,v={};return Object.entries(t).forEach(function(O){var M=zg(O,2),k=M[0],z=M[1];jf(z)!=="object"&&(v[k]=z)}),v.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",i&&(v.rx=i,v.ry=i),v.x=a,v.y=f,Object(le.g)("rect",v)}function Mf(t){return(Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ea(){return(ea=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nf(Object(n),!0).forEach(function(r){Bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Df(t,e){return(Df=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Gg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gu(t);if(e){var o=Gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fg(this,n)}}function Fg(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gu(t){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}Ro.defaultProps={className:"",radius:""};var Tf,Ug=Pr(Sf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Df(i,a)})(u,t);var e,n,r,o=Gg(u);function u(){return Hg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,a=i.nodes,f=i.editConfigModel,v=f.hoverOutline,O=f.nodeSelectedOutline,M=[];return a.forEach(function(k){if(k.isHovered||k.isSelected){var z=k.isHovered,te=k.isSelected,ye=k.x,_e=k.y,Ne=k.width,xe=k.height;if(O&&te||v&&z){var Ee=k.getOutlineStyle(),Be={};if(Object.keys(Ee).forEach(function(Ve){Ve!=="hover"&&(Be[Ve]=Ee[Ve])}),z){var Qe=Ee.hover;Be=kf(kf({},Be),Qe)}M.push(Object(le.g)(Ro,ea({className:"lf-outline-node",x:ye,y:_e,width:Ne+10,height:xe+10},Be)))}}}),M}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,a=i.edges,f=i.editConfigModel,v=f.edgeSelectedOutline,O=f.hoverOutline,M=[],k=0;k<a.length;k++){var z=a[k];(v&&z.isSelected||O&&z.isHovered)&&(z.modelType===Rt.LINE_EDGE?M.push(this.getLineOutline(z)):z.modelType===Rt.POLYLINE_EDGE?M.push(this.getPolylineOutline(z)):z.modelType===Rt.BEZIER_EDGE&&M.push(this.getBezierOutline(z)))}return M}},{key:"getLineOutline",value:function(i){var a=i.startPoint,f=i.endPoint,v=(a.x+f.x)/2,O=(a.y+f.y)/2,M=Math.abs(a.x-f.x)+10,k=Math.abs(a.y-f.y)+10,z=i.getOutlineStyle();return Object(le.g)(Ro,ea({className:"lf-outline-edge",x:v,y:O,width:M,height:k},z))}},{key:"getPolylineOutline",value:function(i){var a=i.points,f=Ni(a),v=Qi(f,8),O=v.x,M=v.y,k=v.width,z=v.height,te=i.getOutlineStyle();return Object(le.g)(Ro,ea({className:"lf-outline",x:O,y:M,width:k,height:z},te))}},{key:"getBezierOutline",value:function(i){var a=i.path,f=Aa(a),v=Qi(f,8),O=v.x,M=v.y,k=v.width,z=v.height,te=i.getOutlineStyle();return Object(le.g)(Ro,ea({className:"lf-outline",x:O,y:M,width:k,height:z},te))}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Af(e.prototype,n),r&&Af(e,r),u}(le.a))||Sf;function Cf(t){return(Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Xg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Rf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Rf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ta(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.r,i=u===void 0?4:u,a=t.className,f={cx:n,cy:o,r:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(v){var O=Xg(v,2),M=O[0],k=O[1];Cf(k)!=="object"&&(f[M]=k)}),f.className=a?"lf-basic-shape ".concat(a):"lf-basic-shape",Object(le.g)("circle",f)}function If(t){return(If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Vg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Lf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Lf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ra(){return(Ra=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function zf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hf(t,e,n){return e&&Bf(t.prototype,e),n&&Bf(t,n),t}function Gf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ff(t,e)}function Ff(t,e){return(Ff=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Uf(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fu(t);if(e){var o=Fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wg(this,n)}}function Wg(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ia(t)}function Ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fu(t){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Uu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xf,Vf=function(t){Gf(n,t);var e=Uf(n);function n(){var r;return zf(this,n),Uu(Ia(r=e.call(this)),"dragHandler",void 0),Uu(Ia(r),"onDraging",function(o){var u=o.event,i=r.props,a=i.graphModel,f=i.bezierModel,v=i.type,O=a.getPointByClient({x:u.clientX,y:u.clientY}).canvasOverlayPosition,M=O.x,k=O.y;f.updateAdjustAnchor({x:M,y:k},v)}),Uu(Ia(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new ni({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return Hf(n,[{key:"render",value:function(){var r=this,o=this.props.position,u=o.x,i=o.y,a=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(le.g)(ta,Ra({className:"lf-bezier-adjust-anchor",x:u,y:i},a,{onMouseDown:function(f){r.dragHandler.handleMouseDown(f)}}))}}]),n}(le.a),Yg=Pr(Tf=function(t){Gf(n,t);var e=Uf(n);function n(){return zf(this,n),e.apply(this,arguments)}return Hf(n,[{key:"getBezierAdjust",value:function(r,o){var u=r.path,i=r.id,a=Vg(Aa(u),4),f=a[0],v=a[1],O=a[2],M=a[3],k=r.getEdgeStyle().adjustLine,z=[];return z.push(Object(le.g)(ri,Ra({x1:f.x,y1:f.y,x2:v.x,y2:v.y},k))),z.push(Object(le.g)(Vf,{position:v,bezierModel:r,graphModel:o,key:"".concat(i,"_ePre"),type:"sNext"})),z.push(Object(le.g)(ri,Ra({x1:M.x,y1:M.y,x2:O.x,y2:O.y},k))),z.push(Object(le.g)(Vf,{position:O,bezierModel:r,graphModel:o,key:"".concat(i,"_sNext"),type:"ePre"})),z}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,o=r.edges,u=[],i=0;i<o.length;i++){var a=o[i];a.isSelected&&a.modelType===Rt.BEZIER_EDGE&&a.draggable&&u.push(this.getBezierAdjust(a,r))}return u}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(le.a))||Tf;function Wf(t){return(Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Zg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zf(t,e){return(Zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Kg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xu(t);if(e){var o=Xu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $g(this,n)}}function $g(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Xu(t){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Kf,Jg=Pr(Xf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Zf(i,a)})(u,t);var e,n,r,o=Kg(u);function u(){return Zg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props.children;return Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(le.g)("g",{transform:i},a))}}])&&Yf(e.prototype,n),r&&Yf(e,r),u}(le.a))||Xf;function $f(t){return($f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Jf(){return(Jf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Qg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qf(t,e){return(qf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function qg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vu(t);if(e){var o=Vu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return em(this,n)}}function em(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Vu(t){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var tm=Pr(Kf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&qf(i,a)})(u,t);var e,n,r,o=qg(u);function u(){return Qg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getComponent",value:function(i,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",v=this.props.getView,O=v(i.type);return Object(le.g)(O,{key:i.id,model:i,graphModel:a,overlay:f})}},{key:"render",value:function(){var i=this,a=this.props,f=a.graphModel,v=a.tool,O=a.options,M=a.dnd,k=a.snaplineModel,z={};O.width&&(z.width="".concat(f.width,"px")),O.height&&(z.height="".concat(f.height,"px"));var te=f.fakerNode,ye=f.editConfigModel.adjustEdge;return Object(le.g)("div",{className:"lf-graph",style:z},Object(le.g)(mg,{graphModel:f,dnd:M},Object(le.g)("g",{className:"lf-base"},Vi(f.sortElements,function(_e){return i.getComponent(_e,f)})),te?this.getComponent(te,f):""),Object(le.g)(Jg,{graphModel:f},Object(le.g)(Ug,{graphModel:f}),ye?Object(le.g)(Yg,{graphModel:f}):"",O.isSilentMode||O.snapline===!1?"":Object(le.g)(Lg,{snaplineModel:k})),Object(le.g)(xg,{graphModel:f,tool:v}),O.background&&Object(le.g)(Pg,{background:O.background}),O.grid&&Object(le.g)(gf,Jf({},O.grid,{graphModel:f})))}}])&&Qf(e.prototype,n),r&&Qf(e,r),u}(le.a))||Kf;function ep(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ep(Object(n),!0).forEach(function(r){_o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nm=function(){function t(o){var u=this;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),_o(this,"nodeConfig",void 0),_o(this,"lf",void 0),_o(this,"fakerNode",void 0),_o(this,"stopDrag",function(){u.nodeConfig=null,window.document.removeEventListener("mouseup",u.stopDrag)}),_o(this,"dragEnter",function(a){u.nodeConfig&&!u.fakerNode&&(u.fakerNode=u.lf.createFakerNode(La(La({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY}))))}),_o(this,"onDragOver",function(a){if(a.preventDefault(),u.fakerNode){var f=u.clientToLocalPoint({x:a.clientX,y:a.clientY}),v=f.x,O=f.y;u.fakerNode.moveTo(v,O);var M=u.fakerNode.getData();u.lf.setNodeSnapLine(M),u.lf.graphModel.eventCenter.emit(Et.NODE_DND_DRAG,{data:M})}return!1}),_o(this,"onDragLeave",function(){u.fakerNode&&(u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)}),_o(this,"onDrop",function(a){if(u.lf.graphModel&&a&&u.nodeConfig){var f=u.lf.addNode(La(La({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY})));a.preventDefault(),a.stopPropagation(),u.nodeConfig=null,u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null;var v=f.getData();u.lf.graphModel.eventCenter.emit(Et.NODE_DND_ADD,{data:v})}});var i=o.lf;this.lf=i}var e,n,r;return e=t,(n=[{key:"clientToLocalPoint",value:function(o){var u=o.x,i=o.y,a=Si(this.lf.options,["grid","size"]),f=this.lf.graphModel.getPointByClient({x:u,y:i}).canvasOverlayPosition,v=f.x,O=f.y;return{x:Mi(v,a),y:Mi(O,a)}}},{key:"startDrag",value:function(o){this.nodeConfig=o,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&tp(e.prototype,n),r&&tp(e,r),t}();function np(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(t.grid=Z({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Z({},op,t)}var Ft,rp,op={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function ip(t){return(ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ap(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ap(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ap(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function up(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?up(Object(n),!0).forEach(function(r){lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function om(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ba(){return(Ba=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=im(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function im(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=oi(t))!==null;);return t}function cp(t,e){return(cp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function am(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oi(t);if(e){var o=oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return um(this,n)}}function um(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ha(t)}function Ha(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oi(t){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function lp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Or(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Yu=(rp=Or((Ft=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&cp(i,a)})(u,t);var e,n,r,o=am(u);function u(){var i;om(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return lp(Ha(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.BEZIER_EDGE),rm(Ha(i),"path",rp,Ha(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=100,Ba(oi(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return za(za({},Ba(oi(u.prototype),"getEdgeStyle",this).call(this)),on(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,a=0;return this.pointsList.forEach(function(f){var v=f.x,O=f.y;i+=v,a+=O}),{x:i/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=Ba(oi(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return za(za({},i),{},{pointsList:a})}},{key:"getControls",value:function(){var i=this.startPoint,a=this.endPoint;return Al({start:i,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var a=Wu(i,4),f=a[0],v=a[1],O=a[2],M=a[3];return"M ".concat(f.x," ").concat(f.y,`
    C `).concat(v.x," ").concat(v.y,`,
    `).concat(O.x," ").concat(O.y,`,
    `).concat(M.x," ").concat(M.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),a=i.sNext,f=i.ePre;this.updatePath(a,f)}},{key:"updatePath",value:function(i,a){var f={x:this.startPoint.x,y:this.startPoint.y},v={x:this.endPoint.x,y:this.endPoint.y};if(!i||!a){var O=this.getControls();i=O.sNext,a=O.ePre}this.pointsList=[f,i,a,v],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a;var f=Wu(this.pointsList,3),v=f[1],O=f[2];v.x+=i,v.y+=a,this.updatePath(v,O)}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a;var f=Wu(this.pointsList,3),v=f[1],O=f[2];O.x+=i,O.y+=a,this.updatePath(v,O)}},{key:"updateAdjustAnchor",value:function(i,a){a==="sNext"?this.pointsList[1]=i:a==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,v=i.sourceNode,O=i.targetNode,M=Al({start:a,end:f,sourceNode:v,targetNode:O,offset:this.offset}),k=M.sNext,z=M.ePre;this.pointsList=[a,k,z,f],this.initPoints()}}])&&sp(e.prototype,n),r&&sp(e,r),u}(Eu)).prototype,"path",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Or(Ft.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"initPoints"),Ft.prototype),Or(Ft.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updatePoints"),Ft.prototype),Or(Ft.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateStartPoint"),Ft.prototype),Or(Ft.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateEndPoint"),Ft.prototype),Or(Ft.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"moveStartPoint"),Ft.prototype),Or(Ft.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"moveEndPoint"),Ft.prototype),Or(Ft.prototype,"updateAdjustAnchor",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateAdjustAnchor"),Ft.prototype),Or(Ft.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"getAdjustStart"),Ft.prototype),Or(Ft.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"getAdjustEnd"),Ft.prototype),Or(Ft.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Ft.prototype,"updateAfterAdjustStartAndEnd"),Ft.prototype),Ft),pt,fp,pp,dp,hp,yp,vp,gp,mp,bp,_p,Op,wp,xp,Ep,Sp,jp,Pp,sm=function(t){return t==null};function Mp(t){return(Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cm(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(f,v){if(!!f){if(typeof f=="string")return Np(f,v);var O=Object.prototype.toString.call(f).slice(8,-1);if(O==="Object"&&f.constructor&&(O=f.constructor.name),O==="Map"||O==="Set")return Array.from(f);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return Np(f,v)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return i=f.done,f},e:function(f){a=!0,u=f},f:function(){try{i||n.return==null||n.return()}finally{if(a)throw u}}}}function Np(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kp(Object(n),!0).forEach(function(r){hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ap(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ut(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Io,Dp,wo=(fp=Ut((pt=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),hr(this,"id",ei()),Sn(this,"type",fp,this),Sn(this,"x",pp,this),Sn(this,"y",dp,this),Sn(this,"text",hp,this),Sn(this,"properties",yp,this),Sn(this,"_width",vp,this),Sn(this,"_height",gp,this),Sn(this,"anchorsOffset",mp,this),Sn(this,"isSelected",bp,this),Sn(this,"isHovered",_p,this),Sn(this,"isDragging",Op,this),Sn(this,"isHitable",wp,this),Sn(this,"draggable",xp,this),Sn(this,"visible",Ep,this),hr(this,"graphModel",void 0),Sn(this,"zIndex",Sp,this),Sn(this,"state",jp,this),Sn(this,"autoToFront",Pp,this),hr(this,"BaseType",yn.NODE),hr(this,"modelType",Rt.NODE),hr(this,"additionStateData",void 0),hr(this,"targetRules",[]),hr(this,"sourceRules",[]),hr(this,"moveRules",[]),hr(this,"hasSetTargetRules",!1),hr(this,"hasSetSourceRules",!1),this.graphModel=u,this.initNodeData(o),this.setAttributes()}var e,n,r;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(o){this._width=o}},{key:"height",get:function(){return this._height},set:function(o){this._height=o}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}this.formatText(o),Z(this,function(f){return Wi(f,["id","type","x","y","text","properties"])}(o)),this.graphModel.overlapMode===rr.INCREASE&&(this.zIndex=o.zIndex||wu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(o){o.text||(o.text={value:"",x:o.x,y:o.y,draggable:!1,editable:!0}),o.text&&typeof o.text=="string"?o.text={value:o.text,x:o.x,y:o.y,draggable:!1,editable:!0}:o.text&&o.text.editable===void 0&&(o.text.editable=!0)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f=this.properties;Object(p.x)(f)&&(f=Object(p.I)(f));var v={id:this.id,type:this.type,x:this.x,y:this.y,properties:f};return this.graphModel.overlapMode===rr.INCREASE&&(v.zIndex=this.zIndex),a&&(v.text={x:u,y:i,value:a}),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Oo({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.nodeText;return on(o)}},{key:"getAnchorStyle",value:function(o){var u=this.graphModel.theme.anchor;return on(u)}},{key:"getAnchorLineStyle",value:function(){var o=this.graphModel.theme.anchorLine;return on(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return on(o)}},{key:"isAllowConnectedAsSource",value:function(o,u,i){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var f,v=!0,O=0;O<a.length;O++){var M=a[O];if(!M.validate.call(this,this,o,u,i)){v=!1,f=M.message;break}}return{isAllPass:v,msg:f}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(o,u,i){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var f,v=!0,O=0;O<a.length;O++){var M=a[O];if(!M.validate.call(this,o,this,u,i)){v=!1,f=M.message;break}}return{isAllPass:v,msg:f}}},{key:"isAllowMoveNode",value:function(o,u){var i,a=!0,f=!0,v=cm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(v.s();!(i=v.n()).done;){var O=(0,i.value)(this,o,u);if(!O)return!1;if(Mp(O)==="object"){var M=O;if(M.x===!1&&M.y===!1)return!1;a=a&&M.x,f=f&&M.y}}}catch(k){v.e(k)}finally{v.f()}return{x:a,y:f}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var o=this.anchorsOffset,u=this.id,i=this.x,a=this.y;return o&&o.length>0?o.map(function(f,v){return f.length?(f=f,{id:"".concat(u,"_").concat(v),x:i+f[0],y:a+f[1]}):Oo(Oo({},f=f),{},{x:i+f.x,y:a+f.y,id:f.id||"".concat(u,"_").concat(v)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(o){if(!sm(o))for(var u=0;u<this.anchors.length;u++){var i=this.anchors[u];if(i.id===o)return i}}},{key:"addNodeMoveRules",value:function(o){this.moveRules.includes(o)||this.moveRules.push(o)}},{key:"move",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=!1,f=!1;if(i)a=!0,f=!0;else{var v=this.isAllowMoveNode(o,u);typeof v=="boolean"?(a=v,f=v):(a=v.x,f=v.y)}if(a){var O=this.x+o;this.x=O,this.text&&this.moveText(o,0)}if(f){var M=this.y+u;this.y=M,this.text&&this.moveText(0,u)}return a||f}},{key:"moveTo",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=o-this.x,f=u-this.y;return!(!i&&!this.isAllowMoveNode(a,f)||(this.text&&this.text&&this.moveText(a,f),this.x=o,this.y=u,0))}},{key:"moveText",value:function(o,u){var i=this.text,a=i.x,f=i.y,v=i.value,O=i.draggable,M=i.editable;this.text={value:v,editable:M,draggable:O,x:a+o,y:f+u}}},{key:"updateText",value:function(o){this.text=Oo(Oo({},this.text),{},{value:o})}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"setProperty",value:function(o,u){this.properties=Oo(Oo({},this.properties),{},hr({},o,Yr(u))),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=Oo(Oo({},this.properties),Yr(o)),this.setAttributes()}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=o}},{key:"updateAttributes",value:function(o){Z(this,o)}}])&&Ap(e.prototype,n),r&&Ap(e,r),t}()).prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pp=Ut(pt.prototype,"x",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dp=Ut(pt.prototype,"y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Ut(pt.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),yp=Ut(pt.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vp=Ut(pt.prototype,"_width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),gp=Ut(pt.prototype,"_height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),mp=Ut(pt.prototype,"anchorsOffset",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bp=Ut(pt.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_p=Ut(pt.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Op=Ut(pt.prototype,"isDragging",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wp=Ut(pt.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xp=Ut(pt.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ep=Ut(pt.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sp=Ut(pt.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),jp=Ut(pt.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pp=Ut(pt.prototype,"autoToFront",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ut(pt.prototype,"incoming",[p.m],Object.getOwnPropertyDescriptor(pt.prototype,"incoming"),pt.prototype),Ut(pt.prototype,"outgoing",[p.m],Object.getOwnPropertyDescriptor(pt.prototype,"outgoing"),pt.prototype),Ut(pt.prototype,"addNodeMoveRules",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"addNodeMoveRules"),pt.prototype),Ut(pt.prototype,"move",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"move"),pt.prototype),Ut(pt.prototype,"moveTo",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"moveTo"),pt.prototype),Ut(pt.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"moveText"),pt.prototype),Ut(pt.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateText"),pt.prototype),Ut(pt.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"setSelected"),pt.prototype),Ut(pt.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"setHovered"),pt.prototype),Ut(pt.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"setHitable"),pt.prototype),Ut(pt.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"setElementState"),pt.prototype),Ut(pt.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"setProperty"),pt.prototype),Ut(pt.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"setProperties"),pt.prototype),Ut(pt.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"setZIndex"),pt.prototype),Ut(pt.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(pt.prototype,"updateAttributes"),pt.prototype),pt);function Tp(t){return(Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Cp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cp(Object(n),!0).forEach(function(r){Bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ip(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lp(){return(Lp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=pm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function pm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=na(t))!==null;);return t}function zp(t,e){return(zp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function dm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=na(t);if(e){var o=na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hm(this,n)}}function hm(t,e){if(e&&(Tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ga(t)}function Ga(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function na(t){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Bp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zu(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Un,Hp,Gp,Ku=(Dp=Zu((Io=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&zp(i,a)})(u,t);var e,n,r,o=dm(u);function u(){var i;fm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Bp(Ga(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.CIRCLE_NODE),lm(Ga(i),"r",Dp,Ga(i)),i}return e=u,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Lp(na(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return Rp(Rp({},i),on(a))}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.r;return[{x:i,y:a-f,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+f,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&Ip(e.prototype,n),r&&Ip(e,r),u}(wo)).prototype,"r",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Zu(Io.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Io.prototype,"width"),Io.prototype),Zu(Io.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Io.prototype,"height"),Io.prototype),Io);s(127);function Fp(t){return(Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $u(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Up(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Up(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Up(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xp(Object(n),!0).forEach(function(r){$p(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ym(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zp(){return(Zp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=vm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function vm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ra(t))!==null;);return t}function Kp(t,e){return(Kp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function gm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ra(t);if(e){var o=ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mm(this,n)}}function mm(t,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Di(t)}function Di(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ra(t){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function $p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ti(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var xo,Jp,Qp,Ju=(Hp=Ti((Un=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Kp(i,a)})(u,t);var e,n,r,o=gm(u);function u(){var i;ym(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return $p(Di(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.DIAMOND_NODE),Wp(Di(i),"rx",Hp,Di(i)),Wp(Di(i),"ry",Gp,Di(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=Zp(ra(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Vp(Vp({},i),on(a))}},{key:"points",get:function(){var i=this.x,a=this.y,f=this.rx,v=this.ry;return[[i,a-v],[i+f,a],[i,a+v],[i-f,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=$u(f,1)[0];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=$u(f,2)[1];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(a,f){var v=$u(a,2);return{x:v[0],y:v[1],id:"".concat(i.id,"_").concat(f)}})}}])&&Yp(e.prototype,n),r&&Yp(e,r),u}(wo)).prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Gp=Ti(Un.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Ti(Un.prototype,"points",[p.m],Object.getOwnPropertyDescriptor(Un.prototype,"points"),Un.prototype),Ti(Un.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(Un.prototype,"pointsPosition"),Un.prototype),Ti(Un.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Un.prototype,"width"),Un.prototype),Ti(Un.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Un.prototype,"height"),Un.prototype),Un);function qp(t){return(qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ed(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ed(Object(n),!0).forEach(function(r){ad(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function od(){return(od=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=_m(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function _m(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=oa(t))!==null;);return t}function id(t,e){return(id=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Om(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oa(t);if(e){var o=oa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wm(this,n)}}function wm(t,e){if(e&&(qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(t)}function Ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oa(t){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ad(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fa(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var wr,ud,Qu=(Jp=Fa((xo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&id(i,a)})(u,t);var e,n,r,o=Om(u);function u(){var i;bm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return ad(Ci(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.ELLIPSE_NODE),nd(Ci(i),"rx",Jp,Ci(i)),nd(Ci(i),"ry",Qp,Ci(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=od(oa(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return td(td({},i),on(a))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.rx,v=this.ry;return[{x:i,y:a-v,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+v,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&rd(e.prototype,n),r&&rd(e,r),u}(wo)).prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Qp=Fa(xo.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Fa(xo.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(xo.prototype,"width"),xo.prototype),Fa(xo.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(xo.prototype,"height"),xo.prototype),xo);function sd(t){return(sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return cd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return cd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ld(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ld(Object(n),!0).forEach(function(r){yd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Em(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dd(){return(dd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Sm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Sm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ia(t))!==null;);return t}function hd(t,e){return(hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function jm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ia(t);if(e){var o=ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ua(t)}function Ua(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function yd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xa(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var vd,gd,es=(ud=Xa((wr=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&hd(i,a)})(u,t);var e,n,r,o=jm(u);function u(){var i;Em(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return yd(Ua(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.POLYGON_NODE),xm(Ua(i),"points",ud,Ua(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=dd(ia(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return fd(fd({},i),on(a))}},{key:"pointsPosition",get:function(){var i=this.x,a=this.y,f=this.width,v=this.height;return this.points.map(function(O){return{x:O[0]+i-f/2,y:O[1]+a-v/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=qu(f,1)[0];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=qu(f,2)[1];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this,a=this.x,f=this.y,v=this.width,O=this.height;return this.points.map(function(M,k){var z=qu(M,2),te=z[0],ye=z[1];return{x:a+te-v/2,y:f+ye-O/2,id:"".concat(i.id,"_").concat(k)}})}}])&&pd(e.prototype,n),r&&pd(e,r),u}(wo)).prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Xa(wr.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(wr.prototype,"pointsPosition"),wr.prototype),Xa(wr.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(wr.prototype,"width"),wr.prototype),Xa(wr.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(wr.prototype,"height"),wr.prototype),wr);function md(t){return(md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bd(Object(n),!0).forEach(function(r){Ed(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wd(){return(wd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=km(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function km(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=aa(t))!==null;);return t}function xd(t,e){return(xd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Am(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=aa(t);if(e){var o=aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dm(this,n)}}function Dm(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Va(t)}function Va(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aa(t){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ii,ts=(gd=function(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}((vd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&xd(i,a)})(u,t);var e,n,r,o=Am(u);function u(){var i;Nm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Ed(Va(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.RECT_NODE),Mm(Va(i),"radius",gd,Va(i)),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,v=this.height;return[{x:i,y:a-v/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+v/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=wd(aa(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return _d(_d({},i),on(a))}}])&&Od(e.prototype,n),r&&Od(e,r),u}(wo)).prototype,"radius",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vd);function Sd(t){return(Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jd(Object(n),!0).forEach(function(r){Dd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Md(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nd(){return(Nd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Cm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Cm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ua(t))!==null;);return t}function kd(t,e){return(kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Rm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ua(t);if(e){var o=ua(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Im(this,n)}}function Im(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ad(t)}function Ad(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ua(t){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Dd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Td(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var ns=(Td((ii=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&kd(i,a)})(u,t);var e,n,r,o=Rm(u);function u(){var i;Tm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Dd(Ad(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.TEXT_NODE),i}return e=u,(n=[{key:"getTextStyle",value:function(){var i=Nd(ua(u.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Pd(Pd({},i),on(a))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return Ou({rows:i,fontSize:a,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return Ou({rows:i,fontSize:a,rowsLength:i.length}).height}}])&&Md(e.prototype,n),r&&Md(e,r),u}(wo)).prototype,"width",[p.m],Object.getOwnPropertyDescriptor(ii.prototype,"width"),ii.prototype),Td(ii.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(ii.prototype,"height"),ii.prototype),ii);function Cd(t){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Lm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Id(t,e){return(Id=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function zm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rs(t);if(e){var o=rs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ld(t)}function Ld(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Hm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $r,zd,Bd,Hd,os=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Id(i,a)})(u,t);var e,n,r,o=zm(u);function u(){var i;Lm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Hm(Ld(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.HTML_NODE),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,v=this.height;return[{x:i,y:a-v/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+v/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}}])&&Rd(e.prototype,n),r&&Rd(e,r),u}(wo);function Gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function is(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ud(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sa(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Xd=(zd=sa(($r=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Ud(this,"graphModel",void 0),is(this,"isShowHorizontal",zd,this),is(this,"isShowVertical",Bd,this),is(this,"position",Hd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=o}var e,n,r;return e=t,(n=[{key:"getStyle",value:function(){return function(o){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?Gd(Object(i),!0).forEach(function(a){Ud(o,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Gd(Object(i)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(i,a))})}return o}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(o,u){for(var i=o.x,a=o.y,f=!1,v=!1,O=0;O<u.length;O++){var M=u[O];if(M.id!==o.id&&(i===M.x&&(f=!0),a===M.y&&(v=!0),f&&v))break}return{isShowVertical:f,isShowHorizontal:v,position:{x:i,y:a}}}},{key:"getHorizontalSnapline",value:function(o,u){var i,a,f=!1,v=o.id;if(v){var O=this.graphModel.fakerNode;if(O&&O.id===v)a=or(O);else{var M=this.graphModel.getNodeModelById(v);a=or(M)}}for(var k=0;k<u.length;k++){var z=u[k];if(z.id!==o.id){var te=or(z);if(te.minY===a.minY||te.maxY===a.minY){f=!0,i=a.minY;break}if(te.minY===a.maxY||te.maxY===a.maxY){f=!0,i=a.maxY;break}}}return Z({isShowHorizontal:f,position:{y:i}})}},{key:"getVerticalSnapline",value:function(o,u){var i,a,f=!1,v=o.id;if(v){var O=this.graphModel.fakerNode;if(O&&O.id===v)a=or(O);else{var M=this.graphModel.getNodeModelById(v);a=or(M)}}for(var k=0;k<u.length;k++){var z=u[k];if(z.id!==o.id){var te=or(z);if(te.minX===a.minX||te.maxX===a.minX){f=!0,i=a.minX;break}if(te.minX===a.maxX||te.maxX===a.maxX){f=!0,i=a.maxX;break}}}return Z({isShowVertical:f,position:{x:i}})}},{key:"getSnapLinePosition",value:function(o,u){var i=this.getCenterSnapLine(o,u),a=i.isShowHorizontal,f=i.isShowVertical;if(!a){var v=this.getHorizontalSnapline(o,u);v.isShowHorizontal&&(i.isShowHorizontal=v.isShowHorizontal,i.position.y=v.position.y)}if(!f){var O=this.getVerticalSnapline(o,u);O.isShowVertical&&(i.isShowVertical=O.isShowVertical,i.position.x=O.position.x)}return i}},{key:"setSnaplineInfo",value:function(o){var u=o.isShowHorizontal,i=o.isShowVertical,a=o.position;this.position=a,this.isShowHorizontal=u,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(o){var u=this.graphModel.nodes,i=this.getSnapLinePosition(o,u);this.setSnaplineInfo(i)}}])&&Fd(e.prototype,n),r&&Fd(e,r),t}()).prototype,"isShowHorizontal",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd=sa($r.prototype,"isShowVertical",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hd=sa($r.prototype,"position",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sa($r.prototype,"clearSnapline",[p.k],Object.getOwnPropertyDescriptor($r.prototype,"clearSnapline"),$r.prototype),sa($r.prototype,"setNodeSnapLine",[p.k],Object.getOwnPropertyDescriptor($r.prototype,"setNodeSnapLine"),$r.prototype),$r);function Vd(t){return(Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wa(){return(Wa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Wd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wd(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Zd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Zd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $d(t,e){return($d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Fm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=as(t);if(e){var o=as(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Um(this,n)}}function Um(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(t)}function Jr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t){return(as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Qr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xm=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&$d(i,a)})(u,t);var e,n,r,o=Fm(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Qr(Jr(i=o.call(this)),"preTargetNode",void 0),Qr(Jr(i),"sourceRuleResults",void 0),Qr(Jr(i),"targetRuleResults",void 0),Qr(Jr(i),"dragHandler",void 0),Qr(Jr(i),"t",void 0),Qr(Jr(i),"onDragStart",function(a){var f=a.event,v=i.props,O=v.anchorData,M=v.nodeModel,k=v.graphModel,z=k.overlapMode;k.selectNodeById(M.id),z!==rr.INCREASE&&M.autoToFront&&k.toFront(M.id),k.eventCenter.emit(Et.ANCHOR_DRAGSTART,{data:O,e:f,nodeModel:M}),i.setState({startX:O.x,startY:O.y,endX:O.x,endY:O.y})}),Qr(Jr(i),"onDraging",function(a){var f=a.event,v=i.props,O=v.graphModel,M=v.nodeModel,k=v.anchorData,z=O.transformModel,te=O.eventCenter,ye=O.width,_e=O.height,Ne=O.editConfigModel,xe=f.clientX,Ee=f.clientY,Be=O.getPointByClient({x:xe,y:Ee}),Qe=Be.domOverlayPosition,Ve=Qe.x,ot=Qe.y,gt=Be.canvasOverlayPosition,St=gt.x,kt=gt.y;i.t&&clearInterval(i.t);var Qt=[];Ve<10?Qt=[10,0]:Ve+10>ye?Qt=[-10,0]:ot<10?Qt=[0,10]:ot+10>_e&&(Qt=[0,-10]),i.setState({endX:St,endY:kt,draging:!0}),i.moveAnchorEnd(St,kt),Qt.length>0&&!Ne.stopMoveGraph&&(i.t=setInterval(function(){var dn=Gm(Qt,2),jn=dn[0],Vn=dn[1];z.translate(jn,Vn);var Pn=i.state,Po=Pn.endX,no=Pn.endY;i.setState({endX:Po-jn,endY:no-Vn}),i.moveAnchorEnd(Po-jn,no-Vn)},50)),te.emit(Et.ANCHOR_DRAG,{data:k,e:f,nodeModel:M})}),Qr(Jr(i),"onDragEnd",function(a){i.t&&clearInterval(i.t),i.checkEnd(),i.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var f=i.props,v=f.graphModel,O=f.nodeModel,M=f.anchorData;v.eventCenter.emit(Et.ANCHOR_DROP,{data:M,e:a,nodeModel:O})}),Qr(Jr(i),"checkEnd",function(){var a=i.props,f=a.graphModel,v=a.nodeModel,O=a.anchorData,M=O.x,k=O.y,z=O.id,te=f.edgeType,ye=i.state,_e=ye.endX,Ne=ye.endY,xe=ye.draging,Ee=Oa({x:_e,y:Ne},f);if(i.preTargetNode&&i.preTargetNode.state!==Yt.DEFAULT&&i.preTargetNode.setElementState(Yt.DEFAULT),xe&&Ee&&Ee.node){var Be=Ee.node,Qe=Ee.anchor.id,Ve="".concat(v.id,"_").concat(Be.id,"_").concat(Qe,"_").concat(z),ot=i.sourceRuleResults.get(Ve)||{},gt=ot.isAllPass,St=ot.msg,kt=i.targetRuleResults.get(Ve)||{},Qt=kt.isAllPass,dn=kt.msg;if(gt&&Qt)Be.setElementState(Yt.DEFAULT),f.addEdge({type:te,sourceNodeId:v.id,sourceAnchorId:z,startPoint:{x:M,y:k},targetNodeId:Ee.node.id,targetAnchorId:Ee.anchor.id,endPoint:{x:Ee.anchor.x,y:Ee.anchor.y}});else{var jn=Be.getData();f.eventCenter.emit(Et.CONNECTION_NOT_ALLOWED,{data:jn,msg:dn||St})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,draging:!1},i.dragHandler=new ni({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"getAnchorShape",value:function(){var i=this.props,a=i.anchorData,f=i.style,v=i.node.getAnchorShape(a);if(v)return v;var O=a.x,M=a.y,k=Yd(Yd({},f),f.hover);return Object(le.g)("g",null,Object(le.g)(ta,Wa({className:"lf-node-anchor-hover"},k,{x:O,y:M})),Object(le.g)(ta,Wa({className:"lf-node-anchor"},f,{x:O,y:M})))}},{key:"moveAnchorEnd",value:function(i,a){var f=this.props,v=f.graphModel,O=f.nodeModel,M=f.anchorData,k=Oa({x:i,y:a},v);if(k){var z=k.node,te=k.anchor.id;if(this.preTargetNode&&this.preTargetNode!==k.node&&this.preTargetNode.setElementState(Yt.DEFAULT),M.id===te)return;this.preTargetNode=z;var ye="".concat(O.id,"_").concat(z.id,"_").concat(te,"_").concat(M.id);if(!this.targetRuleResults.has(ye)){var _e=k.anchor,Ne=O.isAllowConnectedAsSource(z,M,_e),xe=z.isAllowConnectedAsTarget(O,M,_e);this.sourceRuleResults.set(ye,wa(Ne)),this.targetRuleResults.set(ye,wa(xe))}var Ee=this.sourceRuleResults.get(ye).isAllPass,Be=this.targetRuleResults.get(ye).isAllPass;Ee&&Be?z.setElementState(Yt.ALLOW_CONNECT):z.setElementState(Yt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Yt.DEFAULT&&this.preTargetNode.setElementState(Yt.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,a=i.startX,f=i.startY,v=i.endX,O=i.endY;return Wr(a,f,v,O)>10}},{key:"render",value:function(){var i=this,a=this.state,f=a.startX,v=a.startY,O=a.endX,M=a.endY,k=this.props,z=k.anchorData.edgeAddable,te=k.edgeStyle;return Object(le.g)("g",{className:"lf-anchor"},Object(le.g)("g",{onMouseDown:function(ye){z!==!1&&i.dragHandler.handleMouseDown(ye)}},this.getAnchorShape()),this.isShowLine()&&Object(le.g)(ri,Wa({x1:f,y1:v,x2:O,y2:M},te,{"pointer-events":"none"})))}}])&&Kd(e.prototype,n),r&&Kd(e,r),u}(le.a);s(63);function Jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jd(Object(n),!0).forEach(function(r){Wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qd(t){return(Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ym(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return qd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return qd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eh(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.value,i=t.fontSize,a=t.fill,f=a===void 0?"currentColor":a,v=t.overflowMode,O=v===void 0?"default":v,M=t.textWidth,k=M===void 0?"":M,z=t.model,te={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:f};if(Object.entries(t).forEach(function(Be){var Qe=Ym(Be,2),Ve=Qe[0],ot=Qe[1];Qd(ot)!=="object"&&(te[Ve]=ot)}),u){var ye=String(u).split(/[\r\n]/g),_e=ye.length;if(O!=="default"){var Ne=z.BaseType,xe=z.modelType;if(Ne===yn.NODE&&xe!==Rt.TEXT_NODE||Ne===yn.EDGE&&k)return function(Be){var Qe=Be.value,Ve=Be.fontSize,ot=Be.model,gt=Be.fontFamily,St=gt===void 0?"":gt,kt=Be.lineHeight,Qt=Be.wrapPadding,dn=Qt===void 0?"0, 0":Qt,jn=Be.overflowMode,Vn=Be.x,Pn=Be.y,Po=ot.width,no=ot.textHeight,Mo=Be.textWidth||Po,ha=String(Qe).split(/[\r\n]/g),Ja=ha.length,Qa=qc({rows:ha,style:{fontSize:"".concat(Ve,"px"),width:"".concat(Mo,"px"),fontFamily:St,lineHeight:kt,padding:dn},rowsLength:Ja,className:"lf-get-text-height"}),zi=ot.height>Qa?ot.height:Qa;no&&(zi=no);var Bi=jn==="ellipsis";return Object(le.g)("g",null,Object(le.g)("foreignObject",{width:Mo,height:zi,x:Vn-Mo/2,y:Pn-zi/2},Object(le.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:zi,width:Mo,padding:dn}},Object(le.g)("div",{className:Bi?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:Vm({},Be)},ha.map(function(Bo){return Object(le.g)("div",{className:"lf-node-text--auto-wrap-inner"},Bo)})))))}(t)}if(_e>1){var Ee=ye.map(function(Be,Qe){var Ve=(Qe-(_e-1)/2)*(i+2);return Object(le.g)("tspan",{className:"lf-text-tspan",x:n,y:o+Ve},Be)});return Object(le.g)("text",te,Ee)}return Object(le.g)("text",te,u)}}function th(t){return(th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nh(){return(nh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Zm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return rh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return rh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ih(t,e){return(ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Km(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=us(t);if(e){var o=us(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $m(this,n)}}function $m(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lo(t)}function Lo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function us(t){return(us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ai(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ah=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ih(i,a)})(u,t);var e,n,r,o=Km(u);function u(i){var a;(function(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")})(this,u),ai(Lo(a=o.call(this)),"dragHandler",void 0),ai(Lo(a),"sumDeltaX",0),ai(Lo(a),"sumDeltaY",0),ai(Lo(a),"stepDrag",void 0),ai(Lo(a),"onDraging",function(O){var M=O.deltaX,k=O.deltaY,z=a.props,te=z.model,ye=Zm(z.graphModel.transformModel.fixDeltaXY(M,k),2),_e=ye[0],Ne=ye[1];te.moveText(_e,Ne)}),ai(Lo(a),"dblClickHandler",function(){a.props.editable&&a.props.model.setElementState(Yt.TEXT_EDIT)}),ai(Lo(a),"mouseDownHandle",function(O){var M=a.props,k=M.draggable,z=M.graphModel.editConfigModel.nodeTextDraggable;(k||z)&&a.stepDrag.handleMouseDown(O)});var f=i.model,v=i.draggable;return a.stepDrag=new ni({onDraging:a.onDraging,step:1,model:f,isStopPropagation:v}),a}return e=u,(n=[{key:"getShape",value:function(){var i=this.props,a=i.model,f=i.graphModel,v=a.text,O=f.editConfigModel,M=v.value,k=v.x,z=v.y,te=v.editable,ye=v.draggable,_e={x:k,y:z,className:"",value:M};te?_e.className="lf-element-text":ye||O.nodeTextDraggable?_e.className="lf-text-draggable":_e.className="lf-text-disabled";var Ne=a.getTextStyle();return Object(le.g)(eh,nh({},_e,Ne,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return Object(le.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&oh(e.prototype,n),r&&oh(e,r),u}(le.a),Jm=window.navigator.userAgent.match(/MSIE|Trident/)!==null,ca=new Map,uh=function(t){var e=ca.get(t);e&&(window.cancelAnimationFrame(e),ca.delete(t))};function sh(t){return(sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ya(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ch(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ch(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fh(t,e){return(fh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Qm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ss(t);if(e){var o=ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(t)}function Ln(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ss(t){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Eo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&fh(i,a)})(u,t);var e,n,r,o=Qm(u);function u(i){var a;(function(k,z){if(!(k instanceof z))throw new TypeError("Cannot call a class as a function")})(this,u),Xn(Ln(a=o.call(this)),"t",void 0),Xn(Ln(a),"moveOffset",void 0),Xn(Ln(a),"stepDrag",void 0),Xn(Ln(a),"contextMenuTime",void 0),Xn(Ln(a),"startTime",void 0),Xn(Ln(a),"clickTimer",void 0),Xn(Ln(a),"onDragStart",function(k){var z=k.event,te=z.clientX,ye=z.clientY,_e=a.props,Ne=_e.model,xe=_e.graphModel.getPointByClient({x:te,y:ye}).canvasOverlayPosition,Ee=xe.x,Be=xe.y;a.moveOffset={x:Ne.x-Ee,y:Ne.y-Be}}),Xn(Ln(a),"onDraging",function(k){var z=k.event,te=a.props,ye=te.model,_e=te.graphModel,Ne=_e.editConfigModel,xe=_e.transformModel,Ee=_e.width,Be=_e.height,Qe=_e.gridSize;ye.isDragging=!0;var Ve=z.clientX,ot=z.clientY,gt=_e.getPointByClient({x:Ve,y:ot}).canvasOverlayPosition,St=gt.x,kt=gt.y,Qt=Ya(xe.CanvasPointToHtmlPoint([St,kt]),2),dn=Qt[0],jn=Qt[1];if(!(dn<0||jn<0||dn>Ee||jn>Be)){St+=a.moveOffset.x,kt+=a.moveOffset.y,St=Mi(St,Qe),kt=Mi(kt,Qe);var Vn,Pn,Po,no=Ya(xe.CanvasPointToHtmlPoint([St-ye.width/2,kt-ye.height/2]),2),Mo=no[0],ha=no[1],Ja=Ya(xe.CanvasPointToHtmlPoint([St+ye.width/2,kt+ye.height/2]),2),Qa=Ja[0],zi=Ja[1],Bi=Math.max(Qe,20),Bo=[];Mo<0?Bo=[Bi,0]:Qa>_e.width?Bo=[-Bi,0]:ha<0?Bo=[0,Bi]:zi>_e.height&&(Bo=[0,-Bi]),a.t&&uh(a.t),Bo.length>0&&!Ne.stopMoveGraph?a.t=(Vn=function(){var qa=Ya(Bo,2),eu=qa[0],rv=qa[1];xe.translate(eu,rv),_e.moveNode(ye.id,-eu/xe.SCALE_X,-rv/xe.SCALE_X)},Pn=ei(),Po=window.requestAnimationFrame(function qa(){if(Vn(),ca.get(Pn)){var eu=window.requestAnimationFrame(qa);ca.set(Pn,eu)}}),ca.set(Pn,Po),Pn):_e.moveNode2Coordinate(ye.id,St,kt)}}),Xn(Ln(a),"onDragEnd",function(){a.t&&uh(a.t),a.props.model.isDragging=!1}),Xn(Ln(a),"handleClick",function(k){if(a.startTime&&!(new Date().getTime()-a.startTime>200)){var z=a.props,te=z.model,ye=z.graphModel,_e={data:te.getData(),e:k,position:ye.getPointByClient({x:k.clientX,y:k.clientY})},Ne=k.button===2,xe=k.detail===2;if(!Ne){var Ee=ye.editConfigModel;ye.selectNodeById(te.id,Mc(k,Ee)),a.toFront(),xe?(Ee.nodeTextEdit&&te.text.editable&&(te.setSelected(!1),ye.setElementStateById(te.id,Yt.TEXT_EDIT)),ye.eventCenter.emit(Et.NODE_DBCLICK,_e)):(ye.eventCenter.emit(Et.ELEMENT_CLICK,_e),ye.eventCenter.emit(Et.NODE_CLICK,_e))}}}),Xn(Ln(a),"handleContextMenu",function(k){k.preventDefault();var z=a.props,te=z.model,ye=z.graphModel,_e=te.getData(),Ne=ye.getPointByClient({x:k.clientX,y:k.clientY});ye.setElementStateById(te.id,Yt.SHOW_MENU,Ne.domOverlayPosition),ye.selectNodeById(te.id),ye.eventCenter.emit(Et.NODE_CONTEXTMENU,{data:_e,e:k,position:Ne}),a.toFront()}),Xn(Ln(a),"handleMouseDown",function(k){var z=a.props,te=z.model,ye=z.graphModel;a.toFront(),a.startTime=new Date().getTime(),ye.editConfigModel.adjustNodePosition&&te.draggable&&a.stepDrag&&a.stepDrag.handleMouseDown(k)}),Xn(Ln(a),"setHoverON",function(k){if(!a.state.isHovered){a.setState({isHovered:!0});var z=a.props,te=z.model,ye=z.graphModel,_e=te.getData();te.setHovered(!0),ye.eventCenter.emit(Et.NODE_MOUSEENTER,{data:_e,e:k})}}),Xn(Ln(a),"setHoverOFF",function(k){a.setState({isHovered:!1});var z=a.props,te=z.model,ye=z.graphModel,_e=te.getData();te.setHovered(!1),ye.eventCenter.emit(Et.NODE_MOUSELEAVE,{data:_e,e:k})}),Xn(Ln(a),"onMouseOut",function(k){Jm&&a.setHoverOFF(k)});var f=i.graphModel,v=f.gridSize,O=f.eventCenter,M=i.model;return a.stepDrag=new ni({onDragStart:a.onDragStart,onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:v,eventType:"NODE",isStopPropagation:!1,eventCenter:O,model:M}),a.state={isHovered:!1},a}return e=u,r=[{key:"getModel",value:function(i){return i}}],(n=[{key:"getAnchorShape",value:function(i){return null}},{key:"getAnchors",value:function(){var i=this,a=this.props,f=a.model,v=a.graphModel,O=f.isSelected,M=f.isHitable,k=f.isDragging,z=this.state.isHovered;if(M&&(O||z)&&!k){var te=f.getAnchorLineStyle();return Vi(f.anchors,function(ye,_e){var Ne=f.getAnchorStyle(ye);return Object(le.g)(Xm,{anchorData:ye,node:i,style:Ne,edgeStyle:te,anchorIndex:_e,nodeModel:f,graphModel:v,setHoverOFF:i.setHoverOFF})})}return[]}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Yt.TEXT_EDIT)return"";if(a.text){var v=f.editConfigModel,O=!1;return(a.text.draggable||v.nodeTextDraggable)&&(O=!0),Object(le.g)(ah,{editable:v.nodeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:O})}}},{key:"getStateClassName",value:function(){var i=this.props.model,a=i.state,f=i.isDraging,v="lf-node";switch(a){case Yt.ALLOW_CONNECT:v+=" lf-node-allow";break;case Yt.NOT_ALLOW_CONNECT:v+=" lf-node-not-allow";break;default:v+=" lf-node-default"}return f&&(v+=" lf-isDragging"),v}},{key:"toFront",value:function(){var i=this.props,a=i.model,f=i.graphModel;f.overlapMode!==rr.INCREASE&&a.autoToFront&&f.toFront(a.id)}},{key:"render",value:function(){var i,a=this.props,f=a.model,v=a.graphModel,O=v.editConfigModel,M=O.hideAnchors,k=O.adjustNodePosition,z=v.gridSize,te=v.transformModel.SCALE_X,ye=f.isHitable,_e=f.draggable,Ne=Object(le.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),M?null:this.getAnchors());return ye?(k&&_e&&this.stepDrag.setStep(z*te),i=Object(le.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Ne)):i=Object(le.g)("g",{className:this.getStateClassName()},Ne),i}}])&&lh(e.prototype,n),r&&lh(e,r),u}(le.a);function ph(t){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dh(){return(dh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function eb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yh(t,e){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function tb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cs(t);if(e){var o=cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nb(this,n)}}function nb(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function cs(t){return(cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ls=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&yh(i,a)})(u,t);var e,n,r,o=tb(u);function u(){return eb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(le.g)(Ro,dh({},a,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&hh(e.prototype,n),r&&hh(e,r),u}(Eo);function vh(t){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gh(){return(gh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function rb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bh(t,e){return(bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ob(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fs(t);if(e){var o=fs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ib(this,n)}}function ib(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ps=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&bh(i,a)})(u,t);var e,n,r,o=ob(u);function u(){return rb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,v=i.r,O=i.getNodeStyle();return Object(le.g)(ta,gh({},O,{x:a,y:f,r:v}))}}])&&mh(e.prototype,n),r&&mh(e,r),u}(Eo);function _h(t){return(_h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ab(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Oh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Oh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wh(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(o){var u=ab(o,2),i=u[0],a=u[1];_h(a)!=="object"&&(r[i]=a)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(o){return o.join(",")}).join(" "),Object(le.g)("polygon",r)}function xh(t){return(xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Eh(){return(Eh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ub(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return(jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function sb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ds(t);if(e){var o=ds(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cb(this,n)}}function cb(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ds(t){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var hs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&jh(i,a)})(u,t);var e,n,r,o=sb(u);function u(){return ub(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,v=i.width,O=i.height,M=i.points,k=i.getNodeStyle(),z={transform:"matrix(1 0 0 1 ".concat(a-v/2," ").concat(f-O/2,")")};return Object(le.g)("g",z,Object(le.g)(wh,Eh({},k,{points:M,x:a,y:f})))}}])&&Sh(e.prototype,n),r&&Sh(e,r),u}(Eo);function Ph(t){return(Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mh(){return(Mh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kh(t,e){return(kh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function fb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ys(t);if(e){var o=ys(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pb(this,n)}}function pb(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var vs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&kh(i,a)})(u,t);var e,n,r,o=fb(u);function u(){return lb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(le.g)("g",null,Object(le.g)(wh,Mh({},a,{points:i.points,x:i.x,y:i.y})))}}])&&Nh(e.prototype,n),r&&Nh(e,r),u}(Eo);function Ah(t){return(Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function db(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Dh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Dh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hb(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.rx,i=u===void 0?4:u,a=t.ry,f=a===void 0?4:a,v=t.className,O={cx:n,cy:o,rx:i,ry:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(M){var k=db(M,2),z=k[0],te=k[1];Ah(te)!=="object"&&(O[z]=te)}),O.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(le.g)("ellipse",O)}function Th(t){return(Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ch(){return(Ch=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function yb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ih(t,e){return(Ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function vb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gs(t);if(e){var o=gs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gb(this,n)}}function gb(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ms=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ih(i,a)})(u,t);var e,n,r,o=vb(u);function u(){return yb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(le.g)(hb,Ch({},a,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&Rh(e.prototype,n),r&&Rh(e,r),u}(Eo);function Lh(t){return(Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zh(Object(n),!0).forEach(function(r){mb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gh(t,e){return(Gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function _b(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bs(t);if(e){var o=bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ob(this,n)}}function Ob(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var _s=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Gh(i,a)})(u,t);var e,n,r,o=_b(u);function u(){return bb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text;if(f&&f.value&&a.background&&a.background.fill!=="transparnet"){var v=f.x,O=f.y,M=i.width,k=i.height,z=Bh(Bh({},a.background),{},{x:v,y:O-1,width:M,height:k});return Object(le.g)(Ro,z)}}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getBackgroud())}}])&&Hh(e.prototype,n),r&&Hh(e,r),u}(Eo);function Fh(t){return(Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xh(t,e){return(Xh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function xb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Os(t);if(e){var o=Os(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eb(this,n)}}function Eb(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(t)}function la(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Os(t){return(Os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Za(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ws=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Xh(i,a)})(u,t);var e,n,r,o=xb(u);function u(){var i;wb(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Za(la(i=o.call.apply(o,[this].concat(f))),"ref",void 0),Za(la(i),"currrentProperties",void 0),Za(la(i),"preProperties",void 0),Za(la(i),"setRef",function(O){i.ref=O}),i}return e=u,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,v=i.height,O=i.width;return this.currrentProperties=JSON.stringify(i.properties),Object(le.g)("foreignObject",{x:a-O/2,y:f-v/2,width:O,height:v,ref:this.setRef})}}])&&Uh(e.prototype,n),r&&Uh(e,r),u}(Eo);function Vh(t){return(Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Sb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Wh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Wh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ri=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=Sb(n,2),o=r[0],u=r[1];Vh(u)!=="object"&&(e[o]=u)}),Object(le.g)("path",e)};function Yh(t){return(Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Zh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function jb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $h(t,e){return($h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Mb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xs(t);if(e){var o=xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nb(this,n)}}function Nb(t,e){if(e&&(Yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function xs(t){return(xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Jh=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&$h(i,a)})(u,t);var e,n,r,o=Mb(u);function u(){return Pb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getArrowAttributes",value:function(){var i=this.props,a=i.arrowInfo,f=i.style,v=a.start,O=a.end,M={start:v,end:O,offset:f.offset,verticalLength:f.verticalLength,type:"end"},k=Ji(M),z=k.leftX,te=k.leftY,ye=k.rightX,_e=k.rightY;return function(Ne){for(var xe=1;xe<arguments.length;xe++){var Ee=arguments[xe]!=null?arguments[xe]:{};xe%2?Zh(Object(Ee),!0).forEach(function(Be){jb(Ne,Be,Ee[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(Ee)):Zh(Object(Ee)).forEach(function(Be){Object.defineProperty(Ne,Be,Object.getOwnPropertyDescriptor(Ee,Be))})}return Ne}({d:"M".concat(z," ").concat(te," L").concat(O.x," ").concat(O.y," L").concat(ye," ").concat(_e," z")},f)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),a=i.d,f=i.strokeWidth,v=i.stroke,O=i.fill;return Object(le.g)(Ri,{d:a,fill:O,strokeWidth:f,stroke:v})}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-arrow"},this.getShape())}}])&&Kh(e.prototype,n),r&&Kh(e,r),u}(le.a);function Qh(t){return(Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qh(){return(qh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ey(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(n),!0).forEach(function(r){js(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ny(t,e){return(ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function kb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ss(t);if(e){var o=Ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ab(this,n)}}function Ab(t,e){if(e&&(Qh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Es(t)}function Es(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ss(t){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function js(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qr,Db=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ny(i,a)})(u,t);var e,n,r,o=kb(u);function u(i){var a;return function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),js(Es(a=o.call(this,i)),"setHoverON",function(){a.setState({isHoverd:!0})}),js(Es(a),"setHoverOFF",function(){a.setState({isHoverd:!1})}),a.state={isHoverd:!1},a}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text,v=a.background||{};if(this.state.isHoverd&&a.hover&&a.hover.background&&(v=ui(ui({},v),a.hover.background)),f&&f.value&&v.fill!=="transparnet"){var O,M=a.fontSize,k=a.overflowMode,z=a.lineHeight,te=a.wrapPadding,ye=a.textWidth,_e=f.value,Ne=f.x,xe=f.y,Ee=String(_e).split(/[\r\n]/g),Be=Ee.length;if(k==="autoWrap"&&ye){var Qe=qc({rows:Ee,style:{fontSize:"".concat(M,"px"),width:"".concat(ye,"px"),lineHeight:z,padding:te},rowsLength:Be,className:"lf-get-text-height"});O=ui(ui({},v),{},{x:Ne-1,y:xe-1,width:ye,height:Qe})}else{var Ve=0;Ee&&Ee.forEach(function(kt){var Qt=kl(kt);Ve=Qt>Ve?Qt:Ve});var ot=Ou({rows:Ee,fontSize:M,rowsLength:Be}),gt=ot.width,St=ot.height;O=ui(ui({},v),{},{x:Ne-1,y:xe-1,width:gt,height:St})}return Object(le.g)(Ro,O)}}},{key:"getShape",value:function(){var i=this.props.model,a=i.text,f=a.value,v=a.x,O=a.y;if(f){var M=ui({x:v,y:O,className:"lf-element-text",value:f},i.getTextStyle());return Object(le.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(le.g)(eh,qh({},M,{model:i})))}}}])&&ty(e.prototype,n),r&&ty(e,r),u}(ah);function ry(t){return(ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function oy(){return(oy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iy(Object(n),!0).forEach(function(r){Er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ay(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ay(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sy(t,e){return(sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Cb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ps(t);if(e){var o=Ps(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rb(this,n)}}function Rb(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xr(t)}function xr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(qr||(qr={}));var cy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&sy(i,a)})(u,t);var e,n,r,o=Cb(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Er(xr(i=o.call(this)),"dragHandler",void 0),Er(xr(i),"oldEdge",void 0),Er(xr(i),"preTargetNode",void 0),Er(xr(i),"targetRuleResults",void 0),Er(xr(i),"sourceRuleResults",void 0),Er(xr(i),"onDragStart",function(){var a=i.props,f=a.x,v=a.y,O=a.edgeModel,M=O.startPoint,k=O.endPoint,z=O.pointsList;i.oldEdge={startPoint:M,endPoint:k,pointsList:z},i.setState({endX:f,endY:v,draging:!0}),O.isHitable=!1}),Er(xr(i),"onDraging",function(a){var f=a.deltaX,v=a.deltaY,O=i.state,M=O.endX,k=O.endY,z=i.props,te=z.graphModel,ye=z.type,_e=Tb(te.transformModel.moveCanvasPointByHtml([M,k],f,v),2),Ne=_e[0],xe=_e[1];i.setState({endX:Ne,endY:xe,draging:!0});var Ee=i.props.edgeModel,Be=Oa({x:M,y:k},te);if(Be&&Be.node&&i.isAllowAdjust(Be)){var Qe,Ve=Ee.startPoint,ot=Ee.endPoint,gt=Ee.sourceNode,St=Ee.targetNode;ye===qr.SOURCE?Qe={startPoint:{x:Be.anchor.x,y:Be.anchor.y},endPoint:{x:ot.x,y:ot.y},sourceNode:Be.node,targetNode:St}:ye===qr.TARGET&&(Qe={startPoint:{x:Ve.x,y:Ve.y},endPoint:{x:Be.anchor.x,y:Be.anchor.y},sourceNode:gt,targetNode:Be.node}),Ee.updateAfterAdjustStartAndEnd(Qe)}else ye===qr.SOURCE?Ee.updateStartPoint({x:Ne,y:xe}):ye===qr.TARGET&&Ee.updateEndPoint({x:Ne,y:xe})}),Er(xr(i),"onDragEnd",function(){var a;i.setState({draging:!1});var f=i.props,v=f.graphModel,O=f.edgeModel,M=f.type;O.isHitable=!0;var k=i.state,z=k.endX,te=k.endY,ye=k.draging,_e=Oa({x:z,y:te},v);if(ye){if(_e&&_e.node&&i.isAllowAdjust(_e)){var Ne,xe=O.getData(),Ee=So(So({},xe),{},{sourceAnchorId:"",targetAnchorId:"",text:(xe==null||(Ne=xe.text)===null||Ne===void 0?void 0:Ne.value)||""});M===qr.SOURCE?Ee=So(So({},Ee),{},{sourceNodeId:_e.node.id,sourceAnchorId:_e.anchor.id,startPoint:{x:_e.anchor.x,y:_e.anchor.y},targetNodeId:O.targetNodeId,endPoint:So({},O.endPoint)}):M===qr.TARGET&&(Ee=So(So({},Ee),{},{sourceNodeId:O.sourceNodeId,startPoint:So({},O.startPoint),targetNodeId:_e.node.id,targetAnchorId:_e.anchor.id,endPoint:{x:_e.anchor.x,y:_e.anchor.y}})),v.deleteEdgeById(O.id);var Be=v.addEdge(So({},Ee));v.eventCenter.emit(Et.EDGE_EXCHANGE_NODE,{data:{newEdge:Be.getData(),oldEdge:O.getData()}})}else i.recoveryEdge();(a=i.preTargetNode)===null||a===void 0||a.setElementState(Yt.DEFAULT)}}),Er(xr(i),"recoveryEdge",function(){var a=i.props.edgeModel,f=i.oldEdge,v=f.startPoint,O=f.endPoint,M=f.pointsList;a.updateStartPoint(v),a.updateEndPoint(O),a.modelType!==Rt.LINE_EDGE&&(a.pointsList=M,a.initPoints())}),Er(xr(i),"getAdjustPointStyle",function(){return i.props.graphModel.theme.edgeAdjust}),i.state={draging:!1,endX:0,endY:0},i.targetRuleResults=new Map,i.sourceRuleResults=new Map,i.dragHandler=Tu({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"isAllowAdjust",value:function(i){var a=this.props,f=a.edgeModel,v=(f.id,f.sourceNode),O=f.targetNode,M=f.sourceAnchorId,k=f.targetAnchorId,z=a.type,te=null,ye=null,_e=null,Ne=null;if(z===qr.SOURCE?(te=i.node,ye=O,_e=i.anchor,Ne=O.getAnchorInfo(k)):(te=v,ye=i.node,Ne=i.anchor,_e=v.getAnchorInfo(M)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(Yt.DEFAULT),this.preTargetNode=i.node,Ne.id===_e.id)return!1;var xe="".concat(te.id,"_").concat(ye.id,"_").concat(_e.id,"_").concat(Ne.id);if(!this.targetRuleResults.has(xe)){var Ee=te.isAllowConnectedAsSource(ye,_e,Ne),Be=ye.isAllowConnectedAsTarget(te,_e,Ne);this.sourceRuleResults.set(xe,wa(Ee)),this.targetRuleResults.set(xe,wa(Be))}var Qe=this.sourceRuleResults.get(xe).isAllPass,Ve=this.targetRuleResults.get(xe).isAllPass,ot=Qe&&Ve?Yt.ALLOW_CONNECT:Yt.NOT_ALLOW_CONNECT;return z===qr.SOURCE?te.setElementState(ot):ye.setElementState(ot),Qe&&Ve}},{key:"render",value:function(){var i=this.props,a=i.x,f=i.y,v=this.state.draging,O=this.getAdjustPointStyle();return Object(le.g)("g",null,Object(le.g)(ta,oy({className:"lf-edge-adjust-point"},O,{x:a,y:f,onMouseDown:this.dragHandler,"pointer-events":v?"none":""})))}}])&&uy(e.prototype,n),r&&uy(e,r),u}(le.a);function ly(t){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ms(){return(Ms=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function fy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fy(Object(n),!0).forEach(function(r){jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(t,e){return(hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Lb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ns(t);if(e){var o=Ns(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zb(this,n)}}function zb(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sr(t)}function Sr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ns(t){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fa=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&hy(i,a)})(u,t);var e,n,r,o=Lb(u);function u(){var i;Ib(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return jr(Sr(i=o.call.apply(o,[this].concat(f))),"startTime",void 0),jr(Sr(i),"contextMenuTime",void 0),jr(Sr(i),"clickTimer",void 0),jr(Sr(i),"handleHover",function(O,M){var k=i.props,z=k.model,te=k.graphModel.eventCenter;z.setHovered(O);var ye=O?Et.EDGE_MOUSEENTER:Et.EDGE_MOUSELEAVE,_e=z.getData();te.emit(ye,{data:_e,e:M})}),jr(Sr(i),"setHoverON",function(O){i.handleHover(!0,O)}),jr(Sr(i),"setHoverOFF",function(O){i.handleHover(!1,O)}),jr(Sr(i),"handleContextMenu",function(O){O.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var M=i.props,k=M.model,z=M.graphModel,te=z.getPointByClient({x:O.clientX,y:O.clientY});z.setElementStateById(k.id,Yt.SHOW_MENU,te.domOverlayPosition),i.toFront(),z.selectEdgeById(k.id);var ye=k==null?void 0:k.getData();z.eventCenter.emit(Et.EDGE_CONTEXTMENU,{data:ye,e:O,position:te})}),jr(Sr(i),"handleMouseDown",function(O){O.stopPropagation(),i.startTime=new Date().getTime()}),jr(Sr(i),"handleMouseUp",function(O){if(i.startTime&&!(new Date().getTime()-i.startTime>200||O.button===2)){var M=O.detail===2,k=i.props,z=k.model,te=k.graphModel,ye=z==null?void 0:z.getData(),_e=te.getPointByClient({x:O.clientX,y:O.clientY});if(M){var Ne=te.editConfigModel,xe=te.textEditElement;if(xe&&xe.id===z.id&&te.setElementStateById(z.id,Yt.DEFAULT),Ne.edgeTextEdit&&z.text.editable&&te.setElementStateById(z.id,Yt.TEXT_EDIT),z.modelType===Rt.POLYLINE_EDGE){var Ee=z,Be=te.getPointByClient({x:O.x,y:O.y}).canvasOverlayPosition,Qe=Be.x,Ve=Be.y,ot=Dl({x:Qe,y:Ve},Ee.points);Ee.dbClickPosition=ot}te.eventCenter.emit(Et.EDGE_DBCLICK,{data:ye,e:O,position:_e})}else te.eventCenter.emit(Et.ELEMENT_CLICK,{data:ye,e:O,position:_e}),te.eventCenter.emit(Et.EDGE_CLICK,{data:ye,e:O,position:_e});var gt=te.editConfigModel;te.selectEdgeById(z.id,Mc(O,gt)),i.toFront()}}),jr(Sr(i),"getIsDraging",function(){return!1}),i}return e=u,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Yt.TEXT_EDIT)return"";var v=!1,O=f.editConfigModel;return(a.text.draggable||O.edgeTextDraggable)&&(v=!0),Object(le.g)(Db,{editable:O.edgeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:v})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,v=i.isSelected;return{start:a,end:f,hover:this.state.hover,isSelected:v}}},{key:"getArrowStyle",value:function(){var i=this.props,a=i.model,f=i.graphModel,v=a.getEdgeStyle(),O=f.theme.arrow;return py(py({},v),{},{fill:v.stroke},O)}},{key:"getArrow",value:function(){var i=this.getArrowInfo(),a=i.start,f=i.end;if(a&&f&&(a.x!==f.x||a.y!==f.y)){var v=this.getArrowStyle();return Object(le.g)(Jh,{arrowInfo:i,style:v})}}},{key:"getAdjustPoints",value:function(){var i=this.props,a=i.model,f=i.graphModel,v=a.getAdjustStart(),O=a.getAdjustEnd();return Object(le.g)("g",null,Object(le.g)(cy,Ms({type:"SOURCE"},v,{edgeModel:a,graphModel:f})),Object(le.g)(cy,Ms({type:"TARGET"},O,{edgeModel:a,graphModel:f})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(le.g)("g",null)}},{key:"getAppend",value:function(){return Object(le.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var i=this.props,a=i.graphModel,f=i.model;a.overlapMode!==rr.INCREASE&&a.toFront(f.id)}},{key:"render",value:function(){var i=this.props,a=i.model,f=a.isSelected,v=a.isHitable,O=i.graphModel,M=this.getIsDraging(),k=O.editConfigModel.adjustEdgeStartAndEnd,z=O.animation,te=f&&z.edge&&O.getSelectElements().edges.length===1;return Object(le.g)("g",null,Object(le.g)("g",{className:v?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),te&&this.getAnimation(),this.getText(),this.getArrow()),k&&f&&!M?this.getAdjustPoints():"")}}])&&dy(e.prototype,n),r&&dy(e,r),u}(le.a);function yy(t){return(yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ks(){return(ks=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gy(t,e){return(gy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Hb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=As(t);if(e){var o=As(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(t,e){if(e&&(yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function As(t){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ds=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&gy(i,a)})(u,t);var e,n,r,o=Hb(u);function u(){return Bb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,v=i.getEdgeStyle();return Object(le.g)(ri,ks({},v,{x1:a.x,y1:a.y,x2:f.x,y2:f.y}))}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,v=a.className,O=a.strokeDasharray,M=i.startPoint,k=i.endPoint,z=i.getEdgeStyle();return Object(le.g)("g",null,Object(le.g)(ri,ks({},z,{x1:M.x,y1:M.y,x2:k.x,y2:k.y,className:v,strokeDasharray:O,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model,a=function(z){var te,ye=z.start,_e=z.end;if(ye.x===_e.x&&ye.y===_e.y)te="";else{var Ne={start:ye,end:_e,offset:10,verticalLength:5},xe=Ji(Sa(Sa({},Ne),{},{type:"start"})),Ee=Ji(Sa(Sa({},Ne),{},{type:"end"}));te="M".concat(xe.leftX," ").concat(xe.leftY,` 
    L`).concat(xe.rightX," ").concat(xe.rightY,` 
    L`).concat(Ee.rightX," ").concat(Ee.rightY,`
    L`).concat(Ee.leftX," ").concat(Ee.leftY," z")}return{d:te,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:i.startPoint,end:i.endPoint}),f=a.d,v=a.strokeWidth,O=a.fill,M=a.strokeDasharray,k=a.stroke;return Object(le.g)(Ri,{d:f,fill:O,strokeWidth:v,stroke:k,strokeDasharray:M})}}])&&vy(e.prototype,n),r&&vy(e,r),u}(fa);function my(t){return(my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Fb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return by(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _y=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=Fb(n,2),o=r[0],u=r[1];my(u)!=="object"&&(e[o]=u)}),Object(le.g)("polyline",e)};function Oy(t){return(Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wy(Object(n),!0).forEach(function(r){to(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ts(){return(Ts=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ub(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ey(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sy(t,e){return(Sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Xb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cs(t);if(e){var o=Cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vb(this,n)}}function Vb(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eo(t)}function eo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function to(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Sy(i,a)})(u,t);var e,n,r,o=Xb(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),to(eo(i=o.call(this)),"drag",void 0),to(eo(i),"isDraging",void 0),to(eo(i),"appendInfo",void 0),to(eo(i),"dragHandler",void 0),to(eo(i),"onDragStart",function(){i.props.model.dragAppendStart()}),to(eo(i),"onDraging",function(a){var f=a.deltaX,v=a.deltaY,O=i.props,M=O.model,k=O.graphModel;i.isDraging=!0;var z=k.transformModel,te=k.editConfigModel,ye=Ub(z.fixDeltaXY(f,v),2),_e=ye[0],Ne=ye[1],xe=M,Ee=te.adjustEdgeMiddle;i.appendInfo=Ee?xe.dragAppendSimple(i.appendInfo,{x:_e,y:Ne}):xe.dragAppend(i.appendInfo,{x:_e,y:Ne})}),to(eo(i),"onDragEnd",function(){var a=i.props,f=a.model,v=a.graphModel.eventCenter,O=f;O.dragAppendEnd(),i.isDraging=!1,i.appendInfo=void 0,v.emit(Et.EDGE_ADJUST,{data:O.getData()})}),to(eo(i),"beforeDragStart",function(a,f){f.dragAble&&i.dragHandler(a),i.appendInfo=f}),to(eo(i),"getIsDraging",function(){return i.isDraging}),i.drag=Tu({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle();return Object(le.g)(_y,Ts({points:i.points},a))}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,v=a.className,O=a.strokeDasharray,M=i.getEdgeStyle();return Object(le.g)("g",null,Object(le.g)(_y,Ts({points:i.points},M,{className:v,strokeDasharray:O,stroke:f})))}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.points,f=i.isSelected,v={start:null,end:null,hover:this.state.hover,isSelected:f},O=Ni(a);return O.length>=2&&(v.start=O[O.length-2],v.end=O[O.length-1]),v}},{key:"getAppendAttributes",value:function(i){var a,f=i.start,v=i.end;if(f.x===v.x&&f.y===v.y)a="";else{var O={start:f,end:v,offset:10,verticalLength:5},M=Ji(Ka(Ka({},O),{},{type:"start"})),k=Ji(Ka(Ka({},O),{},{type:"end"}));a="M".concat(M.leftX," ").concat(M.leftY,` 
      L`).concat(M.rightX," ").concat(M.rightY,` 
      L`).concat(k.rightX," ").concat(k.rightY,`
      L`).concat(k.leftX," ").concat(k.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var a=this.getAppendAttributes(i),f=a.d,v=a.strokeWidth,O=a.fill,M=a.strokeDasharray,k=a.stroke;return Object(le.g)(Ri,{d:f,fill:O,strokeWidth:v,stroke:k,strokeDasharray:M})}},{key:"getAppendWidth",value:function(){for(var i=this,a=this.props,f=a.model,v=a.graphModel,O=f.pointsList,M=f.draggable,k=[],z=O.length,te=function(_e){var Ne="lf-polyline-append",xe={start:{x:O[_e].x,y:O[_e].y},end:{x:O[_e+1].x,y:O[_e+1].y},startIndex:_e,endIndex:_e+1,direction:"",dragAble:!0},Ee=Object(le.g)("g",{className:Ne},i.getAppendShape(xe)),Be=v.editConfigModel,Qe=Be.adjustEdge,Ve=Be.adjustEdgeMiddle;if(Qe&&M){i.dragHandler=i.drag;var ot=xe.startIndex,gt=xe.endIndex,St=Ve&&(ot===0||gt===z-1);xe.dragAble=!St,xe.start.x===xe.end.x?(xe.dragAble&&(Ne+="-ew-resize"),xe.direction=qt.VERTICAL):xe.start.y===xe.end.y&&(xe.dragAble&&(Ne+="-ns-resize"),xe.direction=qt.HORIZONTAL),Ee=Object(le.g)("g",{className:i.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(kt){return i.beforeDragStart(kt,xe)}},Object(le.g)("g",{className:Ne},i.getAppendShape(xe)))}else i.dragHandler=function(){};k.push(Ee)},ye=0;ye<z-1;ye++)te(ye);return Object(le.g)("g",null,k)}}])&&Ey(e.prototype,n),r&&Ey(e,r),u}(fa);function jy(t){return(jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Py(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Py(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Is(){return(Is=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Yb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function My(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ny(t,e){return(Ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Zb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ls(t);if(e){var o=Ls(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ls(t){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var zs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ny(i,a)})(u,t);var e,n,r,o=Zb(u);function u(){return Yb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle();return Object(le.g)(Ri,Is({d:i.path},a))}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,v=a.className,O=a.strokeDasharray,M=i.getEdgeStyle();return Object(le.g)("g",null,Object(le.g)(Ri,Is({d:i.path},M,{className:v,strokeDasharray:O,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(le.g)(Ri,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=this.state.hover,f=i,v=f.path,O=f.isSelected,M=Wb(function(k){var z=Aa(k);return[z[2],z[3]]}(v),2);return{start:M[0],end:M[1],hover:a,isSelected:O}}}])&&My(e.prototype,n),r&&My(e,r),u}(fa),ky=function(t,e){return g(t,e)},$b=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Bs=function(){return ut.a.Date.now()},Jb=/\s/,Qb=function(t){for(var e=t.length;e--&&Jb.test(t.charAt(e)););return e},qb=/^\s+/,e0=function(t){return t&&t.slice(0,Qb(t)+1).replace(qb,"")},t0=/^[-+]0x[0-9a-f]+$/i,n0=/^0b[01]+$/i,r0=/^0o[0-7]+$/i,o0=parseInt,Ay=function(t){if(typeof t=="number")return t;if(Oe(t))return NaN;if(en(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=en(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=e0(t);var n=n0.test(t);return n||r0.test(t)?o0(t.slice(2),n?2:8):t0.test(t)?NaN:+t},i0=Math.max,a0=Math.min,u0=function(t,e,n){var r,o,u,i,a,f,v=0,O=!1,M=!1,k=!0;if(typeof t!="function")throw new TypeError("Expected a function");function z(Ee){var Be=r,Qe=o;return r=o=void 0,v=Ee,i=t.apply(Qe,Be)}function te(Ee){return v=Ee,a=setTimeout(_e,e),O?z(Ee):i}function ye(Ee){var Be=Ee-f;return f===void 0||Be>=e||Be<0||M&&Ee-v>=u}function _e(){var Ee=Bs();if(ye(Ee))return Ne(Ee);a=setTimeout(_e,function(Be){var Qe=e-(Be-f);return M?a0(Qe,u-(Be-v)):Qe}(Ee))}function Ne(Ee){return a=void 0,k&&r?z(Ee):(r=o=void 0,i)}function xe(){var Ee=Bs(),Be=ye(Ee);if(r=arguments,o=this,f=Ee,Be){if(a===void 0)return te(f);if(M)return clearTimeout(a),a=setTimeout(_e,e),z(f)}return a===void 0&&(a=setTimeout(_e,e)),i}return e=Ay(e)||0,en(n)&&(O=!!n.leading,u=(M="maxWait"in n)?i0(Ay(n.maxWait)||0,e):u,k="trailing"in n?!!n.trailing:k),xe.cancel=function(){a!==void 0&&clearTimeout(a),v=0,r=f=o=a=void 0},xe.flush=function(){return a===void 0?i:Ne(Bs())},xe},s0=s(165);function Dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ty,Cy,Ry,c0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),zo(this,"undos",[]),zo(this,"redos",[]),zo(this,"callbacks",[]),zo(this,"stopWatch",null),zo(this,"curData",null),zo(this,"maxSize",50),zo(this,"waitTime",100),zo(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,(n=[{key:"add",value:function(o){ky($b(this.undos),o)||(this.undos.push(o),ky(this.curData,o)||(this.redos=[]),this.eventCenter.emit(Et.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var o=this.undos.pop();this.redos.push(o);var u=this.undos.pop();return this.curData=on(u),u}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var o=this.redos.pop();return this.curData=on(o),o}}},{key:"watch",value:function(o){var u=this;this.stopWatch&&this.stopWatch(),this.undos.push(o.modelToGraphData()),this.stopWatch=Object(s0.a)(o,u0(function(){var i=o.modelToHistoryData();i&&u.add(i)},this.waitTime))}}])&&Dy(e.prototype,n),r&&Dy(e,r),t}();function Iy(t){return(Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function l0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ly(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ly(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zy(Object(n),!0).forEach(function(r){si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function By(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e){return(Hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function f0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hs(t);if(e){var o=Hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Li(t)}function Li(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function si(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gy,Fy,Uy,Gs=Pr((Ry=Cy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Hy(i,a)})(u,t);var e,n,r,o=f0(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),si(Li(i=o.call(this)),"ref",Object(le.f)()),si(Li(i),"__prevText",{type:"",text:"",id:""}),si(Li(i),"keyupHandler",function(a){var f=i.props.graphModel.textEditElement;a.key==="Enter"&&a.altKey&&f.setElementState(0)}),si(Li(i),"inputHandler",function(a){var f=a.target.innerText,v=i.props.graphModel.textEditElement;i.__prevText={type:v.type,text:f.replace(/(\r\n)+$|(\n)+$/,""),id:v.id}}),si(Li(i),"keydownHandler",function(a){a.stopPropagation()}),i.state={style:{left:0,top:0}},i}return e=u,r=[{key:"getDerivedStateFromProps",value:function(i){var a,f=i.graphModel,v=f.transformModel,O=f.theme,M=f.textEditElement;if(M){var k;if((k=M.text)===null||k===void 0||!k.value)if(M.BaseType===yn.EDGE){var z=(M=M).text,te=M.textPosition,ye=te.x,_e=te.y;z.x=ye,z.y=_e,M.setText(z)}else M=M;var Ne={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(M.BaseType===yn.EDGE){var xe=O.edgeText,Ee=xe.overflowMode,Be=xe.lineHeight,Qe=xe.wrapPadding,Ve=xe.textWidth;Ve&&Ee==="autoWrap"&&(a=Ii(Ii({},Ne),{},{width:Ve,minWidth:Ve,lineHeight:Be,padding:Qe}))}else if(M.BaseType===yn.NODE){var ot=O.nodeText,gt=ot.overflowMode,St=ot.lineHeight,kt=ot.wrapPadding,Qt=ot.textWidth,dn=M,jn=dn.width,Vn=dn.modelType;(Vn!==Rt.TEXT_NODE&&gt==="autoWrap"||Vn===Rt.TEXT_NODE&&Qt)&&(a=Ii(Ii({},Ne),{},{width:Qt||jn,minWidth:Qt||jn,lineHeight:St,padding:kt}))}var Pn=M.text,Po=Pn.x,no=Pn.y,Mo=l0(v.CanvasPointToHtmlPoint([Po,no]),2);return{style:Ii({left:Mo[0],top:Mo[1]},a)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var i=this.props.graphModel,a=i.eventCenter,f=i.editConfigModel,v=f.edgeTextEdit,O=f.nodeTextEdit;(v||O)&&a.on("".concat(Et.GRAPH_TRANSFORM,",").concat(Et.NODE_CLICK,",").concat(Et.BLANK_CLICK," "),function(){i.textEditElement&&i.textEditElement.setElementState(Yt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var i=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,f=a.text,v=a.id;i.updateText(v,f),i.eventCenter.emit(Et.TEXT_UPDATE,Ii({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(i){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(i),a.collapse(!1);var f=window.getSelection();f.removeAllRanges(),f.addRange(a)}}},{key:"render",value:function(){var i,a=this.props.graphModel.textEditElement,f=this.state.style;return a?Object(le.g)("div",{contentEditable:!0,className:"lf-text-input",style:f,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(i=a.text)===null||i===void 0?void 0:i.value):null}}])&&By(e.prototype,n),r&&By(e,r),u}(le.a),si(Cy,"toolName","textEdit"),Ty=Ry))||Ty,d0=function(t){return t.modelType===Rt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,o=(n.x+r.x)/2,u=(n.y+r.y)/2,i=Math.abs(n.x-r.x)+10,a=Math.abs(n.y-r.y)+10;return{x:o-i/2,y:u-a/2,x1:o+i/2,y1:u+a/2}}(t):t.modelType===Rt.POLYLINE_EDGE?function(e){var n=e.points,r=Ni(n),o=Qi(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):t.modelType===Rt.BEZIER_EDGE?function(e){var n=e.path,r=Aa(n),o=Qi(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):void 0};function Xy(t){return(Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Vy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||Wy(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h0(t){return function(e){if(Array.isArray(e))return Fs(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Wy(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wy(t,e){if(t){if(typeof t=="string")return Fs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(t,e):void 0}}function Fs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zy(t,e){return(Zy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function y0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Us(t);if(e){var o=Us(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v0(this,n)}}function v0(t,e){if(e&&(Xy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pa(t)}function pa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Us(t){return(Us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function da(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xs=Pr((Uy=Fy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Zy(i,a)})(u,t);var e,n,r,o=y0(u);function u(i){var a;(function(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")})(this,u),da(pa(a=o.call(this)),"stepDrag",void 0),da(pa(a),"handleMouseDown",function(M){a.stepDrag.handleMouseDown(M)}),da(pa(a),"onDraging",function(M){var k=M.deltaX,z=M.deltaY,te=a.props.graphModel,ye=te.getSelectElements(!0);te.moveNodes(ye.nodes.map(function(_e){return _e.id}),k,z)}),da(pa(a),"handleContextMenu",function(M){M.preventDefault();var k=a.props,z=k.graphModel,te=k.graphModel,ye=te.eventCenter,_e=te.selectElements,Ne=z.getPointByClient({x:M.clientX,y:M.clientY}),xe={nodes:[],edges:[]};h0(_e.values()).forEach(function(Ee){Ee.BaseType===yn.NODE&&xe.nodes.push(Ee.getData()),Ee.BaseType===yn.EDGE&&xe.edges.push(Ee.getData())}),ye.emit(Et.SELECTION_CONTEXTMENU,{data:xe,e:M,position:Ne})});var f=i.graphModel,v=f.gridSize,O=f.eventCenter;return a.stepDrag=new ni({onDraging:a.onDraging,step:v,eventType:"SELECTION",eventCenter:O}),a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel,a=i.selectElements,f=i.transformModel;if(!(a.size<=1)){var v=Number.MAX_SAFE_INTEGER,O=Number.MAX_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER,k=Number.MIN_SAFE_INTEGER;a.forEach(function(_e){var Ne={x:0,y:0,x1:0,y1:0};_e.BaseType===yn.NODE&&(Ne=function(xe){var Ee=xe.x,Be=xe.y,Qe=xe.width,Ve=xe.height;return{x:Ee-Qe/2,y:Be-Ve/2,x1:Ee+Qe/2,y1:Be+Ve/2}}(_e)),_e.BaseType===yn.EDGE&&(Ne=d0(_e)),v=Math.min(v,Ne.x),O=Math.min(O,Ne.y),M=Math.max(M,Ne.x1),k=Math.max(k,Ne.y1)});var z=Vy(f.CanvasPointToHtmlPoint([v,O]),2);v=z[0],O=z[1];var te=Vy(f.CanvasPointToHtmlPoint([M,k]),2);M=te[0],k=te[1];var ye={left:"".concat(v-10,"px"),top:"".concat(O-10,"px"),width:"".concat(M-v+20,"px"),height:"".concat(k-O+20,"px")};return Object(le.g)("div",{className:"lf-multiple-select",style:ye,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Yy(e.prototype,n),r&&Yy(e,r),u}(le.a),da(Fy,"toolName","multipleSelect"),Gy=Uy))||Gy;function Ky(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),$a(this,"tools",void 0),$a(this,"components",void 0),$a(this,"toolMap",new Map),$a(this,"instance",void 0),this.instance=o,this.isDisabledTool(Gs.toolName)||this.registerTool(Gs.toolName,Gs),this.isDisabledTool(Xs.toolName)||this.registerTool(Xs.toolName,Xs)}var e,n,r;return e=t,(n=[{key:"isDisabledTool",value:function(o){return this.instance.options.disabledTools.indexOf(o)!==-1}},{key:"registerTool",value:function(o,u){this.toolMap.set(o,u)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Ky(e.prototype,n),r&&Ky(e,r),t}(),m0=s(166),b0=s.n(m0);function $y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jy=function(){function t(o){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),Vs(this,"mousetrap",void 0),Vs(this,"options",void 0),Vs(this,"target",void 0),o.keyboard||(o.keyboard={enabled:!1}),this.options=o;var u=o.lf;this.target=u.container,this.mousetrap=new b0.a(this.target),o.keyboard.enabled&&this.enable(!0)}var e,n,r;return e=t,(n=[{key:"initShortcuts",value:function(){var o=this,u=this.options.keyboard.shortcuts;if(u)if(ln(u))u.forEach(function(v){var O=v.keys,M=v.callback,k=v.action;return o.on(O,M,k)});else{var i=u.keys,a=u.callback,f=u.action;this.on(i,a,f)}}},{key:"on",value:function(o,u,i){this.mousetrap.bind(this.getKeys(o),u,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(o,u){this.mousetrap.unbind(this.getKeys(o),u)}},{key:"enable",value:function(o){(this.disabled||o)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(o){var u=this;return(Array.isArray(o)?o:[o]).map(function(i){return u.formatkey(i)})}},{key:"formatkey",value:function(o){return o.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&$y(e.prototype,n),r&&$y(e,r),t}(),_0=Jy,jo=null;function Qy(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function qy(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function ev(t){return(ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function tv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tv(Object(n),!0).forEach(function(r){cn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ys=function(){function t(o){var u,i,a=this;(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),cn(this,"container",void 0),cn(this,"width",void 0),cn(this,"height",void 0),cn(this,"graphModel",void 0),cn(this,"history",void 0),cn(this,"viewMap",new Map),cn(this,"tool",void 0),cn(this,"keyboard",void 0),cn(this,"dnd",void 0),cn(this,"options",void 0),cn(this,"snaplineModel",void 0),cn(this,"components",[]),cn(this,"plugins",void 0),cn(this,"extension",{}),cn(this,"adapterIn",void 0),cn(this,"adapterOut",void 0),cn(this,"getView",function(f){return a.viewMap.get(f)}),o=np(o),this.options=o,this.container=o.container,this.plugins=o.plugins,this.graphModel=new yg(Ws({},o)),this.tool=new g0(this),this.history=new c0(this.graphModel.eventCenter),this.dnd=new nm({lf:this}),this.keyboard=new _0({lf:this,keyboard:o.keyboard}),o.isSilentMode||o.snapline===!1||(this.snaplineModel=new Xd(this.graphModel),u=this.graphModel.eventCenter,i=this.snaplineModel,u.on("node:mousemove",function(f){var v=f.data;i.setNodeSnapLine(v)}),u.on("node:mouseup",function(){i.clearSnapline()})),function(f,v){var O=f.keyboard,M=O.options.keyboard;O.on(["cmd + c","ctrl + c"],function(){if(M.enabled&&!v.textEditElement){var k=f.options.guards,z=v.getSelectElements(!1);return k&&k.beforeClone&&!k.beforeClone(z)?(jo=null,!1):((jo=z).nodes.forEach(function(te){return Qy(te,40)}),jo.edges.forEach(function(te){return qy(te,40)}),!1)}}),O.on(["cmd + v","ctrl + v"],function(){if(M.enabled&&!v.textEditElement){if(jo&&(jo.nodes||jo.edges)){f.clearSelectElements();var k=f.addElements(jo);if(!k)return;k.nodes.forEach(function(z){return f.selectElementById(z.id,!0)}),k.edges.forEach(function(z){return f.selectElementById(z.id,!0)}),jo.nodes.forEach(function(z){return Qy(z,40)}),jo.edges.forEach(function(z){return qy(z,40)})}return!1}}),O.on(["cmd + z","ctrl + z"],function(){if(M.enabled&&!v.textEditElement)return f.undo(),!1}),O.on(["cmd + y","ctrl + y"],function(){if(M.enabled&&!v.textEditElement)return f.redo(),!1}),O.on(["backspace"],function(){if(M.enabled&&!v.textEditElement){var k=v.getSelectElements(!0);return f.clearSelectElements(),k.edges.forEach(function(z){return f.deleteEdge(z.id)}),k.nodes.forEach(function(z){return f.deleteNode(z.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(o.disabledPlugins)}var e,n,r;return e=t,r=[{key:"use",value:function(o){var u=o.pluginName;u||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(o.name||o.constructor.name,"\u6307\u5B9ApluginName!")),u=o.name);var i=this.extensions.get(u);i&&i.destroy&&i.destroy(),this.extensions.set(u,o)}}],(n=[{key:"register",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof o=="string"){var a={BaseEdge:fa,BaseEdgeModel:xu,BaseNode:Eo,BaseNodeModel:wo,RectNode:ls,RectNodeModel:ts,CircleNode:ps,CircleNodeModel:Ku,PolygonNode:hs,PolygonNodeModel:es,TextNode:_s,TextNodeModel:ns,LineEdge:Ds,LineEdgeModel:Su,DiamondNode:vs,DiamondNodeModel:Ju,PolylineEdge:Rs,PolylineEdgeModel:Pu,BezierEdge:zs,BezierEdgeModel:Yu,EllipseNode:ms,EllipseNodeModel:Qu,HtmlNode:ws,HtmlNodeModel:os,h:le.g,type:o};this.viewMap.forEach(function(k){var z=k.extendKey;z&&(a[z]=k)}),this.graphModel.modelMap.forEach(function(k){var z=k.extendKey;z&&(a[z]=k)});var f=u(a),v=f.view,O=f.model,M=v;i&&!M.isObervered&&(M.isObervered=!0,M=Me(M)),this.setView(o,M),this.graphModel.setModel(o,O)}else this.registerElement(o)}},{key:"registerElement",value:function(o){var u=o.view;o.isObserverView===!1||u.isObervered||(u.isObervered=!0,u=Me(u)),this.setView(o.type,u),this.graphModel.setModel(o.type,o.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:ls,model:ts,type:"rect"}),this.registerElement({type:"circle",view:ps,model:Ku}),this.registerElement({type:"polygon",view:hs,model:es}),this.registerElement({type:"line",view:Ds,model:Su}),this.registerElement({type:"polyline",view:Rs,model:Pu}),this.registerElement({type:"bezier",view:zs,model:Yu}),this.registerElement({type:"text",view:_s,model:ns}),this.registerElement({type:"ellipse",view:ms,model:Qu}),this.registerElement({type:"diamond",view:vs,model:Ju}),this.registerElement({type:"html",view:ws,model:os})}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(o,u),u||this.graphModel.toFront(o)}},{key:"focusOn",value:function(o){var u=this.graphModel.transformModel,i=o.coordinate,a=o.id;if(!i){var f=this.getNodeModelById(a);f&&(i=f.getData());var v=this.getEdgeModelById(a);v&&(i=v.textPosition)}var O=i,M=O.x,k=O.y;u.focusOn(M,k,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(o){this.graphModel.setTheme(o)}},{key:"resize",value:function(o,u){this.options.width=o!=null?o:this.options.width,this.options.height=u!=null?u:this.options.height,this.graphModel.resize(o,u)}},{key:"setDefaultEdgeType",value:function(o){this.graphModel.setDefaultEdgeType(o)}},{key:"updateText",value:function(o,u){this.graphModel.updateText(o,u)}},{key:"deleteElement",value:function(o){var u,i,a,f=this.getModelById(o);return!!f&&(i=(a=(cn(u={},yn.NODE,this.deleteNode),cn(u,yn.EDGE,this.deleteEdge),u)[f.BaseType])===null||a===void 0?void 0:a.call(this,o))!==null&&i!==void 0&&i}},{key:"getModelById",value:function(o){return this.graphModel.getElement(o)}},{key:"getDataById",value:function(o){return this.graphModel.getElement(o).getData()}},{key:"changeNodeType",value:function(o,u){this.graphModel.changeNodeType(o,u)}},{key:"changeEdgeType",value:function(o,u){this.graphModel.changeEdgeType(o,u)}},{key:"getNodeEdges",value:function(o){return this.graphModel.getNodeEdges(o)}},{key:"addNode",value:function(o){return this.graphModel.addNode(o)}},{key:"deleteNode",value:function(o){var u=this.graphModel.getNodeModelById(o);if(!u)return!1;var i=u.getData(),a=this.options.guards,f=!a||!a.beforeDelete||a.beforeDelete(i);return f&&this.graphModel.deleteNode(o),f}},{key:"cloneNode",value:function(o){var u=this.graphModel.getNodeModelById(o).getData(),i=this.options.guards;if(!i||!i.beforeClone||i.beforeClone(u))return this.graphModel.cloneNode(o)}},{key:"changeNodeId",value:function(o,u){return this.graphModel.changeNodeId(o,u)}},{key:"getNodeModelById",value:function(o){return this.graphModel.getNodeModelById(o)}},{key:"getNodeDataById",value:function(o){return this.graphModel.getNodeModelById(o).getData()}},{key:"addEdge",value:function(o){return this.graphModel.addEdge(o)}},{key:"deleteEdge",value:function(o){var u=this.options.guards,i=this.graphModel.edgesMap[o];if(!i)return!1;var a=i.model.getData(),f=!u||!u.beforeDelete||u.beforeDelete(a);return f&&this.graphModel.deleteEdgeById(o),f}},{key:"deleteEdgeByNodeId",value:function(o){var u=o.sourceNodeId,i=o.targetNodeId;u&&i?this.graphModel.deleteEdgeBySourceAndTarget(u,i):u?this.graphModel.deleteEdgeBySource(u):i&&this.graphModel.deleteEdgeByTarget(i)}},{key:"changeEdgeId",value:function(o,u){return this.graphModel.changeEdgeId(o,u)}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.graphModel.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getEdgeModels",value:function(o){var u=this.graphModel.edges,i=o.sourceNodeId,a=o.targetNodeId;if(i&&a){var f=[];return u.forEach(function(M){M.sourceNodeId===i&&M.targetNodeId===a&&f.push(M)}),f}if(i){var v=[];return u.forEach(function(M){M.sourceNodeId===i&&v.push(M)}),v}if(a){var O=[];return u.forEach(function(M){M.targetNodeId===a&&O.push(M)}),O}return[]}},{key:"getEdgeDataById",value:function(o){var u;return(u=this.getEdgeModelById(o))===null||u===void 0?void 0:u.getData()}},{key:"getNodeIncomingEdge",value:function(o){return this.graphModel.getNodeIncomingEdge(o)}},{key:"getNodeOutgoingEdge",value:function(o){return this.graphModel.getNodeOutgoingEdge(o)}},{key:"getNodeIncomingNode",value:function(o){return this.graphModel.getNodeIncomingNode(o)}},{key:"getNodeOutgoingNode",value:function(o){return this.graphModel.getNodeOutgoingNode(o)}},{key:"editText",value:function(o){this.graphModel.editText(o)}},{key:"setProperties",value:function(o,u){var i;(i=this.graphModel.getElement(o))===null||i===void 0||i.setProperties(Yr(u))}},{key:"getProperties",value:function(o){var u;return(u=this.graphModel.getElement(o))===null||u===void 0?void 0:u.getProperties()}},{key:"toFront",value:function(o){this.graphModel.toFront(o)}},{key:"setElementZIndex",value:function(o,u){return this.graphModel.setElementZIndex(o,u)}},{key:"addElements",value:function(o){for(var u=this,i=o.nodes,a=o.edges,f={},v={nodes:[],edges:[]},O=0;O<i.length;O++){var M=i[O],k=M.id,z=this.addNode(M);if(!z)return;k&&(f[k]=z.id),v.nodes.push(z)}return a.forEach(function(te){var ye=te.sourceNodeId,_e=te.targetNodeId;f[ye]&&(te.sourceNodeId=f[ye]),f[_e]&&(te.targetNodeId=f[_e]);var Ne=u.graphModel.addEdge(te);v.edges.push(Ne)}),v}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(o,u,i,a).map(function(f){return f.getData()})}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(o)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var o=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(o):o}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(o){this.graphModel.editConfigModel.updateEditConfig(o)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(o,u){return this.graphModel.getPointByClient({x:o,y:u})}},{key:"undo",value:function(){if(this.history.undoAble()){var o=Yr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"redo",value:function(){if(this.history.redoAble()){var o=Yr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"zoom",value:function(o,u){return this.graphModel.transformModel.zoom(o,u)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(o){this.graphModel.transformModel.setZoomMiniSize(o)}},{key:"setZoomMaxSize",value:function(o){this.graphModel.transformModel.setZoomMaxSize(o)}},{key:"getTransform",value:function(){var o=this.graphModel.transformModel;return{SCALE_X:o.SCALE_X,SCALE_Y:o.SCALE_Y,TRANSLATE_X:o.TRANSLATE_X,TRANSLATE_Y:o.TRANSLATE_Y}}},{key:"translate",value:function(o,u){this.graphModel.transformModel.translate(o,u)}},{key:"resetTranslate",value:function(){var o=this.graphModel.transformModel,u=o.TRANSLATE_X,i=o.TRANSLATE_Y;this.translate(-u,-i)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(o){this.graphModel.fitView(o)}},{key:"on",value:function(o,u){this.graphModel.eventCenter.on(o,u)}},{key:"off",value:function(o,u){this.graphModel.eventCenter.off(o,u)}},{key:"once",value:function(o,u){this.graphModel.eventCenter.once(o,u)}},{key:"emit",value:function(o,u){this.graphModel.eventCenter.emit(o,u)}},{key:"installPlugins",value:function(){var o,u=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(o=this.plugins)!==null&&o!==void 0?o:t.extensions;a.forEach(function(f){var v=f.pluginName||f.name;i.indexOf(v)===-1&&u.installPlugin(f)})}},{key:"installPlugin",value:function(o){if(ev(o)==="object"){var u=o.install,i=o.render;return u&&u.call(o,this,t),i&&this.components.push(i.bind(o)),void(this.extension[o.pluginName]=o)}var a=o,f=new a({lf:this,LogicFlow:t});f.render&&this.components.push(f.render.bind(f)),this.extension[a.pluginName]=f}},{key:"updateAttributes",value:function(o,u){this.graphModel.updateAttributes(o,u)}},{key:"createFakerNode",value:function(o){var u=this.graphModel.modelMap.get(o.type);if(u){var i=new u(Ws(Ws({},o),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(i),i}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(o.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(o){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(o)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(o,u){this.viewMap.set(o,u)}},{key:"renderRawData",value:function(o){this.graphModel.graphDataToModel(Yr(o)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(le.j)(Object(le.g)(tm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Et.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(o=this.adapterIn(o)),this.renderRawData(o)}}])&&nv(e.prototype,n),r&&nv(e,r),t}();function Pr(t){return Me(t)}cn(Ys,"extensions",new Map),j.default=Ys}])})},86319:function(Xt,ct,w){"use strict";w.d(ct,{jX:function(){return uu},xV:function(){return Vo},Ou:function(){return hi},Qs:function(){return au},v2:function(){return yr},a9:function(){return yi},Ju:function(){return Dr},aC:function(){return rt}});var j=w(59782);function s(d,l){return l={exports:{}},d(l,l.exports),l.exports}var b=s(function(d){var l=d.exports=function(c,h){if(h||(h=16),c===void 0&&(c=128),c<=0)return"0";for(var y=Math.log(Math.pow(2,c))/Math.log(h),_=2;y===Infinity;_*=2)y=Math.log(Math.pow(2,c/_))/Math.log(h)*_;for(var P=y-Math.floor(y),D="",_=0;_<Math.floor(y);_++){var W=Math.floor(Math.random()*h).toString(h);D=W+D}if(P){var re=Math.pow(h,P),W=Math.floor(Math.random()*re).toString(h);D=W+D}var Z=parseInt(D,h);return Z!==Infinity&&Z>=Math.pow(2,c)?l(c,h):D};l.rack=function(c,h,y){var _=function(D){var W=0;do{if(W++>10)if(y)c+=y;else throw new Error("too many ID collisions, use more bits");var re=l(c,h)}while(Object.hasOwnProperty.call(P,re));return P[re]=D,re},P=_.hats={};return _.get=function(D){return _.hats[D]},_.set=function(D,W){return _.hats[D]=W,_},_.bits=c||128,_.base=h||16,_}});function p(d){if(!(this instanceof p))return new p(d);d=d||[128,36,1],this._seed=d.length?b.rack(d[0],d[1],d[2]):d}p.prototype.next=function(d){return this._seed(d||!0)},p.prototype.nextPrefixed=function(d,l){var c;do c=d+this.next(!0);while(this.assigned(c));return this.claim(c,l),c},p.prototype.claim=function(d,l){this._seed.set(d,l||!0)},p.prototype.assigned=function(d){return this._seed.get(d)||!1},p.prototype.unclaim=function(d){delete this._seed.hats[d]},p.prototype.clear=function(){var d=this._seed.hats,l;for(l in d)this.unclaim(l)};var S=p,x=new S([32,32,1]);function N(){return x.next()}var T=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),A=function(d){T(l,d);function l(c,h){var y=this;return c.id||(c.id="Event_"+N()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),y=d.call(this,c,h)||this,y}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedTargetRules=function(){var c=d.prototype.getConnectedTargetRules.call(this),h={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(h),c},l.extendKey="StartEventModel",l}(j.CircleNodeModel),R=function(d){T(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.extendKey="StartEventNode",l}(j.CircleNode),B={type:"bpmn:startEvent",view:R,model:A},V=B,U=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),ue=function(){return ue=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},ue.apply(this,arguments)},se=function(d){U(l,d);function l(c,h){var y=this;return c.id||(c.id="Event_"+N()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),y=d.call(this,c,h)||this,y}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedSourceRules=function(){var c=d.prototype.getConnectedSourceRules.call(this),h={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(h),c},l.extendKey="EndEventModel",l}(j.CircleNodeModel),ie=function(d){U(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},l.prototype.getShape=function(){var c=this.props.model,h=c.getNodeStyle(),y=c.x,_=c.y,P=c.r,D=d.prototype.getShape.call(this);return(0,j.h)("g",{},D,(0,j.h)("circle",ue(ue({},h),{cx:y,cy:_,r:P-5})))},l.extendKey="EndEventView",l}(j.CircleNode),ee={type:"bpmn:endEvent",view:ie,model:se},ne=ee,$=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),K=function(){return K=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},K.apply(this,arguments)},pe=function(d){$(l,d);function l(c,h){var y=this;return c.id||(c.id="Gateway_"+N()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),y=d.call(this,c,h)||this,y.points=[[25,0],[50,25],[25,50],[0,25]],y}return l.extendKey="ExclusiveGatewayModel",l}(j.PolygonNodeModel),H=function(d){$(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getShape=function(){var c=this.props.model,h=c.x,y=c.y,_=c.width,P=c.height,D=c.points,W=c.getNodeStyle();return(0,j.h)("g",{transform:"matrix(1 0 0 1 "+(h-_/2)+" "+(y-P/2)+")"},(0,j.h)("polygon",K(K({},W),{x:h,y,points:D})),(0,j.h)("path",K({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},W)))},l.extendKey="ExclusiveGatewayNode",l}(j.PolygonNode),fe={type:"bpmn:exclusiveGateway",view:H,model:pe},L=fe,G=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),F=function(){return F=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},F.apply(this,arguments)},oe=function(d){G(l,d);function l(c,h){var y=this;return c.id||(c.id="Activity_"+N()),y=d.call(this,c,h)||this,y}return l.extendKey="UserTaskModel",l}(j.RectNodeModel),me=function(d){G(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,h=c.x,y=c.y,_=c.width,P=c.height,D=c.getNodeStyle();return(0,j.h)("svg",{x:h-_/2+5,y:y-P/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,j.h)("path",{fill:D.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},l.prototype.getShape=function(){var c=this.props.model,h=c.x,y=c.y,_=c.width,P=c.height,D=c.radius,W=c.getNodeStyle();return(0,j.h)("g",{},[(0,j.h)("rect",F(F({},W),{x:h-_/2,y:y-P/2,rx:D,ry:D,width:_,height:P})),this.getLabelShape()])},l.extendKey="UserTaskNode",l}(j.RectNode),Se={type:"bpmn:userTask",view:me,model:oe},X=Se,J=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Y=function(){return Y=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},Y.apply(this,arguments)},ae=function(d){J(l,d);function l(c,h){var y=this;return c.id||(c.id="Activity_"+N()),y=d.call(this,c,h)||this,y}return l.extendKey="ServiceTaskModel",l}(j.RectNodeModel),ve=function(d){J(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,h=c.x,y=c.y,_=c.width,P=c.height,D=c.getNodeStyle();return(0,j.h)("svg",{x:h-_/2+5,y:y-P/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,j.h)("path",{fill:D.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},l.prototype.getShape=function(){var c=this.props.model,h=c.x,y=c.y,_=c.width,P=c.height,D=c.radius,W=c.getNodeStyle();return(0,j.h)("g",{},[(0,j.h)("rect",Y({x:h-_/2,y:y-P/2,rx:D,ry:D,width:_,height:P},W)),this.getLabelShape()])},l.extendKey="ServiceTaskNode",l}(j.RectNode),we={type:"bpmn:serviceTask",view:ve,model:ae},Ie=we,Ue=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Ye=function(d){Ue(l,d);function l(c,h){var y=this;return c.id||(c.id="Flow_"+N()),y=d.call(this,c,h)||this,y}return l.extendKey="SequenceFlowModel",l}(j.PolylineEdgeModel),He=function(d){Ue(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.extendKey="SequenceFlowEdge",l}(j.PolylineEdge),Ke={type:"bpmn:sequenceFlow",view:He,model:Ye},dt=Ke,ce={width:40,height:40},de={width:40,height:40},ge={width:40,height:40},De={width:100,height:80},ze={width:100,height:80},Ce={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},it=function(){function d(l){var c=l.lf;c.setTheme(Ce),c.register(V),c.register(ne),c.register(L),c.register(X),c.register(Ie),c.options.customBpmnEdge||(c.register(dt),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return d.pluginName="bpmnElement",d}(),rt=function(){function d(l){var c=this,h=l.lf;this.lf=h,this.customCssRules="",this.useGlobalRules=!0,h.getSnapshot=function(y,_){c.getSnapshot(y,_)},h.getSnapshotBlob=function(y){return c.getSnapshotBlob(y)},h.getSnapshotBase64=function(y){return c.getSnapshotBase64(y)}}return d.prototype.getSvgRootElement=function(l){var c=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,l.graphModel.nodes.forEach(function(y){var _=y.x,P=y.width,D=y.y,W=y.height,re=_-P/2,Z=D-W/2;re<c.offsetX&&(c.offsetX=re-5),Z<c.offsetY&&(c.offsetY=Z-5)}),l.graphModel.edges.forEach(function(y){y.pointsList&&y.pointsList.forEach(function(_){var P=_.x,D=_.y;P<c.offsetX&&(c.offsetX=P-5),D<c.offsetY&&(c.offsetY=D-5)})});var h=l.container.querySelector(".lf-canvas-overlay");return h},d.prototype.triggerDownload=function(l){var c=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),h=document.createElement("a");h.setAttribute("download",this.fileName),h.setAttribute("href",l),h.setAttribute("target","_blank"),h.dispatchEvent(c)},d.prototype.removeAnchor=function(l){for(var c=l.childNodes,h=l.childNodes&&l.childNodes.length,y=0;y<h;y++){var _=c[y],P=_.classList&&Array.from(_.classList)||[];P.indexOf("lf-anchor")>-1&&(l.removeChild(l.childNodes[y]),h--,y--)}},d.prototype.getSnapshot=function(l,c){var h=this;this.fileName=l||"logic-flow."+Date.now()+".png";var y=this.getSvgRootElement(this.lf);this.getCanvasData(y,c).then(function(_){var P=_.toDataURL("image/png").replace("image/png","image/octet-stream");h.triggerDownload(P)})},d.prototype.getSnapshotBase64=function(l){var c=this,h=this.getSvgRootElement(this.lf);return new Promise(function(y){c.getCanvasData(h,l).then(function(_){var P=_.toDataURL("image/png");y({data:P,width:_.width,height:_.height})})})},d.prototype.getSnapshotBlob=function(l){var c=this,h=this.getSvgRootElement(this.lf);return new Promise(function(y){c.getCanvasData(h,l).then(function(_){_.toBlob(function(P){y({data:P,width:_.width,height:_.height})},"image/png")})})},d.prototype.getClassRules=function(){var l="";if(this.useGlobalRules)for(var c=document.styleSheets,h=0;h<c.length;h++)for(var y=c[h],_=0;_<y.cssRules.length;_++)l+=y.cssRules[_].cssText;return this.customCssRules&&(l+=this.customCssRules),l},d.prototype.getCanvasData=function(l,c){var h=this,y=l.cloneNode(!0),_=y.lastChild,P=_.childNodes&&_.childNodes.length;if(P)for(var D=0;D<P;D++){var W=_.childNodes[D],re=W.classList&&Array.from(W.classList);if(re&&re.indexOf("lf-base")<0)_.removeChild(_.childNodes[D]),P--,D--;else{var Z=_.childNodes[D];Z&&Z.childNodes.forEach(function(mn){var un=mn;h.removeAnchor(un.firstChild)})}}y.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var je=window.devicePixelRatio||1,Pe=document.createElement("canvas"),ke=document.getElementsByClassName("lf-base")[0],Le=ke.getBoundingClientRect(),lt=this.lf.graphModel,ft=lt.transformModel,vt=ft.SCALE_X,We=ft.SCALE_Y,Nt=Math.ceil(Le.width/vt),$t=Math.ceil(Le.height/We);Pe.style.width=Nt+"px",Pe.style.height=$t+"px",Pe.width=Nt*je+80,Pe.height=$t*je+80;var tn=Pe.getContext("2d");tn.clearRect(0,0,Pe.width,Pe.height),tn.scale(je,je),c?(tn.fillStyle=c,tn.fillRect(0,0,Nt*je+80,$t*je+80)):tn.clearRect(0,0,Nt,$t);var Dn=new Image,Tn=document.createElement("style");Tn.innerHTML=this.getClassRules();var gn=document.createElement("foreignObject");return gn.appendChild(Tn),y.appendChild(gn),new Promise(function(mn){Dn.onload=function(){tn.drawImage(Dn,0,0),mn(Pe)};var un="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(y),sn=un.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Dn.src=sn})},d.pluginName="snapshot",d}(),ht=null,qe=new S([32,32,1]);function Me(){return qe.next()}function le(d,l){for(var c=0;c<l;c++)d+="  ";return d}function et(d,l,c,h){var y="";if(d instanceof Array)for(var _=0,P=d.length;_<P;_++)y+=le(c,h)+et(d[_],l,c,h+1);else if(typeof d=="object"){var D=!1;y+=le(c,h)+"<"+l;for(var W in d)W.charAt(0)=="-"?y+=" "+W.substr(1)+'="'+d[W].toString()+'"':D=!0;if(y+=D?">":" />",D){for(var W in d)W=="#text"?y+=d[W]:W=="#cdata"?y+="<![CDATA["+d[W]+"]]>":W.charAt(0)!="-"&&(y+=et(d[W],W,c,h+1));y+=le(c,h)+"</"+l+">"}}else y+=le(c,h)+"<"+l+">"+d.toString()+"</"+l+">";return y}function tt(d){var l="";for(var c in d)l+=et(d[c],c,`	
`,0);return l}var Ze=function(){};Ze.ObjTree=function(){return this},Ze.ObjTree.VERSION="0.23",Ze.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`,Ze.ObjTree.prototype.attr_prefix="-",Ze.ObjTree.prototype.parseXML=function(d){var l;if(window.DOMParser){var c=new DOMParser,h=c.parseFromString(d,"application/xml");if(!h)return;l=h.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(d),l=c.documentElement);if(!!l)return this.parseDOM(l)},Ze.ObjTree.prototype.parseHTTP=function(d,l,c){var h={};for(var y in l)h[y]=l[y];if(h.method||(typeof h.postBody=="undefined"&&typeof h.postbody=="undefined"&&typeof h.parameters=="undefined"?h.method="get":h.method="post"),c){h.asynchronous=!0;var _=this,P=c,D=h.onComplete;h.onComplete=function(Z){var je;Z&&Z.responseXML&&Z.responseXML.documentElement&&(je=_.parseDOM(Z.responseXML.documentElement)),P(je,Z),D&&D(Z)}}else h.asynchronous=!1;var W;if(typeof HTTP!="undefined"&&HTTP.Request){h.uri=d;var re=new HTTP.Request(h);re&&(W=re.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var re=new Ajax.Request(d,h);re&&(W=re.transport)}if(c)return W;if(W&&W.responseXML&&W.responseXML.documentElement)return this.parseDOM(W.responseXML.documentElement)},Ze.ObjTree.prototype.parseDOM=function(d){if(!!d){if(this.__force_array={},this.force_array)for(var l=0;l<this.force_array.length;l++)this.__force_array[this.force_array[l]]=1;var c=this.parseElement(d);if(this.__force_array[d.nodeName]&&(c=[c]),d.nodeType!=11){var h={};h[d.nodeName]=c,c=h}return c}},Ze.ObjTree.prototype.parseElement=function(d){if(d.nodeType!=7){if(d.nodeType==3||d.nodeType==4){var l=d.nodeValue.match(/[^\x00-\x20]/);return l==null?void 0:d.nodeValue}var c,h={};if(d.attributes&&d.attributes.length){c={};for(var y=0;y<d.attributes.length;y++){var _=d.attributes[y].nodeName;if(typeof _=="string"){var P=d.attributes[y].nodeValue;!P||(_=this.attr_prefix+_,typeof h[_]=="undefined"&&(h[_]=0),h[_]++,this.addNode(c,_,h[_],P))}}}if(d.childNodes&&d.childNodes.length){var D=!0;c&&(D=!1);for(var y=0;y<d.childNodes.length&&D;y++){var W=d.childNodes[y].nodeType;W==3||W==4||(D=!1)}if(D){c||(c="");for(var y=0;y<d.childNodes.length;y++)c+=d.childNodes[y].nodeValue}else{c||(c={});for(var y=0;y<d.childNodes.length;y++){var _=d.childNodes[y].nodeName;if(typeof _=="string"){var P=this.parseElement(d.childNodes[y]);!P||(typeof h[_]=="undefined"&&(h[_]=0),h[_]++,this.addNode(c,_,h[_],P))}}}}return c}},Ze.ObjTree.prototype.addNode=function(d,l,c,h){this.__force_array[l]?(c==1&&(d[l]=[]),d[l][d[l].length]=h):c==1?d[l]=h:c==2?d[l]=[d[l],h]:d[l][d[l].length]=h},Ze.ObjTree.prototype.writeXML=function(d){var l=this.hash_to_xml(null,d);return this.xmlDecl+l},Ze.ObjTree.prototype.hash_to_xml=function(d,l){var c=[],h=[];for(var y in l)if(!!l.hasOwnProperty(y)){var _=l[y];y.charAt(0)!=this.attr_prefix?typeof _=="undefined"||_==null?c[c.length]="<"+y+" />":typeof _=="object"&&_.constructor==Array?c[c.length]=this.array_to_xml(y,_):typeof _=="object"?c[c.length]=this.hash_to_xml(y,_):c[c.length]=this.scalar_to_xml(y,_):h[h.length]=" "+y.substring(1)+'="'+this.xml_escape(_)+'"'}var P=h.join(""),D=c.join("");return typeof d=="undefined"||d==null||(c.length>0?D.match(/\n/)?D="<"+d+P+`>
`+D+"</"+d+`>
`:D="<"+d+P+">"+D+"</"+d+`>
`:D="<"+d+P+` />
`),D},Ze.ObjTree.prototype.array_to_xml=function(d,l){for(var c=[],h=0;h<l.length;h++){var y=l[h];typeof y=="undefined"||y==null?c[c.length]="<"+d+" />":typeof y=="object"&&y.constructor==Array?c[c.length]=this.array_to_xml(d,y):typeof y=="object"?c[c.length]=this.hash_to_xml(d,y):c[c.length]=this.scalar_to_xml(d,y)}return c.join("")},Ze.ObjTree.prototype.scalar_to_xml=function(d,l){return d=="#text"?this.xml_escape(l):"<"+d+">"+this.xml_escape(l)+"</"+d+`>
`},Ze.ObjTree.prototype.xml_escape=function(d){return d.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var zt=function(d){return new Ze.ObjTree().parseXML(d)},_t=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},mt;(function(d){d.START="bpmn:startEvent",d.END="bpmn:endEvent",d.GATEWAY="bpmn:exclusiveGateway",d.USER="bpmn:userTask",d.SYSTEM="bpmn:serviceTask",d.FLOW="bpmn:sequenceFlow"})(mt||(mt={}));var At=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Zt(d){var l={};return Object.entries(d).forEach(function(c){var h=_t(c,2),y=h[0],_=h[1];typeof _!="object"?y.indexOf("-")===0?l[y]=_:l["-"+y]=_:l[y]=Zt(_)}),l}function Q(d){var l={};return Object.entries(d).forEach(function(c){var h=_t(c,2),y=h[0],_=h[1];typeof _=="string"?y.indexOf("-")===0?l[y.substr(1)]=_:l[y]=_:typeof _=="object"?l[y]=Q(_):l[y]=_}),l}function he(d,l){var c=new Map;l.nodes.forEach(function(y){var _,P={"-id":y.id};if(((_=y.text)===null||_===void 0?void 0:_.value)&&(P["-name"]=y.text.value),y.properties){var D=Zt(y.properties);Object.assign(P,D)}c.set(y.id,P),d[y.type]?Array.isArray(d[y.type])?d[y.type].push(P):d[y.type]=[d[y.type],P]:d[y.type]=P});var h=l.edges.map(function(y){var _,P,D=c.get(y.targetNodeId);D["bpmn:incoming"]?Array.isArray(D["bpmn:incoming"])?D["bpmn:incoming"].push(y.id):D["bpmn:incoming"]=[D["bpmn:incoming"],y.id]:D["bpmn:incoming"]=y.id;var W=c.get(y.sourceNodeId);W["bpmn:outgoing"]?Array.isArray(W["bpmn:outgoing"])?W["bpmn:outgoing"].push(y.id):W["bpmn:outgoing"]=[W["bpmn:outgoing"],y.id]:W["bpmn:outgoing"]=y.id;var re={"-id":y.id,"-sourceRef":y.sourceNodeId,"-targetRef":y.targetNodeId};if(((_=y.text)===null||_===void 0?void 0:_.value)&&(re["-name"]=(P=y.text)===null||P===void 0?void 0:P.value),y.properties){var Z=Zt(y.properties);Object.assign(re,Z)}return re});d[mt.FLOW]=h}function Te(d,l){d["bpmndi:BPMNEdge"]=l.edges.map(function(c){var h,y=c.id,_=c.pointsList.map(function(D){var W=D.x,re=D.y;return{"-x":W,"-y":re}}),P={"-id":y+"_di","-bpmnElement":y,"di:waypoint":_};return((h=c.text)===null||h===void 0?void 0:h.value)&&(P["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),P}),d["bpmndi:BPMNShape"]=l.nodes.map(function(c){var h,y=c.id,_=100,P=80,D=c.x,W=c.y,re=jt.shapeConfigMap.get(c.type);re&&(_=re.width,P=re.height),D-=_/2,W-=P/2;var Z={"-id":y+"_di","-bpmnElement":y,"dc:Bounds":{"-x":D,"-y":W,"-width":_,"-height":P}};return((h=c.text)===null||h===void 0?void 0:h.value)&&(Z["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),Z})}function be(d){var l=[],c=[],h=d["bpmn:definitions"];if(h){var y=h["bpmn:process"];Object.keys(y).forEach(function(_){if(_.indexOf("bpmn:")===0){var P=y[_];if(_===mt.FLOW){var D=h["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=Je(P,D)}else{var W=h["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];l=l.concat(Ge(P,W,_))}}})}return{nodes:l,edges:c}}function Ge(d,l,c){var h=[];if(Array.isArray(d))d.forEach(function(P){var D;Array.isArray(l)?D=l.find(function(re){return re["-bpmnElement"]===P["-id"]}):D=l;var W=Fe(D,c,P);h.push(W)});else{var y=void 0;Array.isArray(l)?y=l.find(function(P){return P["-bpmnElement"]===d["-id"]}):y=l;var _=Fe(y,c,d);h.push(_)}return h}function Fe(d,l,c){var h=Number(d["dc:Bounds"]["-x"]),y=Number(d["dc:Bounds"]["-y"]),_=c["-name"],P=jt.shapeConfigMap.get(l);P&&(h+=P.width/2,y+=P.height/2);var D;Object.entries(c).forEach(function(je){var Pe=_t(je,2),ke=Pe[0],Le=Pe[1];At.indexOf(ke)===-1&&(D||(D={}),D[ke]=Le)}),D&&(D=Q(D));var W;if(_&&(W={x:h,y,value:_},d["bpmndi:BPMNLabel"]&&d["bpmndi:BPMNLabel"]["dc:Bounds"])){var re=d["bpmndi:BPMNLabel"]["dc:Bounds"];W.x=Number(re["-x"])+Number(re["-width"])/2,W.y=Number(re["-y"])+Number(re["-height"])/2}var Z={id:d["-bpmnElement"],type:l,x:h,y,properties:D};return W&&(Z.text=W),Z}function Je(d,l){var c=[];if(Array.isArray(d))d.forEach(function(y){var _;Array.isArray(l)?_=l.find(function(P){return P["-bpmnElement"]===y["-id"]}):_=l,c.push(ut(_,y))});else{var h=void 0;Array.isArray(l)?h=l.find(function(y){return y["-bpmnElement"]===d["-id"]}):h=l,c.push(ut(h,d))}return c}function ut(d,l){var c,h=l["-name"];if(h){var y=d["bpmndi:BPMNLabel"]["dc:Bounds"],_=0;h.split(`
`).forEach(function(W){_<W.length&&(_=W.length)}),c={value:h,x:Number(y["-x"])+_*10/2,y:Number(y["-y"])+7}}var P;Object.entries(l).forEach(function(W){var re=_t(W,2),Z=re[0],je=re[1];At.indexOf(Z)===-1&&(P||(P={}),P[Z]=je)}),P&&(P=Q(P));var D={id:l["-id"],type:mt.FLOW,pointsList:d["di:waypoint"].map(function(W){return{x:Number(W["-x"]),y:Number(W["-y"])}}),sourceNodeId:l["-sourceRef"],targetNodeId:l["-targetRef"],properties:P};return c&&(D.text=c),D}var jt={pluginName:"bpmn-adapter",install:function(d){d.adapterIn=this.adapterIn,d.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(d,l){this.shapeConfigMap.set(d,l)},adapterOut:function(d){var l={"-id":"Process_"+Me(),"-isExecutable":"false"};he(l,d);var c={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};Te(c,d);var h={"bpmn:definitions":{"-id":"Definitions_"+Me(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":l,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return h},adapterIn:function(d){if(d)return be(d)}};jt.shapeConfigMap.set(mt.START,{width:ce.width,height:ce.height}),jt.shapeConfigMap.set(mt.END,{width:de.width,height:de.height}),jt.shapeConfigMap.set(mt.GATEWAY,{width:ge.width,height:ge.height}),jt.shapeConfigMap.set(mt.SYSTEM,{width:De.width,height:De.height}),jt.shapeConfigMap.set(mt.USER,{width:ze.width,height:ze.height});var Vt={pluginName:"bpmnXmlAdapter",install:function(d){d.adapterIn=this.adapterXmlIn,d.adapterOut=this.adapterXmlOut},adapterXmlIn:function(d){var l=zt(d);return jt.adapterIn(l)},adapterXmlOut:function(d){var l=jt.adapterOut(d);return tt(l)}},_n=null,rn=function(){return rn=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},rn.apply(this,arguments)},Mt=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},$e={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},st={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function yt(d){switch(d){case"bpmn:sequenceFlow":return $e.SEQUENCE_FLOW;case"bpmn:startEvent":return $e.START_EVENT;case"bpmn:endEvent":return $e.END_EVENT;case"bpmn:userTask":return $e.USER_TASK;case"bpmn:exclusiveGateway":return $e.EXCLUSIVE_GATEWAY;default:return d}}function Ot(d){var l=d.id,c=d.type,h=d.x,y=d.y,_=d.text,P=_===void 0?"":_,D=d.properties;return{incoming:[],outgoing:[],dockers:[],type:yt(d.type),properties:rn(rn({},D),{name:P&&P.value||"",x:h,y,text:P}),key:l}}function Ht(d){var l=d.id,c=d.type,h=d.sourceNodeId,y=d.targetNodeId,_=d.startPoint,P=d.endPoint,D=d.pointsList,W=d.text,re=W===void 0?"":W,Z=d.properties;return{incoming:[h],outgoing:[y],type:yt(c),dockers:[],properties:rn(rn({},Z),{name:re&&re.value||"",text:re,startPoint:JSON.stringify(_),endPoint:JSON.stringify(P),pointsList:JSON.stringify(re)}),key:l}}function en(d){var l=new Map,c={flowElementList:[]};return d.nodes.forEach(function(h){var y=Ot(h);c.flowElementList.push(y),l.set(h.id,y)}),d.edges.forEach(function(h){var y=Ht(h),_=l.get(h.sourceNodeId);_.outgoing.push(y.key);var P=l.get(h.targetNodeId);P.incoming.push(y.key),c.flowElementList.push(y)}),c}function On(d){var l=d.incoming,c=d.outgoing,h=d.properties,y=d.key,_=d.type,P=h.text,D=h.name,W=h.startPoint,re=h.endPoint,Z=h.pointsList,je={id:y,type:st[_],sourceNodeId:l[0],targetNodeId:c[0],text:P||D,properties:{}};W&&(je.startPoint=JSON.parse(W)),re&&(je.endPoint=JSON.parse(re)),Z&&(je.endPoint=JSON.parse(Z));var Pe=["startPoint","endPoint","pointsList","text"];return Object.keys(d.properties).forEach(function(ke){Pe.indexOf(ke)===-1&&(je.properties[ke]=d.properties[ke])}),je}function Ho(d){var l=d.properties,c=d.key,h=d.type,y=d.bounds,_=l.x,P=l.y;if(_===void 0){var D=Mt(y,2),W=D[0],re=W.x,Z=W.y,je=D[1],Pe=je.x,ke=je.y;_=(re+Pe)/2,P=(Z+ke)/2}var Le={id:c,type:st[h],x:_,y:P,text:l.text,properties:{}},lt=["x","y","text"];return Object.keys(d.properties).forEach(function(ft){lt.indexOf(ft)===-1&&(Le.properties[ft]=d.properties[ft])}),Le}function ir(d){var l={nodes:[],edges:[]},c=d.flowElementList;return c&&c.length>0&&c.forEach(function(h){if(h.type===$e.SEQUENCE_FLOW){var y=On(h);l.edges.push(y)}else{var _=Ho(h);l.nodes.push(_)}}),l}var Mr=function(){function d(l){var c=l.lf;c.adapterIn=this.adapterIn,c.adapterOut=this.adapterOut}return d.prototype.adapterOut=function(l){if(l)return en(l)},d.prototype.adapterIn=function(l){if(l)return ir(l)},d.pluginName="turboAdapter",d}(),Go=null,Nr;(function(d){d.HORIZONTAL="horizontal",d.VERTICAL="vertical"})(Nr||(Nr={}));var Jn=function(d,l,c){var h=d.x,y=d.y;return(h-l.x)*(h-c.x)<=0&&(y-l.y)*(y-c.y)<=0},No=function(d){var l=d.x,c=d.y,h=d.width,y=d.height,_={minX:l-h/2,minY:c-y/2,maxX:l+h/2,maxY:c+y/2,x:l,y:c,width:h,height:y,centerX:l,centerY:c};return _},ci=function(d,l){var c;return d.x===l.x?c=Nr.VERTICAL:d.y===l.y&&(c=Nr.HORIZONTAL),c},at=function(d,l,c){var h=No(d),y=ci(l,c),_=Math.max(l.x,c.x),P=Math.min(l.x,c.x),D=Math.max(l.y,c.y),W=Math.min(l.y,c.y),re=d.x,Z=d.y,je=d.width,Pe=d.height;if(y===Nr.HORIZONTAL){if(l.y===Z&&_>=h.maxX&&P<=h.minX)return{startCrossPoint:{x:l.x>c.x?re+je/2:re-je/2,y:Z},endCrossPoint:{x:l.x>c.x?re-je/2:re+je/2,y:Z}}}else if(y===Nr.VERTICAL&&l.x===d.x&&D>=h.maxY&&W<=h.minY)return{startCrossPoint:{x:re,y:l.y>c.y?Z+Pe/2:Z-Pe/2},endCrossPoint:{x:re,y:l.y>c.y?Z-Pe/2:Z+Pe/2}}},Hi=function(d,l){for(var c=d.x,h=d.y,y=l.pointsList,_=0;_<y.length-1;_++)if(Jn({x:c,y:h},y[_],y[_+1])){var P=at(d,y[_],y[_+1]);if(P)return{crossIndex:_+1,crossPoints:P}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},li=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},Fo=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(li(arguments[l]));return d},Wn=function(){function d(l){var c=l.lf;this._lf=c,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return d.prototype.eventHandler=function(){var l=this;this.dndAdd&&this._lf.on("node:dnd-add",function(c){var h=c.data;l.insetNode(h)}),this.dropAdd&&this._lf.on("node:drop",function(c){for(var h=c.data,y=l._lf.graphModel.edges,_=h.id,P=!0,D=0;D<y.length;D++)if(y[D].sourceNodeId===_||y[D].targetNodeId===_){P=!1;break}P&&l.insetNode(h)})},d.prototype.insetNode=function(l){for(var c=this._lf.graphModel.edges,h=this._lf.getNodeModelById(l.id),y=0;y<c.length;y++){var _=Hi(h,c[y]),P=_.crossIndex,D=_.crossPoints;if(P>=0){var W=c[y],re=W.sourceNodeId,Z=W.targetNodeId,je=W.id,Pe=W.type,ke=W.pointsList;this._lf.addEdge({type:Pe,sourceNodeId:re,targetNodeId:l.id,pointsList:Fo(ke.slice(0,P),[D.startCrossPoint])}),this._lf.addEdge({type:Pe,sourceNodeId:l.id,targetNodeId:Z,pointsList:Fo([D.endCrossPoint],ke.slice(P))}),this._lf.deleteEdge(je);break}}},d.pluginName="insertNodeInPolyline",d}(),Yn=null,ar=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},kr=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(ar(arguments[l]));return d},ur=function(){function d(l){var c=this,h=l.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){c.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){c.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){c.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){c.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){c.lf.redo()}}],this.lf=h}return d.prototype.render=function(l,c){this.destroy();var h=this.getControlTool();this.toolEl=h,c.appendChild(h),this.domContainer=c},d.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},d.prototype.addItem=function(l){this.controlItems.push(l)},d.prototype.removeItem=function(l){var c=this.controlItems.findIndex(function(h){return h.key===l});return this.controlItems.splice(c,1)[0]},d.prototype.getControlTool=function(){var l=this,c="lf-control-item",h="lf-control-item disabled",y=document.createElement("div"),_=[];return y.className="lf-control",this.controlItems.forEach(function(P){var D=document.createElement("div"),W=document.createElement("i"),re=document.createElement("span");switch(D.className=h,P.onClick&&(D.onclick=P.onClick.bind(null,l.lf)),P.onMouseEnter&&(D.onmouseenter=P.onMouseEnter.bind(null,l.lf)),P.onMouseLeave&&(D.onmouseleave=P.onMouseLeave.bind(null,l.lf)),W.className=P.iconClass,re.className="lf-control-text",re.title=P.title,re.innerText=P.text,D.append(W,re),P.text){case"\u4E0A\u4E00\u6B65":l.lf.on("history:change",function(Z){var je=Z.data.undoAble;D.className=je?c:h});break;case"\u4E0B\u4E00\u6B65":l.lf.on("history:change",function(Z){var je=Z.data.redoAble;D.className=je?c:h});break;default:D.className=c;break}_.push(D)}),y.append.apply(y,kr(_)),y},d.pluginName="control",d}(),fi=null,pi=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},Gi=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(pi(arguments[l]));return d},sr="lf:defaultNodeMenu",ro="lf:defaultEdgeMenu",Ar="lf:defaultGraphMenu",di="lf:defaultSelectionMenu",yr=function(){function d(l){var c=this,h=l.lf;this.__menuDOM=document.createElement("ul"),this.lf=h,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(y){c.setMenuConfig(y)},this.lf.addMenuConfig=function(y){c.addMenuConfig(y)},this.lf.setMenuByType=function(y){c.setMenuByType(y)}}return d.prototype.init=function(){var l=this,c=[{text:"\u5220\u9664",callback:function(_){l.lf.deleteNode(_.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(_){l.lf.graphModel.editText(_.id)}},{text:"\u590D\u5236",callback:function(_){l.lf.cloneNode(_.id)}}];this.menuTypeMap.set(sr,c);var h=[{text:"\u5220\u9664",callback:function(_){l.lf.deleteEdge(_.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(_){l.lf.graphModel.editText(_.id)}}];this.menuTypeMap.set(ro,h),this.menuTypeMap.set(Ar,[]);var y=[{text:"\u5220\u9664",callback:function(_){l.lf.clearSelectElements(),_.edges.forEach(function(P){return l.lf.deleteEdge(P.id)}),_.nodes.forEach(function(P){return l.lf.deleteNode(P.id)})}}];this.menuTypeMap.set(di,y)},d.prototype.render=function(l,c){var h=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(y){y.stopPropagation();for(var _=y.target;Array.from(_.classList).indexOf("lf-menu-item")===-1&&Array.from(_.classList).indexOf("lf-menu")===-1;)_=_.parentElement;Array.from(_.classList).indexOf("lf-menu-item")>-1?(_.onclickCallback(h.__currentData),h.__menuDOM.style.display="none",h.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(y){var _=y.data,P=y.position,D=P.domOverlayPosition,W=D.x,re=D.y,Z=_.id,je=h.lf.graphModel.getNodeModelById(Z),Pe=[],ke=h.menuTypeMap.get(je.type);je&&je.menu&&Array.isArray(je.menu)?Pe=je.menu:ke?Pe=ke:Pe=h.menuTypeMap.get(sr),h.__currentData=_,h.showMenu(W,re,Pe)}),this.lf.on("edge:contextmenu",function(y){var _=y.data,P=y.position,D=P.domOverlayPosition,W=D.x,re=D.y,Z=_.id,je=h.lf.graphModel.getEdgeModelById(Z),Pe=[],ke=h.menuTypeMap.get(je.type);je&&je.menu&&Array.isArray(je.menu)?Pe=je.menu:ke?Pe=ke:Pe=h.menuTypeMap.get(ro),h.__currentData=_,h.showMenu(W,re,Pe)}),this.lf.on("blank:contextmenu",function(y){var _=y.position,P=h.menuTypeMap.get(Ar),D=_.domOverlayPosition,W=D.x,re=D.y;h.showMenu(W,re,P)}),this.lf.on("selection:contextmenu",function(y){var _=y.data,P=y.position,D=h.menuTypeMap.get(di),W=P.domOverlayPosition,re=W.x,Z=W.y;h.__currentData=_,h.showMenu(re,Z,D)}),this.lf.on("node:mousedown",function(){h.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){h.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){h.__menuDOM.style.display="none"})},d.prototype.destroy=function(){var l;(l=this===null||this===void 0?void 0:this.__container)===null||l===void 0||l.removeChild(this.__menuDOM),this.__menuDOM=null},d.prototype.showMenu=function(l,c,h){if(!(!h||!h.length)){var y=this.__menuDOM;y.innerHTML="",y.append.apply(y,Gi(this.__getMenuDom(h))),!!y.children.length&&(y.style.display="block",y.style.top=c+"px",y.style.left=l+"px")}},d.prototype.setMenuByType=function(l){!l.type||!l.menu||this.menuTypeMap.set(l.type,l.menu)},d.prototype.__getMenuDom=function(l){var c=[];return l&&l.length>0&&l.forEach(function(h){var y=document.createElement("li");if(h.className?y.className="lf-menu-item "+h.className:y.className="lf-menu-item",h.icon===!0){var _=document.createElement("span");_.className="lf-menu-item-icon",y.appendChild(_)}var P=document.createElement("span");P.className="lf-menu-item-text",h.text&&(P.innerText=h.text),y.appendChild(P),y.onclickCallback=h.callback,c.push(y)}),c},d.prototype.setMenuConfig=function(l){!l||(l.nodeMenu!==void 0&&this.menuTypeMap.set(sr,l.nodeMenu?l.nodeMenu:[]),l.edgeMenu!==void 0&&this.menuTypeMap.set(ro,l.edgeMenu?l.edgeMenu:[]),l.graphMenu!==void 0&&this.menuTypeMap.set(Ar,l.graphMenu?l.graphMenu:[]))},d.prototype.addMenuConfig=function(l){if(!!l){if(Array.isArray(l.nodeMenu)){var c=this.menuTypeMap.get(sr);this.menuTypeMap.set(sr,c.concat(l.nodeMenu))}if(Array.isArray(l.edgeMenu)){var c=this.menuTypeMap.get(ro);this.menuTypeMap.set(ro,c.concat(l.edgeMenu))}if(Array.isArray(l.graphMenu)){var c=this.menuTypeMap.get(Ar);this.menuTypeMap.set(Ar,c.concat(l.graphMenu))}}},d.prototype.changeMenuItem=function(l,c){if(l==="add")this.addMenuConfig(c);else if(l==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},d.pluginName="menu",d}(),Fi=null,cr=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},Uo="menu-common",oo=200,Xo=100,Vo=function(){function d(l){var c=this,h=l.lf;this.menuTypeMap=new Map,this.listenDelete=function(){c.hideContextMenu()},this.lf=h,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(Uo,[]),this.lf.setContextMenuByType=function(y,_){c.setContextMenuByType(y,_)},this.lf.setContextMenuItems=function(y){c.setContextMenuItems(y)},this.lf.showContextMenu=function(y){c.showContextMenu(y)},this.lf.hideContextMenu=function(){c.hideContextMenu()}}return d.prototype.render=function(l,c){var h=this;this.container=c,l.on("node:click",function(y){var _=y.data;h._activeData=_,h.createContextMenu()}),l.on("edge:click",function(y){var _=y.data;h._activeData=_,h.createContextMenu()}),l.on("blank:click",function(){h.hideContextMenu()})},d.prototype.setContextMenuByType=function(l,c){this.menuTypeMap.set(l,c)},d.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},d.prototype.showContextMenu=function(l){if(!l||!l.id){console.warn("\u8BF7\u68C0\u67E5\u4F20\u5165\u7684\u53C2\u6570");return}this._activeData=l,this.createContextMenu()},d.prototype.setContextMenuItems=function(l){this.menuTypeMap.set(Uo,l)},d.prototype.getContextMenuPosition=function(){var l=this._activeData,c=this.lf.graphModel.getElement(l.id);if(!c){console.warn("\u627E\u4E0D\u5230\u5143\u7D20"+l.id);return}var h,y;if(c.BaseType==="edge"){h=Number.MIN_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER;var _=c.getData();h=Math.max(_.startPoint.x,h),y=Math.min(_.startPoint.y,y),h=Math.max(_.endPoint.x,h),y=Math.min(_.endPoint.y,y),_.pointsList&&_.pointsList.forEach(function(P){h=Math.max(P.x,h),y=Math.min(P.y,y)})}return c.BaseType==="node"&&(h=l.x+c.width/2,y=l.y-c.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([h,y])},d.prototype.createContextMenu=function(){var l=this,c=this.lf.options.isSilentMode;if(!c){var h=this.menuTypeMap.get(this._activeData.type)||[];h=h.concat(this.menuTypeMap.get(Uo));var y=document.createDocumentFragment();h.forEach(function(_){var P=document.createElement("div");P.className="lf-context-item";var D=document.createElement("img");D.src=_.icon,D.className="lf-context-img",_.className&&(P.className=P.className+" "+_.className),D.addEventListener("click",function(){l.hideContextMenu(),_.callback?_.callback(l._activeData):l.addNode({sourceId:l._activeData.id,x:l._activeData.x,y:l._activeData.y,properties:_.properties,type:_.type})}),P.appendChild(D),y.appendChild(P)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(y),this.showMenu()}},d.prototype.addNode=function(l,c){var h=c!==void 0;c===void 0&&(c=l.y);var y=this.lf.getNodeModelById(l.sourceId),_=l.x-y.width+oo,P=c-l.y/2-20,D=l.x+y.width+oo,W=c+l.y/2+20,re=this.lf.getAreaElement([_,P],[D,W]);if(re.length){c=c+Xo,this.addNode(l,c);return}var Z=this.lf.addNode({type:l.type,x:l.x+200,y:c,properties:l.properties}),je,Pe;h&&(je={x:l.x,y:l.y+y.height/2},Pe={x:Z.x-Z.width/2,y:Z.y}),this.lf.addEdge({sourceNodeId:l.sourceId,targetNodeId:Z.id,startPoint:je,endPoint:Pe})},d.prototype.showMenu=function(){var l=cr(this.getContextMenuPosition(),2),c=l[0],h=l[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=h+"px",this.__menuDOM.style.left=c+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},d.pluginName="contextMenu",d}(),ya=null,hi=function(){function d(l){var c=this,h=l.lf;this.lf=h,this.lf.setPatternItems=function(y){c.setPatternItems(y)}}return d.prototype.render=function(l,c){var h=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(y){h.panelEl.appendChild(h.createDndItem(y))}),c.appendChild(this.panelEl),this.domContainer=c},d.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},d.prototype.setPatternItems=function(l){this.shapeList=l,this.domContainer&&this.render(this.lf,this.domContainer)},d.prototype.createDndItem=function(l){var c=this,h=document.createElement("div");h.className=l.className?"lf-dnd-item "+l.className:"lf-dnd-item";var y=document.createElement("div");if(y.className="lf-dnd-shape",l.icon&&(y.style.backgroundImage="url("+l.icon+")"),h.appendChild(y),l.label){var _=document.createElement("div");_.innerText=l.label,_.className="lf-dnd-text",h.appendChild(_)}return h.onmousedown=function(){l.type&&c.lf.dnd.startDrag({type:l.type,properties:l.properties,text:l.text}),l.callback&&l.callback(c.lf,c.domContainer)},h},d.pluginName="dndPanel",d}(),Dr=function(){function d(l){var c=this,h=l.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(_){var P=c.lf.getPointByClient(_.clientX,_.clientY).domOverlayPosition,D=P.x,W=P.y;c.endPoint={x:D,y:W};var re=c.startPoint,Z=re.x,je=re.y,Pe=c.wrapper.style,ke=Z,Le=je,lt=D-Z,ft=W-je;D<Z&&(ke=D,lt=Z-D),W<je&&(Le=W,ft=je-W),Pe.left=ke+"px",Pe.top=Le+"px",Pe.width=lt+"px",Pe.height=ft+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var _=c.startPoint,P=_.x,D=_.y,W=c.endPoint,re=W.x,Z=W.y;if(!(Math.abs(re-P)<10&&Math.abs(Z-D)<10)){var je=[Math.min(P,re),Math.min(D,Z)],Pe=[Math.max(P,re),Math.max(D,Z)],ke=c.lf.getAreaElement(je,Pe,c.isWholeEdge,c.isWholeNode);ke.forEach(function(Le){c.lf.selectElementById(Le.id,!0)}),c.lf.emit("selection:selected",ke)}},this.lf=h;var y=h.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=y,h.openSelectionSelect=function(){c.openSelectionSelect()},h.closeSelectionSelect=function(){c.closeSelectionSelect()}}return d.prototype.render=function(l,c){var h=this;this.__domContainer=c,l.on("blank:mousedown",function(y){var _=y.e,P=l.getEditConfig();if(!(!P.stopMoveGraph||h.__disabled)){var D=l.getPointByClient(_.clientX,_.clientY).domOverlayPosition,W=D.x,re=D.y;h.startPoint={x:W,y:re},h.endPoint={x:W,y:re};var Z=document.createElement("div");Z.className="lf-selection-select",Z.style.top=h.startPoint.y+"px",Z.style.left=h.startPoint.x+"px",c.appendChild(Z),h.wrapper=Z,document.addEventListener("mousemove",h.__draw),document.addEventListener("mouseup",h.__drawOff)}})},d.prototype.setSelectionSense=function(l,c){l===void 0&&(l=!0),c===void 0&&(c=!0),this.isWholeEdge=l,this.isWholeNode=c},d.prototype.openSelectionSelect=function(){var l=this.lf.getEditConfig().stopMoveGraph;l||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},d.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},d.prototype.open=function(){this.__disabled=!1},d.prototype.close=function(){this.__disabled=!0},d.pluginName="selectionSelect",d}(),Tr=function(d){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&d[l],h=0;if(c)return c.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&h>=d.length&&(d=void 0),{value:d&&d[h++],done:!d}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},yi=function(){function d(l){var c=this,h=l.lf,y=l.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(_,P){c.__setView(),c.__isShow||c.__createMiniMap(_,P),c.__isShow=!0},this.hide=function(){c.__isShow&&c.__removeMiniMap(),c.__isShow=!1},this.__startDrag=function(_){document.addEventListener("mousemove",c.__drag),document.addEventListener("mouseup",c.__drop),c.__startPosition={x:_.x,y:_.y}},this.__drag=function(_){var P=c.__viewport.style;c.__viewPortTop+=_.y-c.__startPosition.y,c.__viewPortLeft+=_.x-c.__startPosition.x,P.top=c.__viewPortTop+"px",P.left=c.__viewPortLeft+"px",c.__startPosition={x:_.x,y:_.y};var D=(c.__viewPortLeft+c.__viewPortWidth/2)/c.__viewPortScale,W=(c.__viewPortTop+c.__viewPortHeight/2)/c.__viewPortScale;c.__lf.focusOn({coordinate:{x:D+c.__resetDataX,y:W+c.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",c.__drag),document.removeEventListener("mouseup",c.__drop)},this.__lf=h,this.__miniMapWidth=h.graphModel.width,this.__miniMapHeight=h.graphModel.width*220/150,this.__LogicFlow=y,this.__init()}return d.prototype.render=function(l,c){var h=this;this.__container=c,this.__lf.on("history:change",function(){h.__isShow&&h.__setView()})},d.prototype.init=function(l){this.__disabledPlugins=this.__disabledPlugins.concat(l.disabledPlugins||[])},d.prototype.__init=function(){var l=document.createElement("div");l.className="lf-mini-map-graph",l.style.width=this.__width+"px",l.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:this.__lf.graphModel.width*220/150,container:l,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(c){return c},this.__lfMap.adapterOut=function(c){return c},this.__miniMapWrap=l,this.__createViewPort()},d.prototype.__createMiniMap=function(l,c){var h=document.createElement("div"),y=this.__miniMapWrap;h.appendChild(y),typeof l!="undefined"&&typeof c!="undefined"&&(h.style.left=l+"px",h.style.top=c+"px"),h.style.position="absolute",h.className="lf-mini-map",this.__container.appendChild(h),this.__miniMapWrap.appendChild(this.__viewport);var _=document.createElement("div");_.className="lf-mini-map-header",_.innerText="\u5BFC\u822A",h.appendChild(_);var P=document.createElement("span");P.className="lf-mini-map-close",P.addEventListener("click",this.hide),h.appendChild(P),this.__miniMapContainer=h},d.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},d.prototype.__getBounds=function(l){var c=0,h=this.__miniMapWidth,y=0,_=this.__miniMapHeight,P=l.nodes;return P&&P.length>0&&P.forEach(function(D){var W=D.x,re=D.y,Z=D.width,je=Z===void 0?200:Z,Pe=D.height,ke=Pe===void 0?200:Pe,Le=W-je/2,lt=W+je/2,ft=re-ke/2,vt=re+ke/2;c=Le<c?Le:c,h=lt>h?lt:h,y=ft<y?ft:y,_=vt>_?vt:_}),{left:c,top:y,bottom:_,right:h}},d.prototype.__resetData=function(l){var c=l.nodes,h=l.edges,y=0,_=0;return c&&c.length>0&&(c.forEach(function(P){var D=P.x,W=P.y,re=P.width,Z=re===void 0?200:re,je=P.height,Pe=je===void 0?200:je,ke=D-Z/2,Le=W-Pe/2;y=ke<y?ke:y,_=Le<_?Le:_}),(y<0||_<0)&&(this.__resetDataX=y,this.__resetDataY=_,c.forEach(function(P){P.x=P.x-y,P.y=P.y-_,P.text&&(P.text.x=P.text.x-y,P.text.y=P.text.y-_)}),h.forEach(function(P){P.startPoint&&(P.startPoint.x=P.startPoint.x-y,P.startPoint.y=P.startPoint.y-_),P.endPoint&&(P.endPoint.x=P.endPoint.x-y,P.endPoint.y=P.endPoint.y-_),P.text&&(P.text.x=P.text.x-y,P.text.y=P.text.y-_),P.pointsList&&P.pointsList.forEach(function(D){D.x=D.x-y,D.y=D.y-_})}))),l},d.prototype.__setView=function(){var l,c,h=this.__resetData(this.__lf.getGraphRawData()),y=this.__lf.viewMap,_=this.__lf.graphModel.modelMap,P=this.__lfMap.viewMap;try{for(var D=Tr(y.keys()),W=D.next();!W.done;W=D.next()){var re=W.value;P.has(re)||(this.__lfMap.setView(re,y.get(re)),this.__lfMap.graphModel.modelMap.set(re,_.get(re)))}}catch(Nt){l={error:Nt}}finally{try{W&&!W.done&&(c=D.return)&&c.call(D)}finally{if(l)throw l.error}}this.__lfMap.render(h);var Z=this.__getBounds(h),je=Z.left,Pe=Z.top,ke=Z.right,Le=Z.bottom,lt=this.__width/(ke-je),ft=this.__height/(Le-Pe),vt=this.__miniMapWrap.firstChild.style,We=Math.min(lt,ft);vt.transform="matrix("+We+", 0, 0, "+We+", 0, 0)",vt.transformOrigin="left top",vt.height=Le-Math.min(Pe,0)+"px",vt.width=ke-Math.min(je,0)+"px",this.__viewPortScale=We,this.__setViewPort(We,{left:je,top:Pe,right:ke,bottom:Le})},d.prototype.__setViewPort=function(l,c){var h=c.left,y=c.right,_=c.top,P=c.bottom,D=this.__viewport.style;D.width=this.__width-4+"px",D.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var W=this.__lf.getTransform(),re=W.TRANSLATE_X,Z=W.TRANSLATE_Y,je=y-h,Pe=(this.__width-4)/(je/this.__lf.graphModel.width),ke=this.__lf.graphModel.width/this.__lf.graphModel.height,Le=Pe/ke;this.__viewPortTop=Z>0?0:-Z*l,this.__viewPortLeft=-re*l,this.__viewPortWidth=Pe,this.__viewPortHeight=Le,D.top=this.__viewPortTop+"px",D.left=this.__viewPortLeft+"px",D.width=Pe+"px",D.height=Le+"px"},d.prototype.__createViewPort=function(){var l=document.createElement("div");l.className="lf-minimap-viewport",l.addEventListener("mousedown",this.__startDrag),this.__viewport=l},d.pluginName="miniMap",d}(),io=null,Qn=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Cr=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},vi=function(d){Qn(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),h=c.strokeWidth,y=c.stroke,_=c.strokeDashArray,P=this.props.model.points,D=P.split(" ").map(function(bn){return bn.split(",").map(function(Cn){return Number(Cn)})}),W=Cr(D[0],2),re=W[0],Z=W[1],je="M"+re+" "+Z,Pe=5,ke=1;ke<D.length-1;ke++){var Le=Cr(D[ke-1],2),lt=Le[0],ft=Le[1],vt=Cr(D[ke],2),We=vt[0],Nt=vt[1],$t=Cr(D[ke+1],2),tn=$t[0],Dn=$t[1];if(We===lt&&Nt!==ft){var Tn=Nt>ft?Nt-Pe:Nt+Pe;je=je+" L "+We+" "+Tn}if(Nt===ft&&We!==lt){var gn=We>lt?We-Pe:We+Pe;je=je+" L "+gn+" "+Nt}if(je=je+" Q "+We+" "+Nt,We===tn&&Nt!==Dn){var Tn=Nt>Dn?Nt-Pe:Nt+Pe;je=je+" "+We+" "+Tn}if(Nt===Dn&&We!==tn){var gn=We>tn?We-Pe:We+Pe;je=je+" "+gn+" "+Nt}}var mn=Cr(D[D.length-1],2),un=mn[0],sn=mn[1];return je=je+" L "+un+" "+sn,(0,j.h)("path",{d:je,strokeWidth:h,stroke:y,fill:"none",strokeDashArray:_})},l.extendKey="curvedEdge",l}(j.PolylineEdge),ao=function(d){Qn(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l}(j.PolylineEdgeModel),gi={pluginName:"curved-edge",curvedSpace:5,init:function(d){var l=d.curvedSpace;gi.curvedSpace=l},install:function(d){d.register({type:"curved-edge",view:vi,model:ao})}},va=null,Rr,Kt,Ir,mi,uo,Wo,ko,Lr,zn={},ln=[],bi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function qn(d,l){for(var c in l)d[c]=l[c];return d}function Yo(d){var l=d.parentNode;l&&l.removeChild(d)}function Bn(d,l,c){var h,y,_,P={};for(_ in l)_=="key"?h=l[_]:_=="ref"?y=l[_]:P[_]=l[_];if(arguments.length>2&&(P.children=arguments.length>3?Rr.call(arguments,2):c),typeof d=="function"&&d.defaultProps!=null)for(_ in d.defaultProps)P[_]===void 0&&(P[_]=d.defaultProps[_]);return zr(d,P,h,y,null)}function zr(d,l,c,h,y){var _={type:d,props:l,key:c,ref:h,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:y==null?++Ir:y};return y==null&&Kt.vnode!=null&&Kt.vnode(_),_}function _i(){return{current:null}}function wn(d){return d.children}function hn(d,l){this.props=d,this.context=l}function lr(d,l){if(l==null)return d.__?lr(d.__,d.__.__k.indexOf(d)+1):null;for(var c;l<d.__k.length;l++)if((c=d.__k[l])!=null&&c.__e!=null)return c.__e;return typeof d.type=="function"?lr(d):null}function Zo(d){var l,c;if((d=d.__)!=null&&d.__c!=null){for(d.__e=d.__c.base=null,l=0;l<d.__k.length;l++)if((c=d.__k[l])!=null&&c.__e!=null){d.__e=d.__c.base=c.__e;break}return Zo(d)}}function Br(d){(!d.__d&&(d.__d=!0)&&uo.push(d)&&!vr.__r++||ko!==Kt.debounceRendering)&&((ko=Kt.debounceRendering)||Wo)(vr)}function vr(){for(var d;vr.__r=uo.length;)d=uo.sort(function(l,c){return l.__v.__b-c.__v.__b}),uo=[],d.some(function(l){var c,h,y,_,P,D;l.__d&&(P=(_=(c=l).__v).__e,(D=c.__P)&&(h=[],(y=qn({},_)).__v=_.__v+1,Ao(D,_,y,c.__n,D.ownerSVGElement!==void 0,_.__h!=null?[P]:null,h,P==null?lr(_):P,_.__h),so(h,_),_.__e!=P&&Zo(_)))})}function Hr(d,l,c,h,y,_,P,D,W,re){var Z,je,Pe,ke,Le,lt,ft,vt=h&&h.__k||ln,We=vt.length;for(c.__k=[],Z=0;Z<l.length;Z++)if((ke=c.__k[Z]=(ke=l[Z])==null||typeof ke=="boolean"?null:typeof ke=="string"||typeof ke=="number"||typeof ke=="bigint"?zr(null,ke,null,null,ke):Array.isArray(ke)?zr(wn,{children:ke},null,null,null):ke.__b>0?zr(ke.type,ke.props,ke.key,null,ke.__v):ke)!=null){if(ke.__=c,ke.__b=c.__b+1,(Pe=vt[Z])===null||Pe&&ke.key==Pe.key&&ke.type===Pe.type)vt[Z]=void 0;else for(je=0;je<We;je++){if((Pe=vt[je])&&ke.key==Pe.key&&ke.type===Pe.type){vt[je]=void 0;break}Pe=null}Ao(d,ke,Pe=Pe||zn,y,_,P,D,W,re),Le=ke.__e,(je=ke.ref)&&Pe.ref!=je&&(ft||(ft=[]),Pe.ref&&ft.push(Pe.ref,null,ke),ft.push(je,ke.__c||Le,ke)),Le!=null?(lt==null&&(lt=Le),typeof ke.type=="function"&&ke.__k===Pe.__k?ke.__d=W=Gr(ke,W,d):W=er(d,ke,Pe,vt,Le,W),typeof c.type=="function"&&(c.__d=W)):W&&Pe.__e==W&&W.parentNode!=d&&(W=lr(Pe))}for(c.__e=lt,Z=We;Z--;)vt[Z]!=null&&(typeof c.type=="function"&&vt[Z].__e!=null&&vt[Z].__e==c.__d&&(c.__d=lr(h,Z+1)),Oi(vt[Z],vt[Z]));if(ft)for(Z=0;Z<ft.length;Z++)Do(ft[Z],ft[++Z],ft[++Z])}function Gr(d,l,c){for(var h,y=d.__k,_=0;y&&_<y.length;_++)(h=y[_])&&(h.__=d,l=typeof h.type=="function"?Gr(h,l,c):er(c,h,h,y,h.__e,l));return l}function Zn(d,l){return l=l||[],d==null||typeof d=="boolean"||(Array.isArray(d)?d.some(function(c){Zn(c,l)}):l.push(d)),l}function er(d,l,c,h,y,_){var P,D,W;if(l.__d!==void 0)P=l.__d,l.__d=void 0;else if(c==null||y!=_||y.parentNode==null)e:if(_==null||_.parentNode!==d)d.appendChild(y),P=null;else{for(D=_,W=0;(D=D.nextSibling)&&W<h.length;W+=2)if(D==y)break e;d.insertBefore(y,_),P=_}return P!==void 0?P:y.nextSibling}function Mn(d,l,c,h,y){var _;for(_ in c)_==="children"||_==="key"||_ in l||fr(d,_,null,c[_],h);for(_ in l)y&&typeof l[_]!="function"||_==="children"||_==="key"||_==="value"||_==="checked"||c[_]===l[_]||fr(d,_,l[_],c[_],h)}function Tt(d,l,c){l[0]==="-"?d.setProperty(l,c):d[l]=c==null?"":typeof c!="number"||bi.test(l)?c:c+"px"}function fr(d,l,c,h,y){var _;e:if(l==="style")if(typeof c=="string")d.style.cssText=c;else{if(typeof h=="string"&&(d.style.cssText=h=""),h)for(l in h)c&&l in c||Tt(d.style,l,"");if(c)for(l in c)h&&c[l]===h[l]||Tt(d.style,l,c[l])}else if(l[0]==="o"&&l[1]==="n")_=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in d?l.toLowerCase().slice(2):l.slice(2),d.l||(d.l={}),d.l[l+_]=c,c?h||d.addEventListener(l,_?gr:vn,_):d.removeEventListener(l,_?gr:vn,_);else if(l!=="dangerouslySetInnerHTML"){if(y)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(l!=="href"&&l!=="list"&&l!=="form"&&l!=="tabIndex"&&l!=="download"&&l in d)try{d[l]=c==null?"":c;break e}catch(P){}typeof c=="function"||(c!=null&&(c!==!1||l[0]==="a"&&l[1]==="r")?d.setAttribute(l,c):d.removeAttribute(l))}}function vn(d){this.l[d.type+!1](Kt.event?Kt.event(d):d)}function gr(d){this.l[d.type+!0](Kt.event?Kt.event(d):d)}function Ao(d,l,c,h,y,_,P,D,W){var re,Z,je,Pe,ke,Le,lt,ft,vt,We,Nt,$t=l.type;if(l.constructor!==void 0)return null;c.__h!=null&&(W=c.__h,D=l.__e=c.__e,l.__h=null,_=[D]),(re=Kt.__b)&&re(l);try{e:if(typeof $t=="function"){if(ft=l.props,vt=(re=$t.contextType)&&h[re.__c],We=re?vt?vt.props.value:re.__:h,c.__c?lt=(Z=l.__c=c.__c).__=Z.__E:("prototype"in $t&&$t.prototype.render?l.__c=Z=new $t(ft,We):(l.__c=Z=new hn(ft,We),Z.constructor=$t,Z.render=Nn),vt&&vt.sub(Z),Z.props=ft,Z.state||(Z.state={}),Z.context=We,Z.__n=h,je=Z.__d=!0,Z.__h=[]),Z.__s==null&&(Z.__s=Z.state),$t.getDerivedStateFromProps!=null&&(Z.__s==Z.state&&(Z.__s=qn({},Z.__s)),qn(Z.__s,$t.getDerivedStateFromProps(ft,Z.__s))),Pe=Z.props,ke=Z.state,je)$t.getDerivedStateFromProps==null&&Z.componentWillMount!=null&&Z.componentWillMount(),Z.componentDidMount!=null&&Z.__h.push(Z.componentDidMount);else{if($t.getDerivedStateFromProps==null&&ft!==Pe&&Z.componentWillReceiveProps!=null&&Z.componentWillReceiveProps(ft,We),!Z.__e&&Z.shouldComponentUpdate!=null&&Z.shouldComponentUpdate(ft,Z.__s,We)===!1||l.__v===c.__v){Z.props=ft,Z.state=Z.__s,l.__v!==c.__v&&(Z.__d=!1),Z.__v=l,l.__e=c.__e,l.__k=c.__k,l.__k.forEach(function(tn){tn&&(tn.__=l)}),Z.__h.length&&P.push(Z);break e}Z.componentWillUpdate!=null&&Z.componentWillUpdate(ft,Z.__s,We),Z.componentDidUpdate!=null&&Z.__h.push(function(){Z.componentDidUpdate(Pe,ke,Le)})}Z.context=We,Z.props=ft,Z.state=Z.__s,(re=Kt.__r)&&re(l),Z.__d=!1,Z.__v=l,Z.__P=d,re=Z.render(Z.props,Z.state,Z.context),Z.state=Z.__s,Z.getChildContext!=null&&(h=qn(qn({},h),Z.getChildContext())),je||Z.getSnapshotBeforeUpdate==null||(Le=Z.getSnapshotBeforeUpdate(Pe,ke)),Nt=re!=null&&re.type===wn&&re.key==null?re.props.children:re,Hr(d,Array.isArray(Nt)?Nt:[Nt],l,c,h,y,_,P,D,W),Z.base=l.__e,l.__h=null,Z.__h.length&&P.push(Z),lt&&(Z.__E=Z.__=null),Z.__e=!1}else _==null&&l.__v===c.__v?(l.__k=c.__k,l.__e=c.__e):l.__e=tr(c.__e,l,c,h,y,_,P,W);(re=Kt.diffed)&&re(l)}catch(tn){l.__v=null,(W||_!=null)&&(l.__e=D,l.__h=!!W,_[_.indexOf(D)]=null),Kt.__e(tn,l,c)}}function so(d,l){Kt.__c&&Kt.__c(l,d),d.some(function(c){try{d=c.__h,c.__h=[],d.some(function(h){h.call(c)})}catch(h){Kt.__e(h,c.__v)}})}function tr(d,l,c,h,y,_,P,D){var W,re,Z,je=c.props,Pe=l.props,ke=l.type,Le=0;if(ke==="svg"&&(y=!0),_!=null){for(;Le<_.length;Le++)if((W=_[Le])&&"setAttribute"in W==!!ke&&(ke?W.localName===ke:W.nodeType===3)){d=W,_[Le]=null;break}}if(d==null){if(ke===null)return document.createTextNode(Pe);d=y?document.createElementNS("http://www.w3.org/2000/svg",ke):document.createElement(ke,Pe.is&&Pe),_=null,D=!1}if(ke===null)je===Pe||D&&d.data===Pe||(d.data=Pe);else{if(_=_&&Rr.call(d.childNodes),re=(je=c.props||zn).dangerouslySetInnerHTML,Z=Pe.dangerouslySetInnerHTML,!D){if(_!=null)for(je={},Le=0;Le<d.attributes.length;Le++)je[d.attributes[Le].name]=d.attributes[Le].value;(Z||re)&&(Z&&(re&&Z.__html==re.__html||Z.__html===d.innerHTML)||(d.innerHTML=Z&&Z.__html||""))}if(Mn(d,Pe,je,y,D),Z)l.__k=[];else if(Le=l.props.children,Hr(d,Array.isArray(Le)?Le:[Le],l,c,h,y&&ke!=="foreignObject",_,P,_?_[0]:c.__k&&lr(c,0),D),_!=null)for(Le=_.length;Le--;)_[Le]!=null&&Yo(_[Le]);D||("value"in Pe&&(Le=Pe.value)!==void 0&&(Le!==d.value||ke==="progress"&&!Le||ke==="option"&&Le!==je.value)&&fr(d,"value",Le,je.value,!1),"checked"in Pe&&(Le=Pe.checked)!==void 0&&Le!==d.checked&&fr(d,"checked",Le,je.checked,!1))}return d}function Do(d,l,c){try{typeof d=="function"?d(l):d.current=l}catch(h){Kt.__e(h,c)}}function Oi(d,l,c){var h,y;if(Kt.unmount&&Kt.unmount(d),(h=d.ref)&&(h.current&&h.current!==d.__e||Do(h,null,l)),(h=d.__c)!=null){if(h.componentWillUnmount)try{h.componentWillUnmount()}catch(_){Kt.__e(_,l)}h.base=h.__P=null}if(h=d.__k)for(y=0;y<h.length;y++)h[y]&&Oi(h[y],l,typeof d.type!="function");c||d.__e==null||Yo(d.__e),d.__e=d.__d=void 0}function Nn(d,l,c){return this.constructor(d,c)}function Ko(d,l,c){var h,y,_;Kt.__&&Kt.__(d,l),y=(h=typeof c=="function")?null:c&&c.__k||l.__k,_=[],Ao(l,d=(!h&&c||l).__k=Bn(wn,null,[d]),y||zn,zn,l.ownerSVGElement!==void 0,!h&&c?[c]:y?null:l.firstChild?Rr.call(l.childNodes):null,_,!h&&c?c:y?y.__e:l.firstChild,h),so(_,d)}function Ui(d,l){Ko(d,l,Ui)}function wi(d,l,c){var h,y,_,P=qn({},d.props);for(_ in l)_=="key"?h=l[_]:_=="ref"?y=l[_]:P[_]=l[_];return arguments.length>2&&(P.children=arguments.length>3?Rr.call(arguments,2):c),zr(d.type,P,h||d.key,y||d.ref,null)}function kn(d,l){var c={__c:l="__cC"+Lr++,__:d,Consumer:function(h,y){return h.children(y)},Provider:function(h){var y,_;return this.getChildContext||(y=[],(_={})[l]=this,this.getChildContext=function(){return _},this.shouldComponentUpdate=function(P){this.props.value!==P.value&&y.some(Br)},this.sub=function(P){y.push(P);var D=P.componentWillUnmount;P.componentWillUnmount=function(){y.splice(y.indexOf(P),1),D&&D.call(P)}}),h.children}};return c.Provider.__=c.Consumer.contextType=c}Rr=ln.slice,Kt={__e:function(d,l,c,h){for(var y,_,P;l=l.__;)if((y=l.__c)&&!y.__)try{if((_=y.constructor)&&_.getDerivedStateFromError!=null&&(y.setState(_.getDerivedStateFromError(d)),P=y.__d),y.componentDidCatch!=null&&(y.componentDidCatch(d,h||{}),P=y.__d),P)return y.__E=y}catch(D){d=D}throw d}},Ir=0,mi=function(d){return d!=null&&d.constructor===void 0},hn.prototype.setState=function(d,l){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=qn({},this.state),typeof d=="function"&&(d=d(qn({},c),this.props)),d&&qn(c,d),d!=null&&this.__v&&(l&&this.__h.push(l),Br(this))},hn.prototype.forceUpdate=function(d){this.__v&&(this.__e=!0,d&&this.__h.push(d),Br(this))},hn.prototype.render=wn,uo=[],Wo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vr.__r=0,Lr=0;var Hn=function(){return Hn=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},Hn.apply(this,arguments)};function nr(d){var l=d.x,c=d.y,h=d.width,y=d.height,_=d.radius,P=d.className,D=l-h/2,W=c-y/2,re=Hn(Hn({width:10,height:10,cx:0,cy:0,rx:_||0,ry:_||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+P},d),{x:D,y:W});return(0,j.h)("rect",Hn({},re))}nr.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var nn;(function(d){d.NODE="node",d.CIRCLE_NODE="circle-node",d.POLYGON_NODE="polygon-node",d.RECT_NODE="rect-node",d.HTML_NODE="html-node",d.TEXT_NODE="text-node",d.ELLIPSE_NODE="ellipse-node",d.DIAMOND_NODE="diamond-node",d.EDGE="edge",d.LINE_EDGE="line-edge",d.POLYLINE_EDGE="polyline-edge",d.BEZIER_EDGE="bezier-edge",d.GRAPH="graph"})(nn||(nn={}));function co(d){var l=d.x,c=d.y,h=d.width,y=d.height;return{minX:l-h/2,minY:c-y/2,maxX:l+h/2,maxY:c+y/2}}function To(d){var l=co(d),c=d.radius,h=l.minX,y=l.minY,_=l.maxX,P=l.maxY;return[{x:h+c,y:y+c},{x:_-c,y:y+c},{x:_-c,y:P-c},{x:h+c,y:P-c}]}function lo(d){var l=d.point,c=d.beforeNode,h=d.afterNode,y=l.x,_=l.y,P={x:y,y:_},D=c.radius,W=co(c),re=co(h);if(y===W.minX){P.x=re.minX;var Z=(_-c.y)/(c.height/2-D);Z?P.y=h.y+(h.height/2-D)*Z:P.y=h.y}else if(y===W.maxX){P.x=re.maxX;var Z=(_-c.y)/(c.height/2-D);Z?P.y=h.y+(h.height/2-D)*Z:P.y=h.y}else if(_===W.minY){P.y=re.minY;var Z=(y-c.x)/(c.width/2-D);Z?P.x=h.x+(h.width/2-D)*Z:P.x=h.x}else if(_===W.maxY){P.y=re.maxY;var Z=(y-c.x)/(c.width/2-D);Z?P.x=h.x+(h.width/2-D)*Z:P.x=h.x}else{var je=To(c),Pe=To(h),ke=co(c),Le=ke.minX,lt=ke.minY,ft=ke.maxX,vt=ke.maxY,We=-1;if(y-Le<D&&_-lt<D?We=0:ft-y<D&&_-lt<D?We=1:ft-y<D&&vt-_<D?We=2:y-Le<D&&lt-_<D&&(We=3),We>-1){var Nt=Math.atan2(_-je[We].y,y-je[We].x);P.x=Pe[We].x+D*Math.cos(Nt),P.y=Pe[We].y+D*Math.sin(Nt)}}return P}function fo(d){var l=d.point,c=d.beforeNode,h=d.afterNode,y=h.rx,_=h.ry,P=l,D=(l.y-c.y)/(l.x-c.x),W=y,re=_,Z,je;return D>=Infinity?(Z=0,je=re):D<=-Infinity?(Z=0,je=-re):l.x-c.x>0?(Z=W*re/Math.sqrt(re*re+W*W*D*D),je=W*re*D/Math.sqrt(re*re+W*W*D*D)):(Z=-(W*re)/Math.sqrt(re*re+W*W*D*D),je=-(W*re*D)/Math.sqrt(re*re+W*W*D*D)),P={x:Z+h.x,y:je+h.y},P}function po(d){var l=d.point,c=d.beforeNode,h=d.afterNode,y=l,_,P,D=l.x-c.x,W=l.y-c.y,re=c.rx,Z=c.ry,je=Math.sqrt((re-Math.abs(D))*(re-Math.abs(D))+W*W)/Math.sqrt(re*re+Z*Z),Pe=h.rx,ke=h.ry,Le=Math.sqrt((Pe*Pe+ke*ke)*je*je*(Pe*Pe/(Pe*Pe+ke*ke))),lt=Le*(ke/Pe);return D>=0?_=Pe-Le:_=Le-Pe,W>0?P=lt:P=-lt,y={x:_+h.x,y:P+h.y},y}var $o=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),an=function(){return an=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},an.apply(this,arguments)},Kn=j.LogicFlowUtil.StepDrag,ho=function(d){$o(l,d);function l(c){var h=d.call(this)||this;h.updatePosition=function(P){var D=P.deltaX,W=P.deltaY,re=h.nodeModel,Z=re.x,je=re.y;h.nodeModel.x=Z+D/2,h.nodeModel.y=je+W/2,h.nodeModel.moveText(D/2,W/2)},h.getResize=function(P){var D=P.index,W=P.deltaX,re=P.deltaY,Z=P.width,je=P.height,Pe=P.pct,ke=Pe===void 0?1:Pe,Le={width:Z,height:je};switch(D){case 0:Le.width=Z-W*ke,Le.height=je-re*ke;break;case 1:Le.width=Z+W*ke,Le.height=je-re*ke;break;case 2:Le.width=Z+W,Le.height=je+re*ke;break;case 3:Le.width=Z-W*ke,Le.height=je+re*ke;break;default:break}return Le},h.updateRect=function(P){var D=P.deltaX,W=P.deltaY,re=h.nodeModel,Z=re.id,je=re.x,Pe=re.y,ke=re.width,Le=re.height,lt=re.radius,ft=h.index,vt=h.getResize({index:ft,deltaX:D,deltaY:W,width:ke,height:Le,pct:1}),We=h.nodeModel,Nt=We.minWidth,$t=We.minHeight,tn=We.maxWidth,Dn=We.maxHeight;if(vt.width<Nt||vt.width>tn||vt.height<$t||vt.height>Dn){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:D,deltaY:W}),h.nodeModel.width=vt.width,h.nodeModel.height=vt.height,h.nodeModel.setProperties({nodeSize:{width:vt.width,height:vt.height}});var Tn=h.getNodeEdges(Z),gn={x:je,y:Pe,width:ke,height:Le,radius:lt},mn={x:h.nodeModel.x,y:h.nodeModel.y,width:h.nodeModel.width,height:h.nodeModel.height,radius:lt},un={point:"",beforeNode:gn,afterNode:mn},sn;Tn.sourceEdges.forEach(function(bn){un.point=bn.startPoint,sn=lo(un),bn.updateStartPoint(sn)}),Tn.targetEdges.forEach(function(bn){un.point=bn.endPoint,sn=lo(un),bn.updateEndPoint(sn)}),h.eventEmit({beforeNode:gn,afterNode:mn})},h.updateEllipse=function(P){var D=P.deltaX,W=P.deltaY,re=h.nodeModel,Z=re.id,je=re.rx,Pe=re.ry,ke=re.x,Le=re.y,lt=h.index,ft=je,vt=Pe,We=h.getResize({index:lt,deltaX:D,deltaY:W,width:ft,height:vt,pct:1/2}),Nt=h.nodeModel,$t=Nt.minWidth,tn=Nt.minHeight,Dn=Nt.maxWidth,Tn=Nt.maxHeight;if(We.width<$t/2||We.width>Dn/2||We.height<tn/2||We.height>Tn/2){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:D,deltaY:W}),h.nodeModel.rx=h.nodeModel.rx+D/2,h.nodeModel.ry=h.nodeModel.ry+W/2,h.nodeModel.setProperties({nodeSize:{rx:We.width,ry:We.height}});var gn=h.getNodeEdges(Z),mn={x:ke,y:Le},un={rx:We.width,ry:We.height,x:h.nodeModel.x,y:h.nodeModel.y},sn={point:{},beforeNode:mn,afterNode:un},bn;gn.sourceEdges.forEach(function(Cn){sn.point=Cn.startPoint,bn=fo(sn),Cn.updateStartPoint(bn)}),gn.targetEdges.forEach(function(Cn){sn.point=Cn.endPoint,bn=fo(sn),Cn.updateEndPoint(bn)}),h.eventEmit({beforeNode:an(an({},mn),{rx:je,ry:Pe}),afterNode:un})},h.updateDiamond=function(P){var D=P.deltaX,W=P.deltaY,re=h.nodeModel,Z=re.id,je=re.rx,Pe=re.ry,ke=re.x,Le=re.y,lt=h.index,ft=je,vt=Pe,We=h.getResize({index:lt,deltaX:D,deltaY:W,width:ft,height:vt,pct:1/2}),Nt=h.nodeModel,$t=Nt.minWidth,tn=Nt.minHeight,Dn=Nt.maxWidth,Tn=Nt.maxHeight;if(We.width<$t/2||We.width>Dn/2||We.height<tn/2||We.height>Tn/2){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:D,deltaY:W}),h.nodeModel.rx=h.nodeModel.rx+D/2,h.nodeModel.ry=h.nodeModel.ry+W/2,h.nodeModel.setProperties({nodeSize:{rx:We.width,ry:We.height}});var gn={x:ke,y:Le,rx:je,ry:Pe},mn={rx:We.width,ry:We.height,x:h.nodeModel.x,y:h.nodeModel.y},un={point:{},beforeNode:gn,afterNode:mn},sn,bn=h.getNodeEdges(Z);bn.sourceEdges.forEach(function(Cn){un.point=Cn.startPoint,sn=po(un),Cn.updateStartPoint(sn)}),bn.targetEdges.forEach(function(Cn){un.point=Cn.endPoint,sn=po(un),Cn.updateEndPoint(sn)}),h.eventEmit({beforeNode:gn,afterNode:mn})},h.eventEmit=function(P){var D=P.beforeNode,W=P.afterNode,re=h.nodeModel,Z=re.id,je=re.modelType,Pe=re.type,ke=an({id:Z,modelType:je,type:Pe},D),Le=an({id:Z,modelType:je,type:Pe},W);h.graphModel.eventCenter.emit("node:resize",{oldNodeSize:ke,newNodeSize:Le})},h.onDraging=function(P){var D=P.deltaX,W=P.deltaY,re=h.nodeModel.modelType;re===nn.RECT_NODE||re===nn.HTML_NODE?h.updateRect({deltaX:D,deltaY:W}):re===nn.ELLIPSE_NODE?h.updateEllipse({deltaX:D,deltaY:W}):re===nn.DIAMOND_NODE&&h.updateDiamond({deltaX:D,deltaY:W})},h.index=c.index,h.nodeModel=c.model,h.graphModel=c.graphModel;var y=h.graphModel.gridSize,_=2;return y>1&&(_=2*y),h.nodeModel.gridSize&&(_=2*h.nodeModel.gridSize),h.state={},h.dragHandler=new Kn({onDraging:h.onDraging,step:_}),h}return l.prototype.getNodeEdges=function(c){for(var h=this.graphModel,y=h.edges,_=[],P=[],D=0;D<y.length;D++){var W=y[D];W.sourceNodeId===c?_.push(W):y[D].targetNodeId===c&&P.push(W)}return{sourceEdges:_,targetEdges:P}},l.prototype.render=function(){var c=this.props,h=c.x,y=c.y,_=c.index,P=c.model,D=P.getControlPointStyle();return Bn("g",{className:"lf-resize-control-"+_},Bn(nr,an({className:"lf-node-control"},{x:h,y},D,{onMouseDown:this.dragHandler.handleMouseDown})))},l}(hn),xi=ho,Jo=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Gn=function(){return Gn=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},Gn.apply(this,arguments)},yo=function(d){Jo(l,d);function l(){var c=d.call(this)||this;return c.state={},c}return l.prototype.getResizeControl=function(){var c=this.props,h=c.model,y=c.graphModel,_=h.x,P=h.y,D=h.width,W=h.height,re={minX:_-D/2,minY:P-W/2,maxX:_+D/2,maxY:P+W/2},Z=re.minX,je=re.minY,Pe=re.maxX,ke=re.maxY,Le=[{x:Z,y:je},{x:Pe,y:je},{x:Pe,y:ke},{x:Z,y:ke}];return Le.map(function(lt,ft){return Bn(xi,Gn({index:ft},lt,{model:h,graphModel:y}))})},l.prototype.getGroupSolid=function(){var c=this.props.model,h=c.x,y=c.y,_=c.width,P=c.height,D=c.getResizeOutlineStyle();return Bn(nr,Gn({fill:"none"},D,{x:h,y,width:_,height:P}))},l.prototype.render=function(){return Bn("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},l}(hn),pr=yo,Ei=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),g=function(d){Ei(l,d);function l(c,h){var y=d.call(this,c,h)||this,_=y.properties.nodeSize;return _&&(y.width=_.width,y.height=_.height),y}return l.prototype.initNodeData=function(c){d.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=d.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l.prototype.resize=function(c,h){console.log(c,h)},l}(j.RectNodeModel),m=function(d){Ei(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,y=c.graphModel;return(0,j.h)(pr,{model:h,graphModel:y})},l.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,j.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(j.RectNode),E={type:"rect",view:m,model:g},C=E,I=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),q=function(d){I(l,d);function l(c,h){var y=d.call(this,c,h)||this,_=y.properties.nodeSize;return _&&(y.rx=_.rx,y.ry=_.ry),y}return l.prototype.initNodeData=function(c){d.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=d.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(j.EllipseNodeModel),Oe=function(d){I(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,y=c.graphModel;return(0,j.h)(pr,{model:h,graphModel:y})},l.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model;return(0,j.h)("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},l}(j.EllipseNode),Re={type:"ellipse",view:Oe,model:q},nt=Re,wt=function(){return wt=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},wt.apply(this,arguments)};function xt(d){var l=d.fillOpacity,c=l===void 0?1:l,h=d.strokeWidth,y=h===void 0?1:h,_=d.strokeOpacity,P=_===void 0?1:_,D=d.fill,W=D===void 0?"transparent":D,re=d.stroke,Z=re===void 0?"#000":re,je=d.points,Pe=d.className,ke=Pe===void 0?"lf-basic-shape":Pe,Le={fill:W,fillOpacity:c,strokeWidth:y,stroke:Z,strokeOpacity:P,points:"",className:ke};return Le.points=je.map(function(lt){return lt.join(",")}).join(" "),(0,j.h)("polygon",wt({},Le))}var Bt=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),It=function(){return It=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},It.apply(this,arguments)},Ct=function(d){Bt(l,d);function l(c,h){var y=d.call(this,c,h)||this,_=y.properties.nodeSize;return _&&(y.rx=_.rx,y.ry=_.ry),y}return l.prototype.initNodeData=function(c){d.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},l.prototype.getOutlineStyle=function(){var c=d.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(j.DiamondNodeModel),Wt=function(d){Bt(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,y=c.graphModel;return(0,j.h)(pr,{model:h,graphModel:y})},l.prototype.getResizeShape=function(){var c=this.props.model,h=c.points,y=c.getNodeStyle();return(0,j.h)("g",null,(0,j.h)(xt,It({},y,{points:h})))},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,j.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(j.DiamondNode),Gt={type:"diamond",view:Wt,model:Ct},Lt=Gt,$n=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Xi=function(d){$n(l,d);function l(c,h){var y=d.call(this,c,h)||this,_=y.properties.nodeSize;return _&&(y.width=_.width,y.height=_.height),y}return l.prototype.initNodeData=function(c){d.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=d.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(j.HtmlNodeModel),vo=function(d){$n(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,y=c.graphModel;return(0,j.h)(pr,{model:h,graphModel:y})},l.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,j.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(j.HtmlNode),Fr={type:"html",view:vo,model:Xi},mr=Fr,Si={pluginName:"nodeResize",step:0,install:function(d){d.register({type:C.type,view:C.view,model:C.model}),d.register({type:nt.type,view:nt.view,model:nt.model}),d.register({type:Lt.type,view:Lt.view,model:Lt.model}),d.register({type:mr.type,view:mr.view,model:mr.model})}},An=null,Qo=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var _ in y)y.hasOwnProperty(_)&&(h[_]=y[_])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Ur=function(){return Ur=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},Ur.apply(this,arguments)},tu=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},ji=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(tu(arguments[l]));return d},ga=500,ma=300,nu=function(d){Qo(l,d);function l(){var c=d!==null&&d.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=ga,c.unfoldedHight=ma,c}return l.prototype.initNodeData=function(c){var h=this;d.prototype.initNodeData.call(this,c);var y=[];Array.isArray(c.children)&&(y=c.children),this.children=new Set(y),this.width=ga,this.height=ma,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){h.isFolded&&h.foldGroup(h.isFolded)})},l.prototype.getResizeOutlineStyle=function(){var c=d.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},l.prototype.foldGroup=function(c){var h=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var y=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(_){var P=h.graphModel.getElement(_);P.visible=!c,y=y.concat(P.incoming.edges.concat(P.outgoing.edges))}),this.foldEdge(c,y)},l.prototype.getAnchorStyle=function(c){var h=d.prototype.getAnchorStyle.call(this,c);return h.stroke="transparent",h.fill="transparent",h.hover.fill="transparent",h.hover.stroke="transparent",h},l.prototype.foldEdge=function(c,h){var y=this;h.forEach(function(_,P){var D=_.id,W=_.sourceNodeId,re=_.targetNodeId,Z=_.startPoint,je=_.endPoint,Pe=_.type,ke=_.properties,Le=_.text,lt={id:D+"__"+P,sourceNodeId:W,targetNodeId:re,startPoint:Z,endPoint:je,type:Pe,properties:ke,text:Le==null?void 0:Le.value};_.virtual&&y.graphModel.deleteEdgeById(_.id);var ft=y.graphModel.group.getNodeGroup(re);ft||(ft=y.graphModel.getNodeModelById(re));var vt=y.graphModel.group.getNodeGroup(W);vt||(vt=y.graphModel.getNodeModelById(W)),c&&_.visible!==!1&&(y.children.has(W)||y.id===W?(lt.startPoint=void 0,lt.sourceNodeId=y.id):(lt.endPoint=void 0,lt.targetNodeId=y.id),(ft.id!==y.id||vt.id!==y.id)&&y.createVirtualEdge(lt),_.visible=!1),!c&&_.visible===!1&&(ft&&ft.isGroup&&ft.isFolded?(lt.targetNodeId=ft.id,lt.endPoint=void 0,y.createVirtualEdge(lt)):vt&&vt.isGroup&&vt.isFolded?(lt.sourceNodeId=vt.id,lt.startPoint=void 0,y.createVirtualEdge(lt)):_.visible=!0)})},l.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var h=this.graphModel.addEdge(c);h.virtual=!0,h.getData=function(){return null},h.text.editable=!1,h.isFoldedEdge=!0},l.prototype.isInRange=function(c){var h=c.x1,y=c.y1,_=c.x2,P=c.y2;return h>=this.x-this.width/2&&_<=this.x+this.width/2&&y>=this.y-this.height/2&&P<=this.y+this.height/2},l.prototype.isAllowMoveTo=function(c){var h=c.x1,y=c.y1,_=c.x2,P=c.y2;return{x:h>=this.x-this.width/2&&_<=this.x+this.width/2,y:y>=this.y-this.height/2&&P<=this.y+this.height/2}},l.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},l.prototype.addChild=function(c){this.children.add(c)},l.prototype.removeChild=function(c){this.children.delete(c)},l.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},l.prototype.getData=function(){var c=d.prototype.getData.call(this);c.children=ji(this.children);var h=c.properties;return delete h.groupAddable,delete h.isFolded,c},l.prototype.getHistoryData=function(){var c=d.prototype.getData.call(this);c.children=ji(this.children);var h=c.properties;return delete h.groupAddable,h.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},l}(C.model),ru=function(d){Qo(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props.model,h=c.resizable,y=c.properties;return h&&!y.isFolded?d.prototype.getControlGroup.call(this):null},l.prototype.getAddedableShape=function(){var c=this.props.model,h=c.width,y=c.height,_=c.x,P=c.y,D=c.radius,W=c.properties;if(!W.groupAddable)return null;var re=this.props.model.getNodeStyle().strokeWidth,Z=this.props.model.getAddableOutlineStyle(),je=h+re+8,Pe=y+re+8;return(0,j.h)("rect",Ur(Ur({},Z),{width:je,height:Pe,x:_-je/2,y:P-Pe/2,rx:D,ry:D}))},l.prototype.getFoldIcon=function(){var c=this.props.model,h=c.x-c.width/2+5,y=c.y-c.height/2+5;if(!c.foldable)return null;var _=(0,j.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(h+3)+","+(y+6)+" "+(h+11)+","+(y+6)+" M"+(h+7)+","+(y+2)+" "+(h+7)+","+(y+10):"M "+(h+3)+","+(y+6)+" "+(h+11)+","+(y+6)+" "});return(0,j.h)("g",{},[(0,j.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),_])},l.prototype.getResizeShape=function(){return(0,j.h)("g",{},[this.getAddedableShape(),d.prototype.getResizeShape.call(this),this.getFoldIcon()])},l}(C.view),ba={type:"group",view:ru,model:nu},ou=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},iu=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(ou(arguments[l]));return d},Vi=function(){function d(l){var c=this,h=l.lf;this.nodeGroupMap=new Map,this.graphRendered=function(y){y&&y.nodes&&y.nodes.forEach(function(_){_.children&&_.children.forEach(function(P){c.nodeGroupMap.set(P,_.id)})})},this.appendNodeToGrop=function(y){var _=y.data,P=c.nodeGroupMap.get(_.id);if(P){var D=c.lf.getNodeModelById(P);D.removeChild(_.id),c.nodeGroupMap.delete(_.id),D.setAllowAppendChild(!1)}var W=c.lf.getNodeModelById(_.id).getBounds(),re=c.getGroup(W);!re||(_.id!==re.id?(re.addChild(_.id),c.nodeGroupMap.set(_.id,re.id),re.setAllowAppendChild(!1)):_.children&&_.children.length>0&&_.children.forEach(function(Z){c.nodeGroupMap.set(Z,_.id)}))},this.deleteGroupChild=function(y){var _=y.data,P=c.nodeGroupMap.get(_.id);if(P){var D=c.lf.getNodeModelById(P);D.removeChild(_.id),c.nodeGroupMap.delete(_.id)}},this.setActiveGroup=function(y){var _=y.data,P=c.lf.getNodeModelById(_.id);if(!P.isGroup){var D=P.getBounds(),W=c.getGroup(D);(W||W!==c.activeGroup)&&(c.activeGroup&&c.activeGroup.setAllowAppendChild(!1),W&&(c.activeGroup=W,c.activeGroup.setAllowAppendChild(!0)))}},h.register(ba),this.lf=h,h.graphModel.addNodeMoveRules(function(y,_,P){if(y.isGroup)return h.graphModel.moveNodes(iu(y.children),_,P,!0),!0;var D=h.getNodeModelById(c.nodeGroupMap.get(y.id));if(D&&D.isRestrict){var W=y.getBounds(),re=W.x1,Z=W.y1,je=W.x2,Pe=W.y2,ke=D.isAllowMoveTo({x1:re+_,y1:Z+P,x2:je+_,y2:Pe+P});return ke}return!0}),h.graphModel.group=this,h.on("node:add",this.appendNodeToGrop),h.on("node:delete",this.deleteGroupChild),h.on("node:drop",this.appendNodeToGrop),h.on("node:dnd-drag",this.setActiveGroup),h.on("node:drag",this.setActiveGroup),h.on("graph:rendered",this.graphRendered)}return d.prototype.getGroup=function(l){for(var c=this.lf.graphModel.nodes,h=0;h<c.length;h++){var y=c[h];if(y.isGroup&&y.isInRange(l))return y}},d.prototype.getNodeGroup=function(l){var c=this.nodeGroupMap.get(l);if(c)return this.lf.getNodeModelById(c)},d.pluginName="group",d}(),Pi=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),y,_=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)_.push(y.value)}catch(D){P={error:D}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return _},go=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(Pi(arguments[l]));return d},au=function(){function d(l){var c=this,h=l.lf;this.lf=h,this.pathes=[],h.getPathes=function(){if(!c.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B");return c.getPathes()},h.setRawPathes=function(y){c.setPathes(y)},h.getRawPathes=function(){return c.pathes},h.setStartNodeType=function(y){c.startNodeType=y}}return d.prototype.setPathes=function(l){this.pathes=l.map(function(c){var h=c.routeId,y=c.name,_=c.elements,P=c.type;return{routeId:h,name:y,elements:_,type:P,similarElement:null,weight:0}})},d.prototype.getPathes=function(){var l=this,c=this.lf.getGraphRawData(),h=new Map,y=[];c.nodes.forEach(function(P){h.set(P.id,{id:P.id,data:P,nextNodes:[]}),P.type===l.startNodeType&&y.push(P.id)}),c.edges.forEach(function(P){var D=h.get(P.sourceNodeId);D.nextNodes.push(P.targetNodeId)});var _=[];return y.forEach(function(P){_=_.concat(l.findPathElements(h.get(P),h,[]))}),this.getNewPathes(_)},d.prototype.findPathElements=function(l,c,h){h===void 0&&(h=[]);var y=go(h);if(y.push(l.id),l.nextNodes.length===0)return[y];for(var _=[],P=0;P<l.nextNodes.length;P++){var D=c.get(l.nextNodes[P]),W=void 0,re=y.indexOf(D.id);re!==-1?W=[go(y.slice(re),[D.id])]:W=this.findPathElements(D,c,go(y)),_=_.concat(W)}return _},d.prototype.getNewPathes=function(l){var c=this,h=[],y=new Set;l.forEach(function(P){var D=c.getNewId("path"),W=c.getNewId("\u8DEF\u5F84"),re=c.isLoopPath(P),Z=P.join(",");y.has(Z)||(y.add(Z),h.push({routeId:D,name:W,elements:P,type:re,weight:0,similarElement:""}))});var _=JSON.parse(JSON.stringify(this.pathes));return h.forEach(function(P){for(var D=0;D<_.length;D++){var W=_[D],re=c.similar2Path(go(P.elements),go(W.elements));re>P.weight&&W.weight<=re&&(P.weight=re,P.similarElement=W,re===W.weight&&W.similarElement?(W.similarElement.similarElement=null,W.similarElement.weight=0,W.similarElement=null,W.weight=0):(W.similarElement=P,W.weight=re))}}),h.forEach(function(P){P.similarElement&&P.similarElement.similarElement===P&&(P.routeId=P.similarElement.routeId,P.name=P.similarElement.name),delete P.similarElement,delete P.weight}),this.setPathes(h),h},d.prototype.similar2Path=function(l,c){var h=0,y=l.length+c.length;l.sort(),c.sort();for(var _=l.shift(),P=c.shift();_!==void 0&&P!==void 0;)_===P?(h++,_=l.shift(),P=c.shift()):_<P?_=l.shift():_>P&&(P=c.shift());return h/y*200},d.prototype.getNewId=function(l){return l+"_"+N()},d.prototype.isLoopPath=function(l){var c=l.length;return l.indexOf(l[c-1])!==c-1?1:0},d.pluginName="flowPath",d}(),Xr=function(){return Xr=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(d[y]=l[y])}return d},Xr.apply(this,arguments)},Vr={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},uu=function(){function d(l){var c=this,h=l.lf;this.lf=h,this.trunk=[],h.layout=function(y){var _=c.lf.getGraphRawData();c.lf.setStartNodeType(y);var P=c.lf.getPathes();return c.levelHeight=[],c.newNodeMap=new Map,c.layout(_,P)}}return d.prototype.layout=function(l,c){var h=this,y=[];c.forEach(function(W){var re=W.elements;re.length>y.length?y=re:re.length===y.length&&JSON.stringify(re)===JSON.stringify(h.trunk)&&(y=h.trunk)}),this.trunk=y;for(var _=this.formatData(l),P={nodes:[],edges:[]},D=y.length-1;D>=0;D--)this.setNodePosition(y[D],_,P,D,1);this.lf.graphModel.graphDataToModel(P)},d.prototype.setNodePosition=function(l,c,h,y,_){var P=this,D=c[l],W=D.text,re=D.type,Z=D.next,je=D.properties,Pe=y*160+40,ke=_*120,Le={id:l,x:Pe,text:W,y:ke,type:re,properties:je};return W&&typeof W=="object"&&(Le.text=Xr(Xr({},W),{x:Pe+W.x,y:ke+W.y})),this.newNodeMap.set(Le.id,{x:Le.x,y:Le.y,type:re}),h.nodes.push(Le),D.isFixed=!0,this.addLevelHeight(y,1),Z&&Z.length>0&&Z.forEach(function(lt){var ft=c[lt.nodeId];if(!ft.isFixed){var vt=P.getLevelHeight(y+1);P.addLevelHeight(y,1),P.setNodePosition(lt.nodeId,c,h,y+1,vt+1)}h.edges.push(Xr({id:lt.edgeId,type:lt.edgeType,sourceNodeId:l,targetNodeId:lt.nodeId,properties:lt.properties,text:lt.text},P.getEdgeDataPoints(l,lt.nodeId)))}),Le},d.prototype.getEdgeDataPoints=function(l,c){var h=this.newNodeMap.get(l),y=this.newNodeMap.get(c),_=this.getShape(l),P=_.width,D=_.height,W=this.getShape(c),re=W.width,Z=W.height,je=this.getRelativePosition(h,y),Pe={x:h.x,y:h.y},ke={x:y.x,y:y.y};switch(je){case Vr.LEFT:Pe.x=h.x+P/2,ke.x=y.x-re/2;break;case Vr.LEFT_TOP:Pe.y=h.y+D/2,ke.x=y.x-re/2;break;case Vr.LEFT_BOTTOM:Pe.x=h.x+P/2,ke.y=y.y+Z/2;break;default:break}return{startPoint:Pe,endPoint:ke}},d.prototype.getRelativePosition=function(l,c){var h=l.y,y=c.y,_;return h<y?_=-1:h===y?_=0:_=1,_},d.prototype.getShape=function(l){var c=this.lf.getNodeModelById(l);return{height:c.height,width:c.width}},d.prototype.formatData=function(l){var c=l.nodes.reduce(function(h,y){var _=y.type,P=y.properties,D=y.text,W=y.x,re=y.y;return D&&typeof D=="object"&&(D.x=D.x-W,D.y=D.y-re),h[y.id]={type:_,properties:P,text:D,prev:[],next:[]},h},{});return l.edges.forEach(function(h){var y=h.sourceNodeId,_=h.targetNodeId,P=h.id,D=h.properties,W=h.text,re=W;typeof W=="object"&&(re=W.value),c[y].next.push({edgeId:P,nodeId:_,edgeType:h.type,properties:D,text:re}),c[_].prev.push({edgeId:P,nodeId:y,properties:D,text:re})}),c},d.prototype.addLevelHeight=function(l,c,h){c===void 0&&(c=1),h===void 0&&(h=!1);var y=this.levelHeight[l];y||(y={positiveHeight:0,negativeHeight:0},this.levelHeight[l]=y),h?y.negativeHeight-=c:y.positiveHeight+=c},d.prototype.getLevelHeight=function(l,c){c===void 0&&(c=!1);var h=this.levelHeight[l];return h?c?h.negativeHeight:h.positiveHeight:0},d.pluginName="AutoLayout",d}()},63543:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return b}});var j=w(94663);function s(p,S){for(;!Object.prototype.hasOwnProperty.call(p,S)&&(p=(0,j.Z)(p),p!==null););return p}function b(p,S,x){return typeof Reflect!="undefined"&&Reflect.get?b=Reflect.get:b=function(T,A,R){var B=s(T,A);if(!!B){var V=Object.getOwnPropertyDescriptor(B,A);return V.get?V.get.call(R):V.value}},b(p,S,x||p)}},31930:function(){},44943:function(){},34621:function(){},33389:function(){},13277:function(){},5467:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return j}});function j(s){return Object.keys(s).reduce(function(b,p){return(p.startsWith("data-")||p.startsWith("aria-")||p==="role")&&!p.startsWith("data-__")&&(b[p]=s[p]),b},{})}},81643:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return j}});var j=function(b){if(!b)return null;var p=typeof b=="function";return p?b():b}},55241:function(Xt,ct,w){"use strict";var j=w(22122),s=w(67294),b=w(61580),p=w(65632),S=w(81643),x=w(33603),N=function(A,R){var B={};for(var V in A)Object.prototype.hasOwnProperty.call(A,V)&&R.indexOf(V)<0&&(B[V]=A[V]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,V=Object.getOwnPropertySymbols(A);U<V.length;U++)R.indexOf(V[U])<0&&Object.prototype.propertyIsEnumerable.call(A,V[U])&&(B[V[U]]=A[V[U]]);return B},T=s.forwardRef(function(A,R){var B=A.prefixCls,V=A.title,U=A.content,ue=N(A,["prefixCls","title","content"]),se=s.useContext(p.E_),ie=se.getPrefixCls,ee=function(pe){if(!(!V&&!U))return s.createElement(s.Fragment,null,V&&s.createElement("div",{className:"".concat(pe,"-title")},(0,S.Z)(V)),s.createElement("div",{className:"".concat(pe,"-inner-content")},(0,S.Z)(U)))},ne=ie("popover",B),$=ie();return s.createElement(b.Z,(0,j.Z)({},ue,{prefixCls:ne,ref:R,overlay:ee(ne),transitionName:(0,x.mL)($,"zoom-big",ue.transitionName)}))});T.displayName="Popover",T.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},ct.Z=T},20136:function(Xt,ct,w){"use strict";var j=w(38663),s=w.n(j),b=w(31930),p=w.n(b)},47933:function(Xt,ct,w){"use strict";w.d(ct,{ZP:function(){return X}});var j=w(96156),s=w(22122),b=w(67294),p=w(45947),S=w(94184),x=w.n(S),N=w(42550),T=w(65223),A=w(65632),R=b.createContext(null),B=R.Provider,V=R,U=b.createContext(null),ue=U.Provider,se=w(21687),ie=function(J,Y){var ae={};for(var ve in J)Object.prototype.hasOwnProperty.call(J,ve)&&Y.indexOf(ve)<0&&(ae[ve]=J[ve]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var we=0,ve=Object.getOwnPropertySymbols(J);we<ve.length;we++)Y.indexOf(ve[we])<0&&Object.prototype.propertyIsEnumerable.call(J,ve[we])&&(ae[ve[we]]=J[ve[we]]);return ae},ee=function(Y,ae){var ve,we=b.useContext(V),Ie=b.useContext(U),Ue=b.useContext(A.E_),Ye=Ue.getPrefixCls,He=Ue.direction,Ke=b.useRef(),dt=(0,N.sQ)(ae,Ke),ce=(0,b.useContext)(T.aM),de=ce.isFormItemInput;b.useEffect(function(){(0,se.Z)(!("optionType"in Y),"Radio","`optionType` is only support in Radio.Group.")},[]);var ge=function(tt){var Ze,zt;(Ze=Y.onChange)===null||Ze===void 0||Ze.call(Y,tt),(zt=we==null?void 0:we.onChange)===null||zt===void 0||zt.call(we,tt)},De=Y.prefixCls,ze=Y.className,Ce=Y.children,it=Y.style,rt=ie(Y,["prefixCls","className","children","style"]),ht=Ye("radio",De),qe=((we==null?void 0:we.optionType)||Ie)==="button"?"".concat(ht,"-button"):ht,Me=(0,s.Z)({},rt);we&&(Me.name=we.name,Me.onChange=ge,Me.checked=Y.value===we.value,Me.disabled=Y.disabled||we.disabled);var le=x()("".concat(qe,"-wrapper"),(ve={},(0,j.Z)(ve,"".concat(qe,"-wrapper-checked"),Me.checked),(0,j.Z)(ve,"".concat(qe,"-wrapper-disabled"),Me.disabled),(0,j.Z)(ve,"".concat(qe,"-wrapper-rtl"),He==="rtl"),(0,j.Z)(ve,"".concat(qe,"-wrapper-in-form-item"),de),ve),ze);return b.createElement("label",{className:le,style:it,onMouseEnter:Y.onMouseEnter,onMouseLeave:Y.onMouseLeave},b.createElement(p.Z,(0,s.Z)({},Me,{type:"radio",prefixCls:qe,ref:dt})),Ce!==void 0?b.createElement("span",null,Ce):null)},ne=b.forwardRef(ee);ne.displayName="Radio";var $=ne,K=w(28481),pe=w(21770),H=w(97647),fe=w(5467),L=b.forwardRef(function(J,Y){var ae=b.useContext(A.E_),ve=ae.getPrefixCls,we=ae.direction,Ie=b.useContext(H.Z),Ue=(0,pe.Z)(J.defaultValue,{value:J.value}),Ye=(0,K.Z)(Ue,2),He=Ye[0],Ke=Ye[1],dt=function(ge){var De=He,ze=ge.target.value;"value"in J||Ke(ze);var Ce=J.onChange;Ce&&ze!==De&&Ce(ge)},ce=function(){var ge,De=J.prefixCls,ze=J.className,Ce=ze===void 0?"":ze,it=J.options,rt=J.buttonStyle,ht=rt===void 0?"outline":rt,qe=J.disabled,Me=J.children,le=J.size,et=J.style,tt=J.id,Ze=J.onMouseEnter,zt=J.onMouseLeave,_t=ve("radio",De),mt="".concat(_t,"-group"),At=Me;it&&it.length>0&&(At=it.map(function(he){return typeof he=="string"||typeof he=="number"?b.createElement($,{key:he.toString(),prefixCls:_t,disabled:qe,value:he,checked:He===he},he):b.createElement($,{key:"radio-group-value-options-".concat(he.value),prefixCls:_t,disabled:he.disabled||qe,value:he.value,checked:He===he.value,style:he.style},he.label)}));var Zt=le||Ie,Q=x()(mt,"".concat(mt,"-").concat(ht),(ge={},(0,j.Z)(ge,"".concat(mt,"-").concat(Zt),Zt),(0,j.Z)(ge,"".concat(mt,"-rtl"),we==="rtl"),ge),Ce);return b.createElement("div",(0,s.Z)({},(0,fe.Z)(J),{className:Q,style:et,onMouseEnter:Ze,onMouseLeave:zt,id:tt,ref:Y}),At)};return b.createElement(B,{value:{onChange:dt,value:He,disabled:J.disabled,name:J.name,optionType:J.optionType}},ce())}),G=b.memo(L),F=function(J,Y){var ae={};for(var ve in J)Object.prototype.hasOwnProperty.call(J,ve)&&Y.indexOf(ve)<0&&(ae[ve]=J[ve]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var we=0,ve=Object.getOwnPropertySymbols(J);we<ve.length;we++)Y.indexOf(ve[we])<0&&Object.prototype.propertyIsEnumerable.call(J,ve[we])&&(ae[ve[we]]=J[ve[we]]);return ae},oe=function(Y,ae){var ve=b.useContext(A.E_),we=ve.getPrefixCls,Ie=Y.prefixCls,Ue=F(Y,["prefixCls"]),Ye=we("radio",Ie);return b.createElement(ue,{value:"button"},b.createElement($,(0,s.Z)({prefixCls:Ye},Ue,{type:"radio",ref:ae})))},me=b.forwardRef(oe),Se=$;Se.Button=me,Se.Group=G;var X=Se},88983:function(Xt,ct,w){"use strict";var j=w(38663),s=w.n(j),b=w(44943),p=w.n(b)},19650:function(Xt,ct,w){"use strict";w.d(ct,{u:function(){return V},Z:function(){return ie}});var j=w(22122),s=w(96156),b=w(28481),p=w(67294),S=w(94184),x=w.n(S),N=w(50344),T=w(65632);function A(ee){var ne=ee.className,$=ee.direction,K=ee.index,pe=ee.marginDirection,H=ee.children,fe=ee.split,L=ee.wrap,G=p.useContext(V),F=G.horizontalSize,oe=G.verticalSize,me=G.latestIndex,Se=G.supportFlexGap,X={};return Se||($==="vertical"?K<me&&(X={marginBottom:F/(fe?2:1)}):X=(0,j.Z)((0,j.Z)({},K<me&&(0,s.Z)({},pe,F/(fe?2:1))),L&&{paddingBottom:oe})),H==null?null:p.createElement(p.Fragment,null,p.createElement("div",{className:ne,style:X},H),K<me&&fe&&p.createElement("span",{className:"".concat(ne,"-split"),style:X},fe))}var R=w(98082),B=function(ee,ne){var $={};for(var K in ee)Object.prototype.hasOwnProperty.call(ee,K)&&ne.indexOf(K)<0&&($[K]=ee[K]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pe=0,K=Object.getOwnPropertySymbols(ee);pe<K.length;pe++)ne.indexOf(K[pe])<0&&Object.prototype.propertyIsEnumerable.call(ee,K[pe])&&($[K[pe]]=ee[K[pe]]);return $},V=p.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),U={small:8,middle:16,large:24};function ue(ee){return typeof ee=="string"?U[ee]:ee||0}var se=function(ne){var $,K=p.useContext(T.E_),pe=K.getPrefixCls,H=K.space,fe=K.direction,L=ne.size,G=L===void 0?(H==null?void 0:H.size)||"small":L,F=ne.align,oe=ne.className,me=ne.children,Se=ne.direction,X=Se===void 0?"horizontal":Se,J=ne.prefixCls,Y=ne.split,ae=ne.style,ve=ne.wrap,we=ve===void 0?!1:ve,Ie=B(ne,["size","align","className","children","direction","prefixCls","split","style","wrap"]),Ue=(0,R.Z)(),Ye=p.useMemo(function(){return(Array.isArray(G)?G:[G,G]).map(function(Me){return ue(Me)})},[G]),He=(0,b.Z)(Ye,2),Ke=He[0],dt=He[1],ce=(0,N.Z)(me,{keepEmpty:!0}),de=F===void 0&&X==="horizontal"?"center":F,ge=pe("space",J),De=x()(ge,"".concat(ge,"-").concat(X),($={},(0,s.Z)($,"".concat(ge,"-rtl"),fe==="rtl"),(0,s.Z)($,"".concat(ge,"-align-").concat(de),de),$),oe),ze="".concat(ge,"-item"),Ce=fe==="rtl"?"marginLeft":"marginRight",it=0,rt=ce.map(function(Me,le){Me!=null&&(it=le);var et=Me&&Me.key,tt="".concat(le,"-space-item");return p.createElement(A,{className:ze,key:"".concat(ze,"-").concat(et||tt),direction:X,index:le,marginDirection:Ce,split:Y,wrap:we},Me)}),ht=p.useMemo(function(){return{horizontalSize:Ke,verticalSize:dt,latestIndex:it,supportFlexGap:Ue}},[Ke,dt,it,Ue]);if(ce.length===0)return null;var qe={};return we&&(qe.flexWrap="wrap",Ue||(qe.marginBottom=-dt)),Ue&&(qe.columnGap=Ke,qe.rowGap=dt),p.createElement("div",(0,j.Z)({className:De,style:(0,j.Z)((0,j.Z)({},qe),ae)},Ie),p.createElement(V.Provider,{value:ht},rt))},ie=se},49111:function(Xt,ct,w){"use strict";var j=w(38663),s=w.n(j),b=w(34621),p=w.n(b)},12028:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return $}});var j=w(22122),s=w(96156),b=w(67294),p=w(28481),S=w(81253),x=w(94184),N=w.n(x),T=w(21770),A=w(15105),R=b.forwardRef(function(K,pe){var H,fe=K.prefixCls,L=fe===void 0?"rc-switch":fe,G=K.className,F=K.checked,oe=K.defaultChecked,me=K.disabled,Se=K.loadingIcon,X=K.checkedChildren,J=K.unCheckedChildren,Y=K.onClick,ae=K.onChange,ve=K.onKeyDown,we=(0,S.Z)(K,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),Ie=(0,T.Z)(!1,{value:F,defaultValue:oe}),Ue=(0,p.Z)(Ie,2),Ye=Ue[0],He=Ue[1];function Ke(ge,De){var ze=Ye;return me||(ze=ge,He(ze),ae==null||ae(ze,De)),ze}function dt(ge){ge.which===A.Z.LEFT?Ke(!1,ge):ge.which===A.Z.RIGHT&&Ke(!0,ge),ve==null||ve(ge)}function ce(ge){var De=Ke(!Ye,ge);Y==null||Y(De,ge)}var de=N()(L,G,(H={},(0,s.Z)(H,"".concat(L,"-checked"),Ye),(0,s.Z)(H,"".concat(L,"-disabled"),me),H));return b.createElement("button",Object.assign({},we,{type:"button",role:"switch","aria-checked":Ye,disabled:me,className:de,ref:pe,onKeyDown:dt,onClick:ce}),Se,b.createElement("span",{className:"".concat(L,"-inner")},Ye?X:J))});R.displayName="Switch";var B=R,V=w(7085),U=w(21790),ue=w(65632),se=w(97647),ie=w(21687),ee=function(K,pe){var H={};for(var fe in K)Object.prototype.hasOwnProperty.call(K,fe)&&pe.indexOf(fe)<0&&(H[fe]=K[fe]);if(K!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,fe=Object.getOwnPropertySymbols(K);L<fe.length;L++)pe.indexOf(fe[L])<0&&Object.prototype.propertyIsEnumerable.call(K,fe[L])&&(H[fe[L]]=K[fe[L]]);return H},ne=b.forwardRef(function(K,pe){var H,fe=K.prefixCls,L=K.size,G=K.loading,F=K.className,oe=F===void 0?"":F,me=K.disabled,Se=ee(K,["prefixCls","size","loading","className","disabled"]);(0,ie.Z)("checked"in Se||!("value"in Se),"Switch","`value` is not a valid prop, do you mean `checked`?");var X=b.useContext(ue.E_),J=X.getPrefixCls,Y=X.direction,ae=b.useContext(se.Z),ve=J("switch",fe),we=b.createElement("div",{className:"".concat(ve,"-handle")},G&&b.createElement(V.Z,{className:"".concat(ve,"-loading-icon")})),Ie=N()((H={},(0,s.Z)(H,"".concat(ve,"-small"),(L||ae)==="small"),(0,s.Z)(H,"".concat(ve,"-loading"),G),(0,s.Z)(H,"".concat(ve,"-rtl"),Y==="rtl"),H),oe);return b.createElement(U.Z,{insertExtraNode:!0},b.createElement(B,(0,j.Z)({},Se,{prefixCls:ve,className:Ie,disabled:me||G,ref:pe,loadingIcon:we})))});ne.__ANT_SWITCH=!0,ne.displayName="Switch";var $=ne},77576:function(Xt,ct,w){"use strict";var j=w(38663),s=w.n(j),b=w(33389),p=w.n(b)},60331:function(Xt,ct,w){"use strict";w.d(ct,{Z:function(){return K}});var j=w(96156),s=w(22122),b=w(28481),p=w(67294),S=w(94184),x=w.n(S),N=w(98423),T=w(54549),A=w(65632),R=function(pe,H){var fe={};for(var L in pe)Object.prototype.hasOwnProperty.call(pe,L)&&H.indexOf(L)<0&&(fe[L]=pe[L]);if(pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,L=Object.getOwnPropertySymbols(pe);G<L.length;G++)H.indexOf(L[G])<0&&Object.prototype.propertyIsEnumerable.call(pe,L[G])&&(fe[L[G]]=pe[L[G]]);return fe},B=function(H){var fe,L=H.prefixCls,G=H.className,F=H.checked,oe=H.onChange,me=H.onClick,Se=R(H,["prefixCls","className","checked","onChange","onClick"]),X=p.useContext(A.E_),J=X.getPrefixCls,Y=function(Ie){oe==null||oe(!F),me==null||me(Ie)},ae=J("tag",L),ve=x()(ae,(fe={},(0,j.Z)(fe,"".concat(ae,"-checkable"),!0),(0,j.Z)(fe,"".concat(ae,"-checkable-checked"),F),fe),G);return p.createElement("span",(0,s.Z)({},Se,{className:ve,onClick:Y}))},V=B,U=w(98787),ue=w(21790),se=function(pe,H){var fe={};for(var L in pe)Object.prototype.hasOwnProperty.call(pe,L)&&H.indexOf(L)<0&&(fe[L]=pe[L]);if(pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,L=Object.getOwnPropertySymbols(pe);G<L.length;G++)H.indexOf(L[G])<0&&Object.prototype.propertyIsEnumerable.call(pe,L[G])&&(fe[L[G]]=pe[L[G]]);return fe},ie=new RegExp("^(".concat(U.Y.join("|"),")(-inverse)?$")),ee=new RegExp("^(".concat(U.E.join("|"),")$")),ne=function(H,fe){var L,G=H.prefixCls,F=H.className,oe=H.style,me=H.children,Se=H.icon,X=H.color,J=H.onClose,Y=H.closeIcon,ae=H.closable,ve=ae===void 0?!1:ae,we=se(H,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Ie=p.useContext(A.E_),Ue=Ie.getPrefixCls,Ye=Ie.direction,He=p.useState(!0),Ke=(0,b.Z)(He,2),dt=Ke[0],ce=Ke[1];p.useEffect(function(){"visible"in we&&ce(we.visible)},[we.visible]);var de=function(){return X?ie.test(X)||ee.test(X):!1},ge=(0,s.Z)({backgroundColor:X&&!de()?X:void 0},oe),De=de(),ze=Ue("tag",G),Ce=x()(ze,(L={},(0,j.Z)(L,"".concat(ze,"-").concat(X),De),(0,j.Z)(L,"".concat(ze,"-has-color"),X&&!De),(0,j.Z)(L,"".concat(ze,"-hidden"),!dt),(0,j.Z)(L,"".concat(ze,"-rtl"),Ye==="rtl"),L),F),it=function(Ze){Ze.stopPropagation(),J==null||J(Ze),!Ze.defaultPrevented&&("visible"in we||ce(!1))},rt=function(){return ve?Y?p.createElement("span",{className:"".concat(ze,"-close-icon"),onClick:it},Y):p.createElement(T.Z,{className:"".concat(ze,"-close-icon"),onClick:it}):null},ht="onClick"in we||me&&me.type==="a",qe=(0,N.Z)(we,["visible"]),Me=Se||null,le=Me?p.createElement(p.Fragment,null,Me,p.createElement("span",null,me)):me,et=p.createElement("span",(0,s.Z)({},qe,{ref:fe,className:Ce,style:ge}),le,rt());return ht?p.createElement(ue.Z,null,et):et},$=p.forwardRef(ne);$.displayName="Tag",$.CheckableTag=V;var K=$},71153:function(Xt,ct,w){"use strict";var j=w(38663),s=w.n(j),b=w(13277),p=w.n(b)},45947:function(Xt,ct,w){"use strict";var j=w(22122),s=w(96156),b=w(81253),p=w(28991),S=w(6610),x=w(5991),N=w(10379),T=w(44144),A=w(67294),R=w(94184),B=w.n(R),V=function(U){(0,N.Z)(se,U);var ue=(0,T.Z)(se);function se(ie){var ee;(0,S.Z)(this,se),ee=ue.call(this,ie),ee.handleChange=function($){var K=ee.props,pe=K.disabled,H=K.onChange;pe||("checked"in ee.props||ee.setState({checked:$.target.checked}),H&&H({target:(0,p.Z)((0,p.Z)({},ee.props),{},{checked:$.target.checked}),stopPropagation:function(){$.stopPropagation()},preventDefault:function(){$.preventDefault()},nativeEvent:$.nativeEvent}))},ee.saveInput=function($){ee.input=$};var ne="checked"in ie?ie.checked:ie.defaultChecked;return ee.state={checked:ne},ee}return(0,x.Z)(se,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var ee,ne=this.props,$=ne.prefixCls,K=ne.className,pe=ne.style,H=ne.name,fe=ne.id,L=ne.type,G=ne.disabled,F=ne.readOnly,oe=ne.tabIndex,me=ne.onClick,Se=ne.onFocus,X=ne.onBlur,J=ne.onKeyDown,Y=ne.onKeyPress,ae=ne.onKeyUp,ve=ne.autoFocus,we=ne.value,Ie=ne.required,Ue=(0,b.Z)(ne,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),Ye=Object.keys(Ue).reduce(function(dt,ce){return(ce.substr(0,5)==="aria-"||ce.substr(0,5)==="data-"||ce==="role")&&(dt[ce]=Ue[ce]),dt},{}),He=this.state.checked,Ke=B()($,K,(ee={},(0,s.Z)(ee,"".concat($,"-checked"),He),(0,s.Z)(ee,"".concat($,"-disabled"),G),ee));return A.createElement("span",{className:Ke,style:pe},A.createElement("input",(0,j.Z)({name:H,id:fe,type:L,required:Ie,readOnly:F,disabled:G,tabIndex:oe,className:"".concat($,"-input"),checked:!!He,onClick:me,onFocus:Se,onBlur:X,onKeyUp:ae,onKeyDown:J,onKeyPress:Y,onChange:this.handleChange,autoFocus:ve,ref:this.saveInput,value:we},Ye)),A.createElement("span",{className:"".concat($,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(ee,ne){return"checked"in ee?(0,p.Z)((0,p.Z)({},ne),{},{checked:ee.checked}):null}}]),se}(A.Component);V.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},ct.Z=V},29589:function(Xt,ct,w){(function(j){j(w(4631))})(function(j){"use strict";var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},b={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};j.defineMode("xml",function(p,S){var x=p.indentUnit,N={},T=S.htmlMode?s:b;for(var A in T)N[A]=T[A];for(var A in S)N[A]=S[A];var R,B;function V(X,J){function Y(we){return J.tokenize=we,we(X,J)}var ae=X.next();if(ae=="<")return X.eat("!")?X.eat("[")?X.match("CDATA[")?Y(se("atom","]]>")):null:X.match("--")?Y(se("comment","-->")):X.match("DOCTYPE",!0,!0)?(X.eatWhile(/[\w\._\-]/),Y(ie(1))):null:X.eat("?")?(X.eatWhile(/[\w\._\-]/),J.tokenize=se("meta","?>"),"meta"):(R=X.eat("/")?"closeTag":"openTag",J.tokenize=U,"tag bracket");if(ae=="&"){var ve;return X.eat("#")?X.eat("x")?ve=X.eatWhile(/[a-fA-F\d]/)&&X.eat(";"):ve=X.eatWhile(/[\d]/)&&X.eat(";"):ve=X.eatWhile(/[\w\.\-:]/)&&X.eat(";"),ve?"atom":"error"}else return X.eatWhile(/[^&<]/),null}V.isInText=!0;function U(X,J){var Y=X.next();if(Y==">"||Y=="/"&&X.eat(">"))return J.tokenize=V,R=Y==">"?"endTag":"selfcloseTag","tag bracket";if(Y=="=")return R="equals",null;if(Y=="<"){J.tokenize=V,J.state=pe,J.tagName=J.tagStart=null;var ae=J.tokenize(X,J);return ae?ae+" tag error":"tag error"}else return/[\'\"]/.test(Y)?(J.tokenize=ue(Y),J.stringStartCol=X.column(),J.tokenize(X,J)):(X.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function ue(X){var J=function(Y,ae){for(;!Y.eol();)if(Y.next()==X){ae.tokenize=U;break}return"string"};return J.isInAttribute=!0,J}function se(X,J){return function(Y,ae){for(;!Y.eol();){if(Y.match(J)){ae.tokenize=V;break}Y.next()}return X}}function ie(X){return function(J,Y){for(var ae;(ae=J.next())!=null;){if(ae=="<")return Y.tokenize=ie(X+1),Y.tokenize(J,Y);if(ae==">")if(X==1){Y.tokenize=V;break}else return Y.tokenize=ie(X-1),Y.tokenize(J,Y)}return"meta"}}function ee(X){return X&&X.toLowerCase()}function ne(X,J,Y){this.prev=X.context,this.tagName=J||"",this.indent=X.indented,this.startOfLine=Y,(N.doNotIndent.hasOwnProperty(J)||X.context&&X.context.noIndent)&&(this.noIndent=!0)}function $(X){X.context&&(X.context=X.context.prev)}function K(X,J){for(var Y;;){if(!X.context||(Y=X.context.tagName,!N.contextGrabbers.hasOwnProperty(ee(Y))||!N.contextGrabbers[ee(Y)].hasOwnProperty(ee(J))))return;$(X)}}function pe(X,J,Y){return X=="openTag"?(Y.tagStart=J.column(),H):X=="closeTag"?fe:pe}function H(X,J,Y){return X=="word"?(Y.tagName=J.current(),B="tag",F):N.allowMissingTagName&&X=="endTag"?(B="tag bracket",F(X,J,Y)):(B="error",H)}function fe(X,J,Y){if(X=="word"){var ae=J.current();return Y.context&&Y.context.tagName!=ae&&N.implicitlyClosed.hasOwnProperty(ee(Y.context.tagName))&&$(Y),Y.context&&Y.context.tagName==ae||N.matchClosing===!1?(B="tag",L):(B="tag error",G)}else return N.allowMissingTagName&&X=="endTag"?(B="tag bracket",L(X,J,Y)):(B="error",G)}function L(X,J,Y){return X!="endTag"?(B="error",L):($(Y),pe)}function G(X,J,Y){return B="error",L(X,J,Y)}function F(X,J,Y){if(X=="word")return B="attribute",oe;if(X=="endTag"||X=="selfcloseTag"){var ae=Y.tagName,ve=Y.tagStart;return Y.tagName=Y.tagStart=null,X=="selfcloseTag"||N.autoSelfClosers.hasOwnProperty(ee(ae))?K(Y,ae):(K(Y,ae),Y.context=new ne(Y,ae,ve==Y.indented)),pe}return B="error",F}function oe(X,J,Y){return X=="equals"?me:(N.allowMissing||(B="error"),F(X,J,Y))}function me(X,J,Y){return X=="string"?Se:X=="word"&&N.allowUnquoted?(B="string",F):(B="error",F(X,J,Y))}function Se(X,J,Y){return X=="string"?Se:F(X,J,Y)}return{startState:function(X){var J={tokenize:V,state:pe,indented:X||0,tagName:null,tagStart:null,context:null};return X!=null&&(J.baseIndent=X),J},token:function(X,J){if(!J.tagName&&X.sol()&&(J.indented=X.indentation()),X.eatSpace())return null;R=null;var Y=J.tokenize(X,J);return(Y||R)&&Y!="comment"&&(B=null,J.state=J.state(R||Y,X,J),B&&(Y=B=="error"?Y+" error":B)),Y},indent:function(X,J,Y){var ae=X.context;if(X.tokenize.isInAttribute)return X.tagStart==X.indented?X.stringStartCol+1:X.indented+x;if(ae&&ae.noIndent)return j.Pass;if(X.tokenize!=U&&X.tokenize!=V)return Y?Y.match(/^(\s*)/)[0].length:0;if(X.tagName)return N.multilineTagIndentPastTag!==!1?X.tagStart+X.tagName.length+2:X.tagStart+x*(N.multilineTagIndentFactor||1);if(N.alignCDATA&&/<!\[CDATA\[/.test(J))return 0;var ve=J&&/^<(\/)?([\w_:\.-]*)/.exec(J);if(ve&&ve[1])for(;ae;)if(ae.tagName==ve[2]){ae=ae.prev;break}else if(N.implicitlyClosed.hasOwnProperty(ee(ae.tagName)))ae=ae.prev;else break;else if(ve)for(;ae;){var we=N.contextGrabbers[ee(ae.tagName)];if(we&&we.hasOwnProperty(ee(ve[2])))ae=ae.prev;else break}for(;ae&&ae.prev&&!ae.startOfLine;)ae=ae.prev;return ae?ae.indent+x:X.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:N.htmlMode?"html":"xml",helperType:N.htmlMode?"html":"xml",skipAttribute:function(X){X.state==me&&(X.state=F)},xmlCurrentTag:function(X){return X.tagName?{name:X.tagName,close:X.type=="closeTag"}:null},xmlCurrentContext:function(X){for(var J=[],Y=X.context;Y;Y=Y.prev)J.push(Y.tagName);return J.reverse()}}}),j.defineMIME("text/xml","xml"),j.defineMIME("application/xml","xml"),j.mimeModes.hasOwnProperty("text/html")||j.defineMIME("text/html",{name:"xml",htmlMode:!0})})}}]);
