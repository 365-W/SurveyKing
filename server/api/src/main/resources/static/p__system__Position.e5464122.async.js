(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5382],{64317:function(j,h,e){"use strict";var s=e(95395),l=e(99653),i=e(97445),C=e(67294),U=e(78729),b=e(22270),W=e(66758),N=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],v=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],r=C.forwardRef(function(n,_){var x=n.fieldProps,E=n.children,P=n.params,D=n.proFieldProps,Z=n.mode,y=n.valueEnum,S=n.request,a=n.showSearch,L=n.options,o=(0,i.Z)(n,N),B=(0,C.useContext)(W.Z);return C.createElement(U.Z,(0,s.Z)({mode:"edit",valueEnum:(0,b.h)(y),request:S,params:P,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:L,mode:Z,showSearch:a,getPopupContainer:B.getPopupContainer},x),ref:_,proFieldProps:D},o),E)}),p=C.forwardRef(function(n,_){var x=n.fieldProps,E=n.children,P=n.params,D=n.proFieldProps,Z=n.mode,y=n.valueEnum,S=n.request,a=n.options,L=(0,i.Z)(n,v),o=(0,l.Z)({options:a,mode:Z||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},x),B=(0,C.useContext)(W.Z);return C.createElement(U.Z,(0,s.Z)({mode:"edit",valueEnum:(0,b.h)(y),request:S,params:P,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({getPopupContainer:B.getPopupContainer},o),ref:_,proFieldProps:D},L),E)}),t=r,m=p,T=t;T.SearchSelect=m,T.displayName="ProFormComponent",h.Z=T},59686:function(j,h,e){"use strict";e.r(h),e.d(h,{default:function(){return B}});var s=e(57663),l=e(71577),i=e(3182),C=e(34792),U=e(48086),b=e(71194),W=e(50146),N=e(94657),v=e(94043),r=e.n(v),p=e(68489),t=e(57119),m=e(49101),T=e(70844),n=e(16894),_=e(93279),x=e(77613),E=e(67294),P=e(11849),D=e(64317),Z=e(15196),y=e(71975),S=e(5966),a=e(85893),L=(0,x.P)(function(u){var F=u.onOk,K=u.onClose,d=u.position,f=u.readonly,R=(0,E.useRef)(),w=!!(d!=null&&d.id),I=(0,p.m2)();return(0,a.jsxs)(y.Z,{title:w?d!=null&&d.id?"\u4FEE\u6539\u5C97\u4F4D":"\u65B0\u589E\u5C97\u4F4D":"\u67E5\u770B\u5C97\u4F4D",formRef:R,visible:!0,initialValues:d,submitter:{submitButtonProps:{style:{display:f?"none":"block"}}},drawerProps:{forceRender:!0,destroyOnClose:!0,onClose:function(){K()}},onFinish:function(){var c=(0,i.Z)(r().mark(function M(g){var O;return r().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,I.saveOrUpdatePosition((0,P.Z)((0,P.Z)({},d),g));case 2:O=A.sent,O.success&&F();case 4:case"end":return A.stop()}},M)}));return function(M){return c.apply(this,arguments)}}(),children:[(0,a.jsxs)(Z.ZP.Group,{children:[(0,a.jsx)(S.Z,{name:"name",width:"md",label:"\u5C97\u4F4D\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",readonly:f,required:!0,rules:[{required:!0,message:"\u5C97\u4F4D\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]}),(0,a.jsx)(S.Z,{width:"md",readonly:f,name:"code",label:"\u5C97\u4F4D\u7F16\u7801",placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",rules:[{required:!0,message:"\u5C97\u4F4D\u7F16\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],required:!0})]}),(0,a.jsx)(Z.ZP.Group,{children:(0,a.jsx)(D.Z,{width:"md",readonly:f,request:(0,i.Z)(r().mark(function c(){return r().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",[{label:"\u672C\u4EBA",value:"SELF"},{label:"\u672C\u4EBA\u53CA\u4E0B\u5C5E",value:"SELF_AND_SUB"},{label:"\u672C\u90E8\u95E8",value:"DEPT"},{label:"\u672C\u90E8\u95E8\u53CA\u4E0B\u5C5E\u90E8\u95E8",value:"DEPT_AND_SUB"},{label:"\u5168\u90E8",value:"ALL"}]);case 1:case"end":return g.stop()}},c)})),name:"dataPermissionType",label:"\u6570\u636E\u6743\u9650"})})]})}),o=(0,x.P)(function(){var u=(0,p.m2)(),F=(0,E.useRef)(),K=(0,E.useState)(),d=(0,N.Z)(K,2),f=d[0],R=d[1];(0,E.useEffect)(function(){u.loadPermissions()},[u]);var w=[{dataIndex:"index",valueType:"indexBorder",width:48},{title:"\u540D\u79F0",dataIndex:"name",ellipsis:!0,width:200},{title:"\u7F16\u7801",dataIndex:"code",hideInSearch:!0,width:150},{title:"\u6570\u636E\u6743\u9650",dataIndex:"dataPermissionType",valueEnum:{SELF:"\u672C\u4EBA",SELF_AND_SUB:"\u672C\u4EBA\u53CA\u4E0B\u5C5E",DEPT:"\u672C\u90E8\u95E8",DEPT_AND_SUB:"\u672C\u90E8\u95E8\u53CA\u4E0B\u5C5E\u90E8\u95E8",ALL:"\u5168\u90E8"},hideInSearch:!0,width:150},{title:"\u64CD\u4F5C",valueType:"option",render:function(c,M){return[(0,a.jsx)("a",{onClick:function(){R({visible:!0,current:M,readonly:!0})},children:"\u8BE6\u60C5"},"readonly"),(0,a.jsx)(_.Z,{onSelect:function(O){O==="edit"&&R({current:M,visible:!0}),O==="delete"&&W.Z.confirm({title:"\u5220\u9664",content:"\u786E\u5B9A\u5220\u9664\u5F53\u524D\u5C97\u4F4D?",icon:(0,a.jsx)(t.Z,{}),onOk:function(){u.deletePosition(M.id).then(function(A){if(A.success){var G;U.default.success("\u5220\u9664\u6210\u529F"),(G=F.current)===null||G===void 0||G.reload()}})}})},menus:[{key:"edit",name:"\u7F16\u8F91"},{key:"delete",name:"\u5220\u9664"}]},"actionGroup")]}}];return(0,a.jsxs)(T.ZP,{title:!1,children:[(0,a.jsx)(n.ZP,{columns:w,actionRef:F,dataSource:u.positions,request:function(){var I=(0,i.Z)(r().mark(function c(M){return r().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",u.loadPositions(M));case 1:case"end":return O.stop()}},c)}));return function(c){return I.apply(this,arguments)}}(),columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage"},rowKey:"id",search:{labelWidth:"auto"},pagination:{pageSize:5},scroll:{x:650},dateFormatter:"string",headerTitle:"\u5C97\u4F4D\u5217\u8868",toolBarRender:function(){return[(0,a.jsx)(l.Z,{icon:(0,a.jsx)(m.Z,{}),type:"primary",onClick:function(){R({visible:!0})},children:"\u65B0\u5EFA"},"button")]}}),(f==null?void 0:f.visible)&&(0,a.jsx)(L,{onClose:function(){R(void 0)},readonly:f.readonly,onOk:function(){var c;R(void 0),(c=F.current)===null||c===void 0||c.reload()},position:f.current})]})}),B=o},15746:function(j,h,e){"use strict";var s=e(21584);h.Z=s.Z},89032:function(j,h,e){"use strict";var s=e(38842),l=e.n(s),i=e(6999)},27049:function(j,h,e){"use strict";var s=e(22122),l=e(96156),i=e(67294),C=e(94184),U=e.n(C),b=e(65632),W=function(v,r){var p={};for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&r.indexOf(t)<0&&(p[t]=v[t]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,t=Object.getOwnPropertySymbols(v);m<t.length;m++)r.indexOf(t[m])<0&&Object.prototype.propertyIsEnumerable.call(v,t[m])&&(p[t[m]]=v[t[m]]);return p},N=function(r){return i.createElement(b.C,null,function(p){var t,m=p.getPrefixCls,T=p.direction,n=r.prefixCls,_=r.type,x=_===void 0?"horizontal":_,E=r.orientation,P=E===void 0?"center":E,D=r.orientationMargin,Z=r.className,y=r.children,S=r.dashed,a=r.plain,L=W(r,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),o=m("divider",n),B=P.length>0?"-".concat(P):P,u=!!y,F=P==="left"&&D!=null,K=P==="right"&&D!=null,d=U()(o,"".concat(o,"-").concat(x),(t={},(0,l.Z)(t,"".concat(o,"-with-text"),u),(0,l.Z)(t,"".concat(o,"-with-text").concat(B),u),(0,l.Z)(t,"".concat(o,"-dashed"),!!S),(0,l.Z)(t,"".concat(o,"-plain"),!!a),(0,l.Z)(t,"".concat(o,"-rtl"),T==="rtl"),(0,l.Z)(t,"".concat(o,"-no-default-orientation-margin-left"),F),(0,l.Z)(t,"".concat(o,"-no-default-orientation-margin-right"),K),t),Z),f=(0,s.Z)((0,s.Z)({},F&&{marginLeft:D}),K&&{marginRight:D});return i.createElement("div",(0,s.Z)({className:d},L,{role:"separator"}),y&&i.createElement("span",{className:"".concat(o,"-inner-text"),style:f},y))})};h.Z=N},48736:function(j,h,e){"use strict";var s=e(38842),l=e.n(s),i=e(62563),C=e.n(i)},62563:function(){}}]);
