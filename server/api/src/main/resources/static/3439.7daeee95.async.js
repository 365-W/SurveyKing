(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3439],{45290:function(Q3,F3,n){"use strict";n.d(F3,{Mt:function(){return g3},hl:function(){return i3},AT:function(){return s3},HN:function(){return c3},we:function(){return f3},x4:function(){return p},k9:function(){return P},oq:function(){return T3},jI:function(){return Y}});var Q=n(80937),J=n(67294),a3=n(24004),_=n(95522),Z=n(87998),t=n(85893);function P(u){var s=(0,J.useContext)(a3.ZX),l=s.theme,F=s.footerVisible,T=s.headerVisible,W=u.schema,B=function(h){var E=(0,_.GZ)(l,"Survey");if(E)return J.createElement(E,{schema:W,footerVisible:F,headerVisible:T},h)},g=function(){var h,E=-1;return(h=W.children)===null||h===void 0?void 0:h.map(function(D){var L=D.type,X=D.id;return(0,Z.nj)(L)||E++,L==="QuestionSet"?(0,t.jsx)(f3,{schema:D,index:E},X):(0,t.jsx)(c3,{schema:D,index:E},X)})};return(0,t.jsxs)(t.Fragment,{children:[B(g()),(0,t.jsx)(Q.gN,{name:"_finish"})]})}var v3=n(32059),U=n(94657),t3=n(83279),M=n(11849);function y3(u){var s,l=[],F=u.attribute;return F&&F.required&&l.push({required:!0,triggerType:"onInput"}),F&&F.answerLimit&&l.push({answerLimit:!0,schema:u}),(s=u.children)===null||s===void 0||s.forEach(function(T){l.push.apply(l,(0,t3.Z)(M3(T,u)))}),l.forEach(function(T){T.triggerType="manual"}),l}function M3(u,s){var l,F,T,W,B=[];if((l=u.attribute)!==null&&l!==void 0&&l.dataType){var g;B.push((g={},(0,v3.Z)(g,u.attribute.dataType,!0),(0,v3.Z)(g,"schema",(0,M.Z)((0,M.Z)({},u),{},{parent:s})),g))}return(F=u.attribute)!==null&&F!==void 0&&F.required&&B.push({required:!0,schema:(0,M.Z)((0,M.Z)({},u),{},{parent:s})}),(T=u.attribute)!==null&&T!==void 0&&T.textLimit&&B.push({textLimit:!0,schema:(0,M.Z)((0,M.Z)({},u),{},{parent:s})}),(W=u.attribute)!==null&&W!==void 0&&W.scope&&B.push({scope:!0,schema:(0,M.Z)((0,M.Z)({},u),{},{parent:s})}),B}var m3=n(80705),E3=n(15020),i3=function(s){var l=s.html,F=l===void 0?"":l;return(0,t.jsx)(t.Fragment,{children:typeof F=="string"&&(0,E3.ZP)(F.replace(/<p>/,"<span>").replace(/<\/p>/,"</span>"))})},q=function(s){return(0,t.jsx)("div",{className:"preview",children:V3(s)})};function V3(u){var s=u.schema,l=u.value;if(!l)return"";var F;if(s.type==="Radio"||s.type==="Select")Object.entries(l).some(function(g){var x=(0,U.Z)(g,2),h=x[0],E=x[1];if(E===!0){var D,L;F=(0,t.jsx)(i3,{html:(D=s.children)===null||D===void 0||(L=D.find(function(k){return k.id===h}))===null||L===void 0?void 0:L.title})}else if(E){var X,G;F=(0,t.jsx)(i3,{html:(X=s.children)===null||X===void 0||(G=X.find(function(k){return k.id===h}))===null||G===void 0?void 0:G.title})}return!0});else{if(s.type==="Checkbox")return Object.entries(l).map(function(g){var x=(0,U.Z)(g,2),h=x[0],E=x[1];if(E===!0){var D,L;return(0,t.jsx)(i3,{html:(D=s.children)===null||D===void 0||(L=D.find(function(k){return k.id===h}))===null||L===void 0?void 0:L.title},h)}else if(E){var X,G;return(0,t.jsx)(i3,{html:(X=s.children)===null||X===void 0||(G=X.find(function(k){return k.id===h}))===null||G===void 0?void 0:G.title},h)}}).reduce(function(g,x){return[g,", ",x]});if(s.type==="Cascader"){var T=s.children.map(function(g){return g.id}),W=T.map(function(g){return l[g]}),B=s.dataSource;return W.filter(function(g){return g!==void 0}).map(function(g,x){var h,E=(h=B)===null||h===void 0?void 0:h.find(function(D){return D.value===g});return B=E.children,(0,t.jsx)("span",{children:E.label},T[x])})}else if(s.type==="FillBlank"||s.type==="MultipleBlank"||s.type==="Textarea"||s.type==="Score"||s.type==="Nps")return Object.entries(l).map(function(g){var x=(0,U.Z)(g,2),h=x[0],E=x[1];return(0,t.jsx)("span",{children:E},h)})}return F}var c3=(0,Q.Pi)(function(s){var l=s.schema,F=s.index,T=s.qsIndex,W=l.id,B=l.type,g=(0,J.useContext)(a3.ZX),x=g.theme,h=g.optionTypes,E=g.id2title,D=g.schema,L=(0,Q.cI)(),X=(0,J.useMemo)(function(){return(0,Z.cB)(l,"calculate")},[]),G=(0,J.useMemo)(function(){var c;return(0,Q.$j)((0,_.I8)(x,B),(0,Q.jM)(function(m,C){return(0,M.Z)((0,M.Z)({},m),{},{onChange:function(f){function S(){C.selfErrors.length>0&&C.validate().catch(function(){})}if(!m.readOnly){if((0,m3.xb)(f)){C.onInput(void 0),S();return}if(B.startsWith("Matrix")&&(0,Z.hb)(f)){S(),C.onInput(void 0);return}f&&Object.keys(f).forEach(function(V){f[V]===void 0&&(f[V]="")}),C.onInput(f),S()}}})}),(0,Q.vl)(((c=(0,_.I8)(x,B))===null||c===void 0?void 0:c.Preview)||q))},[x,B]),k=(0,J.useCallback)(function(c){return(0,t.jsx)("div",{tabIndex:-1,onBlur:c==null?void 0:c.onBlur,"data-id":c.schema.id,children:J.createElement((0,_.GZ)(x,"Question"),c)})},[x]),h3=(0,J.useMemo)(function(){return(0,Q.$j)(k,(0,Q.jM)(function(c,m){return(0,M.Z)((0,M.Z)({},c),{},{error:m.selfErrors.length?(0,t3.Z)(m.selfErrors):[],warning:m.selfWarnings.length?m.selfWarnings:[],onBlur:function(){return m.onBlur.apply(m,arguments)},required:m.required})}))},[k]),I3=(0,J.useMemo)(function(){return(0,Q.$j)((0,_.I8)(x,B),(0,Q.jM)(function(c,m){return(0,M.Z)({},c)}))},[x,B]);return(0,Z.nj)(l.type)?(0,t.jsx)(Q.jG,{name:W,component:[I3,{schema:l,controlShow:void 0}],reactions:[function(c){var m,C=(m=l.attribute)===null||m===void 0?void 0:m.replaceTextRule;if(C){var A=(0,Z.vW)(C,function(S){var V=(0,Z.Op)(S),O=(0,U.Z)(V,1),H=O[0],R=c.query(H).get("value");return(0,Z.d0)(h,R,S,E)}),f="";A.success&&A.result&&(f=A.result),c.setComponentProps((0,M.Z)((0,M.Z)({},c.componentProps),{},{replaceTitle:f}))}}]}):(0,t.jsx)(Q.gN,{name:W,component:[G,{schema:l,controlShow:void 0}],decorator:[h3,{schema:l,index:F,qsIndex:T}],validator:y3(l),reactions:[function(c){Object.entries(X).forEach(function(m){var C=(0,U.Z)(m,2),A=C[0],f=C[1],S=f,V=(0,Z.vW)(S,function(O){var H=(0,Z.Op)(O),R=(0,U.Z)(H,2),l3=R[0],z=R[1],b=c.query(l3).get("value");return(0,Z.d0)(h,b,O)});V.success&&c.setState(function(O){var H;return O.value=(0,M.Z)((0,M.Z)({},O.value),{},(0,v3.Z)({},A,(0,Z.A7)(V.result,(H=l.children)===null||H===void 0?void 0:H.find(function(R){return R.id===A}))))})})},function(c){var m,C=(m=l.attribute)===null||m===void 0?void 0:m.visibleRule;if(C){var A=(0,Z.vW)(C,function(V){var O=(0,Z.Op)(V),H=(0,U.Z)(O,2),R=H[0],l3=H[1],z=c.query(R).get("value");return(0,Z.d0)(h,z,V)});if(A.success){var f;A.result?c.display="visible":c.display="none";var S=1;(f=D.children)===null||f===void 0||f.filter(function(V){return!(0,Z.nj)(V.type)}).forEach(function(V){var O=V.id,H=c.query(O).get("display");if(H==="visible"){var R=L.query(O).take();R&&(R.setDecoratorProps((0,M.Z)((0,M.Z)({},R.decoratorProps),{},{seqNo:S})),S++);var l3=1;if(V.type==="QuestionSet"){var z;(z=V.children)===null||z===void 0||z.filter(function(b){return!(0,Z.nj)(b.type)}).forEach(function(b){var I=b.id,y=c.query(I).get("display");if(y==="visible"){var $=L.query(I).take();$&&($.setDecoratorProps((0,M.Z)((0,M.Z)({},$.decoratorProps),{},{seqNo:l3})),l3++)}})}}})}}},function(c){var m,C=(m=l.attribute)===null||m===void 0?void 0:m.requiredRule;if(C){var A=(0,Z.vW)(C,function(f){var S=(0,Z.Op)(f),V=(0,U.Z)(S,2),O=V[0],H=V[1],R=c.query(O).get("value");return(0,Z.d0)(h,R,f)});A.success&&(A.result?c.required=!0:c.required=!1)}},function(c){var m,C=(m=l.attribute)===null||m===void 0?void 0:m.replaceTextRule;if(C){var A=(0,Z.vW)(C,function(S){var V=(0,Z.Op)(S),O=(0,U.Z)(V,1),H=O[0],R=c.query(H).get("value");return(0,Z.d0)(h,R,S,E)}),f="";A.success&&A.result&&(f=A.result),c.setDecoratorProps((0,M.Z)((0,M.Z)({},c.decoratorProps),{},{replaceTitle:f}))}},function(c){var m,C=(m=l.attribute)===null||m===void 0?void 0:m.validateRule;if(C){var A=(0,Z.vW)(C,function(f){var S=(0,Z.Op)(f),V=(0,U.Z)(S,1),O=V[0],H=c.query(O).get("value");return(0,Z.d0)(h,H,f,E)});A.success&&(A.result?c.setSelfErrors([A.result]):c.setSelfErrors([]))}}]})});function f3(u){var s=u.schema,l=u.index,F=s.id,T=(0,J.useContext)(a3.ZX),W=T.theme,B=function(){var x;return(x=s.children)===null||x===void 0?void 0:x.map(function(h,E){return h.type==="QuestionSet"?(0,t.jsx)(f3,{schema:h,index:E},h.id):(0,t.jsx)(c3,{schema:h,index:E,qsIndex:l},h.id)})};return(0,t.jsx)(Q.jG,{name:F,decorator:[(0,_.GZ)(W,"QuestionSet"),{schema:s,index:l}],children:B()})}var H3=function(s){var l=s.progress,F=l===void 0?0:l;return _jsx("div",{className:"progress-bar",style:{width:"".concat(F*100,"%")}})},b3=n(16165),Z3=function(){return(0,t.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"150",height:"150",children:[(0,t.jsx)("path",{d:"M0 0h1024v1024H0z",fill:"#FFFFFF","p-id":"44112"}),(0,t.jsx)("path",{d:"M160 73.426667h83.173333V0h98.266667v155.010667h75.6v179.485333h37.813333V163.168h22.666667v-40.8h68.053333v24.474667h30.24v342.666666h60.48V40.8h45.36v236.586667h22.666667V179.485333h45.36V16.317333H893.333333V824H160V73.426667z",fill:"#DDEEFF",opacity:".4","p-id":"44113"}),(0,t.jsx)("path",{d:"M362.693333 741.416l635.866667 95.584L689.893333 997.333333 24 852.36z",fill:"#DFE7F7","p-id":"44114"}),(0,t.jsx)("path",{d:"M1002.64 813.370667l-307.6 160.322666-665.893333-144.970666-0.826667-2.629334v-8.213333l20.586667 2.666667v1.701333l318.933333-104.469333 614.213333 92.48v-5.101334H1002.666667v8.213334h-0.026667z",fill:"#5AA12E","p-id":"44115"}),(0,t.jsx)("path",{d:"M1002.64 805.157333l-308.64 160.314667-665.653333-144.92h-0.026667l-0.213333-0.04 0.213333-0.064v-8.104l17.733333 2.296 320.746667-105.066667 615.253333 92.488v-5.098666H1002.666667v8.213333h-0.026667z",fill:"#93C110","p-id":"44116"}),(0,t.jsx)("path",{d:"M366.8 701.333333L1002.666667 796.917333l-308.666667 160.333334L28.106667 812.266667z",fill:"#EEF2F5","p-id":"44117"}),(0,t.jsx)("path",{d:"M629.333333 809.333333a138.666667 6.666667 0 1 0 277.333334 0 138.666667 6.666667 0 1 0-277.333334 0Z",fill:"#E3E7EA","p-id":"44118"}),(0,t.jsx)("path",{d:"M162.666667 773.333333a152 13.333333 0 1 0 304 0 152 13.333333 0 1 0-304 0Z",fill:"#E3E7EA","p-id":"44119"}),(0,t.jsx)("path",{d:"M922.666667 610.666667h-64v170.666666h53.333333a13.333333 13.333333 0 0 1 0 26.666667h-181.333333a13.333333 13.333333 0 0 1 0-26.666667h58.666666v-144h-26.666666a10.666667 10.666667 0 0 1-10.666667-10.666666v-16h-117.333333v82.666666a8 8 0 0 1-16 0v-82.666666h-5.333334a10.666667 10.666667 0 0 1-10.666666-10.666667v-2.666667l48-50.666666h4.48a7.658667 7.658667 0 0 1 1.573333-0.968l187.093333-83.381334a10.4 10.4 0 0 1 14.773334 6.208l72.453333 81.178667a8.066667 8.066667 0 0 1 2.08 5.461333 11.581333 11.581333 0 0 1 0.213333 2.168v42.666667a10.666667 10.666667 0 0 1-10.666666 10.666667z m-272-42.666667l-26.666667 29.333333h26.666667v-29.333333z m117.333333 53.333333h66.666667v-58.666666h-29.333334l-37.333333 37.333333v21.333333z m-16-24l37.333333-37.333333h-37.333333v37.333333z m-45.333333 0h21.333333v-37.333333h-21.333333v37.333333z m-18.666667-37.333333h-21.333333v37.333333h21.333333v-37.333333z m5.84-13.333333h96.693333a9.224 9.224 0 0 1 0.693334-1.6l32.506666-56.290667zM842.666667 487.976L808.773333 546.666667H842.666667v-58.690667zM845.333333 648h-42.666666v26.666667h42.666666v-26.666667z m0 37.333333h-42.666666v42.666667h42.666666v-42.666667z m0 53.333334h-42.666666v42.666666h42.666666v-42.666666z m13.333334-141.333334h21.333333v-37.333333h-21.333333v37.333333z m0-104.690666V546.666667h48.213333zM917.333333 560h-21.333333v37.333333h21.333333v-37.333333z",fill:"#8BC8FF","p-id":"44120"}),(0,t.jsx)("path",{d:"M592 709.333333h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H514.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H592a8 8 0 0 1 0 16z",fill:"#DFF0FF","p-id":"44121"}),(0,t.jsx)("path",{d:"M936 298.666667h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205334 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H858.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205334H936a8 8 0 0 1 0 16z",fill:"#C3E2FF","p-id":"44122"}),(0,t.jsx)("path",{d:"M104 408H45.333333a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205334H26.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205334 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H104a8 8 0 0 1 0 16z",fill:"#DCEEFF","p-id":"44123"}),(0,t.jsx)("path",{d:"M309.333333 522.666667m-245.333333 0a245.333333 245.333333 0 1 0 490.666667 0 245.333333 245.333333 0 1 0-490.666667 0Z",fill:"#FFCC6C","p-id":"44124"}),(0,t.jsx)("path",{d:"M296 730.666667a245.389333 245.389333 0 0 0 237.013333-308.746667 245.333333 245.333333 0 1 1-460.693333 164.16A245.333333 245.333333 0 0 0 296 730.666667z",fill:"#F3B72C","p-id":"44125"}),(0,t.jsx)("path",{d:"M338.666667 464m-50.666667 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#E49817","p-id":"44126"}),(0,t.jsx)("path",{d:"M333.333333 456m-50.666666 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#FFFFFF","p-id":"44127"}),(0,t.jsx)("path",{d:"M303.333333 603.2a37.085333 37.085333 0 1 1-38 37.066667 37.544 37.544 0 0 1 38-37.066667z",fill:"#E49817","p-id":"44128"}),(0,t.jsx)("path",{d:"M299.333333 597.333333A37.085333 37.085333 0 1 1 261.333333 634.4a37.544 37.544 0 0 1 38-37.066667z",fill:"#FFFFFF","p-id":"44129"}),(0,t.jsx)("path",{d:"M182.786667 554.125333m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#E49817","p-id":"44130"}),(0,t.jsx)("path",{d:"M179.88 549.874667m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#FFFFFF","p-id":"44131"}),(0,t.jsx)("path",{d:"M251.733333 320.424a19.794667 19.794667 0 1 1-20.266666 19.789333 20.026667 20.026667 0 0 1 20.266666-19.789333z",fill:"#E49817","p-id":"44132"}),(0,t.jsx)("path",{d:"M249.6 317.333333a19.794667 19.794667 0 1 1-20.266667 19.786667 20.026667 20.026667 0 0 1 20.266667-19.786667z",fill:"#FFFFFF","p-id":"44133"}),(0,t.jsx)("path",{d:"M426.04 365.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44134"}),(0,t.jsx)("path",{d:"M419.293333 357.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44135"}),(0,t.jsx)("path",{d:"M466.04 589.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44136"}),(0,t.jsx)("path",{d:"M459.293333 581.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44137"}),(0,t.jsx)("path",{d:"M490.666667 860a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44138"}),(0,t.jsx)("path",{d:"M480 801.333333a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44139"}),(0,t.jsx)("path",{d:"M526.453333 597.12a48.968 48.968 0 0 0-4.586666-4.722667c55.493333-36.413333 83.466667-80.64 68.986666-121.04-8.746667-24.416-31.866667-44.266667-64.773333-58.512-0.346667-0.984-0.666667-1.970667-1.12-2.946666a40.712 40.712 0 0 0-3.12-5.410667c39.093333 15.2 66.72 37.432 76.72 65.333333 15.306667 42.656-14.026667 89.253333-72.106667 127.298667zM573.333333 856v5.333333s-135.84 11.306667-109.333333-136c19.866667-100.330667-32.586667-80.72-41.386667-80.112 0 0 0 0.016 0.026667 0.026667a595.552 595.552 0 0 1-66.4 17.274667c-160.48 32.136-312.186667-2.04-338.8-76.336-13.413333-37.413333 7.466667-77.866667 51.973333-112.904a31.802667 31.802667 0 0 0 0.293334 7.485333c0.053333 0.24 0.133333 0.464 0.186666 0.701333-39.04 32.48-56.933333 69.181333-44.746666 103.173334 25.493333 71.109333 172.8 103.397333 329.013333 72.114666a589.661333 589.661333 0 0 0 64.533333-16.714666L418.666667 640s72.826667-26.768 50.666666 80c-17.92 86.293333 13.146667 138.845333 104 136z",fill:"#FFE1A9","p-id":"44140"}),(0,t.jsx)("path",{d:"M512 884a74.666667 6.666667 0 1 0 149.333333 0 74.666667 6.666667 0 1 0-149.333333 0Z",fill:"#E3E7EA","p-id":"44141"}),(0,t.jsx)("path",{d:"M608.453333 802.666667h20.426667l17.093333 75.917333h-54.613333z m-6.88 15.165333h34.186667v6.752h-34.186667v-6.752z m-5.066666 16.917333h44.32v6.749334h-44.32v-6.749334z m-5.173334 21.917334h54.666667v6.749333h-54.666667v-6.749333z m-11.946666 21.917333h78.56a3.381333 3.381333 0 0 1 3.386666 3.373333 3.384 3.384 0 0 1-3.386666 3.373334h-78.56a3.384 3.384 0 0 1-3.386667-3.373334 3.381333 3.381333 0 0 1 3.386667-3.373333z",fill:"#F9A303","p-id":"44142"}),(0,t.jsx)("path",{d:"M768 838.666667a58.666667 6.666667 0 1 0 117.333333 0 58.666667 6.666667 0 1 0-117.333333 0Z",fill:"#E3E7EA","p-id":"44143"}),(0,t.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 0 5.333333-5v-70a5.181333 5.181333 0 0 0-5.333333-5v80z",fill:"#845C45","p-id":"44144"}),(0,t.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 1-5.333333-5v-70a5.181333 5.181333 0 0 1 5.333333-5v80z",fill:"#BA805A","p-id":"44145"}),(0,t.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 0 0-90.666667v90.666667z",fill:"#628A21","p-id":"44146"}),(0,t.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 1 0-90.666667v90.666667z",fill:"#6EA52E","p-id":"44147"}),(0,t.jsx)("path",{d:"M568 786.778667l-1.946667 6.824a1.130667 1.130667 0 0 1-1.173333 0.773333l-4.16-0.349333a19.581333 19.581333 0 0 1-18.88 8.477333l-13.093333-1.664 0.026666-0.04a3.733333 3.733333 0 0 1-0.986666-0.397333c-2.586667-1.504-3.706667-5.986667-3.306667-11.509334l-7.146667-1.816a3.408 3.408 0 0 1-2.56-4.173333 3.656 3.656 0 0 1 4.426667-2.4l6.453333 1.642667c0.293333-1.066667 0.613333-2.154667 1.013334-3.237334 0.213333-0.621333 0.453333-1.221333 0.693333-1.810666l-7.626667-1.938667a3.410667 3.410667 0 0 1-2.56-4.176 3.653333 3.653333 0 0 1 4.426667-2.4l9.12 2.317333a11.101333 11.101333 0 0 1 7.306667-5.472V765.333333l8.906666 1.136a18.562667 18.562667 0 0 1 16.613334 17.386667l3.813333 1.685333a1.066667 1.066667 0 0 1 0.64 1.237334z m-26.693333-20.149334c-2.693333-1.52-6.24 0.429333-9.306667 4.578667l4.08 1.032a3.392 3.392 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-5.68-1.437333c-0.24 0.573333-0.48 1.16-0.693333 1.765333q-0.6 1.642667-1.04 3.274667l6.88 1.744a3.389333 3.389333 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-6.133333-1.557333c-0.32 5.184 0.853333 9.368 3.386667 10.805333 4.053333 2.298667 10.08-3.309333 13.44-12.533333s2.853333-18.52-1.2-20.818667z",fill:"#FF6767","p-id":"44148"}),(0,t.jsx)("path",{d:"M578.666667 789.333333s194 0.666667 98.666666 64l-2.666666-2.666666s100.826667-53-98.666667-58.666667z",fill:"#FFE1A9","p-id":"44149"})]})},s3=function(s){return(0,t.jsx)(b3.Z,(0,M.Z)({component:Z3},s))},o3=n(27484),d3=n.n(o3),p3=n(75977),C3=n(45418),r3=n(62713),e3=n(33852),z3=n(10285),N3=n.n(z3),n3=n(72540),B3=n.n(n3),D3=n(96036),A3=n.n(D3);d3().locale("zh-cn"),d3().extend(B3()),d3().extend(N3()),d3().extend(A3());var g3=(0,C3.default)((0,M.Z)({},p3.Z)),P3=g3,Y=J.forwardRef(function(u,s){return(0,t.jsx)(P3,(0,M.Z)((0,M.Z)({},u),{},{picker:"time",mode:void 0,ref:s}))});Y.displayName="TimePicker";var R3=null,Y3=n(57663),u3=n(71577);function x3(){return(0,J.useContext)(Z.ff)}var T3=(0,Q.Pi)(function(){var u,s=x3(),l=((u=s.savedAnswer)===null||u===void 0?void 0:u.progress)||0;return(0,t.jsx)("div",{className:"temp-confirm",children:(0,t.jsxs)("div",{className:"temp-confirm-cont",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("svg",{t:"1647102518492",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4235",width:"128",height:"128",children:[(0,t.jsx)("path",{d:"M876.88894187 362.30785921v463.42517333c0 23.4826304-19.07152853 42.6838976-42.55415894 42.6838976-23.61236907 0-42.6838976-19.07152853-42.6838976-42.6838976V362.30785921h85.23805654z",fill:"#CCCBCA","p-id":"4236","data-spm-anchor-id":"a313x.7781069.0.i0",className:"selected"}),(0,t.jsx)("path",{d:"M791.52114667 825.86277121V235.68328748l-103.27167894-103.27167894H146.98132053v693.45116267c0 10.898016 4.1516256 21.79603307 12.45487574 30.0992832 8.30325013 8.30325013 19.3310048 12.45487573 30.0992832 12.45487573H834.20504427c-23.4826304 0.12973867-42.6838976-19.07152853-42.6838976-42.55415893z",fill:"#FFFFFF","p-id":"4237","data-spm-anchor-id":"a313x.7781069.0.i1",className:"selected"}),(0,t.jsx)("path",{d:"M210.81255893 544.97937174h246.502752v11.4169696h-246.502752zM210.81255893 581.95478508h246.502752v11.28723093h-246.502752zM210.81255893 618.93019734h246.502752v11.4169696h-246.502752zM210.81255893 655.90561068h246.502752v11.4169696h-246.502752zM210.81255893 692.88102294h246.502752v11.4169696h-246.502752zM210.81255893 729.85643628h246.502752v11.4169696h-246.502752zM210.81255893 766.83184854h246.502752v11.4169696h-246.502752z",fill:"#CCCBCA","p-id":"4238"}),(0,t.jsx)("path",{d:"M210.81255893 397.07772054h246.502752V519.42092908h-246.502752z",fill:"#516575","p-id":"4239"}),(0,t.jsx)("path",{d:"M482.8737536 397.07772054h246.63249067v11.4169696H482.8737536zM482.8737536 434.05313388h246.63249067v11.4169696H482.8737536zM482.8737536 471.02854614h246.63249067v11.4169696H482.8737536zM482.8737536 508.00395948h246.63249067v11.4169696H482.8737536zM482.8737536 544.97937174h246.63249067v11.4169696H482.8737536zM482.8737536 581.95478508h246.63249067v11.28723093H482.8737536zM482.8737536 618.93019734h246.63249067v11.4169696H482.8737536zM482.8737536 655.90561068h246.63249067v122.34320746H482.8737536z",fill:"#CCCBCA","p-id":"4240","data-spm-anchor-id":"a313x.7781069.0.i5",className:"selected"}),(0,t.jsx)("path",{d:"M494.1609856 685.87515521h24.00158293V767.22106348h-24.00158293zM527.50372587 732.84041601H551.3755712V767.22106348h-23.87184533zM560.84646613 695.86500374h24.001584v71.35605974h-24.001584zM594.18920747 709.74700054h24.00158293V767.22106348H594.18920747zM627.53194773 675.10687681h24.001584v92.11418667h-24.001584zM660.874688 751.39299201h23.87184533V767.22106348h-23.87184533zM694.21742933 692.88102294h24.00158294V767.22106348h-24.00158294z",fill:"#FFFFFF","p-id":"4241"}),(0,t.jsx)("path",{d:"M209.1259616 245.54339841h520.250544v76.15637547h-520.250544z",fill:"#EC6C3F","p-id":"4242"}),(0,t.jsx)("path",{d:"M209.1259616 344.27423681h520.250544v7.1356064h-520.250544zM209.1259616 215.96306774h520.250544v7.1356064h-520.250544z",fill:"#2B4456","p-id":"4243"}),(0,t.jsx)("path",{d:"M791.52114667 235.68328748h-103.27167894v-103.27167894z",fill:"#CCCBCA","p-id":"4244"})]})}),(0,t.jsxs)("h4",{className:"confirm-title",children:[(0,t.jsx)("span",{children:"\u4E4B\u524D\u7684\u586B\u5199\u8FDB\u5EA6\u4E3A"}),(l*100).toFixed(0),"%",(0,t.jsx)("br",{}),(0,t.jsx)("span",{children:"\u662F\u5426\u7EE7\u7EED\u4E0A\u6B21\u586B\u5199\uFF1F"})]}),(0,t.jsxs)("div",{className:"confirm-btn-group",children:[(0,t.jsx)(u3.Z,{type:"primary",block:!0,onClick:function(){s.confirmTempAnswerType=2},children:"\u7EE7\u7EED\u586B\u5199"}),(0,t.jsx)(u3.Z,{block:!0,style:{marginTop:15},onClick:function(){s.confirmTempAnswerType=3},children:"\u91CD\u65B0\u586B\u5199"})]})]})})}),S3=n(34792),O3=n(48086),e=n(47673),r=n(4107),i=n(49111),a=n(19650),o=n(68489),d=n(27400),v=n(74855),j=n(73727),p=(0,Q.Pi)(function(){var u,s,l=x3(),F=(0,d.a)(),T=l.success,W=(u=l.setting)===null||u===void 0?void 0:u.submittedSetting,B=(s=l.setting)===null||s===void 0?void 0:s.answerSetting.loginRequired,g=W||{},x=g.contentHtml,h=l.answerUrl,E=l.answerQrCodeUrl,D=l.answerView;return T?(0,t.jsx)("div",{className:"survey-end animated",children:(0,t.jsxs)("div",{className:"survey-end-content",children:[(0,t.jsx)("h3",{className:"survey-end-title ",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(i3,{html:x||"\u95EE\u5377\u5230\u6B64\u7ED3\u675F\uFF0C\u611F\u8C22\u60A8\u7684\u53C2\u4E0E\uFF01"}),(0,t.jsx)("div",{children:(D==null?void 0:D.examScore)!==void 0?(0,t.jsxs)("span",{children:["\u4F60\u7684\u5F97\u5206\u662F",D.examScore,"\u5206"]}):(0,t.jsx)(t.Fragment,{})}),(0,t.jsx)("div",{children:B&&(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(j.rU,{to:"/",children:(0,t.jsx)(u3.Z,{type:"link",onClick:function(){},children:"\u8FD4\u56DE\u9996\u9875"})}),(0,t.jsx)(u3.Z,{type:"link",onClick:function(){F.logout(),(0,o.on)()},children:"\u9000\u51FA\u5173\u95ED"})]})})]})}),h&&(0,t.jsxs)("div",{className:"survey-end-result",children:[(0,t.jsx)("div",{style:{border:"1px solid #e1e7f2",borderRadius:3,boxShadow:"0px 3px 8px 0px rgb(224 229 236 / 40%)",width:100,height:100},children:(0,t.jsx)("img",{src:E,height:95,width:95})}),(0,t.jsxs)(r.Z.Group,{compact:!0,className:"survey-end-result-copy",children:[(0,t.jsx)(r.Z,{defaultValue:h,style:{width:300,background:"#f6f6f6",border:"1px solid #e1e7f2"}}),(0,t.jsx)(v.CopyToClipboard,{text:h,onCopy:function(){return O3.default.success("\u590D\u5236\u6210\u529F")},children:(0,t.jsx)(u3.Z,{children:"\u590D\u5236"})})]}),(0,t.jsx)("span",{className:"survey-end-result-tip",children:"\u957F\u6309\u4FDD\u5B58\u4E8C\u7EF4\u7801\u6216\u8005\u590D\u5236\u94FE\u63A5\u53EF\u4EE5\u4FEE\u6539\u7B54\u6848"})]})]})}):(0,t.jsx)(t.Fragment,{})})},63439:function(Q3,F3,n){"use strict";n.d(F3,{O:function(){return S3},Z:function(){return O3}});var Q=n(91220),J=n(3182),a3=n(11849),_=n(94657),Z=n(94043),t=n.n(Z),P=n(67294),v3=n(80937),U=n(64031),t3=n(54531),M=n(45290),y3=n(24004),M3=n(95522),m3=n(80705),E3=n(99439),i3=n(27484),q=n.n(i3),V3=n(66607),c3=n.n(V3);q().extend(c3()),Number.prototype.isBetween=function(r,i,a){var o=this,d=parseFloat(r);isNaN(d)&&(d=-99999);var v=parseFloat(i);return isNaN(v)&&(v=99999),!(o>v||o<d||a[0]==="("&&d==o||a[1]===")"&&v==o)};function f3(e,r){var i=o3(e),a=Number(r);return a.isBetween(e.substring(1,e.indexOf(",")),e.substring(e.indexOf(",")+1,e.length-1),i)}function H3(e,r){if(!r)return!0;var i=q()(r),a=s3(e.substring(1,e.indexOf(",")),!0),o=s3(e.substring(e.indexOf(",")+1,e.length-1),!1),d=o3(e);return i.isBetween(a,o,null,d)}function b3(e,r){if(!r)return!0;var i=q()(r),a=s3(e.substring(1,e.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),o=s3(e.substring(e.indexOf(",")+1,e.length-1),!1,"YYYY-MM-DD hh:mm:ss"),d=o3(e);return i.isBetween(a,o,null,d)}function Z3(e,r){if(!r)return!0;var i="2018-02-08 ",a=q()(i+r),o=s3(i+e.substring(1,e.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),d=s3(i+e.substring(e.indexOf(",")+1,e.length-1),!1,"YYYY-MM-DD hh:mm:ss"),v=o3(e);return a.isBetween(o,d,null,v)}function s3(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY-MM-DD",a,o=q()(q()().format(i));return e==="undefined"?r?a=q()("1900-01-01"):a=q()("2999-01-01"):e.indexOf("T")!==-1?e==="T"?a=o:/T-\d+/.test(e)?a=o.subtract(parseInt(e.match(/\d+/)[0]),"days"):/T\+\d+/.test(e)&&(a=o.add(parseInt(e.match(/\d+/)[0]),"days")):/\d+-\d+-\d+/.test(e)&&(a=q()(e)),a}function o3(e){var r=e[0],i=e[e.length-1],a="".concat(r).concat(i);return a}function d3(e,r){var i,a=r.id,o=[];if((i=r.parent)!==null&&i!==void 0&&i.type.startsWith("Matrix"))if(r.parent.type==="MatrixAuto"&&Array.isArray(e))e.forEach(function(p,u){o.push(["".concat(u,"-").concat(a),p[r.id]])});else{var d;(d=r.parent.row)===null||d===void 0||d.forEach(function(p){e[p.id]?o.push(["".concat(p.id,"-").concat(a),e[p.id][r.id]]):o.push(["".concat(p.id,"-").concat(a),void 0])})}else{var v,j=(v=r.parent)===null||v===void 0?void 0:v.type;j==="Radio"||j==="Checkbox"?Object.keys(e).includes(r.id)&&o.push([r.id,e[r.id]]):o.push([r.id,e[r.id]])}return o}function p3(e){return!isNaN(parseFloat(e))&&isFinite(e)}function C3(e){return!!(p3(e)&&Number.isInteger(parseFloat(e)))}function r3(e){var r=e.errMsg,i=e.schema,a=e.regEx,o=e.value;return i?e3({schema:i,value:o,errMsg:r,isValid:function(v){return v?a.test("".concat(v)):!0}}):null}function e3(e){var r=e.value,i=e.schema,a=e.isValid,o=e.errMsg;return!i||r==null?null:d3(r,i).map(function(d){var v=(0,_.Z)(d,2),j=v[0],p=v[1];return a(p)?null:"".concat(j,"^").concat(o)}).filter(function(d){return d})[0]}(0,E3.au)({required:function(r,i){var a=i.schema;return i&&i.required===!1?null:(0,m3.xb)(r)||typeof r=="object"&&Object.keys(r).length===0?"\u8FD9\u9053\u9898\u672A\u56DE\u7B54":e3({schema:a,value:r,errMsg:"\u8FD9\u4E2A\u9009\u9879\u672A\u56DE\u7B54",isValid:function(d){return!(0,m3.xb)(d)}})},answerLimit:function(r,i){var a,o=i.schema,d=o==null||(a=o.attribute)===null||a===void 0?void 0:a.answerLimit;if(!d)return null;var v=d.slice(1,d.length-1).split(","),j=parseInt(v[0]||"0"),p=parseInt(v[1]||"0"),u=Object.keys(r||{}).length;return r&&(u<j&&j!==0||u>p&&p!==0)?j===0?"\u6700\u591A\u9009\u62E9".concat(p,"\u9879"):p===0?"\u6700\u5C11\u9009\u62E9".concat(j,"\u9879"):"\u6700\u5C11\u9009\u62E9".concat(j,"\u9879,\u6700\u591A\u9009\u62E9").concat(p,"\u9879"):null},number:function(r,i){var a,o=i.schema,d=o==null||(a=o.attribute)===null||a===void 0?void 0:a.numericScale;if(!o)return null;var v="\u8BF7\u8F93\u5165\u6570\u5B57";return d===0?v="\u8BF7\u8F93\u5165\u6574\u6570":d&&d>0&&(v="\u8BF7\u4FDD\u7559".concat(d,"\u4F4D\u5C0F\u6570")),e3({errMsg:v,schema:o,value:r,isValid:function(p){return!(p!==void 0&&(!p3(p)||d===0&&!C3(p)||d!==void 0&&d>0&&("".concat(p).split(".")[1]||"").length>d))}})},date:function(r,i){var a=i.schema;return r3({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F",schema:a,regEx:/^(?:(?:1[6-9]|[2-9][0-9])[0-9]{2}([-/.]?)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:(?:1[6-9]|[2-9][0-9])(?:0[48]|[2468][048]|[13579][26])|(?:16|[2468][048]|[3579][26])00)([-/.]?)0?2\2(?:29))(\s+([01][0-9]:|2[0-3]:)?[0-5][0-9]:[0-5][0-9])?$/,value:r})},dateTime:function(r,i){var a=i.schema;return r3({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F\u65F6\u95F4",schema:a,regEx:/^\d{4}[-]([0][1-9]|(1[0-2]))[-]([1-9]|([012]\d)|(3[01]))\s(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:r})},time:function(r,i){var a=i.schema;return r3({errMsg:"\u8BF7\u8F93\u5165\u65F6\u95F4",schema:a,regEx:/^(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:r})},mobile:function(r,i){var a=i.schema;return r3({errMsg:"\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E",schema:a,regEx:/^1([358][0-9]|4[579]|66|7[01235678]|9[189])[0-9]{8}$/,value:r})},decimal:function(r,i){var a=i.schema;return r3({errMsg:"\u8BF7\u8F93\u5165\u6570\u5B57",schema:a,regEx:/^[+-]?\d+(\.\d+)?$/,value:r})},email:function(r,i){var a=i.schema;return r3({errMsg:"\u90AE\u4EF6\u683C\u5F0F\u4E0D\u6B63\u786E",schema:a,regEx:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,value:r})},idCard:function(r,i){var a=i.schema;return e3({errMsg:"\u8EAB\u4EFD\u8BC1\u683C\u5F0F\u4E0D\u6B63\u786E",schema:a,value:r,isValid:function(d){return!(d&&!N3("".concat(d)))}})},chinese:function(r,i){var a=i.schema;return r3({errMsg:"\u8BF7\u8F93\u5165\u6C49\u5B57",schema:a,regEx:/^[\u4e00-\u9fa5]+$/,value:r})},alphabet:function(r,i){var a=i.schema;return r3({errMsg:"\u8BF7\u8F93\u5165\u5B57\u6BCD",schema:a,regEx:/^[a-zA-Z]+$/,value:r})},textLimit:function(r,i){var a,o=i.schema,d=o==null||(a=o.attribute)===null||a===void 0?void 0:a.textLimit;if(!d)return null;var v=d.slice(1,d.length-1).split(","),j=parseInt(v[0]||"0"),p=parseInt(v[1]||"0");if(j===0&&p===0)return null;var u=e3({errMsg:j!==p?"\u8BF7\u8F93\u5165".concat(j,"~").concat(p,"\u4E2A\u5B57"):"\u8BF7\u8F93\u5165".concat(j,"\u4E2A\u5B57"),schema:o,value:r,isValid:function(l){return!(l&&("".concat(l).length<j||"".concat(l).length>p))}});return u},scope:function(r,i){var a,o,d=i.schema,v=d==null||(a=d.attribute)===null||a===void 0?void 0:a.scope,j=d==null||(o=d.attribute)===null||o===void 0?void 0:o.dataType;if(v&&j){if(j==="number")return e3({errMsg:"\u6570\u503C\u8303\u56F4\u4E0D\u6B63\u786E ".concat(v),schema:d,value:r,isValid:function(u){return!(u&&!f3(v,"".concat(u)))}});if(j==="date")return e3({errMsg:"\u65E5\u671F\u8303\u56F4\u4E0D\u6B63\u786E ".concat(v),schema:d,value:r,isValid:function(u){return!(u&&!H3(v,"".concat(u)))}});if(j==="dateTime")return e3({errMsg:"\u65E5\u671F\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(v),schema:d,value:r,isValid:function(u){return!(u&&!b3(v,"".concat(u)))}});if(j==="time")return e3({errMsg:"\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(v),schema:d,value:r,isValid:function(u){return!(u&&!Z3(v,"".concat(u)))}})}return null}});function z3(e){var r=e.substring(6,8),i=e.substring(8,10),a=e.substring(10,12),o=new Date(parseFloat(r),parseFloat(i)-1,parseFloat(a));return!(o.getFullYear()-1900!==parseFloat(r)||o.getMonth()!==parseFloat(i)-1||o.getDate()!==parseFloat(a))}function N3(e){var r=e;if(e.length!==15&&e.length!==18)return!1;if(e.length===15)return z3(r);var i={11:"\u5317\u4EAC",12:"\u5929\u6D25",13:"\u6CB3\u5317",14:"\u5C71\u897F",15:"\u5185\u8499\u53E4",21:"\u8FBD\u5B81",22:"\u5409\u6797",23:"\u9ED1\u9F99\u6C5F ",31:"\u4E0A\u6D77",32:"\u6C5F\u82CF",33:"\u6D59\u6C5F",34:"\u5B89\u5FBD",35:"\u798F\u5EFA",36:"\u6C5F\u897F",37:"\u5C71\u4E1C",41:"\u6CB3\u5357",42:"\u6E56\u5317 ",43:"\u6E56\u5357",44:"\u5E7F\u4E1C",45:"\u5E7F\u897F",46:"\u6D77\u5357",50:"\u91CD\u5E86",51:"\u56DB\u5DDD",52:"\u8D35\u5DDE",53:"\u4E91\u5357",54:"\u897F\u85CF ",61:"\u9655\u897F",62:"\u7518\u8083",63:"\u9752\u6D77",64:"\u5B81\u590F",65:"\u65B0\u7586",71:"\u53F0\u6E7E",81:"\u9999\u6E2F",82:"\u6FB3\u95E8",91:"\u56FD\u5916 "},a=!0;if(!r||!/^([1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx])|([1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2})$/i.test(r))a=!1;else if(!i[r.substr(0,2)])a=!1;else if(r.length>18)a=!1;else if(r.length===18){for(var o=r.split(""),d=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],v=[1,0,"X",9,8,7,6,5,4,3,2],j=0,p=0,u=0,s=0;s<17;s+=1)p=parseInt(o[s],10),u=d[s],j+=p*u;var l=o[17].toUpperCase()==="X"?"X":Number(o[17]);v[j%11]!==l&&(a=!1)}return a}var n3=n(87998);function B3(e,r){}var D3=n(69610),A3=n(54941),g3=function(){function e(){(0,D3.Z)(this,e),this.progress=0,this.makeObservable()}return(0,A3.Z)(e,[{key:"makeObservable",value:function(){(0,t3.Ou)(this,{progress:t3.LO.ref,changeProgress:t3.aD})}},{key:"changeProgress",value:function(i){this.progress=i}}]),e}(),P3=n(76826),Y=n(85893),R3=P.lazy(function(){return Promise.all([n.e(2369),n.e(3742),n.e(7527),n.e(5482),n.e(2432),n.e(4799),n.e(4271),n.e(2478),n.e(6728),n.e(3080),n.e(4975)]).then(n.bind(n,64147))}),Y3=P.lazy(function(){return Promise.all([n.e(2369),n.e(3742),n.e(7527),n.e(2432),n.e(2478),n.e(6728),n.e(3080),n.e(9517)]).then(n.bind(n,61384))}),u3=function(){return(0,Y.jsx)("div",{className:"page-loading-warp",children:(0,Y.jsxs)("div",{className:"spinner",children:[(0,Y.jsx)("div",{className:"rect1"}),(0,Y.jsx)("div",{className:"rect2"}),(0,Y.jsx)("div",{className:"rect3"}),(0,Y.jsx)("div",{className:"rect4"}),(0,Y.jsx)("div",{className:"rect5"})]})})},x3=function(r){var i=r.theme,a=r.children;return i==="antdmobile"?(0,Y.jsx)(Y3,{children:a}):(0,Y.jsx)(R3,{children:a})},T3=x3,S3=(0,P.forwardRef)(function(e,r){var i=e.theme,a=i===void 0?M3.uH:i,o=e.footerVisible,d=o===void 0?!0:o,v=e.headerVisible,j=v===void 0?!0:v,p=e.initialValues,u=e.readOnly,s=e.loading,l=e.onChange,F=e.questionNumber,T=F===void 0?!0:F,W=e.onUpload,B=e.paginationVisible,g=B===void 0?!0:B,x=e.fieldPermission,h=e.progressBar,E=h===void 0?!1:h,D=e.statistics,L=e.isPreview,X=(0,P.useMemo)(function(){return new g3},[]),G=(0,P.useMemo)(function(){return(0,n3.Gt)(e.schema)},[e.schema]),k=(0,P.useMemo)(function(){var z={},b=function I(y){z[y.id]=y.title,y.children&&y.children.forEach(I)};return b(G),document.title=(0,P3.WO)(G.title),z},[G]),h3=(0,P.useMemo)(function(){return g?(0,n3._T)(e.schema):[e.schema.children]},[e.schema,g]),I3=(0,P.useState)(function(){return(0,n3.dr)(e.schema)}),c=(0,_.Z)(I3,2),m=c[0],C=c[1],A=(0,P.useMemo)(function(){return(0,n3.R6)(e.schema)},[e.schema]),f=(0,P.useMemo)(function(){return(0,U.Np)({initialValues:p,readOnly:u,validateFirst:!0,effects:function(b){(0,U.dQ)(function(){if(h3.map(function(K,N){return N}).slice(1).forEach(function(K){return V(K,"hidden")}),x){var I=[],y=[];Object.entries(x).forEach(function(K){var N=(0,_.Z)(K,2),j3=N[0],L3=N[1];L3===0?I.push(j3):L3===1&&y.push(j3)}),I.length>0&&f.setFieldState("*(".concat(I.join(","),")"),function(K){return K.display="none"}),y.length>0&&f.setFieldState("*(".concat(y.join(","),")"),function(K){return K.pattern="readPretty"})}var $=0,w=0;f.query("*").forEach(function(K){K.displayName==="Field"&&!K.address.toString().startsWith("_")&&(K.display==="visible"&&$++,(0,n3.xb)(K.value)||w++)}),l&&(X.changeProgress(w/$),l(p,w/$))}),(0,U.pO)(function(I){var y=0,$=0;f.query("*").forEach(function(w){w.displayName==="Field"&&!w.address.toString().startsWith("_")&&(w.display==="visible"&&y++,(0,n3.xb)(w.value)||$++)}),l&&(X.changeProgress($/y),l((0,t3.ZN)(I.values),$/y))}),B3(G,b)}})},[]),S=(0,P.useCallback)(function(z){return f.validate("*(".concat(h3[z].map(function(b){return b.id}).join(","),")"))},[]),V=(0,P.useCallback)(function(z){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"visible";f.query("*(".concat(h3[z].map(function(I){return I.id}).join(","),")")).forEach(function(I){I.display=b})},[]),O=(0,P.useCallback)(function(){C(function(z){var b=z.current-1;return V(b,"hidden"),V(b-1,"visible"),(0,a3.Z)((0,a3.Z)({},z),{},{current:z.current-1})})},[]),H=(0,P.useCallback)((0,J.Z)(t().mark(function z(){var b;return t().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return b=m.current-1,y.prev=1,y.next=4,S(b);case 4:C(function($){return V(b,"hidden"),V(b+1,"visible"),(0,a3.Z)((0,a3.Z)({},$),{},{current:m.current+1})}),y.next=9;break;case 7:y.prev=7,y.t0=y.catch(1);case 9:case"end":return y.stop()}},z,null,[[1,7]])})),[m]),R=(0,P.useCallback)((0,J.Z)(t().mark(function z(){var b,I,y,$,w;return t().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:b="",N.prev=1,I=f.query("*").map().filter(function(j3){return!(0,U.JF)(j3)}),y=(0,Q.Z)(I),N.prev=4,y.s();case 6:if(($=y.n()).done){N.next=15;break}if(w=$.value,!(0,U.JF)(w)){N.next=10;break}return N.abrupt("continue",13);case 10:return b=w.path.toString(),N.next=13,w.validate();case 13:N.next=6;break;case 15:N.next=20;break;case 17:N.prev=17,N.t0=N.catch(4),y.e(N.t0);case 20:return N.prev=20,y.f(),N.finish(20);case 23:return e.onSubmit&&e.onSubmit((0,t3.ZN)(f.values)),N.abrupt("return",{values:(0,t3.ZN)(f.values)});case 27:N.prev=27,N.t1=N.catch(1),(0,n3.lA)(b,E?-25:0);case 30:case"end":return N.stop()}},z,null,[[1,27],[4,17,20,23]])})),[]);(0,P.useImperativeHandle)(r,function(){return{submit:function(){return R()},reset:function(){f.reset()},setValues:function(b){f.setValues(b,"overwrite")},toggleReadOnly:function(b){f.setState(function(I){I.pattern=b?"readPretty":"editable"})},getValues:function(){return f.values}}});var l3=(0,P.useMemo)(function(){return{theme:a,schema:G,footerVisible:d,questionNumber:T,headerVisible:j,pagination:m,optionTypes:A,onNext:H,onPrev:O,onSubmit:R,onUpload:W,loading:s,id2title:k,progressBar:E,innerStore:X,statistics:D,isPreview:L}},[m,s,G,D]);return(0,Y.jsx)(P.Suspense,{fallback:(0,Y.jsx)(u3,{}),children:(0,Y.jsx)(T3,{theme:a,children:(0,Y.jsx)(v3.RV,{form:f,children:(0,Y.jsx)(y3.ZX.Provider,{value:l3,children:(0,Y.jsx)(M.k9,{schema:G})})})})})}),O3=S3}}]);
