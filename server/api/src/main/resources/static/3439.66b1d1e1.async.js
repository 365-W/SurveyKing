(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3439],{48644:function(S3,v3,a){"use strict";a.d(v3,{Mt:function(){return L},hl:function(){return e3},AT:function(){return q},HN:function(){return l3},we:function(){return U},x4:function(){return I},k9:function(){return p3},oq:function(){return N3},jI:function(){return g3}});var Z=a(80937),$=a(67294),r3=a(24004),_=a(95522),D=a(87998),r=a(85893);function p3(d){var o=(0,$.useContext)(r3.ZX),c=o.theme,v=o.footerVisible,h=o.headerVisible,N=d.schema,T=function(x){var j=(0,_.GZ)(c,"Survey");if(j)return $.createElement(j,{schema:N,footerVisible:v,headerVisible:h},x)},g=function(){var x,j=-1;return(x=N.children)===null||x===void 0?void 0:x.filter(function(O){var B;return((B=O.attribute)===null||B===void 0?void 0:B.display)!=="hidden"}).map(function(O){var B=O.type,A=O.id;return(0,D.nj)(B)||j++,B==="QuestionSet"?(0,r.jsx)(U,{schema:O,index:j},A):(0,r.jsx)(l3,{schema:O,index:j},A)})};return(0,r.jsxs)(r.Fragment,{children:[T(g()),(0,r.jsx)(Z.gN,{name:"_finish"})]})}var s3=a(32059),w=a(94657),W=a(83279),E=a(11849);function x3(d){var o,c=[],v=d.attribute;return v&&v.required&&c.push({required:!0,triggerType:"onInput"}),v&&v.answerLimit&&c.push({answerLimit:!0,schema:d}),(o=d.children)===null||o===void 0||o.forEach(function(h){c.push.apply(c,(0,W.Z)(y3(h,d)))}),c.forEach(function(h){h.triggerType="manual"}),c}function y3(d,o){var c,v,h,N,T=[];if((c=d.attribute)!==null&&c!==void 0&&c.dataType){var g;T.push((g={},(0,s3.Z)(g,d.attribute.dataType,!0),(0,s3.Z)(g,"schema",(0,E.Z)((0,E.Z)({},d),{},{parent:o})),g))}return(v=d.attribute)!==null&&v!==void 0&&v.required&&T.push({required:!0,schema:(0,E.Z)((0,E.Z)({},d),{},{parent:o})}),(h=d.attribute)!==null&&h!==void 0&&h.textLimit&&T.push({textLimit:!0,schema:(0,E.Z)((0,E.Z)({},d),{},{parent:o})}),(N=d.attribute)!==null&&N!==void 0&&N.scope&&T.push({scope:!0,schema:(0,E.Z)((0,E.Z)({},d),{},{parent:o})}),T}var j3=a(80705),F3=a(15020),e3=function(o){var c=o.html,v=c===void 0?"":c;return(0,r.jsx)(r.Fragment,{children:typeof v=="string"&&(0,F3.ZP)(v.replace(/<p>/,"<span>").replace(/<\/p>/,"</span>"))})},t3=function(o){return(0,r.jsx)("div",{className:"preview",children:u3(o)})};function u3(d){var o=d.schema,c=d.value;if(!c)return"";var v;if(o.type==="Radio"||o.type==="Select")Object.entries(c).some(function(g){var V=(0,w.Z)(g,2),x=V[0],j=V[1];if(j===!0){var O,B;v=(0,r.jsx)(e3,{html:(O=o.children)===null||O===void 0||(B=O.find(function(X){return X.id===x}))===null||B===void 0?void 0:B.title})}else if(j){var A,Y;v=(0,r.jsx)(e3,{html:(A=o.children)===null||A===void 0||(Y=A.find(function(X){return X.id===x}))===null||Y===void 0?void 0:Y.title})}return!0});else{if(o.type==="Checkbox")return Object.entries(c).map(function(g){var V=(0,w.Z)(g,2),x=V[0],j=V[1];if(j===!0){var O,B;return(0,r.jsx)(e3,{html:(O=o.children)===null||O===void 0||(B=O.find(function(X){return X.id===x}))===null||B===void 0?void 0:B.title},x)}else if(j){var A,Y;return(0,r.jsx)(e3,{html:(A=o.children)===null||A===void 0||(Y=A.find(function(X){return X.id===x}))===null||Y===void 0?void 0:Y.title},x)}}).reduce(function(g,V){return[g,", ",V]});if(o.type==="Cascader"){var h=o.children.map(function(g){return g.id}),N=h.map(function(g){return c[g]}),T=o.dataSource;return N.filter(function(g){return g!==void 0}).map(function(g,V){var x,j=(x=T)===null||x===void 0?void 0:x.find(function(O){return O.value===g});return T=j.children,(0,r.jsx)("span",{children:j.label},h[V])})}else if(o.type==="FillBlank"||o.type==="MultipleBlank"||o.type==="Textarea"||o.type==="Score"||o.type==="Nps")return Object.entries(c).map(function(g){var V=(0,w.Z)(g,2),x=V[0],j=V[1];return(0,r.jsx)("span",{children:j},x)})}return v}var b3=a(54531),l3=(0,Z.Pi)(function(o){var c,v=o.schema,h=o.index,N=o.qsIndex,T=v.id,g=v.type,V=(0,$.useContext)(r3.ZX),x=V.theme,j=V.optionTypes,O=V.id2title,B=V.schema,A=(0,Z.cI)(),Y=(0,$.useMemo)(function(){return(0,D.cB)(v,"calculate")},[]),X=(0,$.useRef)(),O3=(0,$.useMemo)(function(){var p;return(0,Z.$j)((0,_.I8)(x,g),(0,Z.jM)(function(F,C){return(0,E.Z)((0,E.Z)({},F),{},{onChange:function(M){function R(){C.selfErrors.length>0&&C.validate().catch(function(){})}if(!F.readOnly){if((0,j3.xb)(M)){C.onInput(void 0),R();return}if(g.startsWith("Matrix")&&(0,D.hb)(M)){R(),C.onInput(void 0);return}M&&Object.keys(M).forEach(function(P){M[P]===void 0&&(M[P]="")}),C.onInput(M),R()}}})}),(0,Z.vl)(((p=(0,_.I8)(x,g))===null||p===void 0?void 0:p.Preview)||t3))},[x,g]),k=(0,$.useCallback)(function(p){return(0,r.jsx)("div",{tabIndex:-1,onBlur:p==null?void 0:p.onBlur,"data-id":p.schema.id,children:$.createElement((0,_.GZ)(x,"Question"),p)})},[x]),a3=(0,$.useMemo)(function(){return(0,Z.$j)(k,(0,Z.jM)(function(p,F){return(0,E.Z)((0,E.Z)({},p),{},{error:F.selfErrors.length?(0,W.Z)(F.selfErrors):[],warning:F.selfWarnings.length?F.selfWarnings:[],onBlur:function(){return F.onBlur.apply(F,arguments)},required:F.required})}))},[k]),h3=(0,$.useMemo)(function(){return(0,Z.$j)((0,_.I8)(x,g),(0,Z.jM)(function(p,F){return(0,E.Z)({},p)}))},[x,g]);return(0,D.nj)(v.type)?(0,r.jsx)(Z.jG,{name:T,component:[h3,{schema:v,controlShow:void 0}],reactions:[function(p){var F,C=(F=v.attribute)===null||F===void 0?void 0:F.replaceTextRule;if(C){var z=(0,D.vW)(C,function(R){var P=(0,D.Op)(R),H=(0,w.Z)(P,1),b=H[0],S=p.query(b).get("value");return(0,D.d0)(j,S,R,O)}),M="";z.success&&z.result&&(M=z.result),p.setComponentProps((0,E.Z)((0,E.Z)({},p.componentProps),{},{replaceTitle:M}))}}]}):(0,r.jsx)(Z.gN,{name:T,display:(c=v.attribute)===null||c===void 0?void 0:c.display,component:[O3,{schema:v,controlShow:void 0}],decorator:[a3,{schema:v,index:h,qsIndex:N}],validator:x3(v),reactions:[function(p){Object.entries(Y).forEach(function(F){var C=(0,w.Z)(F,2),z=C[0],M=C[1],R=M,P=(0,D.vW)(R,function(H){var b=(0,D.Op)(H),S=(0,w.Z)(b,2),f3=S[0],d3=S[1],m3=p.query(f3).get("value");return(0,D.d0)(j,m3,H)});P.success&&p.setState(function(H){var b;return H.value=(0,E.Z)((0,E.Z)({},H.value),{},(0,s3.Z)({},z,(0,D.A7)(P.result,(b=v.children)===null||b===void 0?void 0:b.find(function(S){return S.id===z}))))})})},function(p){var F,C=(F=v.attribute)===null||F===void 0?void 0:F.visibleRule;if(C){var z=(0,D.vW)(C,function(P){var H=(0,D.Op)(P),b=(0,w.Z)(H,2),S=b[0],f3=b[1],d3=p.query(S).get("value");return(0,D.d0)(j,d3,P)});if(z.success){var M;z.result?p.display="visible":p.display="none";var R=1;(M=B.children)===null||M===void 0||M.filter(function(P){return!(0,D.nj)(P.type)}).forEach(function(P){var H=P.id,b=p.query(H).get("display");if(b==="visible"){var S=A.query(H).take();S&&(S.setDecoratorProps((0,E.Z)((0,E.Z)({},S.decoratorProps),{},{seqNo:R})),R++);var f3=1;if(P.type==="QuestionSet"){var d3;(d3=P.children)===null||d3===void 0||d3.filter(function(m3){return!(0,D.nj)(m3.type)}).forEach(function(m3){var Q3=m3.id,L3=p.query(Q3).get("display");if(L3==="visible"){var A3=A.query(Q3).take();A3&&(A3.setDecoratorProps((0,E.Z)((0,E.Z)({},A3.decoratorProps),{},{seqNo:f3})),f3++)}})}}})}}},function(p){var F,C=(F=v.attribute)===null||F===void 0?void 0:F.requiredRule;if(C){var z=(0,D.vW)(C,function(M){var R=(0,D.Op)(M),P=(0,w.Z)(R,2),H=P[0],b=P[1],S=p.query(H).get("value");return(0,D.d0)(j,S,M)});z.success&&(z.result?p.required=!0:p.required=!1)}},function(p){var F,C=(F=v.attribute)===null||F===void 0?void 0:F.replaceTextRule;if(C){var z=(0,D.vW)(C,function(R){var P=(0,D.Op)(R),H=(0,w.Z)(P,1),b=H[0],S=p.query(b).get("value");return(0,D.d0)(j,S,R,O)}),M="";z.success&&z.result&&(M=z.result),p.setDecoratorProps((0,E.Z)((0,E.Z)({},p.decoratorProps),{},{replaceTitle:M}))}},function(p){var F,C=(F=v.attribute)===null||F===void 0?void 0:F.validateRule;if(C){var z=(0,D.vW)(C,function(M){var R=(0,D.Op)(M),P=(0,w.Z)(R,1),H=P[0],b=p.query(H).get("value");return(0,D.d0)(j,b,M,O)});z.success&&(z.result?p.setSelfErrors([z.result]):p.setSelfErrors([]))}},function(p){var F,C=(F=v.children)===null||F===void 0?void 0:F.filter(function(b){var S;return(S=b.attribute)===null||S===void 0?void 0:S.rejectOtherOption});if(C&&C.length>0){var z=p.value,M=V3(X.current,z);if(M){var R,P,H=(R=v.children)===null||R===void 0?void 0:R.find(function(b){return b.id===M});H&&(P=H.attribute)!==null&&P!==void 0&&P.rejectOtherOption?H.attribute.rejectOtherOption==="rejectAll"?z=(0,s3.Z)({},M,z[M]):H.attribute.rejectOtherOption==="rejectOther"&&C.forEach(function(b){b&&b.id!==M&&delete z[b.id]}):C.filter(function(b){var S;return((S=b.attribute)===null||S===void 0?void 0:S.rejectOtherOption)==="rejectAll"}).forEach(function(b){b&&b.id!==M&&delete z[b.id]}),p.setState(function(b){return b.value=(0,E.Z)({},z)})}X.current=(0,b3.ZN)(z)}}]})});function V3(d,o){if(o){var c=Object.keys(o).filter(function(v){return!(d&&d.hasOwnProperty(v))});if(c.length>0)return c[0]}}function U(d){var o=d.schema,c=d.index,v=o.id,h=(0,$.useContext)(r3.ZX),N=h.theme,T=function(){var V;return(V=o.children)===null||V===void 0?void 0:V.filter(function(x){var j;return((j=x.attribute)===null||j===void 0?void 0:j.display)!=="hidden"}).map(function(x,j){return x.type==="QuestionSet"?(0,r.jsx)(U,{schema:x,index:j},x.id):(0,r.jsx)(l3,{schema:x,index:j,qsIndex:c},x.id)})};return(0,r.jsx)(Z.jG,{name:v,decorator:[(0,_.GZ)(N,"QuestionSet"),{schema:o,index:c}],children:T()})}var J=function(o){var c=o.progress,v=c===void 0?0:c;return _jsx("div",{className:"progress-bar",style:{width:"".concat(v*100,"%")}})},M3=a(16165),E3=function(){return(0,r.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"150",height:"150",children:[(0,r.jsx)("path",{d:"M0 0h1024v1024H0z",fill:"#FFFFFF","p-id":"44112"}),(0,r.jsx)("path",{d:"M160 73.426667h83.173333V0h98.266667v155.010667h75.6v179.485333h37.813333V163.168h22.666667v-40.8h68.053333v24.474667h30.24v342.666666h60.48V40.8h45.36v236.586667h22.666667V179.485333h45.36V16.317333H893.333333V824H160V73.426667z",fill:"#DDEEFF",opacity:".4","p-id":"44113"}),(0,r.jsx)("path",{d:"M362.693333 741.416l635.866667 95.584L689.893333 997.333333 24 852.36z",fill:"#DFE7F7","p-id":"44114"}),(0,r.jsx)("path",{d:"M1002.64 813.370667l-307.6 160.322666-665.893333-144.970666-0.826667-2.629334v-8.213333l20.586667 2.666667v1.701333l318.933333-104.469333 614.213333 92.48v-5.101334H1002.666667v8.213334h-0.026667z",fill:"#5AA12E","p-id":"44115"}),(0,r.jsx)("path",{d:"M1002.64 805.157333l-308.64 160.314667-665.653333-144.92h-0.026667l-0.213333-0.04 0.213333-0.064v-8.104l17.733333 2.296 320.746667-105.066667 615.253333 92.488v-5.098666H1002.666667v8.213333h-0.026667z",fill:"#93C110","p-id":"44116"}),(0,r.jsx)("path",{d:"M366.8 701.333333L1002.666667 796.917333l-308.666667 160.333334L28.106667 812.266667z",fill:"#EEF2F5","p-id":"44117"}),(0,r.jsx)("path",{d:"M629.333333 809.333333a138.666667 6.666667 0 1 0 277.333334 0 138.666667 6.666667 0 1 0-277.333334 0Z",fill:"#E3E7EA","p-id":"44118"}),(0,r.jsx)("path",{d:"M162.666667 773.333333a152 13.333333 0 1 0 304 0 152 13.333333 0 1 0-304 0Z",fill:"#E3E7EA","p-id":"44119"}),(0,r.jsx)("path",{d:"M922.666667 610.666667h-64v170.666666h53.333333a13.333333 13.333333 0 0 1 0 26.666667h-181.333333a13.333333 13.333333 0 0 1 0-26.666667h58.666666v-144h-26.666666a10.666667 10.666667 0 0 1-10.666667-10.666666v-16h-117.333333v82.666666a8 8 0 0 1-16 0v-82.666666h-5.333334a10.666667 10.666667 0 0 1-10.666666-10.666667v-2.666667l48-50.666666h4.48a7.658667 7.658667 0 0 1 1.573333-0.968l187.093333-83.381334a10.4 10.4 0 0 1 14.773334 6.208l72.453333 81.178667a8.066667 8.066667 0 0 1 2.08 5.461333 11.581333 11.581333 0 0 1 0.213333 2.168v42.666667a10.666667 10.666667 0 0 1-10.666666 10.666667z m-272-42.666667l-26.666667 29.333333h26.666667v-29.333333z m117.333333 53.333333h66.666667v-58.666666h-29.333334l-37.333333 37.333333v21.333333z m-16-24l37.333333-37.333333h-37.333333v37.333333z m-45.333333 0h21.333333v-37.333333h-21.333333v37.333333z m-18.666667-37.333333h-21.333333v37.333333h21.333333v-37.333333z m5.84-13.333333h96.693333a9.224 9.224 0 0 1 0.693334-1.6l32.506666-56.290667zM842.666667 487.976L808.773333 546.666667H842.666667v-58.690667zM845.333333 648h-42.666666v26.666667h42.666666v-26.666667z m0 37.333333h-42.666666v42.666667h42.666666v-42.666667z m0 53.333334h-42.666666v42.666666h42.666666v-42.666666z m13.333334-141.333334h21.333333v-37.333333h-21.333333v37.333333z m0-104.690666V546.666667h48.213333zM917.333333 560h-21.333333v37.333333h21.333333v-37.333333z",fill:"#8BC8FF","p-id":"44120"}),(0,r.jsx)("path",{d:"M592 709.333333h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H514.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H592a8 8 0 0 1 0 16z",fill:"#DFF0FF","p-id":"44121"}),(0,r.jsx)("path",{d:"M936 298.666667h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205334 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H858.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205334H936a8 8 0 0 1 0 16z",fill:"#C3E2FF","p-id":"44122"}),(0,r.jsx)("path",{d:"M104 408H45.333333a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205334H26.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205334 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H104a8 8 0 0 1 0 16z",fill:"#DCEEFF","p-id":"44123"}),(0,r.jsx)("path",{d:"M309.333333 522.666667m-245.333333 0a245.333333 245.333333 0 1 0 490.666667 0 245.333333 245.333333 0 1 0-490.666667 0Z",fill:"#FFCC6C","p-id":"44124"}),(0,r.jsx)("path",{d:"M296 730.666667a245.389333 245.389333 0 0 0 237.013333-308.746667 245.333333 245.333333 0 1 1-460.693333 164.16A245.333333 245.333333 0 0 0 296 730.666667z",fill:"#F3B72C","p-id":"44125"}),(0,r.jsx)("path",{d:"M338.666667 464m-50.666667 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#E49817","p-id":"44126"}),(0,r.jsx)("path",{d:"M333.333333 456m-50.666666 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#FFFFFF","p-id":"44127"}),(0,r.jsx)("path",{d:"M303.333333 603.2a37.085333 37.085333 0 1 1-38 37.066667 37.544 37.544 0 0 1 38-37.066667z",fill:"#E49817","p-id":"44128"}),(0,r.jsx)("path",{d:"M299.333333 597.333333A37.085333 37.085333 0 1 1 261.333333 634.4a37.544 37.544 0 0 1 38-37.066667z",fill:"#FFFFFF","p-id":"44129"}),(0,r.jsx)("path",{d:"M182.786667 554.125333m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#E49817","p-id":"44130"}),(0,r.jsx)("path",{d:"M179.88 549.874667m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#FFFFFF","p-id":"44131"}),(0,r.jsx)("path",{d:"M251.733333 320.424a19.794667 19.794667 0 1 1-20.266666 19.789333 20.026667 20.026667 0 0 1 20.266666-19.789333z",fill:"#E49817","p-id":"44132"}),(0,r.jsx)("path",{d:"M249.6 317.333333a19.794667 19.794667 0 1 1-20.266667 19.786667 20.026667 20.026667 0 0 1 20.266667-19.786667z",fill:"#FFFFFF","p-id":"44133"}),(0,r.jsx)("path",{d:"M426.04 365.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44134"}),(0,r.jsx)("path",{d:"M419.293333 357.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44135"}),(0,r.jsx)("path",{d:"M466.04 589.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44136"}),(0,r.jsx)("path",{d:"M459.293333 581.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44137"}),(0,r.jsx)("path",{d:"M490.666667 860a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44138"}),(0,r.jsx)("path",{d:"M480 801.333333a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44139"}),(0,r.jsx)("path",{d:"M526.453333 597.12a48.968 48.968 0 0 0-4.586666-4.722667c55.493333-36.413333 83.466667-80.64 68.986666-121.04-8.746667-24.416-31.866667-44.266667-64.773333-58.512-0.346667-0.984-0.666667-1.970667-1.12-2.946666a40.712 40.712 0 0 0-3.12-5.410667c39.093333 15.2 66.72 37.432 76.72 65.333333 15.306667 42.656-14.026667 89.253333-72.106667 127.298667zM573.333333 856v5.333333s-135.84 11.306667-109.333333-136c19.866667-100.330667-32.586667-80.72-41.386667-80.112 0 0 0 0.016 0.026667 0.026667a595.552 595.552 0 0 1-66.4 17.274667c-160.48 32.136-312.186667-2.04-338.8-76.336-13.413333-37.413333 7.466667-77.866667 51.973333-112.904a31.802667 31.802667 0 0 0 0.293334 7.485333c0.053333 0.24 0.133333 0.464 0.186666 0.701333-39.04 32.48-56.933333 69.181333-44.746666 103.173334 25.493333 71.109333 172.8 103.397333 329.013333 72.114666a589.661333 589.661333 0 0 0 64.533333-16.714666L418.666667 640s72.826667-26.768 50.666666 80c-17.92 86.293333 13.146667 138.845333 104 136z",fill:"#FFE1A9","p-id":"44140"}),(0,r.jsx)("path",{d:"M512 884a74.666667 6.666667 0 1 0 149.333333 0 74.666667 6.666667 0 1 0-149.333333 0Z",fill:"#E3E7EA","p-id":"44141"}),(0,r.jsx)("path",{d:"M608.453333 802.666667h20.426667l17.093333 75.917333h-54.613333z m-6.88 15.165333h34.186667v6.752h-34.186667v-6.752z m-5.066666 16.917333h44.32v6.749334h-44.32v-6.749334z m-5.173334 21.917334h54.666667v6.749333h-54.666667v-6.749333z m-11.946666 21.917333h78.56a3.381333 3.381333 0 0 1 3.386666 3.373333 3.384 3.384 0 0 1-3.386666 3.373334h-78.56a3.384 3.384 0 0 1-3.386667-3.373334 3.381333 3.381333 0 0 1 3.386667-3.373333z",fill:"#F9A303","p-id":"44142"}),(0,r.jsx)("path",{d:"M768 838.666667a58.666667 6.666667 0 1 0 117.333333 0 58.666667 6.666667 0 1 0-117.333333 0Z",fill:"#E3E7EA","p-id":"44143"}),(0,r.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 0 5.333333-5v-70a5.181333 5.181333 0 0 0-5.333333-5v80z",fill:"#845C45","p-id":"44144"}),(0,r.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 1-5.333333-5v-70a5.181333 5.181333 0 0 1 5.333333-5v80z",fill:"#BA805A","p-id":"44145"}),(0,r.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 0 0-90.666667v90.666667z",fill:"#628A21","p-id":"44146"}),(0,r.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 1 0-90.666667v90.666667z",fill:"#6EA52E","p-id":"44147"}),(0,r.jsx)("path",{d:"M568 786.778667l-1.946667 6.824a1.130667 1.130667 0 0 1-1.173333 0.773333l-4.16-0.349333a19.581333 19.581333 0 0 1-18.88 8.477333l-13.093333-1.664 0.026666-0.04a3.733333 3.733333 0 0 1-0.986666-0.397333c-2.586667-1.504-3.706667-5.986667-3.306667-11.509334l-7.146667-1.816a3.408 3.408 0 0 1-2.56-4.173333 3.656 3.656 0 0 1 4.426667-2.4l6.453333 1.642667c0.293333-1.066667 0.613333-2.154667 1.013334-3.237334 0.213333-0.621333 0.453333-1.221333 0.693333-1.810666l-7.626667-1.938667a3.410667 3.410667 0 0 1-2.56-4.176 3.653333 3.653333 0 0 1 4.426667-2.4l9.12 2.317333a11.101333 11.101333 0 0 1 7.306667-5.472V765.333333l8.906666 1.136a18.562667 18.562667 0 0 1 16.613334 17.386667l3.813333 1.685333a1.066667 1.066667 0 0 1 0.64 1.237334z m-26.693333-20.149334c-2.693333-1.52-6.24 0.429333-9.306667 4.578667l4.08 1.032a3.392 3.392 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-5.68-1.437333c-0.24 0.573333-0.48 1.16-0.693333 1.765333q-0.6 1.642667-1.04 3.274667l6.88 1.744a3.389333 3.389333 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-6.133333-1.557333c-0.32 5.184 0.853333 9.368 3.386667 10.805333 4.053333 2.298667 10.08-3.309333 13.44-12.533333s2.853333-18.52-1.2-20.818667z",fill:"#FF6767","p-id":"44148"}),(0,r.jsx)("path",{d:"M578.666667 789.333333s194 0.666667 98.666666 64l-2.666666-2.666666s100.826667-53-98.666667-58.666667z",fill:"#FFE1A9","p-id":"44149"})]})},q=function(o){return(0,r.jsx)(M3.Z,(0,E.Z)({component:E3},o))},Z3=a(27484),G=a.n(Z3),o3=a(75977),C3=a(45418),I3=a(62713),T3=a(33852),K=a(10285),n3=a.n(K),Q=a(6833),z3=a.n(Q),D3=a(96036),B3=a.n(D3);G().locale("zh-cn"),G().extend(z3()),G().extend(n3()),G().extend(B3());var L=(0,C3.default)((0,E.Z)({},o3.Z)),P3=L,g3=$.forwardRef(function(d,o){return(0,r.jsx)(P3,(0,E.Z)((0,E.Z)({},d),{},{picker:"time",mode:void 0,ref:o}))});g3.displayName="TimePicker";var H3=null,R3=a(57663),i3=a(71577),c3=a(49914),N3=(0,Z.Pi)(function(){var d,o=(0,c3.H)(),c=((d=o.savedAnswer)===null||d===void 0?void 0:d.progress)||0;return(0,r.jsx)("div",{className:"temp-confirm",children:(0,r.jsxs)("div",{className:"temp-confirm-cont",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("svg",{t:"1647102518492",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4235",width:"128",height:"128",children:[(0,r.jsx)("path",{d:"M876.88894187 362.30785921v463.42517333c0 23.4826304-19.07152853 42.6838976-42.55415894 42.6838976-23.61236907 0-42.6838976-19.07152853-42.6838976-42.6838976V362.30785921h85.23805654z",fill:"#CCCBCA","p-id":"4236","data-spm-anchor-id":"a313x.7781069.0.i0",className:"selected"}),(0,r.jsx)("path",{d:"M791.52114667 825.86277121V235.68328748l-103.27167894-103.27167894H146.98132053v693.45116267c0 10.898016 4.1516256 21.79603307 12.45487574 30.0992832 8.30325013 8.30325013 19.3310048 12.45487573 30.0992832 12.45487573H834.20504427c-23.4826304 0.12973867-42.6838976-19.07152853-42.6838976-42.55415893z",fill:"#FFFFFF","p-id":"4237","data-spm-anchor-id":"a313x.7781069.0.i1",className:"selected"}),(0,r.jsx)("path",{d:"M210.81255893 544.97937174h246.502752v11.4169696h-246.502752zM210.81255893 581.95478508h246.502752v11.28723093h-246.502752zM210.81255893 618.93019734h246.502752v11.4169696h-246.502752zM210.81255893 655.90561068h246.502752v11.4169696h-246.502752zM210.81255893 692.88102294h246.502752v11.4169696h-246.502752zM210.81255893 729.85643628h246.502752v11.4169696h-246.502752zM210.81255893 766.83184854h246.502752v11.4169696h-246.502752z",fill:"#CCCBCA","p-id":"4238"}),(0,r.jsx)("path",{d:"M210.81255893 397.07772054h246.502752V519.42092908h-246.502752z",fill:"#516575","p-id":"4239"}),(0,r.jsx)("path",{d:"M482.8737536 397.07772054h246.63249067v11.4169696H482.8737536zM482.8737536 434.05313388h246.63249067v11.4169696H482.8737536zM482.8737536 471.02854614h246.63249067v11.4169696H482.8737536zM482.8737536 508.00395948h246.63249067v11.4169696H482.8737536zM482.8737536 544.97937174h246.63249067v11.4169696H482.8737536zM482.8737536 581.95478508h246.63249067v11.28723093H482.8737536zM482.8737536 618.93019734h246.63249067v11.4169696H482.8737536zM482.8737536 655.90561068h246.63249067v122.34320746H482.8737536z",fill:"#CCCBCA","p-id":"4240","data-spm-anchor-id":"a313x.7781069.0.i5",className:"selected"}),(0,r.jsx)("path",{d:"M494.1609856 685.87515521h24.00158293V767.22106348h-24.00158293zM527.50372587 732.84041601H551.3755712V767.22106348h-23.87184533zM560.84646613 695.86500374h24.001584v71.35605974h-24.001584zM594.18920747 709.74700054h24.00158293V767.22106348H594.18920747zM627.53194773 675.10687681h24.001584v92.11418667h-24.001584zM660.874688 751.39299201h23.87184533V767.22106348h-23.87184533zM694.21742933 692.88102294h24.00158294V767.22106348h-24.00158294z",fill:"#FFFFFF","p-id":"4241"}),(0,r.jsx)("path",{d:"M209.1259616 245.54339841h520.250544v76.15637547h-520.250544z",fill:"#EC6C3F","p-id":"4242"}),(0,r.jsx)("path",{d:"M209.1259616 344.27423681h520.250544v7.1356064h-520.250544zM209.1259616 215.96306774h520.250544v7.1356064h-520.250544z",fill:"#2B4456","p-id":"4243"}),(0,r.jsx)("path",{d:"M791.52114667 235.68328748h-103.27167894v-103.27167894z",fill:"#CCCBCA","p-id":"4244"})]})}),(0,r.jsxs)("h4",{className:"confirm-title",children:[(0,r.jsx)("span",{children:"\u4E4B\u524D\u7684\u586B\u5199\u8FDB\u5EA6\u4E3A"}),(c*100).toFixed(0),"%",(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"\u662F\u5426\u7EE7\u7EED\u4E0A\u6B21\u586B\u5199\uFF1F"})]}),(0,r.jsxs)("div",{className:"confirm-btn-group",children:[(0,r.jsx)(i3.Z,{type:"primary",block:!0,onClick:function(){o.confirmTempAnswerType=2},children:"\u7EE7\u7EED\u586B\u5199"}),(0,r.jsx)(i3.Z,{block:!0,style:{marginTop:15},onClick:function(){o.confirmTempAnswerType=3},children:"\u91CD\u65B0\u586B\u5199"})]})]})})}),e=a(34792),t=a(48086),i=a(47673),n=a(4107),s=a(49111),u=a(19650),l=a(36602),f=a(27400),m=a(74855),y=a(73727),I=(0,Z.Pi)(function(){var d,o,c=(0,c3.H)(),v=(0,f.a)(),h=c.success,N=(d=c.setting)===null||d===void 0?void 0:d.submittedSetting,T=(o=c.setting)===null||o===void 0?void 0:o.answerSetting.loginRequired,g=N||{},V=g.contentHtml,x=g.redirectUrl,j=c.answerUrl,O=c.answerQrCodeUrl,B=c.answerView,A=c.values;return(0,$.useEffect)(function(){x&&A&&(window.location.href=(0,D.Q8)(x,A))},[x,A]),h?(0,r.jsx)("div",{className:"survey-end animated",children:(0,r.jsxs)("div",{className:"survey-end-content",children:[(0,r.jsx)("h3",{className:"survey-end-title ",children:(0,r.jsxs)("div",{children:[(0,r.jsx)(e3,{html:V||"\u95EE\u5377\u5230\u6B64\u7ED3\u675F\uFF0C\u611F\u8C22\u60A8\u7684\u53C2\u4E0E\uFF01"}),(0,r.jsx)("div",{children:(B==null?void 0:B.examScore)!==void 0?(0,r.jsxs)("span",{children:["\u4F60\u7684\u5F97\u5206\u662F",B.examScore,"\u5206"]}):(0,r.jsx)(r.Fragment,{})}),(0,r.jsx)("div",{children:T&&(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(y.rU,{to:"/",children:(0,r.jsx)(i3.Z,{type:"link",onClick:function(){},children:"\u8FD4\u56DE\u9996\u9875"})}),(0,r.jsx)(i3.Z,{type:"link",onClick:function(){v.logout(),(0,l.on)()},children:"\u9000\u51FA\u5173\u95ED"})]})})]})}),j&&(0,r.jsxs)("div",{className:"survey-end-result",children:[(0,r.jsx)("div",{style:{border:"1px solid #e1e7f2",borderRadius:3,boxShadow:"0px 3px 8px 0px rgb(224 229 236 / 40%)",width:100,height:100},children:(0,r.jsx)("img",{src:O,height:95,width:95})}),(0,r.jsxs)(n.Z.Group,{compact:!0,className:"survey-end-result-copy",children:[(0,r.jsx)(n.Z,{defaultValue:j,style:{width:300,background:"#f6f6f6",border:"1px solid #e1e7f2"}}),(0,r.jsx)(m.CopyToClipboard,{text:j,onCopy:function(){return t.default.success("\u590D\u5236\u6210\u529F")},children:(0,r.jsx)(i3.Z,{children:"\u590D\u5236"})})]}),(0,r.jsx)("span",{className:"survey-end-result-tip",children:"\u957F\u6309\u4FDD\u5B58\u4E8C\u7EF4\u7801\u6216\u8005\u590D\u5236\u94FE\u63A5\u53EF\u4EE5\u4FEE\u6539\u7B54\u6848"})]})]})}):(0,r.jsx)(r.Fragment,{})})},49914:function(S3,v3,a){"use strict";a.d(v3,{H:function(){return r3}});var Z=a(67294),$=a(87998);function r3(){return(0,Z.useContext)($.ff)}},63439:function(S3,v3,a){"use strict";a.d(v3,{O:function(){return c3},Z:function(){return N3}});var Z=a(67294),$=a(80937),r3=a(48644),_=a(24004),D=a(95522),r=a(94657),p3=a(80705),s3=a(99439),w=a(27484),W=a.n(w),E=a(66607),x3=a.n(E);W().extend(x3()),Number.prototype.isBetween=function(t,i,n){var s=this,u=parseFloat(t);isNaN(u)&&(u=-99999);var l=parseFloat(i);return isNaN(l)&&(l=99999),!(s>l||s<u||n[0]==="("&&u==s||n[1]===")"&&l==s)};function y3(e,t){var i=u3(e),n=Number(t);return n.isBetween(e.substring(1,e.indexOf(",")),e.substring(e.indexOf(",")+1,e.length-1),i)}function j3(e,t){if(!t)return!0;var i=W()(t),n=t3(e.substring(1,e.indexOf(",")),!0),s=t3(e.substring(e.indexOf(",")+1,e.length-1),!1),u=u3(e);return i.isBetween(n,s,null,u)}function F3(e,t){if(!t)return!0;var i=W()(t),n=t3(e.substring(1,e.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),s=t3(e.substring(e.indexOf(",")+1,e.length-1),!1,"YYYY-MM-DD hh:mm:ss"),u=u3(e);return i.isBetween(n,s,null,u)}function e3(e,t){if(!t)return!0;var i="2018-02-08 ",n=W()(i+t),s=t3(i+e.substring(1,e.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),u=t3(i+e.substring(e.indexOf(",")+1,e.length-1),!1,"YYYY-MM-DD hh:mm:ss"),l=u3(e);return n.isBetween(s,u,null,l)}function t3(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY-MM-DD",n,s=W()(W()().format(i));return e==="undefined"?t?n=W()("1900-01-01"):n=W()("2999-01-01"):e.indexOf("T")!==-1?e==="T"?n=s:/T-\d+/.test(e)?n=s.subtract(parseInt(e.match(/\d+/)[0]),"days"):/T\+\d+/.test(e)&&(n=s.add(parseInt(e.match(/\d+/)[0]),"days")):/\d+-\d+-\d+/.test(e)&&(n=W()(e)),n}function u3(e){var t=e[0],i=e[e.length-1],n="".concat(t).concat(i);return n}function b3(e,t){var i,n=t.id,s=[];if((i=t.parent)!==null&&i!==void 0&&i.type.startsWith("Matrix"))if(t.parent.type==="MatrixAuto"&&Array.isArray(e))e.forEach(function(m,y){s.push(["".concat(y,"-").concat(n),m[t.id]])});else{var u;(u=t.parent.row)===null||u===void 0||u.forEach(function(m){e[m.id]?s.push(["".concat(m.id,"-").concat(n),e[m.id][t.id]]):s.push(["".concat(m.id,"-").concat(n),void 0])})}else{var l,f=(l=t.parent)===null||l===void 0?void 0:l.type;f==="Radio"||f==="Checkbox"?Object.keys(e).includes(t.id)&&s.push([t.id,e[t.id]]):s.push([t.id,e[t.id]])}return s}function l3(e){return!isNaN(parseFloat(e))&&isFinite(e)}function V3(e){return!!(l3(e)&&Number.isInteger(parseFloat(e)))}function U(e){var t=e.errMsg,i=e.schema,n=e.regEx,s=e.value;return i?J({schema:i,value:s,errMsg:t,isValid:function(l){return l?n.test("".concat(l)):!0}}):null}function J(e){var t=e.value,i=e.schema,n=e.isValid,s=e.errMsg;return!i||t==null?null:b3(t,i).map(function(u){var l=(0,r.Z)(u,2),f=l[0],m=l[1];return n(m)?null:"".concat(f,"^").concat(s)}).filter(function(u){return u})[0]}(0,s3.au)({required:function(t,i){var n=i.schema;return i&&i.required===!1?null:(0,p3.xb)(t)||typeof t=="object"&&Object.keys(t).length===0?"\u8FD9\u9053\u9898\u672A\u56DE\u7B54":J({schema:n,value:t,errMsg:"\u8FD9\u4E2A\u9009\u9879\u672A\u56DE\u7B54",isValid:function(u){return!(0,p3.xb)(u)}})},answerLimit:function(t,i){var n,s=i.schema,u=s==null||(n=s.attribute)===null||n===void 0?void 0:n.answerLimit;if(!u)return null;var l=u.slice(1,u.length-1).split(","),f=parseInt(l[0]||"0"),m=parseInt(l[1]||"0"),y=Object.keys(t||{}).length;return t&&(y<f&&f!==0||y>m&&m!==0)?f===0?"\u6700\u591A\u9009\u62E9".concat(m,"\u9879"):m===0?"\u6700\u5C11\u9009\u62E9".concat(f,"\u9879"):"\u6700\u5C11\u9009\u62E9".concat(f,"\u9879,\u6700\u591A\u9009\u62E9").concat(m,"\u9879"):null},number:function(t,i){var n,s=i.schema,u=s==null||(n=s.attribute)===null||n===void 0?void 0:n.numericScale;if(!s)return null;var l="\u8BF7\u8F93\u5165\u6570\u5B57";return u===0?l="\u8BF7\u8F93\u5165\u6574\u6570":u&&u>0&&(l="\u8BF7\u4FDD\u7559".concat(u,"\u4F4D\u5C0F\u6570")),J({errMsg:l,schema:s,value:t,isValid:function(m){return!(m!==void 0&&(!l3(m)||u===0&&!V3(m)||u!==void 0&&u>0&&("".concat(m).split(".")[1]||"").length>u))}})},date:function(t,i){var n=i.schema;return U({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F",schema:n,regEx:/^(?:(?:1[6-9]|[2-9][0-9])[0-9]{2}([-/.]?)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:(?:1[6-9]|[2-9][0-9])(?:0[48]|[2468][048]|[13579][26])|(?:16|[2468][048]|[3579][26])00)([-/.]?)0?2\2(?:29))(\s+([01][0-9]:|2[0-3]:)?[0-5][0-9]:[0-5][0-9])?$/,value:t})},dateTime:function(t,i){var n=i.schema;return U({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F\u65F6\u95F4",schema:n,regEx:/^\d{4}[-]([0][1-9]|(1[0-2]))[-]([1-9]|([012]\d)|(3[01]))\s(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:t})},time:function(t,i){var n=i.schema;return U({errMsg:"\u8BF7\u8F93\u5165\u65F6\u95F4",schema:n,regEx:/^(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:t})},mobile:function(t,i){var n=i.schema;return U({errMsg:"\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E",schema:n,regEx:/^1([358][0-9]|4[579]|66|7[01235678]|9[189])[0-9]{8}$/,value:t})},decimal:function(t,i){var n=i.schema;return U({errMsg:"\u8BF7\u8F93\u5165\u6570\u5B57",schema:n,regEx:/^[+-]?\d+(\.\d+)?$/,value:t})},email:function(t,i){var n=i.schema;return U({errMsg:"\u90AE\u4EF6\u683C\u5F0F\u4E0D\u6B63\u786E",schema:n,regEx:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,value:t})},idCard:function(t,i){var n=i.schema;return J({errMsg:"\u8EAB\u4EFD\u8BC1\u683C\u5F0F\u4E0D\u6B63\u786E",schema:n,value:t,isValid:function(u){return!(u&&!E3("".concat(u)))}})},chinese:function(t,i){var n=i.schema;return U({errMsg:"\u8BF7\u8F93\u5165\u6C49\u5B57",schema:n,regEx:/^[\u4e00-\u9fa5]+$/,value:t})},alphabet:function(t,i){var n=i.schema;return U({errMsg:"\u8BF7\u8F93\u5165\u5B57\u6BCD",schema:n,regEx:/^[a-zA-Z]+$/,value:t})},textLimit:function(t,i){var n,s=i.schema,u=s==null||(n=s.attribute)===null||n===void 0?void 0:n.textLimit;if(!u)return null;var l=u.slice(1,u.length-1).split(","),f=parseInt(l[0]||"0"),m=parseInt(l[1]||"0");if(f===0&&m===0)return null;var y=J({errMsg:f!==m?"\u8BF7\u8F93\u5165".concat(f,"~").concat(m,"\u4E2A\u5B57"):"\u8BF7\u8F93\u5165".concat(f,"\u4E2A\u5B57"),schema:s,value:t,isValid:function(d){return!(d&&("".concat(d).length<f||"".concat(d).length>m))}});return y},scope:function(t,i){var n,s,u=i.schema,l=u==null||(n=u.attribute)===null||n===void 0?void 0:n.scope,f=u==null||(s=u.attribute)===null||s===void 0?void 0:s.dataType;if(l&&f){if(f==="number")return J({errMsg:"\u6570\u503C\u8303\u56F4\u4E0D\u6B63\u786E ".concat(l),schema:u,value:t,isValid:function(y){return!(y&&!y3(l,"".concat(y)))}});if(f==="date")return J({errMsg:"\u65E5\u671F\u8303\u56F4\u4E0D\u6B63\u786E ".concat(l),schema:u,value:t,isValid:function(y){return!(y&&!j3(l,"".concat(y)))}});if(f==="dateTime")return J({errMsg:"\u65E5\u671F\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(l),schema:u,value:t,isValid:function(y){return!(y&&!F3(l,"".concat(y)))}});if(f==="time")return J({errMsg:"\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(l),schema:u,value:t,isValid:function(y){return!(y&&!e3(l,"".concat(y)))}})}return null}});function M3(e){var t=e.substring(6,8),i=e.substring(8,10),n=e.substring(10,12),s=new Date(parseFloat(t),parseFloat(i)-1,parseFloat(n));return!(s.getFullYear()-1900!==parseFloat(t)||s.getMonth()!==parseFloat(i)-1||s.getDate()!==parseFloat(n))}function E3(e){var t=e;if(e.length!==15&&e.length!==18)return!1;if(e.length===15)return M3(t);var i={11:"\u5317\u4EAC",12:"\u5929\u6D25",13:"\u6CB3\u5317",14:"\u5C71\u897F",15:"\u5185\u8499\u53E4",21:"\u8FBD\u5B81",22:"\u5409\u6797",23:"\u9ED1\u9F99\u6C5F ",31:"\u4E0A\u6D77",32:"\u6C5F\u82CF",33:"\u6D59\u6C5F",34:"\u5B89\u5FBD",35:"\u798F\u5EFA",36:"\u6C5F\u897F",37:"\u5C71\u4E1C",41:"\u6CB3\u5357",42:"\u6E56\u5317 ",43:"\u6E56\u5357",44:"\u5E7F\u4E1C",45:"\u5E7F\u897F",46:"\u6D77\u5357",50:"\u91CD\u5E86",51:"\u56DB\u5DDD",52:"\u8D35\u5DDE",53:"\u4E91\u5357",54:"\u897F\u85CF ",61:"\u9655\u897F",62:"\u7518\u8083",63:"\u9752\u6D77",64:"\u5B81\u590F",65:"\u65B0\u7586",71:"\u53F0\u6E7E",81:"\u9999\u6E2F",82:"\u6FB3\u95E8",91:"\u56FD\u5916 "},n=!0;if(!t||!/^([1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx])|([1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2})$/i.test(t))n=!1;else if(!i[t.substr(0,2)])n=!1;else if(t.length>18)n=!1;else if(t.length===18){for(var s=t.split(""),u=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],l=[1,0,"X",9,8,7,6,5,4,3,2],f=0,m=0,y=0,I=0;I<17;I+=1)m=parseInt(s[I],10),y=u[I],f+=m*y;var d=s[17].toUpperCase()==="X"?"X":Number(s[17]);l[f%11]!==d&&(n=!1)}return n}var q=a(87998),Z3=a(91220),G=a(11849),o3=a(3182),C3=a(69610),I3=a(54941),T3=a(94043),K=a.n(T3),n3=a(64031),Q=a(54531);function z3(e,t){}var D3=function(){function e(t){var i=this,n;(0,C3.Z)(this,e),this.props=void 0,this.progress=0,this.form=void 0,this.pagination=void 0,this.questionsGroupByPagination=[],this.answerSheet=[],this.answerSheetVisible=!1;var s=t.initialValues,u=t.readOnly,l=t.fieldPermission,f=t.theme,m=t.schema,y=t.mode,I=t.onePageOneQuestion,d=I===void 0?!1:I,o=t.paginationVisible;this.props=t,this.changeQuestionsGroupByPagination(m,o,d);var c=(0,n3.Np)({initialValues:s,readOnly:u,validateFirst:!0,effects:function(h){(0,n3.dQ)(function(){if(i.questionsGroupByPagination.map(function(g,V){return V}).slice(1).forEach(function(g){return i.setDisplay(g,"hidden")}),l){var N=[],T=[];Object.entries(l).forEach(function(g){var V=(0,r.Z)(g,2),x=V[0],j=V[1];j===0?N.push(x):j===1&&T.push(x)}),N.length>0&&c.setFieldState("*(".concat(N.join(","),")"),function(g){return g.display="none"}),T.length>0&&c.setFieldState("*(".concat(T.join(","),")"),function(g){return g.pattern="readPretty"})}i.handleFormValuesChange()}),(0,n3.pO)(function(N){i.handleFormValuesChange()}),z3(m,h)}});this.form=c,this.pagination=(0,q.dr)(m,d),this.answerSheet=((n=m.children)===null||n===void 0?void 0:n.filter(function(v){var h;return(0,q.a1)(v.type)&&((h=v.attribute)===null||h===void 0?void 0:h.display)!=="hidden"}).map(function(v){return{finished:!1,id:v.id,marked:!1,display:"visible"}}))||[],f==="antd"&&y==="exam"&&(this.answerSheetVisible=!0),this.makeObservable()}return(0,I3.Z)(e,[{key:"makeObservable",value:function(){(0,Q.Ou)(this,{progress:Q.LO.ref,pagination:Q.LO.shallow,questionsGroupByPagination:Q.LO.ref,form:Q.LO.ref,props:Q.LO.shallow,answerSheet:Q.LO,answerSheetVisible:Q.LO.ref,changeProgress:Q.aD,changeQuestionsGroupByPagination:Q.aD,validate:Q.aD,setDisplay:Q.aD,handlePrev:Q.aD,handleNext:Q.aD,submit:Q.aD,handleFormValuesChange:Q.aD,changePageIndex:Q.aD})}},{key:"changeQuestionsGroupByPagination",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n?this.questionsGroupByPagination=(0,q._T)(i,s):this.questionsGroupByPagination=[i.children]}},{key:"changeProgress",value:function(i){this.progress=i}},{key:"validate",value:function(){var t=(0,o3.Z)(K().mark(function n(s){return K().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.form.validate("*(".concat(this.questionsGroupByPagination[s].map(function(f){return f.id}).join(","),")")));case 1:case"end":return l.stop()}},n,this)}));function i(n){return t.apply(this,arguments)}return i}()},{key:"setDisplay",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"visible";this.form.query("*(".concat(this.questionsGroupByPagination[i].map(function(s){return s.id}).join(","),")")).forEach(function(s){s.display=n})}},{key:"handlePrev",value:function(){var i=this.pagination,n=i.current-1;this.setDisplay(n,"hidden"),this.setDisplay(n-1,"visible"),this.pagination=(0,G.Z)((0,G.Z)({},i),{},{current:i.current-1})}},{key:"handleNext",value:function(){var t=(0,o3.Z)(K().mark(function n(){var s,u;return K().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s=this.pagination.current-1,f.prev=1,f.next=4,this.validate(s);case 4:u=this.pagination,this.setDisplay(s,"hidden"),this.setDisplay(s+1,"visible"),this.pagination=(0,G.Z)((0,G.Z)({},u),{},{current:u.current+1}),f.next=12;break;case 10:f.prev=10,f.t0=f.catch(1);case 12:case"end":return f.stop()}},n,this,[[1,10]])}));function i(){return t.apply(this,arguments)}return i}()},{key:"changePageIndex",value:function(i){var n=this.questionsGroupByPagination.findIndex(function(l){return!!l.find(function(f){return f.id===i})}),s=this.pagination,u=s.current-1;this.setDisplay(u,"hidden"),this.setDisplay(n,"visible"),this.pagination=(0,G.Z)((0,G.Z)({},s),{},{current:n+1}),this.answerSheetVisible=!1}},{key:"handleFormValuesChange",value:function(){var t=(0,o3.Z)(K().mark(function n(){var s=this,u,l;return K().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:u=0,l=0,this.form.query("*").forEach(function(y){var I=s.answerSheet.find(function(d){return d.id===y.address.toString()});y.displayName==="Field"&&!y.address.toString().startsWith("_")&&(I&&(I.display=y.display),y.display!=="none"&&u++,!(0,q.xb)(y.value)&&y.display!=="none"?(l++,I&&(I.finished=!0)):I&&(I.finished=!1))}),this.props.onChange&&(this.changeProgress(l/u),this.props.onChange(this.form.values,l/u));case 3:case"end":return m.stop()}},n,this)}));function i(){return t.apply(this,arguments)}return i}()},{key:"submit",value:function(){var t=(0,o3.Z)(K().mark(function n(){var s,u,l,f,m,y,I,d,o,c;return K().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:s="",u=this.form.query("*").map().filter(function(N){return!(0,n3.JF)(N)}),l=(0,Z3.Z)(u),h.prev=3,l.s();case 5:if((f=l.n()).done){h.next=28;break}if(d=f.value,!(0,n3.JF)(d)){h.next=9;break}return h.abrupt("continue",26);case 9:if(s=d.path.toString(),o=((m=this.props.schema.children)===null||m===void 0||(y=m.find(function(N){return N.id===s}))===null||y===void 0||(I=y.attribute)===null||I===void 0?void 0:I.display)==="hidden",!o){h.next=13;break}return h.abrupt("continue",26);case 13:return c=d.display,d.display="visible",h.prev=15,h.next=18,d.validate();case 18:d.display=c,h.next=26;break;case 21:return h.prev=21,h.t0=h.catch(15),this.changePageIndex(s),(0,q.lA)(s,this.props.progressBar?-25:0),h.abrupt("return");case 26:h.next=5;break;case 28:h.next=33;break;case 30:h.prev=30,h.t1=h.catch(3),l.e(h.t1);case 33:return h.prev=33,l.f(),h.finish(33);case 36:return this.props.onSubmit&&this.props.onSubmit((0,Q.ZN)(this.form.values)),h.abrupt("return",{values:(0,Q.ZN)(this.form.values)});case 38:case"end":return h.stop()}},n,this,[[3,30,33,36],[15,21]])}));function i(){return t.apply(this,arguments)}return i}()},{key:"markQuestion",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=this.answerSheet,u=s.findIndex(function(l){return l.id===i});this.answerSheet.splice(u,1,(0,G.Z)((0,G.Z)({},s[u]),{},{marked:n}))}}]),e}(),B3=a(76826),L=a(85893),P3=Z.lazy(function(){return Promise.all([a.e(2638),a.e(8389),a.e(8824),a.e(2824),a.e(6728),a.e(4492),a.e(2861)]).then(a.bind(a,90063))}),g3=Z.lazy(function(){return Promise.all([a.e(2638),a.e(8389),a.e(2824),a.e(6728),a.e(4492),a.e(1483),a.e(450)]).then(a.bind(a,16203))}),H3=function(){return(0,L.jsx)("div",{className:"page-loading-warp",children:(0,L.jsxs)("div",{className:"spinner",children:[(0,L.jsx)("div",{className:"rect1"}),(0,L.jsx)("div",{className:"rect2"}),(0,L.jsx)("div",{className:"rect3"}),(0,L.jsx)("div",{className:"rect4"}),(0,L.jsx)("div",{className:"rect5"})]})})},R3=function(t){var i=t.theme,n=t.children;return i==="antdmobile"?(0,L.jsx)(g3,{children:n}):(0,L.jsx)(P3,{children:n})},i3=R3,c3=(0,Z.forwardRef)(function(e,t){var i=e.theme,n=i===void 0?D.uH:i,s=e.footerVisible,u=s===void 0?!0:s,l=e.headerVisible,f=l===void 0?!0:l,m=e.loading,y=e.questionNumber,I=y===void 0?!0:y,d=e.onUpload,o=e.progressBar,c=o===void 0?!1:o,v=e.statistics,h=e.isPreview,N=e.mode,T=N===void 0?"survey":N,g=e.correctAnswerVisible,V=g===void 0?!1:g,x=e.examScoreVisible,j=x===void 0?!1:x,O=(0,Z.useMemo)(function(){return new D3(e)},[]),B=O.form,A=(0,Z.useMemo)(function(){return(0,q.Gt)(e.schema)},[e.schema]),Y=(0,Z.useMemo)(function(){var k={},a3=function h3(p){k[p.id]=p.title,p.children&&p.children.forEach(h3)};return a3(A),document.title=(0,B3.WO)(A.title),k},[A]),X=(0,Z.useMemo)(function(){return(0,q.R6)(e.schema)},[e.schema]);(0,Z.useImperativeHandle)(t,function(){return{submit:function(){return O.submit()},reset:function(){B.reset()},setValues:function(a3){B.setValues(a3,"overwrite")},toggleReadOnly:function(a3){B.setState(function(h3){h3.pattern=a3?"readPretty":"editable"})},getValues:function(){return B.values}}}),(0,Z.useEffect)(function(){e.onInit&&e.onInit(B)},[]);var O3=(0,Z.useMemo)(function(){return{theme:n,schema:A,footerVisible:u,questionNumber:I,headerVisible:f,optionTypes:X,onUpload:d,loading:m,id2title:Y,progressBar:c,innerStore:O,statistics:v,isPreview:h,mode:T,correctAnswerVisible:V,examScoreVisible:j}},[m,A,v]);return(0,L.jsx)(Z.Suspense,{fallback:(0,L.jsx)(H3,{}),children:(0,L.jsx)(i3,{theme:n,children:(0,L.jsx)($.RV,{form:B,children:(0,L.jsx)(_.ZX.Provider,{value:O3,children:(0,L.jsx)(r3.k9,{schema:A})})})})})}),N3=c3}}]);
