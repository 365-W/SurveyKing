(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1034],{86698:function(g){g.exports={container:"container___1Rq3A"}},2836:function(g){g.exports={menu:"menu___1L63y",right:"right___3L8KG",action:"action___LP4_P",search:"search___2W0sJ",account:"account___6HXOq",avatar:"avatar___2cOWV",dark:"dark___1NwCY",name:"name___WfKAK"}},29791:function(g,y,n){"use strict";var E=n(24557),h=n(78874),D=n(11013),x=n(97544),o=n(85893),R=void 0==="1";y.Z=function(){return R?(0,o.jsx)(x.Z,{copyright:!1,links:[{key:"Survey King",title:(0,o.jsx)(E.Z,{}),href:"https://surveyking.cn",blankTarget:!0},{key:"github",title:(0,o.jsx)(h.Z,{}),href:"https://github.com/javahuang/SurveyKing",blankTarget:!0},{key:"gitee",title:(0,o.jsx)(D.Z,{}),href:"https://gitee.com/surveyking/surveyking",blankTarget:!0}]}):(0,o.jsx)(o.Fragment,{})}},10334:function(g,y,n){"use strict";n.r(y),n.d(y,{default:function(){return on}});var E=n(83279),h=n(11849),D=n(71501),x=n(67294),o=n(42285),R=n(73727),ln=n(49111),A=n(19650),B=n(1870),cn=n(94233),L=n(51890),dn=n(30887),Z=n(28682),vn=n(20228),H=n(11382),I=n(3182),K=n(94043),M=n.n(K),W=n(24616),T=n(55035),U=n(17673),mn=n(59250),$=n(13013),F=n(93224),S=n(94184),G=n.n(S),z=n(86698),Y=n.n(z),a=n(85893),J=function(r){var l=r.overlayClassName,e=(0,F.Z)(r,["overlayClassName"]);return(0,a.jsx)($.Z,(0,h.Z)({overlayClassName:G()(Y().container,l)},e))},Q=J,V=n(2836),u=n.n(V),N=n(27400),X=n(80937),k=n(5481),P=n.n(k),b=function(){var j=(0,I.Z)(M().mark(function r(){var l,e,d,v,m;return M().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:l=o.m8.location,e=l.query,d=e===void 0?{}:e,v=l.pathname,m=d.redirect,window.location.pathname!=="/user/login"&&!m&&o.m8.replace({pathname:"/user/login",search:(0,U.stringify)({redirect:v})});case 3:case"end":return f.stop()}},r)}));return function(){return j.apply(this,arguments)}}(),w=function(r){var l=r.menu,e=(0,N.a)(),d=e.user,v=(0,x.useCallback)(function(f){var C=f.key;if(C==="logout"){e.logout(),b();return}o.m8.push("/account/".concat(C))},[e]),m=(0,a.jsx)("span",{className:"".concat(u().action," ").concat(u().account),children:(0,a.jsx)(H.Z,{size:"small",style:{marginLeft:8,marginRight:8}})});if(e.loading||!d||!d.name)return m;var s=(0,a.jsxs)(Z.Z,{className:u().menu,selectedKeys:[],onClick:v,children:[l&&(0,a.jsxs)(Z.Z.Item,{children:[(0,a.jsx)(W.Z,{}),"\u4E2A\u4EBA\u8BBE\u7F6E"]},"settings"),l&&(0,a.jsx)(Z.Z.Divider,{}),(0,a.jsxs)(Z.Z.Item,{children:[(0,a.jsx)(T.Z,{}),"\u9000\u51FA\u767B\u5F55"]},"logout")]});return(0,a.jsx)(Q,{overlay:s,children:(0,a.jsxs)("span",{className:"".concat(u().action," ").concat(u().account),children:[(0,a.jsx)(L.C,{size:"small",className:u().avatar,src:d.avatar?"/api/public/preview/".concat(d.avatar):P(),alt:"avatar"}),(0,a.jsx)("span",{className:"".concat(u().name," anticon"),children:d.name})]})})},q=(0,X.Pi)(w),_=void 0==="1",nn=function(){var r=u().right;return r="".concat(u().right,"  ").concat(u().dark),(0,a.jsxs)(A.Z,{className:r,children:[_&&(0,a.jsx)("span",{className:u().action,onClick:function(){window.open("https://surveyking.cn/docs")},children:(0,a.jsx)(B.Z,{})}),(0,a.jsx)(q,{menu:!0})]})},an=nn,tn=n(29791),rn=n(77613),en=function(r){var l=r.children,e=r.location,d=e===void 0?{pathname:"/"}:e,v=(0,N.a)(),m=v.user,s=v.system,f=(0,o.YB)(),C=f.formatMessage;(0,x.useEffect)(function(){v.currentUser()},[v]),(0,x.useEffect)(function(){var c=document.querySelector("link[rel~='icon']");c&&(c.href="/api/public/".concat(s.avatar)),document.title=s.name||"\u5377\u738B";var t=document.getElementById("loading-img");t&&(t.src="/api/public/preview/".concat(s.avatar));var i=document.getElementById("loading-name");i&&(i.textContent=document.title)},[s]);var sn=function c(t){return t.filter(function(i){var p;return m==null||(p=m.authorityList)===null||p===void 0?void 0:p.find(function(O){return O.startsWith(i.authority)})}).map(function(i){return(0,h.Z)((0,h.Z)({},i),{},{children:i.children?c(i.children):void 0})})};return(0,a.jsx)(D.ZP,(0,h.Z)((0,h.Z)({title:s==null?void 0:s.name,logo:(0,a.jsx)("img",{src:s.avatar?"/api/public/preview/".concat(s.avatar):P()}),formatMessage:C},r),{},{onMenuHeaderClick:function(){return o.m8.push("/")},menuItemRender:function(t,i){return t.isUrl||!t.path||d.pathname===t.path?i:(0,a.jsx)(R.rU,{to:t.path,children:i})},breadcrumbRender:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return[{path:"/",breadcrumbName:C({id:"menu.home"})}].concat((0,E.Z)(t))},itemRender:function(t,i,p,O){var un=p.indexOf(t)===0;return un?(0,a.jsx)(R.rU,{to:O.join("/"),children:t.breadcrumbName}):(0,a.jsx)("span",{children:t.breadcrumbName})},footerRender:function(){return(0,a.jsx)(tn.Z,{})},menuDataRender:sn,rightContentRender:function(){return(0,a.jsx)(an,{})},onPageChange:function(){},children:l}))},on=(0,rn.P)(en)},5481:function(g,y,n){g.exports=n.p+"static/logo.de1a765f.svg"}}]);
