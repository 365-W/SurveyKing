(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9531],{29791:function(U,j,r){"use strict";var R=r(24557),A=r(78874),o=r(11013),T=r(97544),C=r(85893),H=void 0==="1";j.Z=function(){return H?(0,C.jsx)(T.Z,{copyright:!1,links:[{key:"Survey King",title:(0,C.jsx)(R.Z,{}),href:"https://surveyking.cn",blankTarget:!0},{key:"github",title:(0,C.jsx)(A.Z,{}),href:"https://github.com/javahuang/SurveyKing",blankTarget:!0},{key:"gitee",title:(0,C.jsx)(o.Z,{}),href:"https://gitee.com/surveyking/surveyking",blankTarget:!0}]}):(0,C.jsx)(C.Fragment,{})}},19319:function(U,j,r){"use strict";r.r(j);var R=r(34792),A=r(48086),o=r(3182),T=r(94657),C=r(17462),H=r(76772),I=r(94043),D=r.n(I),$=r(89366),k=r(2603),Y=r(67294),b=r(15196),S=r(5966),d=r(42285),O=r(73727),w=r(29791),V=r(16113),g=r.n(V),q=r(27400),ee=r(77613),z=r(5481),K=r.n(z),a=r(85893),re=function(t){var n=t.content;return(0,a.jsx)(H.Z,{style:{marginBottom:24},message:n,type:"error",showIcon:!0})},J=void 0==="1",e=function(t){var n,l,c=(0,Y.useState)(!1),i=(0,T.Z)(c,2),E=i[0],p=i[1],f=(0,Y.useState)(),L=(0,T.Z)(f,2),N=L[0],B=L[1],x=(0,q.a)(),_=x.system,M=(0,d.YB)(),Q=function(){var v=(0,o.Z)(D().mark(function m(){return D().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:case"end":return P.stop()}},m)}));return function(){return v.apply(this,arguments)}}(),F=function(){var v=(0,o.Z)(D().mark(function m(y){var P,h,W,X,G,Z;return D().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,x.login(y);case 3:if(P=u.sent,!P.success){u.next=18;break}if(h=M.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),A.default.success(h),!t.onOk){u.next=10;break}return t.onOk(),u.abrupt("return");case 10:return u.next=12,Q();case 12:if(d.m8){u.next=14;break}return u.abrupt("return");case 14:return W=d.m8.location.query,X=W,G=X.redirect,d.m8.push(G||"/"),u.abrupt("return");case 18:B(P.message&&"error"),u.next=25;break;case 21:u.prev=21,u.t0=u.catch(0),Z=M.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),A.default.error(Z);case 25:p(!1);case 26:case"end":return u.stop()}},m,null,[[0,21]])}));return function(y){return v.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:g().container,children:[(0,a.jsx)("div",{className:g().lang,"data-lang":!0,children:d.pD&&(0,a.jsx)(d.pD,{})}),(0,a.jsxs)("div",{className:g().content,children:[(0,a.jsxs)("div",{className:g().top,children:[(0,a.jsx)("div",{className:g().header,children:(0,a.jsxs)(O.rU,{to:"/",children:[(0,a.jsx)("img",{alt:"logo",className:g().logo,src:_.avatar?"/api/public/preview/".concat(_==null?void 0:_.avatar):K()}),(0,a.jsx)("span",{className:g().title,children:_==null?void 0:_.name})]})}),(0,a.jsx)("div",{className:g().desc,children:_==null?void 0:_.description})]}),(0,a.jsx)("div",{className:g().main,children:(0,a.jsxs)(b.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:M.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(m,y){return y.pop()},submitButtonProps:{loading:E,size:"large",style:{width:"100%"},htmlType:"submit"}},isKeyPressSubmit:!0,onFinish:function(){var v=(0,o.Z)(D().mark(function m(y){return D().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!E){h.next=2;break}return h.abrupt("return");case 2:return p(!0),h.next=5,F(y);case 5:case"end":return h.stop()}},m)}));return function(m){return v.apply(this,arguments)}}(),children:[N==="error"&&(0,a.jsx)(re,{content:M.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF"})}),(0,a.jsx)(S.Z,{name:"username",fieldProps:{size:"large",prefix:(0,a.jsx)($.Z,{className:g().prefixIcon})},placeholder:M.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D"}),rules:[{required:!0,message:(0,a.jsx)(d._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,a.jsx)(S.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,a.jsx)(k.Z,{className:g().prefixIcon})},placeholder:M.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,a.jsx)(d._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),!J&&((n=_.registerInfo)===null||n===void 0?void 0:n.registerEnabled)&&(0,a.jsx)("div",{style:{marginBottom:24,display:"flex",justifyContent:"flex-end"},children:(0,a.jsx)(O.rU,{to:"/user/register",children:(0,a.jsx)(d._H,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C"})})}),J&&(0,a.jsxs)("div",{style:{marginBottom:24},children:[((l=_.registerInfo)===null||l===void 0?void 0:l.registerEnabled)&&(0,a.jsx)(O.rU,{to:"/user/register",children:(0,a.jsx)(d._H,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C"})}),(0,a.jsx)("a",{style:{float:"right"},onClick:function(){return F({username:"admin",password:"123456"})},children:(0,a.jsx)(d._H,{id:"pages.login.try",defaultMessage:"\u8BD5\u4E00\u8BD5"})})]})]})})]}),(0,a.jsx)(w.Z,{})]})};j.default=(0,ee.P)(e)},5481:function(U,j,r){U.exports=r.p+"static/logo.de1a765f.svg"},73727:function(U,j,r){"use strict";r.d(j,{rU:function(){return g}});var R=r(51615),A=r(41788),o=r(67294),T=r(97175),C=r(45697),H=r.n(C),I=r(22122),D=r(19756),$=r(2177),k=function(e){(0,A.Z)(s,e);function s(){for(var n,l=arguments.length,c=new Array(l),i=0;i<l;i++)c[i]=arguments[i];return n=e.call.apply(e,[this].concat(c))||this,n.history=(0,T.lX)(n.props),n}var t=s.prototype;return t.render=function(){return o.createElement(R.F0,{history:this.history,children:this.props.children})},s}(o.Component),Y=function(e){(0,A.Z)(s,e);function s(){for(var n,l=arguments.length,c=new Array(l),i=0;i<l;i++)c[i]=arguments[i];return n=e.call.apply(e,[this].concat(c))||this,n.history=(0,T.q_)(n.props),n}var t=s.prototype;return t.render=function(){return o.createElement(R.F0,{history:this.history,children:this.props.children})},s}(o.Component),b=function(s,t){return typeof s=="function"?s(t):s},S=function(s,t){return typeof s=="string"?(0,T.ob)(s,null,null,t):s},d=function(s){return s},O=o.forwardRef;typeof O=="undefined"&&(O=d);function w(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var V=O(function(e,s){var t=e.innerRef,n=e.navigate,l=e.onClick,c=(0,D.Z)(e,["innerRef","navigate","onClick"]),i=c.target,E=(0,I.Z)({},c,{onClick:function(f){try{l&&l(f)}catch(L){throw f.preventDefault(),L}!f.defaultPrevented&&f.button===0&&(!i||i==="_self")&&!w(f)&&(f.preventDefault(),n())}});return d!==O?E.ref=s||t:E.ref=t,o.createElement("a",E)}),g=O(function(e,s){var t=e.component,n=t===void 0?V:t,l=e.replace,c=e.to,i=e.innerRef,E=(0,D.Z)(e,["component","replace","to","innerRef"]);return o.createElement(R.s6.Consumer,null,function(p){p||(0,$.Z)(!1);var f=p.history,L=S(b(c,p.location),p.location),N=L?f.createHref(L):"",B=(0,I.Z)({},E,{href:N,navigate:function(){var _=b(c,p.location),M=l?f.replace:f.push;M(_)}});return d!==O?B.ref=s||i:B.innerRef=i,o.createElement(n,B)})});if(!1)var q,ee;var z=function(s){return s},K=o.forwardRef;typeof K=="undefined"&&(K=z);function a(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter(function(n){return n}).join(" ")}var re=K(function(e,s){var t=e["aria-current"],n=t===void 0?"page":t,l=e.activeClassName,c=l===void 0?"active":l,i=e.activeStyle,E=e.className,p=e.exact,f=e.isActive,L=e.location,N=e.sensitive,B=e.strict,x=e.style,_=e.to,M=e.innerRef,Q=(0,D.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.createElement(R.s6.Consumer,null,function(F){F||(0,$.Z)(!1);var v=L||F.location,m=S(b(_,v),v),y=m.pathname,P=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),h=P?(0,R.LX)(v.pathname,{path:P,exact:p,sensitive:N,strict:B}):null,W=!!(f?f(h,v):h),X=W?a(E,c):E,G=W?(0,I.Z)({},x,{},i):x,Z=(0,I.Z)({"aria-current":W&&n||null,className:X,style:G,to:m},Q);return z!==K?Z.ref=s||M:Z.innerRef=M,o.createElement(g,Z)})});if(!1)var J},16113:function(U){U.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}}}]);
