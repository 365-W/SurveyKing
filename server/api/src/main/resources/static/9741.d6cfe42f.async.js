(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9741],{55686:function(Ke,Pe,c){"use strict";var Q=c(11849),k=c(94233),C=c(51890),z=c(93224),T=c(89366),g=c(85893),Z=function(ee){var ce=ee.user,b=(0,z.Z)(ee,["user"]);return ce.avatar?(0,g.jsx)(C.C,(0,Q.Z)({src:"/api/public/preview/".concat(ce.avatar),size:b.size||"small"},b)):(0,g.jsx)(C.C,(0,Q.Z)({icon:(0,g.jsx)(T.Z,{}),size:b.size||"small"},b))};Pe.Z=Z},78210:function(Ke,Pe,c){"use strict";var Q=c(15020),k=c(85893),C=function(T){var g=T.html,Z=g===void 0?"":g;return(0,k.jsx)(k.Fragment,{children:typeof Z=="string"&&(0,Q.ZP)(Z.replace(/<p>/,"<span>").replace(/<\/p>/,"</span>"))})};Pe.Z=C},30931:function(Ke,Pe,c){"use strict";c.d(Pe,{Mt:function(){return Xe},hl:function(){return P},AT:function(){return Ve},HN:function(){return je},we:function(){return be},k9:function(){return Z},oq:function(){return ft},jI:function(){return ke}});var Q=c(2299),k=c(67294),C=c(24004),z=c(95522),T=c(87998),g=c(85893);function Z(V){var F=(0,k.useContext)(C.ZX),E=F.theme,$=F.footerVisible,ie=F.headerVisible,oe=V.schema,q=function(N){var Y=(0,z.GZ)(E,"Survey");if(Y)return k.createElement(Y,{schema:oe,footerVisible:$,headerVisible:ie},N)},w=function(){var N,Y=-1;return(N=oe.children)===null||N===void 0?void 0:N.map(function(ae){var Ce=ae.type,de=ae.id;return(0,T.nj)(Ce)||Y++,Ce==="QuestionSet"?(0,g.jsx)(be,{schema:ae,index:Y},de):(0,g.jsx)(je,{schema:ae,index:Y},de)})};return(0,g.jsxs)(g.Fragment,{children:[q(w()),(0,g.jsx)(Q.gN,{name:"_finish"})]})}var we=c(32059),ee=c(2824),ce=c(86582),b=c(11849);function le(V){var F,E=[],$=V.attribute;return $&&$.required&&E.push({required:!0,triggerType:"onInput"}),$&&$.answerLimit&&E.push({answerLimit:!0,schema:V}),(F=V.children)===null||F===void 0||F.forEach(function(ie){E.push.apply(E,(0,ce.Z)(S(ie,V)))}),E}function S(V,F){var E,$,ie,oe,q=[];if((E=V.attribute)!==null&&E!==void 0&&E.dataType){var w;q.push((w={},(0,we.Z)(w,V.attribute.dataType,!0),(0,we.Z)(w,"schema",(0,b.Z)((0,b.Z)({},V),{},{parent:F})),w))}return($=V.attribute)!==null&&$!==void 0&&$.required&&q.push({required:!0,schema:(0,b.Z)((0,b.Z)({},V),{},{parent:F})}),(ie=V.attribute)!==null&&ie!==void 0&&ie.textLimit&&q.push({textLimit:!0,schema:(0,b.Z)((0,b.Z)({},V),{},{parent:F})}),(oe=V.attribute)!==null&&oe!==void 0&&oe.scope&&q.push({scope:!0,schema:(0,b.Z)((0,b.Z)({},V),{},{parent:F})}),q}var K=c(80705),U=c(15020),P=function(F){var E=F.html,$=E===void 0?"":E;return(0,g.jsx)(g.Fragment,{children:typeof $=="string"&&(0,U.ZP)($.replace(/<p>/,"<span>").replace(/<\/p>/,"</span>"))})},e=function(F){return(0,g.jsx)("div",{className:"preview",children:De(F)})};function De(V){var F=V.schema,E=V.value;if(!E)return"";var $;if(F.type==="Radio"||F.type==="Select")Object.entries(E).some(function(w){var H=(0,ee.Z)(w,2),N=H[0],Y=H[1];if(Y===!0){var ae,Ce;$=(0,g.jsx)(P,{html:(ae=F.children)===null||ae===void 0||(Ce=ae.find(function(Fe){return Fe.id===N}))===null||Ce===void 0?void 0:Ce.title})}else if(Y){var de,Ne;$=(0,g.jsx)(P,{html:(de=F.children)===null||de===void 0||(Ne=de.find(function(Fe){return Fe.id===N}))===null||Ne===void 0?void 0:Ne.title})}return!0});else{if(F.type==="Checkbox")return Object.entries(E).map(function(w){var H=(0,ee.Z)(w,2),N=H[0],Y=H[1];if(Y===!0){var ae,Ce;return(0,g.jsx)(P,{html:(ae=F.children)===null||ae===void 0||(Ce=ae.find(function(Fe){return Fe.id===N}))===null||Ce===void 0?void 0:Ce.title},N)}else if(Y){var de,Ne;return(0,g.jsx)(P,{html:(de=F.children)===null||de===void 0||(Ne=de.find(function(Fe){return Fe.id===N}))===null||Ne===void 0?void 0:Ne.title},N)}}).reduce(function(w,H){return[w,", ",H]});if(F.type==="Cascader"){var ie=F.children.map(function(w){return w.id}),oe=ie.map(function(w){return E[w]}),q=F.dataSource;return oe.filter(function(w){return w!==void 0}).map(function(w,H){var N,Y=(N=q)===null||N===void 0?void 0:N.find(function(ae){return ae.value===w});return q=Y.children,(0,g.jsx)("span",{children:Y.label},ie[H])})}else if(F.type==="FillBlank"||F.type==="MultipleBlank"||F.type==="Textarea"||F.type==="Score"||F.type==="Nps")return Object.entries(E).map(function(w){var H=(0,ee.Z)(w,2),N=H[0],Y=H[1];return(0,g.jsx)("span",{children:Y},N)})}return $}var je=(0,Q.Pi)(function(F){var E=F.schema,$=F.index,ie=F.qsIndex,oe=E.id,q=E.type,w=(0,k.useContext)(C.ZX),H=w.theme,N=w.optionTypes,Y=w.id2title,ae=(0,k.useMemo)(function(){return(0,T.cB)(E,"calculate")},[]),Ce=(0,k.useMemo)(function(){var B;return(0,Q.$j)((0,z.I8)(H,q),(0,Q.jM)(function(A,G){return(0,b.Z)((0,b.Z)({},A),{},{onChange:function(I){if(!A.readOnly){if((0,K.xb)(I)){G.onInput(void 0);return}if(q.startsWith("Matrix")&&(0,T.hb)(I)){G.onInput(void 0);return}I&&Object.keys(I).forEach(function(ue){I[ue]===void 0&&(I[ue]="")}),G.onInput(I)}}})}),(0,Q.vl)(((B=(0,z.I8)(H,q))===null||B===void 0?void 0:B.Preview)||e))},[H,q]),de=(0,k.useCallback)(function(B){return(0,g.jsx)("div",{tabIndex:-1,onBlur:B==null?void 0:B.onBlur,"data-id":B.schema.id,children:k.createElement((0,z.GZ)(H,"Question"),B)})},[H]),Ne=(0,k.useMemo)(function(){return(0,Q.$j)(de,(0,Q.jM)(function(B,A){return(0,b.Z)((0,b.Z)({},B),{},{error:A.selfErrors.length?(0,ce.Z)(A.selfErrors):[],warning:A.selfWarnings.length?A.selfWarnings:[],onBlur:function(){return A.onBlur.apply(A,arguments)},required:A.required})}))},[de]),Fe=(0,k.useMemo)(function(){return(0,Q.$j)((0,z.I8)(H,q),(0,Q.jM)(function(B,A){return(0,b.Z)({},B)}))},[H,q]);return(0,T.nj)(E.type)?(0,g.jsx)(Q.jG,{name:oe,component:[Fe,{schema:E,controlShow:void 0}],reactions:[function(B){var A,G=(A=E.attribute)===null||A===void 0?void 0:A.replaceTextRule;if(G){var L=(0,T.vW)(G,function(ue){var he=(0,T.Op)(ue),se=(0,ee.Z)(he,1),fe=se[0],me=B.query(fe).get("value");return(0,T.d0)(N,me,ue,Y)}),I="";L.success&&L.result&&(I=L.result),B.setComponentProps((0,b.Z)((0,b.Z)({},B.componentProps),{},{replaceTitle:I}))}}]}):(0,g.jsx)(Q.gN,{name:oe,component:[Ce,{schema:E,controlShow:void 0}],decorator:[Ne,{schema:E,index:$,qsIndex:ie}],validator:le(E),reactions:[function(B){Object.entries(ae).forEach(function(A){var G=(0,ee.Z)(A,2),L=G[0],I=G[1],ue=I,he=(0,T.vW)(ue,function(se){var fe=(0,T.Op)(se),me=(0,ee.Z)(fe,2),Ue=me[0],st=me[1],Je=B.query(Ue).get("value");return(0,T.d0)(N,Je,se)});he.success&&B.setState(function(se){var fe;return se.value=(0,b.Z)((0,b.Z)({},se.value),{},(0,we.Z)({},L,(0,T.A7)(he.result,(fe=E.children)===null||fe===void 0?void 0:fe.find(function(me){return me.id===L}))))})})},function(B){var A,G=(A=E.attribute)===null||A===void 0?void 0:A.visibleRule;if(G){var L=(0,T.vW)(G,function(I){var ue=(0,T.Op)(I),he=(0,ee.Z)(ue,2),se=he[0],fe=he[1],me=B.query(se).get("value");return(0,T.d0)(N,me,I)});L.success&&(L.result?B.display="visible":B.display="none")}},function(B){var A,G=(A=E.attribute)===null||A===void 0?void 0:A.requiredRule;if(G){var L=(0,T.vW)(G,function(I){var ue=(0,T.Op)(I),he=(0,ee.Z)(ue,2),se=he[0],fe=he[1],me=B.query(se).get("value");return(0,T.d0)(N,me,I)});L.success&&(L.result?B.required=!0:B.required=!1)}},function(B){var A,G=(A=E.attribute)===null||A===void 0?void 0:A.replaceTextRule;if(G){var L=(0,T.vW)(G,function(ue){var he=(0,T.Op)(ue),se=(0,ee.Z)(he,1),fe=se[0],me=B.query(fe).get("value");return(0,T.d0)(N,me,ue,Y)}),I="";L.success&&L.result&&(I=L.result),B.setDecoratorProps((0,b.Z)((0,b.Z)({},B.decoratorProps),{},{replaceTitle:I}))}}]})});function be(V){var F=V.schema,E=V.index,$=F.id,ie=(0,k.useContext)(C.ZX),oe=ie.theme,q=function(){var H;return(H=F.children)===null||H===void 0?void 0:H.map(function(N,Y){return N.type==="QuestionSet"?(0,g.jsx)(be,{schema:N,index:Y},N.id):(0,g.jsx)(je,{schema:N,index:Y,qsIndex:E},N.id)})};return(0,g.jsx)(Q.jG,{name:$,decorator:[(0,z.GZ)(oe,"QuestionSet"),{schema:F,index:E}],children:q()})}var We=function(F){var E=F.progress,$=E===void 0?0:E;return _jsx("div",{className:"progress-bar",style:{width:"".concat($*100,"%")}})},Ge=c(16165),Re=function(){return(0,g.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"150",height:"150",children:[(0,g.jsx)("path",{d:"M0 0h1024v1024H0z",fill:"#FFFFFF","p-id":"44112"}),(0,g.jsx)("path",{d:"M160 73.426667h83.173333V0h98.266667v155.010667h75.6v179.485333h37.813333V163.168h22.666667v-40.8h68.053333v24.474667h30.24v342.666666h60.48V40.8h45.36v236.586667h22.666667V179.485333h45.36V16.317333H893.333333V824H160V73.426667z",fill:"#DDEEFF",opacity:".4","p-id":"44113"}),(0,g.jsx)("path",{d:"M362.693333 741.416l635.866667 95.584L689.893333 997.333333 24 852.36z",fill:"#DFE7F7","p-id":"44114"}),(0,g.jsx)("path",{d:"M1002.64 813.370667l-307.6 160.322666-665.893333-144.970666-0.826667-2.629334v-8.213333l20.586667 2.666667v1.701333l318.933333-104.469333 614.213333 92.48v-5.101334H1002.666667v8.213334h-0.026667z",fill:"#5AA12E","p-id":"44115"}),(0,g.jsx)("path",{d:"M1002.64 805.157333l-308.64 160.314667-665.653333-144.92h-0.026667l-0.213333-0.04 0.213333-0.064v-8.104l17.733333 2.296 320.746667-105.066667 615.253333 92.488v-5.098666H1002.666667v8.213333h-0.026667z",fill:"#93C110","p-id":"44116"}),(0,g.jsx)("path",{d:"M366.8 701.333333L1002.666667 796.917333l-308.666667 160.333334L28.106667 812.266667z",fill:"#EEF2F5","p-id":"44117"}),(0,g.jsx)("path",{d:"M629.333333 809.333333a138.666667 6.666667 0 1 0 277.333334 0 138.666667 6.666667 0 1 0-277.333334 0Z",fill:"#E3E7EA","p-id":"44118"}),(0,g.jsx)("path",{d:"M162.666667 773.333333a152 13.333333 0 1 0 304 0 152 13.333333 0 1 0-304 0Z",fill:"#E3E7EA","p-id":"44119"}),(0,g.jsx)("path",{d:"M922.666667 610.666667h-64v170.666666h53.333333a13.333333 13.333333 0 0 1 0 26.666667h-181.333333a13.333333 13.333333 0 0 1 0-26.666667h58.666666v-144h-26.666666a10.666667 10.666667 0 0 1-10.666667-10.666666v-16h-117.333333v82.666666a8 8 0 0 1-16 0v-82.666666h-5.333334a10.666667 10.666667 0 0 1-10.666666-10.666667v-2.666667l48-50.666666h4.48a7.658667 7.658667 0 0 1 1.573333-0.968l187.093333-83.381334a10.4 10.4 0 0 1 14.773334 6.208l72.453333 81.178667a8.066667 8.066667 0 0 1 2.08 5.461333 11.581333 11.581333 0 0 1 0.213333 2.168v42.666667a10.666667 10.666667 0 0 1-10.666666 10.666667z m-272-42.666667l-26.666667 29.333333h26.666667v-29.333333z m117.333333 53.333333h66.666667v-58.666666h-29.333334l-37.333333 37.333333v21.333333z m-16-24l37.333333-37.333333h-37.333333v37.333333z m-45.333333 0h21.333333v-37.333333h-21.333333v37.333333z m-18.666667-37.333333h-21.333333v37.333333h21.333333v-37.333333z m5.84-13.333333h96.693333a9.224 9.224 0 0 1 0.693334-1.6l32.506666-56.290667zM842.666667 487.976L808.773333 546.666667H842.666667v-58.690667zM845.333333 648h-42.666666v26.666667h42.666666v-26.666667z m0 37.333333h-42.666666v42.666667h42.666666v-42.666667z m0 53.333334h-42.666666v42.666666h42.666666v-42.666666z m13.333334-141.333334h21.333333v-37.333333h-21.333333v37.333333z m0-104.690666V546.666667h48.213333zM917.333333 560h-21.333333v37.333333h21.333333v-37.333333z",fill:"#8BC8FF","p-id":"44120"}),(0,g.jsx)("path",{d:"M592 709.333333h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H514.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H592a8 8 0 0 1 0 16z",fill:"#DFF0FF","p-id":"44121"}),(0,g.jsx)("path",{d:"M936 298.666667h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205334 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H858.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205334H936a8 8 0 0 1 0 16z",fill:"#C3E2FF","p-id":"44122"}),(0,g.jsx)("path",{d:"M104 408H45.333333a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205334H26.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205334 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H104a8 8 0 0 1 0 16z",fill:"#DCEEFF","p-id":"44123"}),(0,g.jsx)("path",{d:"M309.333333 522.666667m-245.333333 0a245.333333 245.333333 0 1 0 490.666667 0 245.333333 245.333333 0 1 0-490.666667 0Z",fill:"#FFCC6C","p-id":"44124"}),(0,g.jsx)("path",{d:"M296 730.666667a245.389333 245.389333 0 0 0 237.013333-308.746667 245.333333 245.333333 0 1 1-460.693333 164.16A245.333333 245.333333 0 0 0 296 730.666667z",fill:"#F3B72C","p-id":"44125"}),(0,g.jsx)("path",{d:"M338.666667 464m-50.666667 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#E49817","p-id":"44126"}),(0,g.jsx)("path",{d:"M333.333333 456m-50.666666 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#FFFFFF","p-id":"44127"}),(0,g.jsx)("path",{d:"M303.333333 603.2a37.085333 37.085333 0 1 1-38 37.066667 37.544 37.544 0 0 1 38-37.066667z",fill:"#E49817","p-id":"44128"}),(0,g.jsx)("path",{d:"M299.333333 597.333333A37.085333 37.085333 0 1 1 261.333333 634.4a37.544 37.544 0 0 1 38-37.066667z",fill:"#FFFFFF","p-id":"44129"}),(0,g.jsx)("path",{d:"M182.786667 554.125333m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#E49817","p-id":"44130"}),(0,g.jsx)("path",{d:"M179.88 549.874667m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#FFFFFF","p-id":"44131"}),(0,g.jsx)("path",{d:"M251.733333 320.424a19.794667 19.794667 0 1 1-20.266666 19.789333 20.026667 20.026667 0 0 1 20.266666-19.789333z",fill:"#E49817","p-id":"44132"}),(0,g.jsx)("path",{d:"M249.6 317.333333a19.794667 19.794667 0 1 1-20.266667 19.786667 20.026667 20.026667 0 0 1 20.266667-19.786667z",fill:"#FFFFFF","p-id":"44133"}),(0,g.jsx)("path",{d:"M426.04 365.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44134"}),(0,g.jsx)("path",{d:"M419.293333 357.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44135"}),(0,g.jsx)("path",{d:"M466.04 589.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44136"}),(0,g.jsx)("path",{d:"M459.293333 581.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44137"}),(0,g.jsx)("path",{d:"M490.666667 860a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44138"}),(0,g.jsx)("path",{d:"M480 801.333333a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44139"}),(0,g.jsx)("path",{d:"M526.453333 597.12a48.968 48.968 0 0 0-4.586666-4.722667c55.493333-36.413333 83.466667-80.64 68.986666-121.04-8.746667-24.416-31.866667-44.266667-64.773333-58.512-0.346667-0.984-0.666667-1.970667-1.12-2.946666a40.712 40.712 0 0 0-3.12-5.410667c39.093333 15.2 66.72 37.432 76.72 65.333333 15.306667 42.656-14.026667 89.253333-72.106667 127.298667zM573.333333 856v5.333333s-135.84 11.306667-109.333333-136c19.866667-100.330667-32.586667-80.72-41.386667-80.112 0 0 0 0.016 0.026667 0.026667a595.552 595.552 0 0 1-66.4 17.274667c-160.48 32.136-312.186667-2.04-338.8-76.336-13.413333-37.413333 7.466667-77.866667 51.973333-112.904a31.802667 31.802667 0 0 0 0.293334 7.485333c0.053333 0.24 0.133333 0.464 0.186666 0.701333-39.04 32.48-56.933333 69.181333-44.746666 103.173334 25.493333 71.109333 172.8 103.397333 329.013333 72.114666a589.661333 589.661333 0 0 0 64.533333-16.714666L418.666667 640s72.826667-26.768 50.666666 80c-17.92 86.293333 13.146667 138.845333 104 136z",fill:"#FFE1A9","p-id":"44140"}),(0,g.jsx)("path",{d:"M512 884a74.666667 6.666667 0 1 0 149.333333 0 74.666667 6.666667 0 1 0-149.333333 0Z",fill:"#E3E7EA","p-id":"44141"}),(0,g.jsx)("path",{d:"M608.453333 802.666667h20.426667l17.093333 75.917333h-54.613333z m-6.88 15.165333h34.186667v6.752h-34.186667v-6.752z m-5.066666 16.917333h44.32v6.749334h-44.32v-6.749334z m-5.173334 21.917334h54.666667v6.749333h-54.666667v-6.749333z m-11.946666 21.917333h78.56a3.381333 3.381333 0 0 1 3.386666 3.373333 3.384 3.384 0 0 1-3.386666 3.373334h-78.56a3.384 3.384 0 0 1-3.386667-3.373334 3.381333 3.381333 0 0 1 3.386667-3.373333z",fill:"#F9A303","p-id":"44142"}),(0,g.jsx)("path",{d:"M768 838.666667a58.666667 6.666667 0 1 0 117.333333 0 58.666667 6.666667 0 1 0-117.333333 0Z",fill:"#E3E7EA","p-id":"44143"}),(0,g.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 0 5.333333-5v-70a5.181333 5.181333 0 0 0-5.333333-5v80z",fill:"#845C45","p-id":"44144"}),(0,g.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 1-5.333333-5v-70a5.181333 5.181333 0 0 1 5.333333-5v80z",fill:"#BA805A","p-id":"44145"}),(0,g.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 0 0-90.666667v90.666667z",fill:"#628A21","p-id":"44146"}),(0,g.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 1 0-90.666667v90.666667z",fill:"#6EA52E","p-id":"44147"}),(0,g.jsx)("path",{d:"M568 786.778667l-1.946667 6.824a1.130667 1.130667 0 0 1-1.173333 0.773333l-4.16-0.349333a19.581333 19.581333 0 0 1-18.88 8.477333l-13.093333-1.664 0.026666-0.04a3.733333 3.733333 0 0 1-0.986666-0.397333c-2.586667-1.504-3.706667-5.986667-3.306667-11.509334l-7.146667-1.816a3.408 3.408 0 0 1-2.56-4.173333 3.656 3.656 0 0 1 4.426667-2.4l6.453333 1.642667c0.293333-1.066667 0.613333-2.154667 1.013334-3.237334 0.213333-0.621333 0.453333-1.221333 0.693333-1.810666l-7.626667-1.938667a3.410667 3.410667 0 0 1-2.56-4.176 3.653333 3.653333 0 0 1 4.426667-2.4l9.12 2.317333a11.101333 11.101333 0 0 1 7.306667-5.472V765.333333l8.906666 1.136a18.562667 18.562667 0 0 1 16.613334 17.386667l3.813333 1.685333a1.066667 1.066667 0 0 1 0.64 1.237334z m-26.693333-20.149334c-2.693333-1.52-6.24 0.429333-9.306667 4.578667l4.08 1.032a3.392 3.392 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-5.68-1.437333c-0.24 0.573333-0.48 1.16-0.693333 1.765333q-0.6 1.642667-1.04 3.274667l6.88 1.744a3.389333 3.389333 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-6.133333-1.557333c-0.32 5.184 0.853333 9.368 3.386667 10.805333 4.053333 2.298667 10.08-3.309333 13.44-12.533333s2.853333-18.52-1.2-20.818667z",fill:"#FF6767","p-id":"44148"}),(0,g.jsx)("path",{d:"M578.666667 789.333333s194 0.666667 98.666666 64l-2.666666-2.666666s100.826667-53-98.666667-58.666667z",fill:"#FFE1A9","p-id":"44149"})]})},Ve=function(F){return(0,g.jsx)(Ge.Z,(0,b.Z)({component:Re},F))},at=c(27484),Oe=c.n(at),ot=c(75977),Ie=c(45418),dt=c(62713),At=c(33852),Ae=c(10285),ct=c.n(Ae),nt=c(72540),rt=c.n(nt),it=c(96036),ut=c.n(it);Oe().locale("zh-cn"),Oe().extend(rt()),Oe().extend(ct()),Oe().extend(ut());var Xe=(0,Ie.default)((0,b.Z)({},ot.Z)),ve=Xe,ke=k.forwardRef(function(V,F){return(0,g.jsx)(ve,(0,b.Z)((0,b.Z)({},V),{},{picker:"time",mode:void 0,ref:F}))});ke.displayName="TimePicker";var vt=null,ht=c(57663),$e=c(71577);function He(){return(0,k.useContext)(T.ff)}var ft=(0,Q.Pi)(function(){var V,F=He(),E=((V=F.savedAnswer)===null||V===void 0?void 0:V.progress)||0;return(0,g.jsx)("div",{className:"temp-confirm",children:(0,g.jsxs)("div",{className:"temp-confirm-cont",children:[(0,g.jsx)("div",{children:(0,g.jsxs)("svg",{t:"1647102518492",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4235",width:"128",height:"128",children:[(0,g.jsx)("path",{d:"M876.88894187 362.30785921v463.42517333c0 23.4826304-19.07152853 42.6838976-42.55415894 42.6838976-23.61236907 0-42.6838976-19.07152853-42.6838976-42.6838976V362.30785921h85.23805654z",fill:"#CCCBCA","p-id":"4236","data-spm-anchor-id":"a313x.7781069.0.i0",className:"selected"}),(0,g.jsx)("path",{d:"M791.52114667 825.86277121V235.68328748l-103.27167894-103.27167894H146.98132053v693.45116267c0 10.898016 4.1516256 21.79603307 12.45487574 30.0992832 8.30325013 8.30325013 19.3310048 12.45487573 30.0992832 12.45487573H834.20504427c-23.4826304 0.12973867-42.6838976-19.07152853-42.6838976-42.55415893z",fill:"#FFFFFF","p-id":"4237","data-spm-anchor-id":"a313x.7781069.0.i1",className:"selected"}),(0,g.jsx)("path",{d:"M210.81255893 544.97937174h246.502752v11.4169696h-246.502752zM210.81255893 581.95478508h246.502752v11.28723093h-246.502752zM210.81255893 618.93019734h246.502752v11.4169696h-246.502752zM210.81255893 655.90561068h246.502752v11.4169696h-246.502752zM210.81255893 692.88102294h246.502752v11.4169696h-246.502752zM210.81255893 729.85643628h246.502752v11.4169696h-246.502752zM210.81255893 766.83184854h246.502752v11.4169696h-246.502752z",fill:"#CCCBCA","p-id":"4238"}),(0,g.jsx)("path",{d:"M210.81255893 397.07772054h246.502752V519.42092908h-246.502752z",fill:"#516575","p-id":"4239"}),(0,g.jsx)("path",{d:"M482.8737536 397.07772054h246.63249067v11.4169696H482.8737536zM482.8737536 434.05313388h246.63249067v11.4169696H482.8737536zM482.8737536 471.02854614h246.63249067v11.4169696H482.8737536zM482.8737536 508.00395948h246.63249067v11.4169696H482.8737536zM482.8737536 544.97937174h246.63249067v11.4169696H482.8737536zM482.8737536 581.95478508h246.63249067v11.28723093H482.8737536zM482.8737536 618.93019734h246.63249067v11.4169696H482.8737536zM482.8737536 655.90561068h246.63249067v122.34320746H482.8737536z",fill:"#CCCBCA","p-id":"4240","data-spm-anchor-id":"a313x.7781069.0.i5",className:"selected"}),(0,g.jsx)("path",{d:"M494.1609856 685.87515521h24.00158293V767.22106348h-24.00158293zM527.50372587 732.84041601H551.3755712V767.22106348h-23.87184533zM560.84646613 695.86500374h24.001584v71.35605974h-24.001584zM594.18920747 709.74700054h24.00158293V767.22106348H594.18920747zM627.53194773 675.10687681h24.001584v92.11418667h-24.001584zM660.874688 751.39299201h23.87184533V767.22106348h-23.87184533zM694.21742933 692.88102294h24.00158294V767.22106348h-24.00158294z",fill:"#FFFFFF","p-id":"4241"}),(0,g.jsx)("path",{d:"M209.1259616 245.54339841h520.250544v76.15637547h-520.250544z",fill:"#EC6C3F","p-id":"4242"}),(0,g.jsx)("path",{d:"M209.1259616 344.27423681h520.250544v7.1356064h-520.250544zM209.1259616 215.96306774h520.250544v7.1356064h-520.250544z",fill:"#2B4456","p-id":"4243"}),(0,g.jsx)("path",{d:"M791.52114667 235.68328748h-103.27167894v-103.27167894z",fill:"#CCCBCA","p-id":"4244"})]})}),(0,g.jsxs)("h4",{className:"confirm-title",children:[(0,g.jsx)("span",{children:"\u4E4B\u524D\u7684\u586B\u5199\u8FDB\u5EA6\u4E3A"}),(E*100).toFixed(0),"%",(0,g.jsx)("br",{}),(0,g.jsx)("span",{children:"\u662F\u5426\u7EE7\u7EED\u4E0A\u6B21\u586B\u5199\uFF1F"})]}),(0,g.jsxs)("div",{className:"confirm-btn-group",children:[(0,g.jsx)($e.Z,{type:"primary",block:!0,onClick:function(){F.confirmTempAnswerType=2},children:"\u7EE7\u7EED\u586B\u5199"}),(0,g.jsx)($e.Z,{block:!0,style:{marginTop:15},onClick:function(){F.confirmTempAnswerType=3},children:"\u91CD\u65B0\u586B\u5199"})]})]})})})},39017:function(Ke,Pe,c){"use strict";c.d(Pe,{Rk:function(){return ce},AK:function(){return C},Al:function(){return we}});var Q=c(67294),k=c(24004);function C(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",le=(0,Q.useContext)(k.ZX),S=le.theme;return"survey-".concat(S)+b}function z(b,le){var S=(le&&le.depends||[]).reduce(function(K,U){return K||!U},!1);return T(S?void 0:function(K,U){return fetch(K,U).then(function(P){if(!!P.ok)return P.json()})},b,le||{})}function T(b){for(var le=arguments.length,S=new Array(le>1?le-1:0),K=1;K<le;K++)S[K-1]=arguments[K];var U=useState(0),P=_slicedToArray(U,2),e=P[0],De=P[1],je=useCallback(function(){De(Math.random())},[]),be=useState({loading:!1,mutate:je}),We=_slicedToArray(be,2),Ge=We[0],Re=We[1];return useEffect(function(){!b||S[1].manual&&e===0||b.apply(null,S).then(function(Ve){Ve.code===200?Re({loading:!1,data:Ve.data,mutate:je}):Re({error:Ve.message,loading:!1,mutate:je})}).catch(function(Ve){Re({error:Ve,loading:!1,mutate:je})})},g(e,S)),Ge}function g(){for(var b=arguments.length,le=new Array(b),S=0;S<b;S++)le[S]=arguments[S];for(var K=[],U=0;U<arguments.length;U++){var P=arguments[U];if(P instanceof Array)for(var e=0;e<P.length;e++)K=K.concat(g(P[e]));else if(typeof URL!="undefined"&&P instanceof URL)K=K.concat(P.toJSON());else if(P instanceof Object)for(var De=Object.keys(P),je=0;je<De.length;je++){var be=De[je];be==="depends"?K=K.concat(P[be]):K=K.concat([be]).concat(g(P[be]))}else K=K.concat(P)}return K}var Z=c(87998);function we(){return(0,Q.useContext)(Z.ZX)}function ee(){return useSurvey().attachments}function ce(){var b=(0,Q.useContext)(Z.ZX);return b.innerStore}},99741:function(Ke,Pe,c){"use strict";c.d(Pe,{O:function(){return Bt},Z:function(){return ba}});var Q=c(91220),k=c(3182),C=c(11849),z=c(2824),T=c(94043),g=c.n(T),Z=c(67294),we=c(2299),ee=c(64031),ce=c(54531),b=c(30931),le=c(24004),S=c(95522),K=c(78210),U=c(87998),P=c(39017),e=c(85893);function De(t){var a=t.schema,i=t.index,n=(0,P.AK)("-body-questionSet"),r=(0,Z.useContext)(U.ZX),s=r.questionNumber;return(0,e.jsxs)("div",{className:n,children:[(0,e.jsxs)("div",{className:n+"-title",children:[s?"".concat(i+1,"."):"",(0,e.jsx)(K.Z,{html:a.title})]}),t.children,(0,e.jsx)("div",{className:n+"-splitLine"})]})}(0,S.eC)("QuestionSet",De,"antd");var je=c(9715),be=c(93766);function We(t){var a=t.schema,i=t.index,n=t.qsIndex,r=t.required,s=t.error,v=t.replaceTitle,d=(0,Z.useContext)(U.ZX),l=d.questionNumber,h=(0,P.AK)("-body-question"),o=t.error.length>0,u=t.warning.length>0,x=(0,Z.useState)(),m=(0,z.Z)(x,2),f=m[0],p=m[1];(0,Z.useEffect)(function(){if(f){var M,R;(M=document.querySelector("[data-id='".concat(a.id,"']")))===null||M===void 0||M.classList.remove("ant-form-item-has-error"),(R=document.querySelector("[data-id='".concat(a.id,"']")))===null||R===void 0||R.querySelectorAll("[data-id]").forEach(function(Me){Me.classList.remove("ant-form-item-has-error")})}if(s.length>0){var te,D=s[0].split("^"),J=(0,z.Z)(D,2),ne=J[0],Se=J[1],Ze;Se?(Ze=document.querySelector("[data-id='".concat(ne,"']")),p(Se)):(Ze=document.querySelector("[data-id='".concat(a.id,"']")),p(ne)),(te=Ze)===null||te===void 0||te.classList.add("ant-form-item-has-error")}else f&&p(void 0)},[s]);var j="";n!==void 0&&(j+=n+1+"-"),i!==void 0&&(j+=i+1+".");var y=function(){return f?(0,e.jsx)("span",{className:"question-tag error animated",children:(0,e.jsx)("span",{children:f})}):(0,e.jsx)(e.Fragment,{})};return(0,e.jsx)("div",{className:h,children:(0,e.jsx)(be.Z.Item,{label:(0,e.jsxs)("span",{className:h+"-header",children:[l?j:"",(0,e.jsx)(b.hl,{html:v||a.title}),y()]}),labelCol:{span:24},wrapperCol:{span:24},required:r,children:t.children})})}(0,S.eC)("Question",We,"antd");var Ge=c(84305),Re=c(88182),Ve=c(82925),at=function(){var a=(0,P.AK)(),i=(0,Z.useContext)(U.ZX),n=i.schema;return(0,e.jsxs)("div",{className:a+"-header",children:[(0,e.jsx)("div",{className:a+"-header-title",children:(0,e.jsx)(b.hl,{html:n.title})}),(0,e.jsx)("div",{className:a+"-header-description",children:(0,e.jsx)(b.hl,{html:n.description})})]})},Oe=function(a){var i=(0,P.AK)();return(0,e.jsx)("div",{className:i+"-body",children:a.children})},ot=c(57663),Ie=c(71577);function dt(){var t,a,i,n=(0,P.AK)("-footer"),r=(0,Z.useContext)(U.ZX),s=r.schema,v=r.onSubmit,d=r.onPrev,l=r.pagination,h=r.onNext,o=r.loading,u=l.pageSize>1,x=l.current===1,m=l.current===l.pageSize,f=u?(t=s.children)===null||t===void 0?void 0:t.slice(-1)[0]:void 0;return(0,e.jsxs)("div",{className:n,children:[m&&(0,e.jsx)("div",{className:n+"-desc",style:{userSelect:"none"},children:(0,e.jsx)(b.hl,{html:s==null||(a=s.attribute)===null||a===void 0?void 0:a.suffix})}),(0,e.jsxs)("div",{className:n+"-pagination",children:[u&&!x&&(0,e.jsx)("div",{children:(0,e.jsx)(Ie.Z,{type:"primary",block:!0,onClick:function(){return d()},children:"\u4E0A\u4E00\u9875"})}),u&&!m&&(0,e.jsx)("div",{children:(0,e.jsx)(Ie.Z,{type:"primary",block:!0,onClick:function(){return h()},children:"\u4E0B\u4E00\u9875"})}),m&&(0,e.jsx)("div",{children:(0,e.jsx)(Ie.Z,{type:"primary",block:!0,onClick:v,loading:o,children:(0,e.jsx)(b.hl,{html:((i=s.attribute)===null||i===void 0?void 0:i.submitButton)||"\u63D0\u4EA4"})})}),u&&(0,e.jsxs)("div",{className:n+"-pagination-info",children:["\u7B2C",l.current,"\u9875/\u5171",l.pageSize,"\u9875"]})]})]})}var At=c(47673),Ae=c(4107),ct=c(77883),nt=c(85482),rt=c(29985),it=c(46842),ut=c(64302),Xe=c(27484),ve=c.n(Xe),ke="YYYY-MM-DD",vt="YYYY-MM-DD HH:mm:ss",ht="HH:mm:ss";function $e(t,a){if(!!t){if(a==="date")return ve()(t,ke);if(a==="dateTime")return ve()(t,vt);if(a==="time")return ve()(t,ht)}}var He=function(a){var i=a.onChange,n=a.type,r=a.value,s=a.suffix,v=a.style,d=v===void 0?{width:"100%"}:v;return n==="number"?(0,e.jsx)(nt.Z,{onChange:i,value:r,style:d}):n==="date"?(0,e.jsx)(b.Mt,{onChange:function(h,o){return i(o)},value:$e(r,n),style:d}):n==="dateTime"?(0,e.jsx)(b.Mt,{showTime:!0,onChange:function(h,o){return i(o)},value:$e(r,n),style:d}):n==="time"?(0,e.jsx)(b.jI,{value:$e(r,n),onChange:function(h,o){return i(o)},style:d}):n==="mobile"?(0,e.jsx)(Ae.Z,{prefix:(0,e.jsx)(rt.Z,{}),onChange:function(h){return i(h.target.value)},value:r}):n==="idCard"?(0,e.jsx)(Ae.Z,{prefix:(0,e.jsx)(it.Z,{}),onChange:function(h){return i(h.target.value)},value:r,style:d}):n==="email"?(0,e.jsx)(Ae.Z,{prefix:(0,e.jsx)(ut.Z,{}),onChange:function(h){return i(h.target.value)},value:r,style:d}):(0,e.jsx)(Ae.Z,{onChange:function(h){return i(h.target.value)},value:r,suffix:s,style:d})},ft=c(49111),V=c(19650),F=c(17672),E=function(a){var i=a.onChange,n=(0,Z.useRef)(null),r=(0,Z.useRef)(),s=(0,Z.useRef)(),v=(0,Z.useState)(0),d=(0,z.Z)(v,2),l=d[0],h=d[1];return(0,Z.useEffect)(function(){var o=n.current;if(o){var u,x=new F.Z(n.current,{onBegin:function(){h(1)}});r.current=x;var m=Math.max(window.devicePixelRatio||1,1);o.width=o.offsetWidth*m,o.height=o.offsetHeight*m,(u=o.getContext("2d"))===null||u===void 0||u.scale(m,m)}},[]),(0,e.jsxs)("div",{className:"signature-pad",children:[(0,e.jsx)("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#aaa",visibility:s.current?"hidden":"visible"},children:"\u70B9\u51FB\u7B7E\u540D"}),(0,e.jsxs)("div",{className:"signature",children:[(0,e.jsx)("canvas",{ref:n,style:{width:"100%",height:"100%",touchAction:"none",userSelect:"none",display:l!==2?"block":"none"}}),l===2&&(0,e.jsx)("img",{src:s.current||void 0})]}),(0,e.jsxs)("div",{className:"save-signature",children:[(0,e.jsx)("span",{children:"\u7B7E\u540D\u5B8C\u6210\u540E\uFF0C\u8BF7\u70B9\u51FB\u3010\u5B8C\u6210\u3011\u6309\u94AE"}),(0,e.jsx)("div",{children:(0,e.jsxs)(V.Z,{children:[l===1&&(0,e.jsx)(Ie.Z,{type:"link",onClick:function(){var u;(u=r.current)===null||u===void 0||u.clear(),h(0)},children:"\u6E05\u7A7A"}),(l===0||l===1)&&(0,e.jsx)(Ie.Z,{type:"primary",disabled:l!==1,ghost:!0,size:"small",onClick:function(){var u;i(r.current.toDataURL()),s.current=(u=r.current)===null||u===void 0?void 0:u.toDataURL(),h(2)},children:"\u5B8C\u6210"}),l===2&&(0,e.jsx)(Ie.Z,{type:"primary",ghost:!0,size:"small",onClick:function(){var u;h(0),(u=r.current)===null||u===void 0||u.clear()},children:"\u91CD\u7B7E"})]})})]})]})},$=c(3024),ie=(0,we.Pi)(function(){var t=(0,Z.useContext)(U.ZX),a=t.progressBar,i=(0,P.AK)(),n=(0,P.Rk)(),r=n.progress;return a?(0,e.jsx)($.Z,{enabled:!0,top:0,innerActiveClass:"fixed",children:(0,e.jsx)("div",{className:i+"-progress",children:(0,e.jsx)("div",{className:"progress-bar s-prog-wait",children:(0,e.jsx)("div",{className:"progress-done  s-prog-done",style:{width:"".concat(r*100,"%")}})})})}):(0,e.jsx)(e.Fragment,{})});function oe(t){var a=t.headerVisible,i=t.footerVisible,n=t.schema,r=(0,P.AK)(),s=function(){var d,l=(d=n.attribute)===null||d===void 0?void 0:d.headerImage;if(l)return(0,e.jsx)("img",{src:"/api/public/preview/".concat(l),style:{maxWidth:"100%"}})};return(0,e.jsxs)("div",{className:r,children:[(0,e.jsx)(ie,{}),(0,e.jsx)("div",{className:r+"-banner",children:s()}),a&&(0,e.jsx)(at,{}),(0,e.jsx)(Re.ZP,{locale:Ve.Z,children:(0,e.jsx)(Oe,{children:t.children})}),i&&(0,e.jsx)(dt,{})]})}(0,S.eC)("Survey",oe,"antd");var q=c(13062),w=c(71230),H=c(89032),N=c(15746),Y=c(76826);function ae(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=(0,P.AK)("-body-question");function d(l,h){r[l]=h,h===""&&delete r[l],i((0,C.Z)({},r))}return(0,e.jsx)("div",{children:s==null?void 0:s.map(function(l){var h=l.id,o=l.attribute,u=l.title,x=(0,Y.Ck)(o==null?void 0:o.autoSize,[2,4]);return(0,e.jsxs)(w.Z,{style:{marginBottom:10},"data-id":h,children:[u&&(0,e.jsx)(N.Z,{className:v+"-option",span:4,children:l.title&&(0,e.jsx)("span",{className:v+"-option-title",children:l.title})},l.id),(0,e.jsx)(N.Z,{span:12,children:(0,e.jsx)(Ae.Z.TextArea,{autoSize:{minRows:x[1],maxRows:x[2]},value:r[h]||"",onChange:function(f){return d(h,f.target.value)}})})]},h)})})}(0,S.RM)("Textarea",ae,"antd");var Ce=c(36877),de=c(13876);function Ne(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=s===void 0?[]:s;function d(l){var h={};l.forEach(function(o,u){var x=v[u].id;h[x]=o}),i(h)}return(0,e.jsx)(w.Z,{children:(0,e.jsx)(N.Z,{span:12,children:(0,e.jsx)(de.Z,{value:v.map(function(l){return r[l.id]}).filter(function(l){return l}),style:{width:260},options:a.dataSource,onChange:d,placeholder:"\u8BF7\u9009\u62E9"})})})}(0,S.RM)("Cascader",Ne,"antd");function Fe(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=(0,P.AK)("-body-question");function d(l,h){r[l]=h,h===""&&delete r[l],i((0,C.Z)({},r))}return(0,e.jsx)("div",{children:s==null?void 0:s.map(function(l){var h=l.id,o=l.attribute,u=l.title,x=o==null?void 0:o.suffix,m=o==null?void 0:o.dataType;return(0,e.jsxs)(w.Z,{style:{marginBottom:10},"data-id":h,children:[u&&(0,e.jsx)(N.Z,{className:v+"-option",span:4,children:l.title&&(0,e.jsx)("span",{className:v+"-option-title",children:l.title})},l.id),(0,e.jsx)(N.Z,{span:12,children:(0,e.jsx)(He,{type:m,value:r[h]||"",onChange:function(p){return d(h,p)},suffix:x&&(0,e.jsx)("span",{className:v+"-option-suffix",children:(0,e.jsx)(b.hl,{html:x})})})})]},h)})})}(0,S.RM)("FillBlank",Fe,"antd"),(0,S.RM)("MultipleBlank",Fe,"antd");var B=c(86582),A=c(43358),G=c(97268),L=c(79521),I=c(68489),ue=c(54121),he=function(a){var i=(0,I.XI)(200),n=(0,z.Z)(i,2),r=n[0],s=n[1],v=(0,I.XI)(200),d=(0,z.Z)(v,2),l=d[0],h=d[1];return(0,e.jsxs)("div",(0,C.Z)((0,C.Z)({},a.getRowProps()),{},{className:"tr",style:{position:"relative"},ref:r,children:[a.cells.map(function(o){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},o.getCellProps()),{},{className:"td","data-id":"".concat(a.i,"-").concat(o.column.id),children:o.render("Cell")}))}),a.onDelete&&(0,e.jsx)("div",{ref:l,style:{position:"absolute",left:-20,top:0,height:48,width:24,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,e.jsx)(ue.Z,{onClick:function(){a.onDelete()},style:{color:"#f5222d",cursor:"pointer",visibility:s||h?"visible":"hidden"}})})]}))};function se(t){var a=t.columns,i=t.data,n=t.onAdd,r=t.onDelete,s=Z.useMemo(function(){return{minWidth:100,width:150,maxWidth:400}},[]),v=(0,L.useTable)({columns:a,data:i,defaultColumn:s},L.useBlockLayout),d=v.getTableProps,l=v.getTableBodyProps,h=v.headerGroups,o=v.rows,u=v.prepareRow;return(0,e.jsxs)("div",(0,C.Z)((0,C.Z)({},d()),{},{className:"table",children:[(0,e.jsx)("div",{children:h.map(function(x){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},x.getHeaderGroupProps()),{},{className:"tr",children:x.headers.map(function(m){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},m.getHeaderProps()),{},{className:"th",children:m.render("Header")}))})}))})}),(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},l()),{},{children:o.map(function(x,m){return u(x),(0,Z.createElement)(he,(0,C.Z)((0,C.Z)({},x),{},{key:m,i:m,onDelete:r?function(){return r(m)}:void 0}))})})),n&&(0,e.jsx)("div",{className:"footer",onClick:n,children:"+ \u7EE7\u7EED\u586B\u5199"})]}))}function fe(t){var a=t.schema,i=t.onChange,n=t.value||[{},{}],r=a.children,s=r===void 0?[]:r,v=(0,Z.useMemo)(function(){return s.map(function(d){var l;return{Header:d.title,width:(l=d.attribute)===null||l===void 0?void 0:l.width,accessor:d.id,Cell:function(o){var u,x=o.value,m=o.row,f=o.data;if(((u=d.attribute)===null||u===void 0?void 0:u.dataType)==="select"){var p;return(0,e.jsx)(G.Z,{placeholder:"\u8BF7\u9009\u62E9",value:x,style:{minWidth:80},onChange:function(y){f[m.index][d.id]=y},options:((p=d.dataSource)===null||p===void 0?void 0:p.map(function(j){return{label:j.label,value:j.value}}))||[]})}else return(0,e.jsx)(Ae.Z,{value:x,onChange:function(y){f[m.index][d.id]=y.target.value,i((0,B.Z)(f))}})}}})},[]);return(0,e.jsx)("div",{className:"table-container",children:(0,e.jsx)(se,{columns:v,data:n,onAdd:function(){n.push({}),i((0,B.Z)(n))},onDelete:function(l){n.splice(l,1),i((0,B.Z)(n))}})})}var me=function(a){var i=a.schema,n=a.value||[{},{}],r=i.children,s=r===void 0?[]:r,v=(0,Z.useMemo)(function(){return s.map(function(d){var l;return{Header:d.title,width:(l=d.attribute)===null||l===void 0?void 0:l.width,accessor:d.id,Cell:function(o){var u,x=o.value,m=o.row,f=o.data;if(((u=d.attribute)===null||u===void 0?void 0:u.dataType)==="select"){var p,j,y=((p=d.dataSource)===null||p===void 0||(j=p.find(function(M){return M.value===x}))===null||j===void 0?void 0:j.label)||"";return(0,e.jsx)("span",{children:y})}else return(0,e.jsx)("span",{children:x})}}})},[]);return(0,e.jsx)("div",{className:"preview table-container",style:{flexDirection:"row"},children:(0,e.jsx)(se,{columns:v,data:n})})};fe.Preview=me,(0,S.RM)("MatrixAuto",fe,"antd");var Ue=c(93224);function st(t){var a=t.columns,i=t.data,n=Z.useMemo(function(){return{minWidth:100,width:150,maxWidth:400}},[]),r=(0,L.useTable)({columns:a,data:i,defaultColumn:n},L.useBlockLayout),s=r.getTableProps,v=r.getTableBodyProps,d=r.headerGroups,l=r.rows,h=r.prepareRow;return(0,e.jsxs)("div",(0,C.Z)((0,C.Z)({},s()),{},{className:"table",children:[(0,e.jsx)("div",{children:d.map(function(o){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},o.getHeaderGroupProps()),{},{className:"tr",children:o.headers.map(function(u){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},u.getHeaderProps()),{},{className:"th",children:u.render("Header")}))})}))})}),(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},v()),{},{children:l.map(function(o){return h(o),(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},o.getRowProps()),{},{className:"tr",children:o.cells.map(function(u){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},u.getCellProps()),{},{className:"td","data-id":"".concat(o.original.rowId,"-").concat(u.column.id),children:u.render("Cell")}))})}))})}))]}))}function Je(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=s===void 0?[]:s,d=a.row,l=d===void 0?[]:d,h=(0,Z.useMemo)(function(){var u,x=v.map(function(m){var f;return{Header:m.title,width:(f=m.attribute)===null||f===void 0?void 0:f.width,accessor:m.id,Cell:function(j){var y=j.value,M=j.row,R=j.data;return(0,e.jsx)(He,{value:y,onChange:function(D){var J={};R.forEach(function(ne,Se){var Ze=ne.title,Me=ne.rowId,ze=(0,Ue.Z)(ne,["title","rowId"]);M.index===Se&&(ze[m.id]=D),J[Me]=ze}),i(J)}})}}});return x.splice(0,0,{Header:(0,e.jsx)(e.Fragment,{}),width:((u=a.attribute)===null||u===void 0?void 0:u.width)||150,accessor:"title"}),x},[]),o=l.map(function(u,x){var m=u.id,f=r[m]||{};return(0,C.Z)({title:u.title,rowId:m},f)});return(0,e.jsx)("div",{className:"table-container",children:(0,e.jsx)(st,{columns:h,data:o})})}var Tt=function(a){var i=a.schema,n=a.value,r=n===void 0?{}:n,s=i.children,v=s===void 0?[]:s,d=i.row,l=d===void 0?[]:d,h=(0,Z.useMemo)(function(){var u,x=v.map(function(m){var f;return{Header:m.title,width:(f=m.attribute)===null||f===void 0?void 0:f.width,accessor:m.id,Cell:function(j){var y=j.value;return(0,e.jsx)("span",{children:y})}}});return x.splice(0,0,{Header:(0,e.jsx)(e.Fragment,{}),width:(u=i.attribute)===null||u===void 0?void 0:u.width,accessor:"title"}),x},[]),o=l.map(function(u,x){var m=u.id,f=r[m]||{};return(0,C.Z)({title:u.title,rowId:m},f)});return(0,e.jsx)("div",{className:"preview table-container",style:{flexDirection:"row"},children:(0,e.jsx)(st,{columns:h,data:o})})};Je.Preview=Tt,(0,S.RM)("MatrixFillBlank",Je,"antd");var Na=c(88983),qe=c(47933);function mt(t){var a=t.columns,i=t.data,n=Z.useMemo(function(){return{minWidth:100,width:150,maxWidth:400}},[]),r=(0,L.useTable)({columns:a,data:i,defaultColumn:n},L.useBlockLayout),s=r.getTableProps,v=r.getTableBodyProps,d=r.headerGroups,l=r.rows,h=r.prepareRow;return(0,e.jsxs)("div",(0,C.Z)((0,C.Z)({},s()),{},{className:"table",children:[(0,e.jsx)("div",{children:d.map(function(o){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},o.getHeaderGroupProps()),{},{className:"tr",children:o.headers.map(function(u){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},u.getHeaderProps()),{},{className:"th",children:u.render("Header")}))})}))})}),(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},v()),{},{children:l.map(function(o){return h(o),(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},o.getRowProps()),{},{className:"tr",children:o.cells.map(function(u){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},u.getCellProps()),{},{className:"td",children:u.render("Cell")}))})}))})}))]}))}function xt(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=s===void 0?[]:s,d=a.row,l=d===void 0?[]:d,h=(0,Z.useMemo)(function(){var u,x=v.map(function(m){var f;return{Header:m.title,width:(f=m.attribute)===null||f===void 0?void 0:f.width,accessor:m.id,Cell:function(j){var y=j.value,M=j.row,R=j.data;return(0,e.jsx)("div",{onClick:function(){var D={};R.forEach(function(J,ne){var Se=J.title,Ze=J.rowId,Me=(0,Ue.Z)(J,["title","rowId"]);M.index===ne?(D[Ze]={},D[Ze][m.id]=!0):D[Ze]=Me}),i(D)},children:(0,e.jsx)(qe.ZP,{checked:!!y})})}}});return x.splice(0,0,{Header:(0,e.jsx)(e.Fragment,{}),width:((u=a.attribute)===null||u===void 0?void 0:u.width)||150,accessor:"title"}),x},[]),o=l.map(function(u,x){var m=u.id,f=r[m]||{};return(0,C.Z)({title:u.title,rowId:m},f)});return(0,e.jsx)("div",{className:"table-container",children:(0,e.jsx)(mt,{columns:h,data:o})})}var Rt=function(a){var i=a.schema,n=a.value,r=n===void 0?{}:n,s=i.children,v=s===void 0?[]:s,d=i.row,l=d===void 0?[]:d,h=(0,Z.useMemo)(function(){var u,x=v.map(function(m){var f;return{Header:m.title,width:(f=m.attribute)===null||f===void 0?void 0:f.width,accessor:m.id,Cell:function(j){var y=j.value,M=j.row,R=j.data;return y?(0,e.jsx)("div",{children:(0,e.jsx)(qe.ZP,{checked:!!y,disabled:!0})}):(0,e.jsx)(e.Fragment,{})}}});return x.splice(0,0,{Header:(0,e.jsx)(e.Fragment,{}),width:((u=i.attribute)===null||u===void 0?void 0:u.width)||150,accessor:"title"}),x},[]),o=l.map(function(u,x){var m=u.id,f=r[m]||{};return(0,C.Z)({title:u.title,rowId:m},f)});return(0,e.jsx)("div",{className:"preview table-container",style:{flexDirection:"row"},children:(0,e.jsx)(mt,{columns:h,data:o})})};xt.Preview=Rt,(0,S.RM)("MatrixRadio",xt,"antd");var Sa=c(63185),_e=c(9676);function pt(t){var a=t.columns,i=t.data,n=Z.useMemo(function(){return{minWidth:100,width:150,maxWidth:400}},[]),r=(0,L.useTable)({columns:a,data:i,defaultColumn:n},L.useBlockLayout),s=r.getTableProps,v=r.getTableBodyProps,d=r.headerGroups,l=r.rows,h=r.prepareRow;return(0,e.jsxs)("div",(0,C.Z)((0,C.Z)({},s()),{},{className:"table",children:[(0,e.jsx)("div",{children:d.map(function(o){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},o.getHeaderGroupProps()),{},{className:"tr",children:o.headers.map(function(u){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},u.getHeaderProps()),{},{className:"th",children:u.render("Header")}))})}))})}),(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},v()),{},{children:l.map(function(o){return h(o),(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},o.getRowProps()),{},{className:"tr",children:o.cells.map(function(u){return(0,e.jsx)("div",(0,C.Z)((0,C.Z)({},u.getCellProps()),{},{className:"td",children:u.render("Cell")}))})}))})}))]}))}function gt(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=s===void 0?[]:s,d=a.row,l=d===void 0?[]:d,h=(0,Z.useMemo)(function(){var u,x=v.map(function(m){var f;return{Header:m.title,width:(f=m.attribute)===null||f===void 0?void 0:f.width,accessor:m.id,Cell:function(j){var y=j.value,M=j.row,R=j.data;return(0,e.jsx)("div",{onClick:function(D){var J=!y,ne={};R.forEach(function(Se,Ze){var Me=Se.title,ze=Se.rowId,Ye=(0,Ue.Z)(Se,["title","rowId"]);M.index===Ze&&(J?Ye[m.id]=!0:delete Ye[m.id]),ne[ze]=Ye}),i(ne)},children:(0,e.jsx)(_e.Z,{checked:!!y})})}}});return x.splice(0,0,{Header:(0,e.jsx)(e.Fragment,{}),width:((u=a.attribute)===null||u===void 0?void 0:u.width)||150,accessor:"title"}),x},[]),o=l.map(function(u,x){var m=u.id,f=r[m]||{};return(0,C.Z)({title:u.title,rowId:m},f)});return(0,e.jsx)("div",{className:"table-container",children:(0,e.jsx)(pt,{columns:h,data:o})})}var zt=function(a){var i=a.schema,n=a.value,r=n===void 0?{}:n,s=i.children,v=s===void 0?[]:s,d=i.row,l=d===void 0?[]:d,h=(0,Z.useMemo)(function(){var u,x=v.map(function(m){var f;return{Header:m.title,width:(f=m.attribute)===null||f===void 0?void 0:f.width,accessor:m.id,Cell:function(j){var y=j.value,M=j.row,R=j.data;return y?(0,e.jsx)("div",{children:(0,e.jsx)(_e.Z,{checked:!!y,disabled:!0})}):(0,e.jsx)(e.Fragment,{})}}});return x.splice(0,0,{Header:(0,e.jsx)(e.Fragment,{}),width:((u=i.attribute)===null||u===void 0?void 0:u.width)||150,accessor:"title"}),x},[]),o=l.map(function(u,x){var m=u.id,f=r[m]||{};return(0,C.Z)({title:u.title,rowId:m},f)});return(0,e.jsx)("div",{className:"preview table-container",style:{flexDirection:"row"},children:(0,e.jsx)(pt,{columns:h,data:o})})};gt.Preview=zt,(0,S.RM)("MatrixCheckbox",gt,"antd");var xe=c(32059);function Ot(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=a.attribute,d=24/((v==null?void 0:v.columns)||1),l=(0,P.AK)("-body-question");function h(o,u,x){var m,f,p=(m=a.children)===null||m===void 0?void 0:m.find(function(y){return y.id===o}),j=p==null||(f=p.attribute)===null||f===void 0?void 0:f.dataType;u?r[o]=j?x:!0:delete r[o],i((0,C.Z)({},r))}return(0,Z.useEffect)(function(){s==null||s.forEach(function(o){var u;(u=o.attribute)!==null&&u!==void 0&&u.defaultChecked&&Object.keys(r).length===0&&i((0,xe.Z)({},o.id,!0))})},[]),(0,e.jsx)("div",{children:(0,e.jsx)(w.Z,{children:s==null?void 0:s.map(function(o){var u,x,m=o.title,f=o.id,p=(u=o.attribute)===null||u===void 0?void 0:u.dataType,j=(x=o.attribute)===null||x===void 0?void 0:x.suffix;return(0,e.jsxs)(N.Z,{span:d,className:l+"-option","data-id":f,children:[(0,e.jsx)(_e.Z,{value:f,checked:r.hasOwnProperty(f),onChange:function(M){return h(f,M.target.checked)},children:(0,e.jsx)(b.hl,{html:m})}),p&&(0,e.jsx)(He,{value:r[f],style:{maxWidth:120},type:p,onChange:function(M){return h(f,!0,M)},suffix:j&&(0,e.jsx)("span",{className:l+"-option-suffix",children:(0,e.jsx)(b.hl,{html:j})})})]},f)})})})}(0,S.RM)("Checkbox",Ot,"antd");function $t(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=s===void 0?[]:s;function d(l){var h,o=(h=a.children)===null||h===void 0?void 0:h.find(function(u){return u.id===l});o&&i((0,xe.Z)({},l,!0))}return(0,Z.useEffect)(function(){var l;(l=a.children)===null||l===void 0||l.forEach(function(h){var o,u=h.id;(o=h.attribute)!==null&&o!==void 0&&o.defaultChecked&&Object.keys(r).length===0&&i((0,xe.Z)({},u,!0))})},[]),(0,e.jsx)(w.Z,{children:(0,e.jsx)(N.Z,{span:12,children:(0,e.jsx)(G.Z,{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,onClear:function(){i(void 0)},showSearch:!0,value:Object.keys(r)[0],filterOption:function(h,o){return(o==null?void 0:o.label).toLowerCase().indexOf(h.toLowerCase())!==-1},onChange:d,style:{width:260},options:v.map(function(l){return{label:l.title,value:l.id}})})})})}(0,S.RM)("Select",$t,"antd");var Ht=qe.ZP.Group;function Lt(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=a.attribute,d=24/((v==null?void 0:v.columns)||1),l=(0,P.AK)("-body-question");function h(u){var x,m=u.target.value,f=(x=a.children)===null||x===void 0?void 0:x.find(function(M){return M.id===m});if(f){var p=f.id,j=f.attribute,y=j==null?void 0:j.dataType;i((0,xe.Z)({},u.target.value,y?r[p]:!0))}}function o(u,x){i((0,xe.Z)({},u,x))}return(0,Z.useEffect)(function(){var u;(u=a.children)===null||u===void 0||u.forEach(function(x){var m,f=x.id,p=x.attribute,j=p==null?void 0:p.dataType;(m=x.attribute)!==null&&m!==void 0&&m.defaultChecked&&Object.keys(r).length===0&&i((0,xe.Z)({},f,j?r[f]:!0))})},[]),(0,e.jsx)("div",{children:(0,e.jsx)(Ht,{onChange:h,value:Object.keys(r)[0],style:{width:"100%"},children:(0,e.jsx)(w.Z,{children:s==null?void 0:s.map(function(u){var x,m,f=u.title,p=u.id,j=(x=u.attribute)===null||x===void 0?void 0:x.dataType,y=(m=u.attribute)===null||m===void 0?void 0:m.suffix;return(0,e.jsxs)(N.Z,{span:d,className:l+"-option","data-id":p,children:[(0,e.jsx)(qe.ZP,{value:p,className:"radio-item",children:(0,e.jsx)(b.hl,{html:f})}),j&&(0,e.jsx)(He,{value:r[p],type:j,style:{maxWidth:120},onChange:function(R){return o(p,R)},suffix:y&&(0,e.jsx)("span",{className:l+"-option-suffix",children:(0,e.jsx)(b.hl,{html:y})})})]},p)})})})})}(0,S.RM)("Radio",Lt,"antd");var Pa=c(48736),jt=c(27049);function Ct(t){var a=(0,P.AK)("-body-question");return(0,e.jsx)("div",{className:a,children:(0,e.jsx)(jt.Z,{plain:!0})})}Ct.Preview=function(t){return(0,e.jsx)("div",{children:"hello world"})},(0,S.RM)("SplitLine",Ct,"antd");function Zt(t){var a=(0,P.AK)("-body-question");return(0,e.jsx)("div",{className:a,children:(0,e.jsx)(b.hl,{html:"".concat(t.replaceTitle||t.schema.title||"")})})}Zt.Preview=function(t){return(0,e.jsx)("div",{children:"hello world"})},(0,S.RM)("Remark",Zt,"antd");var wa=c(34792),Wt=c(48086),Va=c(43185),yt=c(94412),Ut=c(43347),Yt=yt.Z.Dragger;function bt(t){var a=t.schema,i=t.onChange,n=t.value,r=t.readOnly,s=a.children,v=(0,P.Al)(),d=(0,Z.useState)(),l=(0,z.Z)(d,2),h=l[0],o=l[1];(0,Z.useEffect)(function(){var m=a.children[0].id,f=n&&n[m]||[];h==null&&f.length>0&&I.hi.loadFiles({ids:f}).then(function(p){o(p==null?void 0:p.map(function(j){return{name:j.originalName,uid:j.id,status:"done"}}))})},[n]);var u=function(){var m=(0,k.Z)(g().mark(function f(p){var j,y,M,R;return g().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:j=p.onSuccess,y=p.onError,M=p.file,R=p.onProgress,v.onUpload&&v.onUpload(M,function(J){R&&R({percent:J.loaded/J.total*100})}).then(function(J){if(J.success&&j&&j(J.data),!J.success&&y){var ne=new Error("Some error");y({event:ne})}});case 2:case"end":return D.stop()}},f)}));return function(p){return m.apply(this,arguments)}}(),x=function(f,p){if(o(f.fileList),(f.file.status==="removed"||f.file.status==="done")&&!f.fileList.find(function(y){return y.status!=="done"})){var j=f.fileList.filter(function(y){return y.status==="done"}).map(function(y){var M;return((M=y.response)===null||M===void 0?void 0:M.id)||y.uid});j.length===0?i(void 0):i((0,xe.Z)({},p,j))}};return(0,e.jsx)("div",{children:s==null?void 0:s.map(function(m){var f=m.id,p=m.attribute,j=[];if(p){var y=p.maxFileCount,M=p.maxFileSize,R=p.fileAccept;y&&j.push("\u6700\u591A\u4E0A\u4F20".concat(y,"\u4E2A")),M&&j.push("\u9650\u5236\u6BCF\u4E2A\u6587\u4EF6".concat(M,"M\u4EE5\u5185")),R&&j.push("\u4EC5\u652F\u6301\u6587\u4EF6\u7C7B\u578B\uFF1A".concat(R))}return(0,e.jsxs)(Yt,{multiple:!0,disabled:r,maxCount:(p==null?void 0:p.maxFileCount)||20,accept:p==null?void 0:p.fileAccept,beforeUpload:function(D){return p!=null&&p.maxFileSize&&D.size>p.maxFileSize*1024*1024?(Wt.default.error("\u6700\u5927\u53EA\u80FD\u4E0A\u4F20 ".concat(p.maxFileSize,"M \u5927\u5C0F\u7684\u6587\u4EF6")),yt.Z.LIST_IGNORE):!0},customRequest:u,onChange:function(D){return x(D,f)},fileList:h,children:[(0,e.jsx)("p",{className:"ant-upload-drag-icon",children:(0,e.jsx)(Ut.Z,{})}),(0,e.jsx)("p",{className:"ant-upload-text",children:"\u9009\u62E9\u6216\u62D6\u62FD\u4E0A\u4F20\u6587\u4EF6"}),(0,e.jsx)("p",{className:"ant-upload-hint",children:j.join(",")})]},f)})})}var Qt=function(a){var i=(0,Z.useState)(),n=(0,z.Z)(i,2),r=n[0],s=n[1];return(0,Z.useEffect)(function(){var v=Object.values(a.value).reduce(function(d,l){return d.push.apply(d,(0,B.Z)(l)),d},[]);I.hi.loadFiles({ids:v}).then(function(d){s(d)})},[]),(0,e.jsx)("div",{className:"preview",children:r==null?void 0:r.map(function(v){return(0,e.jsx)("a",{onClick:function(){return I.hi.download("/api/files/".concat(v.id))},children:v.originalName},v.id)})})};bt.Preview=Qt,(0,S.RM)("Upload",bt,"antd");var Ba=c(34669),Kt=c(61873);function Ft(t){var a=t.schema,i=t.onChange,n=a.children,r=(0,P.Al)(),s=(0,Z.useState)(0),v=(0,z.Z)(s,2),d=v[0],l=v[1];function h(o,u){var x="signature-".concat(u,"-").concat((0,U.kb)(6),".png");if(!r.onUpload){i((0,xe.Z)({},u,[x]));return}fetch(o).then(function(m){return m.blob()}).then(function(m){var f=new File([m],x,{type:"image/png"});r.onUpload(f,function(p){l(p.loaded/p.total*100)}).then(function(p){p.success&&p.data.id&&i((0,xe.Z)({},u,[p.data.id]))})})}return(0,e.jsx)("div",{children:n==null?void 0:n.map(function(o){var u=o.id,x=o.title;return(0,e.jsxs)(w.Z,{gutter:[10,0],"data-id":u,children:[x&&(0,e.jsx)(N.Z,{span:24},o.id),(0,e.jsxs)(N.Z,{span:24,children:[(0,e.jsx)(E,{onChange:function(f){return h(f,u)}}),d>0&&d!==100&&(0,e.jsx)(Kt.Z,{percent:d,size:"small",showInfo:!1})]})]},u)})})}Ft.Preview=function(t){var a=t.value,i;return a&&(i=Object.values(a)[0][0]),(0,e.jsx)("div",{className:"preview",children:(0,e.jsx)("img",{src:"/api/files/".concat(i)})})},(0,S.RM)("Signature",Ft,"antd");var Da=c(96433),lt=c(2864),Mt=c(41687),Gt=c(46870),Et=c(18613),Xt=c(57206),kt={1:(0,e.jsx)(Mt.Z,{}),2:(0,e.jsx)(Mt.Z,{}),3:(0,e.jsx)(Gt.Z,{}),4:(0,e.jsx)(Et.Z,{}),5:(0,e.jsx)(Et.Z,{})};function Jt(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=s===void 0?[]:s;function d(h,o){i((0,xe.Z)({},h,o))}var l=function(o){var u=o.attribute||{},x=o.id,m=u.scope,f=m===void 0?"[1,5]":m,p=u.scoreStyle,j=f.replace("[","").replace("]","").split(","),y=(0,z.Z)(j,2),M=y[0],R=y[1];return p==="heart"?(0,e.jsx)(lt.Z,{defaultValue:parseInt(M),character:(0,e.jsx)(Xt.Z,{}),style:{color:"#ea7463"},count:parseInt(R),onChange:function(D){return d(x,D)}},x):p==="smile"?(0,e.jsx)(lt.Z,{defaultValue:parseInt(M),character:function(D){var J=D.index;return kt[J+1]},count:parseInt(R),onChange:function(D){return d(x,D)}},x):(0,e.jsx)(lt.Z,{defaultValue:parseInt(M),count:parseInt(R),onChange:function(D){return d(x,D)}},x)};return(0,e.jsx)(w.Z,{children:v.map(function(h){return l(h)})})}(0,S.RM)("Score",Jt,"antd");var Ia=c(22385),qt=c(31097),Nt=c(55686),_t=G.Z.Option;function St(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=s===void 0?[]:s,d=v[0].id,l=(0,Z.useState)([]),h=(0,z.Z)(l,2),o=h[0],u=h[1];function x(p){d&&i((0,xe.Z)({},d,p))}var m=(0,I.zE)(function(p){I.hi.userSelect({name:p,selected:r[d]||[]}).then(function(j){j.success&&u(j.data)})},5),f=function(j){x(j?o.map(function(y){return y.userId}):void 0)};return(0,Z.useEffect)(function(){var p;m(""),(p=a.children)===null||p===void 0||p.forEach(function(j){var y,M=j.id;(y=j.attribute)!==null&&y!==void 0&&y.defaultChecked&&Object.keys(r).length===0&&i((0,xe.Z)({},M,!0))})},[]),(0,e.jsx)(w.Z,{children:(0,e.jsx)(N.Z,{span:12,children:(0,e.jsx)(G.Z,{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,mode:"multiple",onClear:function(){i(void 0)},value:r[d]||[],onSearch:m,showSearch:!0,onChange:x,filterOption:!1,dropdownRender:function(j){return(0,e.jsxs)("div",{children:[j,(0,e.jsx)(jt.Z,{style:{margin:"4px 0"}}),(0,e.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",paddingLeft:10},children:(0,e.jsx)(_e.Z,{onChange:function(M){f(M.target.checked)},children:"\u5168\u9009"})})]})},children:o.map(function(p){return(0,e.jsx)(_t,{value:p.userId,label:p.name,children:(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{role:"img",style:{marginRight:10},children:(0,e.jsx)(Nt.Z,{user:p,size:20})}),p.name," ",p.deptName&&"(".concat(p.deptName,")")]})},p.userId)})})})})}var ea=function(a){var i=a.schema,n=a.value,r=n===void 0?{}:n,s=i.children,v=s===void 0?[]:s,d=v[0].id,l=(0,Z.useState)([]),h=(0,z.Z)(l,2),o=h[0],u=h[1];return(0,Z.useEffect)(function(){I.hi.userSelect({selected:r[d]||[],name:"^_^"}).then(function(x){x.success&&u(x.data)})},[r]),(0,e.jsx)("div",{className:"preview",children:(0,e.jsx)(V.Z,{children:o.map(function(x){return(0,e.jsx)(qt.Z,{title:x.name,children:(0,e.jsx)(Nt.Z,{user:x,size:24})},x.userId)})})})};St.Preview=ea,(0,S.RM)("User",St,"antd");var Aa=c(71153),ta=c(60331),Ta=c(62999),aa=c(51753),na=c(60780),ra=c.n(na);function Pt(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=s===void 0?[]:s,d=v[0].id,l=(0,Z.useState)([]),h=(0,z.Z)(l,2),o=h[0],u=h[1];function x(f){d&&((f==null?void 0:f.length)===0?i(void 0):i((0,xe.Z)({},d,f==null?void 0:f.map(function(p){return p.value}))))}var m=(0,Z.useMemo)(function(){return ra()(o.map(function(f){return{title:f.name,key:f.id,value:f.id,parentId:f.parentId}}),{parentProperty:"parentId",customID:"key"})},[o]);return(0,Z.useEffect)(function(){I.hi.deptSelect({}).then(function(f){f.success&&u(f.data)})},[]),(0,e.jsx)(w.Z,{children:(0,e.jsx)(N.Z,{span:12,children:(0,e.jsx)(aa.Z,{style:{width:"100%"},treeCheckable:!0,value:(r[d]||[]).map(function(f){return{value:f}}),treeCheckStrictly:!0,showCheckedStrategy:"SHOW_ALL",dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:m,placeholder:"\u8BF7\u9009\u62E9",treeDefaultExpandAll:!0,onChange:x,showSearch:!1})})})}var ia=function(a){var i=a.schema,n=a.value,r=n===void 0?{}:n,s=i.children,v=s===void 0?[]:s,d=v[0].id,l=(0,Z.useState)([]),h=(0,z.Z)(l,2),o=h[0],u=h[1];return(0,Z.useEffect)(function(){I.hi.deptSelect({selected:r[d]||[],name:"^_^"}).then(function(x){x.success&&u(x.data)})},[r]),(0,e.jsx)("div",{className:"preview",children:(0,e.jsx)(V.Z,{children:o.map(function(x){return(0,e.jsx)(ta.Z,{color:"blue",children:x.name},x.id)})})})};Pt.Preview=ia,(0,S.RM)("Dept",Pt,"antd");function ua(t){for(var a=[],i=2;i<t+2;i++)a.push(i/(t+2));return a}function sa(t){var a=t.schema,i=t.onChange,n=t.value,r=n===void 0?{}:n,s=a.children,v=s===void 0?[]:s,d=v[0].id,l=(0,Z.useState)(function(){return r[d]||-1}),h=(0,z.Z)(l,2),o=h[0],u=h[1];function x(f){i((0,xe.Z)({},d,f))}(0,Z.useEffect)(function(){Object.keys(r).length>0&&u(r[d])},[r,d]);var m=function(p){var j=r[d],y=ua(o||0);return(0,e.jsxs)("div",{className:"nps",onMouseLeave:function(){u(j)},children:[(0,e.jsx)("div",{className:"nps-container",children:[0,1,2,3,4,5,6,7,8,9,10].map(function(M){var R={background:"#2672ff",opacity:y[M]};return(0,e.jsx)("div",{className:"nps-item",style:o>=M?R:void 0,onMouseOver:function(){u(M)},onClick:function(){return x(M)},children:M},M)})}),(0,e.jsxs)("div",{className:"nps-tip",children:[(0,e.jsx)("div",{children:"0\uFF1A\u4E0D\u53EF\u80FD"}),(0,e.jsx)("div",{children:"10\uFF1A\u6781\u6709\u53EF\u80FD"})]})]},p.id)};return(0,e.jsx)(w.Z,{children:v.map(function(f){return m(f)})})}(0,S.RM)("Nps",sa,"antd");var wt=c(80705),la=c(99439),oa=c(66607),da=c.n(oa);ve().extend(da()),Number.prototype.isBetween=function(a,i,n){var r=this,s=parseFloat(a);isNaN(s)&&(s=-99999);var v=parseFloat(i);return isNaN(v)&&(v=99999),!(r>v||r<s||n[0]==="("&&s==r||n[1]===")"&&v==r)};function ca(t,a){var i=et(t),n=Number(a);return n.isBetween(t.substring(1,t.indexOf(",")),t.substring(t.indexOf(",")+1,t.length-1),i)}function va(t,a){if(!a)return!0;var i=ve()(a),n=Le(t.substring(1,t.indexOf(",")),!0),r=Le(t.substring(t.indexOf(",")+1,t.length-1),!1),s=et(t);return i.isBetween(n,r,null,s)}function ha(t,a){if(!a)return!0;var i=ve()(a),n=Le(t.substring(1,t.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),r=Le(t.substring(t.indexOf(",")+1,t.length-1),!1,"YYYY-MM-DD hh:mm:ss"),s=et(t);return i.isBetween(n,r,null,s)}function fa(t,a){if(!a)return!0;var i="2018-02-08 ",n=ve()(i+a),r=Le(i+t.substring(1,t.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),s=Le(i+t.substring(t.indexOf(",")+1,t.length-1),!1,"YYYY-MM-DD hh:mm:ss"),v=et(t);return n.isBetween(r,s,null,v)}function Le(t,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY-MM-DD",n,r=ve()(ve()().format(i));return t==="undefined"?a?n=ve()("1900-01-01"):n=ve()("2999-01-01"):t.indexOf("T")!==-1?t==="T"?n=r:/T-\d+/.test(t)?n=r.subtract(parseInt(t.match(/\d+/)[0]),"days"):/T\+\d+/.test(t)&&(n=r.add(parseInt(t.match(/\d+/)[0]),"days")):/\d+-\d+-\d+/.test(t)&&(n=ve()(t)),n}function et(t){var a=t[0],i=t[t.length-1],n="".concat(a).concat(i);return n}function ma(t,a){var i,n=a.id,r=[];if((i=a.parent)!==null&&i!==void 0&&i.type.startsWith("Matrix"))if(a.parent.type==="MatrixAuto"&&Array.isArray(t))t.forEach(function(l,h){r.push(["".concat(h,"-").concat(n),l[a.id]])});else{var s;(s=a.parent.row)===null||s===void 0||s.forEach(function(l){t[l.id]?r.push(["".concat(l.id,"-").concat(n),t[l.id][a.id]]):r.push(["".concat(l.id,"-").concat(n),void 0])})}else{var v,d=(v=a.parent)===null||v===void 0?void 0:v.type;d==="Radio"||d==="Checkbox"?Object.keys(t).includes(a.id)&&r.push([a.id,t[a.id]]):r.push([a.id,t[a.id]])}return r}function Vt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function xa(t){return!!(Vt(t)&&Number.isInteger(parseFloat(t)))}function Te(t){var a=t.errMsg,i=t.schema,n=t.regEx,r=t.value;return i?Be({schema:i,value:r,errMsg:a,isValid:function(v){return v?n.test("".concat(v)):!0}}):null}function Be(t){var a=t.value,i=t.schema,n=t.isValid,r=t.errMsg;return!i||a==null?null:ma(a,i).map(function(s){var v=(0,z.Z)(s,2),d=v[0],l=v[1];return n(l)?null:"".concat(d,"^").concat(r)}).filter(function(s){return s})[0]}(0,la.au)({required:function(a,i){var n=i.schema;return i&&i.required===!1?null:(0,wt.xb)(a)||typeof a=="object"&&Object.keys(a).length===0?"\u8FD9\u9053\u9898\u672A\u56DE\u7B54":Be({schema:n,value:a,errMsg:"\u8FD9\u4E2A\u9009\u9879\u672A\u56DE\u7B54",isValid:function(s){return!(0,wt.xb)(s)}})},answerLimit:function(a,i){var n,r=i.schema,s=r==null||(n=r.attribute)===null||n===void 0?void 0:n.answerLimit;if(!s)return null;var v=s.slice(1,s.length-1).split(","),d=parseInt(v[0]||"0"),l=parseInt(v[1]||"0"),h=Object.keys(a||{}).length;return a&&(h<d&&d!==0||h>l&&l!==0)?d===0?"\u6700\u591A\u9009\u62E9".concat(l,"\u9879"):l===0?"\u6700\u5C11\u9009\u62E9".concat(d,"\u9879"):"\u6700\u5C11\u9009\u62E9".concat(d,"\u9879,\u6700\u591A\u9009\u62E9").concat(l,"\u9879"):null},number:function(a,i){var n,r=i.schema,s=r==null||(n=r.attribute)===null||n===void 0?void 0:n.numericScale;if(!r)return null;var v="\u8BF7\u8F93\u5165\u6570\u5B57";return s===0?v="\u8BF7\u8F93\u5165\u6574\u6570":s&&s>0&&(v="\u8BF7\u4FDD\u7559".concat(s,"\u4F4D\u5C0F\u6570")),Be({errMsg:v,schema:r,value:a,isValid:function(l){return!(l!==void 0&&(!Vt(l)||s===0&&xa(l)||s!==void 0&&s>0&&("".concat(l).split(".")[1]||"").length>s))}})},date:function(a,i){var n=i.schema;return Te({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F",schema:n,regEx:/^(?:(?:1[6-9]|[2-9][0-9])[0-9]{2}([-/.]?)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:(?:1[6-9]|[2-9][0-9])(?:0[48]|[2468][048]|[13579][26])|(?:16|[2468][048]|[3579][26])00)([-/.]?)0?2\2(?:29))(\s+([01][0-9]:|2[0-3]:)?[0-5][0-9]:[0-5][0-9])?$/,value:a})},dateTime:function(a,i){var n=i.schema;return Te({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F\u65F6\u95F4",schema:n,regEx:/^\d{4}[-]([0][1-9]|(1[0-2]))[-]([1-9]|([012]\d)|(3[01]))\s(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:a})},time:function(a,i){var n=i.schema;return Te({errMsg:"\u8BF7\u8F93\u5165\u65F6\u95F4",schema:n,regEx:/^(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:a})},mobile:function(a,i){var n=i.schema;return Te({errMsg:"\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E",schema:n,regEx:/^1([358][0-9]|4[579]|66|7[01235678]|9[189])[0-9]{8}$/,value:a})},decimal:function(a,i){var n=i.schema;return Te({errMsg:"\u8BF7\u8F93\u5165\u6570\u5B57",schema:n,regEx:/^[+-]?\d+(\.\d+)?$/,value:a})},email:function(a,i){var n=i.schema;return Te({errMsg:"\u90AE\u4EF6\u683C\u5F0F\u4E0D\u6B63\u786E",schema:n,regEx:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,value:a})},idCard:function(a,i){var n=i.schema;return Be({errMsg:"\u8EAB\u4EFD\u8BC1\u683C\u5F0F\u4E0D\u6B63\u786E",schema:n,value:a,isValid:function(s){return!(s&&!ga("".concat(s)))}})},chinese:function(a,i){var n=i.schema;return Te({errMsg:"\u8BF7\u8F93\u5165\u6C49\u5B57",schema:n,regEx:/^[\u4e00-\u9fa5]+$/,value:a})},alphabet:function(a,i){var n=i.schema;return Te({errMsg:"\u8BF7\u8F93\u5165\u5B57\u6BCD",schema:n,regEx:/^[a-zA-Z]+$/,value:a})},textLimit:function(a,i){var n,r=i.schema,s=r==null||(n=r.attribute)===null||n===void 0?void 0:n.textLimit;if(!s)return null;var v=s.slice(1,s.length-1).split(","),d=parseInt(v[0]||"0"),l=parseInt(v[1]||"0"),h=Be({errMsg:"\u8BF7\u8F93\u5165".concat(d,"~").concat(l,"\u4E2A\u5B57"),schema:r,value:a,isValid:function(u){return!(u&&("".concat(u).length<d||"".concat(u).length>l))}});return h},scope:function(a,i){var n,r,s=i.schema,v=s==null||(n=s.attribute)===null||n===void 0?void 0:n.scope,d=s==null||(r=s.attribute)===null||r===void 0?void 0:r.dataType;if(v&&d){if(d==="number")return Be({errMsg:"\u6570\u503C\u8303\u56F4\u4E0D\u6B63\u786E ".concat(v),schema:s,value:a,isValid:function(h){return!(h&&!ca(v,"".concat(h)))}});if(d==="date")return Be({errMsg:"\u65E5\u671F\u8303\u56F4\u4E0D\u6B63\u786E ".concat(v),schema:s,value:a,isValid:function(h){return!(h&&!va(v,"".concat(h)))}});if(d==="dateTime")return Be({errMsg:"\u65E5\u671F\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(v),schema:s,value:a,isValid:function(h){return!(h&&!ha(v,"".concat(h)))}});if(d==="time")return Be({errMsg:"\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(v),schema:s,value:a,isValid:function(h){return!(h&&!fa(v,"".concat(h)))}})}return null}});function pa(t){var a=t.substring(6,8),i=t.substring(8,10),n=t.substring(10,12),r=new Date(parseFloat(a),parseFloat(i)-1,parseFloat(n));return!(r.getFullYear()-1900!==parseFloat(a)||r.getMonth()!==parseFloat(i)-1||r.getDate()!==parseFloat(n))}function ga(t){var a=t;if(t.length!==15&&t.length!==18)return!1;if(t.length===15)return pa(a);var i={11:"\u5317\u4EAC",12:"\u5929\u6D25",13:"\u6CB3\u5317",14:"\u5C71\u897F",15:"\u5185\u8499\u53E4",21:"\u8FBD\u5B81",22:"\u5409\u6797",23:"\u9ED1\u9F99\u6C5F ",31:"\u4E0A\u6D77",32:"\u6C5F\u82CF",33:"\u6D59\u6C5F",34:"\u5B89\u5FBD",35:"\u798F\u5EFA",36:"\u6C5F\u897F",37:"\u5C71\u4E1C",41:"\u6CB3\u5357",42:"\u6E56\u5317 ",43:"\u6E56\u5357",44:"\u5E7F\u4E1C",45:"\u5E7F\u897F",46:"\u6D77\u5357",50:"\u91CD\u5E86",51:"\u56DB\u5DDD",52:"\u8D35\u5DDE",53:"\u4E91\u5357",54:"\u897F\u85CF ",61:"\u9655\u897F",62:"\u7518\u8083",63:"\u9752\u6D77",64:"\u5B81\u590F",65:"\u65B0\u7586",71:"\u53F0\u6E7E",81:"\u9999\u6E2F",82:"\u6FB3\u95E8",91:"\u56FD\u5916 "},n=!0;if(!a||!/^([1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx])|([1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2})$/i.test(a))n=!1;else if(!i[a.substr(0,2)])n=!1;else if(a.length>18)n=!1;else if(a.length===18){for(var r=a.split(""),s=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],v=[1,0,"X",9,8,7,6,5,4,3,2],d=0,l=0,h=0,o=0;o<17;o+=1)l=parseInt(r[o],10),h=s[o],d+=l*h;var u=r[17].toUpperCase()==="X"?"X":Number(r[17]);v[d%11]!==u&&(n=!1)}return n}function ja(t,a){}var Ca=c(69610),Za=c(54941),ya=function(){function t(){(0,Ca.Z)(this,t),this.progress=0,this.makeObservable()}return(0,Za.Z)(t,[{key:"makeObservable",value:function(){(0,ce.Ou)(this,{progress:ce.LO.ref,changeProgress:ce.aD})}},{key:"changeProgress",value:function(i){this.progress=i}}]),t}(),Bt=(0,Z.forwardRef)(function(t,a){var i=t.theme,n=i===void 0?S.uH:i,r=t.footerVisible,s=r===void 0?!0:r,v=t.headerVisible,d=v===void 0?!0:v,l=t.initialValues,h=t.readOnly,o=t.loading,u=t.onChange,x=t.questionNumber,m=x===void 0?!0:x,f=t.onUpload,p=t.paginationVisible,j=p===void 0?!0:p,y=t.fieldPermission,M=t.progressBar,R=M===void 0?!1:M,te=(0,Z.useMemo)(function(){return new ya},[]),D=(0,Z.useMemo)(function(){return(0,U.Gt)(t.schema)},[t.schema]),J=(0,Z.useMemo)(function(){var _={},X=function re(O){_[O.id]=O.title,O.children&&O.children.forEach(re)};return X(D),document.title=D.title,_},[D]),ne=(0,Z.useMemo)(function(){return j?(0,U._T)(t.schema):[t.schema.children]},[t.schema,j]),Se=(0,Z.useState)(function(){return(0,U.dr)(t.schema)}),Ze=(0,z.Z)(Se,2),Me=Ze[0],ze=Ze[1],Ye=(0,Z.useMemo)(function(){return(0,U.R6)(t.schema)},[t.schema]),pe=(0,Z.useMemo)(function(){return(0,ee.Np)({initialValues:l,readOnly:h,validateFirst:!0,effects:function(X){(0,ee.dQ)(function(){if(ne.map(function(ge,W){return W}).slice(1).forEach(function(ge){return Qe(ge,"hidden")}),y){var re=[],O=[];Object.entries(y).forEach(function(ge){var W=(0,z.Z)(ge,2),tt=W[0],It=W[1];It===0?re.push(tt):It===1&&O.push(tt)}),re.length>0&&pe.setFieldState("*(".concat(re.join(","),")"),function(ge){return ge.display="none"}),O.length>0&&pe.setFieldState("*(".concat(O.join(","),")"),function(ge){return ge.pattern="readPretty"})}var Ee=0,ye=0;pe.query("*").forEach(function(ge){ge.displayName==="Field"&&!ge.address.toString().startsWith("_")&&(ge.display==="visible"&&Ee++,(0,U.xb)(ge.value)||ye++)}),u&&(te.changeProgress(ye/Ee),u(l,ye/Ee))}),(0,ee.pO)(function(re){var O=0,Ee=0;pe.query("*").forEach(function(ye){ye.displayName==="Field"&&!ye.address.toString().startsWith("_")&&(ye.display==="visible"&&O++,(0,U.xb)(ye.value)||Ee++)}),u&&(te.changeProgress(Ee/O),u((0,ce.ZN)(re.values),Ee/O))}),ja(D,X)}})},[]),Fa=(0,Z.useCallback)(function(_){return pe.validate("*(".concat(ne[_].map(function(X){return X.id}).join(","),")"))},[]),Qe=(0,Z.useCallback)(function(_){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"visible";pe.query("*(".concat(ne[_].map(function(re){return re.id}).join(","),")")).forEach(function(re){re.display=X})},[]),Ma=(0,Z.useCallback)(function(){ze(function(_){var X=_.current-1;return Qe(X,"hidden"),Qe(X-1,"visible"),(0,C.Z)((0,C.Z)({},_),{},{current:_.current-1})})},[]),Ea=(0,Z.useCallback)((0,k.Z)(g().mark(function _(){var X;return g().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return X=Me.current-1,O.prev=1,O.next=4,Fa(X);case 4:ze(function(Ee){return Qe(X,"hidden"),Qe(X+1,"visible"),(0,C.Z)((0,C.Z)({},Ee),{},{current:Me.current+1})}),O.next=9;break;case 7:O.prev=7,O.t0=O.catch(1);case 9:case"end":return O.stop()}},_,null,[[1,7]])})),[Me]),Dt=(0,Z.useCallback)((0,k.Z)(g().mark(function _(){var X,re,O,Ee,ye;return g().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:X="",W.prev=1,re=pe.query("*").map().filter(function(tt){return!(0,ee.JF)(tt)}),O=(0,Q.Z)(re),W.prev=4,O.s();case 6:if((Ee=O.n()).done){W.next=15;break}if(ye=Ee.value,!(0,ee.JF)(ye)){W.next=10;break}return W.abrupt("continue",13);case 10:return X=ye.path.toString(),W.next=13,ye.validate();case 13:W.next=6;break;case 15:W.next=20;break;case 17:W.prev=17,W.t0=W.catch(4),O.e(W.t0);case 20:return W.prev=20,O.f(),W.finish(20);case 23:return t.onSubmit&&t.onSubmit((0,ce.ZN)(pe.values)),W.abrupt("return",{values:(0,ce.ZN)(pe.values)});case 27:W.prev=27,W.t1=W.catch(1),(0,U.lA)(X,R?-25:0);case 30:case"end":return W.stop()}},_,null,[[1,27],[4,17,20,23]])})),[]);return(0,Z.useImperativeHandle)(a,function(){return{submit:function(){return Dt()},reset:function(){pe.reset()},setValues:function(X){pe.setValues(X,"overwrite")},toggleReadOnly:function(X){pe.setState(function(re){re.pattern=X?"readPretty":"editable"})},getValues:function(){return pe.values}}}),(0,e.jsx)(we.RV,{form:pe,children:(0,e.jsx)(le.ZX.Provider,{value:(0,Z.useMemo)(function(){return{theme:n,schema:D,footerVisible:s,questionNumber:m,headerVisible:d,pagination:Me,optionTypes:Ye,onNext:Ea,onPrev:Ma,onSubmit:Dt,onUpload:f,loading:o,id2title:J,progressBar:R,innerStore:te}},[Me,o,D]),children:(0,e.jsx)(b.k9,{schema:D})})})}),ba=Bt}}]);
