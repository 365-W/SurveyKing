(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1835],{34687:function(S){S.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},29791:function(S,m,e){"use strict";var C=e(24557),P=e(78874),b=e(11013),$=e(97544),x=e(85893),D=void 0==="1";m.Z=function(){return D?(0,x.jsx)($.Z,{copyright:!1,links:[{key:"Survey King",title:(0,x.jsx)(C.Z,{}),href:"https://surveyking.cn",blankTarget:!0},{key:"github",title:(0,x.jsx)(P.Z,{}),href:"https://github.com/javahuang/SurveyKing",blankTarget:!0},{key:"gitee",title:(0,x.jsx)(b.Z,{}),href:"https://gitee.com/surveyking/surveyking",blankTarget:!0}]}):(0,x.jsx)(x.Fragment,{})}},36432:function(S,m,e){"use strict";e.r(m),e.d(m,{MobileOrPC:function(){return R},default:function(){return I}});var C=e(11849),P=e(57338),b=e(25084),$=e(71194),x=e(50146),D=e(57663),g=e(71577),y=e(9715),V=e(86835),Y=e(47673),Z=e(4107),T=e(94657),c=e(51615),l=e(67294),A=e(28991),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 1156 0zm152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}}]},name:"lock",theme:"filled"},z=M,E=e(27029),q=function(a,s){return l.createElement(E.Z,(0,A.Z)((0,A.Z)({},a),{},{ref:s,icon:z}))};q.displayName="LockFilled";var te=l.forwardRef(q),ne={icon:function(a,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:s}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:s}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:a}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:a}}]}},name:"eye",theme:"twotone"},ie=ne,n=function(a,s){return l.createElement(E.Z,(0,A.Z)((0,A.Z)({},a),{},{ref:s,icon:ie}))};n.displayName="EyeTwoTone";var oe=l.forwardRef(n),ee=e(88633),le=e(80937),ue=e(19319),U=e(87998),H=e(92725),Q=e(45290),de=e(63439),K=e(3182),re=e(69610),se=e(54941),ce=e(94043),_=e.n(ce),W=e(36602),ve=e(92592),t=e(54531),j=e(42238),F=e.n(j),fe=function(){function h(a,s){var u;(0,re.Z)(this,h),this.id=void 0,this.project=void 0,this.survey=void 0,this.loading=void 0,this.verifying=!1,this.saving=!1,this.isPC=void 0,this.startTime=void 0,this.errorCode=void 0,this.errorMessage=void 0,this.progress=0,this.confirmTempAnswerType=0,this.statistics=void 0,this.answerUrl=void 0,this.answerQrCodeUrl=void 0,this.success=void 0,this.answerId=void 0,this.answerView=void 0,this.values=void 0,this.id=a,this.answerId=s,this.makeObservable(),this.loadProject(),this.startTime=new Date().getTime(),this.confirmTempAnswerType=(u=this.savedAnswer)!==null&&u!==void 0&&u.progress?1:0}return(0,se.Z)(h,[{key:"makeObservable",value:function(){(0,t.Ou)(this,{id:t.LO.ref,answerId:t.LO.ref,survey:t.LO.ref,loading:t.LO.ref,saving:t.LO.ref,verifying:t.LO.ref,project:t.LO.ref,errorCode:t.LO.ref,errorMessage:t.LO.ref,progress:t.LO.ref,confirmTempAnswerType:t.LO.ref,statistics:t.LO.ref,answerUrl:t.LO.ref,answerQrCodeUrl:t.LO.ref,success:t.LO.ref,answerView:t.LO.ref,values:t.LO.ref,passwordRequired:t.LO.computed,loginRequired:t.LO.computed,mode:t.LO.computed,tempSaveId:t.LO.computed,savedAnswer:t.LO.computed,status:t.LO.computed,setting:t.LO.computed,tempSave:t.aD,saveData:t.aD,loadProject:t.aD,verifyPassword:t.aD,changeProgress:t.aD})}},{key:"setting",get:function(){var s;return(s=this.project)===null||s===void 0?void 0:s.setting}},{key:"status",get:function(){var s;return(s=this.project)===null||s===void 0?void 0:s.status}},{key:"passwordRequired",get:function(){var s;return(s=this.project)===null||s===void 0?void 0:s.passwordRequired}},{key:"loginRequired",get:function(){var s;return(s=this.project)===null||s===void 0?void 0:s.loginRequired}},{key:"mode",get:function(){var s;return(s=this.project)===null||s===void 0?void 0:s.mode}},{key:"tempSaveId",get:function(){return"savedAnswer-"+this.id}},{key:"savedAnswer",get:function(){var s=localStorage.getItem(this.tempSaveId);return s&&JSON.parse(s)}},{key:"tempSave",value:function(s){var u=localStorage.getItem(this.tempSaveId),r;u?(r=JSON.parse(u),r.answer=s,r.progress=this.progress):r={answer:s,metaInfo:{answerInfo:{startTime:new Date().getTime()}},progress:this.progress},localStorage.setItem(this.tempSaveId,JSON.stringify(r))}},{key:"saveData",value:function(){var a=(0,K.Z)(_().mark(function u(r,f){var d=this,o,v,B,X;return _().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.saving=!0,o=new(F())().getResult(),v={answer:r,projectId:this.id,metaInfo:{answerInfo:{startTime:this.startTime,endTime:new Date().getTime()},clientInfo:{browser:o.browser.name,browserVersion:o.browser.version,deviceType:o.device.type,platform:o.os.name,platformVersion:o.os.version}},id:f},k.next=5,W.hi.post("/api/public/saveAnswer",v);case 5:B=k.sent,B.success&&(B.data.answerId?(X="".concat(window.location.origin,"/s/").concat(this.id,"/").concat(B.data.answerId),this.answerUrl=X,ve.toDataURL(X,{errorCorrectionLevel:"H",type:"image/jpeg",quality:.3,margin:5}).then(function(J){d.answerQrCodeUrl=J}).catch(function(J){console.error(J)})):B.data.examScore!==void 0,this.answerView=B.data,this.values=r),localStorage.removeItem(this.tempSaveId),this.saving=!1,this.success=!0;case 10:case"end":return k.stop()}},u,this)}));function s(u,r){return a.apply(this,arguments)}return s}()},{key:"loadStatistics",value:function(){var a=(0,K.Z)(_().mark(function u(){var r;return _().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!this.loading){d.next=2;break}return d.abrupt("return");case 2:return this.loading=!0,d.next=5,W.hi.post("/api/public/statistics",{id:this.id});case 5:r=d.sent,r.success&&(this.statistics=r.data),this.loading=!1;case 8:case"end":return d.stop()}},u,this)}));function s(){return a.apply(this,arguments)}return s}()},{key:"loadProject",value:function(){var a=(0,K.Z)(_().mark(function u(){var r;return _().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this.loading=!0,d.next=3,W.hi.post("/api/public/loadProject",{id:this.id});case 3:r=d.sent,r.success?(this.project=r.data,this.survey=r.data.survey,r.data.answerId&&(this.answerId=r.data.answerId)):this.errorMessage=r.message,this.errorCode=r.code,this.loading=!1;case 7:case"end":return d.stop()}},u,this)}));function s(){return a.apply(this,arguments)}return s}()},{key:"loadAnswer",value:function(){var a=(0,K.Z)(_().mark(function u(r){var f;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,W.hi.post("/api/public/loadAnswer",{id:r,projectId:this.id});case 2:if(f=o.sent,!f.success){o.next=7;break}return o.abrupt("return",f.data);case 7:this.errorCode=f.code,this.errorMessage=f.message;case 9:case"end":return o.stop()}},u,this)}));function s(u){return a.apply(this,arguments)}return s}()},{key:"verifyPassword",value:function(){var a=(0,K.Z)(_().mark(function u(r){var f;return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.verifying=!0,o.next=3,W.hi.post("/api/public/verifyPassword",{id:this.id,password:r});case 3:if(f=o.sent,this.verifying=!1,f.code!==200){o.next=8;break}return this.survey=f.data.survey,o.abrupt("return",!0);case 8:return o.abrupt("return",!1);case 9:case"end":return o.stop()}},u,this)}));function s(u){return a.apply(this,arguments)}return s}()},{key:"upload",value:function(){var a=(0,K.Z)(_().mark(function u(r,f){return _().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",W.hi.upload("/api/public/upload",{file:r,basePath:this.id},f));case 1:case"end":return o.stop()}},u,this)}));function s(u,r){return a.apply(this,arguments)}return s}()},{key:"changeProgress",value:function(s){this.progress=s}}]),h}(),i=e(85893),R=(0,le.Pi)(function(){var h,a=(0,c.UO)(),s=a.id,u=a.answerId,r=(0,l.useMemo)(function(){return new fe(s,u)},[s,u]),f=(0,l.useState)(!1),d=(0,T.Z)(f,2),o=d[0],v=d[1],B=(0,c.TH)(),X=B.query.preview==="1",he=B.query.openid,k=(0,l.useMemo)(function(){return(0,U.SB)()},[]),J=(0,l.useRef)(null),Me=r.saving,Pe=r.loading,De=(h=r.setting)===null||h===void 0?void 0:h.answerSetting,G=De||{},pe=G.autoSave,ge=G.progressBar,Te=G.initialValues,be=G.questionNumber,xe=G.wechatOnly,Ie=G.onePageOneQuestion,Le=G.answerSheetVisible,Se=r.errorMessage,me=r.savedAnswer,ye=r.confirmTempAnswerType,Ae=r.statistics,N=r.survey,ae=r.answerId,Ue=r.mode,_e=(0,U.XO)(N,B),Re=(0,l.useState)(),Ee=(0,T.Z)(Re,2),je=Ee[0],Be=Ee[1],Ze=(0,l.useState)({}),we=(0,T.Z)(Ze,2),Oe=we[0],Ke=we[1];(0,l.useEffect)(function(){N&&(0,U.iq)(N,"statEnabled")&&r.loadStatistics()},[N,r]),(0,l.useEffect)(function(){N&&ae&&r.loadAnswer(ae).then(function(L){if(L){var p;(p=J.current)===null||p===void 0||p.setValues(L.answer)}})},[ae,r,N]);var ke=(0,l.useCallback)(function(L,p){ge&&r.changeProgress(p),pe&&L&&r.tempSave(L)},[ge]),We=function(){var p;return(0,i.jsxs)("div",{className:"password-confirm",children:[(0,i.jsx)("h3",{children:(p=r.project)===null||p===void 0?void 0:p.name}),(0,i.jsx)(x.Z,{visible:!0,footer:null,closable:!1,width:350,children:(0,i.jsxs)(V.Z,{style:{margin:"10px 0"},children:[(0,i.jsx)("div",{style:{textAlign:"center",fontSize:20,marginBottom:10},children:"\u8BF7\u8F93\u5165\u5BC6\u7801\u586B\u5199\u95EE\u5377"}),(0,i.jsx)(V.Z.Item,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],validateStatus:Oe.validateStatus,help:Oe.help,children:(0,i.jsx)(Z.Z.Password,{size:"large",placeholder:"\u5BC6\u7801",prefix:(0,i.jsx)(te,{}),onChange:function(O){return Be(O.target.value)},iconRender:function(O){return O?(0,i.jsx)(oe,{}):(0,i.jsx)(ee.Z,{})}})}),(0,i.jsx)(g.Z,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:r.verifying,onClick:function(){je&&r.verifyPassword(je).then(function(O){O||Ke({help:"\u5BC6\u7801\u9A8C\u8BC1\u5931\u8D25",validateStatus:"error"})})},children:"\u9A8C\u8BC1\u5E76\u586B\u5199\u95EE\u5377"})]})})]})},Fe=function(){return(0,i.jsx)(b.Z,{visible:!0,width:"100%",closable:!1,bodyStyle:{padding:0},children:(0,i.jsx)(ue.default,{onOk:function(){r.loadProject()}})})},Ce=function(p){var w,O;return(0,i.jsxs)("div",{className:"render-failure ".concat(k?"mobile":"phone"),children:[((w=r.project)===null||w===void 0?void 0:w.name)&&(0,i.jsx)("div",{className:"title",children:(O=r.project)===null||O===void 0?void 0:O.name}),(0,i.jsxs)("div",{className:"content",children:[(0,i.jsx)("div",{children:(0,i.jsx)(Q.AT,{})}),(0,i.jsx)("h2",{children:Se||p}),(0,i.jsx)("div",{children:"\u611F\u8C22\u5173\u6CE8\uFF01"})]})]})},Ne=function(){if(r.loading)return(0,i.jsx)(H.Z,{});if(r.errorCode!==200)return Ce();if(xe&&!(0,U.CL)())return Ce("\u53EA\u80FD\u5728\u5FAE\u4FE1\u4E2D\u6253\u5F00");if(N&&!o)return ye===1&&pe?(0,i.jsx)(Q.oq,{}):(0,i.jsx)(de.O,{ref:J,mode:Ue,loading:Me||Pe,progressBar:ge,questionNumber:be,theme:k?"antdmobile":"antd",schema:N,onChange:ke,onePageOneQuestion:Ie,answerSheetVisible:Le,initialValues:ye===3?_e:(0,C.Z)((0,C.Z)((0,C.Z)({},Te),me==null?void 0:me.answer),_e),statistics:Ae,onUpload:function(w,O){return r.upload(w,O)},footerVisible:!X,headerVisible:!X,isPreview:X,onSubmit:function(w){r.saveData((0,C.Z)((0,C.Z)({},w),{},{openid:he}),ae).then(function(){return v(!0)})}});if(r.loginRequired)return(0,i.jsx)("div",{children:Fe()});if(r.passwordRequired)return(0,i.jsx)("div",{children:We()})},$e=function(){return(0,i.jsx)(Q.x4,{})},Ve=function(){var p,w,O=(p=r.survey)===null||p===void 0||(w=p.attribute)===null||w===void 0?void 0:w.backgroundImage;if(O)return{backgroundImage:"url(/api/public/preview/".concat(O,")")}};return(0,i.jsx)(U.ff.Provider,{value:r,children:(0,i.jsxs)("div",{className:"survey ".concat(k?"mobile":"pc"),style:Ve(),children:[Ne(),$e()]})})}),I=R},19319:function(S,m,e){"use strict";e.r(m);var C=e(34792),P=e(48086),b=e(3182),$=e(94657),x=e(17462),D=e(76772),g=e(94043),y=e.n(g),V=e(89366),Y=e(2603),Z=e(67294),T=e(952),c=e(5966),l=e(42285),A=e(73727),M=e(29791),z=e(34687),E=e.n(z),q=e(27400),te=e(77613),ne=e(5481),ie=e.n(ne),n=e(85893),oe=function(U){var H=U.content;return(0,n.jsx)(D.Z,{style:{marginBottom:24},message:H,type:"error",showIcon:!0})},ee=void 0==="1",le=function(U){var H,Q,de=(0,Z.useState)(!1),K=(0,$.Z)(de,2),re=K[0],se=K[1],ce=(0,Z.useState)(),_=(0,$.Z)(ce,2),W=_[0],ve=_[1],t=(0,q.a)(),j=t.system,F=(0,l.YB)(),fe=function(){var R=(0,b.Z)(y().mark(function I(){return y().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},I)}));return function(){return R.apply(this,arguments)}}(),i=function(){var R=(0,b.Z)(y().mark(function I(h){var a,s,u,r,f,d;return y().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,t.login(h);case 3:if(a=v.sent,!a.success){v.next=18;break}if(s=F.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),P.default.success(s),!U.onOk){v.next=10;break}return U.onOk(),v.abrupt("return");case 10:return v.next=12,fe();case 12:if(l.m8){v.next=14;break}return v.abrupt("return");case 14:return u=l.m8.location.query,r=u,f=r.redirect,l.m8.push(f||"/"),v.abrupt("return");case 18:ve(a.message&&"error"),v.next=25;break;case 21:v.prev=21,v.t0=v.catch(0),d=F.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),P.default.error(d);case 25:se(!1);case 26:case"end":return v.stop()}},I,null,[[0,21]])}));return function(h){return R.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:E().container,children:[(0,n.jsx)("div",{className:E().lang,"data-lang":!0,children:l.pD&&(0,n.jsx)(l.pD,{})}),(0,n.jsxs)("div",{className:E().content,children:[(0,n.jsxs)("div",{className:E().top,children:[(0,n.jsx)("div",{className:E().header,children:(0,n.jsxs)(A.rU,{to:"/",children:[(0,n.jsx)("img",{alt:"logo",className:E().logo,src:j.avatar?"/api/public/preview/".concat(j==null?void 0:j.avatar):ie()}),(0,n.jsx)("span",{className:E().title,children:j==null?void 0:j.name})]})}),(0,n.jsx)("div",{className:E().desc,children:j==null?void 0:j.description})]}),(0,n.jsx)("div",{className:E().main,children:(0,n.jsxs)(T.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:F.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(I,h){return h.pop()},submitButtonProps:{loading:re,size:"large",style:{width:"100%"},htmlType:"submit"}},isKeyPressSubmit:!0,onFinish:function(){var R=(0,b.Z)(y().mark(function I(h){return y().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!re){s.next=2;break}return s.abrupt("return");case 2:return se(!0),s.next=5,i(h);case 5:case"end":return s.stop()}},I)}));return function(I){return R.apply(this,arguments)}}(),children:[W==="error"&&(0,n.jsx)(oe,{content:F.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF"})}),(0,n.jsx)(c.Z,{name:"username",fieldProps:{size:"large",prefix:(0,n.jsx)(V.Z,{className:E().prefixIcon})},placeholder:F.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D"}),rules:[{required:!0,message:(0,n.jsx)(l._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,n.jsx)(c.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,n.jsx)(Y.Z,{className:E().prefixIcon})},placeholder:F.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,n.jsx)(l._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),!ee&&((H=j.registerInfo)===null||H===void 0?void 0:H.registerEnabled)&&(0,n.jsx)("div",{style:{marginBottom:24,display:"flex",justifyContent:"flex-end"},children:(0,n.jsx)(A.rU,{to:"/user/register",children:(0,n.jsx)(l._H,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C"})})}),ee&&(0,n.jsxs)("div",{style:{marginBottom:24},children:[((Q=j.registerInfo)===null||Q===void 0?void 0:Q.registerEnabled)&&(0,n.jsx)(A.rU,{to:"/user/register",children:(0,n.jsx)(l._H,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C"})}),(0,n.jsx)("a",{style:{float:"right"},onClick:function(){return i({username:"admin",password:"123456"})},children:(0,n.jsx)(l._H,{id:"pages.login.try",defaultMessage:"\u8BD5\u4E00\u8BD5"})})]})]})})]}),(0,n.jsx)(M.Z,{})]})};m.default=(0,te.P)(le)},5481:function(S,m,e){S.exports=e.p+"static/logo.de1a765f.svg"},20640:function(S,m,e){"use strict";var C=e(11742),P={"text/plain":"Text","text/html":"Url",default:"Text"},b="Copy to clipboard: #{key}, Enter";function $(D){var g=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return D.replace(/#{\s*key\s*}/g,g)}function x(D,g){var y,V,Y,Z,T,c,l=!1;g||(g={}),y=g.debug||!1;try{Y=C(),Z=document.createRange(),T=document.getSelection(),c=document.createElement("span"),c.textContent=D,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",function(M){if(M.stopPropagation(),g.format)if(M.preventDefault(),typeof M.clipboardData=="undefined"){y&&console.warn("unable to use e.clipboardData"),y&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var z=P[g.format]||P.default;window.clipboardData.setData(z,D)}else M.clipboardData.clearData(),M.clipboardData.setData(g.format,D);g.onCopy&&(M.preventDefault(),g.onCopy(M.clipboardData))}),document.body.appendChild(c),Z.selectNodeContents(c),T.addRange(Z);var A=document.execCommand("copy");if(!A)throw new Error("copy command was unsuccessful");l=!0}catch(M){y&&console.error("unable to copy using execCommand: ",M),y&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(g.format||"text",D),g.onCopy&&g.onCopy(window.clipboardData),l=!0}catch(z){y&&console.error("unable to copy using clipboardData: ",z),y&&console.error("falling back to prompt"),V=$("message"in g?g.message:b),window.prompt(V,D)}}finally{T&&(typeof T.removeRange=="function"?T.removeRange(Z):T.removeAllRanges()),c&&document.body.removeChild(c),Y()}return l}S.exports=x},11742:function(S){S.exports=function(){var m=document.getSelection();if(!m.rangeCount)return function(){};for(var e=document.activeElement,C=[],P=0;P<m.rangeCount;P++)C.push(m.getRangeAt(P));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return m.removeAllRanges(),function(){m.type==="Caret"&&m.removeAllRanges(),m.rangeCount||C.forEach(function(b){m.addRange(b)}),e&&e.focus()}}}}]);
