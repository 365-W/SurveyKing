(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5593],{99165:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="CopyOutlined";var k=s.forwardRef(E)},99008:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="FileTextOutlined";var k=s.forwardRef(E)},91816:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="FolderOpenOutlined";var k=s.forwardRef(E)},63258:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="FolderOutlined";var k=s.forwardRef(E)},54977:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="FormOutlined";var k=s.forwardRef(E)},65602:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="InteractionOutlined";var k=s.forwardRef(E)},2603:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="LockOutlined";var k=s.forwardRef(E)},89792:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 612c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H298a95.92 95.92 0 00-89-60c-53 0-96 43-96 96s43 96 96 96c40.3 0 74.8-24.8 89-60h150.3v152c0 55.2 44.8 100 100 100H952c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H548.3c-15.5 0-28-12.5-28-28V612H952zM451.7 313.7l172.5 136.2c6.3 5.1 15.8.5 15.8-7.7V344h264c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H640v-98.2c0-8.1-9.4-12.8-15.8-7.7L451.7 298.3a9.9 9.9 0 000 15.4z"}}]},name:"node-collapse",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="NodeCollapseOutlined";var k=s.forwardRef(E)},1870:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="QuestionCircleOutlined";var k=s.forwardRef(E)},11075:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="RollbackOutlined";var k=s.forwardRef(E)},13105:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="SnippetsOutlined";var k=s.forwardRef(E)},15360:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="StopOutlined";var k=s.forwardRef(E)},89366:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="UserOutlined";var k=s.forwardRef(E)},3157:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return k}});var j=x(28991),s=x(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},p=_,S=x(27029),E=function(C,R){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:R,icon:p}))};E.displayName="UserSwitchOutlined";var k=s.forwardRef(E)},20878:function(Zt,bt,x){"use strict";Zt.exports=x(44407)},44407:function(Zt,bt){(function(x,j){if(!0)Zt.exports=j();else var s,_})(window,function(){return function(x){var j={};function s(_){if(j[_])return j[_].exports;var p=j[_]={i:_,l:!1,exports:{}};return x[_].call(p.exports,p,p.exports,s),p.l=!0,p.exports}return s.m=x,s.c=j,s.d=function(_,p,S){s.o(_,p)||Object.defineProperty(_,p,{enumerable:!0,get:S})},s.r=function(_){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},s.t=function(_,p){if(1&p&&(_=s(_)),8&p||4&p&&typeof _=="object"&&_&&_.__esModule)return _;var S=Object.create(null);if(s.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:_}),2&p&&typeof _!="string")for(var E in _)s.d(S,E,function(k){return _[k]}.bind(null,E));return S},s.n=function(_){var p=_&&_.__esModule?function(){return _.default}:function(){return _};return s.d(p,"a",p),p},s.o=function(_,p){return Object.prototype.hasOwnProperty.call(_,p)},s.p="",s(s.s=215)}([function(x,j,s){"use strict";(function(_,p){s.d(j,"a",function(){return B}),s.d(j,"b",function(){return po}),s.d(j,"c",function(){return pr}),s.d(j,"d",function(){return yt}),s.d(j,"e",function(){return Ve}),s.d(j,"f",function(){return Ye}),s.d(j,"g",function(){return lt}),s.d(j,"h",function(){return ar}),s.d(j,"i",function(){return Xt}),s.d(j,"j",function(){return Qe}),s.d(j,"k",function(){return Jn}),s.d(j,"l",function(){return bi}),s.d(j,"m",function(){return Nt}),s.d(j,"n",function(){return Or}),s.d(j,"o",function(){return ve}),s.d(j,"p",function(){return Qn}),s.d(j,"q",function(){return Tn}),s.d(j,"r",function(){return Zo}),s.d(j,"s",function(){return Gn}),s.d(j,"t",function(){return io}),s.d(j,"u",function(){return jo}),s.d(j,"v",function(){return xi}),s.d(j,"w",function(){return Ko}),s.d(j,"x",function(){return hr}),s.d(j,"y",function(){return or}),s.d(j,"z",function(){return Kt}),s.d(j,"A",function(){return In}),s.d(j,"B",function(){return nr}),s.d(j,"C",function(){return tt}),s.d(j,"D",function(){return wr}),s.d(j,"E",function(){return zr}),s.d(j,"F",function(){return Lr}),s.d(j,"G",function(){return mi}),s.d(j,"H",function(){return Yo}),s.d(j,"I",function(){return Fr}),s.d(j,"J",function(){return Cn}),s.d(j,"K",function(){return be}),s.d(j,"L",function(){return hn}),s.d(j,"M",function(){return Mo});var S=[];Object.freeze(S);var E={};function k(){return++st.mobxGuid}function D(y){throw C(!1,y),"X"}function C(y,m){if(!y)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(E);function R(y){var m=!1;return function(){if(!m)return m=!0,y.apply(this,arguments)}}var z=function(){};function F(y){return y!==null&&typeof y=="object"}function G(y){if(y===null||typeof y!="object")return!1;var m=Object.getPrototypeOf(y);return m===Object.prototype||m===null}function q(y,m,w){Object.defineProperty(y,m,{enumerable:!1,writable:!0,configurable:!0,value:w})}function se(y,m){var w="isMobX"+y;return m.prototype[w]=!0,function(T){return F(T)&&T[w]===!0}}function ue(y){return y instanceof Map}function pe(y){return y instanceof Set}function _e(y){var m=new Set;for(var w in y)m.add(w);return Object.getOwnPropertySymbols(y).forEach(function(T){Object.getOwnPropertyDescriptor(y,T).enumerable&&m.add(T)}),Array.from(m)}function ce(y){return y&&y.toString?y.toString():new String(y).toString()}function $(y){return y===null?null:typeof y=="object"?""+y:y}var ne=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:Object.getOwnPropertyNames,B=Symbol("mobx administration"),oe=function(){function y(m){m===void 0&&(m="Atom@"+k()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Ze.NOT_TRACKING}return y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},y.prototype.reportObserved=function(){return yi(this)},y.prototype.reportChanged=function(){Kn(),function(m){m.lowestObserverState!==Ze.STALE&&(m.lowestObserverState=Ze.STALE,m.observers.forEach(function(w){w.dependenciesState===Ze.UP_TO_DATE&&(w.isTracing!==fe.NONE&&fr(w,m),w.onBecomeStale()),w.dependenciesState=Ze.STALE}))}(this),$n()},y.prototype.toString=function(){return this.name},y}(),le=se("Atom",oe);function ve(y,m,w){m===void 0&&(m=z),w===void 0&&(w=z);var T,U=new oe(y);return m!==z&&ta("onBecomeObserved",U,m,T),w!==z&&zr(U,w),U}var me={identity:function(y,m){return y===m},structural:function(y,m){return Ur(y,m)},default:function(y,m){return Object.is(y,m)},shallow:function(y,m){return Ur(y,m,1)}},J=function(y,m){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var U in T)T.hasOwnProperty(U)&&(w[U]=T[U])},J(y,m)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ie=function(){return ie=Object.assign||function(y){for(var m,w=1,T=arguments.length;w<T;w++)for(var U in m=arguments[w])Object.prototype.hasOwnProperty.call(m,U)&&(y[U]=m[U]);return y},ie.apply(this,arguments)};function ee(y){var m=typeof Symbol=="function"&&y[Symbol.iterator],w=0;return m?m.call(y):{next:function(){return y&&w>=y.length&&(y=void 0),{value:y&&y[w++],done:!y}}}}function I(y,m){var w=typeof Symbol=="function"&&y[Symbol.iterator];if(!w)return y;var T,U,ye=w.call(y),Ae=[];try{for(;(m===void 0||m-- >0)&&!(T=ye.next()).done;)Ae.push(T.value)}catch(Ge){U={error:Ge}}finally{try{T&&!T.done&&(w=ye.return)&&w.call(ye)}finally{if(U)throw U.error}}return Ae}function ae(){for(var y=[],m=0;m<arguments.length;m++)y=y.concat(I(arguments[m]));return y}var re=Symbol("mobx did run lazy initializers"),Q=Symbol("mobx pending decorators"),Oe={},Se={};function Ie(y,m){var w=m?Oe:Se;return w[y]||(w[y]={configurable:!0,enumerable:m,get:function(){return Xe(this),this[y]},set:function(T){Xe(this),this[y]=T}})}function Xe(y){var m,w;if(y[re]!==!0){var T=y[Q];if(T){q(y,re,!0);var U=ae(Object.getOwnPropertySymbols(T),Object.keys(T));try{for(var ye=ee(U),Ae=ye.next();!Ae.done;Ae=ye.next()){var Ge=T[Ae.value];Ge.propertyCreator(y,Ge.prop,Ge.descriptor,Ge.decoratorTarget,Ge.decoratorArguments)}}catch(ot){m={error:ot}}finally{try{Ae&&!Ae.done&&(w=ye.return)&&w.call(ye)}finally{if(m)throw m.error}}}}}function rt(y,m){return function(){var w,T=function(U,ye,Ae,Ge){if(Ge===!0)return m(U,ye,Ae,U,w),null;if(!Object.prototype.hasOwnProperty.call(U,Q)){var ot=U[Q];q(U,Q,ie({},ot))}return U[Q][ye]={prop:ye,propertyCreator:m,descriptor:Ae,decoratorTarget:U,decoratorArguments:w},Ie(ye,y)};return ke(arguments)?(w=S,T.apply(null,arguments)):(w=Array.prototype.slice.call(arguments),T)}}function ke(y){return(y.length===2||y.length===3)&&(typeof y[1]=="string"||typeof y[1]=="symbol")||y.length===4&&y[3]===!0}function Le(y,m,w){return hr(y)?y:Array.isArray(y)?tt.array(y,{name:w}):G(y)?tt.object(y,void 0,{name:w}):ue(y)?tt.map(y,{name:w}):pe(y)?tt.set(y,{name:w}):y}function Ue(y){return y}function W(y){C(y);var m=rt(!0,function(T,U,ye,Ae,Ge){var ot=ye?ye.initializer?ye.initializer.call(T):ye.value:void 0;Xr(T).addObservableProp(U,ot,y)}),w=(_!==void 0&&_.env,m);return w.enhancer=y,w}var Z={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function he(y){return y==null?Z:typeof y=="string"?{name:y,deep:!0,proxy:!0}:y}Object.freeze(Z);var Ee=W(Le),ze=W(function(y,m,w){return y==null||In(y)||or(y)||Kt(y)||Pn(y)?y:Array.isArray(y)?tt.array(y,{name:w,deep:!1}):G(y)?tt.object(y,void 0,{name:w,deep:!1}):ue(y)?tt.map(y,{name:w,deep:!1}):pe(y)?tt.set(y,{name:w,deep:!1}):D(!1)}),Re=W(Ue),it=W(function(y,m,w){return Ur(y,m)?m:y});function ut(y){return y.defaultDecorator?y.defaultDecorator.enhancer:y.deep===!1?Ue:Le}var dt={box:function(y,m){arguments.length>2&&Te("box");var w=he(m);return new Rt(y,ut(w),w.name,!0,w.equals)},array:function(y,m){arguments.length>2&&Te("array");var w=he(m);return ko(y,ut(w),w.name)},map:function(y,m){arguments.length>2&&Te("map");var w=he(m);return new po(y,ut(w),w.name)},set:function(y,m){arguments.length>2&&Te("set");var w=he(m);return new ho(y,ut(w),w.name)},object:function(y,m,w){typeof arguments[1]=="string"&&Te("object");var T=he(w);if(T.proxy===!1)return Tn({},y,m,T);var U=Oi(T),ye=Tn({},void 0,void 0,T),Ae=ra(ye);return wi(Ae,y,m,U),Ae},ref:Re,shallow:ze,deep:Ee,struct:it},tt=function(y,m,w){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Ee.apply(null,arguments);if(hr(y))return y;var T=G(y)?tt.object(y,m,w):Array.isArray(y)?tt.array(y,m):ue(y)?tt.map(y,m):pe(y)?tt.set(y,m):y;if(T!==y)return T;D(!1)};function Te(y){D("Expected one or two arguments to observable."+y+". Did you accidentally try to use observable."+y+" as decorator?")}Object.keys(dt).forEach(function(y){return tt[y]=dt[y]});var Ze,fe,We=rt(!1,function(y,m,w,T,U){var ye=w.get,Ae=w.set,Ge=U[0]||{};Xr(y).addComputedProp(y,m,ie({get:ye,set:Ae,context:y},Ge))}),qe=We({equals:me.structural}),Nt=function(y,m,w){if(typeof m=="string"||y!==null&&typeof y=="object"&&arguments.length===1)return We.apply(null,arguments);var T=typeof m=="object"?m:{};return T.get=y,T.set=typeof m=="function"?m:T.set,T.name=T.name||y.name||"",new lr(T)};Nt.struct=qe,function(y){y[y.NOT_TRACKING=-1]="NOT_TRACKING",y[y.UP_TO_DATE=0]="UP_TO_DATE",y[y.POSSIBLY_STALE=1]="POSSIBLY_STALE",y[y.STALE=2]="STALE"}(Ze||(Ze={})),function(y){y[y.NONE=0]="NONE",y[y.LOG=1]="LOG",y[y.BREAK=2]="BREAK"}(fe||(fe={}));var gt=function(y){this.cause=y};function ht(y){return y instanceof gt}function Lt(y){switch(y.dependenciesState){case Ze.UP_TO_DATE:return!1;case Ze.NOT_TRACKING:case Ze.STALE:return!0;case Ze.POSSIBLY_STALE:for(var m=Ye(!0),w=te(),T=y.observing,U=T.length,ye=0;ye<U;ye++){var Ae=T[ye];if(_r(Ae)){if(st.disableErrorBoundaries)Ae.get();else try{Ae.get()}catch(Ge){return we(w),Ve(m),!0}if(y.dependenciesState===Ze.STALE)return we(w),Ve(m),!0}}return Ke(y),we(w),Ve(m),!1}}function Xt(){return st.trackingDerivation!==null}function wt(y){var m=y.observers.size>0;st.computationDepth>0&&m&&D(!1),st.allowStateChanges||!m&&st.enforceActions!=="strict"||D(!1)}function en(y,m,w){var T=Ye(!0);Ke(y),y.newObserving=new Array(y.observing.length+100),y.unboundDepsCount=0,y.runId=++st.runId;var U,ye=st.trackingDerivation;if(st.trackingDerivation=y,st.disableErrorBoundaries===!0)U=m.call(w);else try{U=m.call(w)}catch(Ae){U=new gt(Ae)}return st.trackingDerivation=ye,function(Ae){for(var Ge=Ae.observing,ot=Ae.observing=Ae.newObserving,At=Ze.UP_TO_DATE,Et=0,Ut=Ae.unboundDepsCount,jt=0;jt<Ut;jt++)(Ft=ot[jt]).diffValue===0&&(Ft.diffValue=1,Et!==jt&&(ot[Et]=Ft),Et++),Ft.dependenciesState>At&&(At=Ft.dependenciesState);for(ot.length=Et,Ae.newObserving=null,Ut=Ge.length;Ut--;)(Ft=Ge[Ut]).diffValue===0&&hi(Ft,Ae),Ft.diffValue=0;for(;Et--;){var Ft;(Ft=ot[Et]).diffValue===1&&(Ft.diffValue=0,Qi(Ft,Ae))}At!==Ze.UP_TO_DATE&&(Ae.dependenciesState=At,Ae.onBecomeStale())}(y),Ve(T),U}function V(y){var m=y.observing;y.observing=[];for(var w=m.length;w--;)hi(m[w],y);y.dependenciesState=Ze.NOT_TRACKING}function be(y){var m=te();try{return y()}finally{we(m)}}function te(){var y=st.trackingDerivation;return st.trackingDerivation=null,y}function we(y){st.trackingDerivation=y}function Ye(y){var m=st.allowStateReads;return st.allowStateReads=y,m}function Ve(y){st.allowStateReads=y}function Ke(y){if(y.dependenciesState!==Ze.UP_TO_DATE){y.dependenciesState=Ze.UP_TO_DATE;for(var m=y.observing,w=m.length;w--;)m[w].lowestObserverState=Ze.UP_TO_DATE}}var _t=0,rn=1,Jt=Object.getOwnPropertyDescriptor(function(){},"name");Jt&&Jt.configurable;function Bt(y,m,w){var T=function(){return Vt(y,m,w||this,arguments)};return T.isMobxAction=!0,T}function Vt(y,m,w,T){var U=Qe(y,w,T);try{return m.apply(w,T)}catch(ye){throw U.error=ye,ye}finally{lt(U)}}function Qe(y,m,w){var T=0,U=te();Kn();var ye={prevDerivation:U,prevAllowStateChanges:xt(!0),prevAllowStateReads:Ye(!0),notifySpy:!1,startTime:T,actionId:rn++,parentActionId:_t};return _t=ye.actionId,ye}function lt(y){_t!==y.actionId&&D("invalid action stack. did you forget to finish an action?"),_t=y.parentActionId,y.error!==void 0&&(st.suppressReactionErrors=!0),Ht(y.prevAllowStateChanges),Ve(y.prevAllowStateReads),$n(),we(y.prevDerivation),y.notifySpy,st.suppressReactionErrors=!1}function yt(y,m){var w,T=xt(y);try{w=m()}finally{Ht(T)}return w}function xt(y){var m=st.allowStateChanges;return st.allowStateChanges=y,m}function Ht(y){st.allowStateChanges=y}var Rt=function(y){function m(w,T,U,ye,Ae){U===void 0&&(U="ObservableValue@"+k()),ye===void 0&&(ye=!0),Ae===void 0&&(Ae=me.default);var Ge=y.call(this,U)||this;return Ge.enhancer=T,Ge.name=U,Ge.equals=Ae,Ge.hasUnreportedChange=!1,Ge.value=T(w,void 0,U),Ge}return function(w,T){function U(){this.constructor=w}J(w,T),w.prototype=T===null?Object.create(T):(U.prototype=T.prototype,new U)}(m,y),m.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},m.prototype.set=function(w){this.value,(w=this.prepareNewValue(w))!==st.UNCHANGED&&this.setNewValue(w)},m.prototype.prepareNewValue=function(w){if(wt(this),bn(this)){var T=Tt(this,{object:this,type:"update",newValue:w});if(!T)return st.UNCHANGED;w=T.newValue}return w=this.enhancer(w,this.value,this.name),this.equals(this.value,w)?st.UNCHANGED:w},m.prototype.setNewValue=function(w){var T=this.value;this.value=w,this.reportChanged(),Rn(this)&&sn(this,{type:"update",object:this,newValue:w,oldValue:T})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(w){return qn(this,w)},m.prototype.observe=function(w,T){return T&&w({object:this,type:"update",newValue:this.value,oldValue:void 0}),rr(this,w)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return $(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(oe),br=se("ObservableValue",Rt),lr=function(){function y(m){this.dependenciesState=Ze.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Ze.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+k(),this.value=new gt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=fe.NONE,C(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+k(),m.set&&(this.setter=Bt(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?me.structural:me.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return y.prototype.onBecomeStale=function(){(function(m){m.lowestObserverState===Ze.UP_TO_DATE&&(m.lowestObserverState=Ze.POSSIBLY_STALE,m.observers.forEach(function(w){w.dependenciesState===Ze.UP_TO_DATE&&(w.dependenciesState=Ze.POSSIBLY_STALE,w.isTracing!==fe.NONE&&fr(w,m),w.onBecomeStale())}))})(this)},y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},y.prototype.get=function(){this.isComputing&&D("Cycle detected in computation "+this.name+": "+this.derivation),st.inBatch!==0||this.observers.size!==0||this.keepAlive?(yi(this),Lt(this)&&this.trackAndCompute()&&function(w){w.lowestObserverState!==Ze.STALE&&(w.lowestObserverState=Ze.STALE,w.observers.forEach(function(T){T.dependenciesState===Ze.POSSIBLY_STALE?T.dependenciesState=Ze.STALE:T.dependenciesState===Ze.UP_TO_DATE&&(w.lowestObserverState=Ze.UP_TO_DATE)}))}(this)):Lt(this)&&(this.warnAboutUntrackedRead(),Kn(),this.value=this.computeValue(!1),$n());var m=this.value;if(ht(m))throw m.cause;return m},y.prototype.peek=function(){var m=this.computeValue(!1);if(ht(m))throw m.cause;return m},y.prototype.set=function(m){if(this.setter){C(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else C(!1,!1)},y.prototype.trackAndCompute=function(){var m=this.value,w=this.dependenciesState===Ze.NOT_TRACKING,T=this.computeValue(!0),U=w||ht(m)||ht(T)||!this.equals(m,T);return U&&(this.value=T),U},y.prototype.computeValue=function(m){var w;if(this.isComputing=!0,st.computationDepth++,m)w=en(this,this.derivation,this.scope);else if(st.disableErrorBoundaries===!0)w=this.derivation.call(this.scope);else try{w=this.derivation.call(this.scope)}catch(T){w=new gt(T)}return st.computationDepth--,this.isComputing=!1,w},y.prototype.suspend=function(){this.keepAlive||(V(this),this.value=void 0)},y.prototype.observe=function(m,w){var T=this,U=!0,ye=void 0;return bi(function(){var Ae=T.get();if(!U||w){var Ge=te();m({type:"update",object:T,newValue:Ae,oldValue:ye}),we(Ge)}U=!1,ye=Ae})},y.prototype.warnAboutUntrackedRead=function(){},y.prototype.toJSON=function(){return this.get()},y.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},y.prototype.valueOf=function(){return $(this.get())},y.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},y}(),_r=se("ComputedValue",lr),So=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Rr={};function Xo(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:Rr}var Zn=!0,di=!1,st=function(){var y=Xo();return y.__mobxInstanceCount>0&&!y.__mobxGlobals&&(Zn=!1),y.__mobxGlobals&&y.__mobxGlobals.version!==new So().version&&(Zn=!1),Zn?y.__mobxGlobals?(y.__mobxInstanceCount+=1,y.__mobxGlobals.UNCHANGED||(y.__mobxGlobals.UNCHANGED={}),y.__mobxGlobals):(y.__mobxInstanceCount=1,y.__mobxGlobals=new So):(setTimeout(function(){di||D("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new So)}();function Qi(y,m){y.observers.add(m),y.lowestObserverState>m.dependenciesState&&(y.lowestObserverState=m.dependenciesState)}function hi(y,m){y.observers.delete(m),y.observers.size===0&&Uo(y)}function Uo(y){y.isPendingUnobservation===!1&&(y.isPendingUnobservation=!0,st.pendingUnobservations.push(y))}function Kn(){st.inBatch++}function $n(){if(--st.inBatch==0){vi();for(var y=st.pendingUnobservations,m=0;m<y.length;m++){var w=y[m];w.isPendingUnobservation=!1,w.observers.size===0&&(w.isBeingObserved&&(w.isBeingObserved=!1,w.onBecomeUnobserved()),w instanceof lr&&w.suspend())}st.pendingUnobservations=[]}}function yi(y){var m=st.trackingDerivation;return m!==null?(m.runId!==y.lastAccessedBy&&(y.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=y,y.isBeingObserved||(y.isBeingObserved=!0,y.onBecomeObserved())),!0):(y.observers.size===0&&st.inBatch>0&&Uo(y),!1)}function fr(y,m){if(y.isTracing===fe.BREAK){var w=[];no(io(y),w,1),new Function(`debugger;
/*
Tracing '`+y.name+`'

You are entering this break point because derivation '`+y.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(y instanceof lr?y.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+w.join(`
`)+`
*/
    `)()}}function no(y,m,w){m.length>=1e3?m.push("(and many more)"):(m.push(""+new Array(w).join("	")+y.name),y.dependencies&&y.dependencies.forEach(function(T){return no(T,m,w+1)}))}var pr=function(){function y(m,w,T,U){m===void 0&&(m="Reaction@"+k()),U===void 0&&(U=!1),this.name=m,this.onInvalidate=w,this.errorHandler=T,this.requiresObservable=U,this.observing=[],this.newObserving=[],this.dependenciesState=Ze.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+k(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=fe.NONE}return y.prototype.onBecomeStale=function(){this.schedule()},y.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,st.pendingReactions.push(this),vi())},y.prototype.isScheduled=function(){return this._isScheduled},y.prototype.runReaction=function(){if(!this.isDisposed){if(Kn(),this._isScheduled=!1,Lt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(m){this.reportExceptionInDerivation(m)}}$n()}},y.prototype.track=function(m){if(!this.isDisposed){Kn(),this._isRunning=!0;var w=en(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&V(this),ht(w)&&this.reportExceptionInDerivation(w.cause),$n()}},y.prototype.reportExceptionInDerivation=function(m){var w=this;if(this.errorHandler)this.errorHandler(m,this);else{if(st.disableErrorBoundaries)throw m;st.suppressReactionErrors,st.globalReactionErrorHandlers.forEach(function(T){return T(m,w)})}},y.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Kn(),V(this),$n()))},y.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m[B]=this,m},y.prototype.toString=function(){return"Reaction["+this.name+"]"},y.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var U=!1;typeof w[w.length-1]=="boolean"&&(U=w.pop());var ye=yn(w);if(!ye)return D(!1);ye.isTracing,fe.NONE,ye.isTracing=U?fe.BREAK:fe.LOG}(this,m)},y}(),Vo=function(y){return y()};function vi(){st.inBatch>0||st.isRunningReactions||Vo(ro)}function ro(){st.isRunningReactions=!0;for(var y=st.pendingReactions,m=0;y.length>0;){++m==100&&y.splice(0);for(var w=y.splice(0),T=0,U=w.length;T<U;T++)w[T].runReaction()}st.isRunningReactions=!1}var dr=se("Reaction",pr);function oo(y){var m=Vo;Vo=function(w){return y(function(){return m(w)})}}function Yo(y){return function(){}}function qi(){D(!1)}function Ir(y){return function(m,w,T){if(T){if(T.value)return{value:Bt(y,T.value),enumerable:!1,configurable:!0,writable:!0};var U=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Bt(y,U.call(this))}}}return gi(y).apply(this,arguments)}}function gi(y){return function(m,w,T){Object.defineProperty(m,w,{configurable:!0,enumerable:!1,get:function(){},set:function(U){q(this,w,Jn(y,U))}})}}var Jn=function(y,m,w,T){return arguments.length===1&&typeof y=="function"?Bt(y.name||"<unnamed action>",y):arguments.length===2&&typeof m=="function"?Bt(y,m):arguments.length===1&&typeof y=="string"?Ir(y):T!==!0?Ir(m).apply(null,arguments):void q(y,m,Bt(y.name||m,w.value,this))};function mi(y,m){return Vt(typeof y=="string"?y:y.name||"<unnamed action>",typeof y=="function"?y:m,this,void 0)}function jo(y){return typeof y=="function"&&y.isMobxAction===!0}function Wo(y,m,w){q(y,m,Bt(m,w.bind(y)))}function bi(y,m){m===void 0&&(m=E);var w,T=m&&m.name||y.name||"Autorun@"+k();if(!m.scheduler&&!m.delay)w=new pr(T,function(){this.track(Ae)},m.onError,m.requiresObservable);else{var U=_i(m),ye=!1;w=new pr(T,function(){ye||(ye=!0,U(function(){ye=!1,w.isDisposed||w.track(Ae)}))},m.onError,m.requiresObservable)}function Ae(){y(w)}return w.schedule(),w.getDisposer()}Jn.bound=function(y,m,w,T){return T===!0?(Wo(y,m,w.value),null):w?{configurable:!0,enumerable:!1,get:function(){return Wo(this,m,w.value||w.initializer.call(this)),this[m]},set:qi}:{enumerable:!1,configurable:!0,set:function(U){Wo(this,m,U)},get:function(){}}};var ea=function(y){return y()};function _i(y){return y.scheduler?y.scheduler:y.delay?function(m){return setTimeout(m,y.delay)}:ea}function Lr(y,m,w){w===void 0&&(w=E);var T,U,ye,Ae=w.name||"Reaction@"+k(),Ge=Jn(Ae,w.onError?(T=w.onError,U=m,function(){try{return U.apply(this,arguments)}catch(qt){T.call(this,qt)}}):m),ot=!w.scheduler&&!w.delay,At=_i(w),Et=!0,Ut=!1,jt=w.compareStructural?me.structural:w.equals||me.default,Ft=new pr(Ae,function(){Et||ot?Un():Ut||(Ut=!0,At(Un))},w.onError,w.requiresObservable);function Un(){if(Ut=!1,!Ft.isDisposed){var qt=!1;Ft.track(function(){var Mn=y(Ft);qt=Et||!jt(ye,Mn),ye=Mn}),Et&&w.fireImmediately&&Ge(ye,Ft),Et||qt!==!0||Ge(ye,Ft),Et&&(Et=!1)}}return Ft.schedule(),Ft.getDisposer()}function zr(y,m,w){return ta("onBecomeUnobserved",y,m,w)}function ta(y,m,w,T){var U=typeof T=="function"?Gn(m,w):Gn(m),ye=typeof T=="function"?T:w,Ae=y+"Listeners";return U[Ae]?U[Ae].add(ye):U[Ae]=new Set([ye]),typeof U[y]!="function"?D(!1):function(){var Ge=U[Ae];Ge&&(Ge.delete(ye),Ge.size===0&&delete U[Ae])}}function Or(y){var m=y.enforceActions,w=y.computedRequiresReaction,T=y.computedConfigurable,U=y.disableErrorBoundaries,ye=y.reactionScheduler,Ae=y.reactionRequiresObservable,Ge=y.observableRequiresReaction;if(y.isolateGlobalState===!0&&((st.pendingReactions.length||st.inBatch||st.isRunningReactions)&&D("isolateGlobalState should be called before MobX is running any reactions"),di=!0,Zn&&(--Xo().__mobxInstanceCount==0&&(Xo().__mobxGlobals=void 0),st=new So)),m!==void 0){var ot=void 0;switch(m){case!0:case"observed":ot=!0;break;case!1:case"never":ot=!1;break;case"strict":case"always":ot="strict";break;default:D("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}st.enforceActions=ot,st.allowStateChanges=ot!==!0&&ot!=="strict"}w!==void 0&&(st.computedRequiresReaction=!!w),Ae!==void 0&&(st.reactionRequiresObservable=!!Ae),Ge!==void 0&&(st.observableRequiresReaction=!!Ge,st.allowStateReads=!st.observableRequiresReaction),T!==void 0&&(st.computedConfigurable=!!T),U!==void 0&&(st.disableErrorBoundaries=!!U),ye&&oo(ye)}function Tn(y,m,w,T){var U=Oi(T=he(T));return Xe(y),Xr(y,T.name,U.enhancer),m&&wi(y,m,w,U),y}function Oi(y){return y.defaultDecorator||(y.deep===!1?Re:Ee)}function wi(y,m,w,T){var U,ye;Kn();try{var Ae=ne(m);try{for(var Ge=ee(Ae),ot=Ge.next();!ot.done;ot=Ge.next()){var At=ot.value,Et=Object.getOwnPropertyDescriptor(m,At),Ut=(w&&At in w?w[At]:Et.get?We:T)(y,At,Et,!0);Ut&&Object.defineProperty(y,At,Ut)}}catch(jt){U={error:jt}}finally{try{ot&&!ot.done&&(ye=Ge.return)&&ye.call(Ge)}finally{if(U)throw U.error}}}finally{$n()}}function io(y,m){return na(Gn(y,m))}function na(y){var m,w,T={name:y.name};return y.observing&&y.observing.length>0&&(T.dependencies=(m=y.observing,w=[],m.forEach(function(U){w.indexOf(U)===-1&&w.push(U)}),w).map(na)),T}var ao=0;function Qt(){this.message="FLOW_CANCELLED"}function Zo(y){arguments.length!==1&&D("Flow expects 1 argument and cannot be used as decorator");var m=y.name||"<unnamed flow>";return function(){var w,T=this,U=arguments,ye=++ao,Ae=Jn(m+" - runid: "+ye+" - init",y).apply(T,U),Ge=void 0,ot=new Promise(function(At,Et){var Ut=0;function jt(qt){var Mn;Ge=void 0;try{Mn=Jn(m+" - runid: "+ye+" - yield "+Ut++,Ae.next).call(Ae,qt)}catch(xr){return Et(xr)}Un(Mn)}function Ft(qt){var Mn;Ge=void 0;try{Mn=Jn(m+" - runid: "+ye+" - yield "+Ut++,Ae.throw).call(Ae,qt)}catch(xr){return Et(xr)}Un(Mn)}function Un(qt){if(!qt||typeof qt.then!="function")return qt.done?At(qt.value):(Ge=Promise.resolve(qt.value)).then(jt,Ft);qt.then(Un,Et)}w=Et,jt(void 0)});return ot.cancel=Jn(m+" - runid: "+ye+" - cancel",function(){try{Ge&&uo(Ge);var At=Ae.return(void 0),Et=Promise.resolve(At.value);Et.then(z,z),uo(Et),w(new Qt)}catch(Ut){w(Ut)}}),ot}}function uo(y){typeof y.cancel=="function"&&y.cancel()}function Br(y,m){if(y==null)return!1;if(m!==void 0){if(In(y)===!1||!y[B].values.has(m))return!1;var w=Gn(y,m);return _r(w)}return _r(y)}function xi(y){return arguments.length>1?D(!1):Br(y)}function Ko(y,m){return typeof m!="string"?D(!1):Br(y,m)}function Po(y,m){return y!=null&&(m!==void 0?!!In(y)&&y[B].values.has(m):In(y)||!!y[B]||le(y)||dr(y)||_r(y))}function hr(y){return arguments.length!==1&&D(!1),Po(y)}function nr(y){return In(y)?y[B].getKeys():Kt(y)||Pn(y)?Array.from(y.keys()):or(y)?y.map(function(m,w){return w}):D(!1)}function hn(y){return In(y)?nr(y).map(function(m){return y[m]}):Kt(y)?nr(y).map(function(m){return y.get(m)}):Pn(y)?Array.from(y.values()):or(y)?y.slice():D(!1)}function Qn(y){return In(y)?nr(y).map(function(m){return[m,y[m]]}):Kt(y)?nr(y).map(function(m){return[m,y.get(m)]}):Pn(y)?Array.from(y.entries()):or(y)?y.map(function(m,w){return[w,m]}):D(!1)}function $o(y,m,w){if(arguments.length!==2||Pn(y))if(In(y)){var T=y[B],U=T.values.get(m);U?T.write(m,w):T.addObservableProp(m,w,T.defaultEnhancer)}else if(Kt(y))y.set(m,w);else if(Pn(y))y.add(m);else{if(!or(y))return D(!1);typeof m!="number"&&(m=parseInt(m,10)),C(m>=0,"Not a valid index: '"+m+"'"),Kn(),m>=y.length&&(y.length=m+1),y[m]=w,$n()}else{Kn();var ye=m;try{for(var Ae in ye)$o(y,Ae,ye[Ae])}finally{$n()}}}function wr(y,m,w,T){return typeof w=="function"?function(U,ye,Ae,Ge){return ar(U,ye).observe(Ae,Ge)}(y,m,w,T):function(U,ye,Ae){return ar(U).observe(ye,Ae)}(y,m,w)}Qt.prototype=Object.create(Error.prototype);var so={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Hr(y,m,w,T){return T.detectCycles&&y.set(m,w),w}function jn(y,m,w){if(!m.recurseEverything&&!hr(y)||typeof y!="object")return y;if(y===null)return null;if(y instanceof Date)return y;if(br(y))return jn(y.get(),m,w);if(hr(y)&&nr(y),m.detectCycles===!0&&y!==null&&w.has(y))return w.get(y);if(or(y)||Array.isArray(y)){var T=Hr(w,y,[],m),U=y.map(function(jt){return jn(jt,m,w)});T.length=U.length;for(var ye=0,Ae=U.length;ye<Ae;ye++)T[ye]=U[ye];return T}if(Pn(y)||Object.getPrototypeOf(y)===Set.prototype){if(m.exportMapsAsObjects===!1){var Ge=Hr(w,y,new Set,m);return y.forEach(function(jt){Ge.add(jn(jt,m,w))}),Ge}var ot=Hr(w,y,[],m);return y.forEach(function(jt){ot.push(jn(jt,m,w))}),ot}if(Kt(y)||Object.getPrototypeOf(y)===Map.prototype){if(m.exportMapsAsObjects===!1){var At=Hr(w,y,new Map,m);return y.forEach(function(jt,Ft){At.set(Ft,jn(jt,m,w))}),At}var Et=Hr(w,y,{},m);return y.forEach(function(jt,Ft){Et[Ft]=jn(jt,m,w)}),Et}var Ut=Hr(w,y,{},m);return _e(y).forEach(function(jt){Ut[jt]=jn(y[jt],m,w)}),Ut}function Fr(y,m){var w;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=so),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(w=new Map),jn(y,m,w)}function yn(y){switch(y.length){case 0:return st.trackingDerivation;case 1:return Gn(y[0]);case 2:return Gn(y[0],y[1])}}function Cn(y,m){m===void 0&&(m=void 0),Kn();try{return y.apply(m)}finally{$n()}}function Mo(y,m,w){return arguments.length===1||m&&typeof m=="object"?Ei(y,m):co(y,m,w||{})}function co(y,m,w){var T;typeof w.timeout=="number"&&(T=setTimeout(function(){if(!ye[B].isDisposed){ye();var Ae=new Error("WHEN_TIMEOUT");if(!w.onError)throw Ae;w.onError(Ae)}},w.timeout)),w.name=w.name||"When@"+k();var U=Bt(w.name+"-effect",m),ye=bi(function(Ae){y()&&(Ae.dispose(),T&&clearTimeout(T),U())},w);return ye}function Ei(y,m){var w,T=new Promise(function(U,ye){var Ae=co(y,U,ie(ie({},m),{onError:ye}));w=function(){Ae(),ye("WHEN_CANCELLED")}});return T.cancel=w,T}function lo(y){return y[B]}function yr(y){return typeof y=="string"||typeof y=="number"||typeof y=="symbol"}var Gr={has:function(y,m){if(m===B||m==="constructor"||m===re)return!0;var w=lo(y);return yr(m)?w.has(m):m in y},get:function(y,m){if(m===B||m==="constructor"||m===re)return y[m];var w=lo(y),T=w.values.get(m);if(T instanceof oe){var U=T.get();return U===void 0&&w.has(m),U}return yr(m)&&w.has(m),y[m]},set:function(y,m,w){return!!yr(m)&&($o(y,m,w),!0)},deleteProperty:function(y,m){return!!yr(m)&&(lo(y).remove(m),!0)},ownKeys:function(y){return lo(y).keysAtom.reportObserved(),Reflect.ownKeys(y)},preventExtensions:function(y){return D("Dynamic observable objects cannot be frozen"),!1}};function ra(y){var m=new Proxy(y,Gr);return y[B].proxy=m,m}function bn(y){return y.interceptors!==void 0&&y.interceptors.length>0}function qn(y,m){var w=y.interceptors||(y.interceptors=[]);return w.push(m),R(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function Tt(y,m){var w=te();try{for(var T=ae(y.interceptors||[]),U=0,ye=T.length;U<ye&&(C(!(m=T[U](m))||m.type,"Intercept handlers should return nothing or a change object"),m);U++);return m}finally{we(w)}}function Rn(y){return y.changeListeners!==void 0&&y.changeListeners.length>0}function rr(y,m){var w=y.changeListeners||(y.changeListeners=[]);return w.push(m),R(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function sn(y,m){var w=te(),T=y.changeListeners;if(T){for(var U=0,ye=(T=T.slice()).length;U<ye;U++)T[U](m);we(w)}}var Si={get:function(y,m){return m===B?y[B]:m==="length"?y[B].getArrayLength():typeof m=="number"?er.get.call(y,m):typeof m!="string"||isNaN(m)?er.hasOwnProperty(m)?er[m]:y[m]:er.get.call(y,parseInt(m))},set:function(y,m,w){return m==="length"&&y[B].setArrayLength(w),typeof m=="number"&&er.set.call(y,m,w),typeof m=="symbol"||isNaN(m)?y[m]=w:er.set.call(y,parseInt(m),w),!0},preventExtensions:function(y){return D("Observable arrays cannot be frozen"),!1}};function ko(y,m,w,T){w===void 0&&(w="ObservableArray@"+k()),T===void 0&&(T=!1);var U,ye,Ae,Ge=new Jo(w,m,T);U=Ge.values,ye=B,Ae=Ge,Object.defineProperty(U,ye,{enumerable:!1,writable:!1,configurable:!0,value:Ae});var ot=new Proxy(Ge.values,Si);if(Ge.proxy=ot,y&&y.length){var At=xt(!0);Ge.spliceWithArray(0,0,y),Ht(At)}return ot}var Jo=function(){function y(m,w,T){this.owned=T,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new oe(m||"ObservableArray@"+k()),this.enhancer=function(U,ye){return w(U,ye,m+"[..]")}}return y.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},y.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},y.prototype.intercept=function(m){return qn(this,m)},y.prototype.observe=function(m,w){return w===void 0&&(w=!1),w&&m({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),rr(this,m)},y.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},y.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var w=this.values.length;if(m!==w)if(m>w){for(var T=new Array(m-w),U=0;U<m-w;U++)T[U]=void 0;this.spliceWithArray(w,0,T)}else this.spliceWithArray(m,w-m)},y.prototype.updateArrayLength=function(m,w){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=w},y.prototype.spliceWithArray=function(m,w,T){var U=this;wt(this.atom);var ye=this.values.length;if(m===void 0?m=0:m>ye?m=ye:m<0&&(m=Math.max(0,ye+m)),w=arguments.length===1?ye-m:w==null?0:Math.max(0,Math.min(w,ye-m)),T===void 0&&(T=S),bn(this)){var Ae=Tt(this,{object:this.proxy,type:"splice",index:m,removedCount:w,added:T});if(!Ae)return S;w=Ae.removedCount,T=Ae.added}T=T.length===0?T:T.map(function(ot){return U.enhancer(ot,void 0)});var Ge=this.spliceItemsIntoValues(m,w,T);return w===0&&T.length===0||this.notifyArraySplice(m,T,Ge),this.dehanceValues(Ge)},y.prototype.spliceItemsIntoValues=function(m,w,T){var U;if(T.length<1e4)return(U=this.values).splice.apply(U,ae([m,w],T));var ye=this.values.slice(m,m+w);return this.values=this.values.slice(0,m).concat(T,this.values.slice(m+w)),ye},y.prototype.notifyArrayChildUpdate=function(m,w,T){var U=!this.owned&&!1,ye=Rn(this),Ae=ye||U?{object:this.proxy,type:"update",index:m,newValue:w,oldValue:T}:null;this.atom.reportChanged(),ye&&sn(this,Ae)},y.prototype.notifyArraySplice=function(m,w,T){var U=!this.owned&&!1,ye=Rn(this),Ae=ye||U?{object:this.proxy,type:"splice",index:m,removed:T,added:w,removedCount:T.length,addedCount:w.length}:null;this.atom.reportChanged(),ye&&sn(this,Ae)},y}(),er={intercept:function(y){return this[B].intercept(y)},observe:function(y,m){return m===void 0&&(m=!1),this[B].observe(y,m)},clear:function(){return this.splice(0)},replace:function(y){var m=this[B];return m.spliceWithArray(0,m.values.length,y)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(y,m){for(var w=[],T=2;T<arguments.length;T++)w[T-2]=arguments[T];var U=this[B];switch(arguments.length){case 0:return[];case 1:return U.spliceWithArray(y);case 2:return U.spliceWithArray(y,m)}return U.spliceWithArray(y,m,w)},spliceWithArray:function(y,m,w){return this[B].spliceWithArray(y,m,w)},push:function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];var w=this[B];return w.spliceWithArray(w.values.length,0,y),w.values.length},pop:function(){return this.splice(Math.max(this[B].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];var w=this[B];return w.spliceWithArray(0,0,y),w.values.length},reverse:function(){var y=this.slice();return y.reverse.apply(y,arguments)},sort:function(y){var m=this.slice();return m.sort.apply(m,arguments)},remove:function(y){var m=this[B],w=m.dehanceValues(m.values).indexOf(y);return w>-1&&(this.splice(w,1),!0)},get:function(y){var m=this[B];if(m&&y<m.values.length)return m.atom.reportObserved(),m.dehanceValue(m.values[y])},set:function(y,m){var w=this[B],T=w.values;if(y<T.length){wt(w.atom);var U=T[y];if(bn(w)){var ye=Tt(w,{type:"update",object:w.proxy,index:y,newValue:m});if(!ye)return;m=ye.newValue}(m=w.enhancer(m,U))!==U&&(T[y]=m,w.notifyArrayChildUpdate(y,m,U))}else{if(y!==T.length)throw new Error("[mobx.array] Index out of bounds, "+y+" is larger than "+T.length);w.spliceWithArray(y,0,[m])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(y){typeof Array.prototype[y]=="function"&&(er[y]=function(){var m=this[B];m.atom.reportObserved();var w=m.dehanceValues(m.values);return w[y].apply(w,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(y){typeof Array.prototype[y]=="function"&&(er[y]=function(m,w){var T=this,U=this[B];return U.atom.reportObserved(),U.dehanceValues(U.values)[y](function(ye,Ae){return m.call(w,ye,Ae,T)},w)})}),["reduce","reduceRight"].forEach(function(y){er[y]=function(){var m=this,w=this[B];w.atom.reportObserved();var T=arguments[0];return arguments[0]=function(U,ye,Ae){return ye=w.dehanceValue(ye),T(U,ye,Ae,m)},w.values[y].apply(w.values,arguments)}});var ji,No=se("ObservableArrayAdministration",Jo);function or(y){return F(y)&&No(y[B])}var oa,fo={},po=function(){function y(m,w,T){if(w===void 0&&(w=Le),T===void 0&&(T="ObservableMap@"+k()),this.enhancer=w,this.name=T,this[ji]=fo,this._keysAtom=ve(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return y.prototype._has=function(m){return this._data.has(m)},y.prototype.has=function(m){var w=this;if(!st.trackingDerivation)return this._has(m);var T=this._hasMap.get(m);if(!T){var U=T=new Rt(this._has(m),Ue,this.name+"."+ce(m)+"?",!1);this._hasMap.set(m,U),zr(U,function(){return w._hasMap.delete(m)})}return T.get()},y.prototype.set=function(m,w){var T=this._has(m);if(bn(this)){var U=Tt(this,{type:T?"update":"add",object:this,newValue:w,name:m});if(!U)return this;w=U.newValue}return T?this._updateValue(m,w):this._addValue(m,w),this},y.prototype.delete=function(m){var w=this;if(wt(this._keysAtom),bn(this)&&!(U=Tt(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var T=Rn(this),U=T?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return Cn(function(){w._keysAtom.reportChanged(),w._updateHasMapEntry(m,!1),w._data.get(m).setNewValue(void 0),w._data.delete(m)}),T&&sn(this,U),!0}return!1},y.prototype._updateHasMapEntry=function(m,w){var T=this._hasMap.get(m);T&&T.setNewValue(w)},y.prototype._updateValue=function(m,w){var T=this._data.get(m);if((w=T.prepareNewValue(w))!==st.UNCHANGED){var U=!1,ye=Rn(this),Ae=ye?{type:"update",object:this,oldValue:T.value,name:m,newValue:w}:null;T.setNewValue(w),ye&&sn(this,Ae)}},y.prototype._addValue=function(m,w){var T=this;wt(this._keysAtom),Cn(function(){var Ge=new Rt(w,T.enhancer,T.name+"."+ce(m),!1);T._data.set(m,Ge),w=Ge.value,T._updateHasMapEntry(m,!0),T._keysAtom.reportChanged()});var U=!1,ye=Rn(this),Ae=ye?{type:"add",object:this,name:m,newValue:w}:null;ye&&sn(this,Ae)},y.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},y.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},y.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},y.prototype.values=function(){var m=this,w=this.keys();return Co({next:function(){var T=w.next(),U=T.done,ye=T.value;return{done:U,value:U?void 0:m.get(ye)}}})},y.prototype.entries=function(){var m=this,w=this.keys();return Co({next:function(){var T=w.next(),U=T.done,ye=T.value;return{done:U,value:U?void 0:[ye,m.get(ye)]}}})},y.prototype[ji=B,Symbol.iterator]=function(){return this.entries()},y.prototype.forEach=function(m,w){var T,U;try{for(var ye=ee(this),Ae=ye.next();!Ae.done;Ae=ye.next()){var Ge=I(Ae.value,2),ot=Ge[0],At=Ge[1];m.call(w,At,ot,this)}}catch(Et){T={error:Et}}finally{try{Ae&&!Ae.done&&(U=ye.return)&&U.call(ye)}finally{if(T)throw T.error}}},y.prototype.merge=function(m){var w=this;return Kt(m)&&(m=m.toJS()),Cn(function(){var T=xt(!0);try{G(m)?_e(m).forEach(function(U){return w.set(U,m[U])}):Array.isArray(m)?m.forEach(function(U){var ye=I(U,2),Ae=ye[0],Ge=ye[1];return w.set(Ae,Ge)}):ue(m)?(m.constructor!==Map&&D("Cannot initialize from classes that inherit from Map: "+m.constructor.name),m.forEach(function(U,ye){return w.set(ye,U)})):m!=null&&D("Cannot initialize map from "+m)}finally{Ht(T)}}),this},y.prototype.clear=function(){var m=this;Cn(function(){be(function(){var w,T;try{for(var U=ee(m.keys()),ye=U.next();!ye.done;ye=U.next()){var Ae=ye.value;m.delete(Ae)}}catch(Ge){w={error:Ge}}finally{try{ye&&!ye.done&&(T=U.return)&&T.call(U)}finally{if(w)throw w.error}}})})},y.prototype.replace=function(m){var w=this;return Cn(function(){var T,U,ye,Ae,Ge=function(_n){if(ue(_n)||Kt(_n))return _n;if(Array.isArray(_n))return new Map(_n);if(G(_n)){var ni=new Map;for(var Vr in _n)ni.set(Vr,_n[Vr]);return ni}return D("Cannot convert to map from '"+_n+"'")}(m),ot=new Map,At=!1;try{for(var Et=ee(w._data.keys()),Ut=Et.next();!Ut.done;Ut=Et.next()){var jt=Ut.value;if(!Ge.has(jt))if(w.delete(jt))At=!0;else{var Ft=w._data.get(jt);ot.set(jt,Ft)}}}catch(_n){T={error:_n}}finally{try{Ut&&!Ut.done&&(U=Et.return)&&U.call(Et)}finally{if(T)throw T.error}}try{for(var Un=ee(Ge.entries()),qt=Un.next();!qt.done;qt=Un.next()){var Mn=I(qt.value,2),xr=(jt=Mn[0],Ft=Mn[1],w._data.has(jt));if(w.set(jt,Ft),w._data.has(jt)){var Ma=w._data.get(jt);ot.set(jt,Ma),xr||(At=!0)}}}catch(_n){ye={error:_n}}finally{try{qt&&!qt.done&&(Ae=Un.return)&&Ae.call(Un)}finally{if(ye)throw ye.error}}if(!At)if(w._data.size!==ot.size)w._keysAtom.reportChanged();else for(var aa=w._data.keys(),ei=ot.keys(),Er=aa.next(),ti=ei.next();!Er.done;){if(Er.value!==ti.value){w._keysAtom.reportChanged();break}Er=aa.next(),ti=ei.next()}w._data=ot}),this},Object.defineProperty(y.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.toPOJO=function(){var m,w,T={};try{for(var U=ee(this),ye=U.next();!ye.done;ye=U.next()){var Ae=I(ye.value,2),Ge=Ae[0],ot=Ae[1];T[typeof Ge=="symbol"?Ge:ce(Ge)]=ot}}catch(At){m={error:At}}finally{try{ye&&!ye.done&&(w=U.return)&&w.call(U)}finally{if(m)throw m.error}}return T},y.prototype.toJS=function(){return new Map(this)},y.prototype.toJSON=function(){return this.toPOJO()},y.prototype.toString=function(){var m=this;return this.name+"[{ "+Array.from(this.keys()).map(function(w){return ce(w)+": "+m.get(w)}).join(", ")+" }]"},y.prototype.observe=function(m,w){return rr(this,m)},y.prototype.intercept=function(m){return qn(this,m)},y}(),Kt=se("ObservableMap",po),ir={},ho=function(){function y(m,w,T){if(w===void 0&&(w=Le),T===void 0&&(T="ObservableSet@"+k()),this.name=T,this[oa]=ir,this._data=new Set,this._atom=ve(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(U,ye){return w(U,ye,T)},m&&this.replace(m)}return y.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},y.prototype.clear=function(){var m=this;Cn(function(){be(function(){var w,T;try{for(var U=ee(m._data.values()),ye=U.next();!ye.done;ye=U.next()){var Ae=ye.value;m.delete(Ae)}}catch(Ge){w={error:Ge}}finally{try{ye&&!ye.done&&(T=U.return)&&T.call(U)}finally{if(w)throw w.error}}})})},y.prototype.forEach=function(m,w){var T,U;try{for(var ye=ee(this),Ae=ye.next();!Ae.done;Ae=ye.next()){var Ge=Ae.value;m.call(w,Ge,Ge,this)}}catch(ot){T={error:ot}}finally{try{Ae&&!Ae.done&&(U=ye.return)&&U.call(ye)}finally{if(T)throw T.error}}},Object.defineProperty(y.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.add=function(m){var w=this;if(wt(this._atom),bn(this)&&!(ye=Tt(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){Cn(function(){w._data.add(w.enhancer(m,void 0)),w._atom.reportChanged()});var T=!1,U=Rn(this),ye=U?{type:"add",object:this,newValue:m}:null;U&&sn(this,ye)}return this},y.prototype.delete=function(m){var w=this;if(bn(this)&&!(U=Tt(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var T=Rn(this),U=T?{type:"delete",object:this,oldValue:m}:null;return Cn(function(){w._atom.reportChanged(),w._data.delete(m)}),T&&sn(this,U),!0}return!1},y.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},y.prototype.entries=function(){var m=0,w=Array.from(this.keys()),T=Array.from(this.values());return Co({next:function(){var U=m;return m+=1,U<T.length?{value:[w[U],T[U]],done:!1}:{done:!0}}})},y.prototype.keys=function(){return this.values()},y.prototype.values=function(){this._atom.reportObserved();var m=this,w=0,T=Array.from(this._data.values());return Co({next:function(){return w<T.length?{value:m.dehanceValue(T[w++]),done:!1}:{done:!0}}})},y.prototype.replace=function(m){var w=this;return Pn(m)&&(m=m.toJS()),Cn(function(){var T=xt(!0);try{Array.isArray(m)||pe(m)?(w.clear(),m.forEach(function(U){return w.add(U)})):m!=null&&D("Cannot initialize set from "+m)}finally{Ht(T)}}),this},y.prototype.observe=function(m,w){return rr(this,m)},y.prototype.intercept=function(m){return qn(this,m)},y.prototype.toJS=function(){return new Set(this)},y.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},y.prototype[oa=B,Symbol.iterator]=function(){return this.values()},y}(),Pn=se("ObservableSet",ho),Qo=function(){function y(m,w,T,U){w===void 0&&(w=new Map),this.target=m,this.values=w,this.name=T,this.defaultEnhancer=U,this.keysAtom=new oe(T+".keys")}return y.prototype.read=function(m){return this.values.get(m).get()},y.prototype.write=function(m,w){var T=this.target,U=this.values.get(m);if(U instanceof lr)U.set(w);else{if(bn(this)){if(!(Ge=Tt(this,{type:"update",object:this.proxy||T,name:m,newValue:w})))return;w=Ge.newValue}if((w=U.prepareNewValue(w))!==st.UNCHANGED){var ye=Rn(this),Ae=!1,Ge=ye?{type:"update",object:this.proxy||T,oldValue:U.value,name:m,newValue:w}:null;U.setNewValue(w),ye&&sn(this,Ge)}}},y.prototype.has=function(m){var w=this.pendingKeys||(this.pendingKeys=new Map),T=w.get(m);if(T)return T.get();var U=!!this.values.get(m);return T=new Rt(U,Ue,this.name+"."+ce(m)+"?",!1),w.set(m,T),T.get()},y.prototype.addObservableProp=function(m,w,T){T===void 0&&(T=this.defaultEnhancer);var U=this.target;if(bn(this)){var ye=Tt(this,{object:this.proxy||U,name:m,type:"add",newValue:w});if(!ye)return;w=ye.newValue}var Ae=new Rt(w,T,this.name+"."+ce(m),!1);this.values.set(m,Ae),w=Ae.value,Object.defineProperty(U,m,function(Ge){return Ao[Ge]||(Ao[Ge]={configurable:!0,enumerable:!0,get:function(){return this[B].read(Ge)},set:function(ot){this[B].write(Ge,ot)}})}(m)),this.notifyPropertyAddition(m,w)},y.prototype.addComputedProp=function(m,w,T){var U,ye,Ae,Ge=this.target;T.name=T.name||this.name+"."+ce(w),this.values.set(w,new lr(T)),(m===Ge||(U=m,ye=w,!(Ae=Object.getOwnPropertyDescriptor(U,ye))||Ae.configurable!==!1&&Ae.writable!==!1))&&Object.defineProperty(m,w,function(ot){return tr[ot]||(tr[ot]={configurable:st.computedConfigurable,enumerable:!1,get:function(){return Do(this).read(ot)},set:function(At){Do(this).write(ot,At)}})}(w))},y.prototype.remove=function(m){if(this.values.has(m)){var w=this.target;if(bn(this)&&!(ot=Tt(this,{object:this.proxy||w,name:m,type:"remove"})))return;try{Kn();var T=Rn(this),U=!1,ye=this.values.get(m),Ae=ye&&ye.get();if(ye&&ye.set(void 0),this.keysAtom.reportChanged(),this.values.delete(m),this.pendingKeys){var Ge=this.pendingKeys.get(m);Ge&&Ge.set(!1)}delete this.target[m];var ot=T?{type:"remove",object:this.proxy||w,oldValue:Ae,name:m}:null;T&&sn(this,ot)}finally{$n()}}},y.prototype.illegalAccess=function(m,w){},y.prototype.observe=function(m,w){return rr(this,m)},y.prototype.intercept=function(m){return qn(this,m)},y.prototype.notifyPropertyAddition=function(m,w){var T=Rn(this),U=T?{type:"add",object:this.proxy||this.target,name:m,newValue:w}:null;if(T&&sn(this,U),this.pendingKeys){var ye=this.pendingKeys.get(m);ye&&ye.set(!0)}this.keysAtom.reportChanged()},y.prototype.getKeys=function(){var m,w;this.keysAtom.reportObserved();var T=[];try{for(var U=ee(this.values),ye=U.next();!ye.done;ye=U.next()){var Ae=I(ye.value,2),Ge=Ae[0];Ae[1]instanceof Rt&&T.push(Ge)}}catch(ot){m={error:ot}}finally{try{ye&&!ye.done&&(w=U.return)&&w.call(U)}finally{if(m)throw m.error}}return T},y}();function Xr(y,m,w){if(m===void 0&&(m=""),w===void 0&&(w=Le),Object.prototype.hasOwnProperty.call(y,B))return y[B];G(y)||(m=(y.constructor.name||"ObservableObject")+"@"+k()),m||(m="ObservableObject@"+k());var T=new Qo(y,new Map,ce(m),w);return q(y,B,T),T}var Ao=Object.create(null),tr=Object.create(null);function Do(y){var m=y[B];return m||(Xe(y),y[B])}var Pi=se("ObservableObjectAdministration",Qo);function In(y){return!!F(y)&&(Xe(y),Pi(y[B]))}function Gn(y,m){if(typeof y=="object"&&y!==null){if(or(y))return m!==void 0&&D(!1),y[B].atom;if(Pn(y))return y[B];if(Kt(y)){var w=y;return m===void 0?w._keysAtom:((T=w._data.get(m)||w._hasMap.get(m))||D(!1),T)}var T;if(Xe(y),m&&!y[B]&&y[m],In(y))return m?((T=y[B].values.get(m))||D(!1),T):D(!1);if(le(y)||_r(y)||dr(y))return y}else if(typeof y=="function"&&dr(y[B]))return y[B];return D(!1)}function ar(y,m){return y||D("Expecting some object"),m!==void 0?ar(Gn(y,m)):le(y)||_r(y)||dr(y)||Kt(y)||Pn(y)?y:(Xe(y),y[B]?y[B]:void D(!1))}var qo=Object.prototype.toString;function Ur(y,m,w){return w===void 0&&(w=-1),To(y,m,w)}function To(y,m,w,T,U){if(y===m)return y!==0||1/y==1/m;if(y==null||m==null)return!1;if(y!=y)return m!=m;var ye=typeof y;if(ye!=="function"&&ye!=="object"&&typeof m!="object")return!1;var Ae=qo.call(y);if(Ae!==qo.call(m))return!1;switch(Ae){case"[object RegExp]":case"[object String]":return""+y==""+m;case"[object Number]":return+y!=+y?+m!=+m:+y==0?1/+y==1/m:+y==+m;case"[object Date]":case"[object Boolean]":return+y==+m;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(y)===Symbol.valueOf.call(m);case"[object Map]":case"[object Set]":w>=0&&w++}y=Mi(y),m=Mi(m);var Ge=Ae==="[object Array]";if(!Ge){if(typeof y!="object"||typeof m!="object")return!1;var ot=y.constructor,At=m.constructor;if(ot!==At&&!(typeof ot=="function"&&ot instanceof ot&&typeof At=="function"&&At instanceof At)&&"constructor"in y&&"constructor"in m)return!1}if(w===0)return!1;w<0&&(w=-1),U=U||[];for(var Et=(T=T||[]).length;Et--;)if(T[Et]===y)return U[Et]===m;if(T.push(y),U.push(m),Ge){if((Et=y.length)!==m.length)return!1;for(;Et--;)if(!To(y[Et],m[Et],w-1,T,U))return!1}else{var Ut=Object.keys(y),jt=void 0;if(Et=Ut.length,Object.keys(m).length!==Et)return!1;for(;Et--;)if(!ia(m,jt=Ut[Et])||!To(y[jt],m[jt],w-1,T,U))return!1}return T.pop(),U.pop(),!0}function Mi(y){return or(y)?y.slice():ue(y)||Kt(y)||pe(y)||Pn(y)?Array.from(y.entries()):y}function ia(y,m){return Object.prototype.hasOwnProperty.call(y,m)}function Co(y){return y[Symbol.iterator]=Xn,y}function Xn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Yo,extras:{getDebugName:function(y,m){return(m!==void 0?Gn(y,m):In(y)||Kt(y)||Pn(y)?ar(y):Gn(y)).name}},$mobx:B})}).call(this,s(155),s(82))},function(x,j,s){"use strict";s.d(j,"a",function(){return ce}),s.d(j,"b",function(){return _e}),s.d(j,"c",function(){return Le}),s.d(j,"d",function(){return Ue}),s.d(j,"e",function(){return se}),s.d(j,"f",function(){return pe}),s.d(j,"g",function(){return se}),s.d(j,"h",function(){return ke}),s.d(j,"i",function(){return p}),s.d(j,"j",function(){return rt}),s.d(j,"k",function(){return me});var _,p,S,E,k,D,C,R={},z=[],F=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function G(W,Z){for(var he in Z)W[he]=Z[he];return W}function q(W){var Z=W.parentNode;Z&&Z.removeChild(W)}function se(W,Z,he){var Ee,ze,Re,it={};for(Re in Z)Re=="key"?Ee=Z[Re]:Re=="ref"?ze=Z[Re]:it[Re]=Z[Re];if(arguments.length>2&&(it.children=arguments.length>3?_.call(arguments,2):he),typeof W=="function"&&W.defaultProps!=null)for(Re in W.defaultProps)it[Re]===void 0&&(it[Re]=W.defaultProps[Re]);return ue(W,it,Ee,ze,null)}function ue(W,Z,he,Ee,ze){var Re={type:W,props:Z,key:he,ref:Ee,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:ze==null?++S:ze};return ze==null&&p.vnode!=null&&p.vnode(Re),Re}function pe(){return{current:null}}function _e(W){return W.children}function ce(W,Z){this.props=W,this.context=Z}function $(W,Z){if(Z==null)return W.__?$(W.__,W.__.__k.indexOf(W)+1):null;for(var he;Z<W.__k.length;Z++)if((he=W.__k[Z])!=null&&he.__e!=null)return he.__e;return typeof W.type=="function"?$(W):null}function ne(W){var Z,he;if((W=W.__)!=null&&W.__c!=null){for(W.__e=W.__c.base=null,Z=0;Z<W.__k.length;Z++)if((he=W.__k[Z])!=null&&he.__e!=null){W.__e=W.__c.base=he.__e;break}return ne(W)}}function B(W){(!W.__d&&(W.__d=!0)&&E.push(W)&&!oe.__r++||D!==p.debounceRendering)&&((D=p.debounceRendering)||k)(oe)}function oe(){for(var W;oe.__r=E.length;)W=E.sort(function(Z,he){return Z.__v.__b-he.__v.__b}),E=[],W.some(function(Z){var he,Ee,ze,Re,it,ut;Z.__d&&(it=(Re=(he=Z).__v).__e,(ut=he.__P)&&(Ee=[],(ze=G({},Re)).__v=Re.__v+1,re(ut,Re,ze,he.__n,ut.ownerSVGElement!==void 0,Re.__h!=null?[it]:null,Ee,it==null?$(Re):it,Re.__h),Q(Ee,Re),Re.__e!=it&&ne(Re)))})}function le(W,Z,he,Ee,ze,Re,it,ut,dt,tt){var Te,Ze,fe,We,qe,Nt,gt,ht=Ee&&Ee.__k||z,Lt=ht.length;for(he.__k=[],Te=0;Te<Z.length;Te++)if((We=he.__k[Te]=(We=Z[Te])==null||typeof We=="boolean"?null:typeof We=="string"||typeof We=="number"||typeof We=="bigint"?ue(null,We,null,null,We):Array.isArray(We)?ue(_e,{children:We},null,null,null):We.__b>0?ue(We.type,We.props,We.key,null,We.__v):We)!=null){if(We.__=he,We.__b=he.__b+1,(fe=ht[Te])===null||fe&&We.key==fe.key&&We.type===fe.type)ht[Te]=void 0;else for(Ze=0;Ze<Lt;Ze++){if((fe=ht[Ze])&&We.key==fe.key&&We.type===fe.type){ht[Ze]=void 0;break}fe=null}re(W,We,fe=fe||R,ze,Re,it,ut,dt,tt),qe=We.__e,(Ze=We.ref)&&fe.ref!=Ze&&(gt||(gt=[]),fe.ref&&gt.push(fe.ref,null,We),gt.push(Ze,We.__c||qe,We)),qe!=null?(Nt==null&&(Nt=qe),typeof We.type=="function"&&We.__k===fe.__k?We.__d=dt=ve(We,dt,W):dt=J(W,We,fe,ht,qe,dt),typeof he.type=="function"&&(he.__d=dt)):dt&&fe.__e==dt&&dt.parentNode!=W&&(dt=$(fe))}for(he.__e=Nt,Te=Lt;Te--;)ht[Te]!=null&&(typeof he.type=="function"&&ht[Te].__e!=null&&ht[Te].__e==he.__d&&(he.__d=$(Ee,Te+1)),Ie(ht[Te],ht[Te]));if(gt)for(Te=0;Te<gt.length;Te++)Se(gt[Te],gt[++Te],gt[++Te])}function ve(W,Z,he){for(var Ee,ze=W.__k,Re=0;ze&&Re<ze.length;Re++)(Ee=ze[Re])&&(Ee.__=W,Z=typeof Ee.type=="function"?ve(Ee,Z,he):J(he,Ee,Ee,ze,Ee.__e,Z));return Z}function me(W,Z){return Z=Z||[],W==null||typeof W=="boolean"||(Array.isArray(W)?W.some(function(he){me(he,Z)}):Z.push(W)),Z}function J(W,Z,he,Ee,ze,Re){var it,ut,dt;if(Z.__d!==void 0)it=Z.__d,Z.__d=void 0;else if(he==null||ze!=Re||ze.parentNode==null)e:if(Re==null||Re.parentNode!==W)W.appendChild(ze),it=null;else{for(ut=Re,dt=0;(ut=ut.nextSibling)&&dt<Ee.length;dt+=2)if(ut==ze)break e;W.insertBefore(ze,Re),it=Re}return it!==void 0?it:ze.nextSibling}function ie(W,Z,he){Z[0]==="-"?W.setProperty(Z,he):W[Z]=he==null?"":typeof he!="number"||F.test(Z)?he:he+"px"}function ee(W,Z,he,Ee,ze){var Re;e:if(Z==="style")if(typeof he=="string")W.style.cssText=he;else{if(typeof Ee=="string"&&(W.style.cssText=Ee=""),Ee)for(Z in Ee)he&&Z in he||ie(W.style,Z,"");if(he)for(Z in he)Ee&&he[Z]===Ee[Z]||ie(W.style,Z,he[Z])}else if(Z[0]==="o"&&Z[1]==="n")Re=Z!==(Z=Z.replace(/Capture$/,"")),Z=Z.toLowerCase()in W?Z.toLowerCase().slice(2):Z.slice(2),W.l||(W.l={}),W.l[Z+Re]=he,he?Ee||W.addEventListener(Z,Re?ae:I,Re):W.removeEventListener(Z,Re?ae:I,Re);else if(Z!=="dangerouslySetInnerHTML"){if(ze)Z=Z.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Z!=="href"&&Z!=="list"&&Z!=="form"&&Z!=="tabIndex"&&Z!=="download"&&Z in W)try{W[Z]=he==null?"":he;break e}catch(it){}typeof he=="function"||(he!=null&&(he!==!1||Z[0]==="a"&&Z[1]==="r")?W.setAttribute(Z,he):W.removeAttribute(Z))}}function I(W){this.l[W.type+!1](p.event?p.event(W):W)}function ae(W){this.l[W.type+!0](p.event?p.event(W):W)}function re(W,Z,he,Ee,ze,Re,it,ut,dt){var tt,Te,Ze,fe,We,qe,Nt,gt,ht,Lt,Xt,wt=Z.type;if(Z.constructor!==void 0)return null;he.__h!=null&&(dt=he.__h,ut=Z.__e=he.__e,Z.__h=null,Re=[ut]),(tt=p.__b)&&tt(Z);try{e:if(typeof wt=="function"){if(gt=Z.props,ht=(tt=wt.contextType)&&Ee[tt.__c],Lt=tt?ht?ht.props.value:tt.__:Ee,he.__c?Nt=(Te=Z.__c=he.__c).__=Te.__E:("prototype"in wt&&wt.prototype.render?Z.__c=Te=new wt(gt,Lt):(Z.__c=Te=new ce(gt,Lt),Te.constructor=wt,Te.render=Xe),ht&&ht.sub(Te),Te.props=gt,Te.state||(Te.state={}),Te.context=Lt,Te.__n=Ee,Ze=Te.__d=!0,Te.__h=[]),Te.__s==null&&(Te.__s=Te.state),wt.getDerivedStateFromProps!=null&&(Te.__s==Te.state&&(Te.__s=G({},Te.__s)),G(Te.__s,wt.getDerivedStateFromProps(gt,Te.__s))),fe=Te.props,We=Te.state,Ze)wt.getDerivedStateFromProps==null&&Te.componentWillMount!=null&&Te.componentWillMount(),Te.componentDidMount!=null&&Te.__h.push(Te.componentDidMount);else{if(wt.getDerivedStateFromProps==null&&gt!==fe&&Te.componentWillReceiveProps!=null&&Te.componentWillReceiveProps(gt,Lt),!Te.__e&&Te.shouldComponentUpdate!=null&&Te.shouldComponentUpdate(gt,Te.__s,Lt)===!1||Z.__v===he.__v){Te.props=gt,Te.state=Te.__s,Z.__v!==he.__v&&(Te.__d=!1),Te.__v=Z,Z.__e=he.__e,Z.__k=he.__k,Z.__k.forEach(function(en){en&&(en.__=Z)}),Te.__h.length&&it.push(Te);break e}Te.componentWillUpdate!=null&&Te.componentWillUpdate(gt,Te.__s,Lt),Te.componentDidUpdate!=null&&Te.__h.push(function(){Te.componentDidUpdate(fe,We,qe)})}Te.context=Lt,Te.props=gt,Te.state=Te.__s,(tt=p.__r)&&tt(Z),Te.__d=!1,Te.__v=Z,Te.__P=W,tt=Te.render(Te.props,Te.state,Te.context),Te.state=Te.__s,Te.getChildContext!=null&&(Ee=G(G({},Ee),Te.getChildContext())),Ze||Te.getSnapshotBeforeUpdate==null||(qe=Te.getSnapshotBeforeUpdate(fe,We)),Xt=tt!=null&&tt.type===_e&&tt.key==null?tt.props.children:tt,le(W,Array.isArray(Xt)?Xt:[Xt],Z,he,Ee,ze,Re,it,ut,dt),Te.base=Z.__e,Z.__h=null,Te.__h.length&&it.push(Te),Nt&&(Te.__E=Te.__=null),Te.__e=!1}else Re==null&&Z.__v===he.__v?(Z.__k=he.__k,Z.__e=he.__e):Z.__e=Oe(he.__e,Z,he,Ee,ze,Re,it,dt);(tt=p.diffed)&&tt(Z)}catch(en){Z.__v=null,(dt||Re!=null)&&(Z.__e=ut,Z.__h=!!dt,Re[Re.indexOf(ut)]=null),p.__e(en,Z,he)}}function Q(W,Z){p.__c&&p.__c(Z,W),W.some(function(he){try{W=he.__h,he.__h=[],W.some(function(Ee){Ee.call(he)})}catch(Ee){p.__e(Ee,he.__v)}})}function Oe(W,Z,he,Ee,ze,Re,it,ut){var dt,tt,Te,Ze=he.props,fe=Z.props,We=Z.type,qe=0;if(We==="svg"&&(ze=!0),Re!=null){for(;qe<Re.length;qe++)if((dt=Re[qe])&&"setAttribute"in dt==!!We&&(We?dt.localName===We:dt.nodeType===3)){W=dt,Re[qe]=null;break}}if(W==null){if(We===null)return document.createTextNode(fe);W=ze?document.createElementNS("http://www.w3.org/2000/svg",We):document.createElement(We,fe.is&&fe),Re=null,ut=!1}if(We===null)Ze===fe||ut&&W.data===fe||(W.data=fe);else{if(Re=Re&&_.call(W.childNodes),tt=(Ze=he.props||R).dangerouslySetInnerHTML,Te=fe.dangerouslySetInnerHTML,!ut){if(Re!=null)for(Ze={},qe=0;qe<W.attributes.length;qe++)Ze[W.attributes[qe].name]=W.attributes[qe].value;(Te||tt)&&(Te&&(tt&&Te.__html==tt.__html||Te.__html===W.innerHTML)||(W.innerHTML=Te&&Te.__html||""))}if(function(Nt,gt,ht,Lt,Xt){var wt;for(wt in ht)wt==="children"||wt==="key"||wt in gt||ee(Nt,wt,null,ht[wt],Lt);for(wt in gt)Xt&&typeof gt[wt]!="function"||wt==="children"||wt==="key"||wt==="value"||wt==="checked"||ht[wt]===gt[wt]||ee(Nt,wt,gt[wt],ht[wt],Lt)}(W,fe,Ze,ze,ut),Te)Z.__k=[];else if(qe=Z.props.children,le(W,Array.isArray(qe)?qe:[qe],Z,he,Ee,ze&&We!=="foreignObject",Re,it,Re?Re[0]:he.__k&&$(he,0),ut),Re!=null)for(qe=Re.length;qe--;)Re[qe]!=null&&q(Re[qe]);ut||("value"in fe&&(qe=fe.value)!==void 0&&(qe!==Ze.value||qe!==W.value||We==="progress"&&!qe)&&ee(W,"value",qe,Ze.value,!1),"checked"in fe&&(qe=fe.checked)!==void 0&&qe!==W.checked&&ee(W,"checked",qe,Ze.checked,!1))}return W}function Se(W,Z,he){try{typeof W=="function"?W(Z):W.current=Z}catch(Ee){p.__e(Ee,he)}}function Ie(W,Z,he){var Ee,ze;if(p.unmount&&p.unmount(W),(Ee=W.ref)&&(Ee.current&&Ee.current!==W.__e||Se(Ee,null,Z)),(Ee=W.__c)!=null){if(Ee.componentWillUnmount)try{Ee.componentWillUnmount()}catch(Re){p.__e(Re,Z)}Ee.base=Ee.__P=null}if(Ee=W.__k)for(ze=0;ze<Ee.length;ze++)Ee[ze]&&Ie(Ee[ze],Z,typeof W.type!="function");he||W.__e==null||q(W.__e),W.__e=W.__d=void 0}function Xe(W,Z,he){return this.constructor(W,he)}function rt(W,Z,he){var Ee,ze,Re;p.__&&p.__(W,Z),ze=(Ee=typeof he=="function")?null:he&&he.__k||Z.__k,Re=[],re(Z,W=(!Ee&&he||Z).__k=se(_e,null,[W]),ze||R,R,Z.ownerSVGElement!==void 0,!Ee&&he?[he]:ze?null:Z.firstChild?_.call(Z.childNodes):null,Re,!Ee&&he?he:ze?ze.__e:Z.firstChild,Ee),Q(Re,W)}function ke(W,Z){rt(W,Z,ke)}function Le(W,Z,he){var Ee,ze,Re,it=G({},W.props);for(Re in Z)Re=="key"?Ee=Z[Re]:Re=="ref"?ze=Z[Re]:it[Re]=Z[Re];return arguments.length>2&&(it.children=arguments.length>3?_.call(arguments,2):he),ue(W.type,it,Ee||W.key,ze||W.ref,null)}function Ue(W,Z){var he={__c:Z="__cC"+C++,__:W,Consumer:function(Ee,ze){return Ee.children(ze)},Provider:function(Ee){var ze,Re;return this.getChildContext||(ze=[],(Re={})[Z]=this,this.getChildContext=function(){return Re},this.shouldComponentUpdate=function(it){this.props.value!==it.value&&ze.some(B)},this.sub=function(it){ze.push(it);var ut=it.componentWillUnmount;it.componentWillUnmount=function(){ze.splice(ze.indexOf(it),1),ut&&ut.call(it)}}),Ee.children}};return he.Provider.__=he.Consumer.contextType=he}_=z.slice,p={__e:function(W,Z){for(var he,Ee,ze;Z=Z.__;)if((he=Z.__c)&&!he.__)try{if((Ee=he.constructor)&&Ee.getDerivedStateFromError!=null&&(he.setState(Ee.getDerivedStateFromError(W)),ze=he.__d),he.componentDidCatch!=null&&(he.componentDidCatch(W),ze=he.__d),ze)return he.__E=he}catch(Re){W=Re}throw W}},S=0,ce.prototype.setState=function(W,Z){var he;he=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=G({},this.state),typeof W=="function"&&(W=W(G({},he),this.props)),W&&G(he,W),W!=null&&this.__v&&(Z&&this.__h.push(Z),B(this))},ce.prototype.forceUpdate=function(W){this.__v&&(this.__e=!0,W&&this.__h.push(W),B(this))},ce.prototype.render=_e,E=[],k=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oe.__r=0,C=0},function(x,j,s){var _=s(116),p=s(44),S=s(178);_||p(Object.prototype,"toString",S,{unsafe:!0})},function(x,j,s){"use strict";var _=s(39),p=s(83),S=s(70),E=s(56),k=s(111),D="Array Iterator",C=E.set,R=E.getterFor(D);x.exports=k(Array,"Array",function(z,F){C(this,{type:D,target:_(z),index:0,kind:F})},function(){var z=R(this),F=z.target,G=z.kind,q=z.index++;return!F||q>=F.length?(z.target=void 0,{value:void 0,done:!0}):G=="keys"?{value:q,done:!1}:G=="values"?{value:F[q],done:!1}:{value:[q,F[q]],done:!1}},"values"),S.Arguments=S.Array,p("keys"),p("values"),p("entries")},function(x,j,s){var _=s(7),p=s(147),S=s(148),E=s(3),k=s(57),D=s(27),C=D("iterator"),R=D("toStringTag"),z=E.values,F=function(q,se){if(q){if(q[C]!==z)try{k(q,C,z)}catch(pe){q[C]=z}if(q[R]||k(q,R,se),p[se]){for(var ue in E)if(q[ue]!==E[ue])try{k(q,ue,E[ue])}catch(pe){q[ue]=E[ue]}}}};for(var G in p)F(_[G]&&_[G].prototype,G);F(S,"DOMTokenList")},function(x,j,s){"use strict";var _=s(16),p=s(7),S=s(46),E=s(76),k=s(35),D=s(15),C=s(64),R=s(36),z=s(109),F=s(18),G=s(34),q=s(99),se=s(28),ue=s(33),pe=s(58),_e=s(88),ce=s(32),$=s(38),ne=s(39),B=s(87),oe=s(40),le=s(71),ve=s(54),me=s(66),J=s(72),ie=s(139),ee=s(112),I=s(51),ae=s(37),re=s(93),Q=s(101),Oe=s(44),Se=s(84),Ie=s(91),Xe=s(69),rt=s(85),ke=s(27),Le=s(149),Ue=s(150),W=s(73),Z=s(56),he=s(74).forEach,Ee=Ie("hidden"),ze="Symbol",Re=ke("toPrimitive"),it=Z.set,ut=Z.getterFor(ze),dt=Object.prototype,tt=p.Symbol,Te=tt&&tt.prototype,Ze=p.TypeError,fe=p.QObject,We=S("JSON","stringify"),qe=I.f,Nt=ae.f,gt=ie.f,ht=re.f,Lt=D([].push),Xt=Se("symbols"),wt=Se("op-symbols"),en=Se("string-to-symbol-registry"),V=Se("symbol-to-string-registry"),be=Se("wks"),te=!fe||!fe.prototype||!fe.prototype.findChild,we=R&&F(function(){return ve(Nt({},"a",{get:function(){return Nt(this,"a",{value:7}).a}})).a!=7})?function(Qe,lt,yt){var xt=qe(dt,lt);xt&&delete dt[lt],Nt(Qe,lt,yt),xt&&Qe!==dt&&Nt(dt,lt,xt)}:Nt,Ye=function(Qe,lt){var yt=Xt[Qe]=ve(Te);return it(yt,{type:ze,tag:Qe,description:lt}),R||(yt.description=lt),yt},Ve=function(Qe,lt,yt){Qe===dt&&Ve(wt,lt,yt),ce(Qe);var xt=B(lt);return ce(yt),G(Xt,xt)?(yt.enumerable?(G(Qe,Ee)&&Qe[Ee][xt]&&(Qe[Ee][xt]=!1),yt=ve(yt,{enumerable:le(0,!1)})):(G(Qe,Ee)||Nt(Qe,Ee,le(1,{})),Qe[Ee][xt]=!0),we(Qe,xt,yt)):Nt(Qe,xt,yt)},Ke=function(Qe,lt){ce(Qe);var yt=ne(lt),xt=me(yt).concat(Bt(yt));return he(xt,function(Ht){R&&!k(_t,yt,Ht)||Ve(Qe,Ht,yt[Ht])}),Qe},_t=function(Qe){var lt=B(Qe),yt=k(ht,this,lt);return!(this===dt&&G(Xt,lt)&&!G(wt,lt))&&(!(yt||!G(this,lt)||!G(Xt,lt)||G(this,Ee)&&this[Ee][lt])||yt)},rn=function(Qe,lt){var yt=ne(Qe),xt=B(lt);if(yt!==dt||!G(Xt,xt)||G(wt,xt)){var Ht=qe(yt,xt);return!Ht||!G(Xt,xt)||G(yt,Ee)&&yt[Ee][xt]||(Ht.enumerable=!0),Ht}},Jt=function(Qe){var lt=gt(ne(Qe)),yt=[];return he(lt,function(xt){G(Xt,xt)||G(Xe,xt)||Lt(yt,xt)}),yt},Bt=function(Qe){var lt=Qe===dt,yt=gt(lt?wt:ne(Qe)),xt=[];return he(yt,function(Ht){!G(Xt,Ht)||lt&&!G(dt,Ht)||Lt(xt,Xt[Ht])}),xt};if(z||(tt=function(){if(pe(Te,this))throw Ze("Symbol is not a constructor");var Qe=arguments.length&&arguments[0]!==void 0?oe(arguments[0]):void 0,lt=rt(Qe),yt=function(xt){this===dt&&k(yt,wt,xt),G(this,Ee)&&G(this[Ee],lt)&&(this[Ee][lt]=!1),we(this,lt,le(1,xt))};return R&&te&&we(dt,lt,{configurable:!0,set:yt}),Ye(lt,Qe)},Oe(Te=tt.prototype,"toString",function(){return ut(this).tag}),Oe(tt,"withoutSetter",function(Qe){return Ye(rt(Qe),Qe)}),re.f=_t,ae.f=Ve,I.f=rn,J.f=ie.f=Jt,ee.f=Bt,Le.f=function(Qe){return Ye(ke(Qe),Qe)},R&&(Nt(Te,"description",{configurable:!0,get:function(){return ut(this).description}}),C||Oe(dt,"propertyIsEnumerable",_t,{unsafe:!0}))),_({global:!0,wrap:!0,forced:!z,sham:!z},{Symbol:tt}),he(me(be),function(Qe){Ue(Qe)}),_({target:ze,stat:!0,forced:!z},{for:function(Qe){var lt=oe(Qe);if(G(en,lt))return en[lt];var yt=tt(lt);return en[lt]=yt,V[yt]=lt,yt},keyFor:function(Qe){if(!_e(Qe))throw Ze(Qe+" is not a symbol");if(G(V,Qe))return V[Qe]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),_({target:"Object",stat:!0,forced:!z,sham:!R},{create:function(Qe,lt){return lt===void 0?ve(Qe):Ke(ve(Qe),lt)},defineProperty:Ve,defineProperties:Ke,getOwnPropertyDescriptor:rn}),_({target:"Object",stat:!0,forced:!z},{getOwnPropertyNames:Jt,getOwnPropertySymbols:Bt}),_({target:"Object",stat:!0,forced:F(function(){ee.f(1)})},{getOwnPropertySymbols:function(Qe){return ee.f($(Qe))}}),We&&_({target:"JSON",stat:!0,forced:!z||F(function(){var Qe=tt();return We([Qe])!="[null]"||We({a:Qe})!="{}"||We(Object(Qe))!="{}"})},{stringify:function(Qe,lt,yt){var xt=Q(arguments),Ht=lt;if((ue(lt)||Qe!==void 0)&&!_e(Qe))return q(lt)||(lt=function(Rt,br){if(se(Ht)&&(br=k(Ht,this,Rt,br)),!_e(br))return br}),xt[1]=lt,E(We,null,xt)}}),!Te[Re]){var Vt=Te.valueOf;Oe(Te,Re,function(Qe){return k(Vt,this)})}W(tt,ze),Xe[Ee]=!0},function(x,j,s){"use strict";var _=s(146).charAt,p=s(40),S=s(56),E=s(111),k="String Iterator",D=S.set,C=S.getterFor(k);E(String,"String",function(R){D(this,{type:k,string:p(R),index:0})},function(){var R,z=C(this),F=z.string,G=z.index;return G>=F.length?{value:void 0,done:!0}:(R=_(F,G),z.index+=R.length,{value:R,done:!1})})},function(x,j,s){(function(_){var p=function(S){return S&&S.Math==Math&&S};x.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof _=="object"&&_)||function(){return this}()||Function("return this")()}).call(this,s(82))},function(x,j,s){"use strict";var _=s(16),p=s(36),S=s(7),E=s(15),k=s(34),D=s(28),C=s(58),R=s(40),z=s(37).f,F=s(134),G=S.Symbol,q=G&&G.prototype;if(p&&D(G)&&(!("description"in q)||G().description!==void 0)){var se={},ue=function(){var oe=arguments.length<1||arguments[0]===void 0?void 0:R(arguments[0]),le=C(q,this)?new G(oe):oe===void 0?G():G(oe);return oe===""&&(se[le]=!0),le};F(ue,G),ue.prototype=q,q.constructor=ue;var pe=String(G("test"))=="Symbol(test)",_e=E(q.toString),ce=E(q.valueOf),$=/^Symbol\((.*)\)[^)]+$/,ne=E("".replace),B=E("".slice);z(q,"description",{configurable:!0,get:function(){var oe=ce(this),le=_e(oe);if(k(se,oe))return"";var ve=pe?B(le,7,-1):ne(le,$,"$1");return ve===""?void 0:ve}}),_({global:!0,forced:!0},{Symbol:ue})}},function(x,j,s){s(150)("iterator")},function(x,j,s){"use strict";s.d(j,"a",function(){return E.a}),s.d(j,"c",function(){return E.e}),s.d(j,"h",function(){return $}),s.d(j,"i",function(){return pe}),s.d(j,"j",function(){return se}),s.d(j,"b",function(){return I}),s.d(j,"e",function(){return Oe}),s.d(j,"f",function(){return ae}),s.d(j,"g",function(){return Xt});var _,p,S,E=s(1),k=0,D=[],C=E.i.__b,R=E.i.__r,z=E.i.diffed,F=E.i.__c,G=E.i.unmount;function q(V,be){E.i.__h&&E.i.__h(p,V,k||be),k=0;var te=p.__H||(p.__H={__:[],__h:[]});return V>=te.__.length&&te.__.push({}),te.__[V]}function se(V){return k=1,ue(J,V)}function ue(V,be,te){var we=q(_++,2);return we.t=V,we.__c||(we.__=[te?te(be):J(void 0,be),function(Ye){var Ve=we.t(we.__[0],Ye);we.__[0]!==Ve&&(we.__=[Ve,we.__[1]],we.__c.setState({}))}],we.__c=p),we.__}function pe(V,be){var te=q(_++,3);!E.i.__s&&me(te.__H,be)&&(te.__=V,te.__H=be,p.__H.__h.push(te))}function _e(V,be){var te=q(_++,4);!E.i.__s&&me(te.__H,be)&&(te.__=V,te.__H=be,p.__h.push(te))}function ce(V,be){var te=q(_++,7);return me(te.__H,be)&&(te.__=V(),te.__H=be,te.__h=V),te.__}function $(V,be){return k=8,ce(function(){return V},be)}function ne(){var V;for(D.sort(function(be,te){return be.__v.__b-te.__v.__b});V=D.pop();)if(V.__P)try{V.__H.__h.forEach(le),V.__H.__h.forEach(ve),V.__H.__h=[]}catch(be){V.__H.__h=[],E.i.__e(be,V.__v)}}E.i.__b=function(V){p=null,C&&C(V)},E.i.__r=function(V){R&&R(V),_=0;var be=(p=V.__c).__H;be&&(be.__h.forEach(le),be.__h.forEach(ve),be.__h=[])},E.i.diffed=function(V){z&&z(V);var be=V.__c;be&&be.__H&&be.__H.__h.length&&(D.push(be)!==1&&S===E.i.requestAnimationFrame||((S=E.i.requestAnimationFrame)||oe)(ne)),p=null},E.i.__c=function(V,be){be.some(function(te){try{te.__h.forEach(le),te.__h=te.__h.filter(function(we){return!we.__||ve(we)})}catch(we){be.some(function(Ye){Ye.__h&&(Ye.__h=[])}),be=[],E.i.__e(we,te.__v)}}),F&&F(V,be)},E.i.unmount=function(V){G&&G(V);var be,te=V.__c;te&&te.__H&&(te.__H.__.forEach(function(we){try{le(we)}catch(Ye){be=Ye}}),be&&E.i.__e(be,te.__v))};var B=typeof requestAnimationFrame=="function";function oe(V){var be,te=function(){clearTimeout(we),B&&cancelAnimationFrame(be),setTimeout(V)},we=setTimeout(te,100);B&&(be=requestAnimationFrame(te))}function le(V){var be=p,te=V.__c;typeof te=="function"&&(V.__c=void 0,te()),p=be}function ve(V){var be=p;V.__c=V.__(),p=be}function me(V,be){return!V||V.length!==be.length||be.some(function(te,we){return te!==V[we]})}function J(V,be){return typeof be=="function"?be(V):be}function ie(V,be){for(var te in be)V[te]=be[te];return V}function ee(V,be){for(var te in V)if(te!=="__source"&&!(te in be))return!0;for(var we in be)if(we!=="__source"&&V[we]!==be[we])return!0;return!1}function I(V){this.props=V}function ae(V,be){function te(Ye){var Ve=this.props.ref,Ke=Ve==Ye.ref;return!Ke&&Ve&&(Ve.call?Ve(null):Ve.current=null),be?!be(this.props,Ye)||!Ke:ee(this.props,Ye)}function we(Ye){return this.shouldComponentUpdate=te,Object(E.e)(V,Ye)}return we.displayName="Memo("+(V.displayName||V.name)+")",we.prototype.isReactComponent=!0,we.__f=!0,we}(I.prototype=new E.a).isPureReactComponent=!0,I.prototype.shouldComponentUpdate=function(V,be){return ee(this.props,V)||ee(this.state,be)};var re=E.i.__b;E.i.__b=function(V){V.type&&V.type.__f&&V.ref&&(V.props.ref=V.ref,V.ref=null),re&&re(V)};var Q=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Oe(V){function be(te,we){var Ye=ie({},te);return delete Ye.ref,V(Ye,!(we=te.ref||we)||typeof we=="object"&&!("current"in we)?null:we)}return be.$$typeof=Q,be.render=be,be.prototype.isReactComponent=be.__f=!0,be.displayName="ForwardRef("+(V.displayName||V.name)+")",be}var Se=function(V,be){return V==null?null:Object(E.k)(Object(E.k)(V).map(be))},Ie={map:Se,forEach:Se,count:function(V){return V?Object(E.k)(V).length:0},only:function(V){var be=Object(E.k)(V);if(be.length!==1)throw"Children.only";return be[0]},toArray:E.k},Xe=E.i.__e;E.i.__e=function(V,be,te){if(V.then){for(var we,Ye=be;Ye=Ye.__;)if((we=Ye.__c)&&we.__c)return be.__e==null&&(be.__e=te.__e,be.__k=te.__k),we.__c(V,be)}Xe(V,be,te)};var rt=E.i.unmount;function ke(V,be,te){return V&&(V.__c&&V.__c.__H&&(V.__c.__H.__.forEach(function(we){typeof we.__c=="function"&&we.__c()}),V.__c.__H=null),(V=ie({},V)).__c!=null&&(V.__c.__P===te&&(V.__c.__P=be),V.__c=null),V.__k=V.__k&&V.__k.map(function(we){return ke(we,be,te)})),V}function Le(V,be,te){return V&&(V.__v=null,V.__k=V.__k&&V.__k.map(function(we){return Le(we,be,te)}),V.__c&&V.__c.__P===be&&(V.__e&&te.insertBefore(V.__e,V.__d),V.__c.__e=!0,V.__c.__P=te)),V}function Ue(){this.__u=0,this.t=null,this.__b=null}function W(V){var be=V.__.__c;return be&&be.__e&&be.__e(V)}function Z(){this.u=null,this.o=null}E.i.unmount=function(V){var be=V.__c;be&&be.__R&&be.__R(),be&&V.__h===!0&&(V.type=null),rt&&rt(V)},(Ue.prototype=new E.a).__c=function(V,be){var te=be.__c,we=this;we.t==null&&(we.t=[]),we.t.push(te);var Ye=W(we.__v),Ve=!1,Ke=function(){Ve||(Ve=!0,te.__R=null,Ye?Ye(_t):_t())};te.__R=Ke;var _t=function(){if(!--we.__u){if(we.state.__e){var Jt=we.state.__e;we.__v.__k[0]=Le(Jt,Jt.__c.__P,Jt.__c.__O)}var Bt;for(we.setState({__e:we.__b=null});Bt=we.t.pop();)Bt.forceUpdate()}},rn=be.__h===!0;we.__u++||rn||we.setState({__e:we.__b=we.__v.__k[0]}),V.then(Ke,Ke)},Ue.prototype.componentWillUnmount=function(){this.t=[]},Ue.prototype.render=function(V,be){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),we=this.__v.__k[0].__c;this.__v.__k[0]=ke(this.__b,te,we.__O=we.__P)}this.__b=null}var Ye=be.__e&&Object(E.e)(E.b,null,V.fallback);return Ye&&(Ye.__h=null),[Object(E.e)(E.b,null,be.__e?null:V.children),Ye]};var he=function(V,be,te){if(++te[1]===te[0]&&V.o.delete(be),V.props.revealOrder&&(V.props.revealOrder[0]!=="t"||!V.o.size))for(te=V.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;V.u=te=te[2]}};function Ee(V){return this.getChildContext=function(){return V.context},V.children}function ze(V){var be=this,te=V.i;be.componentWillUnmount=function(){Object(E.j)(null,be.l),be.l=null,be.i=null},be.i&&be.i!==te&&be.componentWillUnmount(),V.__v?(be.l||(be.i=te,be.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(we){this.childNodes.push(we),be.i.appendChild(we)},insertBefore:function(we,Ye){this.childNodes.push(we),be.i.appendChild(we)},removeChild:function(we){this.childNodes.splice(this.childNodes.indexOf(we)>>>1,1),be.i.removeChild(we)}}),Object(E.j)(Object(E.e)(Ee,{context:be.context},V.__v),be.l)):be.l&&be.componentWillUnmount()}(Z.prototype=new E.a).__e=function(V){var be=this,te=W(be.__v),we=be.o.get(V);return we[0]++,function(Ye){var Ve=function(){be.props.revealOrder?(we.push(Ye),he(be,V,we)):Ye()};te?te(Ve):Ve()}},Z.prototype.render=function(V){this.u=null,this.o=new Map;var be=Object(E.k)(V.children);V.revealOrder&&V.revealOrder[0]==="b"&&be.reverse();for(var te=be.length;te--;)this.o.set(be[te],this.u=[1,0,this.u]);return V.children},Z.prototype.componentDidUpdate=Z.prototype.componentDidMount=function(){var V=this;this.o.forEach(function(be,te){he(V,te,be)})};var Re=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,it=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ut=typeof document!="undefined",dt=function(V){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(V)};E.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(V){Object.defineProperty(E.a.prototype,V,{configurable:!0,get:function(){return this["UNSAFE_"+V]},set:function(be){Object.defineProperty(this,V,{configurable:!0,writable:!0,value:be})}})});var tt=E.i.event;function Te(){}function Ze(){return this.cancelBubble}function fe(){return this.defaultPrevented}E.i.event=function(V){return tt&&(V=tt(V)),V.persist=Te,V.isPropagationStopped=Ze,V.isDefaultPrevented=fe,V.nativeEvent=V};var We,qe={configurable:!0,get:function(){return this.class}},Nt=E.i.vnode;E.i.vnode=function(V){var be=V.type,te=V.props,we=te;if(typeof be=="string"){var Ye=be.indexOf("-")===-1;for(var Ve in we={},te){var Ke=te[Ve];ut&&Ve==="children"&&be==="noscript"||Ve==="value"&&"defaultValue"in te&&Ke==null||(Ve==="defaultValue"&&"value"in te&&te.value==null?Ve="value":Ve==="download"&&Ke===!0?Ke="":/ondoubleclick/i.test(Ve)?Ve="ondblclick":/^onchange(textarea|input)/i.test(Ve+be)&&!dt(te.type)?Ve="oninput":/^onfocus$/i.test(Ve)?Ve="onfocusin":/^onblur$/i.test(Ve)?Ve="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ve)?Ve=Ve.toLowerCase():Ye&&it.test(Ve)?Ve=Ve.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ke===null&&(Ke=void 0),we[Ve]=Ke)}be=="select"&&we.multiple&&Array.isArray(we.value)&&(we.value=Object(E.k)(te.children).forEach(function(_t){_t.props.selected=we.value.indexOf(_t.props.value)!=-1})),be=="select"&&we.defaultValue!=null&&(we.value=Object(E.k)(te.children).forEach(function(_t){_t.props.selected=we.multiple?we.defaultValue.indexOf(_t.props.value)!=-1:we.defaultValue==_t.props.value})),V.props=we,te.class!=te.className&&(qe.enumerable="className"in te,te.className!=null&&(we.class=te.className),Object.defineProperty(we,"className",qe))}V.$$typeof=Re,Nt&&Nt(V)};var gt=E.i.__r;E.i.__r=function(V){gt&&gt(V),We=V.__c};var ht={ReactCurrentDispatcher:{current:{readContext:function(V){return We.__n[V.__c].props.value}}}};function Lt(V){return!!V&&V.$$typeof===Re}var Xt=function(V,be){return V(be)},wt=E.b,en={useState:se,useReducer:ue,useEffect:pe,useLayoutEffect:_e,useRef:function(V){return k=5,ce(function(){return{current:V}},[])},useImperativeHandle:function(V,be,te){k=6,_e(function(){typeof V=="function"?V(be()):V&&(V.current=be())},te==null?te:te.concat(V))},useMemo:ce,useCallback:$,useContext:function(V){var be=p.context[V.__c],te=q(_++,9);return te.c=V,be?(te.__==null&&(te.__=!0,be.sub(p)),be.props.value):V.__},useDebugValue:function(V,be){E.i.useDebugValue&&E.i.useDebugValue(be?be(V):V)},version:"17.0.2",Children:Ie,render:function(V,be,te){return be.__k==null&&(be.textContent=""),Object(E.j)(V,be),typeof te=="function"&&te(),V?V.__c:null},hydrate:function(V,be,te){return Object(E.h)(V,be),typeof te=="function"&&te(),V?V.__c:null},unmountComponentAtNode:function(V){return!!V.__k&&(Object(E.j)(null,V),!0)},createPortal:function(V,be){return Object(E.e)(ze,{__v:V,i:be})},createElement:E.e,createContext:E.d,createFactory:function(V){return E.e.bind(null,V)},cloneElement:function(V){return Lt(V)?E.c.apply(null,arguments):V},createRef:E.f,Fragment:E.b,isValidElement:Lt,findDOMNode:function(V){return V&&(V.base||V.nodeType===1&&V)||null},Component:E.a,PureComponent:I,memo:ae,forwardRef:Oe,flushSync:function(V,be){return V(be)},unstable_batchedUpdates:Xt,StrictMode:wt,Suspense:Ue,SuspenseList:Z,lazy:function(V){var be,te,we;function Ye(Ve){if(be||(be=V()).then(function(Ke){te=Ke.default||Ke},function(Ke){we=Ke}),we)throw we;if(!te)throw be;return Object(E.e)(te,Ve)}return Ye.displayName="Lazy",Ye.__f=!0,Ye},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ht};j.d=en},function(x,j,s){var _=s(7),p=s(147),S=s(148),E=s(179),k=s(57),D=function(R){if(R&&R.forEach!==E)try{k(R,"forEach",E)}catch(z){R.forEach=E}};for(var C in p)p[C]&&D(_[C]&&_[C].prototype);D(S)},function(x,j,s){s(16)({target:"Object",stat:!0},{setPrototypeOf:s(97)})},function(x,j,s){var _=s(16),p=s(18),S=s(38),E=s(96),k=s(137);_({target:"Object",stat:!0,forced:p(function(){E(1)}),sham:!k},{getPrototypeOf:function(D){return E(S(D))}})},function(x,j,s){var _=s(16),p=s(46),S=s(76),E=s(198),k=s(157),D=s(32),C=s(33),R=s(54),z=s(18),F=p("Reflect","construct"),G=Object.prototype,q=[].push,se=z(function(){function _e(){}return!(F(function(){},[],_e)instanceof _e)}),ue=!z(function(){F(function(){})}),pe=se||ue;_({target:"Reflect",stat:!0,forced:pe,sham:pe},{construct:function(_e,ce){k(_e),D(ce);var $=arguments.length<3?_e:k(arguments[2]);if(ue&&!se)return F(_e,ce,$);if(_e==$){switch(ce.length){case 0:return new _e;case 1:return new _e(ce[0]);case 2:return new _e(ce[0],ce[1]);case 3:return new _e(ce[0],ce[1],ce[2]);case 4:return new _e(ce[0],ce[1],ce[2],ce[3])}var ne=[null];return S(q,ne,ce),new(S(E,_e,ne))}var B=$.prototype,oe=R(C(B)?B:G),le=S(_e,oe,ce);return C(le)?le:oe}})},function(x,j){var s=Function.prototype,_=s.bind,p=s.call,S=_&&_.bind(p);x.exports=_?function(E){return E&&S(p,E)}:function(E){return E&&function(){return p.apply(E,arguments)}}},function(x,j,s){var _=s(7),p=s(51).f,S=s(57),E=s(44),k=s(108),D=s(134),C=s(95);x.exports=function(R,z){var F,G,q,se,ue,pe=R.target,_e=R.global,ce=R.stat;if(F=_e?_:ce?_[pe]||k(pe,{}):(_[pe]||{}).prototype)for(G in z){if(se=z[G],q=R.noTargetGet?(ue=p(F,G))&&ue.value:F[G],!C(_e?G:pe+(ce?".":"#")+G,R.forced)&&q!==void 0){if(typeof se==typeof q)continue;D(se,q)}(R.sham||q&&q.sham)&&S(se,"sham",!0),E(F,G,se,R)}}},function(x,j,s){"use strict";var _=s(16),p=s(7),S=s(99),E=s(100),k=s(33),D=s(67),C=s(43),R=s(39),z=s(61),F=s(27),G=s(75),q=s(101),se=G("slice"),ue=F("species"),pe=p.Array,_e=Math.max;_({target:"Array",proto:!0,forced:!se},{slice:function(ce,$){var ne,B,oe,le=R(this),ve=C(le),me=D(ce,ve),J=D($===void 0?ve:$,ve);if(S(le)&&(ne=le.constructor,(E(ne)&&(ne===pe||S(ne.prototype))||k(ne)&&(ne=ne[ue])===null)&&(ne=void 0),ne===pe||ne===void 0))return q(le,me,J);for(B=new(ne===void 0?pe:ne)(_e(J-me,0)),oe=0;me<J;me++,oe++)me in le&&z(B,oe,le[me]);return B.length=oe,B}})},function(x,j){x.exports=function(s){try{return!!s()}catch(_){return!0}}},function(x,j,s){"use strict";var _=s(16),p=s(102);_({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},function(x,j,s){var _=s(16),p=s(38),S=s(66);_({target:"Object",stat:!0,forced:s(18)(function(){S(1)})},{keys:function(E){return S(p(E))}})},function(x,j,s){var _=s(16),p=s(18),S=s(39),E=s(51).f,k=s(36),D=p(function(){E(1)});_({target:"Object",stat:!0,forced:!k||D,sham:!k},{getOwnPropertyDescriptor:function(C,R){return E(S(C),R)}})},function(x,j,s){"use strict";var _=s(16),p=s(74).filter;_({target:"Array",proto:!0,forced:!s(75)("filter")},{filter:function(S){return p(this,S,arguments.length>1?arguments[1]:void 0)}})},function(x,j,s){var _=s(16),p=s(36),S=s(135),E=s(39),k=s(51),D=s(61);_({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(C){for(var R,z,F=E(C),G=k.f,q=S(F),se={},ue=0;q.length>ue;)(z=G(F,R=q[ue++]))!==void 0&&D(se,R,z);return se}})},function(x,j,s){var _=s(36),p=s(94).EXISTS,S=s(15),E=s(37).f,k=Function.prototype,D=S(k.toString),C=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,R=S(C.exec);_&&!p&&E(k,"name",{configurable:!0,get:function(){try{return R(C,D(this))[1]}catch(z){return""}}})},function(x,j,s){var _=s(16),p=s(182);_({target:"Array",stat:!0,forced:!s(118)(function(S){Array.from(S)})},{from:p})},,function(x,j,s){var _=s(7),p=s(84),S=s(34),E=s(85),k=s(109),D=s(128),C=p("wks"),R=_.Symbol,z=R&&R.for,F=D?R:R&&R.withoutSetter||E;x.exports=function(G){if(!S(C,G)||!k&&typeof C[G]!="string"){var q="Symbol."+G;k&&S(R,G)?C[G]=R[G]:C[G]=D&&z?z(q):F(q)}return C[G]}},function(x,j){x.exports=function(s){return typeof s=="function"}},function(x,j,s){"use strict";var _=s(16),p=s(7),S=s(18),E=s(99),k=s(33),D=s(38),C=s(43),R=s(61),z=s(119),F=s(75),G=s(27),q=s(65),se=G("isConcatSpreadable"),ue=9007199254740991,pe="Maximum allowed index exceeded",_e=p.TypeError,ce=q>=51||!S(function(){var B=[];return B[se]=!1,B.concat()[0]!==B}),$=F("concat"),ne=function(B){if(!k(B))return!1;var oe=B[se];return oe!==void 0?!!oe:E(B)};_({target:"Array",proto:!0,forced:!ce||!$},{concat:function(B){var oe,le,ve,me,J,ie=D(this),ee=z(ie,0),I=0;for(oe=-1,ve=arguments.length;oe<ve;oe++)if(ne(J=oe===-1?ie:arguments[oe])){if(I+(me=C(J))>ue)throw _e(pe);for(le=0;le<me;le++,I++)le in J&&R(ee,I,J[le])}else{if(I>=ue)throw _e(pe);R(ee,I++,J)}return ee.length=I,ee}})},function(x,j,s){"use strict";var _=s(105),p=typeof self=="object"&&self&&self.Object===Object&&self,S=_.a||p||Function("return this")();j.a=S},function(x,j,s){var _=s(16),p=s(200);_({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},function(x,j,s){var _=s(7),p=s(33),S=_.String,E=_.TypeError;x.exports=function(k){if(p(k))return k;throw E(S(k)+" is not an object")}},function(x,j,s){var _=s(28);x.exports=function(p){return typeof p=="object"?p!==null:_(p)}},function(x,j,s){var _=s(15),p=s(38),S=_({}.hasOwnProperty);x.exports=Object.hasOwn||function(E,k){return S(p(E),k)}},function(x,j){var s=Function.prototype.call;x.exports=s.bind?s.bind(s):function(){return s.apply(s,arguments)}},function(x,j,s){var _=s(18);x.exports=!_(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(x,j,s){var _=s(7),p=s(36),S=s(129),E=s(32),k=s(87),D=_.TypeError,C=Object.defineProperty;j.f=p?C:function(R,z,F){if(E(R),z=k(z),E(F),S)try{return C(R,z,F)}catch(G){}if("get"in F||"set"in F)throw D("Accessors not supported");return"value"in F&&(R[z]=F.value),R}},function(x,j,s){var _=s(7),p=s(45),S=_.Object;x.exports=function(E){return S(p(E))}},function(x,j,s){var _=s(81),p=s(45);x.exports=function(S){return _(p(S))}},function(x,j,s){var _=s(7),p=s(98),S=_.String;x.exports=function(E){if(p(E)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return S(E)}},function(x,j,s){"use strict";var _=s(16),p=s(74).map;_({target:"Array",proto:!0,forced:!s(75)("map")},{map:function(S){return p(this,S,arguments.length>1?arguments[1]:void 0)}})},function(x,j,s){"use strict";(function(_){s.d(j,"d",function(){return E}),s.d(j,"c",function(){return k}),s.d(j,"b",function(){return D}),s.d(j,"a",function(){return R});var p=s(10),S=function(z,F){var G=typeof Symbol=="function"&&z[Symbol.iterator];if(!G)return z;var q,se,ue=G.call(z),pe=[];try{for(;(F===void 0||F-- >0)&&!(q=ue.next()).done;)pe.push(q.value)}catch(_e){se={error:_e}}finally{try{q&&!q.done&&(G=ue.return)&&G.call(ue)}finally{if(se)throw se.error}}return pe};function E(){var z=S(Object(p.j)(0),2)[1];return Object(p.h)(function(){z(function(F){return F+1})},[])}function k(z){if(!z||typeof z!="object")return!1;var F=Object.getPrototypeOf(z);return!F||F===Object.prototype}function D(z){return typeof Symbol=="function"?Symbol.for(z):"__$mobx-react "+z+"__"}var C={};function R(){return typeof window!="undefined"?window:_!==void 0?_:typeof self!="undefined"?self:C}}).call(this,s(82))},function(x,j,s){var _=s(90);x.exports=function(p){return _(p.length)}},function(x,j,s){var _=s(7),p=s(28),S=s(34),E=s(57),k=s(108),D=s(92),C=s(56),R=s(94).CONFIGURABLE,z=C.get,F=C.enforce,G=String(String).split("String");(x.exports=function(q,se,ue,pe){var _e,ce=!!pe&&!!pe.unsafe,$=!!pe&&!!pe.enumerable,ne=!!pe&&!!pe.noTargetGet,B=pe&&pe.name!==void 0?pe.name:se;p(ue)&&(String(B).slice(0,7)==="Symbol("&&(B="["+String(B).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!S(ue,"name")||R&&ue.name!==B)&&E(ue,"name",B),(_e=F(ue)).source||(_e.source=G.join(typeof B=="string"?B:""))),q!==_?(ce?!ne&&q[se]&&($=!0):delete q[se],$?q[se]=ue:E(q,se,ue)):$?q[se]=ue:k(se,ue)})(Function.prototype,"toString",function(){return p(this)&&z(this).source||D(this)})},function(x,j,s){var _=s(7).TypeError;x.exports=function(p){if(p==null)throw _("Can't call method on "+p);return p}},function(x,j,s){var _=s(7),p=s(28),S=function(E){return p(E)?E:void 0};x.exports=function(E,k){return arguments.length<2?S(_[E]):_[E]&&_[E][k]}},function(x,j,s){var _=s(16),p=s(35),S=s(33),E=s(32),k=s(199),D=s(51),C=s(96);_({target:"Reflect",stat:!0},{get:function R(z,F){var G,q,se=arguments.length<3?z:arguments[2];return E(z)===se?z[F]:(G=D.f(z,F))?k(G)?G.value:G.get===void 0?void 0:p(G.get,se):S(q=C(z))?R(q,F,se):void 0}})},function(x,j,s){"use strict";(function(_){var p=s(30),S=s(165),E=bt&&!bt.nodeType&&bt,k=E&&typeof _=="object"&&_&&!_.nodeType&&_,D=k&&k.exports===E?p.a.Buffer:void 0,C=(D?D.isBuffer:void 0)||S.a;j.a=C}).call(this,s(121)(x))},function(x,j,s){"use strict";(function(_){var p=s(105),S=bt&&!bt.nodeType&&bt,E=S&&typeof _=="object"&&_&&!_.nodeType&&_,k=E&&E.exports===S&&p.a.process,D=function(){try{var C=E&&E.require&&E.require("util").types;return C||k&&k.binding&&k.binding("util")}catch(R){}}();j.a=D}).call(this,s(121)(x))},function(x,j,s){var _=s(15),p=_({}.toString),S=_("".slice);x.exports=function(E){return S(p(E),8,-1)}},function(x,j,s){var _=s(36),p=s(35),S=s(93),E=s(71),k=s(39),D=s(87),C=s(34),R=s(129),z=Object.getOwnPropertyDescriptor;j.f=_?z:function(F,G){if(F=k(F),G=D(G),R)try{return z(F,G)}catch(q){}if(C(F,G))return E(!p(S.f,F,G),F[G])}},function(x,j,s){var _=s(16),p=s(213).entries;_({target:"Object",stat:!0},{entries:function(S){return p(S)}})},function(x,j,s){var _=s(46);x.exports=_("navigator","userAgent")||""},function(x,j,s){var _,p=s(32),S=s(168),E=s(110),k=s(69),D=s(133),C=s(86),R=s(91),z=R("IE_PROTO"),F=function(){},G=function(ue){return"<script>"+ue+"</script>"},q=function(ue){ue.write(G("")),ue.close();var pe=ue.parentWindow.Object;return ue=null,pe},se=function(){try{_=new ActiveXObject("htmlfile")}catch(ce){}var ue,pe;se=typeof document!="undefined"?document.domain&&_?q(_):((pe=C("iframe")).style.display="none",D.appendChild(pe),pe.src=String("javascript:"),(ue=pe.contentWindow.document).open(),ue.write(G("document.F=Object")),ue.close(),ue.F):q(_);for(var _e=E.length;_e--;)delete se.prototype[E[_e]];return se()};k[z]=!0,x.exports=Object.create||function(ue,pe){var _e;return ue!==null?(F.prototype=p(ue),_e=new F,F.prototype=null,_e[z]=ue):_e=se(),pe===void 0?_e:S(_e,pe)}},function(x,j,s){var _=s(7),p=s(28),S=s(89),E=_.TypeError;x.exports=function(k){if(p(k))return k;throw E(S(k)+" is not a function")}},function(x,j,s){var _,p,S,E=s(170),k=s(7),D=s(15),C=s(33),R=s(57),z=s(34),F=s(107),G=s(91),q=s(69),se="Object already initialized",ue=k.TypeError,pe=k.WeakMap;if(E||F.state){var _e=F.state||(F.state=new pe),ce=D(_e.get),$=D(_e.has),ne=D(_e.set);_=function(oe,le){if($(_e,oe))throw new ue(se);return le.facade=oe,ne(_e,oe,le),le},p=function(oe){return ce(_e,oe)||{}},S=function(oe){return $(_e,oe)}}else{var B=G("state");q[B]=!0,_=function(oe,le){if(z(oe,B))throw new ue(se);return le.facade=oe,R(oe,B,le),le},p=function(oe){return z(oe,B)?oe[B]:{}},S=function(oe){return z(oe,B)}}x.exports={set:_,get:p,has:S,enforce:function(oe){return S(oe)?p(oe):_(oe,{})},getterFor:function(oe){return function(le){var ve;if(!C(le)||(ve=p(le)).type!==oe)throw ue("Incompatible receiver, "+oe+" required");return ve}}}},function(x,j,s){var _=s(36),p=s(37),S=s(71);x.exports=_?function(E,k,D){return p.f(E,k,S(1,D))}:function(E,k,D){return E[k]=D,E}},function(x,j,s){var _=s(15);x.exports=_({}.isPrototypeOf)},function(x,j,s){var _=s(55);x.exports=function(p,S){var E=p[S];return E==null?void 0:_(E)}},function(x,j,s){"use strict";s(173)("Map",function(_){return function(){return _(this,arguments.length?arguments[0]:void 0)}},s(177))},function(x,j,s){"use strict";var _=s(87),p=s(37),S=s(71);x.exports=function(E,k,D){var C=_(k);C in E?p.f(E,C,S(0,D)):E[C]=D}},function(x,j,s){var _=s(15),p=s(55),S=_(_.bind);x.exports=function(E,k){return p(E),k===void 0?E:S?S(E,k):function(){return E.apply(k,arguments)}}},function(x,j,s){var _=s(16),p=s(214),S=s(83);_({target:"Array",proto:!0},{fill:p}),S("fill")},function(x,j){x.exports=!1},function(x,j,s){var _,p,S=s(7),E=s(53),k=S.process,D=S.Deno,C=k&&k.versions||D&&D.version,R=C&&C.v8;R&&(p=(_=R.split("."))[0]>0&&_[0]<4?1:+(_[0]+_[1])),!p&&E&&(!(_=E.match(/Edge\/(\d+)/))||_[1]>=74)&&(_=E.match(/Chrome\/(\d+)/))&&(p=+_[1]),x.exports=p},function(x,j,s){var _=s(131),p=s(110);x.exports=Object.keys||function(S){return _(S,p)}},function(x,j,s){var _=s(68),p=Math.max,S=Math.min;x.exports=function(E,k){var D=_(E);return D<0?p(D+k,0):S(D,k)}},function(x,j){var s=Math.ceil,_=Math.floor;x.exports=function(p){var S=+p;return S!=S||S===0?0:(S>0?_:s)(S)}},function(x,j){x.exports={}},function(x,j){x.exports={}},function(x,j){x.exports=function(s,_){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:_}}},function(x,j,s){var _=s(131),p=s(110).concat("length","prototype");j.f=Object.getOwnPropertyNames||function(S){return _(S,p)}},function(x,j,s){var _=s(37).f,p=s(34),S=s(27)("toStringTag");x.exports=function(E,k,D){E&&!p(E=D?E:E.prototype,S)&&_(E,S,{configurable:!0,value:k})}},function(x,j,s){var _=s(62),p=s(15),S=s(81),E=s(38),k=s(43),D=s(119),C=p([].push),R=function(z){var F=z==1,G=z==2,q=z==3,se=z==4,ue=z==6,pe=z==7,_e=z==5||ue;return function(ce,$,ne,B){for(var oe,le,ve=E(ce),me=S(ve),J=_($,ne),ie=k(me),ee=0,I=B||D,ae=F?I(ce,ie):G||pe?I(ce,0):void 0;ie>ee;ee++)if((_e||ee in me)&&(le=J(oe=me[ee],ee,ve),z))if(F)ae[ee]=le;else if(le)switch(z){case 3:return!0;case 5:return oe;case 6:return ee;case 2:C(ae,oe)}else switch(z){case 4:return!1;case 7:C(ae,oe)}return ue?-1:q||se?se:ae}};x.exports={forEach:R(0),map:R(1),filter:R(2),some:R(3),every:R(4),find:R(5),findIndex:R(6),filterReject:R(7)}},function(x,j,s){var _=s(18),p=s(27),S=s(65),E=p("species");x.exports=function(k){return S>=51||!_(function(){var D=[];return(D.constructor={})[E]=function(){return{foo:1}},D[k](Boolean).foo!==1})}},function(x,j){var s=Function.prototype,_=s.apply,p=s.bind,S=s.call;x.exports=typeof Reflect=="object"&&Reflect.apply||(p?S.bind(_):function(){return S.apply(_,arguments)})},function(x,j,s){"use strict";var _=s(16),p=s(15),S=s(81),E=s(39),k=s(120),D=p([].join),C=S!=Object,R=k("join",",");_({target:"Array",proto:!0,forced:C||!R},{join:function(z){return D(E(this),z===void 0?",":z)}})},function(x,j,s){"use strict";var _=s(76),p=s(35),S=s(15),E=s(122),k=s(154),D=s(32),C=s(45),R=s(156),z=s(123),F=s(90),G=s(40),q=s(59),se=s(113),ue=s(124),pe=s(102),_e=s(151),ce=s(18),$=_e.UNSUPPORTED_Y,ne=4294967295,B=Math.min,oe=[].push,le=S(/./.exec),ve=S(oe),me=S("".slice),J=!ce(function(){var ie=/(?:)/,ee=ie.exec;ie.exec=function(){return ee.apply(this,arguments)};var I="ab".split(ie);return I.length!==2||I[0]!=="a"||I[1]!=="b"});E("split",function(ie,ee,I){var ae;return ae="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(re,Q){var Oe=G(C(this)),Se=Q===void 0?ne:Q>>>0;if(Se===0)return[];if(re===void 0)return[Oe];if(!k(re))return p(ee,Oe,re,Se);for(var Ie,Xe,rt,ke=[],Le=(re.ignoreCase?"i":"")+(re.multiline?"m":"")+(re.unicode?"u":"")+(re.sticky?"y":""),Ue=0,W=new RegExp(re.source,Le+"g");(Ie=p(pe,W,Oe))&&!((Xe=W.lastIndex)>Ue&&(ve(ke,me(Oe,Ue,Ie.index)),Ie.length>1&&Ie.index<Oe.length&&_(oe,ke,se(Ie,1)),rt=Ie[0].length,Ue=Xe,ke.length>=Se));)W.lastIndex===Ie.index&&W.lastIndex++;return Ue===Oe.length?!rt&&le(W,"")||ve(ke,""):ve(ke,me(Oe,Ue)),ke.length>Se?se(ke,0,Se):ke}:"0".split(void 0,0).length?function(re,Q){return re===void 0&&Q===0?[]:p(ee,this,re,Q)}:ee,[function(re,Q){var Oe=C(this),Se=re==null?void 0:q(re,ie);return Se?p(Se,re,Oe,Q):p(ae,G(Oe),re,Q)},function(re,Q){var Oe=D(this),Se=G(re),Ie=I(ae,Oe,Se,Q,ae!==ee);if(Ie.done)return Ie.value;var Xe=R(Oe,RegExp),rt=Oe.unicode,ke=(Oe.ignoreCase?"i":"")+(Oe.multiline?"m":"")+(Oe.unicode?"u":"")+($?"g":"y"),Le=new Xe($?"^(?:"+Oe.source+")":Oe,ke),Ue=Q===void 0?ne:Q>>>0;if(Ue===0)return[];if(Se.length===0)return ue(Le,Se)===null?[Se]:[];for(var W=0,Z=0,he=[];Z<Se.length;){Le.lastIndex=$?0:Z;var Ee,ze=ue(Le,$?me(Se,Z):Se);if(ze===null||(Ee=B(F(Le.lastIndex+($?Z:0)),Se.length))===W)Z=z(Se,Z,rt);else{if(ve(he,me(Se,W,Z)),he.length===Ue)return he;for(var Re=1;Re<=ze.length-1;Re++)if(ve(he,ze[Re]),he.length===Ue)return he;Z=W=Ee}}return ve(he,me(Se,W)),he}]},!J,$)},function(x,j,s){"use strict";var _=s(36),p=s(7),S=s(15),E=s(95),k=s(44),D=s(34),C=s(143),R=s(58),z=s(88),F=s(130),G=s(18),q=s(72).f,se=s(51).f,ue=s(37).f,pe=s(196),_e=s(159).trim,ce="Number",$=p.Number,ne=$.prototype,B=p.TypeError,oe=S("".slice),le=S("".charCodeAt),ve=function(ae){var re=F(ae,"number");return typeof re=="bigint"?re:me(re)},me=function(ae){var re,Q,Oe,Se,Ie,Xe,rt,ke,Le=F(ae,"number");if(z(Le))throw B("Cannot convert a Symbol value to a number");if(typeof Le=="string"&&Le.length>2){if(Le=_e(Le),(re=le(Le,0))===43||re===45){if((Q=le(Le,2))===88||Q===120)return NaN}else if(re===48){switch(le(Le,1)){case 66:case 98:Oe=2,Se=49;break;case 79:case 111:Oe=8,Se=55;break;default:return+Le}for(Xe=(Ie=oe(Le,2)).length,rt=0;rt<Xe;rt++)if((ke=le(Ie,rt))<48||ke>Se)return NaN;return parseInt(Ie,Oe)}}return+Le};if(E(ce,!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var J,ie=function(ae){var re=arguments.length<1?0:$(ve(ae)),Q=this;return R(ne,Q)&&G(function(){pe(Q)})?C(Object(re),Q,ie):re},ee=_?q($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;ee.length>I;I++)D($,J=ee[I])&&!D(ie,J)&&ue(ie,J,se($,J));ie.prototype=ne,ne.constructor=ie,k(p,ce,ie)}},function(x,j,s){s(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(x,j,s){var _=s(7),p=s(15),S=s(18),E=s(50),k=_.Object,D=p("".split);x.exports=S(function(){return!k("z").propertyIsEnumerable(0)})?function(C){return E(C)=="String"?D(C,""):k(C)}:k},function(x,j){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(_){typeof window=="object"&&(s=window)}x.exports=s},function(x,j,s){var _=s(27),p=s(54),S=s(37),E=_("unscopables"),k=Array.prototype;k[E]==null&&S.f(k,E,{configurable:!0,value:p(null)}),x.exports=function(D){k[E][D]=!0}},function(x,j,s){var _=s(64),p=s(107);(x.exports=function(S,E){return p[S]||(p[S]=E!==void 0?E:{})})("versions",[]).push({version:"3.19.3",mode:_?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(x,j,s){var _=s(15),p=0,S=Math.random(),E=_(1 .toString);x.exports=function(k){return"Symbol("+(k===void 0?"":k)+")_"+E(++p+S,36)}},function(x,j,s){var _=s(7),p=s(33),S=_.document,E=p(S)&&p(S.createElement);x.exports=function(k){return E?S.createElement(k):{}}},function(x,j,s){var _=s(130),p=s(88);x.exports=function(S){var E=_(S,"string");return p(E)?E:E+""}},function(x,j,s){var _=s(7),p=s(46),S=s(28),E=s(58),k=s(128),D=_.Object;x.exports=k?function(C){return typeof C=="symbol"}:function(C){var R=p("Symbol");return S(R)&&E(R.prototype,D(C))}},function(x,j,s){var _=s(7).String;x.exports=function(p){try{return _(p)}catch(S){return"Object"}}},function(x,j,s){var _=s(68),p=Math.min;x.exports=function(S){return S>0?p(_(S),9007199254740991):0}},function(x,j,s){var _=s(84),p=s(85),S=_("keys");x.exports=function(E){return S[E]||(S[E]=p(E))}},function(x,j,s){var _=s(15),p=s(28),S=s(107),E=_(Function.toString);p(S.inspectSource)||(S.inspectSource=function(k){return E(k)}),x.exports=S.inspectSource},function(x,j,s){"use strict";var _={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,S=p&&!_.call({1:2},1);j.f=S?function(E){var k=p(this,E);return!!k&&k.enumerable}:_},function(x,j,s){var _=s(36),p=s(34),S=Function.prototype,E=_&&Object.getOwnPropertyDescriptor,k=p(S,"name"),D=k&&function(){}.name==="something",C=k&&(!_||_&&E(S,"name").configurable);x.exports={EXISTS:k,PROPER:D,CONFIGURABLE:C}},function(x,j,s){var _=s(18),p=s(28),S=/#|\.prototype\./,E=function(z,F){var G=D[k(z)];return G==R||G!=C&&(p(F)?_(F):!!F)},k=E.normalize=function(z){return String(z).replace(S,".").toLowerCase()},D=E.data={},C=E.NATIVE="N",R=E.POLYFILL="P";x.exports=E},function(x,j,s){var _=s(7),p=s(34),S=s(28),E=s(38),k=s(91),D=s(137),C=k("IE_PROTO"),R=_.Object,z=R.prototype;x.exports=D?R.getPrototypeOf:function(F){var G=E(F);if(p(G,C))return G[C];var q=G.constructor;return S(q)&&G instanceof q?q.prototype:G instanceof R?z:null}},function(x,j,s){var _=s(15),p=s(32),S=s(172);x.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var E,k=!1,D={};try{(E=_(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(D,[]),k=D instanceof Array}catch(C){}return function(C,R){return p(C),S(R),k?E(C,R):C.__proto__=R,C}}():void 0)},function(x,j,s){var _=s(7),p=s(116),S=s(28),E=s(50),k=s(27)("toStringTag"),D=_.Object,C=E(function(){return arguments}())=="Arguments";x.exports=p?E:function(R){var z,F,G;return R===void 0?"Undefined":R===null?"Null":typeof(F=function(q,se){try{return q[se]}catch(ue){}}(z=D(R),k))=="string"?F:C?E(z):(G=E(z))=="Object"&&S(z.callee)?"Arguments":G}},function(x,j,s){var _=s(50);x.exports=Array.isArray||function(p){return _(p)=="Array"}},function(x,j,s){var _=s(15),p=s(18),S=s(28),E=s(98),k=s(46),D=s(92),C=function(){},R=[],z=k("Reflect","construct"),F=/^\s*(?:class|function)\b/,G=_(F.exec),q=!F.exec(C),se=function(ue){if(!S(ue))return!1;try{return z(C,R,ue),!0}catch(pe){return!1}};x.exports=!z||p(function(){var ue;return se(se.call)||!se(Object)||!se(function(){ue=!0})||ue})?function(ue){if(!S(ue))return!1;switch(E(ue)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return q||!!G(F,D(ue))}:se},function(x,j,s){var _=s(15);x.exports=_([].slice)},function(x,j,s){"use strict";var _,p,S=s(35),E=s(15),k=s(40),D=s(184),C=s(151),R=s(84),z=s(54),F=s(56).get,G=s(185),q=s(186),se=R("native-string-replace",String.prototype.replace),ue=RegExp.prototype.exec,pe=ue,_e=E("".charAt),ce=E("".indexOf),$=E("".replace),ne=E("".slice),B=(p=/b*/g,S(ue,_=/a/,"a"),S(ue,p,"a"),_.lastIndex!==0||p.lastIndex!==0),oe=C.BROKEN_CARET,le=/()??/.exec("")[1]!==void 0;(B||le||oe||G||q)&&(pe=function(ve){var me,J,ie,ee,I,ae,re,Q=this,Oe=F(Q),Se=k(ve),Ie=Oe.raw;if(Ie)return Ie.lastIndex=Q.lastIndex,me=S(pe,Ie,Se),Q.lastIndex=Ie.lastIndex,me;var Xe=Oe.groups,rt=oe&&Q.sticky,ke=S(D,Q),Le=Q.source,Ue=0,W=Se;if(rt&&(ke=$(ke,"y",""),ce(ke,"g")===-1&&(ke+="g"),W=ne(Se,Q.lastIndex),Q.lastIndex>0&&(!Q.multiline||Q.multiline&&_e(Se,Q.lastIndex-1)!==`
`)&&(Le="(?: "+Le+")",W=" "+W,Ue++),J=new RegExp("^(?:"+Le+")",ke)),le&&(J=new RegExp("^"+Le+"$(?!\\s)",ke)),B&&(ie=Q.lastIndex),ee=S(ue,rt?J:Q,W),rt?ee?(ee.input=ne(ee.input,Ue),ee[0]=ne(ee[0],Ue),ee.index=Q.lastIndex,Q.lastIndex+=ee[0].length):Q.lastIndex=0:B&&ee&&(Q.lastIndex=Q.global?ee.index+ee[0].length:ie),le&&ee&&ee.length>1&&S(se,ee[0],J,function(){for(I=1;I<arguments.length-2;I++)arguments[I]===void 0&&(ee[I]=void 0)}),ee&&Xe)for(ee.groups=ae=z(null),I=0;I<Xe.length;I++)ae[(re=Xe[I])[0]]=ee[re[1]];return ee}),x.exports=pe},function(x,j,s){"use strict";var _=s(16),p=s(7),S=s(67),E=s(68),k=s(43),D=s(38),C=s(119),R=s(61),z=s(75)("splice"),F=p.TypeError,G=Math.max,q=Math.min,se=9007199254740991,ue="Maximum allowed length exceeded";_({target:"Array",proto:!0,forced:!z},{splice:function(pe,_e){var ce,$,ne,B,oe,le,ve=D(this),me=k(ve),J=S(pe,me),ie=arguments.length;if(ie===0?ce=$=0:ie===1?(ce=0,$=me-J):(ce=ie-2,$=q(G(E(_e),0),me-J)),me+ce-$>se)throw F(ue);for(ne=C(ve,$),B=0;B<$;B++)(oe=J+B)in ve&&R(ne,B,ve[oe]);if(ne.length=$,ce<$){for(B=J;B<me-$;B++)le=B+ce,(oe=B+$)in ve?ve[le]=ve[oe]:delete ve[le];for(B=me;B>me-$+ce;B--)delete ve[B-1]}else if(ce>$)for(B=me-$;B>J;B--)le=B+ce-1,(oe=B+$-1)in ve?ve[le]=ve[oe]:delete ve[le];for(B=0;B<ce;B++)ve[B+J]=arguments[B+2];return ve.length=me-$+ce,ne}})},function(x,j,s){"use strict";var _=s(16),p=s(201);_({target:"String",proto:!0,forced:s(202)("anchor")},{anchor:function(S){return p(this,"a","name",S)}})},function(x,j,s){"use strict";(function(_){var p=typeof _=="object"&&_&&_.Object===Object&&_;j.a=p}).call(this,s(82))},function(x,j,s){"use strict";(function(_){var p=s(30),S=bt&&!bt.nodeType&&bt,E=S&&typeof _=="object"&&_&&!_.nodeType&&_,k=E&&E.exports===S?p.a.Buffer:void 0,D=k?k.allocUnsafe:void 0;j.a=function(C,R){if(R)return C.slice();var z=C.length,F=D?D(z):new C.constructor(z);return C.copy(F),F}}).call(this,s(121)(x))},function(x,j,s){var _=s(7),p=s(108),S="__core-js_shared__",E=_[S]||p(S,{});x.exports=E},function(x,j,s){var _=s(7),p=Object.defineProperty;x.exports=function(S,E){try{p(_,S,{value:E,configurable:!0,writable:!0})}catch(k){_[S]=E}return E}},function(x,j,s){var _=s(65),p=s(18);x.exports=!!Object.getOwnPropertySymbols&&!p(function(){var S=Symbol();return!String(S)||!(Object(S)instanceof Symbol)||!Symbol.sham&&_&&_<41})},function(x,j){x.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(x,j,s){"use strict";var _=s(16),p=s(35),S=s(64),E=s(94),k=s(28),D=s(171),C=s(96),R=s(97),z=s(73),F=s(57),G=s(44),q=s(27),se=s(70),ue=s(136),pe=E.PROPER,_e=E.CONFIGURABLE,ce=ue.IteratorPrototype,$=ue.BUGGY_SAFARI_ITERATORS,ne=q("iterator"),B="keys",oe="values",le="entries",ve=function(){return this};x.exports=function(me,J,ie,ee,I,ae,re){D(ie,J,ee);var Q,Oe,Se,Ie=function(Z){if(Z===I&&Ue)return Ue;if(!$&&Z in ke)return ke[Z];switch(Z){case B:case oe:case le:return function(){return new ie(this,Z)}}return function(){return new ie(this)}},Xe=J+" Iterator",rt=!1,ke=me.prototype,Le=ke[ne]||ke["@@iterator"]||I&&ke[I],Ue=!$&&Le||Ie(I),W=J=="Array"&&ke.entries||Le;if(W&&(Q=C(W.call(new me)))!==Object.prototype&&Q.next&&(S||C(Q)===ce||(R?R(Q,ce):k(Q[ne])||G(Q,ne,ve)),z(Q,Xe,!0,!0),S&&(se[Xe]=ve)),pe&&I==oe&&Le&&Le.name!==oe&&(!S&&_e?F(ke,"name",oe):(rt=!0,Ue=function(){return p(Le,this)})),I)if(Oe={values:Ie(oe),keys:ae?Ue:Ie(B),entries:Ie(le)},re)for(Se in Oe)($||rt||!(Se in ke))&&G(ke,Se,Oe[Se]);else _({target:J,proto:!0,forced:$||rt},Oe);return S&&!re||ke[ne]===Ue||G(ke,ne,Ue,{name:I}),se[J]=Ue,Oe}},function(x,j){j.f=Object.getOwnPropertySymbols},function(x,j,s){var _=s(7),p=s(67),S=s(43),E=s(61),k=_.Array,D=Math.max;x.exports=function(C,R,z){for(var F=S(C),G=p(R,F),q=p(z===void 0?F:z,F),se=k(D(q-G,0)),ue=0;G<q;G++,ue++)E(se,ue,C[G]);return se.length=ue,se}},function(x,j,s){var _=s(7),p=s(62),S=s(35),E=s(32),k=s(89),D=s(140),C=s(43),R=s(58),z=s(141),F=s(115),G=s(142),q=_.TypeError,se=function(pe,_e){this.stopped=pe,this.result=_e},ue=se.prototype;x.exports=function(pe,_e,ce){var $,ne,B,oe,le,ve,me,J=ce&&ce.that,ie=!(!ce||!ce.AS_ENTRIES),ee=!(!ce||!ce.IS_ITERATOR),I=!(!ce||!ce.INTERRUPTED),ae=p(_e,J),re=function(Oe){return $&&G($,"normal",Oe),new se(!0,Oe)},Q=function(Oe){return ie?(E(Oe),I?ae(Oe[0],Oe[1],re):ae(Oe[0],Oe[1])):I?ae(Oe,re):ae(Oe)};if(ee)$=pe;else{if(!(ne=F(pe)))throw q(k(pe)+" is not iterable");if(D(ne)){for(B=0,oe=C(pe);oe>B;B++)if((le=Q(pe[B]))&&R(ue,le))return le;return new se(!1)}$=z(pe,ne)}for(ve=$.next;!(me=S(ve,$)).done;){try{le=Q(me.value)}catch(Oe){G($,"throw",Oe)}if(typeof le=="object"&&le&&R(ue,le))return le}return new se(!1)}},function(x,j,s){var _=s(98),p=s(59),S=s(70),E=s(27)("iterator");x.exports=function(k){if(k!=null)return p(k,E)||p(k,"@@iterator")||S[_(k)]}},function(x,j,s){var _={};_[s(27)("toStringTag")]="z",x.exports=String(_)==="[object z]"},function(x,j,s){var _=s(7),p=s(58),S=_.TypeError;x.exports=function(E,k){if(p(k,E))return E;throw S("Incorrect invocation")}},function(x,j,s){var _=s(27)("iterator"),p=!1;try{var S=0,E={next:function(){return{done:!!S++}},return:function(){p=!0}};E[_]=function(){return this},Array.from(E,function(){throw 2})}catch(k){}x.exports=function(k,D){if(!D&&!p)return!1;var C=!1;try{var R={};R[_]=function(){return{next:function(){return{done:C=!0}}}},k(R)}catch(z){}return C}},function(x,j,s){var _=s(180);x.exports=function(p,S){return new(_(p))(S===0?0:S)}},function(x,j,s){"use strict";var _=s(18);x.exports=function(p,S){var E=[][p];return!!E&&_(function(){E.call(null,S||function(){throw 1},1)})}},function(x,j){x.exports=function(s){if(!s.webpackPolyfill){var _=Object.create(s);_.children||(_.children=[]),Object.defineProperty(_,"loaded",{enumerable:!0,get:function(){return _.l}}),Object.defineProperty(_,"id",{enumerable:!0,get:function(){return _.i}}),Object.defineProperty(_,"exports",{enumerable:!0}),_.webpackPolyfill=1}return _}},function(x,j,s){"use strict";s(19);var _=s(15),p=s(44),S=s(102),E=s(18),k=s(27),D=s(57),C=k("species"),R=RegExp.prototype;x.exports=function(z,F,G,q){var se=k(z),ue=!E(function(){var $={};return $[se]=function(){return 7},""[z]($)!=7}),pe=ue&&!E(function(){var $=!1,ne=/a/;return z==="split"&&((ne={}).constructor={},ne.constructor[C]=function(){return ne},ne.flags="",ne[se]=/./[se]),ne.exec=function(){return $=!0,null},ne[se](""),!$});if(!ue||!pe||G){var _e=_(/./[se]),ce=F(se,""[z],function($,ne,B,oe,le){var ve=_($),me=ne.exec;return me===S||me===R.exec?ue&&!le?{done:!0,value:_e(ne,B,oe)}:{done:!0,value:ve(B,ne,oe)}:{done:!1}});p(String.prototype,z,ce[0]),p(R,se,ce[1])}q&&D(R[se],"sham",!0)}},function(x,j,s){"use strict";var _=s(146).charAt;x.exports=function(p,S,E){return S+(E?_(p,S).length:1)}},function(x,j,s){var _=s(7),p=s(35),S=s(32),E=s(28),k=s(50),D=s(102),C=_.TypeError;x.exports=function(R,z){var F=R.exec;if(E(F)){var G=p(F,R,z);return G!==null&&S(G),G}if(k(R)==="RegExp")return p(D,R,z);throw C("RegExp#exec called on incompatible receiver")}},function(x,j,s){"use strict";var _=s(76),p=s(35),S=s(15),E=s(122),k=s(18),D=s(32),C=s(28),R=s(68),z=s(90),F=s(40),G=s(45),q=s(123),se=s(59),ue=s(197),pe=s(124),_e=s(27)("replace"),ce=Math.max,$=Math.min,ne=S([].concat),B=S([].push),oe=S("".indexOf),le=S("".slice),ve="a".replace(/./,"$0")==="$0",me=!!/./[_e]&&/./[_e]("a","$0")==="";E("replace",function(J,ie,ee){var I=me?"$":"$0";return[function(ae,re){var Q=G(this),Oe=ae==null?void 0:se(ae,_e);return Oe?p(Oe,ae,Q,re):p(ie,F(Q),ae,re)},function(ae,re){var Q=D(this),Oe=F(ae);if(typeof re=="string"&&oe(re,I)===-1&&oe(re,"$<")===-1){var Se=ee(ie,Q,Oe,re);if(Se.done)return Se.value}var Ie=C(re);Ie||(re=F(re));var Xe=Q.global;if(Xe){var rt=Q.unicode;Q.lastIndex=0}for(var ke=[];;){var Le=pe(Q,Oe);if(Le===null||(B(ke,Le),!Xe))break;F(Le[0])===""&&(Q.lastIndex=q(Oe,z(Q.lastIndex),rt))}for(var Ue,W="",Z=0,he=0;he<ke.length;he++){for(var Ee=F((Le=ke[he])[0]),ze=ce($(R(Le.index),Oe.length),0),Re=[],it=1;it<Le.length;it++)B(Re,(Ue=Le[it])===void 0?Ue:String(Ue));var ut=Le.groups;if(Ie){var dt=ne([Ee],Re,ze,Oe);ut!==void 0&&B(dt,ut);var tt=F(_(re,void 0,dt))}else tt=ue(Ee,Oe,ze,Re,ut,re);ze>=Z&&(W+=le(Oe,Z,ze)+tt,Z=ze+Ee.length)}return W+le(Oe,Z)}]},!!k(function(){var J=/./;return J.exec=function(){var ie=[];return ie.groups={a:"7"},ie},"".replace(J,"$<a>")!=="7"})||!ve||me)},function(x,j,s){var _=s(50),p=s(7);x.exports=_(p.process)=="process"},function(x,j,s){s(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(x,j,s){var _=s(109);x.exports=_&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(x,j,s){var _=s(36),p=s(18),S=s(86);x.exports=!_&&!p(function(){return Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a!=7})},function(x,j,s){var _=s(7),p=s(35),S=s(33),E=s(88),k=s(59),D=s(169),C=s(27),R=_.TypeError,z=C("toPrimitive");x.exports=function(F,G){if(!S(F)||E(F))return F;var q,se=k(F,z);if(se){if(G===void 0&&(G="default"),q=p(se,F,G),!S(q)||E(q))return q;throw R("Can't convert object to primitive value")}return G===void 0&&(G="number"),D(F,G)}},function(x,j,s){var _=s(15),p=s(34),S=s(39),E=s(132).indexOf,k=s(69),D=_([].push);x.exports=function(C,R){var z,F=S(C),G=0,q=[];for(z in F)!p(k,z)&&p(F,z)&&D(q,z);for(;R.length>G;)p(F,z=R[G++])&&(~E(q,z)||D(q,z));return q}},function(x,j,s){var _=s(39),p=s(67),S=s(43),E=function(k){return function(D,C,R){var z,F=_(D),G=S(F),q=p(R,G);if(k&&C!=C){for(;G>q;)if((z=F[q++])!=z)return!0}else for(;G>q;q++)if((k||q in F)&&F[q]===C)return k||q||0;return!k&&-1}};x.exports={includes:E(!0),indexOf:E(!1)}},function(x,j,s){var _=s(46);x.exports=_("document","documentElement")},function(x,j,s){var _=s(34),p=s(135),S=s(51),E=s(37);x.exports=function(k,D){for(var C=p(D),R=E.f,z=S.f,F=0;F<C.length;F++){var G=C[F];_(k,G)||R(k,G,z(D,G))}}},function(x,j,s){var _=s(46),p=s(15),S=s(72),E=s(112),k=s(32),D=p([].concat);x.exports=_("Reflect","ownKeys")||function(C){var R=S.f(k(C)),z=E.f;return z?D(R,z(C)):R}},function(x,j,s){"use strict";var _,p,S,E=s(18),k=s(28),D=s(54),C=s(96),R=s(44),z=s(27),F=s(64),G=z("iterator"),q=!1;[].keys&&("next"in(S=[].keys())?(p=C(C(S)))!==Object.prototype&&(_=p):q=!0),_==null||E(function(){var se={};return _[G].call(se)!==se})?_={}:F&&(_=D(_)),k(_[G])||R(_,G,function(){return this}),x.exports={IteratorPrototype:_,BUGGY_SAFARI_ITERATORS:q}},function(x,j,s){var _=s(18);x.exports=!_(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},function(x,j,s){var _=s(16),p=s(15),S=s(69),E=s(33),k=s(34),D=s(37).f,C=s(72),R=s(139),z=s(174),F=s(85),G=s(176),q=!1,se=F("meta"),ue=0,pe=function(ce){D(ce,se,{value:{objectID:"O"+ue++,weakData:{}}})},_e=x.exports={enable:function(){_e.enable=function(){},q=!0;var ce=C.f,$=p([].splice),ne={};ne[se]=1,ce(ne).length&&(C.f=function(B){for(var oe=ce(B),le=0,ve=oe.length;le<ve;le++)if(oe[le]===se){$(oe,le,1);break}return oe},_({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:R.f}))},fastKey:function(ce,$){if(!E(ce))return typeof ce=="symbol"?ce:(typeof ce=="string"?"S":"P")+ce;if(!k(ce,se)){if(!z(ce))return"F";if(!$)return"E";pe(ce)}return ce[se].objectID},getWeakData:function(ce,$){if(!k(ce,se)){if(!z(ce))return!0;if(!$)return!1;pe(ce)}return ce[se].weakData},onFreeze:function(ce){return G&&q&&z(ce)&&!k(ce,se)&&pe(ce),ce}};S[se]=!0},function(x,j,s){var _=s(50),p=s(39),S=s(72).f,E=s(113),k=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];x.exports.f=function(D){return k&&_(D)=="Window"?function(C){try{return S(C)}catch(R){return E(k)}}(D):S(p(D))}},function(x,j,s){var _=s(27),p=s(70),S=_("iterator"),E=Array.prototype;x.exports=function(k){return k!==void 0&&(p.Array===k||E[S]===k)}},function(x,j,s){var _=s(7),p=s(35),S=s(55),E=s(32),k=s(89),D=s(115),C=_.TypeError;x.exports=function(R,z){var F=arguments.length<2?D(R):z;if(S(F))return E(p(F,R));throw C(k(R)+" is not iterable")}},function(x,j,s){var _=s(35),p=s(32),S=s(59);x.exports=function(E,k,D){var C,R;p(E);try{if(!(C=S(E,"return"))){if(k==="throw")throw D;return D}C=_(C,E)}catch(z){R=!0,C=z}if(k==="throw")throw D;if(R)throw C;return p(C),D}},function(x,j,s){var _=s(28),p=s(33),S=s(97);x.exports=function(E,k,D){var C,R;return S&&_(C=k.constructor)&&C!==D&&p(R=C.prototype)&&R!==D.prototype&&S(E,R),E}},function(x,j,s){var _=s(44);x.exports=function(p,S,E){for(var k in S)_(p,k,S[k],E);return p}},function(x,j,s){"use strict";var _=s(46),p=s(37),S=s(27),E=s(36),k=S("species");x.exports=function(D){var C=_(D),R=p.f;E&&C&&!C[k]&&R(C,k,{configurable:!0,get:function(){return this}})}},function(x,j,s){var _=s(15),p=s(68),S=s(40),E=s(45),k=_("".charAt),D=_("".charCodeAt),C=_("".slice),R=function(z){return function(F,G){var q,se,ue=S(E(F)),pe=p(G),_e=ue.length;return pe<0||pe>=_e?z?"":void 0:(q=D(ue,pe))<55296||q>56319||pe+1===_e||(se=D(ue,pe+1))<56320||se>57343?z?k(ue,pe):q:z?C(ue,pe,pe+2):se-56320+(q-55296<<10)+65536}};x.exports={codeAt:R(!1),charAt:R(!0)}},function(x,j){x.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(x,j,s){var _=s(86)("span").classList,p=_&&_.constructor&&_.constructor.prototype;x.exports=p===Object.prototype?void 0:p},function(x,j,s){var _=s(27);j.f=_},function(x,j,s){var _=s(181),p=s(34),S=s(149),E=s(37).f;x.exports=function(k){var D=_.Symbol||(_.Symbol={});p(D,k)||E(D,k,{value:S.f(k)})}},function(x,j,s){var _=s(18),p=s(7).RegExp,S=_(function(){var D=p("a","y");return D.lastIndex=2,D.exec("abcd")!=null}),E=S||_(function(){return!p("a","y").sticky}),k=S||_(function(){var D=p("^r","gy");return D.lastIndex=2,D.exec("str")!=null});x.exports={BROKEN_CARET:k,MISSED_STICKY:E,UNSUPPORTED_Y:S}},function(x,j,s){"use strict";var _=s(16),p=s(132).includes,S=s(83);_({target:"Array",proto:!0},{includes:function(E){return p(this,E,arguments.length>1?arguments[1]:void 0)}}),S("includes")},function(x,j,s){"use strict";var _=s(16),p=s(15),S=s(193),E=s(45),k=s(40),D=s(194),C=p("".indexOf);_({target:"String",proto:!0,forced:!D("includes")},{includes:function(R){return!!~C(k(E(this)),k(S(R)),arguments.length>1?arguments[1]:void 0)}})},function(x,j,s){var _=s(33),p=s(50),S=s(27)("match");x.exports=function(E){var k;return _(E)&&((k=E[S])!==void 0?!!k:p(E)=="RegExp")}},function(x,j){var s,_,p=x.exports={};function S(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}function k(ue){if(s===setTimeout)return setTimeout(ue,0);if((s===S||!s)&&setTimeout)return s=setTimeout,setTimeout(ue,0);try{return s(ue,0)}catch(pe){try{return s.call(null,ue,0)}catch(_e){return s.call(this,ue,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:S}catch(ue){s=S}try{_=typeof clearTimeout=="function"?clearTimeout:E}catch(ue){_=E}})();var D,C=[],R=!1,z=-1;function F(){R&&D&&(R=!1,D.length?C=D.concat(C):z=-1,C.length&&G())}function G(){if(!R){var ue=k(F);R=!0;for(var pe=C.length;pe;){for(D=C,C=[];++z<pe;)D&&D[z].run();z=-1,pe=C.length}D=null,R=!1,function(_e){if(_===clearTimeout)return clearTimeout(_e);if((_===E||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(_e);try{_(_e)}catch(ce){try{return _.call(null,_e)}catch($){return _.call(this,_e)}}}(ue)}}function q(ue,pe){this.fun=ue,this.array=pe}function se(){}p.nextTick=function(ue){var pe=new Array(arguments.length-1);if(arguments.length>1)for(var _e=1;_e<arguments.length;_e++)pe[_e-1]=arguments[_e];C.push(new q(ue,pe)),C.length!==1||R||k(G)},q.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=se,p.addListener=se,p.once=se,p.off=se,p.removeListener=se,p.removeAllListeners=se,p.emit=se,p.prependListener=se,p.prependOnceListener=se,p.listeners=function(ue){return[]},p.binding=function(ue){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(ue){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(x,j,s){var _=s(32),p=s(157),S=s(27)("species");x.exports=function(E,k){var D,C=_(E).constructor;return C===void 0||(D=_(C)[S])==null?k:p(D)}},function(x,j,s){var _=s(7),p=s(100),S=s(89),E=_.TypeError;x.exports=function(k){if(p(k))return k;throw E(S(k)+" is not a constructor")}},function(x,j,s){"use strict";var _=s(16),p=s(159).trim;_({target:"String",proto:!0,forced:s(195)("trim")},{trim:function(){return p(this)}})},function(x,j,s){var _=s(15),p=s(45),S=s(40),E=s(160),k=_("".replace),D="["+E+"]",C=RegExp("^"+D+D+"*"),R=RegExp(D+D+"*$"),z=function(F){return function(G){var q=S(p(G));return 1&F&&(q=k(q,C,"")),2&F&&(q=k(q,R,"")),q}};x.exports={start:z(1),end:z(2),trim:z(3)}},function(x,j){x.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(x,j,s){"use strict";var _=s(35),p=s(122),S=s(32),E=s(90),k=s(40),D=s(45),C=s(59),R=s(123),z=s(124);p("match",function(F,G,q){return[function(se){var ue=D(this),pe=se==null?void 0:C(se,F);return pe?_(pe,se,ue):new RegExp(se)[F](k(ue))},function(se){var ue=S(this),pe=k(se),_e=q(G,ue,pe);if(_e.done)return _e.value;if(!ue.global)return z(ue,pe);var ce=ue.unicode;ue.lastIndex=0;for(var $,ne=[],B=0;($=z(ue,pe))!==null;){var oe=k($[0]);ne[B]=oe,oe===""&&(ue.lastIndex=R(pe,E(ue.lastIndex),ce)),B++}return B===0?null:ne}]})},function(x,j,s){var _,p,S,E,k=s(7),D=s(76),C=s(62),R=s(28),z=s(34),F=s(18),G=s(133),q=s(101),se=s(86),ue=s(163),pe=s(126),_e=k.setImmediate,ce=k.clearImmediate,$=k.process,ne=k.Dispatch,B=k.Function,oe=k.MessageChannel,le=k.String,ve=0,me={},J="onreadystatechange";try{_=k.location}catch(re){}var ie=function(re){if(z(me,re)){var Q=me[re];delete me[re],Q()}},ee=function(re){return function(){ie(re)}},I=function(re){ie(re.data)},ae=function(re){k.postMessage(le(re),_.protocol+"//"+_.host)};_e&&ce||(_e=function(re){var Q=q(arguments,1);return me[++ve]=function(){D(R(re)?re:B(re),void 0,Q)},p(ve),ve},ce=function(re){delete me[re]},pe?p=function(re){$.nextTick(ee(re))}:ne&&ne.now?p=function(re){ne.now(ee(re))}:oe&&!ue?(E=(S=new oe).port2,S.port1.onmessage=I,p=C(E.postMessage,E)):k.addEventListener&&R(k.postMessage)&&!k.importScripts&&_&&_.protocol!=="file:"&&!F(ae)?(p=ae,k.addEventListener("message",I,!1)):p=J in se("script")?function(re){G.appendChild(se("script")).onreadystatechange=function(){G.removeChild(this),ie(re)}}:function(re){setTimeout(ee(re),0)}),x.exports={set:_e,clear:ce}},function(x,j,s){var _=s(53);x.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(_)},function(x,j,s){"use strict";var _=s(55),p=function(S){var E,k;this.promise=new S(function(D,C){if(E!==void 0||k!==void 0)throw TypeError("Bad Promise constructor");E=D,k=C}),this.resolve=_(E),this.reject=_(k)};x.exports.f=function(S){return new p(S)}},function(x,j,s){"use strict";j.a=function(){return!1}},function(x,j,s){"use strict";(function(_){s.d(j,"a",function(){return $});var p=s(0);function S(J){throw new Error("[mobx-utils] "+J)}function E(J,ie){ie===void 0&&(ie="Illegal state"),J||S(ie)}var k=function(J){return J&&J!==Object.prototype&&Object.getOwnPropertyNames(J).concat(k(Object.getPrototypeOf(J))||[])},D=function(J){return function(ie){var ee=k(ie);return ee.filter(function(I,ae){return ee.indexOf(I)===ae})}(J).filter(function(ie){return ie!=="constructor"&&!~ie.indexOf("__")})},C="pending",R="fulfilled",z="rejected";function F(J){switch(this.state){case C:return J.pending&&J.pending(this.value);case z:return J.rejected&&J.rejected(this.value);case R:return J.fulfilled?J.fulfilled(this.value):this.value}}function G(J,ie){if(E(arguments.length<=2,"fromPromise expects up to two arguments"),E(typeof J=="function"||typeof J=="object"&&J&&typeof J.then=="function","Please pass a promise or function to fromPromise"),J.isPromiseBasedObservable===!0)return J;typeof J=="function"&&(J=new Promise(J));var ee=J;J.then(Object(p.k)("observableFromPromise-resolve",function(ae){ee.value=ae,ee.state=R}),Object(p.k)("observableFromPromise-reject",function(ae){ee.value=ae,ee.state=z})),ee.isPromiseBasedObservable=!0,ee.case=F;var I=ie&&ie.state===R?ie.value:void 0;return Object(p.q)(ee,{value:I,state:C},{},{deep:!1}),ee}(function(J){J.reject=Object(p.k)("fromPromise.reject",function(ie){var ee=J(Promise.reject(ie));return ee.state=z,ee.value=ie,ee}),J.resolve=Object(p.k)("fromPromise.resolve",function(ie){ie===void 0&&(ie=void 0);var ee=J(Promise.resolve(ie));return ee.state=R,ee.value=ie,ee})})(G||(G={}));var q=function(J,ie,ee,I){var ae,re=arguments.length,Q=re<3?ie:I===null?I=Object.getOwnPropertyDescriptor(ie,ee):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(J,ie,ee,I);else for(var Oe=J.length-1;Oe>=0;Oe--)(ae=J[Oe])&&(Q=(re<3?ae(Q):re>3?ae(ie,ee,Q):ae(ie,ee))||Q);return re>3&&Q&&Object.defineProperty(ie,ee,Q),Q};(function(){function J(ie,ee){var I=this;Object(p.G)(function(){I.current=ee,I.subscription=ie.subscribe(I)})}J.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},J.prototype.next=function(ie){this.current=ie},J.prototype.complete=function(){this.dispose()},J.prototype.error=function(ie){this.current=ie,this.dispose()},q([p.C.ref],J.prototype,"current",void 0),q([p.k.bound],J.prototype,"next",null),q([p.k.bound],J.prototype,"complete",null),q([p.k.bound],J.prototype,"error",null)})();var se=function(){return se=Object.assign||function(J){for(var ie,ee=1,I=arguments.length;ee<I;ee++)for(var ae in ie=arguments[ee])Object.prototype.hasOwnProperty.call(ie,ae)&&(J[ae]=ie[ae]);return J},se.apply(this,arguments)},ue=function(J,ie,ee,I){var ae,re=arguments.length,Q=re<3?ie:I===null?I=Object.getOwnPropertyDescriptor(ie,ee):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Q=Reflect.decorate(J,ie,ee,I);else for(var Oe=J.length-1;Oe>=0;Oe--)(ae=J[Oe])&&(Q=(re<3?ae(Q):re>3?ae(ie,ee,Q):ae(ie,ee))||Q);return re>3&&Q&&Object.defineProperty(ie,ee,Q),Q},pe=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function J(ie){var ee=this;this.model=ie,this.localValues=p.C.map({}),this.localComputedValues=p.C.map({}),this.isPropertyDirty=function(I){return ee.localValues.has(I)},E(Object(p.A)(ie),"createViewModel expects an observable object"),D(ie).forEach(function(I){if(I!==p.a&&I!=="__mobxDidRunLazyInitializers"){if(E(pe.indexOf(I)===-1,"The propertyname "+I+" is reserved and cannot be used with viewModels"),Object(p.w)(ie,I)){var ae=Object(p.h)(ie,I).derivation;ee.localComputedValues.set(I,Object(p.m)(ae.bind(ee)))}var re=Object.getOwnPropertyDescriptor(ie,I),Q=re?{enumerable:re.enumerable}:{};Object.defineProperty(ee,I,se(se({},Q),{configurable:!0,get:function(){return Object(p.w)(ie,I)?ee.localComputedValues.get(I).get():ee.isPropertyDirty(I)?ee.localValues.get(I):ee.model[I]},set:Object(p.k)(function(Oe){Oe!==ee.model[I]?ee.localValues.set(I,Oe):ee.localValues.delete(I)})}))}})}Object.defineProperty(J.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(J.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),J.prototype.submit=function(){var ie=this;Object(p.B)(this.localValues).forEach(function(ee){var I=ie.localValues.get(ee),ae=ie.model[ee];Object(p.y)(ae)?ae.replace(I):Object(p.z)(ae)?(ae.clear(),ae.merge(I)):Object(p.v)(I)||(ie.model[ee]=I)}),this.localValues.clear()},J.prototype.reset=function(){this.localValues.clear()},J.prototype.resetProperty=function(ie){this.localValues.delete(ie)},ue([p.m],J.prototype,"isDirty",null),ue([p.m],J.prototype,"changedValues",null),ue([p.k.bound],J.prototype,"submit",null),ue([p.k.bound],J.prototype,"reset",null),ue([p.k.bound],J.prototype,"resetProperty",null)})();function _e(J){if(!J)return"ROOT";for(var ie=[];J.parent;)ie.push(J.path),J=J.parent;return ie.reverse().join("/")}function ce(J){return Object(p.A)(J)||Object(p.y)(J)||Object(p.z)(J)}function $(J,ie){var ee=new WeakMap;function I(Q){var Oe=ee.get(Q.object);(function(Se,Ie){switch(Se.type){case"add":ae(Se.newValue,Ie,Se.name);break;case"update":re(Se.oldValue),ae(Se.newValue,Ie,Se.name||""+Se.index);break;case"remove":case"delete":re(Se.oldValue);break;case"splice":Se.removed.map(re),Se.added.forEach(function(ke,Le){return ae(ke,Ie,""+(Se.index+Le))});for(var Xe=Se.index+Se.addedCount;Xe<Se.object.length;Xe++)if(ce(Se.object[Xe])){var rt=ee.get(Se.object[Xe]);rt&&(rt.path=""+Xe)}}})(Q,Oe),ie(Q,_e(Oe),J)}function ae(Q,Oe,Se){if(ce(Q)){var Ie=ee.get(Q);if(Ie){if(Ie.parent!==Oe||Ie.path!==Se)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+_e(Oe)+"/"+Se+"', but it already exists at '"+_e(Ie.parent)+"/"+Ie.path+"'")}else{var Xe={parent:Oe,path:Se,dispose:Object(p.D)(Q,I)};ee.set(Q,Xe),Object(p.p)(Q).forEach(function(rt){var ke=rt[0];return ae(rt[1],Xe,ke)})}}}function re(Q){if(ce(Q)){var Oe=ee.get(Q);if(!Oe)return;ee.delete(Q),Oe.dispose(),Object(p.L)(Q).forEach(re)}}return ae(J,void 0,""),function(){re(J)}}var ne,B=(ne=function(J,ie){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,I){ee.__proto__=I}||function(ee,I){for(var ae in I)I.hasOwnProperty(ae)&&(ee[ae]=I[ae])},ne(J,ie)},function(J,ie){function ee(){this.constructor=J}ne(J,ie),J.prototype=ie===null?Object.create(ie):(ee.prototype=ie.prototype,new ee)}),oe=(function(J){function ie(ee,I,ae){var re=ae===void 0?{}:ae,Q=re.name,Oe=Q===void 0?"ogm"+(1e3*Math.random()|0):Q,Se=re.keyToName,Ie=Se===void 0?function(ke){return""+ke}:Se,Xe=J.call(this)||this;Xe._keyToName=Ie,Xe._groupBy=I,Xe._ogmInfoKey=Symbol("ogmInfo"+Oe),Xe._base=ee;for(var rt=0;rt<ee.length;rt++)Xe._addItem(ee[rt]);return Xe._disposeBaseObserver=Object(p.D)(Xe._base,function(ke){if(ke.type==="splice")Object(p.J)(function(){for(var Le=0,Ue=ke.removed;Le<Ue.length;Le++){var W=Ue[Le];Xe._removeItem(W)}for(var Z=0,he=ke.added;Z<he.length;Z++){var Ee=he[Z];Xe._addItem(Ee)}});else{if(ke.type!=="update")throw new Error("illegal state");Object(p.J)(function(){Xe._removeItem(ke.oldValue),Xe._addItem(ke.newValue)})}}),Xe}B(ie,J),ie.prototype.clear=function(){throw new Error("not supported")},ie.prototype.delete=function(ee){throw new Error("not supported")},ie.prototype.set=function(ee,I){throw new Error("not supported")},ie.prototype.dispose=function(){this._disposeBaseObserver();for(var ee=0;ee<this._base.length;ee++){var I=this._base[ee];I[this._ogmInfoKey].reaction(),delete I[this._ogmInfoKey]}},ie.prototype._getGroupArr=function(ee){var I=J.prototype.get.call(this,ee);return I===void 0&&(I=Object(p.C)([],{name:"GroupArray["+this._keyToName(ee)+"]",deep:!1}),J.prototype.set.call(this,ee,I)),I},ie.prototype._removeFromGroupArr=function(ee,I){var ae=J.prototype.get.call(this,ee);ae.length===1?J.prototype.delete.call(this,ee):(I===ae.length-1||(ae[I]=ae[ae.length-1],ae[I][this._ogmInfoKey].groupArrIndex=I),ae.length--)},ie.prototype._addItem=function(ee){var I=this,ae=this._groupBy(ee),re=this._getGroupArr(ae),Q={groupByValue:ae,groupArrIndex:re.length,reaction:Object(p.F)(function(){return I._groupBy(ee)},function(Oe,Se){var Ie=ee[I._ogmInfoKey];I._removeFromGroupArr(Ie.groupByValue,Ie.groupArrIndex);var Xe=I._getGroupArr(Oe),rt=Xe.length;Xe.push(ee),Ie.groupByValue=Oe,Ie.groupArrIndex=rt})};Object.defineProperty(ee,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Q}),re.push(ee)},ie.prototype._removeItem=function(ee){var I=ee[this._ogmInfoKey];this._removeFromGroupArr(I.groupByValue,I.groupArrIndex),I.reaction(),delete ee[this._ogmInfoKey]}}(p.b),function(){function J(ie,ee){this.base=ie,this.args=ee,this.closestIdx=0,this.isDisposed=!1;for(var I=this.closest=this.root=ie,ae=0;ae<this.args.length-1&&(I=I.get(ee[ae]));ae++)this.closest=I;this.closestIdx=ae}return J.prototype.exists=function(){this.assertNotDisposed();var ie=this.args.length;return this.closestIdx>=ie-1&&this.closest.has(this.args[ie-1])},J.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},J.prototype.set=function(ie){this.assertNotDisposed();for(var ee=this.args.length,I=this.closest,ae=this.closestIdx;ae<ee-1;ae++){var re=new Map;I.set(this.args[ae],re),I=re}this.closestIdx=ee-1,this.closest=I,I.set(this.args[ee-1],ie)},J.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var ie=this.args.length;this.closest.delete(this.args[ie-1]);for(var ee=this.root,I=[ee],ae=0;ae<ie-1;ae++)ee=ee.get(this.args[ae]),I.push(ee);for(ae=I.length-1;ae>0;ae--)I[ae].size===0&&I[ae-1].delete(this.args[ae-1]);this.isDisposed=!0},J.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},J}());(function(){function J(){this.store=new Map,this.argsLength=-1}J.prototype.entry=function(ie){if(this.argsLength===-1)this.argsLength=ie.length;else if(this.argsLength!==ie.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+ie.length);return this.last&&(this.last.isDisposed=!0),this.last=new oe(this.store,ie)}})(),new Set,new Set;var le,ve=Promise.resolve();le=typeof queueMicrotask!="undefined"?queueMicrotask:_!==void 0&&_.nextTick?function(J){_.nextTick(J)}:function(J){setTimeout(J,0)};var me=function(){return new Promise(function(J){le(J)})}}).call(this,s(155))},function(x,j,s){var _;(function(p,S,E){if(p){for(var k,D={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},C={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},R={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},z={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},F=1;F<20;++F)D[111+F]="f"+F;for(F=0;F<=9;++F)D[F+96]=F.toString();ce.prototype.bind=function($,ne,B){var oe=this;return $=$ instanceof Array?$:[$],oe._bindMultiple.call(oe,$,ne,B),oe},ce.prototype.unbind=function($,ne){return this.bind.call(this,$,function(){},ne)},ce.prototype.trigger=function($,ne){var B=this;return B._directMap[$+":"+ne]&&B._directMap[$+":"+ne]({},$),B},ce.prototype.reset=function(){var $=this;return $._callbacks={},$._directMap={},$},ce.prototype.stopCallback=function($,ne){if((" "+ne.className+" ").indexOf(" mousetrap ")>-1||_e(ne,this.target))return!1;if("composedPath"in $&&typeof $.composedPath=="function"){var B=$.composedPath()[0];B!==$.target&&(ne=B)}return ne.tagName=="INPUT"||ne.tagName=="SELECT"||ne.tagName=="TEXTAREA"||ne.isContentEditable},ce.prototype.handleKey=function(){var $=this;return $._handleKey.apply($,arguments)},ce.addKeycodes=function($){for(var ne in $)$.hasOwnProperty(ne)&&(D[ne]=$[ne]);k=null},ce.init=function(){var $=ce(S);for(var ne in $)ne.charAt(0)!=="_"&&(ce[ne]=function(B){return function(){return $[B].apply($,arguments)}}(ne))},ce.init(),p.Mousetrap=ce,x.exports&&(x.exports=ce),(_=function(){return ce}.call(j,s,j,x))===void 0||(x.exports=_)}function G($,ne,B){$.addEventListener?$.addEventListener(ne,B,!1):$.attachEvent("on"+ne,B)}function q($){if($.type=="keypress"){var ne=String.fromCharCode($.which);return $.shiftKey||(ne=ne.toLowerCase()),ne}return D[$.which]?D[$.which]:C[$.which]?C[$.which]:String.fromCharCode($.which).toLowerCase()}function se($){return $=="shift"||$=="ctrl"||$=="alt"||$=="meta"}function ue($,ne,B){return B||(B=function(){if(!k)for(var oe in k={},D)oe>95&&oe<112||D.hasOwnProperty(oe)&&(k[D[oe]]=oe);return k}()[$]?"keydown":"keypress"),B=="keypress"&&ne.length&&(B="keydown"),B}function pe($,ne){var B,oe,le,ve=[];for(B=function(me){return me==="+"?["+"]:(me=me.replace(/\+{2}/g,"+plus")).split("+")}($),le=0;le<B.length;++le)oe=B[le],z[oe]&&(oe=z[oe]),ne&&ne!="keypress"&&R[oe]&&(oe=R[oe],ve.push("shift")),se(oe)&&ve.push(oe);return{key:oe,modifiers:ve,action:ne=ue(oe,ve,ne)}}function _e($,ne){return $!==null&&$!==S&&($===ne||_e($.parentNode,ne))}function ce($){var ne=this;if($=$||S,!(ne instanceof ce))return new ce($);ne.target=$,ne._callbacks={},ne._directMap={};var B,oe={},le=!1,ve=!1,me=!1;function J(Q){Q=Q||{};var Oe,Se=!1;for(Oe in oe)Q[Oe]?Se=!0:oe[Oe]=0;Se||(me=!1)}function ie(Q,Oe,Se,Ie,Xe,rt){var ke,Le,Ue,W,Z=[],he=Se.type;if(!ne._callbacks[Q])return[];for(he=="keyup"&&se(Q)&&(Oe=[Q]),ke=0;ke<ne._callbacks[Q].length;++ke)if(Le=ne._callbacks[Q][ke],(Ie||!Le.seq||oe[Le.seq]==Le.level)&&he==Le.action&&(he=="keypress"&&!Se.metaKey&&!Se.ctrlKey||(Ue=Oe,W=Le.modifiers,Ue.sort().join(",")===W.sort().join(",")))){var Ee=!Ie&&Le.combo==Xe,ze=Ie&&Le.seq==Ie&&Le.level==rt;(Ee||ze)&&ne._callbacks[Q].splice(ke,1),Z.push(Le)}return Z}function ee(Q,Oe,Se,Ie){ne.stopCallback(Oe,Oe.target||Oe.srcElement,Se,Ie)||Q(Oe,Se)===!1&&(function(Xe){Xe.preventDefault?Xe.preventDefault():Xe.returnValue=!1}(Oe),function(Xe){Xe.stopPropagation?Xe.stopPropagation():Xe.cancelBubble=!0}(Oe))}function I(Q){typeof Q.which!="number"&&(Q.which=Q.keyCode);var Oe=q(Q);Oe&&(Q.type!="keyup"||le!==Oe?ne.handleKey(Oe,function(Se){var Ie=[];return Se.shiftKey&&Ie.push("shift"),Se.altKey&&Ie.push("alt"),Se.ctrlKey&&Ie.push("ctrl"),Se.metaKey&&Ie.push("meta"),Ie}(Q),Q):le=!1)}function ae(Q,Oe,Se,Ie){function Xe(Ue){return function(){me=Ue,++oe[Q],clearTimeout(B),B=setTimeout(J,1e3)}}function rt(Ue){ee(Se,Ue,Q),Ie!=="keyup"&&(le=q(Ue)),setTimeout(J,10)}oe[Q]=0;for(var ke=0;ke<Oe.length;++ke){var Le=ke+1===Oe.length?rt:Xe(Ie||pe(Oe[ke+1]).action);re(Oe[ke],Le,Ie,Q,ke)}}function re(Q,Oe,Se,Ie,Xe){ne._directMap[Q+":"+Se]=Oe;var rt,ke=(Q=Q.replace(/\s+/g," ")).split(" ");ke.length>1?ae(Q,ke,Oe,Se):(rt=pe(Q,Se),ne._callbacks[rt.key]=ne._callbacks[rt.key]||[],ie(rt.key,rt.modifiers,{type:rt.action},Ie,Q,Xe),ne._callbacks[rt.key][Ie?"unshift":"push"]({callback:Oe,modifiers:rt.modifiers,action:rt.action,seq:Ie,level:Xe,combo:Q}))}ne._handleKey=function(Q,Oe,Se){var Ie,Xe=ie(Q,Oe,Se),rt={},ke=0,Le=!1;for(Ie=0;Ie<Xe.length;++Ie)Xe[Ie].seq&&(ke=Math.max(ke,Xe[Ie].level));for(Ie=0;Ie<Xe.length;++Ie)if(Xe[Ie].seq){if(Xe[Ie].level!=ke)continue;Le=!0,rt[Xe[Ie].seq]=1,ee(Xe[Ie].callback,Se,Xe[Ie].combo,Xe[Ie].seq)}else Le||ee(Xe[Ie].callback,Se,Xe[Ie].combo);var Ue=Se.type=="keypress"&&ve;Se.type!=me||se(Q)||Ue||J(rt),ve=Le&&Se.type=="keydown"},ne._bindMultiple=function(Q,Oe,Se){for(var Ie=0;Ie<Q.length;++Ie)re(Q[Ie],Oe,Se)},G($,"keypress",I),G($,"keydown",I),G($,"keyup",I)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(x,j,s){var _=s(36),p=s(37),S=s(32),E=s(39),k=s(66);x.exports=_?Object.defineProperties:function(D,C){S(D);for(var R,z=E(C),F=k(C),G=F.length,q=0;G>q;)p.f(D,R=F[q++],z[R]);return D}},function(x,j,s){var _=s(7),p=s(35),S=s(28),E=s(33),k=_.TypeError;x.exports=function(D,C){var R,z;if(C==="string"&&S(R=D.toString)&&!E(z=p(R,D))||S(R=D.valueOf)&&!E(z=p(R,D))||C!=="string"&&S(R=D.toString)&&!E(z=p(R,D)))return z;throw k("Can't convert object to primitive value")}},function(x,j,s){var _=s(7),p=s(28),S=s(92),E=_.WeakMap;x.exports=p(E)&&/native code/.test(S(E))},function(x,j,s){"use strict";var _=s(136).IteratorPrototype,p=s(54),S=s(71),E=s(73),k=s(70),D=function(){return this};x.exports=function(C,R,z,F){var G=R+" Iterator";return C.prototype=p(_,{next:S(+!F,z)}),E(C,G,!1,!0),k[G]=D,C}},function(x,j,s){var _=s(7),p=s(28),S=_.String,E=_.TypeError;x.exports=function(k){if(typeof k=="object"||p(k))return k;throw E("Can't set "+S(k)+" as a prototype")}},function(x,j,s){"use strict";var _=s(16),p=s(7),S=s(15),E=s(95),k=s(44),D=s(138),C=s(114),R=s(117),z=s(28),F=s(33),G=s(18),q=s(118),se=s(73),ue=s(143);x.exports=function(pe,_e,ce){var $=pe.indexOf("Map")!==-1,ne=pe.indexOf("Weak")!==-1,B=$?"set":"add",oe=p[pe],le=oe&&oe.prototype,ve=oe,me={},J=function(Q){var Oe=S(le[Q]);k(le,Q,Q=="add"?function(Se){return Oe(this,Se===0?0:Se),this}:Q=="delete"?function(Se){return!(ne&&!F(Se))&&Oe(this,Se===0?0:Se)}:Q=="get"?function(Se){return ne&&!F(Se)?void 0:Oe(this,Se===0?0:Se)}:Q=="has"?function(Se){return!(ne&&!F(Se))&&Oe(this,Se===0?0:Se)}:function(Se,Ie){return Oe(this,Se===0?0:Se,Ie),this})};if(E(pe,!z(oe)||!(ne||le.forEach&&!G(function(){new oe().entries().next()}))))ve=ce.getConstructor(_e,pe,$,B),D.enable();else if(E(pe,!0)){var ie=new ve,ee=ie[B](ne?{}:-0,1)!=ie,I=G(function(){ie.has(1)}),ae=q(function(Q){new oe(Q)}),re=!ne&&G(function(){for(var Q=new oe,Oe=5;Oe--;)Q[B](Oe,Oe);return!Q.has(-0)});ae||((ve=_e(function(Q,Oe){R(Q,le);var Se=ue(new oe,Q,ve);return Oe!=null&&C(Oe,Se[B],{that:Se,AS_ENTRIES:$}),Se})).prototype=le,le.constructor=ve),(I||re)&&(J("delete"),J("has"),$&&J("get")),(re||ee)&&J(B),ne&&le.clear&&delete le.clear}return me[pe]=ve,_({global:!0,forced:ve!=oe},me),se(ve,pe),ne||ce.setStrong(ve,pe,$),ve}},function(x,j,s){var _=s(18),p=s(33),S=s(50),E=s(175),k=Object.isExtensible,D=_(function(){k(1)});x.exports=D||E?function(C){return!!p(C)&&(!E||S(C)!="ArrayBuffer")&&(!k||k(C))}:k},function(x,j,s){var _=s(18);x.exports=_(function(){if(typeof ArrayBuffer=="function"){var p=new ArrayBuffer(8);Object.isExtensible(p)&&Object.defineProperty(p,"a",{value:8})}})},function(x,j,s){var _=s(18);x.exports=!_(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(x,j,s){"use strict";var _=s(37).f,p=s(54),S=s(144),E=s(62),k=s(117),D=s(114),C=s(111),R=s(145),z=s(36),F=s(138).fastKey,G=s(56),q=G.set,se=G.getterFor;x.exports={getConstructor:function(ue,pe,_e,ce){var $=ue(function(ve,me){k(ve,ne),q(ve,{type:pe,index:p(null),first:void 0,last:void 0,size:0}),z||(ve.size=0),me!=null&&D(me,ve[ce],{that:ve,AS_ENTRIES:_e})}),ne=$.prototype,B=se(pe),oe=function(ve,me,J){var ie,ee,I=B(ve),ae=le(ve,me);return ae?ae.value=J:(I.last=ae={index:ee=F(me,!0),key:me,value:J,previous:ie=I.last,next:void 0,removed:!1},I.first||(I.first=ae),ie&&(ie.next=ae),z?I.size++:ve.size++,ee!=="F"&&(I.index[ee]=ae)),ve},le=function(ve,me){var J,ie=B(ve),ee=F(me);if(ee!=="F")return ie.index[ee];for(J=ie.first;J;J=J.next)if(J.key==me)return J};return S(ne,{clear:function(){for(var ve=B(this),me=ve.index,J=ve.first;J;)J.removed=!0,J.previous&&(J.previous=J.previous.next=void 0),delete me[J.index],J=J.next;ve.first=ve.last=void 0,z?ve.size=0:this.size=0},delete:function(ve){var me=this,J=B(me),ie=le(me,ve);if(ie){var ee=ie.next,I=ie.previous;delete J.index[ie.index],ie.removed=!0,I&&(I.next=ee),ee&&(ee.previous=I),J.first==ie&&(J.first=ee),J.last==ie&&(J.last=I),z?J.size--:me.size--}return!!ie},forEach:function(ve){for(var me,J=B(this),ie=E(ve,arguments.length>1?arguments[1]:void 0);me=me?me.next:J.first;)for(ie(me.value,me.key,this);me&&me.removed;)me=me.previous},has:function(ve){return!!le(this,ve)}}),S(ne,_e?{get:function(ve){var me=le(this,ve);return me&&me.value},set:function(ve,me){return oe(this,ve===0?0:ve,me)}}:{add:function(ve){return oe(this,ve=ve===0?0:ve,ve)}}),z&&_(ne,"size",{get:function(){return B(this).size}}),$},setStrong:function(ue,pe,_e){var ce=pe+" Iterator",$=se(pe),ne=se(ce);C(ue,pe,function(B,oe){q(this,{type:ce,target:B,state:$(B),kind:oe,last:void 0})},function(){for(var B=ne(this),oe=B.kind,le=B.last;le&&le.removed;)le=le.previous;return B.target&&(B.last=le=le?le.next:B.state.first)?oe=="keys"?{value:le.key,done:!1}:oe=="values"?{value:le.value,done:!1}:{value:[le.key,le.value],done:!1}:(B.target=void 0,{value:void 0,done:!0})},_e?"entries":"values",!_e,!0),R(pe)}}},function(x,j,s){"use strict";var _=s(116),p=s(98);x.exports=_?{}.toString:function(){return"[object "+p(this)+"]"}},function(x,j,s){"use strict";var _=s(74).forEach,p=s(120)("forEach");x.exports=p?[].forEach:function(S){return _(this,S,arguments.length>1?arguments[1]:void 0)}},function(x,j,s){var _=s(7),p=s(99),S=s(100),E=s(33),k=s(27)("species"),D=_.Array;x.exports=function(C){var R;return p(C)&&(R=C.constructor,(S(R)&&(R===D||p(R.prototype))||E(R)&&(R=R[k])===null)&&(R=void 0)),R===void 0?D:R}},function(x,j,s){var _=s(7);x.exports=_},function(x,j,s){"use strict";var _=s(7),p=s(62),S=s(35),E=s(38),k=s(183),D=s(140),C=s(100),R=s(43),z=s(61),F=s(141),G=s(115),q=_.Array;x.exports=function(se){var ue=E(se),pe=C(this),_e=arguments.length,ce=_e>1?arguments[1]:void 0,$=ce!==void 0;$&&(ce=p(ce,_e>2?arguments[2]:void 0));var ne,B,oe,le,ve,me,J=G(ue),ie=0;if(!J||this==q&&D(J))for(ne=R(ue),B=pe?new this(ne):q(ne);ne>ie;ie++)me=$?ce(ue[ie],ie):ue[ie],z(B,ie,me);else for(ve=(le=F(ue,J)).next,B=pe?new this:[];!(oe=S(ve,le)).done;ie++)me=$?k(le,ce,[oe.value,ie],!0):oe.value,z(B,ie,me);return B.length=ie,B}},function(x,j,s){var _=s(32),p=s(142);x.exports=function(S,E,k,D){try{return D?E(_(k)[0],k[1]):E(k)}catch(C){p(S,"throw",C)}}},function(x,j,s){"use strict";var _=s(32);x.exports=function(){var p=_(this),S="";return p.global&&(S+="g"),p.ignoreCase&&(S+="i"),p.multiline&&(S+="m"),p.dotAll&&(S+="s"),p.unicode&&(S+="u"),p.sticky&&(S+="y"),S}},function(x,j,s){var _=s(18),p=s(7).RegExp;x.exports=_(function(){var S=p(".","s");return!(S.dotAll&&S.exec(`
`)&&S.flags==="s")})},function(x,j,s){var _=s(18),p=s(7).RegExp;x.exports=_(function(){var S=p("(?<a>b)","g");return S.exec("b").groups.a!=="b"||"b".replace(S,"$<a>c")!=="bc"})},function(x,j,s){"use strict";var _=s(16),p=s(15),S=s(55),E=s(38),k=s(43),D=s(40),C=s(18),R=s(188),z=s(120),F=s(189),G=s(190),q=s(65),se=s(191),ue=[],pe=p(ue.sort),_e=p(ue.push),ce=C(function(){ue.sort(void 0)}),$=C(function(){ue.sort(null)}),ne=z("sort"),B=!C(function(){if(q)return q<70;if(!(F&&F>3)){if(G)return!0;if(se)return se<603;var oe,le,ve,me,J="";for(oe=65;oe<76;oe++){switch(le=String.fromCharCode(oe),oe){case 66:case 69:case 70:case 72:ve=3;break;case 68:case 71:ve=4;break;default:ve=2}for(me=0;me<47;me++)ue.push({k:le+me,v:ve})}for(ue.sort(function(ie,ee){return ee.v-ie.v}),me=0;me<ue.length;me++)le=ue[me].k.charAt(0),J.charAt(J.length-1)!==le&&(J+=le);return J!=="DGBEFHACIJK"}});_({target:"Array",proto:!0,forced:ce||!$||!ne||!B},{sort:function(oe){oe!==void 0&&S(oe);var le=E(this);if(B)return oe===void 0?pe(le):pe(le,oe);var ve,me,J=[],ie=k(le);for(me=0;me<ie;me++)me in le&&_e(J,le[me]);for(R(J,function(ee){return function(I,ae){return ae===void 0?-1:I===void 0?1:ee!==void 0?+ee(I,ae)||0:D(I)>D(ae)?1:-1}}(oe)),ve=J.length,me=0;me<ve;)le[me]=J[me++];for(;me<ie;)delete le[me++];return le}})},function(x,j,s){var _=s(113),p=Math.floor,S=function(D,C){var R=D.length,z=p(R/2);return R<8?E(D,C):k(D,S(_(D,0,z),C),S(_(D,z),C),C)},E=function(D,C){for(var R,z,F=D.length,G=1;G<F;){for(z=G,R=D[G];z&&C(D[z-1],R)>0;)D[z]=D[--z];z!==G++&&(D[z]=R)}return D},k=function(D,C,R,z){for(var F=C.length,G=R.length,q=0,se=0;q<F||se<G;)D[q+se]=q<F&&se<G?z(C[q],R[se])<=0?C[q++]:R[se++]:q<F?C[q++]:R[se++];return D};x.exports=S},function(x,j,s){var _=s(53).match(/firefox\/(\d+)/i);x.exports=!!_&&+_[1]},function(x,j,s){var _=s(53);x.exports=/MSIE|Trident/.test(_)},function(x,j,s){var _=s(53).match(/AppleWebKit\/(\d+)\./);x.exports=!!_&&+_[1]},function(x,j,s){"use strict";var _=s(16),p=s(74).find,S=s(83),E="find",k=!0;E in[]&&Array(1).find(function(){k=!1}),_({target:"Array",proto:!0,forced:k},{find:function(D){return p(this,D,arguments.length>1?arguments[1]:void 0)}}),S(E)},function(x,j,s){var _=s(7),p=s(154),S=_.TypeError;x.exports=function(E){if(p(E))throw S("The method doesn't accept regular expressions");return E}},function(x,j,s){var _=s(27)("match");x.exports=function(p){var S=/./;try{"/./"[p](S)}catch(E){try{return S[_]=!1,"/./"[p](S)}catch(k){}}return!1}},function(x,j,s){var _=s(94).PROPER,p=s(18),S=s(160);x.exports=function(E){return p(function(){return!!S[E]()||"\u200B\x85\u180E"[E]()!=="\u200B\x85\u180E"||_&&S[E].name!==E})}},function(x,j,s){var _=s(15);x.exports=_(1 .valueOf)},function(x,j,s){var _=s(15),p=s(38),S=Math.floor,E=_("".charAt),k=_("".replace),D=_("".slice),C=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,R=/\$([$&'`]|\d{1,2})/g;x.exports=function(z,F,G,q,se,ue){var pe=G+z.length,_e=q.length,ce=R;return se!==void 0&&(se=p(se),ce=C),k(ue,ce,function($,ne){var B;switch(E(ne,0)){case"$":return"$";case"&":return z;case"`":return D(F,0,G);case"'":return D(F,pe);case"<":B=se[D(ne,1,-1)];break;default:var oe=+ne;if(oe===0)return $;if(oe>_e){var le=S(oe/10);return le===0?$:le<=_e?q[le-1]===void 0?E(ne,1):q[le-1]+E(ne,1):$}B=q[oe-1]}return B===void 0?"":B})}},function(x,j,s){"use strict";var _=s(7),p=s(15),S=s(55),E=s(33),k=s(34),D=s(101),C=_.Function,R=p([].concat),z=p([].join),F={},G=function(q,se,ue){if(!k(F,se)){for(var pe=[],_e=0;_e<se;_e++)pe[_e]="a["+_e+"]";F[se]=C("C,a","return new C("+z(pe,",")+")")}return F[se](q,ue)};x.exports=C.bind||function(q){var se=S(this),ue=se.prototype,pe=D(arguments,1),_e=function(){var ce=R(pe,D(arguments));return this instanceof _e?G(se,ce.length,ce):se.apply(q,ce)};return E(ue)&&(_e.prototype=ue),_e}},function(x,j,s){var _=s(34);x.exports=function(p){return p!==void 0&&(_(p,"value")||_(p,"writable"))}},function(x,j,s){"use strict";var _=s(36),p=s(15),S=s(35),E=s(18),k=s(66),D=s(112),C=s(93),R=s(38),z=s(81),F=Object.assign,G=Object.defineProperty,q=p([].concat);x.exports=!F||E(function(){if(_&&F({b:1},F(G({},"a",{enumerable:!0,get:function(){G(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var se={},ue={},pe=Symbol(),_e="abcdefghijklmnopqrst";return se[pe]=7,_e.split("").forEach(function(ce){ue[ce]=ce}),F({},se)[pe]!=7||k(F({},ue)).join("")!=_e})?function(se,ue){for(var pe=R(se),_e=arguments.length,ce=1,$=D.f,ne=C.f;_e>ce;)for(var B,oe=z(arguments[ce++]),le=$?q(k(oe),$(oe)):k(oe),ve=le.length,me=0;ve>me;)B=le[me++],_&&!S(ne,oe,B)||(pe[B]=oe[B]);return pe}:F},function(x,j,s){var _=s(15),p=s(45),S=s(40),E=/"/g,k=_("".replace);x.exports=function(D,C,R,z){var F=S(p(D)),G="<"+C;return R!==""&&(G+=" "+R+'="'+k(S(z),E,"&quot;")+'"'),G+">"+F+"</"+C+">"}},function(x,j,s){var _=s(18);x.exports=function(p){return _(function(){var S=""[p]('"');return S!==S.toLowerCase()||S.split('"').length>3})}},function(x,j,s){var _=s(16),p=Math.hypot,S=Math.abs,E=Math.sqrt;_({target:"Math",stat:!0,forced:!!p&&p(1/0,NaN)!==1/0},{hypot:function(k,D){for(var C,R,z=0,F=0,G=arguments.length,q=0;F<G;)q<(C=S(arguments[F++]))?(z=z*(R=q/C)*R+1,q=C):z+=C>0?(R=C/q)*R:C;return q===1/0?1/0:q*E(z)}})},function(x,j,s){"use strict";var _,p,S,E,k=s(16),D=s(64),C=s(7),R=s(46),z=s(35),F=s(205),G=s(44),q=s(144),se=s(97),ue=s(73),pe=s(145),_e=s(55),ce=s(28),$=s(33),ne=s(117),B=s(92),oe=s(114),le=s(118),ve=s(156),me=s(162).set,J=s(206),ie=s(209),ee=s(210),I=s(164),ae=s(211),re=s(56),Q=s(95),Oe=s(27),Se=s(212),Ie=s(126),Xe=s(65),rt=Oe("species"),ke="Promise",Le=re.getterFor(ke),Ue=re.set,W=re.getterFor(ke),Z=F&&F.prototype,he=F,Ee=Z,ze=C.TypeError,Re=C.document,it=C.process,ut=I.f,dt=ut,tt=!!(Re&&Re.createEvent&&C.dispatchEvent),Te=ce(C.PromiseRejectionEvent),Ze="unhandledrejection",fe=!1,We=Q(ke,function(){var te=B(he),we=te!==String(he);if(!we&&Xe===66||D&&!Ee.finally)return!0;if(Xe>=51&&/native code/.test(te))return!1;var Ye=new he(function(Ke){Ke(1)}),Ve=function(Ke){Ke(function(){},function(){})};return(Ye.constructor={})[rt]=Ve,!(fe=Ye.then(function(){})instanceof Ve)||!we&&Se&&!Te}),qe=We||!le(function(te){he.all(te).catch(function(){})}),Nt=function(te){var we;return!(!$(te)||!ce(we=te.then))&&we},gt=function(te,we){if(!te.notified){te.notified=!0;var Ye=te.reactions;J(function(){for(var Ve=te.value,Ke=te.state==1,_t=0;Ye.length>_t;){var rn,Jt,Bt,Vt=Ye[_t++],Qe=Ke?Vt.ok:Vt.fail,lt=Vt.resolve,yt=Vt.reject,xt=Vt.domain;try{Qe?(Ke||(te.rejection===2&&wt(te),te.rejection=1),Qe===!0?rn=Ve:(xt&&xt.enter(),rn=Qe(Ve),xt&&(xt.exit(),Bt=!0)),rn===Vt.promise?yt(ze("Promise-chain cycle")):(Jt=Nt(rn))?z(Jt,rn,lt,yt):lt(rn)):yt(Ve)}catch(Ht){xt&&!Bt&&xt.exit(),yt(Ht)}}te.reactions=[],te.notified=!1,we&&!te.rejection&&Lt(te)})}},ht=function(te,we,Ye){var Ve,Ke;tt?((Ve=Re.createEvent("Event")).promise=we,Ve.reason=Ye,Ve.initEvent(te,!1,!0),C.dispatchEvent(Ve)):Ve={promise:we,reason:Ye},!Te&&(Ke=C["on"+te])?Ke(Ve):te===Ze&&ee("Unhandled promise rejection",Ye)},Lt=function(te){z(me,C,function(){var we,Ye=te.facade,Ve=te.value;if(Xt(te)&&(we=ae(function(){Ie?it.emit("unhandledRejection",Ve,Ye):ht(Ze,Ye,Ve)}),te.rejection=Ie||Xt(te)?2:1,we.error))throw we.value})},Xt=function(te){return te.rejection!==1&&!te.parent},wt=function(te){z(me,C,function(){var we=te.facade;Ie?it.emit("rejectionHandled",we):ht("rejectionhandled",we,te.value)})},en=function(te,we,Ye){return function(Ve){te(we,Ve,Ye)}},V=function(te,we,Ye){te.done||(te.done=!0,Ye&&(te=Ye),te.value=we,te.state=2,gt(te,!0))},be=function(te,we,Ye){if(!te.done){te.done=!0,Ye&&(te=Ye);try{if(te.facade===we)throw ze("Promise can't be resolved itself");var Ve=Nt(we);Ve?J(function(){var Ke={done:!1};try{z(Ve,we,en(be,Ke,te),en(V,Ke,te))}catch(_t){V(Ke,_t,te)}}):(te.value=we,te.state=1,gt(te,!1))}catch(Ke){V({done:!1},Ke,te)}}};if(We&&(Ee=(he=function(te){ne(this,Ee),_e(te),z(_,this);var we=Le(this);try{te(en(be,we),en(V,we))}catch(Ye){V(we,Ye)}}).prototype,(_=function(te){Ue(this,{type:ke,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=q(Ee,{then:function(te,we){var Ye=W(this),Ve=Ye.reactions,Ke=ut(ve(this,he));return Ke.ok=!ce(te)||te,Ke.fail=ce(we)&&we,Ke.domain=Ie?it.domain:void 0,Ye.parent=!0,Ve[Ve.length]=Ke,Ye.state!=0&&gt(Ye,!1),Ke.promise},catch:function(te){return this.then(void 0,te)}}),p=function(){var te=new _,we=Le(te);this.promise=te,this.resolve=en(be,we),this.reject=en(V,we)},I.f=ut=function(te){return te===he||te===S?new p(te):dt(te)},!D&&ce(F)&&Z!==Object.prototype)){E=Z.then,fe||(G(Z,"then",function(te,we){var Ye=this;return new he(function(Ve,Ke){z(E,Ye,Ve,Ke)}).then(te,we)},{unsafe:!0}),G(Z,"catch",Ee.catch,{unsafe:!0}));try{delete Z.constructor}catch(te){}se&&se(Z,Ee)}k({global:!0,wrap:!0,forced:We},{Promise:he}),ue(he,ke,!1,!0),pe(ke),S=R(ke),k({target:ke,stat:!0,forced:We},{reject:function(te){var we=ut(this);return z(we.reject,void 0,te),we.promise}}),k({target:ke,stat:!0,forced:D||We},{resolve:function(te){return ie(D&&this===S?he:this,te)}}),k({target:ke,stat:!0,forced:qe},{all:function(te){var we=this,Ye=ut(we),Ve=Ye.resolve,Ke=Ye.reject,_t=ae(function(){var rn=_e(we.resolve),Jt=[],Bt=0,Vt=1;oe(te,function(Qe){var lt=Bt++,yt=!1;Vt++,z(rn,we,Qe).then(function(xt){yt||(yt=!0,Jt[lt]=xt,--Vt||Ve(Jt))},Ke)}),--Vt||Ve(Jt)});return _t.error&&Ke(_t.value),Ye.promise},race:function(te){var we=this,Ye=ut(we),Ve=Ye.reject,Ke=ae(function(){var _t=_e(we.resolve);oe(te,function(rn){z(_t,we,rn).then(Ye.resolve,Ve)})});return Ke.error&&Ve(Ke.value),Ye.promise}})},function(x,j,s){var _=s(7);x.exports=_.Promise},function(x,j,s){var _,p,S,E,k,D,C,R,z=s(7),F=s(62),G=s(51).f,q=s(162).set,se=s(163),ue=s(207),pe=s(208),_e=s(126),ce=z.MutationObserver||z.WebKitMutationObserver,$=z.document,ne=z.process,B=z.Promise,oe=G(z,"queueMicrotask"),le=oe&&oe.value;le||(_=function(){var ve,me;for(_e&&(ve=ne.domain)&&ve.exit();p;){me=p.fn,p=p.next;try{me()}catch(J){throw p?E():S=void 0,J}}S=void 0,ve&&ve.enter()},se||_e||pe||!ce||!$?!ue&&B&&B.resolve?((C=B.resolve(void 0)).constructor=B,R=F(C.then,C),E=function(){R(_)}):_e?E=function(){ne.nextTick(_)}:(q=F(q,z),E=function(){q(_)}):(k=!0,D=$.createTextNode(""),new ce(_).observe(D,{characterData:!0}),E=function(){D.data=k=!k})),x.exports=le||function(ve){var me={fn:ve,next:void 0};S&&(S.next=me),p||(p=me,E()),S=me}},function(x,j,s){var _=s(53),p=s(7);x.exports=/ipad|iphone|ipod/i.test(_)&&p.Pebble!==void 0},function(x,j,s){var _=s(53);x.exports=/web0s(?!.*chrome)/i.test(_)},function(x,j,s){var _=s(32),p=s(33),S=s(164);x.exports=function(E,k){if(_(E),p(k)&&k.constructor===E)return k;var D=S.f(E);return(0,D.resolve)(k),D.promise}},function(x,j,s){var _=s(7);x.exports=function(p,S){var E=_.console;E&&E.error&&(arguments.length==1?E.error(p):E.error(p,S))}},function(x,j){x.exports=function(s){try{return{error:!1,value:s()}}catch(_){return{error:!0,value:_}}}},function(x,j){x.exports=typeof window=="object"},function(x,j,s){var _=s(36),p=s(15),S=s(66),E=s(39),k=p(s(93).f),D=p([].push),C=function(R){return function(z){for(var F,G=E(z),q=S(G),se=q.length,ue=0,pe=[];se>ue;)F=q[ue++],_&&!k(G,F)||D(pe,R?[F,G[F]]:G[F]);return pe}};x.exports={entries:C(!0),values:C(!1)}},function(x,j,s){"use strict";var _=s(38),p=s(67),S=s(43);x.exports=function(E){for(var k=_(this),D=S(k),C=arguments.length,R=p(C>1?arguments[1]:void 0,D),z=C>2?arguments[2]:void 0,F=z===void 0?D:p(z,D);F>R;)k[R++]=E;return k}},function(x,j,s){"use strict";s.r(j),s.d(j,"observer",function(){return Tr}),s.d(j,"LogicFlow",function(){return Ql}),s.d(j,"h",function(){return fe.g}),s.d(j,"LogicFlowUtil",function(){return _}),s.d(j,"BaseNode",function(){return Oo}),s.d(j,"RectNode",function(){return Yc}),s.d(j,"CircleNode",function(){return $c}),s.d(j,"PolygonNode",function(){return tl}),s.d(j,"DiamondNode",function(){return il}),s.d(j,"EllipseNode",function(){return ll}),s.d(j,"TextNode",function(){return dl}),s.d(j,"HtmlNode",function(){return gl}),s.d(j,"BaseEdge",function(){return Ea}),s.d(j,"LineEdge",function(){return Al}),s.d(j,"PolylineEdge",function(){return Rl}),s.d(j,"BezierEdge",function(){return zl}),s.d(j,"Arrow",function(){return g0}),s.d(j,"BaseEdgeModel",function(){return ls}),s.d(j,"BezierEdgeModel",function(){return tc}),s.d(j,"LineEdgeModel",function(){return ys}),s.d(j,"PolylineEdgeModel",function(){return bs}),s.d(j,"BaseNodeModel",function(){return _o}),s.d(j,"CircleNodeModel",function(){return uc}),s.d(j,"DiamondNodeModel",function(){return pc}),s.d(j,"EllipseNodeModel",function(){return vc}),s.d(j,"PolygonNodeModel",function(){return wc}),s.d(j,"RectNodeModel",function(){return jc}),s.d(j,"TextNodeModel",function(){return Nc}),s.d(j,"HtmlNodeModel",function(){return Tc}),s.d(j,"EditConfigModel",function(){return df}),s.d(j,"GraphModel",function(){return sd}),s.d(j,"SnaplineModel",function(){return uy}),s.d(j,"Keyboard",function(){return vv}),s.d(j,"get",function(){return Gd}),s.d(j,"defaults",function(){return Ud});var _={};s.r(_),s.d(_,"createUuid",function(){return ui}),s.d(_,"refreshGraphId",function(){return cg}),s.d(_,"createDrag",function(){return js}),s.d(_,"StepDrag",function(){return si});var p=s(0),S=s(10);if(!S.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!p.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var E=s(42),k=Object(E.b)("observerBatching");function D(t){t()}var C=!1;function R(){return C}function z(t){return Object(p.t)(t)}var F,G=1e4,q=new Set;function se(){F===void 0&&(F=setTimeout(ue,1e4))}function ue(){F=void 0;var t=Date.now();q.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,q.delete(e))}),q.size>0&&se()}var pe=!1,_e=[],ce={};function $(t){return"observer"+t}function ne(t,e,n){if(e===void 0&&(e="observed"),n===void 0&&(n=ce),R())return t();var r,o=function(g){return function(){pe?_e.push(g):g()}}((n.useForceUpdate||E.d)()),u=S.d.useRef(null);if(!u.current){var i=new p.c($(e),function(){a.mounted?o():(i.dispose(),u.current=null)}),a=function(g){return{cleanAt:Date.now()+G,reaction:g}}(i);u.current=a,r=u,q.add(r),se()}var f=u.current.reaction;return S.d.useDebugValue(f,z),S.d.useEffect(function(){var g;return g=u,q.delete(g),u.current?u.current.mounted=!0:(u.current={reaction:new p.c($(e),function(){o()}),cleanAt:1/0},o()),function(){u.current.reaction.dispose(),u.current=null}},[]),function(g){pe=!0,_e=[];try{var O=g();pe=!1;var M=_e.length>0?_e:void 0;return S.d.useLayoutEffect(function(){M&&M.forEach(function(N){return N()})},[M]),O}finally{pe=!1}}(function(){var g,O;if(f.track(function(){try{g=t()}catch(M){O=M}}),O)throw O;return g})}var B=function(){return B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},B.apply(this,arguments)};function oe(t,e){if(R())return t;var n,r,o,u=B({forwardRef:!1},e),i=t.displayName||t.name,a=function(f,g){return ne(function(){return t(f,g)},i)};return a.displayName=i,n=u.forwardRef?Object(S.f)(Object(S.e)(a)):Object(S.f)(a),r=t,o=n,Object.keys(r).forEach(function(f){le[f]||Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(r,f))}),n.displayName=i,n}var le={$$typeof:!0,render:!0,compare:!0,type:!0};function ve(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:ne(r)}function me(t,e,n,r,o){var u=e==="children"?"render":"children",i=typeof t[e]=="function",a=typeof t[u]=="function";return i&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):i||a?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}ve.propTypes={children:me,render:me},ve.displayName="Observer";var J;(J=S.g)||(J=D),Object(p.n)({reactionScheduler:J}),Object(E.a)()[k]=!0;var ie=0,ee={};function I(t){return ee[t]||(ee[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+ie+")";return ie++,n}(t)),ee[t]}function ae(t,e){if(re(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!re(t[n[o]],e[n[o]]))return!1;return!0}function re(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Q(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Oe=I("patchMixins"),Se=I("patchedDefinition");function Ie(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];e.locks++;try{var i;return t!=null&&(i=t.apply(this,o)),i}finally{e.locks--,e.locks===0&&e.methods.forEach(function(a){a.apply(n,o)})}}function Xe(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Ie.call.apply(Ie,[this,t,e].concat(r))}}function rt(t,e,n){var r=function(a,f){var g=a[Oe]=a[Oe]||{},O=g[f]=g[f]||{};return O.locks=O.locks||0,O.methods=O.methods||[],O}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[Se]){var u=t[e],i=ke(t,e,o?o.enumerable:void 0,r,u);Object.defineProperty(t,e,i)}}function ke(t,e,n,r,o){var u,i=Xe(o,r);return(u={})[Se]=!0,u.get=function(){return i},u.set=function(a){if(this===t)i=Xe(a,r);else{var f=ke(this,e,n,r,a);Object.defineProperty(this,e,f)}},u.configurable=!0,u.enumerable=n,u}var Le=p.a||"$mobx",Ue=I("isMobXReactObserver"),W=I("isUnmounted"),Z=I("skipRender"),he=I("isForcingUpdate");function Ee(t){var e=t.prototype;if(t[Ue]?ze(e):t[Ue]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==S.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==it)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=it;ut(e,"props"),ut(e,"state");var n=e.render;return e.render=function(){return Re.call(this,n)},rt(e,"componentWillUnmount",function(){var r;R()!==!0&&((r=this.render[Le])===null||r===void 0||r.dispose(),this[W]=!0,!this.render[Le])&&ze(this)}),t}function ze(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Re(t){var e=this;if(R()===!0)return t.call(this);Q(this,Z,!1),Q(this,he,!1);var n=ze(this),r=t.bind(this),o=!1,u=new p.c(n+".render()",function(){if(!o&&(o=!0,e[W]!==!0)){var a=!0;try{Q(e,he,!0),e[Z]||S.a.prototype.forceUpdate.call(e),a=!1}finally{Q(e,he,!1),a&&u.dispose()}}});function i(){o=!1;var a=void 0,f=void 0;if(u.track(function(){try{f=Object(p.d)(!1,r)}catch(g){a=g}}),a)throw a;return f}return u.reactComponent=this,i[Le]=u,this.render=i,i.call(this)}function it(t,e){return R(),this.state!==e||!ae(this.props,t)}function ut(t,e){var n=I("reactProp_"+e+"_valueHolder"),r=I("reactProp_"+e+"_atomHolder");function o(){return this[r]||Q(this,r,Object(p.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var u=!1;return p.f&&p.e&&(u=Object(p.f)(!0)),o.call(this).reportObserved(),p.f&&p.e&&Object(p.e)(u),this[n]},set:function(u){this[he]||ae(this[n],u)?Q(this,n,u):(Q(this,n,u),Q(this,Z,!0),o.call(this).reportChanged(),Q(this,Z,!1))}})}var dt=typeof Symbol=="function"&&Symbol.for,tt=dt?Symbol.for("react.forward_ref"):typeof S.e=="function"&&Object(S.e)(function(t){return null}).$$typeof,Te=dt?Symbol.for("react.memo"):typeof S.f=="function"&&Object(S.f)(function(t){return null}).$$typeof;function Ze(t){if(t.isMobxInjector,Te&&t.$$typeof===Te)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(tt&&t.$$typeof===tt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(S.e)(function(){var n=arguments;return Object(S.c)(ve,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(S.a,t)?Ee(t):oe(t)}if(!S.a)throw new Error("mobx-react requires React to be available");if(!p.C)throw new Error("mobx-react requires mobx to be available");var fe=s(1);s(3),s(60),s(2),s(6),s(4),s(11),s(41),s(24),s(20),s(5),s(22),s(21),s(23),s(8),s(9),s(17),s(25),s(19),s(29),s(187),s(192),s(103),s(152),s(153);var We=function(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},qe=function(){this.__data__=[],this.size=0},Nt=function(t,e){return t===e||t!=t&&e!=e},gt=function(t,e){for(var n=t.length;n--;)if(Nt(t[n][0],e))return n;return-1},ht=Array.prototype.splice,Lt=function(t){var e=this.__data__,n=gt(e,t);return!(n<0)&&(n==e.length-1?e.pop():ht.call(e,n,1),--this.size,!0)},Xt=function(t){var e=this.__data__,n=gt(e,t);return n<0?void 0:e[n][1]},wt=function(t){return gt(this.__data__,t)>-1},en=function(t,e){var n=this.__data__,r=gt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function V(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}V.prototype.clear=qe,V.prototype.delete=Lt,V.prototype.get=Xt,V.prototype.has=wt,V.prototype.set=en;var be=V,te=function(){this.__data__=new be,this.size=0},we=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ye=function(t){return this.__data__.get(t)},Ve=function(t){return this.__data__.has(t)},Ke=s(30),_t=Ke.a.Symbol,rn=Object.prototype,Jt=rn.hasOwnProperty,Bt=rn.toString,Vt=_t?_t.toStringTag:void 0,Qe=function(t){var e=Jt.call(t,Vt),n=t[Vt];try{t[Vt]=void 0;var r=!0}catch(u){}var o=Bt.call(t);return r&&(e?t[Vt]=n:delete t[Vt]),o},lt=Object.prototype.toString,yt=function(t){return lt.call(t)},xt=_t?_t.toStringTag:void 0,Ht=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":xt&&xt in Object(t)?Qe(t):yt(t)},Rt=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},br,lr=function(t){if(!Rt(t))return!1;var e=Ht(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},_r=Ke.a["__core-js_shared__"],So=(br=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||""))?"Symbol(src)_1."+br:"",Rr=function(t){return!!So&&So in t},Xo=Function.prototype.toString,Zn=function(t){if(t!=null){try{return Xo.call(t)}catch(e){}try{return t+""}catch(e){}}return""},di=/^\[object .+?Constructor\]$/,st=Function.prototype,Qi=Object.prototype,hi=st.toString,Uo=Qi.hasOwnProperty,Kn=RegExp("^"+hi.call(Uo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$n=function(t){return!(!Rt(t)||Rr(t))&&(lr(t)?Kn:di).test(Zn(t))},yi=function(t,e){return t==null?void 0:t[e]},fr=function(t,e){var n=yi(t,e);return $n(n)?n:void 0},no=fr(Ke.a,"Map"),pr=fr(Object,"create"),Vo=function(){this.__data__=pr?pr(null):{},this.size=0},vi=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ro=Object.prototype.hasOwnProperty,dr=function(t){var e=this.__data__;if(pr){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return ro.call(e,t)?e[t]:void 0},oo=Object.prototype.hasOwnProperty,Yo=function(t){var e=this.__data__;return pr?e[t]!==void 0:oo.call(e,t)},qi=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=pr&&e===void 0?"__lodash_hash_undefined__":e,this};function Ir(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ir.prototype.clear=Vo,Ir.prototype.delete=vi,Ir.prototype.get=dr,Ir.prototype.has=Yo,Ir.prototype.set=qi;var gi=Ir,Jn=function(){this.size=0,this.__data__={hash:new gi,map:new(no||be),string:new gi}},mi=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},jo=function(t,e){var n=t.__data__;return mi(e)?n[typeof e=="string"?"string":"hash"]:n.map},Wo=function(t){var e=jo(this,t).delete(t);return this.size-=e?1:0,e},bi=function(t){return jo(this,t).get(t)},ea=function(t){return jo(this,t).has(t)},_i=function(t,e){var n=jo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Lr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lr.prototype.clear=Jn,Lr.prototype.delete=Wo,Lr.prototype.get=bi,Lr.prototype.has=ea,Lr.prototype.set=_i;var zr=Lr,ta=function(t,e){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!no||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new zr(r)}return n.set(t,e),this.size=n.size,this};function Or(t){var e=this.__data__=new be(t);this.size=e.size}Or.prototype.clear=te,Or.prototype.delete=we,Or.prototype.get=Ye,Or.prototype.has=Ve,Or.prototype.set=ta;var Tn=Or,Oi=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wi=function(t){return this.__data__.has(t)};function io(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new zr;++e<n;)this.add(t[e])}io.prototype.add=io.prototype.push=Oi,io.prototype.has=wi;var na=io,ao=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Qt=function(t,e){return t.has(e)},Zo=function(t,e,n,r,o,u){var i=1&n,a=t.length,f=e.length;if(a!=f&&!(i&&f>a))return!1;var g=u.get(t),O=u.get(e);if(g&&O)return g==e&&O==t;var M=-1,N=!0,L=2&n?new na:void 0;for(u.set(t,e),u.set(e,t);++M<a;){var Y=t[M],de=e[M];if(r)var ge=i?r(de,Y,M,e,t,u):r(Y,de,M,t,e,u);if(ge!==void 0){if(ge)continue;N=!1;break}if(L){if(!ao(e,function(Pe,xe){if(!Qt(L,xe)&&(Y===Pe||o(Y,Pe,n,r,u)))return L.push(xe)})){N=!1;break}}else if(Y!==de&&!o(Y,de,n,r,u)){N=!1;break}}return u.delete(t),u.delete(e),N},uo=Ke.a.Uint8Array,Br=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n},xi=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Ko=_t?_t.prototype:void 0,Po=Ko?Ko.valueOf:void 0,hr=function(t,e,n,r,o,u,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!u(new uo(t),new uo(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Nt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Br;case"[object Set]":var f=1&r;if(a||(a=xi),t.size!=e.size&&!f)return!1;var g=i.get(t);if(g)return g==e;r|=2,i.set(t,e);var O=Zo(a(t),a(e),r,o,u,i);return i.delete(t),O;case"[object Symbol]":if(Po)return Po.call(t)==Po.call(e)}return!1},nr=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},hn=Array.isArray,Qn=function(t,e,n){var r=e(t);return hn(t)?r:nr(r,n(t))},$o=function(t,e){for(var n=-1,r=t==null?0:t.length,o=0,u=[];++n<r;){var i=t[n];e(i,n,t)&&(u[o++]=i)}return u},wr=function(){return[]},so=Object.prototype.propertyIsEnumerable,Hr=Object.getOwnPropertySymbols,jn=Hr?function(t){return t==null?[]:(t=Object(t),$o(Hr(t),function(e){return so.call(t,e)}))}:wr,Fr=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},yn=function(t){return t!=null&&typeof t=="object"},Cn=function(t){return yn(t)&&Ht(t)=="[object Arguments]"},Mo=Object.prototype,co=Mo.hasOwnProperty,Ei=Mo.propertyIsEnumerable,lo=Cn(function(){return arguments}())?Cn:function(t){return yn(t)&&co.call(t,"callee")&&!Ei.call(t,"callee")},yr=lo,Gr=s(48),ra=/^(?:0|[1-9]\d*)$/,bn=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&ra.test(t))&&t>-1&&t%1==0&&t<e},qn=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Tt={};Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Arguments]"]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object Boolean]"]=Tt["[object DataView]"]=Tt["[object Date]"]=Tt["[object Error]"]=Tt["[object Function]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt["[object Object]"]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object WeakMap]"]=!1;var Rn=function(t){return yn(t)&&qn(t.length)&&!!Tt[Ht(t)]},rr=function(t){return function(e){return t(e)}},sn=s(49),Si=sn.a&&sn.a.isTypedArray,ko=Si?rr(Si):Rn,Jo=Object.prototype.hasOwnProperty,er=function(t,e){var n=hn(t),r=!n&&yr(t),o=!n&&!r&&Object(Gr.a)(t),u=!n&&!r&&!o&&ko(t),i=n||r||o||u,a=i?Fr(t.length,String):[],f=a.length;for(var g in t)!e&&!Jo.call(t,g)||i&&(g=="length"||o&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||bn(g,f))||a.push(g);return a},ji=Object.prototype,No=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||ji)},or=function(t,e){return function(n){return t(e(n))}},oa=or(Object.keys,Object),fo=Object.prototype.hasOwnProperty,po=function(t){if(!No(t))return oa(t);var e=[];for(var n in Object(t))fo.call(t,n)&&n!="constructor"&&e.push(n);return e},Kt=function(t){return t!=null&&qn(t.length)&&!lr(t)},ir=function(t){return Kt(t)?er(t):po(t)},ho=function(t){return Qn(t,ir,jn)},Pn=Object.prototype.hasOwnProperty,Qo=function(t,e,n,r,o,u){var i=1&n,a=ho(t),f=a.length;if(f!=ho(e).length&&!i)return!1;for(var g=f;g--;){var O=a[g];if(!(i?O in e:Pn.call(e,O)))return!1}var M=u.get(t),N=u.get(e);if(M&&N)return M==e&&N==t;var L=!0;u.set(t,e),u.set(e,t);for(var Y=i;++g<f;){var de=t[O=a[g]],ge=e[O];if(r)var Pe=i?r(ge,de,O,e,t,u):r(de,ge,O,t,e,u);if(!(Pe===void 0?de===ge||o(de,ge,n,r,u):Pe)){L=!1;break}Y||(Y=O=="constructor")}if(L&&!Y){var xe=t.constructor,Me=e.constructor;xe==Me||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Me=="function"&&Me instanceof Me||(L=!1)}return u.delete(t),u.delete(e),L},Xr=fr(Ke.a,"DataView"),Ao=fr(Ke.a,"Promise"),tr=fr(Ke.a,"Set"),Do=fr(Ke.a,"WeakMap"),Pi="[object Map]",In="[object Promise]",Gn="[object Set]",ar="[object WeakMap]",qo="[object DataView]",Ur=Zn(Xr),To=Zn(no),Mi=Zn(Ao),ia=Zn(tr),Co=Zn(Do),Xn=Ht;(Xr&&Xn(new Xr(new ArrayBuffer(1)))!=qo||no&&Xn(new no)!=Pi||Ao&&Xn(Ao.resolve())!=In||tr&&Xn(new tr)!=Gn||Do&&Xn(new Do)!=ar)&&(Xn=function(t){var e=Ht(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Zn(n):"";if(r)switch(r){case Ur:return qo;case To:return Pi;case Mi:return In;case ia:return Gn;case Co:return ar}return e});var y=Xn,m="[object Arguments]",w="[object Array]",T="[object Object]",U=Object.prototype.hasOwnProperty,ye=function(t,e,n,r,o,u){var i=hn(t),a=hn(e),f=i?w:y(t),g=a?w:y(e),O=(f=f==m?T:f)==T,M=(g=g==m?T:g)==T,N=f==g;if(N&&Object(Gr.a)(t)){if(!Object(Gr.a)(e))return!1;i=!0,O=!1}if(N&&!O)return u||(u=new Tn),i||ko(t)?Zo(t,e,n,r,o,u):hr(t,e,f,n,r,o,u);if(!(1&n)){var L=O&&U.call(t,"__wrapped__"),Y=M&&U.call(e,"__wrapped__");if(L||Y){var de=L?t.value():t,ge=Y?e.value():e;return u||(u=new Tn),o(de,ge,n,r,u)}}return!!N&&(u||(u=new Tn),Qo(t,e,n,r,o,u))},Ae=function t(e,n,r,o,u){return e===n||(e==null||n==null||!yn(e)&&!yn(n)?e!=e&&n!=n:ye(e,n,r,o,t,u))},Ge=function(t,e,n,r){var o=n.length,u=o,i=!r;if(t==null)return!u;for(t=Object(t);o--;){var a=n[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){var f=(a=n[o])[0],g=t[f],O=a[1];if(i&&a[2]){if(g===void 0&&!(f in t))return!1}else{var M=new Tn;if(r)var N=r(g,O,f,t,e,M);if(!(N===void 0?Ae(O,g,3,r,M):N))return!1}}return!0},ot=function(t){return t==t&&!Rt(t)},At=function(t){for(var e=ir(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,ot(o)]}return e},Et=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},Ut=function(t){var e=At(t);return e.length==1&&e[0][2]?Et(e[0][0],e[0][1]):function(n){return n===t||Ge(n,t,e)}},jt=function(t){return typeof t=="symbol"||yn(t)&&Ht(t)=="[object Symbol]"},Ft=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Un=/^\w*$/,qt=function(t,e){if(hn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!jt(t))||Un.test(t)||!Ft.test(t)||e!=null&&t in Object(e)};function Mn(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var i=t.apply(this,r);return n.cache=u.set(o,i)||u,i};return n.cache=new(Mn.Cache||zr),n}Mn.Cache=zr;var xr=Mn,Ma=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aa=/\\(\\)?/g,ei=function(t){var e=xr(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ma,function(n,r,o,u){e.push(o?u.replace(aa,"$1"):r||n)}),e}),Er=_t?_t.prototype:void 0,ti=Er?Er.toString:void 0,_n=function t(e){if(typeof e=="string")return e;if(hn(e))return We(e,t)+"";if(jt(e))return ti?ti.call(e):"";var n=e+"";return n=="0"&&1/e==-Infinity?"-0":n},ni=function(t){return t==null?"":_n(t)},Vr=function(t,e){return hn(t)?t:qt(t,e)?[t]:ei(ni(t))},ri=function(t){if(typeof t=="string"||jt(t))return t;var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e},ua=function(t,e){for(var n=0,r=(e=Vr(e,t)).length;t!=null&&n<r;)t=t[ri(e[n++])];return n&&n==r?t:void 0},ka=function(t,e,n){var r=t==null?void 0:ua(t,e);return r===void 0?n:r},Fu=function(t,e){return t!=null&&e in Object(t)},Gu=function(t,e,n){for(var r=-1,o=(e=Vr(e,t)).length,u=!1;++r<o;){var i=ri(e[r]);if(!(u=t!=null&&n(t,i)))break;t=t[i]}return u||++r!=o?u:!!(o=t==null?0:t.length)&&qn(o)&&bn(i,o)&&(hn(t)||yr(t))},Xu=function(t,e){return t!=null&&Gu(t,e,Fu)},Uu=function(t,e){return qt(t)&&ot(e)?Et(ri(t),e):function(n){var r=ka(n,t);return r===void 0&&r===e?Xu(n,t):Ae(e,r,3)}},yo=function(t){return t},Vu=function(t){return function(e){return e==null?void 0:e[t]}},oi=function(t){return function(e){return ua(e,t)}},sa=function(t){return qt(t)?Vu(ri(t)):oi(t)},Yu=function(t){return typeof t=="function"?t:t==null?yo:typeof t=="object"?hn(t)?Uu(t[0],t[1]):Ut(t):sa(t)},ii=function(t){return function(e,n,r){for(var o=-1,u=Object(e),i=r(e),a=i.length;a--;){var f=i[t?a:++o];if(n(u[f],f,u)===!1)break}return e}}(),Wu=function(t,e){return function(n,r){if(n==null)return n;if(!Kt(n))return t(n,r);for(var o=n.length,u=e?o:-1,i=Object(n);(e?u--:++u<o)&&r(i[u],u,i)!==!1;);return n}}(function(t,e){return t&&ii(t,e,ir)}),ki=function(t,e){var n=-1,r=Kt(t)?Array(t.length):[];return Wu(t,function(o,u,i){r[++n]=e(o,u,i)}),r},Ni=function(t,e){return(hn(t)?We:ki)(t,Yu(e,3))},Ai=function(){try{var t=fr(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Na=function(t,e,n){e=="__proto__"&&Ai?Ai(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},d=Object.prototype.hasOwnProperty,l=function(t,e,n){var r=t[e];d.call(t,e)&&Nt(r,n)&&(n!==void 0||e in t)||Na(t,e,n)},c=function(t,e,n,r){var o=!n;n||(n={});for(var u=-1,i=e.length;++u<i;){var a=e[u],f=r?r(n[a],t[a],a,n,t):void 0;f===void 0&&(f=t[a]),o?Na(n,a,f):l(n,a,f)}return n},h=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},v=Math.max,b=function(t,e,n){return e=v(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,u=v(r.length-e,0),i=Array(u);++o<u;)i[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(i),h(t,this,a)}},P=function(t){return function(){return t}},A=Ai?function(t,e){return Ai(t,"toString",{configurable:!0,enumerable:!1,value:P(e),writable:!0})}:yo,H=Date.now,K=function(t){var e=0,n=0;return function(){var r=H(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},X=K(A),je=function(t,e){return X(b(t,e,yo),t+"")},Ne=function(t,e,n){if(!Rt(n))return!1;var r=typeof e;return!!(r=="number"?Kt(n)&&bn(e,n.length):r=="string"&&e in n)&&Nt(n[e],t)},Ce=function(t){return je(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(u=t.length>3&&typeof u=="function"?(o--,u):void 0,i&&Ne(n[0],n[1],i)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,u)}return e})},Fe=Object.prototype.hasOwnProperty,et=Ce(function(t,e){if(No(e)||Kt(e))c(e,ir(e),t);else for(var n in e)Fe.call(e,n)&&l(t,n,e[n])}),ft=function(t,e,n,r){if(!Rt(t))return t;for(var o=-1,u=(e=Vr(e,t)).length,i=u-1,a=t;a!=null&&++o<u;){var f=ri(e[o]),g=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(o!=i){var O=a[f];(g=r?r(O,f,a):void 0)===void 0&&(g=Rt(O)?O:bn(e[o+1])?[]:{})}l(a,f,g),a=a[f]}return t},vt=function(t,e,n){for(var r=-1,o=e.length,u={};++r<o;){var i=e[r],a=ua(t,i);n(a,i)&&ft(u,Vr(i,t),a)}return u},ct=function(t,e){return vt(t,e,function(n,r){return Xu(t,r)})},kt=_t?_t.isConcatSpreadable:void 0,On=function(t){return hn(t)||yr(t)||!!(kt&&t&&t[kt])},on=function t(e,n,r,o,u){var i=-1,a=e.length;for(r||(r=On),u||(u=[]);++i<a;){var f=e[i];n>0&&r(f)?n>1?t(f,n-1,r,o,u):nr(u,f):o||(u[u.length]=f)}return u},$t=function(t){return(t==null?0:t.length)?on(t,1):[]},Ct,wn,xn,cn,ln,En,Ln,ql,ef,tf,nf,rf,of,af,uf,sf,cf,ca=function(t){return X(b(t,void 0,$t),t+"")}(function(t,e){return t==null?{}:ct(t,e)});function zn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ff(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Yt,pf,It,vn,Pt,nn,wv={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Zu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],df=(wn=kn((Ct=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),zn(this,"isSilentMode",wn,this),zn(this,"stopZoomGraph",xn,this),zn(this,"stopScrollGraph",cn,this),zn(this,"stopMoveGraph",ln,this),zn(this,"adjustEdge",En,this),zn(this,"adjustEdgeMiddle",Ln,this),zn(this,"adjustEdgeStartAndEnd",ql,this),zn(this,"adjustNodePosition",ef,this),zn(this,"hideAnchors",tf,this),zn(this,"hoverOutline",nf,this),zn(this,"nodeSelectedOutline",rf,this),zn(this,"edgeSelectedOutline",of,this),zn(this,"nodeTextEdit",af,this),zn(this,"edgeTextEdit",uf,this),zn(this,"nodeTextDraggable",sf,this),zn(this,"edgeTextDraggable",cf,this),ff(this,"multipleSelectKey",""),ff(this,"defaultConfig",{}),et(this,this.getConfigDetail(o))}var e,n,r;return e=t,(n=[{key:"updateEditConfig",value:function(o){var u=this.getConfigDetail(o);et(this,u)}},{key:"getConfigDetail",value:function(o){var u=o.isSilentMode,i=o.textEdit,a={};if(u===!1&&et(a,this.defaultConfig),u===!0){var f=ca(wv,Zu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},et(a,f)}i===!1&&et(a,{nodeTextEdit:!1,edgeTextEdit:!1});var g=ca(o,Zu);return et(a,g)}},{key:"getConfig",value:function(){return ca(this,Zu)}}])&&lf(e.prototype,n),r&&lf(e,r),t}()).prototype,"isSilentMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xn=kn(Ct.prototype,"stopZoomGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cn=kn(Ct.prototype,"stopScrollGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ln=kn(Ct.prototype,"stopMoveGraph",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),En=kn(Ct.prototype,"adjustEdge",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ln=kn(Ct.prototype,"adjustEdgeMiddle",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ql=kn(Ct.prototype,"adjustEdgeStartAndEnd",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ef=kn(Ct.prototype,"adjustNodePosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tf=kn(Ct.prototype,"hideAnchors",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nf=kn(Ct.prototype,"hoverOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rf=kn(Ct.prototype,"nodeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),of=kn(Ct.prototype,"edgeSelectedOutline",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),af=kn(Ct.prototype,"nodeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uf=kn(Ct.prototype,"edgeTextEdit",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sf=kn(Ct.prototype,"nodeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cf=kn(Ct.prototype,"edgeTextDraggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kn(Ct.prototype,"updateEditConfig",[p.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updateEditConfig"),Ct.prototype),Ct);s(77),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Yt||(Yt={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(pf||(pf={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(It||(It={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(vn||(vn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(Pt||(Pt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(nn||(nn={}));var ur,fn,hf,yf,vf,gf,mf,bf,_f;function Aa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Of(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Of(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Of(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ai(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ku(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sr(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(ur||(ur={}));var xv=(fn=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Ku(this,"MINI_SCALE_SIZE",.2),Ku(this,"MAX_SCALE_SIZE",16),ai(this,"SCALE_X",hf,this),ai(this,"SKEW_Y",yf,this),ai(this,"SKEW_X",vf,this),ai(this,"SCALE_Y",gf,this),ai(this,"TRANSLATE_X",mf,this),ai(this,"TRANSLATE_Y",bf,this),ai(this,"ZOOM_SIZE",_f,this),Ku(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,n=[{key:"setZoomMiniSize",value:function(o){this.MINI_SCALE_SIZE=o}},{key:"setZoomMaxSize",value:function(o){this.MAX_SCALE_SIZE=o}},{key:"HtmlPointToCanvasPoint",value:function(o){var u=Aa(o,2),i=u[0],a=u[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(o){var u=Aa(o,2),i=u[0],a=u[1];return[i*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(o,u,i){var a=Aa(o,2),f=a[0],g=a[1];return[f+u/this.SCALE_X,g+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(o,u){return[o/this.SCALE_X,u/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var o=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(o,")")}}},{key:"zoom",value:function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0],u=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,a=this.SCALE_Y;return o===!0?(i+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):o===!1?(i-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof o=="number"&&(i=o,a=o),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(u&&(this.TRANSLATE_X-=(i-this.SCALE_X)*u[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*u[1]),this.SCALE_X=i,this.SCALE_Y=a,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(o){this.eventCenter.emit(Pt.GRAPH_TRANSFORM,{type:o,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(o,u){this.TRANSLATE_X+=o,this.TRANSLATE_Y+=u,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(o,u,i,a){var f=Aa(this.CanvasPointToHtmlPoint([o,u]),2),g=i/2-f[0],O=a/2-f[1];this.TRANSLATE_X+=g,this.TRANSLATE_Y+=O,this.emitGraphTransform("focusOn")}}],n&&wf(e.prototype,n),r&&wf(e,r),t}(),hf=Sr(fn.prototype,"SCALE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yf=Sr(fn.prototype,"SKEW_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vf=Sr(fn.prototype,"SKEW_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gf=Sr(fn.prototype,"SCALE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),mf=Sr(fn.prototype,"TRANSLATE_X",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bf=Sr(fn.prototype,"TRANSLATE_Y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_f=Sr(fn.prototype,"ZOOM_SIZE",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Sr(fn.prototype,"zoom",[p.k],Object.getOwnPropertyDescriptor(fn.prototype,"zoom"),fn.prototype),Sr(fn.prototype,"resetZoom",[p.k],Object.getOwnPropertyDescriptor(fn.prototype,"resetZoom"),fn.prototype),Sr(fn.prototype,"translate",[p.k],Object.getOwnPropertyDescriptor(fn.prototype,"translate"),fn.prototype),Sr(fn.prototype,"focusOn",[p.k],Object.getOwnPropertyDescriptor(fn.prototype,"focusOn"),fn.prototype),fn),Ev=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Sv=function(t,e){return t&&c(e,ir(e),t)},jv=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Pv=Object.prototype.hasOwnProperty,Mv=function(t){if(!Rt(t))return jv(t);var e=No(t),n=[];for(var r in t)(r!="constructor"||!e&&Pv.call(t,r))&&n.push(r);return n},la=function(t){return Kt(t)?er(t,!0):Mv(t)},kv=function(t,e){return t&&c(e,la(e),t)},xf=s(106),Ef=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Nv=function(t,e){return c(t,jn(t),e)},$u=or(Object.getPrototypeOf,Object),Sf=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)nr(e,jn(t)),t=$u(t);return e}:wr,Av=function(t,e){return c(t,Sf(t),e)},Dv=function(t){return Qn(t,la,Sf)},Tv=Object.prototype.hasOwnProperty,Cv=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Tv.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Ju=function(t){var e=new t.constructor(t.byteLength);return new uo(e).set(new uo(t)),e},Rv=function(t,e){var n=e?Ju(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Iv=/\w*$/,Lv=function(t){var e=new t.constructor(t.source,Iv.exec(t));return e.lastIndex=t.lastIndex,e},jf=_t?_t.prototype:void 0,Pf=jf?jf.valueOf:void 0,zv=function(t){return Pf?Object(Pf.call(t)):{}},Mf=function(t,e){var n=e?Ju(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Bv=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Ju(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Rv(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Mf(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Lv(t);case"[object Symbol]":return zv(t)}},kf=Object.create,Hv=function(){function t(){}return function(e){if(!Rt(e))return{};if(kf)return kf(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Nf=function(t){return typeof t.constructor!="function"||No(t)?{}:Hv($u(t))},Fv=function(t){return yn(t)&&y(t)=="[object Map]"},Af=sn.a&&sn.a.isMap,Gv=Af?rr(Af):Fv,Xv=function(t){return yn(t)&&y(t)=="[object Set]"},Df=sn.a&&sn.a.isSet,Uv=Df?rr(Df):Xv,Tf="[object Arguments]",Cf="[object Function]",Vv="[object Object]",tn={};tn[Tf]=tn["[object Array]"]=tn["[object ArrayBuffer]"]=tn["[object DataView]"]=tn["[object Boolean]"]=tn["[object Date]"]=tn["[object Float32Array]"]=tn["[object Float64Array]"]=tn["[object Int8Array]"]=tn["[object Int16Array]"]=tn["[object Int32Array]"]=tn["[object Map]"]=tn["[object Number]"]=tn["[object Object]"]=tn["[object RegExp]"]=tn["[object Set]"]=tn["[object String]"]=tn["[object Symbol]"]=tn["[object Uint8Array]"]=tn["[object Uint8ClampedArray]"]=tn["[object Uint16Array]"]=tn["[object Uint32Array]"]=!0,tn["[object Error]"]=tn[Cf]=tn["[object WeakMap]"]=!1;var Yv=function t(e,n,r,o,u,i){var a,f=1&n,g=2&n,O=4&n;if(r&&(a=u?r(e,o,u,i):r(e)),a!==void 0)return a;if(!Rt(e))return e;var M=hn(e);if(M){if(a=Cv(e),!f)return Ef(e,a)}else{var N=y(e),L=N==Cf||N=="[object GeneratorFunction]";if(Object(Gr.a)(e))return Object(xf.a)(e,f);if(N==Vv||N==Tf||L&&!u){if(a=g||L?{}:Nf(e),!f)return g?Av(e,kv(a,e)):Nv(e,Sv(a,e))}else{if(!tn[N])return u?e:{};a=Bv(e,N,f)}}i||(i=new Tn);var Y=i.get(e);if(Y)return Y;i.set(e,a),Uv(e)?e.forEach(function(ge){a.add(t(ge,n,r,ge,e,i))}):Gv(e)&&e.forEach(function(ge,Pe){a.set(Pe,t(ge,n,r,Pe,e,i))});var de=M?void 0:(O?g?Dv:ho:g?la:ir)(e);return Ev(de||e,function(ge,Pe){de&&(ge=e[Pe=ge]),l(a,Pe,t(ge,n,r,Pe,e,i))}),a},un=function(t){return Yv(t,5)},Qu=function(t,e,n){(n!==void 0&&!Nt(t[e],n)||n===void 0&&!(e in t))&&Na(t,e,n)},Wv=function(t){return yn(t)&&Kt(t)},Zv=Function.prototype,Kv=Object.prototype,Rf=Zv.toString,$v=Kv.hasOwnProperty,Jv=Rf.call(Object),Qv=function(t){if(!yn(t)||Ht(t)!="[object Object]")return!1;var e=$u(t);if(e===null)return!0;var n=$v.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Rf.call(n)==Jv},qu=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},qv=function(t){return c(t,la(t))},eg=function(t,e,n,r,o,u,i){var a=qu(t,n),f=qu(e,n),g=i.get(f);if(g)Qu(t,n,g);else{var O=u?u(a,f,n+"",t,e,i):void 0,M=O===void 0;if(M){var N=hn(f),L=!N&&Object(Gr.a)(f),Y=!N&&!L&&ko(f);O=f,N||L||Y?hn(a)?O=a:Wv(a)?O=Ef(a):L?(M=!1,O=Object(xf.a)(f,!0)):Y?(M=!1,O=Mf(f,!0)):O=[]:Qv(f)||yr(f)?(O=a,yr(a)?O=qv(a):Rt(a)&&!lr(a)||(O=Nf(f))):M=!1}M&&(i.set(f,O),o(O,f,r,u,i),i.delete(f)),Qu(t,n,O)}},tg=function t(e,n,r,o,u){e!==n&&ii(n,function(i,a){if(u||(u=new Tn),Rt(i))eg(e,n,a,r,t,o,u);else{var f=o?o(qu(e,a),i,a+"",e,n,u):void 0;f===void 0&&(f=i),Qu(e,a,f)}},la)},If=Ce(function(t,e,n){tg(t,e,n)}),ng={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Lf=function(t){var e=un(ng);return t&&(e=If(e,t)),e};s(78),s(158);function zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rg=function(){function t(){var o,u,i;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(u="_events")in(o=this)?Object.defineProperty(o,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[u]=i}var e,n,r;return e=t,(n=[{key:"on",value:function(o,u,i){var a=this;return o==null||o.split(",").forEach(function(f){f=f.trim(),a._events[f]||(a._events[f]=[]),a._events[f].push({callback:u,once:!!i})}),this}},{key:"once",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){return a=a.trim(),i.on(a,u,!0)})}},{key:"emit",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){var f=i._events[a]||[],g=i._events["*"]||[],O=function(M){for(var N=M.length,L=0;L<N;L++)if(M[L]){var Y=M[L],de=Y.callback;Y.once&&(M.splice(L,1),M.length===0&&delete i._events[a],N--,L--),de.apply(i,[u])}};O(f),O(g)})}},{key:"off",value:function(o,u){var i=this;return o||(this._events={}),o.split(",").forEach(function(a){if(u){for(var f=i._events[a]||[],g=f.length,O=0;O<g;O++)f[O].callback===u&&(f.splice(O,1),g--,O--);f.length===0&&delete i._events[a]}else delete i._events[a]}),this}},{key:"getEvents",value:function(){return this._events}}])&&zf(e.prototype,n),r&&zf(e,r),t}();function Di(t,e){return e*Math.round(t/e)||t}function Bf(t,e){return t%e}function es(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Hf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Hf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ts,ns=function(t,e,n){var r=es(t,2),o=r[0],u=r[1],i=es(e,2),a=i[0],f=i[1],g=es(n,2),O=g[0],M=g[1];return o>a&&o<O&&u>f&&u<M},Ff=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;default:n=!1}return n},og=(s(79),s(161),s(125),s(80),s(12),s(13),s(14),s(47),s(31),new Uint8Array(16));function ig(){if(!ts&&!(ts=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ts(og)}for(var ag=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ug=function(t){return typeof t=="string"&&ag.test(t)},Nn=[],rs=0;rs<256;++rs)Nn.push((rs+256).toString(16).substr(1));var sg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Nn[t[e+0]]+Nn[t[e+1]]+Nn[t[e+2]]+Nn[t[e+3]]+"-"+Nn[t[e+4]]+Nn[t[e+5]]+"-"+Nn[t[e+6]]+Nn[t[e+7]]+"-"+Nn[t[e+8]]+Nn[t[e+9]]+"-"+Nn[t[e+10]]+Nn[t[e+11]]+Nn[t[e+12]]+Nn[t[e+13]]+Nn[t[e+14]]+Nn[t[e+15]]).toLowerCase();if(!ug(n))throw TypeError("Stringified UUID is invalid");return n},os=function(t,e,n){var r=(t=t||{}).random||(t.rng||ig)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return sg(r)},ui=function(){return os()},cg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,o){return r[o.id]=e+os(),o.id=r[o.id],r},{});return t.edges.forEach(function(r){r.id=e+os(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},fa=(s(104),s(203),function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0});function is(t){return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function Gf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gf(Object(n),!0).forEach(function(r){lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var He,Uf,Vf,Yf,Wf,Zf,Kf,$f,Jf,Qf,qf,ep,tp,np,rp,op,ip,ap,up,sp,as=function(t){return t.anchors},Da=function(t,e){for(var n,r=e.nodes,o=r.length-1;o>=0;o--){var u=r[o];if(dg(t,u)){var i=pg(t,u);if(i){var a={node:u,anchorIndex:i.index,anchor:i.anchor};n&&!fg(u,n.node,e)||(n=a)}}}return n},fg=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},pg=function(t,e){for(var n,r=as(e),o=Number.MAX_SAFE_INTEGER,u=0;u<r.length;u++){var i=Yr(t.x,t.y,r[u].x,r[u].y);i<o&&(o=i,n={index:u,anchor:Xf(Xf({},r[u]),{},{x:r[u].x,y:r[u].y,id:r[u].id})})}return n},Yr=function(t,e,n,r){return Math.hypot(t-n,e-r)},Ro=function(t,e){var n=!1,r=sr(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},dg=function(t,e){var n=!1,r=sr(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},sr=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},cp=function(t,e,n){var r,o=function(i){var a=i,f=a.x,g=a.y,O=a.width,M=a.height,N=a.radius;return[{x:f-O/2+N,y:g-M/2+N,r:N},{x:f+O/2-N,y:g-M/2+N,r:N},{x:f-O/2+N,y:g+M/2-N,r:N},{x:f+O/2-N,y:g+M/2-N,r:N}]}(n),u=Number.MAX_SAFE_INTEGER;return o.forEach(function(i){var a=Yr(t.x,t.y,i.x,i.y);a<u&&(u=a,r=i)}),us(t,e,r)},us=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.r;if(e===nn.HORIZONTAL){var f=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)),g=u+Math.sqrt(a*a-(t.y-i)*(t.y-i));r={x:Math.abs(f-t.x)<Math.abs(g-t.x)?f:g,y:t.y}}else if(e===nn.VERTICAL){var O=i-Math.sqrt(a*a-(t.x-u)*(t.x-u)),M=i+Math.sqrt(a*a-(t.x-u)*(t.x-u)),N=Math.abs(O-t.y)<Math.abs(M-t.y)?O:M;r={x:t.x,y:N}}return r},lp=function(t,e){var n=e,r=!1,o=n.x-n.width/2+n.radius,u=n.x+n.width/2-n.radius,i=n.y-n.height/2+n.radius,a=n.y+n.height/2-n.radius,f=n.x,g=n.y,O=n.width,M=n.height;return t.y===g+M/2||t.y===g-M/2?r=t.x>o&&t.x<u:t.x!==f+O/2&&t.x!==f-O/2||(r=t.y>i&&t.y<a),r},fp=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.rx,f=o.ry;if(e===nn.HORIZONTAL){var g=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f)),O=u+Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f));r={x:Math.abs(g-t.x)<Math.abs(O-t.x)?g:O,y:t.y}}else if(e===nn.VERTICAL){var M=i-Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),N=i+Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),L=Math.abs(M-t.y)<Math.abs(N-t.y)?M:N;r={x:t.x,y:L}}return r},pp=function(t,e,n){for(var r,o=n.pointsPosition,u=Number.MAX_SAFE_INTEGER,i=[],a=0;a<o.length;a++)i.push({start:o[a],end:o[(a+1)%o.length]});return i.forEach(function(f){var g=f.start,O=f.end,M=g,N=O;g.x>O.x&&(M=O,N=g);var L={x:t.x,y:t.y};if(M.x===N.x&&e===nn.HORIZONTAL&&(L={x:M.x,y:t.y}),M.y===N.y&&e===nn.VERTICAL&&(L={x:t.x,y:M.y}),M.x!==N.x&&M.y!==N.y){var Y=(N.y-M.y)/(N.x-M.x),de=(M.x*N.y-N.x*M.y)/(M.x-N.x);e===nn.HORIZONTAL?L={x:(t.y-de)/Y,y:t.y}:e===nn.VERTICAL&&(L={x:t.x,y:Y*t.x+de})}if(fa(L,g,O)){var ge=Yr(L.x,L.y,t.x,t.y);ge<u&&(u=ge,r=L)}}),r},dp=function(t,e,n,r){var o=t.x,u=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?u=t.y+r/2:e.y<t.y&&(u=t.y-r/2),{x:o,y:u}},hp=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,u=document.createElement("div");u.style.fontSize=n.fontSize,u.style.width=n.width,u.className=o,u.style.lineHeight=n.lineHeight,u.style.padding=n.padding,n.fontFamily&&(u.style.fontFamily=n.fontFamily),r>1?e.forEach(function(a){var f=document.createElement("div");f.textContent=a,u.appendChild(f)}):u.textContent=e,document.body.appendChild(u);var i=u.clientHeight;return document.body.removeChild(u),i},ss=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach(function(u){var i=Bp(u);o=i>o?i:o}),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},Ta=function(t){return is(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},yp={node:!1,edge:!1},hg={node:!0,edge:!0},yg={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Bn=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},vg=1e3,gg=999,cs=function(){return++vg};function vp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vp(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function St(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var ls=(He=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),vr(this,"id",ui()),gn(this,"type",Uf,this),gn(this,"sourceNodeId",Vf,this),gn(this,"targetNodeId",Yf,this),gn(this,"startPoint",Wf,this),gn(this,"endPoint",Zf,this),gn(this,"text",Kf,this),gn(this,"properties",$f,this),gn(this,"points",Jf,this),gn(this,"pointsList",Qf,this),gn(this,"isSelected",qf,this),gn(this,"isHovered",ep,this),gn(this,"isHitable",tp,this),gn(this,"draggable",np,this),gn(this,"visible",rp,this),gn(this,"isAnimation",op,this),vr(this,"graphModel",void 0),gn(this,"zIndex",ip,this),vr(this,"BaseType",vn.EDGE),vr(this,"modelType",It.EDGE),gn(this,"state",ap,this),vr(this,"additionStateData",void 0),vr(this,"sourceAnchorId",""),vr(this,"targetAnchorId",""),vr(this,"menu",void 0),vr(this,"customTextPosition",!1),vr(this,"animationData",yg),gn(this,"style",up,this),gn(this,"arrowConfig",sp,this),this.graphModel=u,this.initEdgeData(o),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(o)}var e,n,r;return e=t,n=[{key:"initEdgeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}et(this,Cg(o)),this.graphModel.overlapMode===ur.INCREASE&&(this.zIndex=o.zIndex||cs())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return jr(jr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.edgeText;return un(o)}},{key:"getAnimation",value:function(){var o=this.animationData;return un(o)}},{key:"getEdgeAnimationStyle",value:function(){var o=this.graphModel.theme.edgeAnimation;return un(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return un(o)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.sourceNodeId])===null||u===void 0?void 0:u.model}},{key:"targetNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.targetNodeId])===null||u===void 0?void 0:u.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(o,u){var i,a;return as(o).forEach(function(f){var g=Gp(f,u);a?g<a&&(a=g,i=f):(a=g,i=f)}),i}},{key:"getEndAnchor",value:function(o){var u,i,a=this;return as(o).forEach(function(f){var g=Gp(f,a.startPoint);i?g<i&&(i=g,u=f):(i=g,u=f)}),u}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(p.I)(this.properties)};return a&&(f.text={x:u,y:i,value:a}),this.graphModel.overlapMode===ur.INCREASE&&(f.zIndex=this.zIndex),f}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(o,u){this.properties[o]=Bn(u),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=jr(jr({},this.properties),Bn(o)),this.setAttributes()}},{key:"setStyle",value:function(o,u){this.style=jr(jr({},this.style),{},vr({},o,Bn(u)))}},{key:"setStyles",value:function(o){this.style=jr(jr({},this.style),Bn(o))}},{key:"updateStyles",value:function(o){this.style=jr({},Bn(o))}},{key:"formatText",value:function(o){var u=this.textPosition,i=u.x,a=u.y;o.text&&typeof o.text!="string"?Object.prototype.toString.call(o.text)==="[object Object]"&&(this.text={x:o.text.x||i,y:o.text.y||a,value:o.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:o.text||"",x:i,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var o=this.textPosition,u=o.x,i=o.y;this.text.x=u,this.text.y=i}},{key:"moveText",value:function(o,u){if(this.text){var i=this.text,a=i.x,f=i.y,g=i.value,O=i.draggable,M=i.editable;this.text={value:g,draggable:O,x:a+o,y:f+u,editable:M}}}},{key:"setText",value:function(o){o&&et(this.text,o)}},{key:"updateText",value:function(o){this.text=jr(jr({},this.text),{},{value:o})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var o=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:o.x,y:o.y}),this.sourceAnchorId||(this.sourceAnchorId=o.id)}if(!this.targetAnchorId||!this.endPoint){var u=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:u.x,y:u.y}),this.targetAnchorId||(this.targetAnchorId=u.id)}}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"updateStartPoint",value:function(o){this.startPoint=o}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u}},{key:"updateEndPoint",value:function(o){this.endPoint=o}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=o}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(o){et(this,o)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,i=o.endPoint;this.updateStartPoint({x:u.x,y:u.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&gp(e.prototype,n),r&&gp(e,r),t}(),Uf=St(He.prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vf=St(He.prototype,"sourceNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yf=St(He.prototype,"targetNodeId",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wf=St(He.prototype,"startPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zf=St(He.prototype,"endPoint",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kf=St(He.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),$f=St(He.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jf=St(He.prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qf=St(He.prototype,"pointsList",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qf=St(He.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ep=St(He.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tp=St(He.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=St(He.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=St(He.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),op=St(He.prototype,"isAnimation",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=St(He.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ap=St(He.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),up=St(He.prototype,"style",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),sp=St(He.prototype,"arrowConfig",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),St(He.prototype,"sourceNode",[p.m],Object.getOwnPropertyDescriptor(He.prototype,"sourceNode"),He.prototype),St(He.prototype,"targetNode",[p.m],Object.getOwnPropertyDescriptor(He.prototype,"targetNode"),He.prototype),St(He.prototype,"textPosition",[p.m],Object.getOwnPropertyDescriptor(He.prototype,"textPosition"),He.prototype),St(He.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperty"),He.prototype),St(He.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperties"),He.prototype),St(He.prototype,"setStyle",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setStyle"),He.prototype),St(He.prototype,"setStyles",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setStyles"),He.prototype),St(He.prototype,"updateStyles",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"updateStyles"),He.prototype),St(He.prototype,"formatText",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"formatText"),He.prototype),St(He.prototype,"resetTextPosition",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"resetTextPosition"),He.prototype),St(He.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"moveText"),He.prototype),St(He.prototype,"setText",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setText"),He.prototype),St(He.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"updateText"),He.prototype),St(He.prototype,"setAnchors",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setAnchors"),He.prototype),St(He.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setSelected"),He.prototype),St(He.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setHovered"),He.prototype),St(He.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setHitable"),He.prototype),St(He.prototype,"openEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"openEdgeAnimation"),He.prototype),St(He.prototype,"closeEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"closeEdgeAnimation"),He.prototype),St(He.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setElementState"),He.prototype),St(He.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"updateStartPoint"),He.prototype),St(He.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"moveStartPoint"),He.prototype),St(He.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"updateEndPoint"),He.prototype),St(He.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"moveEndPoint"),He.prototype),St(He.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"setZIndex"),He.prototype),St(He.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"initPoints"),He.prototype),St(He.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"updateAttributes"),He.prototype),St(He.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"getAdjustStart"),He.prototype),St(He.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"getAdjustEnd"),He.prototype),St(He.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(He.prototype,"updateAfterAdjustStartAndEnd"),He.prototype),He),fs=ls;function ps(t){return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}function mp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mp(Object(n),!0).forEach(function(r){wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ds(){return ds=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=bg(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ds.apply(this,arguments)}function bg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ti(t))!==null;);return t}function hs(t,e){return hs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hs(t,e)}function _g(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ti(t);if(e){var o=Ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Og(this,n)}}function Og(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Op(t)}function Op(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ti(t){return Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ti(t)}function wp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mt,xp,ys=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&hs(i,a)})(u,t);var e,n,r,o=_g(u);function u(){var i;mg(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return wp(Op(i=o.call.apply(o,[this].concat(f))),"modelType",It.LINE_EDGE),i}return e=u,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return bp(bp({},ds(Ti(u.prototype),"getEdgeStyle",this).call(this)),un(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&_p(e.prototype,n),r&&_p(e,r),u}(fs);function vs(t){return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function wg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ep(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ep(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ep(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sp(Object(n),!0).forEach(function(r){ms(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Eg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pa(){return pa=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Sg(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},pa.apply(this,arguments)}function Sg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Io(t))!==null;);return t}function gs(t,e){return gs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gs(t,e)}function jg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Io(t);if(e){var o=Io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pg(this,n)}}function Pg(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return da(t)}function da(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Io(t){return Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Io(t)}function ms(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var bs=(Mt=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&gs(i,a)})(u,t);var e,n,r,o=jg(u);function u(){var i;Eg(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return ms(da(i=o.call.apply(o,[this].concat(f))),"modelType",It.POLYLINE_EDGE),ms(da(i),"draginngPointList",void 0),xg(da(i),"dbClickPosition",xp,da(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=30,pa(Io(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return jp(jp({},pa(Io(u.prototype),"getEdgeStyle",this).call(this)),un(i))}},{key:"getTextPosition",value:function(){var i,a=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!a){var f=this.dbClickPosition;return{x:f.x,y:f.y}}var g=Ci(this.points),O=wg(Dg(g),2),M=O[0],N=O[1];return{x:(M.x+N.x)/2,y:(M.y+N.y)/2}}},{key:"getAfterAnchor",value:function(i,a,f){var g,O;return f.forEach(function(M){var N;i===nn.HORIZONTAL?N=Math.abs(a.y-M.y):i===nn.VERTICAL&&(N=Math.abs(a.x-M.x)),(!O||O>N)&&(O=N,g=M)}),g}},{key:"getCorssPoint",value:function(i,a,f){var g;return i===nn.HORIZONTAL?g={x:f.x,y:a.y}:i===nn.VERTICAL&&(g={x:a.x,y:f.y}),g}},{key:"removeCrossPoints",value:function(i,a,f){var g=f.map(function(xe){return xe});if(i===1){var O=g[i],M=g[a],N=g[i-1];if(Rp(N,O,this.sourceNode)){if(Ip(O,M,this.sourceNode)){var L=Lp(O,M,this.sourceNode);L&&(g[i]=L,g.splice(i-1,1),i--,a--)}}else this.sourceNode.anchors.forEach(function(xe){(xe.x===N.x&&xe.x===O.x||xe.y===N.y&&xe.y===O.y)&&Yr(xe.x,xe.y,O.x,O.y)<Yr(N.x,N.y,O.x,O.y)&&(g[i-1]=xe)})}if(a===f.length-2){var Y=g[i],de=g[a],ge=g[a+1];if(Rp(de,ge,this.targetNode)){if(Ip(Y,de,this.targetNode)){var Pe=Lp(Y,de,this.targetNode);Pe&&(g[a]=Pe,g.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(xe){(xe.x===ge.x&&xe.x===de.x||xe.y===ge.y&&xe.y===de.y)&&Yr(xe.x,xe.y,de.x,de.y)<Yr(ge.x,ge.y,de.x,de.y)&&(g[a+1]=xe)})}return g}},{key:"getDragingPoints",value:function(i,a,f,g,O){var M=O.map(function(Y){return Y}),N=this.getAfterAnchor(i,f,g),L=this.getCorssPoint(i,f,N);return a==="start"?(M.unshift(L),M.unshift(N)):(M.push(L),M.push(N)),M}},{key:"updateCrossPoints",value:function(i){var a=i.map(function(Be){return Be}),f=i[0],g=i[1],O=i[a.length-2],M=i[a.length-1],N=this.sourceNode,L=this.targetNode,Y=N.modelType,de=L.modelType,ge=Ba(f,g),Pe=a[0];switch(Y){case It.RECT_NODE:N.radius!==0&&(lp(f,N)||(Pe=cp(f,ge,N)));break;case It.CIRCLE_NODE:Pe=us(f,ge,N);break;case It.ELLIPSE_NODE:Pe=fp(f,ge,N);break;case It.DIAMOND_NODE:case It.POLYGON_NODE:Pe=pp(f,ge,N)}a[0]=Pe;var xe=Ba(O,M),Me=a[a.length-1];switch(de){case It.RECT_NODE:L.radius!==0&&(lp(M,L)||(Me=cp(M,xe,L)));break;case It.CIRCLE_NODE:Me=us(M,xe,L);break;case It.ELLIPSE_NODE:Me=fp(M,xe,L);break;case It.DIAMOND_NODE:case It.POLYGON_NODE:Me=pp(M,xe,L)}return a[a.length-1]=Me,a}},{key:"getData",value:function(){var i=pa(Io(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return Object.assign({},i,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Cp({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,a){this.isDragging=!0;var f=i.start,g=i.end,O=i.startIndex,M=i.endIndex,N=i.direction,L=this.pointsList,Y=L;return N===nn.HORIZONTAL?(L[O]={x:f.x,y:f.y+a.y},L[M]={x:g.x,y:g.y+a.y},Y=this.pointsList.map(function(de){return de})):N===nn.VERTICAL&&(L[O]={x:f.x+a.x,y:f.y},L[M]={x:g.x+a.x,y:g.y},Y=this.pointsList.map(function(de){return de})),this.updatePointsAfterDrage(Y),this.draginngPointList=Y,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[O]),end:Object.assign({},L[M]),startIndex:O,endIndex:M,direction:N}}},{key:"dragAppend",value:function(i,a){this.isDragging=!0;var f=i.start,g=i.end,O=i.startIndex,M=i.endIndex,N=i.direction,L=this.pointsList;if(N===nn.HORIZONTAL){L[O]={x:f.x,y:f.y+a.y},L[M]={x:g.x,y:g.y+a.y};var Y=this.pointsList.map(function(Ot){return Ot});if(O!==0&&M!==this.pointsList.length-1&&(Y=this.removeCrossPoints(O,M,Y)),O===0){var de={x:f.x,y:f.y+a.y};if(!Ro(de,this.sourceNode)){var ge=this.sourceNode.anchors;Y=this.getDragingPoints(N,"start",de,ge,Y)}}if(M===this.pointsList.length-1){var Pe={x:g.x,y:g.y+a.y};if(!Ro(Pe,this.targetNode)){var xe=this.targetNode.anchors;Y=this.getDragingPoints(N,"end",Pe,xe,Y)}}Y=Ss(Y),this.updatePointsAfterDrage(Y),this.draginngPointList=Y}else if(N===nn.VERTICAL){L[O]={x:f.x+a.x,y:f.y},L[M]={x:g.x+a.x,y:g.y};var Me=this.pointsList.map(function(Ot){return Ot});if(O!==0&&M!==this.pointsList.length-1&&(Me=this.removeCrossPoints(O,M,Me)),O===0){var Be={x:f.x+a.x,y:f.y};if(!Ro(Be,this.sourceNode)){var Je=this.sourceNode.anchors;Me=this.getDragingPoints(N,"start",Be,Je,Me)}}if(M===this.pointsList.length-1){var $e={x:g.x+a.x,y:g.y};if(!Ro($e,this.targetNode)){var at=this.targetNode.anchors;Me=this.getDragingPoints(N,"end",$e,at,Me)}}Me=Ss(Me),this.updatePointsAfterDrage(Me),this.draginngPointList=Me}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},L[O]),end:Object.assign({},L[M]),startIndex:O,endIndex:M,direction:N}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var i=Ci(this.points);this.pointsList=i.map(function(g){return g}),this.draginngPointList=[];var a=i[0];this.startPoint=Object.assign({},a);var f=i[i.length-1];this.endPoint=Object.assign({},f)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(i){var a=this.updateCrossPoints(i);this.points=a.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,g=i.sourceNode,O=i.targetNode,M=Cp({x:a.x,y:a.y},{x:f.x,y:f.y},g,O,this.offset||0);this.pointsList=M,this.initPoints()}}])&&Pp(e.prototype,n),r&&Pp(e,r),u}(fs),xp=Vn(Mt.prototype,"dbClickPosition",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vn(Mt.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"initPoints"),Mt.prototype),Vn(Mt.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"updatePoints"),Mt.prototype),Vn(Mt.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"updateStartPoint"),Mt.prototype),Vn(Mt.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"moveStartPoint"),Mt.prototype),Vn(Mt.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"updateEndPoint"),Mt.prototype),Vn(Mt.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"moveEndPoint"),Mt.prototype),Vn(Mt.prototype,"dragAppendStart",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"dragAppendStart"),Mt.prototype),Vn(Mt.prototype,"dragAppendSimple",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"dragAppendSimple"),Mt.prototype),Vn(Mt.prototype,"dragAppend",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"dragAppend"),Mt.prototype),Vn(Mt.prototype,"dragAppendEnd",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"dragAppendEnd"),Mt.prototype),Vn(Mt.prototype,"updatePointsAfterDrage",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"updatePointsAfterDrage"),Mt.prototype),Vn(Mt.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"getAdjustStart"),Mt.prototype),Vn(Mt.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"getAdjustEnd"),Mt.prototype),Vn(Mt.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Mt.prototype,"updateAfterAdjustStartAndEnd"),Mt.prototype),Mt),ha=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,u=t.type,i={leftX:0,leftY:0,rightX:0,rightY:0},a=Math.atan((n.y-e.y)/(n.x-e.x)),f=Math.atan(r/o),g=Math.sqrt(o*o+r*r);return u==="start"?n.x>=e.x?(i.leftX=e.x+g*Math.sin(a+f),i.leftY=e.y-g*Math.cos(a+f),i.rightX=e.x-g*Math.sin(a-f),i.rightY=e.y+g*Math.cos(a-f)):(i.leftX=e.x-g*Math.sin(a+f),i.leftY=e.y+g*Math.cos(a+f),i.rightX=e.x+g*Math.sin(a-f),i.rightY=e.y-g*Math.cos(a-f)):u==="end"&&(n.x>=e.x?(i.leftX=n.x+g*Math.sin(a-f),i.leftY=n.y-g*Math.cos(a-f),i.rightX=n.x-g*Math.sin(a+f),i.rightY=n.y+g*Math.cos(a+f)):(i.leftX=n.x-g*Math.sin(a-f),i.leftY=n.y+g*Math.cos(a-f),i.rightX=n.x+g*Math.sin(a+f),i.rightY=n.y-g*Math.cos(a+f))),i};function Mp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mp(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kg(t){return function(e){if(Array.isArray(e))return ws(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||kp(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _s(t){return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function Os(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||kp(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kp(t,e){if(t){if(typeof t=="string")return ws(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ws(t,e):void 0}}function ws(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xs=function(t){var e=[],n={};return t.forEach(function(r){var o="".concat(r.x,"-").concat(r.y);r.id=o,n[o]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Ra=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Ia=function(t,e){var n=function(r,o){var u=Math.abs(r.x-o.centerX),i=Math.abs(r.y-o.centerY);return u/o.width>i/o.height?nn.HORIZONTAL:nn.VERTICAL}(e,t);return n===nn.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Np=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),u=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+u)/2,minX:n,minY:r,maxX:o,maxY:u,height:u-r,width:o-n}},ya=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(O){n.push(O.x),r.push(O.y)});var o=Math.min.apply(Math,n),u=Math.max.apply(Math,n),i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),f=u-o,g=a-i;return e&&(f+=e,g+=e),{centerX:(o+u)/2,centerY:(i+a)/2,maxX:u,maxY:a,minX:o,minY:i,x:(o+u)/2,y:(i+a)/2,height:g,width:f}},La=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},za=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Es=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Ap=function(t,e,n,r,o){return Es(t,e)+Es(t,n)+function(u,i){var a=0;return i.forEach(function(f){f&&(u.x===f.x&&(a+=-2),u.y===f.y&&(a+=-2))}),a}(t,[e,n,r,o])},Ng=function t(e,n,r,o,u){u||(u=0),e.unshift(n[o]),r[o]&&r[o]!==o&&u<=100&&t(e,n,r,r[o],u+1)},va=function(t,e,n,r){var o=e.x-t.x,u=e.y-t.y,i=r.x-n.x,a=r.y-n.y,f=(-u*(t.x-n.x)+o*(t.y-n.y))/(-i*u+o*a),g=(i*(t.y-n.y)-a*(t.x-n.x))/(-i*u+o*a);return f>=0&&f<=1&&g>=0&&g<=1},Dp=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Os(La(n),4),o=r[0],u=r[1],i=r[2],a=r[3];return va(t,e,o,u)||va(t,e,o,a)||va(t,e,u,i)||va(t,e,i,a)},Ag=function(t,e,n,r,o,u,i){var a=[],f=[e],g={},O={},M={};O[e.id]=0,M[e.id]=Ap(e,n,e);var N={};t.forEach(function(de){N[de.id]=de});for(var L=function(){var de,ge,Pe,xe=void 0,Me=1/0;if(f.forEach(function(Je){M[Je.id]<Me&&(Me=M[Je.id],xe=Je)}),xe===n){var Be=[];return Ng(Be,N,g,n.id),{v:Be}}ge=xe,(Pe=(de=f).indexOf(ge))>-1&&de.splice(Pe,1),a.push(xe),function(Je,$e,at,Ot){var Dt=[];return Je.forEach(function(pt){pt!==$e&&(pt.x!==$e.x&&pt.y!==$e.y||Dp(pt,$e,at)||Dp(pt,$e,Ot)||Dt.push(pt))}),xs(Dt)}(t,xe,r,o).forEach(function(Je){if(a.indexOf(Je)===-1){f.indexOf(Je)===-1&&f.push(Je);var $e=M[xe.id]+Es(xe,Je);O[Je.id]&&$e>=O[Je.id]||(g[Je.id]=xe.id,O[Je.id]=$e,M[Je.id]=O[Je.id]+Ap(Je,n,e,u,i))}})};f.length;){var Y=L();if(_s(Y)==="object")return Y.v}return[e,n]},Tp=function(t){return sr(t)},Ss=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],o=e[n],u=e[n+1];r.x===o.x&&o.x===u.x||r.y===o.y&&o.y===u.y?e.splice(n,1):n++}return e},Cp=function(t,e,n,r,o){var u,i,a=Tp(n),f=Tp(r),g=Ra(a,o),O=Ra(f,o),M=Ia(g,t),N=Ia(O,e);if(u=g,i=O,2*Math.abs(u.centerX-i.centerX)<u.width+i.width&&2*Math.abs(u.centerY-i.centerY)<u.height+i.height){var L=Tg(t,e,M,N);return[t,M].concat(kg(L),[N,e])}var Y=ya([M,N]),de=Np(g,Y),ge=Np(O,Y),Pe=[];Pe=(Pe=Pe.concat(La(de))).concat(La(ge));var xe={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[Y,de,ge].forEach(function(Be){Pe=Pe.concat(function(Je,$e){return function(at,Ot){return Ot<at.minX||Ot>at.maxX?[]:[{x:Ot,y:at.minY},{x:Ot,y:at.maxY}]}(Je,$e.x).concat(function(at,Ot){return Ot<at.minY||Ot>at.maxY?[]:[{x:at.minX,y:Ot},{x:at.maxX,y:Ot}]}(Je,$e.y))}(Be,xe).filter(function(Je){return za(Je,g)&&za(Je,O)}))}),[{x:M.x,y:N.y},{x:N.x,y:M.y}].forEach(function(Be){za(Be,g)&&za(Be,O)&&Pe.push(Be)}),Pe.unshift(M),Pe.push(N),Pe=xs(Pe);var Me=Ag(Pe,M,N,a,f,t,e);return Me.unshift(t),Me.push(e),Me.length>2&&(Me=Ss(Me)),xs(Me)},Dg=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Yr(n.x,n.y,r.x,r.y),u=1;u<t.length-1;u++){var i=t[u],a=t[u+1],f=Yr(i.x,i.y,a.x,a.y);f>o&&(o=f,n=i,r=a)}e=[n,r]}return e},Rp=function(t,e,n){var r=Ro(t,n),o=Ro(e,n);return r&&o},Ip=function(t,e,n){var r=Ro(t,n),o=Ro(e,n);return!(r&&o)&&(r||o)},Lp=function(t,e,n){for(var r,o,u=sr(n),i=La(u),a=0;a<i.length;a++)va(t,e,i[a],i[(a+1)%i.length])&&(o=[i[a],i[(a+1)%i.length]]);return o&&(r=function(f,g,O,M){var N=(g.y-f.y)*(M.x-O.x)-(f.x-g.x)*(O.y-M.y);if(N===0)return!1;var L=((g.x-f.x)*(M.x-O.x)*(O.y-f.y)+(g.y-f.y)*(M.x-O.x)*f.x-(M.y-O.y)*(g.x-f.x)*O.x)/N,Y=-((g.y-f.y)*(M.y-O.y)*(O.x-f.x)+(g.x-f.x)*(M.y-O.y)*f.y-(M.x-O.x)*(g.y-f.y)*O.y)/N;return(L-f.x)*(L-g.x)<=0&&(Y-f.y)*(Y-g.y)<=0&&(L-O.x)*(L-M.x)<=0&&(Y-O.y)*(Y-M.y)<=0&&{x:L,y:Y}}(t,e,o[0],o[1])),r},Ba=function(t,e){var n;return t.x===e.x?n=nn.VERTICAL:t.y===e.y&&(n=nn.HORIZONTAL),n},Ci=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var o=Os(r.split(","),2),u=o[0],i=o[1];n.push({x:Number(u),y:Number(i)})}),n},Tg=function(t,e,n,r){var o=[];if(Ba(t,n)===Ba(e,r))t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var u={x:n.x,y:r.y},i=fa(u,t,n),a=fa(u,e,r);if(i||a)u={x:r.x,y:n.y};else{var f=zp(u,t,n),g=zp(u,e,r);f&&g&&(u={x:r.x,y:n.y})}o.push(u)}return o},zp=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Bp=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Hp=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,u=t.offset,i=sr(r),a=sr(o),f=Ra(i,u),g=Ra(a,u);return{sNext:Ia(f,e),ePre:Ia(g,n)}},Ha=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Fa(e[0]),Fa(e[1]),Fa(e[2]),Fa(e[3])]},Fa=function(t){var e=Os(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Fp=function(t,e){for(var n,r=t.x,o=t.y,u=Ci(e),i=Number.MAX_SAFE_INTEGER,a=[],f=0;f<u.length;f++)a.push({start:u[f],end:u[(f+1)%u.length]});if(a.forEach(function(N){var L=N.start,Y=N.end;if(L.x===Y.x){var de={x:L.x,y:o};if(fa(de,L,Y)){var ge=Math.abs(L.x-r);ge<i&&(i=ge,n=de)}}else if(L.y===Y.y){var Pe={x:r,y:L.y};if(fa(Pe,L,Y)){var xe=Math.abs(L.y-o);xe<i&&(i=xe,n=Pe)}}}),!n){var g=a[0],O=g.start,M=g.end;n={x:O.x+(M.x-O.x)/2,y:O.y+(M.y-O.y)/2}}return n},Cg=function(t){return ca(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Gp=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};s(204);var Ri=function(){};function Xp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wr=window.document;function js(t){var e=t.onDragStart,n=e===void 0?Ri:e,r=t.onDraging,o=r===void 0?Ri:r,u=t.onDragEnd,i=u===void 0?Ri:u,a=t.step,f=a===void 0?1:a,g=t.isStopPropagation,O=g===void 0||g,M=!1,N=!1,L=0,Y=0,de=0,ge=0;function Pe(Me){if(O&&Me.stopPropagation(),N&&(M=!0,de+=Me.clientX-L,ge+=Me.clientY-Y,L=Me.clientX,Y=Me.clientY,Math.abs(de)>f||Math.abs(ge)>f)){var Be=de%f,Je=ge%f,$e=de-Be,at=ge-Je;de=Be,ge=Je,o({deltaX:$e,deltaY:at,event:Me})}}function xe(Me){if(O&&Me.stopPropagation(),N=!1,Wr.removeEventListener("mousemove",Pe,!1),Wr.removeEventListener("mouseup",xe,!1),M)return M=!1,i({event:Me})}return function(Me){if(Me.button===0)return O&&Me.stopPropagation(),N=!0,L=Me.clientX,Y=Me.clientY,Wr.addEventListener("mousemove",Pe,!1),Wr.addEventListener("mouseup",xe,!1),n({event:Me})}}var De,Up,Vp,Yp,Wp,Zp,Kp,$p,Jp,Qp,qp,ed,td,si=function(){function t(o){var u=this,i=o.onDragStart,a=i===void 0?Ri:i,f=o.onDraging,g=f===void 0?Ri:f,O=o.onDragEnd,M=O===void 0?Ri:O,N=o.eventType,L=N===void 0?"":N,Y=o.eventCenter,de=Y===void 0?null:Y,ge=o.step,Pe=ge===void 0?1:ge,xe=o.isStopPropagation,Me=xe===void 0||xe,Be=o.model,Je=Be===void 0?null:Be;(function($e,at){if(!($e instanceof at))throw new TypeError("Cannot call a class as a function")})(this,t),dn(this,"onDragStart",void 0),dn(this,"onDraging",void 0),dn(this,"onDragEnd",void 0),dn(this,"step",void 0),dn(this,"isStopPropagation",void 0),dn(this,"isDraging",!1),dn(this,"isStartDraging",!1),dn(this,"startX",0),dn(this,"startY",0),dn(this,"sumDeltaX",0),dn(this,"sumDeltaY",0),dn(this,"eventType",void 0),dn(this,"eventCenter",void 0),dn(this,"model",void 0),dn(this,"startTime",void 0),dn(this,"isGrag",void 0),dn(this,"handleMouseDown",function($e){var at,Ot;if($e.button===0){u.isStopPropagation&&$e.stopPropagation(),u.isStartDraging=!0,u.startX=$e.clientX,u.startY=$e.clientY,Wr.addEventListener("mousemove",u.handleMouseMove,!1),Wr.addEventListener("mouseup",u.handleMouseUp,!1);var Dt=(at=u.model)===null||at===void 0?void 0:at.getData();(Ot=u.eventCenter)===null||Ot===void 0||Ot.emit(Pt["".concat(u.eventType,"_MOUSEDOWN")],{e:$e,data:Dt}),u.startTime=new Date().getTime()}}),dn(this,"handleMouseMove",function($e){if(u.isStopPropagation&&$e.stopPropagation(),u.isStartDraging&&(u.sumDeltaX+=$e.clientX-u.startX,u.sumDeltaY+=$e.clientY-u.startY,u.startX=$e.clientX,u.startY=$e.clientY,u.step<=1||Math.abs(u.sumDeltaX)>u.step||Math.abs(u.sumDeltaY)>u.step)){var at,Ot=u.sumDeltaX%u.step,Dt=u.sumDeltaY%u.step,pt=u.sumDeltaX-Ot,Wt=u.sumDeltaY-Dt;u.sumDeltaX=Ot,u.sumDeltaY=Dt;var an,An=(at=u.model)===null||at===void 0?void 0:at.getData();u.isDraging||((an=u.eventCenter)===null||an===void 0||an.emit(Pt["".concat(u.eventType,"_DRAGSTART")],{e:$e,data:An}),u.onDragStart({event:$e})),u.isDraging=!0,Promise.resolve().then(function(){var Dn,mn;u.onDraging({deltaX:pt,deltaY:Wt,event:$e}),(Dn=u.eventCenter)===null||Dn===void 0||Dn.emit(Pt["".concat(u.eventType,"_MOUSEMOVE")],{e:$e,data:An}),(mn=u.eventCenter)===null||mn===void 0||mn.emit(Pt["".concat(u.eventType,"_DRAG")],{e:$e,data:An})})}}),dn(this,"handleMouseUp",function($e){u.isStartDraging=!1,u.isStopPropagation&&$e.stopPropagation(),Promise.resolve().then(function(){var at,Ot,Dt;Wr.removeEventListener("mousemove",u.handleMouseMove,!1),Wr.removeEventListener("mouseup",u.handleMouseUp,!1);var pt=(at=u.model)===null||at===void 0?void 0:at.getData();(Ot=u.eventCenter)===null||Ot===void 0||Ot.emit(Pt["".concat(u.eventType,"_MOUSEUP")],{e:$e,data:pt}),u.isDraging&&(u.isDraging=!1,u.onDragEnd({event:$e}),(Dt=u.eventCenter)===null||Dt===void 0||Dt.emit(Pt["".concat(u.eventType,"_DROP")],{e:$e,data:pt}))})}),dn(this,"cancelDrag",function(){Wr.removeEventListener("mousemove",u.handleMouseMove,!1),Wr.removeEventListener("mouseup",u.handleMouseUp,!1),u.isDraging=!1}),this.onDragStart=a,this.onDraging=g,this.onDragEnd=M,this.step=Pe,this.isStopPropagation=Me,this.eventType=L,this.eventCenter=de,this.model=Je}var e,n,r;return e=t,(n=[{key:"setStep",value:function(o){this.step=o}}])&&Xp(e.prototype,n),r&&Xp(e,r),t}();function nd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nd(Object(n),!0).forEach(function(r){vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rd(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||od(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ii(t){return function(e){if(Array.isArray(e))return Ps(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||od(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function od(t,e){if(t){if(typeof t=="string")return Ps(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ps(t,e):void 0}}function Ps(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xa(t){return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function gr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function id(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var ad,ud=200,sd=(De=function(){function t(o){(function(N,L){if(!(N instanceof L))throw new TypeError("Cannot call a class as a function")})(this,t),vo(this,"rootEl",void 0),gr(this,"width",Up,this),gr(this,"height",Vp,this),vo(this,"theme",void 0),vo(this,"eventCenter",void 0),vo(this,"modelMap",new Map),vo(this,"topElement",void 0),vo(this,"animation",void 0),vo(this,"idGenerator",void 0),vo(this,"nodeMoveRules",[]),gr(this,"edgeType",Yp,this),gr(this,"nodes",Wp,this),gr(this,"edges",Zp,this),gr(this,"overlapMode",Kp,this),gr(this,"background",$p,this),gr(this,"transformModel",Jp,this),gr(this,"editConfigModel",Qp,this),gr(this,"gridSize",qp,this),gr(this,"partial",ed,this),gr(this,"fakerNode",td,this);var u,i=o.container,a=o.background,f=a===void 0?{}:a,g=o.grid,O=o.idGenerator,M=o.animation;this.background=f,Xa(g)==="object"&&(this.gridSize=g.size),this.rootEl=i,this.editConfigModel=new df(o),this.eventCenter=new rg,this.transformModel=new xv(this.eventCenter),this.theme=Lf(o.style),this.edgeType=o.edgeType||"polyline",o.width||(o.width=i.getBoundingClientRect().width),o.height||(o.height=i.getBoundingClientRect().height),this.width=o.width,this.height=o.height,this.animation=(u=M)&&typeof u!="boolean"?If(un(yp),u):un(u===!0?hg:yp),this.partial=o.partial,this.overlapMode=o.overlapMode||0,this.idGenerator=O}var e,n,r;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"modelsMap",get:function(){return[].concat(Ii(this.nodes),Ii(this.edges)).reduce(function(o,u){return o[u.id]=u,o},{})}},{key:"sortElements",get:function(){var o=[];this.nodes.forEach(function(N){return o.push(N)}),this.edges.forEach(function(N){return o.push(N)}),o=o.sort(function(N,L){return N.zIndex-L.zIndex});for(var u=[],i=-1,a=[-200,-200],f=[this.width+ud,this.height+ud],g=0;g<o.length;g++){var O=o[g];O.visible&&(!this.partial||O.isSelected||this.isElementInArea(O,a,f,!1,!1))&&(O.zIndex===9999&&(i=u.length),u.push(O))}if(i!==-1){var M=u[u.length-1];u[u.length-1]=u[i],u[i]=M}return u}},{key:"textEditElement",get:function(){var o=this.nodes.find(function(i){return i.state===Yt.TEXT_EDIT}),u=this.edges.find(function(i){return i.state===Yt.TEXT_EDIT});return o||u}},{key:"selectElements",get:function(){var o=new Map;return this.nodes.forEach(function(u){u.isSelected&&o.set(u.id,u)}),this.edges.forEach(function(u){u.isSelected&&o.set(u.id,u)}),o}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=[],g=[];this.nodes.forEach(function(N){return g.push(N)}),this.edges.forEach(function(N){return g.push(N)});for(var O=0;O<g.length;O++){var M=g[O];this.isElementInArea(M,o,u,i,a)&&f.push(M)}return f}},{key:"getModel",value:function(o){return this.modelMap.get(o)}},{key:"getNodeModelById",value:function(o){var u;return this.fakerNode&&o===this.fakerNode.id?this.fakerNode:(u=this.nodesMap[o])===null||u===void 0?void 0:u.model}},{key:"getPointByClient",value:function(o){var u=o.x,i=o.y,a=this.rootEl.getBoundingClientRect(),f={x:u-a.left,y:i-a.top},g=rd(this.transformModel.HtmlPointToCanvasPoint([f.x,f.y]),2);return{domOverlayPosition:f,canvasOverlayPosition:{x:g[0],y:g[1]}}}},{key:"isElementInArea",value:function(o,u,i){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(o.BaseType===vn.NODE){for(var g=sr(o=o),O=g.minX,M=g.minY,N=g.maxX,L=g.maxY,Y=[{x:O,y:M},{x:N,y:M},{x:N,y:L},{x:O,y:L}],de=f,ge=0;ge<Y.length;ge++){var Pe=Y[ge],xe=Pe.x,Me=Pe.y,Be=this.transformModel.CanvasPointToHtmlPoint([xe,Me]),Je=rd(Be,2);if(xe=Je[0],Me=Je[1],ns([xe,Me],u,i)!==f){de=!f;break}}return de}if(o.BaseType===vn.EDGE){var $e=o=o,at=$e.startPoint,Ot=$e.endPoint,Dt=this.transformModel.CanvasPointToHtmlPoint([at.x,at.y]),pt=this.transformModel.CanvasPointToHtmlPoint([Ot.x,Ot.y]),Wt=ns(Dt,u,i),an=ns(pt,u,i);return a?Wt&&an:Wt||an}return!1}},{key:"graphDataToModel",value:function(o){var u=this;this.nodes=Ni(o.nodes,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var f=i.x,g=i.y;return f&&g&&(i.x=Di(f,u.gridSize),i.y=Di(g,u.gridSize),Xa(i.text)==="object"&&(i.text.x-=Bf(f,u.gridSize),i.text.y-=Bf(g,u.gridSize))),new a(i,u)}),this.edges=Ni(o.edges,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(i,u)})}},{key:"modelToGraphData",value:function(){var o=[];this.edges.forEach(function(i){var a=i.getData();a&&o.push(a)});var u=[];return this.nodes.forEach(function(i){var a=i.getData();a&&u.push(a)}),{nodes:u,edges:o}}},{key:"modelToHistoryData",value:function(){for(var o=!1,u=[],i=0;i<this.nodes.length;i++){var a=this.nodes[i];if(a.isDragging){o=!0;break}u.push(a.getHistoryData())}if(o)return!1;for(var f=!1,g=[],O=0;O<this.edges.length;O++){var M=this.edges[O];if(M.isDragging){f=!0;break}g.push(M.getHistoryData())}return!f&&{nodes:u,edges:g}}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getElement",value:function(o){return this.modelsMap[o]}},{key:"getNodeEdges",value:function(o){for(var u=[],i=0;i<this.edges.length;i++){var a=this.edges[i],f=this.edges[i].sourceNodeId===o,g=this.edges[i].targetNodeId===o;(f||g)&&u.push(a)}return u}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],u=this.selectElements,i={nodes:[],edges:[]};return u.forEach(function(a){if(a.BaseType===vn.NODE&&i.nodes.push(a.getData()),a.BaseType===vn.EDGE){var f=a.getData(),g=u.get(f.sourceNodeId)&&u.get(f.targetNodeId);(o||g)&&i.edges.push(f)}}),i}},{key:"updateAttributes",value:function(o,u){this.getElement(o).updateAttributes(u)}},{key:"changeNodeId",value:function(o,u){return u||(u=ui()),this.nodesMap[u]?"":this.nodesMap[o]?(this.edges.forEach(function(i){i.sourceNodeId===o&&(i.sourceNodeId=u),i.targetNodeId===o&&(i.targetNodeId=u)}),this.nodesMap[o].model.id=u,u):""}},{key:"changeEdgeId",value:function(o,u){return u||(u=ui()),this.edgesMap[u]?"":this.edgesMap[o]?(this.edges.forEach(function(i){i.id===o&&(i.id=u)}),u):""}},{key:"setFakerNode",value:function(o){this.fakerNode=o}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(o,u){return this.modelMap.set(o,u)}},{key:"toFront",value:function(o){var u,i,a,f=((u=this.nodesMap[o])===null||u===void 0?void 0:u.model)||((i=this.edgesMap[o])===null||i===void 0?void 0:i.model);f&&(this.overlapMode===ur.DEFAULT&&((a=this.topElement)===null||a===void 0||a.setZIndex(),f.setZIndex(9999),this.topElement=f),this.overlapMode===ur.INCREASE&&this.setElementZIndex(o,"top"))}},{key:"setElementZIndex",value:function(o,u){var i,a,f,g=((i=this.nodesMap[o])===null||i===void 0?void 0:i.model)||((a=this.edgesMap[o])===null||a===void 0?void 0:a.model);g&&(typeof u=="number"&&(f=u),u==="top"&&(f=cs()),u==="bottom"&&(f=--gg),g.setZIndex(f))}},{key:"deleteNode",value:function(o){var u=this.nodesMap[o].model.getData();this.deleteEdgeBySource(o),this.deleteEdgeByTarget(o),this.nodes.splice(this.nodesMap[o].index,1),this.eventCenter.emit(Pt.NODE_DELETE,{data:u})}},{key:"addNode",value:function(o){var u=Bn(o);u.id&&this.nodesMap[o.id]&&delete u.id;var i=this.getModel(u.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(u.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new i(u,this);this.nodes.push(a);var f=a.getData();return this.eventCenter.emit(Pt.NODE_ADD,{data:f}),a}},{key:"cloneNode",value:function(o){var u=this.getNodeModelById(o),i=u.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var a=this.addNode(i);return a.setSelected(!0),u.setSelected(!1),a.getData()}},{key:"moveNode",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var g=f.model,O=g.move(u,i,a);O&&this.moveEdge(o,u,i)}}},{key:"moveNode2Coordinate",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var g=f.model,O=g.x,M=g.y,N=u-O,L=i-M;this.moveNode(o,N,L,a)}}},{key:"editText",value:function(o){this.setElementStateById(o,Yt.TEXT_EDIT)}},{key:"addEdge",value:function(o){var u=Bn(o),i=u.type;i||(i=this.edgeType),u.id&&this.edgesMap[u.id]&&delete u.id;var a=this.getModel(i);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var f=new a(Ga(Ga({},u),{},{type:i}),this),g=f.getData();return this.edges.push(f),this.eventCenter.emit(Pt.EDGE_ADD,{data:g}),f}},{key:"moveEdge",value:function(o,u,i){for(var a=0;a<this.edges.length;a++){var f,g=this.edges[a],O=g.textPosition,M=O.x,N=O.y,L=this.edges[a].sourceNodeId===o,Y=this.edges[a].targetNodeId===o;if(L&&g.moveStartPoint(u,i),Y&&g.moveEndPoint(u,i),L||Y)if(g.customTextPosition===!0)g.resetTextPosition();else if(g.modelType===It.POLYLINE_EDGE&&(f=g.text)!==null&&f!==void 0&&f.value){var de=g.text,ge=Fp(de,g.points);g.moveText(ge.x-de.x,ge.y-de.y)}else{var Pe=g.textPosition,xe=Pe.x,Me=Pe.y;g.moveText(xe-M,Me-N)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(o,u){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===o&&this.edges[i].targetNodeId===u){var a=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Pt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(o){if(this.edgesMap[o]){var u=this.edgesMap[o].index,i=this.edgesMap[o].model.getData();this.edges.splice(u,1),this.eventCenter.emit(Pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].sourceNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(Pt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].targetNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(Pt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(o,u,i){this.nodes.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Yt.DEFAULT)}),this.edges.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Yt.DEFAULT)})}},{key:"updateText",value:function(o,u){this.nodes.forEach(function(i){i.id===o&&i.updateText(u)}),this.edges.forEach(function(i){i.id===o&&i.updateText(u)})}},{key:"selectNodeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.nodesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.edgesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||this.clearSelectElements();var i=this.getElement(o);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var o;this.selectElements.forEach(function(u){u==null||u.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===ur.DEFAULT&&((o=this.topElement)===null||o===void 0||o.setZIndex())}},{key:"moveNodes",value:function(o,u,i){var a=this,f=arguments.length>3&&arguments[3]!==void 0&&arguments[3];o.forEach(function(g){return a.moveNode(g,u,i,f)})}},{key:"addNodeMoveRules",value:function(o){this.nodeMoveRules.includes(o)||this.nodeMoveRules.push(o)}},{key:"setDefaultEdgeType",value:function(o){this.edgeType=o}},{key:"changeNodeType",value:function(o,u){var i=this.getNodeModelById(o);if(i){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var g=new f(a,this);this.nodes.splice(this.nodesMap[o].index,1,g),this.getNodeEdges(o).forEach(function(O){if(O.sourceNodeId===o){var M=dp(g,O.startPoint,g.width,g.height);O.updateStartPoint(M)}if(O.targetNodeId===o){var N=dp(g,O.endPoint,g.width,g.height);O.updateEndPoint(N)}})}}},{key:"changeEdgeType",value:function(o,u){var i=this.getEdgeModelById(o);if(i&&i.type!==u){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var g=new f(a,this);this.edges.splice(this.edgesMap[o].index,1,g)}}},{key:"getNodeIncomingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.targetNodeId===o&&u.push(i)}),u}},{key:"getNodeOutgoingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.sourceNodeId===o&&u.push(i)}),u}},{key:"getNodeIncomingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.targetNodeId===o&&i.push(u.nodesMap[a.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.sourceNodeId===o&&i.push(u.nodesMap[a.targetNodeId].model)}),i}},{key:"setTheme",value:function(o){this.theme=Lf(Ga(Ga({},this.theme),o))}},{key:"resize",value:function(o,u){this.width=o!=null?o:this.width,this.height=u!=null?u:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var o=this.nodes,u=[],i=[];o.forEach(function(N){var L=N.x,Y=N.y,de=N.width,ge=N.height,Pe=N.getNodeStyle().strokeWidth,xe=Pe===void 0?0:Pe;u=u.concat([L+de/2+xe,L-de/2-xe]),i=i.concat([Y+ge/2+xe,Y-ge/2-xe])});var a=Math.min.apply(Math,Ii(u)),f=Math.max.apply(Math,Ii(u)),g=Math.min.apply(Math,Ii(i)),O=f-a||0,M=Math.max.apply(Math,Ii(i))-g||0;return{virtualRectWidth:O,virtualRectHeight:M,virtualRectCenterPositionX:a+O/2,virtualRectCenterPositionY:g+M/2}}},{key:"translateCenter",value:function(){var o=this.nodes,u=this.width,i=this.height,a=this.rootEl,f=this.transformModel;if(o.length){var g=u||a.clientWidth,O=i||a.clientHeight,M=this.getVirtualRectSize(),N=M.virtualRectCenterPositionX,L=M.virtualRectCenterPositionY;f.focusOn(N,L,g,O)}}},{key:"fitView",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,a=this.width,f=this.height,g=this.rootEl,O=this.transformModel;if(i.length){var M=a||g.clientWidth,N=f||g.clientHeight,L=this.getVirtualRectSize(),Y=L.virtualRectWidth,de=L.virtualRectHeight,ge=L.virtualRectCenterPositionX,Pe=L.virtualRectCenterPositionY,xe=(Y+u)/M,Me=(de+o)/N,Be=0;Be=1/Math.max(xe,Me);var Je=[M/2,N/2];O.zoom(Be,Je),O.focusOn(ge,Pe,M,N)}}},{key:"openEdgeAnimation",value:function(o){this.getEdgeModelById(o).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(o){this.getEdgeModelById(o).closeEdgeAnimation()}}],n&&id(e.prototype,n),r&&id(e,r),t}(),Up=mt(De.prototype,"width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=mt(De.prototype,"height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yp=mt(De.prototype,"edgeType",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=mt(De.prototype,"nodes",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zp=mt(De.prototype,"edges",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kp=mt(De.prototype,"overlapMode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ur.DEFAULT}}),$p=mt(De.prototype,"background",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jp=mt(De.prototype,"transformModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=mt(De.prototype,"editConfigModel",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qp=mt(De.prototype,"gridSize",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ed=mt(De.prototype,"partial",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),td=mt(De.prototype,"fakerNode",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt(De.prototype,"nodesMap",[p.m],Object.getOwnPropertyDescriptor(De.prototype,"nodesMap"),De.prototype),mt(De.prototype,"edgesMap",[p.m],Object.getOwnPropertyDescriptor(De.prototype,"edgesMap"),De.prototype),mt(De.prototype,"modelsMap",[p.m],Object.getOwnPropertyDescriptor(De.prototype,"modelsMap"),De.prototype),mt(De.prototype,"sortElements",[p.m],Object.getOwnPropertyDescriptor(De.prototype,"sortElements"),De.prototype),mt(De.prototype,"textEditElement",[p.m],Object.getOwnPropertyDescriptor(De.prototype,"textEditElement"),De.prototype),mt(De.prototype,"selectElements",[p.m],Object.getOwnPropertyDescriptor(De.prototype,"selectElements"),De.prototype),mt(De.prototype,"setFakerNode",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setFakerNode"),De.prototype),mt(De.prototype,"removeFakerNode",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"removeFakerNode"),De.prototype),mt(De.prototype,"setModel",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setModel"),De.prototype),mt(De.prototype,"toFront",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"toFront"),De.prototype),mt(De.prototype,"setElementZIndex",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setElementZIndex"),De.prototype),mt(De.prototype,"deleteNode",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"deleteNode"),De.prototype),mt(De.prototype,"addNode",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"addNode"),De.prototype),mt(De.prototype,"cloneNode",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"cloneNode"),De.prototype),mt(De.prototype,"moveNode",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"moveNode"),De.prototype),mt(De.prototype,"moveNode2Coordinate",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"moveNode2Coordinate"),De.prototype),mt(De.prototype,"editText",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"editText"),De.prototype),mt(De.prototype,"addEdge",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"addEdge"),De.prototype),mt(De.prototype,"moveEdge",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"moveEdge"),De.prototype),mt(De.prototype,"deleteEdgeBySourceAndTarget",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"deleteEdgeBySourceAndTarget"),De.prototype),mt(De.prototype,"deleteEdgeById",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"deleteEdgeById"),De.prototype),mt(De.prototype,"deleteEdgeBySource",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"deleteEdgeBySource"),De.prototype),mt(De.prototype,"deleteEdgeByTarget",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"deleteEdgeByTarget"),De.prototype),mt(De.prototype,"setElementStateById",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setElementStateById"),De.prototype),mt(De.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"updateText"),De.prototype),mt(De.prototype,"selectNodeById",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"selectNodeById"),De.prototype),mt(De.prototype,"selectEdgeById",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"selectEdgeById"),De.prototype),mt(De.prototype,"selectElementById",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"selectElementById"),De.prototype),mt(De.prototype,"clearSelectElements",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"clearSelectElements"),De.prototype),mt(De.prototype,"moveNodes",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"moveNodes"),De.prototype),mt(De.prototype,"setDefaultEdgeType",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setDefaultEdgeType"),De.prototype),mt(De.prototype,"changeNodeType",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"changeNodeType"),De.prototype),mt(De.prototype,"changeEdgeType",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"changeEdgeType"),De.prototype),mt(De.prototype,"getNodeIncomingEdge",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"getNodeIncomingEdge"),De.prototype),mt(De.prototype,"getNodeOutgoingEdge",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"getNodeOutgoingEdge"),De.prototype),mt(De.prototype,"getNodeIncomingNode",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"getNodeIncomingNode"),De.prototype),mt(De.prototype,"getNodeOutgoingNode",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"getNodeOutgoingNode"),De.prototype),mt(De.prototype,"setTheme",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"setTheme"),De.prototype),mt(De.prototype,"resize",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"resize"),De.prototype),mt(De.prototype,"clearData",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"clearData"),De.prototype),mt(De.prototype,"translateCenter",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"translateCenter"),De.prototype),mt(De.prototype,"fitView",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"fitView"),De.prototype),mt(De.prototype,"openEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"openEdgeAnimation"),De.prototype),mt(De.prototype,"closeEdgeAnimation",[p.k],Object.getOwnPropertyDescriptor(De.prototype,"closeEdgeAnimation"),De.prototype),De),Rg=sd;function Ms(t){return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function ks(){return ks=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ks.apply(this,arguments)}function cd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ns(t,e){return Ns=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ns(t,e)}function Ig(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ua(t);if(e){var o=Ua(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lg(this,n)}}function Lg(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(t)}function Zr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ua(t){return Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ua(t)}function go(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ld,zg=Tr(ad=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ns(i,a)})(u,t);var e,n,r,o=Ig(u);function u(i){var a;(function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")})(this,u),go(Zr(a=o.call(this)),"stepDrag",void 0),go(Zr(a),"stepScrollX",0),go(Zr(a),"stepScrollY",0),go(Zr(a),"onDraging",function(M){var N=M.deltaX,L=M.deltaY;a.setState({isDraging:!0});var Y=a.props.graphModel,de=Y.transformModel;Y.editConfigModel.stopMoveGraph||de.translate(N,L)}),go(Zr(a),"onDragEnd",function(){a.setState({isDraging:!1})}),go(Zr(a),"zoomHandler",function(M){var N=a.props,L=N.graphModel,Y=L.editConfigModel,de=L.transformModel,ge=L.gridSize,Pe=N.graphModel,xe=M.deltaX,Me=M.deltaY;if(Y.stopScrollGraph||M.ctrlKey===!0){if(!Y.stopZoomGraph){M.preventDefault();var Be=Pe.getPointByClient({x:M.clientX,y:M.clientY}).canvasOverlayPosition,Je=Be.x,$e=Be.y;de.zoom(M.deltaY<0,[Je,$e])}}else{if(M.preventDefault(),a.stepScrollX+=xe,a.stepScrollY+=Me,Math.abs(a.stepScrollX)>=ge){var at=a.stepScrollX%ge,Ot=a.stepScrollX-at;de.translate(-Ot*de.SCALE_X,0),a.stepScrollX=at}if(Math.abs(a.stepScrollY)>=ge){var Dt=a.stepScrollY%ge,pt=a.stepScrollY-Dt;de.translate(0,-pt*de.SCALE_Y),a.stepScrollY=Dt}}}),go(Zr(a),"clickHandler",function(M){if(M.target.getAttribute("name")==="canvas-overlay"){var N=a.props.graphModel;N.selectElements.size>0&&N.clearSelectElements(),N.eventCenter.emit(Pt.BLANK_CLICK,{e:M})}}),go(Zr(a),"handleContextMenu",function(M){if(M.target.getAttribute("name")==="canvas-overlay"){M.preventDefault();var N=a.props.graphModel,L=N.getPointByClient({x:M.clientX,y:M.clientY});N.eventCenter.emit(Pt.BLANK_CONTEXTMENU,{e:M,position:L})}}),go(Zr(a),"mouseDownHandler",function(M){var N=a.props.graphModel,L=N.eventCenter,Y=N.editConfigModel,de=N.transformModel.SCALE_X,ge=N.gridSize,Pe=M.target,xe=!Y.adjustEdge&&!Y.adjustNodePosition;(Pe.getAttribute("name")==="canvas-overlay"||xe)&&(Y.stopMoveGraph?L.emit(Pt.BLANK_MOUSEDOWN,{e:M}):(a.stepDrag.setStep(ge*de),a.stepDrag.handleMouseDown(M)),a.clickHandler(M))});var f=i.graphModel,g=f.gridSize,O=f.eventCenter;return a.stepDrag=new si({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:g,eventType:"BLANK",isStopPropagation:!1,eventCenter:O,model:null}),a.state={isDraging:!1},a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props,f=a.children,g=a.dnd,O=this.state.isDraging;return Object(fe.g)("svg",ks({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:O?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},g.eventMap()),Object(fe.g)("g",{transform:i},f))}}])&&cd(e.prototype,n),r&&cd(e,r),u}(fe.a))||ad;function As(t){return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function Bg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ds(t,e){return Ds=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ds(t,e)}function Hg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Va(t);if(e){var o=Va(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fg(this,n)}}function Fg(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pd(t)}function pd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Va(t){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Va(t)}function Gg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xg=Tr(ld=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ds(i,a)})(u,t);var e,n,r,o=Hg(u);function u(){var i;Bg(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Gg(pd(i=o.call.apply(o,[this].concat(f))),"setToolOverlayRef",function(O){var M=i.props.tool.getInstance();M.components.forEach(function(N){return N(M,O)}),M.components=[]}),i}return e=u,(n=[{key:"getTools",value:function(){var i=this.props,a=i.tool,f=i.graphModel,g=a.getTools().map(function(O){return Object(fe.g)(O,{graphModel:f,logicFlow:a.instance})});return a.components=g,g}},{key:"render",value:function(){return Object(fe.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&fd(e.prototype,n),r&&fd(e,r),u}(fe.a))||ld;function Ts(t){return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function Ug(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cs(t,e){return Cs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cs(t,e)}function Vg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ya(t);if(e){var o=Ya(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yg(this,n)}}function Yg(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ya(t){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ya(t)}var hd,Wg=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Cs(i,a)})(u,t);var e,n,r,o=Vg(u);function u(){return Ug(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.background;return Object(fe.g)("div",{className:"lf-background"},Object(fe.g)("div",{style:i,className:"lf-background-area"}))}}])&&dd(e.prototype,n),r&&dd(e,r),u}(fe.a);function Rs(t){return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function Zg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Is(t,e){return Is=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Is(t,e)}function Kg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wa(t);if(e){var o=Wa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $g(this,n)}}function $g(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vd(t)}function vd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wa(t){return Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wa(t)}function Jg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gd=Tr(hd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Is(i,a)})(u,t);var e,n,r,o=Kg(u);function u(){var i;Zg(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Jg(vd(i=o.call.apply(o,[this].concat(f))),"id",ui()),i}return e=u,(n=[{key:"renderDot",value:function(){var i=this.props,a=i.config,f=a.color,g=a.thickness,O=g===void 0?2:g,M=i.size,N=i.visible,L=Math.min(Math.max(2,O),M/2),Y=1;return N||(Y=0),Object(fe.g)("rect",{width:L,height:L,rx:L/2,ry:L/2,fill:f,opacity:Y})}},{key:"renderMesh",value:function(){var i=this.props,a=i.config,f=a.color,g=a.thickness,O=g===void 0?1:g,M=i.size,N=i.visible,L=Math.min(Math.max(1,O),M/2),Y="M ".concat(M," 0 H0 M0 0 V0 ").concat(M),de=1;return N||(de=0),Object(fe.g)("path",{d:Y,stroke:f,strokeWidth:L,opacity:de})}},{key:"render",value:function(){var i=this.props,a=i.type,f=i.size,g=i.graphModel.transformModel,O=[g.SCALE_X,g.SKEW_Y,g.SKEW_X,g.SCALE_Y,g.TRANSLATE_X,g.TRANSLATE_Y].join(","),M="matrix(".concat(O,")");return Object(fe.g)("div",{className:"lf-grid"},Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(fe.g)("defs",null,Object(fe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:M,x:"0",y:"0",width:f,height:f},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(fe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&yd(e.prototype,n),r&&yd(e,r),u}(fe.a))||hd;gd.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},s(52);function Ls(t){return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function Qg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return md(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return md(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function md(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bd,ci=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=Qg(n,2),o=r[0],u=r[1];(o==="style"||Ls(u)!=="object")&&(e[o]=u)}),Object(fe.g)("line",e)};function zs(t){return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function _d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_d(Object(n),!0).forEach(function(r){qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function em(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bs(t,e){return Bs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bs(t,e)}function tm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ka(t);if(e){var o=Ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ka(t){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ka(t)}var wd,rm=Tr(bd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Bs(i,a)})(u,t);var e,n,r,o=tm(u);function u(){return em(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,a=i.position,f=i.isShowHorizontal,g=i.isShowVertical,O=i.getStyle(),M=a.x,N=M===void 0?0:M,L=a.y,Y=L===void 0?0:L,de=Za(Za({x1:-1e5,y1:Y,x2:1e5,y2:Y},O),{},{stroke:f?O.stroke:"none"}),ge=Za(Za({x1:N,y1:-1e5,x2:N,y2:1e5},O),{},{stroke:g?O.stroke:"none"});return Object(fe.g)("g",{className:"lf-snapline"},Object(fe.g)(ci,de),Object(fe.g)(ci,ge))}}])&&Od(e.prototype,n),r&&Od(e,r),u}(fe.a))||bd;function Hs(t){return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function om(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lo(t){var e=t.x,n=t.y,r=t.width,o=t.height,u=t.className,i=t.radius,a=e-r/2,f=n-o/2,g={};return Object.entries(t).forEach(function(O){var M=om(O,2),N=M[0],L=M[1];Hs(L)!=="object"&&(g[N]=L)}),g.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",i&&(g.rx=i,g.ry=i),g.x=a,g.y=f,Object(fe.g)("rect",g)}function Fs(t){return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function Li(){return Li=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Li.apply(this,arguments)}function Ed(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ed(Object(n),!0).forEach(function(r){im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ed(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function im(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function am(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gs(t,e){return Gs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gs(t,e)}function um(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$a(t);if(e){var o=$a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $a(t){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$a(t)}Lo.defaultProps={className:"",radius:""};var Pd,cm=Tr(wd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Gs(i,a)})(u,t);var e,n,r,o=um(u);function u(){return am(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,a=i.nodes,f=i.editConfigModel,g=f.hoverOutline,O=f.nodeSelectedOutline,M=[];return a.forEach(function(N){if(N.isHovered||N.isSelected){var L=N.isHovered,Y=N.isSelected,de=N.x,ge=N.y,Pe=N.width,xe=N.height;if(O&&Y||g&&L){var Me=N.getOutlineStyle(),Be={};if(Object.keys(Me).forEach(function($e){$e!=="hover"&&(Be[$e]=Me[$e])}),L){var Je=Me.hover;Be=Sd(Sd({},Be),Je)}M.push(Object(fe.g)(Lo,Li({className:"lf-outline-node",x:de,y:ge,width:Pe+10,height:xe+10},Be)))}}}),M}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,a=i.edges,f=i.editConfigModel,g=f.edgeSelectedOutline,O=f.hoverOutline,M=[],N=0;N<a.length;N++){var L=a[N];(g&&L.isSelected||O&&L.isHovered)&&(L.modelType===It.LINE_EDGE?M.push(this.getLineOutline(L)):L.modelType===It.POLYLINE_EDGE?M.push(this.getPolylineOutline(L)):L.modelType===It.BEZIER_EDGE&&M.push(this.getBezierOutline(L)))}return M}},{key:"getLineOutline",value:function(i){var a=i.startPoint,f=i.endPoint,g=(a.x+f.x)/2,O=(a.y+f.y)/2,M=Math.abs(a.x-f.x)+10,N=Math.abs(a.y-f.y)+10,L=i.getOutlineStyle();return Object(fe.g)(Lo,Li({className:"lf-outline-edge",x:g,y:O,width:M,height:N},L))}},{key:"getPolylineOutline",value:function(i){var a=i.points,f=Ci(a),g=ya(f,8),O=g.x,M=g.y,N=g.width,L=g.height,Y=i.getOutlineStyle();return Object(fe.g)(Lo,Li({className:"lf-outline",x:O,y:M,width:N,height:L},Y))}},{key:"getBezierOutline",value:function(i){var a=i.path,f=Ha(a),g=ya(f,8),O=g.x,M=g.y,N=g.width,L=g.height,Y=i.getOutlineStyle();return Object(fe.g)(Lo,Li({className:"lf-outline",x:O,y:M,width:N,height:L},Y))}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&jd(e.prototype,n),r&&jd(e,r),u}(fe.a))||wd;function Xs(t){return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function lm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Md(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Md(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Md(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ga(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.r,i=u===void 0?4:u,a=t.className,f={cx:n,cy:o,r:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(g){var O=lm(g,2),M=O[0],N=O[1];Xs(N)!=="object"&&(f[M]=N)}),f.className=a?"lf-basic-shape ".concat(a):"lf-basic-shape",Object(fe.g)("circle",f)}function Us(t){return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function fm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return kd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return kd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ma(){return ma=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function Nd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ad(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dd(t,e,n){return e&&Ad(t.prototype,e),n&&Ad(t,n),t}function Td(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vs(t,e)}function Vs(t,e){return Vs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vs(t,e)}function Cd(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qa(t);if(e){var o=Qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pm(this,n)}}function pm(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ja(t)}function Ja(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qa(t){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qa(t)}function Ys(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rd,Id=function(t){Td(n,t);var e=Cd(n);function n(){var r;return Nd(this,n),Ys(Ja(r=e.call(this)),"dragHandler",void 0),Ys(Ja(r),"onDraging",function(o){var u=o.event,i=r.props,a=i.graphModel,f=i.bezierModel,g=i.type,O=a.getPointByClient({x:u.clientX,y:u.clientY}).canvasOverlayPosition,M=O.x,N=O.y;f.updateAdjustAnchor({x:M,y:N},g)}),Ys(Ja(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new si({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return Dd(n,[{key:"render",value:function(){var r=this,o=this.props.position,u=o.x,i=o.y,a=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(fe.g)(ga,ma({className:"lf-bezier-adjust-anchor",x:u,y:i},a,{onMouseDown:function(f){r.dragHandler.handleMouseDown(f)}}))}}]),n}(fe.a),dm=Tr(Pd=function(t){Td(n,t);var e=Cd(n);function n(){return Nd(this,n),e.apply(this,arguments)}return Dd(n,[{key:"getBezierAdjust",value:function(r,o){var u=r.path,i=r.id,a=fm(Ha(u),4),f=a[0],g=a[1],O=a[2],M=a[3],N=r.getEdgeStyle().adjustLine,L=[];return L.push(Object(fe.g)(ci,ma({x1:f.x,y1:f.y,x2:g.x,y2:g.y},N))),L.push(Object(fe.g)(Id,{position:g,bezierModel:r,graphModel:o,key:"".concat(i,"_ePre"),type:"sNext"})),L.push(Object(fe.g)(ci,ma({x1:M.x,y1:M.y,x2:O.x,y2:O.y},N))),L.push(Object(fe.g)(Id,{position:O,bezierModel:r,graphModel:o,key:"".concat(i,"_sNext"),type:"ePre"})),L}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,o=r.edges,u=[],i=0;i<o.length;i++){var a=o[i];a.isSelected&&a.modelType===It.BEZIER_EDGE&&a.draggable&&u.push(this.getBezierAdjust(a,r))}return u}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(fe.a))||Pd;function Ws(t){return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ld(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zs(t,e){return Zs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zs(t,e)}function ym(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qa(t);if(e){var o=qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vm(this,n)}}function vm(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function qa(t){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qa(t)}var zd,gm=Tr(Rd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Zs(i,a)})(u,t);var e,n,r,o=ym(u);function u(){return hm(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props.children;return Object(fe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(fe.g)("g",{transform:i},a))}}])&&Ld(e.prototype,n),r&&Ld(e,r),u}(fe.a))||Rd;function Ks(t){return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function $s(){return $s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(this,arguments)}function mm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Js(t,e){return Js=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Js(t,e)}function bm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=eu(t);if(e){var o=eu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function eu(t){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eu(t)}var Om=Tr(zd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Js(i,a)})(u,t);var e,n,r,o=bm(u);function u(){return mm(this,u),o.apply(this,arguments)}return e=u,n=[{key:"getComponent",value:function(i,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",g=this.props.getView,O=g(i.type);return Object(fe.g)(O,{key:i.id,model:i,graphModel:a,overlay:f})}},{key:"render",value:function(){var i=this,a=this.props,f=a.graphModel,g=a.tool,O=a.options,M=a.dnd,N=a.snaplineModel,L={};O.width&&(L.width="".concat(f.width,"px")),O.height&&(L.height="".concat(f.height,"px"));var Y=f.fakerNode,de=f.editConfigModel.adjustEdge;return Object(fe.g)("div",{className:"lf-graph",style:L},Object(fe.g)(zg,{graphModel:f,dnd:M},Object(fe.g)("g",{className:"lf-base"},Ni(f.sortElements,function(ge){return i.getComponent(ge,f)})),Y?this.getComponent(Y,f):""),Object(fe.g)(gm,{graphModel:f},Object(fe.g)(cm,{graphModel:f}),de?Object(fe.g)(dm,{graphModel:f}):"",O.isSilentMode||O.snapline===!1?"":Object(fe.g)(rm,{snaplineModel:N})),Object(fe.g)(Xg,{graphModel:f,tool:g}),O.background&&Object(fe.g)(Wg,{background:O.background}),O.grid&&Object(fe.g)(gd,$s({},O.grid,{graphModel:f})))}}],n&&Bd(e.prototype,n),r&&Bd(e,r),u}(fe.a))||zd,wm=Om;function Hd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hd(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xm=function(){function t(o){var u=this;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),mo(this,"nodeConfig",void 0),mo(this,"lf",void 0),mo(this,"fakerNode",void 0),mo(this,"stopDrag",function(){u.nodeConfig=null,window.document.removeEventListener("mouseup",u.stopDrag)}),mo(this,"dragEnter",function(a){u.nodeConfig&&!u.fakerNode&&(u.fakerNode=u.lf.createFakerNode(tu(tu({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY}))))}),mo(this,"onDragOver",function(a){if(a.preventDefault(),u.fakerNode){var f=u.clientToLocalPoint({x:a.clientX,y:a.clientY}),g=f.x,O=f.y;u.fakerNode.moveTo(g,O);var M=u.fakerNode.getData();u.lf.setNodeSnapLine(M),u.lf.graphModel.eventCenter.emit(Pt.NODE_DND_DRAG,{data:M})}return!1}),mo(this,"onDragLeave",function(){u.fakerNode&&(u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)}),mo(this,"onDrop",function(a){if(u.lf.graphModel&&a&&u.nodeConfig){var f=u.lf.addNode(tu(tu({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY})));a.preventDefault(),a.stopPropagation(),u.nodeConfig=null,u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null;var g=f.getData();u.lf.graphModel.eventCenter.emit(Pt.NODE_DND_ADD,{data:g})}});var i=o.lf;this.lf=i}var e,n,r;return e=t,(n=[{key:"clientToLocalPoint",value:function(o){var u=o.x,i=o.y,a=ka(this.lf.options,["grid","size"]),f=this.lf.graphModel.getPointByClient({x:u,y:i}).canvasOverlayPosition,g=f.x,O=f.y;return{x:Di(g,a),y:Di(O,a)}}},{key:"startDrag",value:function(o){this.nodeConfig=o,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Fd(e.prototype,n),r&&Fd(e,r),t}();function Gd(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(t.grid=et({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),et({},Ud,t)}var Gt,Xd,Ud={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Qs(t){return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qs(t)}function qs(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Vd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yd(Object(n),!0).forEach(function(r){Zd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Em(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Sm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ba(){return ba=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=jm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ba.apply(this,arguments)}function jm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=zo(t))!==null;);return t}function ec(t,e){return ec=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ec(t,e)}function Pm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zo(t);if(e){var o=zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mm(this,n)}}function Mm(t,e){if(e&&(Qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ru(t)}function ru(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zo(t){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zo(t)}function Zd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pr(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var tc=(Gt=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ec(i,a)})(u,t);var e,n,r,o=Pm(u);function u(){var i;Sm(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Zd(ru(i=o.call.apply(o,[this].concat(f))),"modelType",It.BEZIER_EDGE),Em(ru(i),"path",Xd,ru(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=100,ba(zo(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return nu(nu({},ba(zo(u.prototype),"getEdgeStyle",this).call(this)),un(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,a=0;return this.pointsList.forEach(function(f){var g=f.x,O=f.y;i+=g,a+=O}),{x:i/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=ba(zo(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return nu(nu({},i),{},{pointsList:a})}},{key:"getControls",value:function(){var i=this.startPoint,a=this.endPoint;return Hp({start:i,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var a=qs(i,4),f=a[0],g=a[1],O=a[2],M=a[3];return"M ".concat(f.x," ").concat(f.y,`
    C `).concat(g.x," ").concat(g.y,`,
    `).concat(O.x," ").concat(O.y,`,
    `).concat(M.x," ").concat(M.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),a=i.sNext,f=i.ePre;this.updatePath(a,f)}},{key:"updatePath",value:function(i,a){var f={x:this.startPoint.x,y:this.startPoint.y},g={x:this.endPoint.x,y:this.endPoint.y};if(!i||!a){var O=this.getControls();i=O.sNext,a=O.ePre}this.pointsList=[f,i,a,g],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a;var f=qs(this.pointsList,3),g=f[1],O=f[2];g.x+=i,g.y+=a,this.updatePath(g,O)}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a;var f=qs(this.pointsList,3),g=f[1],O=f[2];O.x+=i,O.y+=a,this.updatePath(g,O)}},{key:"updateAdjustAnchor",value:function(i,a){a==="sNext"?this.pointsList[1]=i:a==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,g=i.sourceNode,O=i.targetNode,M=Hp({start:a,end:f,sourceNode:g,targetNode:O,offset:this.offset}),N=M.sNext,L=M.ePre;this.pointsList=[a,N,L,f],this.initPoints()}}])&&Wd(e.prototype,n),r&&Wd(e,r),u}(fs),Xd=Pr(Gt.prototype,"path",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pr(Gt.prototype,"initPoints",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"initPoints"),Gt.prototype),Pr(Gt.prototype,"updatePoints",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updatePoints"),Gt.prototype),Pr(Gt.prototype,"updateStartPoint",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateStartPoint"),Gt.prototype),Pr(Gt.prototype,"updateEndPoint",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateEndPoint"),Gt.prototype),Pr(Gt.prototype,"moveStartPoint",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"moveStartPoint"),Gt.prototype),Pr(Gt.prototype,"moveEndPoint",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"moveEndPoint"),Gt.prototype),Pr(Gt.prototype,"updateAdjustAnchor",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateAdjustAnchor"),Gt.prototype),Pr(Gt.prototype,"getAdjustStart",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"getAdjustStart"),Gt.prototype),Pr(Gt.prototype,"getAdjustEnd",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"getAdjustEnd"),Gt.prototype),Pr(Gt.prototype,"updateAfterAdjustStartAndEnd",[p.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateAfterAdjustStartAndEnd"),Gt.prototype),Gt),nt,Kd,$d,Jd,Qd,qd,eh,th,nh,rh,oh,ih,ah,uh,sh,ch,lh,fh,ph,km=function(t){return t==null};function nc(t){return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Nm(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(f,g){if(!!f){if(typeof f=="string")return dh(f,g);var O=Object.prototype.toString.call(f).slice(8,-1);if(O==="Object"&&f.constructor&&(O=f.constructor.name),O==="Map"||O==="Set")return Array.from(f);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return dh(f,g)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return i=f.done,f},e:function(f){a=!0,u=f},f:function(){try{i||n.return==null||n.return()}finally{if(a)throw u}}}}function dh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hh(Object(n),!0).forEach(function(r){cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var bo,vh,_o=(nt=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),cr(this,"id",ui()),Sn(this,"type",Kd,this),Sn(this,"x",$d,this),Sn(this,"y",Jd,this),Sn(this,"text",Qd,this),Sn(this,"properties",qd,this),Sn(this,"_width",eh,this),Sn(this,"_height",th,this),Sn(this,"anchorsOffset",nh,this),Sn(this,"isSelected",rh,this),Sn(this,"isHovered",oh,this),Sn(this,"isDragging",ih,this),Sn(this,"isHitable",ah,this),Sn(this,"draggable",uh,this),Sn(this,"visible",sh,this),cr(this,"graphModel",void 0),Sn(this,"zIndex",ch,this),Sn(this,"state",lh,this),Sn(this,"autoToFront",fh,this),Sn(this,"style",ph,this),cr(this,"BaseType",vn.NODE),cr(this,"modelType",It.NODE),cr(this,"additionStateData",void 0),cr(this,"targetRules",[]),cr(this,"sourceRules",[]),cr(this,"moveRules",[]),cr(this,"hasSetTargetRules",!1),cr(this,"hasSetSourceRules",!1),this.graphModel=u,this.initNodeData(o),this.setAttributes()}var e,n,r;return e=t,n=[{key:"width",get:function(){return this._width},set:function(o){this._width=o}},{key:"height",get:function(){return this._height},set:function(o){this._height=o}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}this.formatText(o),et(this,function(f){return ca(f,["id","type","x","y","text","properties"])}(o)),this.graphModel.overlapMode===ur.INCREASE&&(this.zIndex=o.zIndex||cs())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(o){o.text||(o.text={value:"",x:o.x,y:o.y,draggable:!1,editable:!0}),o.text&&typeof o.text=="string"?o.text={value:o.text,x:o.x,y:o.y,draggable:!1,editable:!0}:o.text&&o.text.editable===void 0&&(o.text.editable=!0)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f=this.properties;Object(p.x)(f)&&(f=Object(p.I)(f));var g={id:this.id,type:this.type,x:this.x,y:this.y,properties:f};return this.graphModel.overlapMode===ur.INCREASE&&(g.zIndex=this.zIndex),a&&(g.text={x:u,y:i,value:a}),g}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(p.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Yn(Yn({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.nodeText;return un(o)}},{key:"getAnchorStyle",value:function(o){var u=this.graphModel.theme.anchor;return un(u)}},{key:"getAnchorLineStyle",value:function(){var o=this.graphModel.theme.anchorLine;return un(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return un(o)}},{key:"isAllowConnectedAsSource",value:function(o,u,i){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var f,g=!0,O=0;O<a.length;O++){var M=a[O];if(!M.validate.call(this,this,o,u,i)){g=!1,f=M.message;break}}return{isAllPass:g,msg:f}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(o,u,i){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var f,g=!0,O=0;O<a.length;O++){var M=a[O];if(!M.validate.call(this,o,this,u,i)){g=!1,f=M.message;break}}return{isAllPass:g,msg:f}}},{key:"isAllowMoveNode",value:function(o,u){var i,a=!0,f=!0,g=Nm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(g.s();!(i=g.n()).done;){var O=(0,i.value)(this,o,u);if(!O)return!1;if(nc(O)==="object"){var M=O;if(M.x===!1&&M.y===!1)return!1;a=a&&M.x,f=f&&M.y}}}catch(N){g.e(N)}finally{g.f()}return{x:a,y:f}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var o=this.anchorsOffset,u=this.id,i=this.x,a=this.y;return o&&o.length>0?o.map(function(f,g){return f.length?(f=f,{id:"".concat(u,"_").concat(g),x:i+f[0],y:a+f[1]}):Yn(Yn({},f=f),{},{x:i+f.x,y:a+f.y,id:f.id||"".concat(u,"_").concat(g)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(o){if(!km(o))for(var u=0;u<this.anchors.length;u++){var i=this.anchors[u];if(i.id===o)return i}}},{key:"addNodeMoveRules",value:function(o){this.moveRules.includes(o)||this.moveRules.push(o)}},{key:"move",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=!1,f=!1;if(i)a=!0,f=!0;else{var g=this.isAllowMoveNode(o,u);typeof g=="boolean"?(a=g,f=g):(a=g.x,f=g.y)}if(a){var O=this.x+o;this.x=O,this.text&&this.moveText(o,0)}if(f){var M=this.y+u;this.y=M,this.text&&this.moveText(0,u)}return a||f}},{key:"moveTo",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=o-this.x,f=u-this.y;return!(!i&&!this.isAllowMoveNode(a,f)||(this.text&&this.text&&this.moveText(a,f),this.x=o,this.y=u,0))}},{key:"moveText",value:function(o,u){var i=this.text,a=i.x,f=i.y,g=i.value,O=i.draggable,M=i.editable;this.text={value:g,editable:M,draggable:O,x:a+o,y:f+u}}},{key:"updateText",value:function(o){this.text=Yn(Yn({},this.text),{},{value:o})}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"setProperty",value:function(o,u){this.properties=Yn(Yn({},this.properties),{},cr({},o,Bn(u))),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=Yn(Yn({},this.properties),Bn(o)),this.setAttributes()}},{key:"setStyle",value:function(o,u){this.style=Yn(Yn({},this.style),{},cr({},o,Bn(u)))}},{key:"setStyles",value:function(o){this.style=Yn(Yn({},this.style),Bn(o))}},{key:"updateStyles",value:function(o){this.style=Yn({},Bn(o))}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=o}},{key:"updateAttributes",value:function(o){et(this,o)}}],n&&yh(e.prototype,n),r&&yh(e,r),t}(),Kd=zt(nt.prototype,"type",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$d=zt(nt.prototype,"x",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jd=zt(nt.prototype,"y",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qd=zt(nt.prototype,"text",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),qd=zt(nt.prototype,"properties",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),eh=zt(nt.prototype,"_width",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),th=zt(nt.prototype,"_height",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),nh=zt(nt.prototype,"anchorsOffset",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rh=zt(nt.prototype,"isSelected",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oh=zt(nt.prototype,"isHovered",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ih=zt(nt.prototype,"isDragging",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ah=zt(nt.prototype,"isHitable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=zt(nt.prototype,"draggable",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sh=zt(nt.prototype,"visible",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ch=zt(nt.prototype,"zIndex",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),lh=zt(nt.prototype,"state",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fh=zt(nt.prototype,"autoToFront",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ph=zt(nt.prototype,"style",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zt(nt.prototype,"incoming",[p.m],Object.getOwnPropertyDescriptor(nt.prototype,"incoming"),nt.prototype),zt(nt.prototype,"outgoing",[p.m],Object.getOwnPropertyDescriptor(nt.prototype,"outgoing"),nt.prototype),zt(nt.prototype,"addNodeMoveRules",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"addNodeMoveRules"),nt.prototype),zt(nt.prototype,"move",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"move"),nt.prototype),zt(nt.prototype,"moveTo",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"moveTo"),nt.prototype),zt(nt.prototype,"moveText",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"moveText"),nt.prototype),zt(nt.prototype,"updateText",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"updateText"),nt.prototype),zt(nt.prototype,"setSelected",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"setSelected"),nt.prototype),zt(nt.prototype,"setHovered",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"setHovered"),nt.prototype),zt(nt.prototype,"setHitable",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"setHitable"),nt.prototype),zt(nt.prototype,"setElementState",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"setElementState"),nt.prototype),zt(nt.prototype,"setProperty",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"setProperty"),nt.prototype),zt(nt.prototype,"setProperties",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"setProperties"),nt.prototype),zt(nt.prototype,"setStyle",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"setStyle"),nt.prototype),zt(nt.prototype,"setStyles",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"setStyles"),nt.prototype),zt(nt.prototype,"updateStyles",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"updateStyles"),nt.prototype),zt(nt.prototype,"setZIndex",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"setZIndex"),nt.prototype),zt(nt.prototype,"updateAttributes",[p.k],Object.getOwnPropertyDescriptor(nt.prototype,"updateAttributes"),nt.prototype),nt);function rc(t){return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function gh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gh(Object(n),!0).forEach(function(r){_h(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Am(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Dm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oc(){return oc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Tm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},oc.apply(this,arguments)}function Tm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=zi(t))!==null;);return t}function ic(t,e){return ic=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ic(t,e)}function Cm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zi(t);if(e){var o=zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rm(this,n)}}function Rm(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ou(t)}function ou(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zi(t){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zi(t)}function _h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ac(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Hn,Oh,wh,uc=(bo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ic(i,a)})(u,t);var e,n,r,o=Cm(u);function u(){var i;Dm(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return _h(ou(i=o.call.apply(o,[this].concat(f))),"modelType",It.CIRCLE_NODE),Am(ou(i),"r",vh,ou(i)),i}return e=u,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=oc(zi(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return mh(mh({},i),un(a))}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.r;return[{x:i,y:a-f,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+f,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&bh(e.prototype,n),r&&bh(e,r),u}(_o),vh=ac(bo.prototype,"r",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ac(bo.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(bo.prototype,"width"),bo.prototype),ac(bo.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(bo.prototype,"height"),bo.prototype),bo);s(127);function sc(t){return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function cc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eh(Object(n),!0).forEach(function(r){Mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Im(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lc(){return lc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Lm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},lc.apply(this,arguments)}function Lm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Hi(t))!==null;);return t}function fc(t,e){return fc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},fc(t,e)}function zm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hi(t);if(e){var o=Hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bi(t)}function Bi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hi(t){return Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hi(t)}function Mh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fi(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Kr,kh,Nh,pc=(Hn=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&fc(i,a)})(u,t);var e,n,r,o=zm(u);function u(){var i;Im(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Mh(Bi(i=o.call.apply(o,[this].concat(f))),"modelType",It.DIAMOND_NODE),jh(Bi(i),"rx",Oh,Bi(i)),jh(Bi(i),"ry",wh,Bi(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=lc(Hi(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Sh(Sh({},i),un(a))}},{key:"points",get:function(){var i=this.x,a=this.y,f=this.rx,g=this.ry;return[[i,a-g],[i+f,a],[i,a+g],[i-f,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var g=cc(f,1)[0];g<i&&(i=g),g>a&&(a=g)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var g=cc(f,2)[1];g<i&&(i=g),g>a&&(a=g)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(a,f){var g=cc(a,2);return{x:g[0],y:g[1],id:"".concat(i.id,"_").concat(f)}})}}])&&Ph(e.prototype,n),r&&Ph(e,r),u}(_o),Oh=Fi(Hn.prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),wh=Fi(Hn.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Fi(Hn.prototype,"points",[p.m],Object.getOwnPropertyDescriptor(Hn.prototype,"points"),Hn.prototype),Fi(Hn.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(Hn.prototype,"pointsPosition"),Hn.prototype),Fi(Hn.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Hn.prototype,"width"),Hn.prototype),Fi(Hn.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Hn.prototype,"height"),Hn.prototype),Hn);function dc(t){return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function Ah(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ah(Object(n),!0).forEach(function(r){Rh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Th(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hc(){return hc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Fm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},hc.apply(this,arguments)}function Fm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Xi(t))!==null;);return t}function yc(t,e){return yc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yc(t,e)}function Gm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xi(t);if(e){var o=Xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xm(this,n)}}function Xm(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gi(t)}function Gi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xi(t)}function Rh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iu(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var mr,Ih,vc=(Kr=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&yc(i,a)})(u,t);var e,n,r,o=Gm(u);function u(){var i;Hm(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Rh(Gi(i=o.call.apply(o,[this].concat(f))),"modelType",It.ELLIPSE_NODE),Th(Gi(i),"rx",kh,Gi(i)),Th(Gi(i),"ry",Nh,Gi(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=hc(Xi(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Dh(Dh({},i),un(a))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.rx,g=this.ry;return[{x:i,y:a-g,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+g,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&Ch(e.prototype,n),r&&Ch(e,r),u}(_o),kh=iu(Kr.prototype,"rx",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Nh=iu(Kr.prototype,"ry",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),iu(Kr.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Kr.prototype,"width"),Kr.prototype),iu(Kr.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Kr.prototype,"height"),Kr.prototype),Kr);function gc(t){return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function mc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Lh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Lh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zh(Object(n),!0).forEach(function(r){Fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Um(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Vm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bc(){return bc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Ym(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},bc.apply(this,arguments)}function Ym(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ui(t))!==null;);return t}function _c(t,e){return _c=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_c(t,e)}function Wm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ui(t);if(e){var o=Ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zm(this,n)}}function Zm(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return au(t)}function au(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ui(t){return Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ui(t)}function Fh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uu(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Oc,Gh,wc=(mr=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&_c(i,a)})(u,t);var e,n,r,o=Wm(u);function u(){var i;Vm(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Fh(au(i=o.call.apply(o,[this].concat(f))),"modelType",It.POLYGON_NODE),Um(au(i),"points",Ih,au(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=bc(Ui(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return Bh(Bh({},i),un(a))}},{key:"pointsPosition",get:function(){var i=this.x,a=this.y,f=this.width,g=this.height;return this.points.map(function(O){return{x:O[0]+i-f/2,y:O[1]+a-g/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var g=mc(f,1)[0];g<i&&(i=g),g>a&&(a=g)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var g=mc(f,2)[1];g<i&&(i=g),g>a&&(a=g)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this,a=this.x,f=this.y,g=this.width,O=this.height;return this.points.map(function(M,N){var L=mc(M,2),Y=L[0],de=L[1];return{x:a+Y-g/2,y:f+de-O/2,id:"".concat(i.id,"_").concat(N)}})}}])&&Hh(e.prototype,n),r&&Hh(e,r),u}(_o),Ih=uu(mr.prototype,"points",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),uu(mr.prototype,"pointsPosition",[p.m],Object.getOwnPropertyDescriptor(mr.prototype,"pointsPosition"),mr.prototype),uu(mr.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(mr.prototype,"width"),mr.prototype),uu(mr.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(mr.prototype,"height"),mr.prototype),mr);function xc(t){return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Xh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xh(Object(n),!0).forEach(function(r){Yh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Km(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ec(){return Ec=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Jm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ec.apply(this,arguments)}function Jm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Vi(t))!==null;);return t}function Sc(t,e){return Sc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sc(t,e)}function Qm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vi(t);if(e){var o=Vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return su(t)}function su(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vi(t){return Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(t)}function Yh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bo,jc=(Oc=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Sc(i,a)})(u,t);var e,n,r,o=Qm(u);function u(){var i;$m(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Yh(su(i=o.call.apply(o,[this].concat(f))),"modelType",It.RECT_NODE),Km(su(i),"radius",Gh,su(i)),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,g=this.height;return[{x:i,y:a-g/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+g/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=Ec(Vi(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Uh(Uh({},i),un(a))}}])&&Vh(e.prototype,n),r&&Vh(e,r),u}(_o),Gh=function(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}(Oc.prototype,"radius",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oc);function Pc(t){return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wh(Object(n),!0).forEach(function(r){Jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mc(){return Mc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=tb(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Mc.apply(this,arguments)}function tb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Yi(t))!==null;);return t}function kc(t,e){return kc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kc(t,e)}function nb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yi(t);if(e){var o=Yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rb(this,n)}}function rb(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $h(t)}function $h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yi(t)}function Jh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qh(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Nc=(Bo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&kc(i,a)})(u,t);var e,n,r,o=nb(u);function u(){var i;eb(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Jh($h(i=o.call.apply(o,[this].concat(f))),"modelType",It.TEXT_NODE),i}return e=u,(n=[{key:"getTextStyle",value:function(){var i=Mc(Yi(u.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Zh(Zh({},i),un(a))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return ss({rows:i,fontSize:a,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return ss({rows:i,fontSize:a,rowsLength:i.length}).height}}])&&Kh(e.prototype,n),r&&Kh(e,r),u}(_o),Qh(Bo.prototype,"width",[p.m],Object.getOwnPropertyDescriptor(Bo.prototype,"width"),Bo.prototype),Qh(Bo.prototype,"height",[p.m],Object.getOwnPropertyDescriptor(Bo.prototype,"height"),Bo.prototype),Bo);function Ac(t){return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dc(t,e){return Dc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dc(t,e)}function ib(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cu(t);if(e){var o=cu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ab(this,n)}}function ab(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ey(t)}function ey(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cu(t){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cu(t)}function ub(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mr,ty,ny,ry,Tc=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Dc(i,a)})(u,t);var e,n,r,o=ib(u);function u(){var i;ob(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return ub(ey(i=o.call.apply(o,[this].concat(f))),"modelType",It.HTML_NODE),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,g=this.height;return[{x:i,y:a-g/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+g/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}}])&&qh(e.prototype,n),r&&qh(e,r),u}(_o);function oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Cc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function iy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ay(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _a(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var uy=(Mr=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),ay(this,"graphModel",void 0),Cc(this,"isShowHorizontal",ty,this),Cc(this,"isShowVertical",ny,this),Cc(this,"position",ry,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=o}var e,n,r;return e=t,n=[{key:"getStyle",value:function(){return function(o){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?oy(Object(i),!0).forEach(function(a){ay(o,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):oy(Object(i)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(i,a))})}return o}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(o,u){for(var i=o.x,a=o.y,f=!1,g=!1,O=0;O<u.length;O++){var M=u[O];if(M.id!==o.id&&(i===M.x&&(f=!0),a===M.y&&(g=!0),f&&g))break}return{isShowVertical:f,isShowHorizontal:g,position:{x:i,y:a}}}},{key:"getHorizontalSnapline",value:function(o,u){var i,a,f=!1,g=o.id;if(g){var O=this.graphModel.fakerNode;if(O&&O.id===g)a=sr(O);else{var M=this.graphModel.getNodeModelById(g);a=sr(M)}}for(var N=0;N<u.length;N++){var L=u[N];if(L.id!==o.id){var Y=sr(L);if(Y.minY===a.minY||Y.maxY===a.minY){f=!0,i=a.minY;break}if(Y.minY===a.maxY||Y.maxY===a.maxY){f=!0,i=a.maxY;break}}}return et({isShowHorizontal:f,position:{y:i}})}},{key:"getVerticalSnapline",value:function(o,u){var i,a,f=!1,g=o.id;if(g){var O=this.graphModel.fakerNode;if(O&&O.id===g)a=sr(O);else{var M=this.graphModel.getNodeModelById(g);a=sr(M)}}for(var N=0;N<u.length;N++){var L=u[N];if(L.id!==o.id){var Y=sr(L);if(Y.minX===a.minX||Y.maxX===a.minX){f=!0,i=a.minX;break}if(Y.minX===a.maxX||Y.maxX===a.maxX){f=!0,i=a.maxX;break}}}return et({isShowVertical:f,position:{x:i}})}},{key:"getSnapLinePosition",value:function(o,u){var i=this.getCenterSnapLine(o,u),a=i.isShowHorizontal,f=i.isShowVertical;if(!a){var g=this.getHorizontalSnapline(o,u);g.isShowHorizontal&&(i.isShowHorizontal=g.isShowHorizontal,i.position.y=g.position.y)}if(!f){var O=this.getVerticalSnapline(o,u);O.isShowVertical&&(i.isShowVertical=O.isShowVertical,i.position.x=O.position.x)}return i}},{key:"setSnaplineInfo",value:function(o){var u=o.isShowHorizontal,i=o.isShowVertical,a=o.position;this.position=a,this.isShowHorizontal=u,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(o){var u=this.graphModel.nodes,i=this.getSnapLinePosition(o,u);this.setSnaplineInfo(i)}}],n&&iy(e.prototype,n),r&&iy(e,r),t}(),ty=_a(Mr.prototype,"isShowHorizontal",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ny=_a(Mr.prototype,"isShowVertical",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ry=_a(Mr.prototype,"position",[p.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_a(Mr.prototype,"clearSnapline",[p.k],Object.getOwnPropertyDescriptor(Mr.prototype,"clearSnapline"),Mr.prototype),_a(Mr.prototype,"setNodeSnapLine",[p.k],Object.getOwnPropertyDescriptor(Mr.prototype,"setNodeSnapLine"),Mr.prototype),Mr);function Rc(t){return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function Oa(){return Oa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oa.apply(this,arguments)}function sy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sy(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ly(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ly(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ic(t,e){return Ic=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ic(t,e)}function cb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=lu(t);if(e){var o=lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lb(this,n)}}function lb(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $r(t)}function $r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lu(t){return lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lu(t)}function Jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fb=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ic(i,a)})(u,t);var e,n,r,o=cb(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Jr($r(i=o.call(this)),"preTargetNode",void 0),Jr($r(i),"sourceRuleResults",void 0),Jr($r(i),"targetRuleResults",void 0),Jr($r(i),"dragHandler",void 0),Jr($r(i),"t",void 0),Jr($r(i),"onDragStart",function(a){var f=a.event,g=i.props,O=g.anchorData,M=g.nodeModel,N=g.graphModel,L=N.overlapMode;N.selectNodeById(M.id),L!==ur.INCREASE&&M.autoToFront&&N.toFront(M.id),N.eventCenter.emit(Pt.ANCHOR_DRAGSTART,{data:O,e:f,nodeModel:M}),i.setState({startX:O.x,startY:O.y,endX:O.x,endY:O.y})}),Jr($r(i),"onDraging",function(a){var f=a.event,g=i.props,O=g.graphModel,M=g.nodeModel,N=g.anchorData,L=O.transformModel,Y=O.eventCenter,de=O.width,ge=O.height,Pe=O.editConfigModel,xe=f.clientX,Me=f.clientY,Be=O.getPointByClient({x:xe,y:Me}),Je=Be.domOverlayPosition,$e=Je.x,at=Je.y,Ot=Be.canvasOverlayPosition,Dt=Ot.x,pt=Ot.y;i.t&&clearInterval(i.t);var Wt=[];$e<10?Wt=[10,0]:$e+10>de?Wt=[-10,0]:at<10?Wt=[0,10]:at+10>ge&&(Wt=[0,-10]),i.setState({endX:Dt,endY:pt,draging:!0}),i.moveAnchorEnd(Dt,pt),Wt.length>0&&!Pe.stopMoveGraph&&(i.t=setInterval(function(){var an=sb(Wt,2),An=an[0],Dn=an[1];L.translate(An,Dn);var mn=i.state,Cr=mn.endX,to=mn.endY;i.setState({endX:Cr-An,endY:to-Dn}),i.moveAnchorEnd(Cr-An,to-Dn)},50)),Y.emit(Pt.ANCHOR_DRAG,{data:N,e:f,nodeModel:M})}),Jr($r(i),"onDragEnd",function(a){i.t&&clearInterval(i.t),i.checkEnd(a),i.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear()}),Jr($r(i),"checkEnd",function(a){var f=i.props,g=f.graphModel,O=f.nodeModel,M=f.anchorData,N=M.x,L=M.y,Y=M.id,de=g.edgeType,ge=i.state,Pe=ge.endX,xe=ge.endY,Me=ge.draging,Be=Da({x:Pe,y:xe},g);if(i.preTargetNode&&i.preTargetNode.state!==Yt.DEFAULT&&i.preTargetNode.setElementState(Yt.DEFAULT),Me&&Be&&Be.node){var Je=Be.node,$e=Be.anchor.id,at="".concat(O.id,"_").concat(Je.id,"_").concat($e,"_").concat(Y),Ot=i.sourceRuleResults.get(at)||{},Dt=Ot.isAllPass,pt=Ot.msg,Wt=i.targetRuleResults.get(at)||{},an=Wt.isAllPass,An=Wt.msg;if(Dt&&an){Je.setElementState(Yt.DEFAULT);var Dn=g.addEdge({type:de,sourceNodeId:O.id,sourceAnchorId:Y,startPoint:{x:N,y:L},targetNodeId:Be.node.id,targetAnchorId:Be.anchor.id,endPoint:{x:Be.anchor.x,y:Be.anchor.y}}),mn=i.props.anchorData;g.eventCenter.emit(Pt.ANCHOR_DROP,{data:mn,e:a,nodeModel:O,edgeModel:Dn})}else{var Cr=Je.getData();g.eventCenter.emit(Pt.CONNECTION_NOT_ALLOWED,{data:Cr,msg:An||pt})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,draging:!1},i.dragHandler=new si({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"getAnchorShape",value:function(){var i=this.props,a=i.anchorData,f=i.style,g=i.node.getAnchorShape(a);if(g)return g;var O=a.x,M=a.y,N=cy(cy({},f),f.hover);return Object(fe.g)("g",null,Object(fe.g)(ga,Oa({className:"lf-node-anchor-hover"},N,{x:O,y:M})),Object(fe.g)(ga,Oa({className:"lf-node-anchor"},f,{x:O,y:M})))}},{key:"moveAnchorEnd",value:function(i,a){var f=this.props,g=f.graphModel,O=f.nodeModel,M=f.anchorData,N=Da({x:i,y:a},g);if(N){var L=N.node,Y=N.anchor.id;if(this.preTargetNode&&this.preTargetNode!==N.node&&this.preTargetNode.setElementState(Yt.DEFAULT),M.id===Y)return;this.preTargetNode=L;var de="".concat(O.id,"_").concat(L.id,"_").concat(Y,"_").concat(M.id);if(!this.targetRuleResults.has(de)){var ge=N.anchor,Pe=O.isAllowConnectedAsSource(L,M,ge),xe=L.isAllowConnectedAsTarget(O,M,ge);this.sourceRuleResults.set(de,Ta(Pe)),this.targetRuleResults.set(de,Ta(xe))}var Me=this.sourceRuleResults.get(de).isAllPass,Be=this.targetRuleResults.get(de).isAllPass;Me&&Be?L.setElementState(Yt.ALLOW_CONNECT):L.setElementState(Yt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Yt.DEFAULT&&this.preTargetNode.setElementState(Yt.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,a=i.startX,f=i.startY,g=i.endX,O=i.endY;return Yr(a,f,g,O)>10}},{key:"render",value:function(){var i=this,a=this.state,f=a.startX,g=a.startY,O=a.endX,M=a.endY,N=this.props,L=N.anchorData.edgeAddable,Y=N.edgeStyle;return Object(fe.g)("g",{className:"lf-anchor"},Object(fe.g)("g",{onMouseDown:function(de){L!==!1&&i.dragHandler.handleMouseDown(de)}},this.getAnchorShape()),this.isShowLine()&&Object(fe.g)(ci,Oa({x1:f,y1:g,x2:O,y2:M},Y,{"pointer-events":"none"})))}}])&&fy(e.prototype,n),r&&fy(e,r),u}(fe.a);s(63);function py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?py(Object(n),!0).forEach(function(r){db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function db(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lc(t){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function hb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return dy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return dy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hy(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.value,i=t.fontSize,a=t.fill,f=a===void 0?"currentColor":a,g=t.overflowMode,O=g===void 0?"default":g,M=t.textWidth,N=M===void 0?"":M,L=t.model,Y={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:f};if(Object.entries(t).forEach(function(Be){var Je=hb(Be,2),$e=Je[0],at=Je[1];Lc(at)!=="object"&&(Y[$e]=at)}),u){var de=String(u).split(/[\r\n]/g),ge=de.length;if(O!=="default"){var Pe=L.BaseType,xe=L.modelType;if(Pe===vn.NODE&&xe!==It.TEXT_NODE||Pe===vn.EDGE&&N)return function(Be){var Je=Be.value,$e=Be.fontSize,at=Be.model,Ot=Be.fontFamily,Dt=Ot===void 0?"":Ot,pt=Be.lineHeight,Wt=Be.wrapPadding,an=Wt===void 0?"0, 0":Wt,An=Be.overflowMode,Dn=Be.x,mn=Be.y,Cr=at.width,to=at.textHeight,Eo=Be.textWidth||Cr,Pa=String(Je).split(/[\r\n]/g),Lu=Pa.length,zu=hp({rows:Pa,style:{fontSize:"".concat($e,"px"),width:"".concat(Eo,"px"),fontFamily:Dt,lineHeight:pt,padding:an},rowsLength:Lu,className:"lf-get-text-height"}),$i=at.height>zu?at.height:zu;to&&($i=to);var Ji=An==="ellipsis";return Object(fe.g)("g",null,Object(fe.g)("foreignObject",{width:Eo,height:$i,x:Dn-Eo/2,y:mn-$i/2},Object(fe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:$i,width:Eo,padding:an}},Object(fe.g)("div",{className:Ji?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:pb({},Be)},Pa.map(function(Go){return Object(fe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Go)})))))}(t)}if(ge>1){var Me=de.map(function(Be,Je){var $e=(Je-(ge-1)/2)*(i+2);return Object(fe.g)("tspan",{className:"lf-text-tspan",x:n,y:o+$e},Be)});return Object(fe.g)("text",Y,Me)}return Object(fe.g)("text",Y,u)}}function zc(t){return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Bc(){return Bc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}function yb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return yy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return yy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hc(t,e){return Hc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hc(t,e)}function vb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fu(t);if(e){var o=fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gb(this,n)}}function gb(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ho(t)}function Ho(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fu(t){return fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fu(t)}function li(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Hc(i,a)})(u,t);var e,n,r,o=vb(u);function u(i){var a;(function(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")})(this,u),li(Ho(a=o.call(this)),"dragHandler",void 0),li(Ho(a),"sumDeltaX",0),li(Ho(a),"sumDeltaY",0),li(Ho(a),"stepDrag",void 0),li(Ho(a),"onDraging",function(O){var M=O.deltaX,N=O.deltaY,L=a.props,Y=L.model,de=yb(L.graphModel.transformModel.fixDeltaXY(M,N),2),ge=de[0],Pe=de[1];Y.moveText(ge,Pe)}),li(Ho(a),"dblClickHandler",function(){a.props.editable&&a.props.model.setElementState(Yt.TEXT_EDIT)}),li(Ho(a),"mouseDownHandle",function(O){var M=a.props,N=M.draggable,L=M.graphModel.editConfigModel.nodeTextDraggable;(N||L)&&a.stepDrag.handleMouseDown(O)});var f=i.model,g=i.draggable;return a.stepDrag=new si({onDraging:a.onDraging,step:1,model:f,isStopPropagation:g}),a}return e=u,(n=[{key:"getShape",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.text,O=f.editConfigModel,M=g.value,N=g.x,L=g.y,Y=g.editable,de=g.draggable,ge={x:N,y:L,className:"",value:M};Y?ge.className="lf-element-text":de||O.nodeTextDraggable?ge.className="lf-text-draggable":ge.className="lf-text-disabled";var Pe=a.getTextStyle();return Object(fe.g)(hy,Bc({},ge,Pe,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return Object(fe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&vy(e.prototype,n),r&&vy(e,r),u}(fe.a),mb=window.navigator.userAgent.match(/MSIE|Trident/)!==null,wa=new Map,my=function(t){var e=wa.get(t);e&&(window.cancelAnimationFrame(e),wa.delete(t))};function Fc(t){return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function pu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return by(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gc(t,e){return Gc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Gc(t,e)}function bb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=du(t);if(e){var o=du(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _b(this,n)}}function _b(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(t)}function Fn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function du(t){return du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},du(t)}function Wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Gc(i,a)})(u,t);var e,n,r,o=bb(u);function u(i){var a;(function(N,L){if(!(N instanceof L))throw new TypeError("Cannot call a class as a function")})(this,u),Wn(Fn(a=o.call(this)),"t",void 0),Wn(Fn(a),"moveOffset",void 0),Wn(Fn(a),"stepDrag",void 0),Wn(Fn(a),"contextMenuTime",void 0),Wn(Fn(a),"startTime",void 0),Wn(Fn(a),"clickTimer",void 0),Wn(Fn(a),"onDragStart",function(N){var L=N.event,Y=L.clientX,de=L.clientY,ge=a.props,Pe=ge.model,xe=ge.graphModel.getPointByClient({x:Y,y:de}).canvasOverlayPosition,Me=xe.x,Be=xe.y;a.moveOffset={x:Pe.x-Me,y:Pe.y-Be}}),Wn(Fn(a),"onDraging",function(N){var L=N.event,Y=a.props,de=Y.model,ge=Y.graphModel,Pe=ge.editConfigModel,xe=ge.transformModel,Me=ge.width,Be=ge.height,Je=ge.gridSize;de.isDragging=!0;var $e=L.clientX,at=L.clientY,Ot=ge.getPointByClient({x:$e,y:at}).canvasOverlayPosition,Dt=Ot.x,pt=Ot.y,Wt=pu(xe.CanvasPointToHtmlPoint([Dt,pt]),2),an=Wt[0],An=Wt[1];if(!(an<0||An<0||an>Me||An>Be)){Dt+=a.moveOffset.x,pt+=a.moveOffset.y,Dt=Di(Dt,Je),pt=Di(pt,Je);var Dn,mn,Cr,to=pu(xe.CanvasPointToHtmlPoint([Dt-de.width/2,pt-de.height/2]),2),Eo=to[0],Pa=to[1],Lu=pu(xe.CanvasPointToHtmlPoint([Dt+de.width/2,pt+de.height/2]),2),zu=Lu[0],$i=Lu[1],Ji=Math.max(Je,20),Go=[];Eo<0?Go=[Ji,0]:zu>ge.width?Go=[-Ji,0]:Pa<0?Go=[0,Ji]:$i>ge.height&&(Go=[0,-Ji]),a.t&&my(a.t),Go.length>0&&!Pe.stopMoveGraph?a.t=(Dn=function(){var Bu=pu(Go,2),Hu=Bu[0],Ov=Bu[1];xe.translate(Hu,Ov),ge.moveNode(de.id,-Hu/xe.SCALE_X,-Ov/xe.SCALE_X)},mn=ui(),Cr=window.requestAnimationFrame(function Bu(){if(Dn(),wa.get(mn)){var Hu=window.requestAnimationFrame(Bu);wa.set(mn,Hu)}}),wa.set(mn,Cr),mn):ge.moveNode2Coordinate(de.id,Dt,pt)}}),Wn(Fn(a),"onDragEnd",function(){a.t&&my(a.t),a.props.model.isDragging=!1}),Wn(Fn(a),"handleClick",function(N){if(a.startTime&&!(new Date().getTime()-a.startTime>200)){var L=a.props,Y=L.model,de=L.graphModel,ge={data:Y.getData(),e:N,position:de.getPointByClient({x:N.clientX,y:N.clientY})},Pe=N.button===2,xe=N.detail===2;if(!Pe){var Me=de.editConfigModel;de.selectNodeById(Y.id,Ff(N,Me)),a.toFront(),xe?(Me.nodeTextEdit&&Y.text.editable&&(Y.setSelected(!1),de.setElementStateById(Y.id,Yt.TEXT_EDIT)),de.eventCenter.emit(Pt.NODE_DBCLICK,ge)):(de.eventCenter.emit(Pt.ELEMENT_CLICK,ge),de.eventCenter.emit(Pt.NODE_CLICK,ge))}}}),Wn(Fn(a),"handleContextMenu",function(N){N.preventDefault();var L=a.props,Y=L.model,de=L.graphModel,ge=Y.getData(),Pe=de.getPointByClient({x:N.clientX,y:N.clientY});de.setElementStateById(Y.id,Yt.SHOW_MENU,Pe.domOverlayPosition),de.selectNodeById(Y.id),de.eventCenter.emit(Pt.NODE_CONTEXTMENU,{data:ge,e:N,position:Pe}),a.toFront()}),Wn(Fn(a),"handleMouseDown",function(N){var L=a.props,Y=L.model,de=L.graphModel;a.toFront(),a.startTime=new Date().getTime(),de.editConfigModel.adjustNodePosition&&Y.draggable&&a.stepDrag&&a.stepDrag.handleMouseDown(N)}),Wn(Fn(a),"setHoverON",function(N){if(!a.state.isHovered){a.setState({isHovered:!0});var L=a.props,Y=L.model,de=L.graphModel,ge=Y.getData();Y.setHovered(!0),de.eventCenter.emit(Pt.NODE_MOUSEENTER,{data:ge,e:N})}}),Wn(Fn(a),"setHoverOFF",function(N){a.setState({isHovered:!1});var L=a.props,Y=L.model,de=L.graphModel,ge=Y.getData();Y.setHovered(!1),de.eventCenter.emit(Pt.NODE_MOUSELEAVE,{data:ge,e:N})}),Wn(Fn(a),"onMouseOut",function(N){mb&&a.setHoverOFF(N)});var f=i.graphModel,g=f.gridSize,O=f.eventCenter,M=i.model;return a.stepDrag=new si({onDragStart:a.onDragStart,onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:g,eventType:"NODE",isStopPropagation:!1,eventCenter:O,model:M}),a.state={isHovered:!1},a}return e=u,r=[{key:"getModel",value:function(i){return i}}],(n=[{key:"getAnchorShape",value:function(i){return null}},{key:"getAnchors",value:function(){var i=this,a=this.props,f=a.model,g=a.graphModel,O=f.isSelected,M=f.isHitable,N=f.isDragging,L=this.state.isHovered;if(M&&(O||L)&&!N){var Y=f.getAnchorLineStyle();return Ni(f.anchors,function(de,ge){var Pe=f.getAnchorStyle(de);return Object(fe.g)(fb,{anchorData:de,node:i,style:Pe,edgeStyle:Y,anchorIndex:ge,nodeModel:f,graphModel:g,setHoverOFF:i.setHoverOFF})})}return[]}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Yt.TEXT_EDIT)return"";if(a.text){var g=f.editConfigModel,O=!1;return(a.text.draggable||g.nodeTextDraggable)&&(O=!0),Object(fe.g)(gy,{editable:g.nodeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:O})}}},{key:"getStateClassName",value:function(){var i=this.props.model,a=i.state,f=i.isDraging,g=i.isSelected,O="lf-node";switch(a){case Yt.ALLOW_CONNECT:O+=" lf-node-allow";break;case Yt.NOT_ALLOW_CONNECT:O+=" lf-node-not-allow";break;default:O+=" lf-node-default"}return f&&(O+=" lf-isDragging"),g&&(O+=" lf-node-selected"),O}},{key:"toFront",value:function(){var i=this.props,a=i.model,f=i.graphModel;f.overlapMode!==ur.INCREASE&&a.autoToFront&&f.toFront(a.id)}},{key:"render",value:function(){var i,a=this.props,f=a.model,g=a.graphModel,O=g.editConfigModel,M=O.hideAnchors,N=O.adjustNodePosition,L=g.gridSize,Y=g.transformModel.SCALE_X,de=f.isHitable,ge=f.draggable,Pe=Object(fe.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),M?null:this.getAnchors());return de?(N&&ge&&this.stepDrag.setStep(L*Y),i=Object(fe.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Pe)):i=Object(fe.g)("g",{className:this.getStateClassName()},Pe),i}}])&&_y(e.prototype,n),r&&_y(e,r),u}(fe.a);function Xc(t){return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Uc(){return Uc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}function Ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vc(t,e){return Vc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Vc(t,e)}function wb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hu(t);if(e){var o=hu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xb(this,n)}}function xb(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function hu(t){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hu(t)}var Yc=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Vc(i,a)})(u,t);var e,n,r,o=wb(u);function u(){return Ob(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(fe.g)(Lo,Uc({},a,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&Oy(e.prototype,n),r&&Oy(e,r),u}(Oo);function Wc(t){return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Zc(){return Zc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}function Eb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kc(t,e){return Kc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kc(t,e)}function Sb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=yu(t);if(e){var o=yu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function yu(t){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yu(t)}var $c=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Kc(i,a)})(u,t);var e,n,r,o=Sb(u);function u(){return Eb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,g=i.r,O=i.getNodeStyle();return Object(fe.g)(ga,Zc({},O,{x:a,y:f,r:g}))}}])&&wy(e.prototype,n),r&&wy(e,r),u}(Oo);function Jc(t){return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function Pb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ey(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(o){var u=Pb(o,2),i=u[0],a=u[1];Jc(a)!=="object"&&(r[i]=a)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(o){return o.join(",")}).join(" "),Object(fe.g)("polygon",r)}function Qc(t){return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function qc(){return qc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function Mb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function el(t,e){return el=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},el(t,e)}function kb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vu(t);if(e){var o=vu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nb(this,n)}}function Nb(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vu(t){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vu(t)}var tl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&el(i,a)})(u,t);var e,n,r,o=kb(u);function u(){return Mb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,g=i.width,O=i.height,M=i.points,N=i.getNodeStyle(),L={transform:"matrix(1 0 0 1 ".concat(a-g/2," ").concat(f-O/2,")")};return Object(fe.g)("g",L,Object(fe.g)(Ey,qc({},N,{points:M,x:a,y:f})))}}])&&Sy(e.prototype,n),r&&Sy(e,r),u}(Oo);function nl(t){return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function rl(){return rl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}function Ab(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ol(t,e){return ol=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ol(t,e)}function Db(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gu(t);if(e){var o=gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tb(this,n)}}function Tb(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gu(t)}var il=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ol(i,a)})(u,t);var e,n,r,o=Db(u);function u(){return Ab(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(fe.g)("g",null,Object(fe.g)(Ey,rl({},a,{points:i.points,x:i.x,y:i.y})))}}])&&jy(e.prototype,n),r&&jy(e,r),u}(Oo);function al(t){return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Cb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Py(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Py(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rb(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.rx,i=u===void 0?4:u,a=t.ry,f=a===void 0?4:a,g=t.className,O={cx:n,cy:o,rx:i,ry:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(M){var N=Cb(M,2),L=N[0],Y=N[1];al(Y)!=="object"&&(O[L]=Y)}),O.className=g?"lf-basic-shape ".concat(g):"lf-basic-shape",Object(fe.g)("ellipse",O)}function ul(t){return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function sl(){return sl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function Ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function My(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cl(t,e){return cl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cl(t,e)}function Lb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=mu(t);if(e){var o=mu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zb(this,n)}}function zb(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function mu(t){return mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mu(t)}var ll=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&cl(i,a)})(u,t);var e,n,r,o=Lb(u);function u(){return Ib(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(fe.g)(Rb,sl({},a,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&My(e.prototype,n),r&&My(e,r),u}(Oo);function fl(t){return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function ky(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ky(Object(n),!0).forEach(function(r){Bb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ay(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pl(t,e){return pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pl(t,e)}function Fb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bu(t);if(e){var o=bu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bu(t){return bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bu(t)}var dl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&pl(i,a)})(u,t);var e,n,r,o=Fb(u);function u(){return Hb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text;if(f&&f.value&&a.background&&a.background.fill!=="transparnet"){var g=f.x,O=f.y,M=i.width,N=i.height,L=Ny(Ny({},a.background),{},{x:g,y:O-1,width:M,height:N});return Object(fe.g)(Lo,L)}}},{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getBackgroud())}}])&&Ay(e.prototype,n),r&&Ay(e,r),u}(Oo);function hl(t){return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function yl(){return yl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}function Xb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vl(t,e){return vl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vl(t,e)}function Ub(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=_u(t);if(e){var o=_u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vb(this,n)}}function Vb(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xa(t)}function xa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _u(t){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_u(t)}function Ou(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&vl(i,a)})(u,t);var e,n,r,o=Ub(u);function u(){var i;Xb(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Ou(xa(i=o.call.apply(o,[this].concat(f))),"ref",void 0),Ou(xa(i),"currrentProperties",void 0),Ou(xa(i),"preProperties",void 0),Ou(xa(i),"setRef",function(O){i.ref=O}),i}return e=u,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,g=i.height,O=i.width,M=i.getNodeStyle();return this.currrentProperties=JSON.stringify(i.properties),Object(fe.g)("foreignObject",yl({},M,{x:a-O/2,y:f-g/2,width:O,height:g,ref:this.setRef}))}}])&&Dy(e.prototype,n),r&&Dy(e,r),u}(Oo);function ml(t){return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function bl(){return bl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function Ty(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ty(Object(n),!0).forEach(function(r){wl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _l(t,e){return _l=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_l(t,e)}function Yb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wu(t);if(e){var o=wu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wb(this,n)}}function Wb(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ol(t)}function Ol(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wu(t){return wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wu(t)}function wl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qr,Zb=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&_l(i,a)})(u,t);var e,n,r,o=Yb(u);function u(i){var a;return function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,u),wl(Ol(a=o.call(this,i)),"setHoverON",function(){a.setState({isHoverd:!0})}),wl(Ol(a),"setHoverOFF",function(){a.setState({isHoverd:!1})}),a.state={isHoverd:!1},a}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text,g=a.background||{};if(this.state.isHoverd&&a.hover&&a.hover.background&&(g=fi(fi({},g),a.hover.background)),f&&f.value&&g.fill!=="transparent"){var O,M=a.fontSize,N=a.overflowMode,L=a.lineHeight,Y=a.wrapPadding,de=a.textWidth,ge=f.value,Pe=f.x,xe=f.y,Me=String(ge).split(/[\r\n]/g),Be=Me.length;if(N==="autoWrap"&&de){var Je=hp({rows:Me,style:{fontSize:"".concat(M,"px"),width:"".concat(de,"px"),lineHeight:L,padding:Y},rowsLength:Be,className:"lf-get-text-height"});O=fi(fi({},g),{},{x:Pe-1,y:xe-1,width:de,height:Je})}else{var $e=0;Me&&Me.forEach(function(Wt){var an=Bp(Wt);$e=an>$e?an:$e});var at=ss({rows:Me,fontSize:M,rowsLength:Be}),Ot=at.width,Dt=at.height;if(typeof g.wrapPadding=="string"){var pt=g.wrapPadding.split(",").filter(function(Wt){return Wt.trim()}).map(function(Wt){return parseFloat(Wt.trim())});pt.length>0&&pt.length<=4&&(pt.length===1?pt=[pt[0],pt[0],pt[0],pt[0]]:pt.length===2?pt=[pt[0],pt[1],pt[0],pt[1]]:pt.length===3&&(pt=[pt[0],pt[1],pt[2],pt[1]]),Ot+=pt[1]+pt[3],Dt+=pt[0]+pt[2],Pe+=(pt[1]-pt[3])/2,xe+=(pt[2]-pt[0])/2)}O=fi(fi({},g),{},{x:Pe-1,y:xe-1,width:Ot,height:Dt})}return Object(fe.g)(Lo,O)}}},{key:"getShape",value:function(){var i=this.props.model,a=i.text,f=a.value,g=a.x,O=a.y;if(f){var M=fi({x:g,y:O,className:"lf-element-text",value:f},i.getTextStyle());return Object(fe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(fe.g)(hy,bl({},M,{model:i})))}}}])&&Cy(e.prototype,n),r&&Cy(e,r),u}(gy);function xl(t){return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function El(){return El=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}function Ry(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ry(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ry(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Iy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Iy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Iy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ly(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sl(t,e){return Sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sl(t,e)}function $b(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xu(t);if(e){var o=xu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jb(this,n)}}function Jb(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(t)}function kr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xu(t){return xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xu(t)}function Nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Qr||(Qr={}));var zy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Sl(i,a)})(u,t);var e,n,r,o=$b(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Nr(kr(i=o.call(this)),"dragHandler",void 0),Nr(kr(i),"oldEdge",void 0),Nr(kr(i),"preTargetNode",void 0),Nr(kr(i),"targetRuleResults",void 0),Nr(kr(i),"sourceRuleResults",void 0),Nr(kr(i),"onDragStart",function(){var a=i.props,f=a.x,g=a.y,O=a.edgeModel,M=O.startPoint,N=O.endPoint,L=O.pointsList;i.oldEdge={startPoint:M,endPoint:N,pointsList:L},i.setState({endX:f,endY:g,draging:!0}),O.isHitable=!1}),Nr(kr(i),"onDraging",function(a){var f=a.deltaX,g=a.deltaY,O=i.state,M=O.endX,N=O.endY,L=i.props,Y=L.graphModel,de=L.type,ge=Kb(Y.transformModel.moveCanvasPointByHtml([M,N],f,g),2),Pe=ge[0],xe=ge[1];i.setState({endX:Pe,endY:xe,draging:!0});var Me=i.props.edgeModel,Be=Da({x:M,y:N},Y);if(Be&&Be.node&&i.isAllowAdjust(Be)){var Je,$e=Me.startPoint,at=Me.endPoint,Ot=Me.sourceNode,Dt=Me.targetNode;de===Qr.SOURCE?Je={startPoint:{x:Be.anchor.x,y:Be.anchor.y},endPoint:{x:at.x,y:at.y},sourceNode:Be.node,targetNode:Dt}:de===Qr.TARGET&&(Je={startPoint:{x:$e.x,y:$e.y},endPoint:{x:Be.anchor.x,y:Be.anchor.y},sourceNode:Ot,targetNode:Be.node}),Me.updateAfterAdjustStartAndEnd(Je)}else de===Qr.SOURCE?Me.updateStartPoint({x:Pe,y:xe}):de===Qr.TARGET&&Me.updateEndPoint({x:Pe,y:xe})}),Nr(kr(i),"onDragEnd",function(){var a;i.setState({draging:!1});var f=i.props,g=f.graphModel,O=f.edgeModel,M=f.type;O.isHitable=!0;var N=i.state,L=N.endX,Y=N.endY,de=N.draging,ge=Da({x:L,y:Y},g);if(de){if(ge&&ge.node&&i.isAllowAdjust(ge)){var Pe,xe=O.getData(),Me=wo(wo({},xe),{},{sourceAnchorId:"",targetAnchorId:"",text:(xe==null||(Pe=xe.text)===null||Pe===void 0?void 0:Pe.value)||""});M===Qr.SOURCE?Me=wo(wo({},Me),{},{sourceNodeId:ge.node.id,sourceAnchorId:ge.anchor.id,startPoint:{x:ge.anchor.x,y:ge.anchor.y},targetNodeId:O.targetNodeId,endPoint:wo({},O.endPoint)}):M===Qr.TARGET&&(Me=wo(wo({},Me),{},{sourceNodeId:O.sourceNodeId,startPoint:wo({},O.startPoint),targetNodeId:ge.node.id,targetAnchorId:ge.anchor.id,endPoint:{x:ge.anchor.x,y:ge.anchor.y}})),g.deleteEdgeById(O.id);var Be=g.addEdge(wo({},Me));g.eventCenter.emit(Pt.EDGE_EXCHANGE_NODE,{data:{newEdge:Be.getData(),oldEdge:O.getData()}})}else i.recoveryEdge();(a=i.preTargetNode)===null||a===void 0||a.setElementState(Yt.DEFAULT)}}),Nr(kr(i),"recoveryEdge",function(){var a=i.props.edgeModel,f=i.oldEdge,g=f.startPoint,O=f.endPoint,M=f.pointsList;a.updateStartPoint(g),a.updateEndPoint(O),a.modelType!==It.LINE_EDGE&&(a.pointsList=M,a.initPoints())}),Nr(kr(i),"getAdjustPointStyle",function(){return i.props.graphModel.theme.edgeAdjust}),i.state={draging:!1,endX:0,endY:0},i.targetRuleResults=new Map,i.sourceRuleResults=new Map,i.dragHandler=js({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"isAllowAdjust",value:function(i){var a=this.props,f=a.edgeModel,g=(f.id,f.sourceNode),O=f.targetNode,M=f.sourceAnchorId,N=f.targetAnchorId,L=a.type,Y=null,de=null,ge=null,Pe=null;if(L===Qr.SOURCE?(Y=i.node,de=O,ge=i.anchor,Pe=O.getAnchorInfo(N)):(Y=g,de=i.node,Pe=i.anchor,ge=g.getAnchorInfo(M)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(Yt.DEFAULT),this.preTargetNode=i.node,Pe.id===ge.id)return!1;var xe="".concat(Y.id,"_").concat(de.id,"_").concat(ge.id,"_").concat(Pe.id);if(!this.targetRuleResults.has(xe)){var Me=Y.isAllowConnectedAsSource(de,ge,Pe),Be=de.isAllowConnectedAsTarget(Y,ge,Pe);this.sourceRuleResults.set(xe,Ta(Me)),this.targetRuleResults.set(xe,Ta(Be))}var Je=this.sourceRuleResults.get(xe).isAllPass,$e=this.targetRuleResults.get(xe).isAllPass,at=Je&&$e?Yt.ALLOW_CONNECT:Yt.NOT_ALLOW_CONNECT;return L===Qr.SOURCE?Y.setElementState(at):de.setElementState(at),Je&&$e}},{key:"render",value:function(){var i=this.props,a=i.x,f=i.y,g=this.state.draging,O=this.getAdjustPointStyle();return Object(fe.g)("g",null,Object(fe.g)(ga,El({className:"lf-edge-adjust-point"},O,{x:a,y:f,onMouseDown:this.dragHandler,"pointer-events":g?"none":""})))}}])&&Ly(e.prototype,n),r&&Ly(e,r),u}(fe.a);function jl(t){return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Eu(){return Eu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(this,arguments)}function By(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?By(Object(n),!0).forEach(function(r){Dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pl(t,e){return Pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pl(t,e)}function qb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Su(t);if(e){var o=Su(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return e0(this,n)}}function e0(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ar(t)}function Ar(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Su(t){return Su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Su(t)}function Dr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ea=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Pl(i,a)})(u,t);var e,n,r,o=qb(u);function u(){var i;Qb(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Dr(Ar(i=o.call.apply(o,[this].concat(f))),"startTime",void 0),Dr(Ar(i),"contextMenuTime",void 0),Dr(Ar(i),"clickTimer",void 0),Dr(Ar(i),"handleHover",function(O,M){var N=i.props,L=N.model,Y=N.graphModel.eventCenter;L.setHovered(O);var de=O?Pt.EDGE_MOUSEENTER:Pt.EDGE_MOUSELEAVE,ge=L.getData();Y.emit(de,{data:ge,e:M})}),Dr(Ar(i),"setHoverON",function(O){i.props.model.isHovered||i.handleHover(!0,O)}),Dr(Ar(i),"setHoverOFF",function(O){i.handleHover(!1,O)}),Dr(Ar(i),"handleContextMenu",function(O){O.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var M=i.props,N=M.model,L=M.graphModel,Y=L.getPointByClient({x:O.clientX,y:O.clientY});L.setElementStateById(N.id,Yt.SHOW_MENU,Y.domOverlayPosition),i.toFront(),L.selectEdgeById(N.id);var de=N==null?void 0:N.getData();L.eventCenter.emit(Pt.EDGE_CONTEXTMENU,{data:de,e:O,position:Y})}),Dr(Ar(i),"handleMouseDown",function(O){O.stopPropagation(),i.startTime=new Date().getTime()}),Dr(Ar(i),"handleMouseUp",function(O){if(i.startTime&&!(new Date().getTime()-i.startTime>200||O.button===2)){var M=O.detail===2,N=i.props,L=N.model,Y=N.graphModel,de=L==null?void 0:L.getData(),ge=Y.getPointByClient({x:O.clientX,y:O.clientY});if(M){var Pe=Y.editConfigModel,xe=Y.textEditElement;if(xe&&xe.id===L.id&&Y.setElementStateById(L.id,Yt.DEFAULT),Pe.edgeTextEdit&&L.text.editable&&Y.setElementStateById(L.id,Yt.TEXT_EDIT),L.modelType===It.POLYLINE_EDGE){var Me=L,Be=Y.getPointByClient({x:O.x,y:O.y}).canvasOverlayPosition,Je=Be.x,$e=Be.y,at=Fp({x:Je,y:$e},Me.points);Me.dbClickPosition=at}Y.eventCenter.emit(Pt.EDGE_DBCLICK,{data:de,e:O,position:ge})}else Y.eventCenter.emit(Pt.ELEMENT_CLICK,{data:de,e:O,position:ge}),Y.eventCenter.emit(Pt.EDGE_CLICK,{data:de,e:O,position:ge});var Ot=Y.editConfigModel;Y.selectEdgeById(L.id,Ff(O,Ot)),i.toFront()}}),Dr(Ar(i),"getIsDraging",function(){return!1}),i}return e=u,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Yt.TEXT_EDIT)return"";var g=!1,O=f.editConfigModel;return(a.text.draggable||O.edgeTextDraggable)&&(g=!0),Object(fe.g)(Zb,{editable:O.edgeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:g})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,g=i.isSelected;return{start:a,end:f,hover:this.state.hover,isSelected:g}}},{key:"getArrowStyle",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.getEdgeStyle(),O=a.getEdgeAnimationStyle(),M=f.theme.arrow,N=a.isAnimation?O.stroke:g.stroke;return Hy(Hy({},g),{},{fill:N,stroke:N},M)}},{key:"getArrow",value:function(){return Object(fe.g)("g",null,Object(fe.g)("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.id,O=f.theme.arrow,M=O.offset,N=O.verticalLength,L=this.getArrowStyle(),Y=L.stroke,de=L.strokeWidth;return Object(fe.g)("marker",{id:"marker-start-".concat(g),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(fe.g)("path",{stroke:Y,fill:Y,strokeWidth:de,d:"M 0 0 L ".concat(M," -").concat(N," L ").concat(M," ").concat(N," Z")}))}},{key:"getEndArrow",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.id,O=f.theme.arrow,M=O.offset,N=O.verticalLength,L=this.getArrowStyle(),Y=L.stroke,de=L.strokeWidth;return Object(fe.g)("marker",{id:"marker-end-".concat(g),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(fe.g)("path",{stroke:Y,fill:Y,strokeWidth:de,transform:"rotate(180)",d:"M 0 0 L ".concat(M," -").concat(N," L ").concat(M," ").concat(N," Z")}))}},{key:"getAdjustPoints",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.getAdjustStart(),O=a.getAdjustEnd();return Object(fe.g)("g",null,Object(fe.g)(zy,Eu({type:"SOURCE"},g,{edgeModel:a,graphModel:f})),Object(fe.g)(zy,Eu({type:"TARGET"},O,{edgeModel:a,graphModel:f})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(fe.g)("g",null)}},{key:"getAppend",value:function(){return Object(fe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var i=this.props,a=i.graphModel,f=i.model;a.overlapMode!==ur.INCREASE&&a.toFront(f.id)}},{key:"render",value:function(){var i=this.props,a=i.model,f=a.isSelected,g=a.isHitable,O=i.graphModel,M=this.getIsDraging(),N=O.editConfigModel.adjustEdgeStartAndEnd,L=O.animation,Y=f&&L.edge&&O.getSelectElements().edges.length===1;return Object(fe.g)("g",null,Object(fe.g)("g",{className:["lf-edge",!g&&"pointer-none",f&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),Y&&this.getAnimation(),this.getText(),this.getArrow()),N&&f&&!M?this.getAdjustPoints():"")}}])&&Fy(e.prototype,n),r&&Fy(e,r),u}(fe.a);function Ml(t){return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function t0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Gy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Gy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wi=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=t0(n,2),o=r[0],u=r[1],i=Ml(u);o!=="style"&&i==="object"||(e[o]=u)}),Object(fe.g)("path",e)};function kl(t){return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function ju(){return ju=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}function n0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nl(t,e){return Nl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nl(t,e)}function r0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Pu(t);if(e){var o=Pu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return o0(this,n)}}function o0(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pu(t){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pu(t)}var Al=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Nl(i,a)})(u,t);var e,n,r,o=r0(u);function u(){return n0(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,g=i.isAnimation,O=i.arrowConfig,M=i.getEdgeStyle(),N=i.getEdgeAnimationStyle(),L=N.strokeDasharray,Y=N.stroke,de=N.strokeDashoffset,ge=N.animationName,Pe=N.animationDuration,xe=N.animationIterationCount,Me=N.animationTimingFunction,Be=N.animationDirection;return Object(fe.g)(ci,ju({},M,{x1:a.x,y1:a.y,x2:f.x,y2:f.y},O,g?{strokeDasharray:L,stroke:Y,style:{strokeDashoffset:de,animationName:ge,animationDuration:Pe,animationIterationCount:xe,animationTimingFunction:Me,animationDirection:Be}}:{}))}},{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,g=a.className,O=a.strokeDasharray,M=i.startPoint,N=i.endPoint,L=i.getEdgeStyle();return Object(fe.g)("g",null,Object(fe.g)(ci,ju({},L,{x1:M.x,y1:M.y,x2:N.x,y2:N.y,className:g,strokeDasharray:O,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model,a=function(L){var Y,de=L.start,ge=L.end;if(de.x===ge.x&&de.y===ge.y)Y="";else{var Pe={start:de,end:ge,offset:10,verticalLength:5},xe=ha(Ca(Ca({},Pe),{},{type:"start"})),Me=ha(Ca(Ca({},Pe),{},{type:"end"}));Y="M".concat(xe.leftX," ").concat(xe.leftY,` 
    L`).concat(xe.rightX," ").concat(xe.rightY,` 
    L`).concat(Me.rightX," ").concat(Me.rightY,`
    L`).concat(Me.leftX," ").concat(Me.leftY," z")}return{d:Y,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:i.startPoint,end:i.endPoint}),f=a.d,g=a.strokeWidth,O=a.fill,M=a.strokeDasharray,N=a.stroke;return Object(fe.g)(Wi,{d:f,fill:O,strokeWidth:g,stroke:N,strokeDasharray:M})}}])&&Xy(e.prototype,n),r&&Xy(e,r),u}(Ea);function Dl(t){return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function i0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Uy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Uy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vy=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=i0(n,2),o=r[0],u=r[1];(o==="style"||Dl(u)!=="object")&&(e[o]=u)}),Object(fe.g)("polyline",e)};function Tl(t){return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Yy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yy(Object(n),!0).forEach(function(r){eo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ku(){return ku=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}function a0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Wy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Wy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cl(t,e){return Cl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cl(t,e)}function u0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Nu(t);if(e){var o=Nu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s0(this,n)}}function s0(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(t)}function qr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nu(t){return Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nu(t)}function eo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Cl(i,a)})(u,t);var e,n,r,o=u0(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),eo(qr(i=o.call(this)),"drag",void 0),eo(qr(i),"isDraging",void 0),eo(qr(i),"appendInfo",void 0),eo(qr(i),"dragHandler",void 0),eo(qr(i),"onDragStart",function(){i.props.model.dragAppendStart()}),eo(qr(i),"onDraging",function(a){var f=a.deltaX,g=a.deltaY,O=i.props,M=O.model,N=O.graphModel;i.isDraging=!0;var L=N.transformModel,Y=N.editConfigModel,de=a0(L.fixDeltaXY(f,g),2),ge=de[0],Pe=de[1],xe=M,Me=Y.adjustEdgeMiddle;i.appendInfo=Me?xe.dragAppendSimple(i.appendInfo,{x:ge,y:Pe}):xe.dragAppend(i.appendInfo,{x:ge,y:Pe})}),eo(qr(i),"onDragEnd",function(){var a=i.props,f=a.model,g=a.graphModel.eventCenter,O=f;O.dragAppendEnd(),i.isDraging=!1,i.appendInfo=void 0,g.emit(Pt.EDGE_ADJUST,{data:O.getData()})}),eo(qr(i),"beforeDragStart",function(a,f){f.dragAble&&i.dragHandler(a),i.appendInfo=f}),eo(qr(i),"getIsDraging",function(){return i.isDraging}),i.drag=js({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.points,f=i.isAnimation,g=i.arrowConfig,O=i.getEdgeStyle(),M=i.getEdgeAnimationStyle(),N=M.strokeDasharray,L=M.stroke,Y=M.strokeDashoffset,de=M.animationName,ge=M.animationDuration,Pe=M.animationIterationCount,xe=M.animationTimingFunction,Me=M.animationDirection;return Object(fe.g)(Vy,ku({points:a},O,g,f?{strokeDasharray:N,stroke:L,style:{strokeDashoffset:Y,animationName:de,animationDuration:ge,animationIterationCount:Pe,animationTimingFunction:xe,animationDirection:Me}}:{}))}},{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,g=a.className,O=a.strokeDasharray,M=i.getEdgeStyle();return Object(fe.g)("g",null,Object(fe.g)(Vy,ku({points:i.points},M,{className:g,strokeDasharray:O,stroke:f})))}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.points,f=i.isSelected,g={start:null,end:null,hover:this.state.hover,isSelected:f},O=Ci(a);return O.length>=2&&(g.start=O[O.length-2],g.end=O[O.length-1]),g}},{key:"getAppendAttributes",value:function(i){var a,f=i.start,g=i.end;if(f.x===g.x&&f.y===g.y)a="";else{var O={start:f,end:g,offset:10,verticalLength:5},M=ha(Mu(Mu({},O),{},{type:"start"})),N=ha(Mu(Mu({},O),{},{type:"end"}));a="M".concat(M.leftX," ").concat(M.leftY,` 
      L`).concat(M.rightX," ").concat(M.rightY,` 
      L`).concat(N.rightX," ").concat(N.rightY,`
      L`).concat(N.leftX," ").concat(N.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var a=this.getAppendAttributes(i),f=a.d,g=a.strokeWidth,O=a.fill,M=a.strokeDasharray,N=a.stroke;return Object(fe.g)(Wi,{d:f,fill:O,strokeWidth:g,stroke:N,strokeDasharray:M})}},{key:"getAppendWidth",value:function(){for(var i=this,a=this.props,f=a.model,g=a.graphModel,O=f.pointsList,M=f.draggable,N=[],L=O.length,Y=function(ge){var Pe="lf-polyline-append",xe={start:{x:O[ge].x,y:O[ge].y},end:{x:O[ge+1].x,y:O[ge+1].y},startIndex:ge,endIndex:ge+1,direction:"",dragAble:!0},Me=Object(fe.g)("g",{className:Pe},i.getAppendShape(xe)),Be=g.editConfigModel,Je=Be.adjustEdge,$e=Be.adjustEdgeMiddle;if(Je&&M){i.dragHandler=i.drag;var at=xe.startIndex,Ot=xe.endIndex,Dt=$e&&(at===0||Ot===L-1);xe.dragAble=!Dt,xe.start.x===xe.end.x?(xe.dragAble&&(Pe+="-ew-resize"),xe.direction=nn.VERTICAL):xe.start.y===xe.end.y&&(xe.dragAble&&(Pe+="-ns-resize"),xe.direction=nn.HORIZONTAL),Me=Object(fe.g)("g",{className:i.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(pt){return i.beforeDragStart(pt,xe)}},Object(fe.g)("g",{className:Pe},i.getAppendShape(xe)))}else i.dragHandler=function(){};N.push(Me)},de=0;de<L-1;de++)Y(de);return Object(fe.g)("g",null,N)}}])&&Zy(e.prototype,n),r&&Zy(e,r),u}(Ea);function Il(t){return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function c0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ky(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ky(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Au(){return Au=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}function l0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ll(t,e){return Ll=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ll(t,e)}function f0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Du(t);if(e){var o=Du(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Du(t){return Du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Du(t)}var zl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ll(i,a)})(u,t);var e,n,r,o=f0(u);function u(){return l0(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle(),f=i.path,g=i.isAnimation,O=i.arrowConfig,M=i.getEdgeAnimationStyle(),N=M.strokeDasharray,L=M.stroke,Y=M.strokeDashoffset,de=M.animationName,ge=M.animationDuration,Pe=M.animationIterationCount,xe=M.animationTimingFunction,Me=M.animationDirection;return Object(fe.g)(Wi,Au({d:f},a,O,g?{strokeDasharray:N,stroke:L,style:{strokeDashoffset:Y,animationName:de,animationDuration:ge,animationIterationCount:Pe,animationTimingFunction:xe,animationDirection:Me}}:{}))}},{key:"getShape",value:function(){return Object(fe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,g=a.className,O=a.strokeDasharray,M=i.getEdgeStyle();return Object(fe.g)("g",null,Object(fe.g)(Wi,Au({d:i.path},M,{className:g,strokeDasharray:O,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(fe.g)(Wi,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=this.state.hover,f=i,g=f.path,O=f.isSelected,M=function(L){var Y=Ha(L);return[Y[2],Y[3]]}(g),N=c0(M,2);return{start:N[0],end:N[1],hover:a,isSelected:O}}}])&&$y(e.prototype,n),r&&$y(e,r),u}(Ea);function Bl(t){return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Jy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function d0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hl(t,e){return Hl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hl(t,e)}function y0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Tu(t);if(e){var o=Tu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v0(this,n)}}function v0(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Tu(t){return Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tu(t)}var g0=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Hl(i,a)})(u,t);var e,n,r,o=y0(u);function u(){return h0(this,u),o.apply(this,arguments)}return e=u,n=[{key:"getArrowAttributes",value:function(){var i=this.props,a=i.arrowInfo,f=i.style,g=a.start,O=a.end,M={start:g,end:O,offset:f.offset,verticalLength:f.verticalLength,type:"end"},N=ha(M),L=N.leftX,Y=N.leftY,de=N.rightX,ge=N.rightY;return function(Pe){for(var xe=1;xe<arguments.length;xe++){var Me=arguments[xe]!=null?arguments[xe]:{};xe%2?Jy(Object(Me),!0).forEach(function(Be){d0(Pe,Be,Me[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(Me)):Jy(Object(Me)).forEach(function(Be){Object.defineProperty(Pe,Be,Object.getOwnPropertyDescriptor(Me,Be))})}return Pe}({d:"M".concat(L," ").concat(Y," L").concat(O.x," ").concat(O.y," L").concat(de," ").concat(ge," z")},f)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),a=i.d,f=i.strokeWidth,g=i.stroke,O=i.fill;return Object(fe.g)(Wi,{d:a,fill:O,strokeWidth:f,stroke:g})}},{key:"render",value:function(){return Object(fe.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&Qy(e.prototype,n),r&&Qy(e,r),u}(fe.a),qy=function(t,e){return Ae(t,e)},m0=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Fl=function(){return Ke.a.Date.now()},b0=/\s/,_0=function(t){for(var e=t.length;e--&&b0.test(t.charAt(e)););return e},O0=/^\s+/,w0=function(t){return t&&t.slice(0,_0(t)+1).replace(O0,"")},x0=/^[-+]0x[0-9a-f]+$/i,E0=/^0b[01]+$/i,S0=/^0o[0-7]+$/i,j0=parseInt,ev=function(t){if(typeof t=="number")return t;if(jt(t))return NaN;if(Rt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Rt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=w0(t);var n=E0.test(t);return n||S0.test(t)?j0(t.slice(2),n?2:8):x0.test(t)?NaN:+t},P0=Math.max,M0=Math.min,k0=function(t,e,n){var r,o,u,i,a,f,g=0,O=!1,M=!1,N=!0;if(typeof t!="function")throw new TypeError("Expected a function");function L(Me){var Be=r,Je=o;return r=o=void 0,g=Me,i=t.apply(Je,Be)}function Y(Me){return g=Me,a=setTimeout(ge,e),O?L(Me):i}function de(Me){var Be=Me-f;return f===void 0||Be>=e||Be<0||M&&Me-g>=u}function ge(){var Me=Fl();if(de(Me))return Pe(Me);a=setTimeout(ge,function(Be){var Je=e-(Be-f);return M?M0(Je,u-(Be-g)):Je}(Me))}function Pe(Me){return a=void 0,N&&r?L(Me):(r=o=void 0,i)}function xe(){var Me=Fl(),Be=de(Me);if(r=arguments,o=this,f=Me,Be){if(a===void 0)return Y(f);if(M)return clearTimeout(a),a=setTimeout(ge,e),L(f)}return a===void 0&&(a=setTimeout(ge,e)),i}return e=ev(e)||0,Rt(n)&&(O=!!n.leading,u=(M="maxWait"in n)?P0(ev(n.maxWait)||0,e):u,N="trailing"in n?!!n.trailing:N),xe.cancel=function(){a!==void 0&&clearTimeout(a),g=0,r=f=o=a=void 0},xe.flush=function(){return a===void 0?i:Pe(Fl())},xe},N0=s(166);function tv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nv,rv,ov,A0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Fo(this,"undos",[]),Fo(this,"redos",[]),Fo(this,"callbacks",[]),Fo(this,"stopWatch",null),Fo(this,"curData",null),Fo(this,"maxSize",50),Fo(this,"waitTime",100),Fo(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,(n=[{key:"add",value:function(o){qy(m0(this.undos),o)||(this.undos.push(o),qy(this.curData,o)||(this.redos=[]),this.eventCenter.emit(Pt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var o=this.undos.pop();this.redos.push(o);var u=this.undos.pop();return this.curData=un(u),u}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var o=this.redos.pop();return this.curData=un(o),o}}},{key:"watch",value:function(o){var u=this;this.stopWatch&&this.stopWatch(),this.undos.push(o.modelToGraphData()),this.stopWatch=Object(N0.a)(o,k0(function(){var i=o.modelToHistoryData();i&&u.add(i)},this.waitTime))}}])&&tv(e.prototype,n),r&&tv(e,r),t}();function Gl(t){return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function D0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return iv(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return iv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function av(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?av(Object(n),!0).forEach(function(r){pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xl(t,e){return Xl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xl(t,e)}function T0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cu(t);if(e){var o=Cu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C0(this,n)}}function C0(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ki(t)}function Ki(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cu(t){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cu(t)}function pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sv,cv,lv,Ul=Tr((ov=rv=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Xl(i,a)})(u,t);var e,n,r,o=T0(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),pi(Ki(i=o.call(this)),"ref",Object(fe.f)()),pi(Ki(i),"__prevText",{type:"",text:"",id:""}),pi(Ki(i),"keyupHandler",function(a){var f=i.props.graphModel.textEditElement;a.key==="Enter"&&a.altKey&&f.setElementState(0)}),pi(Ki(i),"inputHandler",function(a){var f=a.target.innerText,g=i.props.graphModel.textEditElement;i.__prevText={type:g.type,text:f.replace(/(\r\n)+$|(\n)+$/,""),id:g.id}}),pi(Ki(i),"keydownHandler",function(a){a.stopPropagation()}),i.state={style:{left:0,top:0}},i}return e=u,r=[{key:"getDerivedStateFromProps",value:function(i){var a,f=i.graphModel,g=f.transformModel,O=f.theme,M=f.textEditElement;if(M){var N;if((N=M.text)===null||N===void 0||!N.value)if(M.BaseType===vn.EDGE){var L=(M=M).text,Y=M.textPosition,de=Y.x,ge=Y.y;L.x=de,L.y=ge,M.setText(L)}else M=M;var Pe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(M.BaseType===vn.EDGE){var xe=O.edgeText,Me=xe.overflowMode,Be=xe.lineHeight,Je=xe.wrapPadding,$e=xe.textWidth;$e&&Me==="autoWrap"&&(a=Zi(Zi({},Pe),{},{width:$e,minWidth:$e,lineHeight:Be,padding:Je}))}else if(M.BaseType===vn.NODE){var at=O.nodeText,Ot=at.overflowMode,Dt=at.lineHeight,pt=at.wrapPadding,Wt=at.textWidth,an=M,An=an.width,Dn=an.modelType;(Dn!==It.TEXT_NODE&&Ot==="autoWrap"||Dn===It.TEXT_NODE&&Wt)&&(a=Zi(Zi({},Pe),{},{width:Wt||An,minWidth:Wt||An,lineHeight:Dt,padding:pt}))}var mn=M.text,Cr=mn.x,to=mn.y,Eo=D0(g.CanvasPointToHtmlPoint([Cr,to]),2);return{style:Zi({left:Eo[0],top:Eo[1]},a)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var i=this.props.graphModel,a=i.eventCenter,f=i.editConfigModel,g=f.edgeTextEdit,O=f.nodeTextEdit;(g||O)&&a.on("".concat(Pt.GRAPH_TRANSFORM,",").concat(Pt.NODE_CLICK,",").concat(Pt.BLANK_CLICK," "),function(){i.textEditElement&&i.textEditElement.setElementState(Yt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var i=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,f=a.text,g=a.id;i.updateText(g,f),i.eventCenter.emit(Pt.TEXT_UPDATE,Zi({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(i){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(i),a.collapse(!1);var f=window.getSelection();f.removeAllRanges(),f.addRange(a)}}},{key:"render",value:function(){var i,a=this.props.graphModel.textEditElement,f=this.state.style;return a?Object(fe.g)("div",{contentEditable:!0,className:"lf-text-input",style:f,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(i=a.text)===null||i===void 0?void 0:i.value):null}}])&&uv(e.prototype,n),r&&uv(e,r),u}(fe.a),pi(rv,"toolName","textEdit"),nv=ov))||nv,R0=function(t){return t.modelType===It.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,o=(n.x+r.x)/2,u=(n.y+r.y)/2,i=Math.abs(n.x-r.x)+10,a=Math.abs(n.y-r.y)+10;return{x:o-i/2,y:u-a/2,x1:o+i/2,y1:u+a/2}}(t):t.modelType===It.POLYLINE_EDGE?function(e){var n=e.points,r=Ci(n),o=ya(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):t.modelType===It.BEZIER_EDGE?function(e){var n=e.path,r=Ha(n),o=ya(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):void 0};function Vl(t){return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function fv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){g=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||pv(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I0(t){return function(e){if(Array.isArray(e))return Yl(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||pv(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pv(t,e){if(t){if(typeof t=="string")return Yl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yl(t,e):void 0}}function Yl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wl(t,e){return Wl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wl(t,e)}function L0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ru(t);if(e){var o=Ru(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z0(this,n)}}function z0(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sa(t)}function Sa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ru(t){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ru(t)}function ja(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zl=Tr((lv=cv=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Wl(i,a)})(u,t);var e,n,r,o=L0(u);function u(i){var a;(function(M,N){if(!(M instanceof N))throw new TypeError("Cannot call a class as a function")})(this,u),ja(Sa(a=o.call(this)),"stepDrag",void 0),ja(Sa(a),"handleMouseDown",function(M){a.stepDrag.handleMouseDown(M)}),ja(Sa(a),"onDraging",function(M){var N=M.deltaX,L=M.deltaY,Y=a.props.graphModel,de=Y.getSelectElements(!0);Y.moveNodes(de.nodes.map(function(ge){return ge.id}),N,L)}),ja(Sa(a),"handleContextMenu",function(M){M.preventDefault();var N=a.props,L=N.graphModel,Y=N.graphModel,de=Y.eventCenter,ge=Y.selectElements,Pe=L.getPointByClient({x:M.clientX,y:M.clientY}),xe={nodes:[],edges:[]};I0(ge.values()).forEach(function(Me){Me.BaseType===vn.NODE&&xe.nodes.push(Me.getData()),Me.BaseType===vn.EDGE&&xe.edges.push(Me.getData())}),de.emit(Pt.SELECTION_CONTEXTMENU,{data:xe,e:M,position:Pe})});var f=i.graphModel,g=f.gridSize,O=f.eventCenter;return a.stepDrag=new si({onDraging:a.onDraging,step:g,eventType:"SELECTION",eventCenter:O}),a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel,a=i.selectElements,f=i.transformModel;if(!(a.size<=1)){var g=Number.MAX_SAFE_INTEGER,O=Number.MAX_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER;a.forEach(function(ge){var Pe={x:0,y:0,x1:0,y1:0};ge.BaseType===vn.NODE&&(Pe=function(xe){var Me=xe.x,Be=xe.y,Je=xe.width,$e=xe.height;return{x:Me-Je/2,y:Be-$e/2,x1:Me+Je/2,y1:Be+$e/2}}(ge)),ge.BaseType===vn.EDGE&&(Pe=R0(ge)),g=Math.min(g,Pe.x),O=Math.min(O,Pe.y),M=Math.max(M,Pe.x1),N=Math.max(N,Pe.y1)});var L=fv(f.CanvasPointToHtmlPoint([g,O]),2);g=L[0],O=L[1];var Y=fv(f.CanvasPointToHtmlPoint([M,N]),2);M=Y[0],N=Y[1];var de={left:"".concat(g-10,"px"),top:"".concat(O-10,"px"),width:"".concat(M-g+20,"px"),height:"".concat(N-O+20,"px")};return Object(fe.g)("div",{className:"lf-multiple-select",style:de,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&dv(e.prototype,n),r&&dv(e,r),u}(fe.a),ja(cv,"toolName","multipleSelect"),sv=lv))||sv;function hv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Iu(this,"tools",void 0),Iu(this,"components",void 0),Iu(this,"toolMap",new Map),Iu(this,"instance",void 0),this.instance=o,this.isDisabledTool(Ul.toolName)||this.registerTool(Ul.toolName,Ul),this.isDisabledTool(Zl.toolName)||this.registerTool(Zl.toolName,Zl)}var e,n,r;return e=t,(n=[{key:"isDisabledTool",value:function(o){return this.instance.options.disabledTools.indexOf(o)!==-1}},{key:"registerTool",value:function(o,u){this.toolMap.set(o,u)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&hv(e.prototype,n),r&&hv(e,r),t}(),H0=s(167),F0=s.n(H0);function yv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vv=function(){function t(o){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),Kl(this,"mousetrap",void 0),Kl(this,"options",void 0),Kl(this,"target",void 0),o.keyboard||(o.keyboard={enabled:!1}),this.options=o;var u=o.lf;this.target=u.container,this.mousetrap=new F0.a(this.target),o.keyboard.enabled&&this.enable(!0)}var e,n,r;return e=t,(n=[{key:"initShortcuts",value:function(){var o=this,u=this.options.keyboard.shortcuts;if(u)if(hn(u))u.forEach(function(g){var O=g.keys,M=g.callback,N=g.action;return o.on(O,M,N)});else{var i=u.keys,a=u.callback,f=u.action;this.on(i,a,f)}}},{key:"on",value:function(o,u,i){this.mousetrap.bind(this.getKeys(o),u,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(o,u){this.mousetrap.unbind(this.getKeys(o),u)}},{key:"enable",value:function(o){(this.disabled||o)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(o){var u=this;return(Array.isArray(o)?o:[o]).map(function(i){return u.formatkey(i)})}},{key:"formatkey",value:function(o){return o.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&yv(e.prototype,n),r&&yv(e,r),t}(),G0=vv,xo=null;function gv(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function mv(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function $l(t){return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function bv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bv(Object(n),!0).forEach(function(r){pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ql=function(){function t(o){var u,i,a=this;(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),pn(this,"container",void 0),pn(this,"width",void 0),pn(this,"height",void 0),pn(this,"graphModel",void 0),pn(this,"history",void 0),pn(this,"viewMap",new Map),pn(this,"tool",void 0),pn(this,"keyboard",void 0),pn(this,"dnd",void 0),pn(this,"options",void 0),pn(this,"snaplineModel",void 0),pn(this,"components",[]),pn(this,"plugins",void 0),pn(this,"extension",{}),pn(this,"adapterIn",void 0),pn(this,"adapterOut",void 0),pn(this,"getView",function(f){return a.viewMap.get(f)}),o=Gd(o),this.options=o,this.container=o.container,this.plugins=o.plugins,this.graphModel=new Rg(Jl({},o)),this.tool=new B0(this),this.history=new A0(this.graphModel.eventCenter),this.dnd=new xm({lf:this}),this.keyboard=new G0({lf:this,keyboard:o.keyboard}),o.isSilentMode||o.snapline===!1||(this.snaplineModel=new uy(this.graphModel),u=this.graphModel.eventCenter,i=this.snaplineModel,u.on("node:mousemove",function(f){var g=f.data;i.setNodeSnapLine(g)}),u.on("node:mouseup",function(){i.clearSnapline()})),function(f,g){var O=f.keyboard,M=O.options.keyboard;O.on(["cmd + c","ctrl + c"],function(){if(M.enabled&&!g.textEditElement){var N=f.options.guards,L=g.getSelectElements(!1);return N&&N.beforeClone&&!N.beforeClone(L)?(xo=null,!1):((xo=L).nodes.forEach(function(Y){return gv(Y,40)}),xo.edges.forEach(function(Y){return mv(Y,40)}),!1)}}),O.on(["cmd + v","ctrl + v"],function(){if(M.enabled&&!g.textEditElement){if(xo&&(xo.nodes||xo.edges)){f.clearSelectElements();var N=f.addElements(xo);if(!N)return;N.nodes.forEach(function(L){return f.selectElementById(L.id,!0)}),N.edges.forEach(function(L){return f.selectElementById(L.id,!0)}),xo.nodes.forEach(function(L){return gv(L,40)}),xo.edges.forEach(function(L){return mv(L,40)})}return!1}}),O.on(["cmd + z","ctrl + z"],function(){if(M.enabled&&!g.textEditElement)return f.undo(),!1}),O.on(["cmd + y","ctrl + y"],function(){if(M.enabled&&!g.textEditElement)return f.redo(),!1}),O.on(["backspace"],function(){if(M.enabled&&!g.textEditElement){var N=g.getSelectElements(!0);return f.clearSelectElements(),N.edges.forEach(function(L){return f.deleteEdge(L.id)}),N.nodes.forEach(function(L){return f.deleteNode(L.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(o.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof o=="string"){var a={BaseEdge:Ea,BaseEdgeModel:ls,BaseNode:Oo,BaseNodeModel:_o,RectNode:Yc,RectNodeModel:jc,CircleNode:$c,CircleNodeModel:uc,PolygonNode:tl,PolygonNodeModel:wc,TextNode:dl,TextNodeModel:Nc,LineEdge:Al,LineEdgeModel:ys,DiamondNode:il,DiamondNodeModel:pc,PolylineEdge:Rl,PolylineEdgeModel:bs,BezierEdge:zl,BezierEdgeModel:tc,EllipseNode:ll,EllipseNodeModel:vc,HtmlNode:gl,HtmlNodeModel:Tc,h:fe.g,type:o};this.viewMap.forEach(function(N){var L=N.extendKey;L&&(a[L]=N)}),this.graphModel.modelMap.forEach(function(N){var L=N.extendKey;L&&(a[L]=N)});var f=u(a),g=f.view,O=f.model,M=g;i&&!M.isObervered&&(M.isObervered=!0,M=Ze(M)),this.setView(o,M),this.graphModel.setModel(o,O)}else this.registerElement(o)}},{key:"registerElement",value:function(o){var u=o.view;o.isObserverView===!1||u.isObervered||(u.isObervered=!0,u=Ze(u)),this.setView(o.type,u),this.graphModel.setModel(o.type,o.model)}},{key:"batchRegister",value:function(){var o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];u.forEach(function(i){o.registerElement(i)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Yc,model:jc,type:"rect"}),this.registerElement({type:"circle",view:$c,model:uc}),this.registerElement({type:"polygon",view:tl,model:wc}),this.registerElement({type:"line",view:Al,model:ys}),this.registerElement({type:"polyline",view:Rl,model:bs}),this.registerElement({type:"bezier",view:zl,model:tc}),this.registerElement({type:"text",view:dl,model:Nc}),this.registerElement({type:"ellipse",view:ll,model:vc}),this.registerElement({type:"diamond",view:il,model:pc}),this.registerElement({type:"html",view:gl,model:Tc})}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(o,u),u||this.graphModel.toFront(o)}},{key:"focusOn",value:function(o){var u=this.graphModel.transformModel,i=o.coordinate,a=o.id;if(!i){var f=this.getNodeModelById(a);f&&(i=f.getData());var g=this.getEdgeModelById(a);g&&(i=g.textPosition)}var O=i,M=O.x,N=O.y;u.focusOn(M,N,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(o){this.graphModel.setTheme(o)}},{key:"resize",value:function(o,u){this.options.width=o!=null?o:this.options.width,this.options.height=u!=null?u:this.options.height,this.graphModel.resize(o,u)}},{key:"setDefaultEdgeType",value:function(o){this.graphModel.setDefaultEdgeType(o)}},{key:"updateText",value:function(o,u){this.graphModel.updateText(o,u)}},{key:"deleteElement",value:function(o){var u,i,a,f=this.getModelById(o);return!!f&&(i=(a=(pn(u={},vn.NODE,this.deleteNode),pn(u,vn.EDGE,this.deleteEdge),u)[f.BaseType])===null||a===void 0?void 0:a.call(this,o))!==null&&i!==void 0&&i}},{key:"getModelById",value:function(o){return this.graphModel.getElement(o)}},{key:"getDataById",value:function(o){return this.graphModel.getElement(o).getData()}},{key:"changeNodeType",value:function(o,u){this.graphModel.changeNodeType(o,u)}},{key:"changeEdgeType",value:function(o,u){this.graphModel.changeEdgeType(o,u)}},{key:"getNodeEdges",value:function(o){return this.graphModel.getNodeEdges(o)}},{key:"addNode",value:function(o){return this.graphModel.addNode(o)}},{key:"deleteNode",value:function(o){var u=this.graphModel.getNodeModelById(o);if(!u)return!1;var i=u.getData(),a=this.options.guards,f=!a||!a.beforeDelete||a.beforeDelete(i);return f&&this.graphModel.deleteNode(o),f}},{key:"cloneNode",value:function(o){var u=this.graphModel.getNodeModelById(o).getData(),i=this.options.guards;if(!i||!i.beforeClone||i.beforeClone(u))return this.graphModel.cloneNode(o)}},{key:"changeNodeId",value:function(o,u){return this.graphModel.changeNodeId(o,u)}},{key:"getNodeModelById",value:function(o){return this.graphModel.getNodeModelById(o)}},{key:"getNodeDataById",value:function(o){return this.graphModel.getNodeModelById(o).getData()}},{key:"addEdge",value:function(o){return this.graphModel.addEdge(o)}},{key:"deleteEdge",value:function(o){var u=this.options.guards,i=this.graphModel.edgesMap[o];if(!i)return!1;var a=i.model.getData(),f=!u||!u.beforeDelete||u.beforeDelete(a);return f&&this.graphModel.deleteEdgeById(o),f}},{key:"deleteEdgeByNodeId",value:function(o){var u=o.sourceNodeId,i=o.targetNodeId;u&&i?this.graphModel.deleteEdgeBySourceAndTarget(u,i):u?this.graphModel.deleteEdgeBySource(u):i&&this.graphModel.deleteEdgeByTarget(i)}},{key:"changeEdgeId",value:function(o,u){return this.graphModel.changeEdgeId(o,u)}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.graphModel.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getEdgeModels",value:function(o){var u=this.graphModel.edges,i=o.sourceNodeId,a=o.targetNodeId;if(i&&a){var f=[];return u.forEach(function(M){M.sourceNodeId===i&&M.targetNodeId===a&&f.push(M)}),f}if(i){var g=[];return u.forEach(function(M){M.sourceNodeId===i&&g.push(M)}),g}if(a){var O=[];return u.forEach(function(M){M.targetNodeId===a&&O.push(M)}),O}return[]}},{key:"getEdgeDataById",value:function(o){var u;return(u=this.getEdgeModelById(o))===null||u===void 0?void 0:u.getData()}},{key:"getNodeIncomingEdge",value:function(o){return this.graphModel.getNodeIncomingEdge(o)}},{key:"getNodeOutgoingEdge",value:function(o){return this.graphModel.getNodeOutgoingEdge(o)}},{key:"getNodeIncomingNode",value:function(o){return this.graphModel.getNodeIncomingNode(o)}},{key:"getNodeOutgoingNode",value:function(o){return this.graphModel.getNodeOutgoingNode(o)}},{key:"editText",value:function(o){this.graphModel.editText(o)}},{key:"setProperties",value:function(o,u){var i;(i=this.graphModel.getElement(o))===null||i===void 0||i.setProperties(Bn(u))}},{key:"getProperties",value:function(o){var u;return(u=this.graphModel.getElement(o))===null||u===void 0?void 0:u.getProperties()}},{key:"toFront",value:function(o){this.graphModel.toFront(o)}},{key:"setElementZIndex",value:function(o,u){return this.graphModel.setElementZIndex(o,u)}},{key:"addElements",value:function(o){for(var u=this,i=o.nodes,a=o.edges,f={},g={nodes:[],edges:[]},O=0;O<i.length;O++){var M=i[O],N=M.id,L=this.addNode(M);if(!L)return;N&&(f[N]=L.id),g.nodes.push(L)}return a.forEach(function(Y){var de=Y.sourceNodeId,ge=Y.targetNodeId;f[de]&&(Y.sourceNodeId=f[de]),f[ge]&&(Y.targetNodeId=f[ge]);var Pe=u.graphModel.addEdge(Y);g.edges.push(Pe)}),g}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(o,u,i,a).map(function(f){return f.getData()})}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(o)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var o=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(o):o}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(o){this.graphModel.editConfigModel.updateEditConfig(o)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(o,u){return this.graphModel.getPointByClient({x:o,y:u})}},{key:"undo",value:function(){if(this.history.undoAble()){var o=Bn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"redo",value:function(){if(this.history.redoAble()){var o=Bn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"zoom",value:function(o,u){return this.graphModel.transformModel.zoom(o,u)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(o){this.graphModel.transformModel.setZoomMiniSize(o)}},{key:"setZoomMaxSize",value:function(o){this.graphModel.transformModel.setZoomMaxSize(o)}},{key:"getTransform",value:function(){var o=this.graphModel.transformModel;return{SCALE_X:o.SCALE_X,SCALE_Y:o.SCALE_Y,TRANSLATE_X:o.TRANSLATE_X,TRANSLATE_Y:o.TRANSLATE_Y}}},{key:"translate",value:function(o,u){this.graphModel.transformModel.translate(o,u)}},{key:"resetTranslate",value:function(){var o=this.graphModel.transformModel,u=o.TRANSLATE_X,i=o.TRANSLATE_Y;this.translate(-u,-i)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(o,u){u===void 0&&(u=o),this.graphModel.fitView(o,u)}},{key:"openEdgeAnimation",value:function(o){this.graphModel.openEdgeAnimation(o)}},{key:"closeEdgeAnimation",value:function(o){this.graphModel.closeEdgeAnimation(o)}},{key:"on",value:function(o,u){this.graphModel.eventCenter.on(o,u)}},{key:"off",value:function(o,u){this.graphModel.eventCenter.off(o,u)}},{key:"once",value:function(o,u){this.graphModel.eventCenter.once(o,u)}},{key:"emit",value:function(o,u){this.graphModel.eventCenter.emit(o,u)}},{key:"installPlugins",value:function(){var o,u=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(o=this.plugins)!==null&&o!==void 0?o:t.extensions;a.forEach(function(f){var g=f.pluginName||f.name;i.indexOf(g)===-1&&u.installPlugin(f)})}},{key:"installPlugin",value:function(o){if($l(o)==="object"){var u=o.install,i=o.render;return u&&u.call(o,this,t),i&&this.components.push(i.bind(o)),void(this.extension[o.pluginName]=o)}var a=o,f=new a({lf:this,LogicFlow:t});f.render&&this.components.push(f.render.bind(f)),this.extension[a.pluginName]=f}},{key:"updateAttributes",value:function(o,u){this.graphModel.updateAttributes(o,u)}},{key:"createFakerNode",value:function(o){var u=this.graphModel.modelMap.get(o.type);if(u){var i=new u(Jl(Jl({},o),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(i),i}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(o){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(o)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(o,u){this.viewMap.set(o,u)}},{key:"renderRawData",value:function(o){this.graphModel.graphDataToModel(Bn(o)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(fe.j)(Object(fe.g)(wm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Pt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(o=this.adapterIn(o)),this.renderRawData(o)}}],r=[{key:"use",value:function(o){var u=o.pluginName;u||(u=o.name);var i=this.extensions.get(u);i&&i.destroy&&i.destroy(),this.extensions.set(u,o)}}],n&&_v(e.prototype,n),r&&_v(e,r),t}();function Tr(t){return Ze(t)}pn(Ql,"extensions",new Map),j.default=Ql}])})},4225:function(Zt,bt,x){"use strict";x.d(bt,{jX:function(){return Yu},xV:function(){return Wo},Ou:function(){return ea},Qs:function(){return Vu},v2:function(){return qi},a9:function(){return zr},Ju:function(){return _i},aC:function(){return ut}});var j=x(20878);function s(d,l){return l={exports:{}},d(l,l.exports),l.exports}var _=s(function(d){var l=d.exports=function(c,h){if(h||(h=16),c===void 0&&(c=128),c<=0)return"0";for(var v=Math.log(Math.pow(2,c))/Math.log(h),b=2;v===Infinity;b*=2)v=Math.log(Math.pow(2,c/b))/Math.log(h)*b;for(var P=v-Math.floor(v),A="",b=0;b<Math.floor(v);b++){var H=Math.floor(Math.random()*h).toString(h);A=H+A}if(P){var K=Math.pow(h,P),H=Math.floor(Math.random()*K).toString(h);A=H+A}var X=parseInt(A,h);return X!==Infinity&&X>=Math.pow(2,c)?l(c,h):A};l.rack=function(c,h,v){var b=function(A){var H=0;do{if(H++>10)if(v)c+=v;else throw new Error("too many ID collisions, use more bits");var K=l(c,h)}while(Object.hasOwnProperty.call(P,K));return P[K]=A,K},P=b.hats={};return b.get=function(A){return b.hats[A]},b.set=function(A,H){return b.hats[A]=H,b},b.bits=c||128,b.base=h||16,b}});function p(d){if(!(this instanceof p))return new p(d);d=d||[128,36,1],this._seed=d.length?_.rack(d[0],d[1],d[2]):d}p.prototype.next=function(d){return this._seed(d||!0)},p.prototype.nextPrefixed=function(d,l){var c;do c=d+this.next(!0);while(this.assigned(c));return this.claim(c,l),c},p.prototype.claim=function(d,l){this._seed.set(d,l||!0)},p.prototype.assigned=function(d){return this._seed.get(d)||!1},p.prototype.unclaim=function(d){delete this._seed.hats[d]},p.prototype.clear=function(){var d=this._seed.hats,l;for(l in d)this.unclaim(l)};var S=p,E=new S([32,32,1]);function k(){return E.next()}var D=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),C=function(d){D(l,d);function l(c,h){var v=this;return c.id||(c.id="Event_"+k()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),v=d.call(this,c,h)||this,v}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedTargetRules=function(){var c=d.prototype.getConnectedTargetRules.call(this),h={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(h),c},l.extendKey="StartEventModel",l}(j.CircleNodeModel),R=function(d){D(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.extendKey="StartEventNode",l}(j.CircleNode),z={type:"bpmn:startEvent",view:R,model:C},F=z,G=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),q=function(){return q=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},q.apply(this,arguments)},se=function(d){G(l,d);function l(c,h){var v=this;return c.id||(c.id="Event_"+k()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),v=d.call(this,c,h)||this,v}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedSourceRules=function(){var c=d.prototype.getConnectedSourceRules.call(this),h={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(h),c},l.extendKey="EndEventModel",l}(j.CircleNodeModel),ue=function(d){G(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},l.prototype.getShape=function(){var c=this.props.model,h=c.getNodeStyle(),v=c.x,b=c.y,P=c.r,A=d.prototype.getShape.call(this);return(0,j.h)("g",{},A,(0,j.h)("circle",q(q({},h),{cx:v,cy:b,r:P-5})))},l.extendKey="EndEventView",l}(j.CircleNode),pe={type:"bpmn:endEvent",view:ue,model:se},_e=pe,ce=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),$=function(){return $=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},$.apply(this,arguments)},ne=function(d){ce(l,d);function l(c,h){var v=this;return c.id||(c.id="Gateway_"+k()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),v=d.call(this,c,h)||this,v.points=[[25,0],[50,25],[25,50],[0,25]],v}return l.extendKey="ExclusiveGatewayModel",l}(j.PolygonNodeModel),B=function(d){ce(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,P=c.height,A=c.points,H=c.getNodeStyle();return(0,j.h)("g",{transform:"matrix(1 0 0 1 "+(h-b/2)+" "+(v-P/2)+")"},(0,j.h)("polygon",$($({},H),{x:h,y:v,points:A})),(0,j.h)("path",$({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},H)))},l.extendKey="ExclusiveGatewayNode",l}(j.PolygonNode),oe={type:"bpmn:exclusiveGateway",view:B,model:ne},le=oe,ve=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),me=function(){return me=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},me.apply(this,arguments)},J=function(d){ve(l,d);function l(c,h){var v=this;return c.id||(c.id="Activity_"+k()),v=d.call(this,c,h)||this,v}return l.extendKey="UserTaskModel",l}(j.RectNodeModel),ie=function(d){ve(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,P=c.height,A=c.getNodeStyle();return(0,j.h)("svg",{x:h-b/2+5,y:v-P/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,j.h)("path",{fill:A.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},l.prototype.getShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,P=c.height,A=c.radius,H=c.getNodeStyle();return(0,j.h)("g",{},[(0,j.h)("rect",me(me({},H),{x:h-b/2,y:v-P/2,rx:A,ry:A,width:b,height:P})),this.getLabelShape()])},l.extendKey="UserTaskNode",l}(j.RectNode),ee={type:"bpmn:userTask",view:ie,model:J},I=ee,ae=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),re=function(){return re=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},re.apply(this,arguments)},Q=function(d){ae(l,d);function l(c,h){var v=this;return c.id||(c.id="Activity_"+k()),v=d.call(this,c,h)||this,v}return l.extendKey="ServiceTaskModel",l}(j.RectNodeModel),Oe=function(d){ae(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,P=c.height,A=c.getNodeStyle();return(0,j.h)("svg",{x:h-b/2+5,y:v-P/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,j.h)("path",{fill:A.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},l.prototype.getShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,P=c.height,A=c.radius,H=c.getNodeStyle();return(0,j.h)("g",{},[(0,j.h)("rect",re({x:h-b/2,y:v-P/2,rx:A,ry:A,width:b,height:P},H)),this.getLabelShape()])},l.extendKey="ServiceTaskNode",l}(j.RectNode),Se={type:"bpmn:serviceTask",view:Oe,model:Q},Ie=Se,Xe=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),rt=function(d){Xe(l,d);function l(c,h){var v=this;return c.id||(c.id="Flow_"+k()),v=d.call(this,c,h)||this,v}return l.extendKey="SequenceFlowModel",l}(j.PolylineEdgeModel),ke=function(d){Xe(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.extendKey="SequenceFlowEdge",l}(j.PolylineEdge),Le={type:"bpmn:sequenceFlow",view:ke,model:rt},Ue=Le,W={width:40,height:40},Z={width:40,height:40},he={width:40,height:40},Ee={width:100,height:80},ze={width:100,height:80},Re={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},it=function(){function d(l){var c=l.lf;c.setTheme(Re),c.register(F),c.register(_e),c.register(le),c.register(I),c.register(Ie),c.options.customBpmnEdge||(c.register(Ue),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return d.pluginName="bpmnElement",d}(),ut=function(){function d(l){var c=this,h=l.lf;this.lf=h,this.customCssRules="",this.useGlobalRules=!0,h.getSnapshot=function(v,b){c.getSnapshot(v,b)},h.getSnapshotBlob=function(v){return c.getSnapshotBlob(v)},h.getSnapshotBase64=function(v){return c.getSnapshotBase64(v)}}return d.prototype.getSvgRootElement=function(l){var c=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,l.graphModel.nodes.forEach(function(v){var b=v.x,P=v.width,A=v.y,H=v.height,K=b-P/2,X=A-H/2;K<c.offsetX&&(c.offsetX=K-5),X<c.offsetY&&(c.offsetY=X-5)}),l.graphModel.edges.forEach(function(v){v.pointsList&&v.pointsList.forEach(function(b){var P=b.x,A=b.y;P<c.offsetX&&(c.offsetX=P-5),A<c.offsetY&&(c.offsetY=A-5)})});var h=l.container.querySelector(".lf-canvas-overlay");return h},d.prototype.triggerDownload=function(l){var c=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),h=document.createElement("a");h.setAttribute("download",this.fileName),h.setAttribute("href",l),h.setAttribute("target","_blank"),h.dispatchEvent(c)},d.prototype.removeAnchor=function(l){for(var c=l.childNodes,h=l.childNodes&&l.childNodes.length,v=0;v<h;v++){var b=c[v],P=b.classList&&Array.from(b.classList)||[];P.indexOf("lf-anchor")>-1&&(l.removeChild(l.childNodes[v]),h--,v--)}},d.prototype.getSnapshot=function(l,c){var h=this;this.fileName=l||"logic-flow."+Date.now()+".png";var v=this.getSvgRootElement(this.lf);this.getCanvasData(v,c).then(function(b){var P=b.toDataURL("image/png").replace("image/png","image/octet-stream");h.triggerDownload(P)})},d.prototype.getSnapshotBase64=function(l){var c=this,h=this.getSvgRootElement(this.lf);return new Promise(function(v){c.getCanvasData(h,l).then(function(b){var P=b.toDataURL("image/png");v({data:P,width:b.width,height:b.height})})})},d.prototype.getSnapshotBlob=function(l){var c=this,h=this.getSvgRootElement(this.lf);return new Promise(function(v){c.getCanvasData(h,l).then(function(b){b.toBlob(function(P){v({data:P,width:b.width,height:b.height})},"image/png")})})},d.prototype.getClassRules=function(){var l="";if(this.useGlobalRules)for(var c=document.styleSheets,h=0;h<c.length;h++)for(var v=c[h],b=0;b<v.cssRules.length;b++)l+=v.cssRules[b].cssText;return this.customCssRules&&(l+=this.customCssRules),l},d.prototype.getCanvasData=function(l,c){var h=this,v=l.cloneNode(!0),b=v.lastChild,P=b.childNodes&&b.childNodes.length;if(P)for(var A=0;A<P;A++){var H=b.childNodes[A],K=H.classList&&Array.from(H.classList);if(K&&K.indexOf("lf-base")<0)b.removeChild(b.childNodes[A]),P--,A--;else{var X=b.childNodes[A];X&&X.childNodes.forEach(function(xn){var cn=xn;h.removeAnchor(cn.firstChild)})}}v.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var je=window.devicePixelRatio||1,Ne=document.createElement("canvas"),Ce=document.getElementsByClassName("lf-base")[0],Fe=Ce.getBoundingClientRect(),et=this.lf.graphModel,ft=et.transformModel,vt=ft.SCALE_X,ct=ft.SCALE_Y,kt=Math.ceil(Fe.width/vt),On=Math.ceil(Fe.height/ct);Ne.style.width=kt+"px",Ne.style.height=On+"px",Ne.width=kt*je+80,Ne.height=On*je+80;var on=Ne.getContext("2d");on.clearRect(0,0,Ne.width,Ne.height),on.scale(je,je),c?(on.fillStyle=c,on.fillRect(0,0,kt*je+80,On*je+80)):on.clearRect(0,0,kt,On);var $t=new Image,Ct=document.createElement("style");Ct.innerHTML=this.getClassRules();var wn=document.createElement("foreignObject");return wn.appendChild(Ct),v.appendChild(wn),new Promise(function(xn){$t.onload=function(){on.drawImage($t,0,0),xn(Ne)};var cn="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(v),ln=cn.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");$t.src=ln})},d.pluginName="snapshot",d}(),dt=null,tt=new S([32,32,1]);function Te(){return tt.next()}function Ze(d,l){for(var c=0;c<l;c++)d+="  ";return d}function fe(d,l,c,h){var v="";if(d instanceof Array)for(var b=0,P=d.length;b<P;b++)v+=Ze(c,h)+fe(d[b],l,c,h+1);else if(typeof d=="object"){var A=!1;v+=Ze(c,h)+"<"+l;for(var H in d)H.charAt(0)=="-"?v+=" "+H.substr(1)+'="'+d[H].toString()+'"':A=!0;if(v+=A?">":" />",A){for(var H in d)H=="#text"?v+=d[H]:H=="#cdata"?v+="<![CDATA["+d[H]+"]]>":H.charAt(0)!="-"&&(v+=fe(d[H],H,c,h+1));v+=Ze(c,h)+"</"+l+">"}}else v+=Ze(c,h)+"<"+l+">"+d.toString()+"</"+l+">";return v}function We(d){var l="";for(var c in d)l+=fe(d[c],c,`	
`,0);return l}var qe=function(){};qe.ObjTree=function(){return this},qe.ObjTree.VERSION="0.23",qe.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`,qe.ObjTree.prototype.attr_prefix="-",qe.ObjTree.prototype.parseXML=function(d){var l;if(window.DOMParser){var c=new DOMParser,h=c.parseFromString(d,"application/xml");if(!h)return;l=h.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(d),l=c.documentElement);if(!!l)return this.parseDOM(l)},qe.ObjTree.prototype.parseHTTP=function(d,l,c){var h={};for(var v in l)h[v]=l[v];if(h.method||(typeof h.postBody=="undefined"&&typeof h.postbody=="undefined"&&typeof h.parameters=="undefined"?h.method="get":h.method="post"),c){h.asynchronous=!0;var b=this,P=c,A=h.onComplete;h.onComplete=function(X){var je;X&&X.responseXML&&X.responseXML.documentElement&&(je=b.parseDOM(X.responseXML.documentElement)),P(je,X),A&&A(X)}}else h.asynchronous=!1;var H;if(typeof HTTP!="undefined"&&HTTP.Request){h.uri=d;var K=new HTTP.Request(h);K&&(H=K.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var K=new Ajax.Request(d,h);K&&(H=K.transport)}if(c)return H;if(H&&H.responseXML&&H.responseXML.documentElement)return this.parseDOM(H.responseXML.documentElement)},qe.ObjTree.prototype.parseDOM=function(d){if(!!d){if(this.__force_array={},this.force_array)for(var l=0;l<this.force_array.length;l++)this.__force_array[this.force_array[l]]=1;var c=this.parseElement(d);if(this.__force_array[d.nodeName]&&(c=[c]),d.nodeType!=11){var h={};h[d.nodeName]=c,c=h}return c}},qe.ObjTree.prototype.parseElement=function(d){if(d.nodeType!=7){if(d.nodeType==3||d.nodeType==4){var l=d.nodeValue.match(/[^\x00-\x20]/);return l==null?void 0:d.nodeValue}var c,h={};if(d.attributes&&d.attributes.length){c={};for(var v=0;v<d.attributes.length;v++){var b=d.attributes[v].nodeName;if(typeof b=="string"){var P=d.attributes[v].nodeValue;!P||(b=this.attr_prefix+b,typeof h[b]=="undefined"&&(h[b]=0),h[b]++,this.addNode(c,b,h[b],P))}}}if(d.childNodes&&d.childNodes.length){var A=!0;c&&(A=!1);for(var v=0;v<d.childNodes.length&&A;v++){var H=d.childNodes[v].nodeType;H==3||H==4||(A=!1)}if(A){c||(c="");for(var v=0;v<d.childNodes.length;v++)c+=d.childNodes[v].nodeValue}else{c||(c={});for(var v=0;v<d.childNodes.length;v++){var b=d.childNodes[v].nodeName;if(typeof b=="string"){var P=this.parseElement(d.childNodes[v]);!P||(typeof h[b]=="undefined"&&(h[b]=0),h[b]++,this.addNode(c,b,h[b],P))}}}}return c}},qe.ObjTree.prototype.addNode=function(d,l,c,h){this.__force_array[l]?(c==1&&(d[l]=[]),d[l][d[l].length]=h):c==1?d[l]=h:c==2?d[l]=[d[l],h]:d[l][d[l].length]=h},qe.ObjTree.prototype.writeXML=function(d){var l=this.hash_to_xml(null,d);return this.xmlDecl+l},qe.ObjTree.prototype.hash_to_xml=function(d,l){var c=[],h=[];for(var v in l)if(!!l.hasOwnProperty(v)){var b=l[v];v.charAt(0)!=this.attr_prefix?typeof b=="undefined"||b==null?c[c.length]="<"+v+" />":typeof b=="object"&&b.constructor==Array?c[c.length]=this.array_to_xml(v,b):typeof b=="object"?c[c.length]=this.hash_to_xml(v,b):c[c.length]=this.scalar_to_xml(v,b):h[h.length]=" "+v.substring(1)+'="'+this.xml_escape(b)+'"'}var P=h.join(""),A=c.join("");return typeof d=="undefined"||d==null||(c.length>0?A.match(/\n/)?A="<"+d+P+`>
`+A+"</"+d+`>
`:A="<"+d+P+">"+A+"</"+d+`>
`:A="<"+d+P+` />
`),A},qe.ObjTree.prototype.array_to_xml=function(d,l){for(var c=[],h=0;h<l.length;h++){var v=l[h];typeof v=="undefined"||v==null?c[c.length]="<"+d+" />":typeof v=="object"&&v.constructor==Array?c[c.length]=this.array_to_xml(d,v):typeof v=="object"?c[c.length]=this.hash_to_xml(d,v):c[c.length]=this.scalar_to_xml(d,v)}return c.join("")},qe.ObjTree.prototype.scalar_to_xml=function(d,l){return d=="#text"?this.xml_escape(l):"<"+d+">"+this.xml_escape(l)+"</"+d+`>
`},qe.ObjTree.prototype.xml_escape=function(d){return d.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Nt=function(d){return new qe.ObjTree().parseXML(d)},gt=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},ht;(function(d){d.START="bpmn:startEvent",d.END="bpmn:endEvent",d.GATEWAY="bpmn:exclusiveGateway",d.USER="bpmn:userTask",d.SYSTEM="bpmn:serviceTask",d.FLOW="bpmn:sequenceFlow"})(ht||(ht={}));var Lt=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Xt(d){var l={};return Object.entries(d).forEach(function(c){var h=gt(c,2),v=h[0],b=h[1];typeof b!="object"?v.indexOf("-")===0?l[v]=b:l["-"+v]=b:l[v]=Xt(b)}),l}function wt(d){var l={};return Object.entries(d).forEach(function(c){var h=gt(c,2),v=h[0],b=h[1];typeof b=="string"?v.indexOf("-")===0?l[v.substr(1)]=b:l[v]=b:typeof b=="object"?l[v]=wt(b):l[v]=b}),l}function en(d,l){var c=new Map;l.nodes.forEach(function(v){var b,P={"-id":v.id};if(((b=v.text)===null||b===void 0?void 0:b.value)&&(P["-name"]=v.text.value),v.properties){var A=Xt(v.properties);Object.assign(P,A)}c.set(v.id,P),d[v.type]?Array.isArray(d[v.type])?d[v.type].push(P):d[v.type]=[d[v.type],P]:d[v.type]=P});var h=l.edges.map(function(v){var b,P,A=c.get(v.targetNodeId);A["bpmn:incoming"]?Array.isArray(A["bpmn:incoming"])?A["bpmn:incoming"].push(v.id):A["bpmn:incoming"]=[A["bpmn:incoming"],v.id]:A["bpmn:incoming"]=v.id;var H=c.get(v.sourceNodeId);H["bpmn:outgoing"]?Array.isArray(H["bpmn:outgoing"])?H["bpmn:outgoing"].push(v.id):H["bpmn:outgoing"]=[H["bpmn:outgoing"],v.id]:H["bpmn:outgoing"]=v.id;var K={"-id":v.id,"-sourceRef":v.sourceNodeId,"-targetRef":v.targetNodeId};if(((b=v.text)===null||b===void 0?void 0:b.value)&&(K["-name"]=(P=v.text)===null||P===void 0?void 0:P.value),v.properties){var X=Xt(v.properties);Object.assign(K,X)}return K});d[ht.FLOW]=h}function V(d,l){d["bpmndi:BPMNEdge"]=l.edges.map(function(c){var h,v=c.id,b=c.pointsList.map(function(A){var H=A.x,K=A.y;return{"-x":H,"-y":K}}),P={"-id":v+"_di","-bpmnElement":v,"di:waypoint":b};return((h=c.text)===null||h===void 0?void 0:h.value)&&(P["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),P}),d["bpmndi:BPMNShape"]=l.nodes.map(function(c){var h,v=c.id,b=100,P=80,A=c.x,H=c.y,K=Ke.shapeConfigMap.get(c.type);K&&(b=K.width,P=K.height),A-=b/2,H-=P/2;var X={"-id":v+"_di","-bpmnElement":v,"dc:Bounds":{"-x":A,"-y":H,"-width":b,"-height":P}};return((h=c.text)===null||h===void 0?void 0:h.value)&&(X["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),X})}function be(d){var l=[],c=[],h=d["bpmn:definitions"];if(h){var v=h["bpmn:process"];Object.keys(v).forEach(function(b){if(b.indexOf("bpmn:")===0){var P=v[b];if(b===ht.FLOW){var A=h["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=Ye(P,A)}else{var H=h["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];l=l.concat(te(P,H,b))}}})}return{nodes:l,edges:c}}function te(d,l,c){var h=[];if(Array.isArray(d))d.forEach(function(P){var A;Array.isArray(l)?A=l.find(function(K){return K["-bpmnElement"]===P["-id"]}):A=l;var H=we(A,c,P);h.push(H)});else{var v=void 0;Array.isArray(l)?v=l.find(function(P){return P["-bpmnElement"]===d["-id"]}):v=l;var b=we(v,c,d);h.push(b)}return h}function we(d,l,c){var h=Number(d["dc:Bounds"]["-x"]),v=Number(d["dc:Bounds"]["-y"]),b=c["-name"],P=Ke.shapeConfigMap.get(l);P&&(h+=P.width/2,v+=P.height/2);var A;Object.entries(c).forEach(function(je){var Ne=gt(je,2),Ce=Ne[0],Fe=Ne[1];Lt.indexOf(Ce)===-1&&(A||(A={}),A[Ce]=Fe)}),A&&(A=wt(A));var H;if(b&&(H={x:h,y:v,value:b},d["bpmndi:BPMNLabel"]&&d["bpmndi:BPMNLabel"]["dc:Bounds"])){var K=d["bpmndi:BPMNLabel"]["dc:Bounds"];H.x=Number(K["-x"])+Number(K["-width"])/2,H.y=Number(K["-y"])+Number(K["-height"])/2}var X={id:d["-bpmnElement"],type:l,x:h,y:v,properties:A};return H&&(X.text=H),X}function Ye(d,l){var c=[];if(Array.isArray(d))d.forEach(function(v){var b;Array.isArray(l)?b=l.find(function(P){return P["-bpmnElement"]===v["-id"]}):b=l,c.push(Ve(b,v))});else{var h=void 0;Array.isArray(l)?h=l.find(function(v){return v["-bpmnElement"]===d["-id"]}):h=l,c.push(Ve(h,d))}return c}function Ve(d,l){var c,h=l["-name"];if(h){var v=d["bpmndi:BPMNLabel"]["dc:Bounds"],b=0;h.split(`
`).forEach(function(H){b<H.length&&(b=H.length)}),c={value:h,x:Number(v["-x"])+b*10/2,y:Number(v["-y"])+7}}var P;Object.entries(l).forEach(function(H){var K=gt(H,2),X=K[0],je=K[1];Lt.indexOf(X)===-1&&(P||(P={}),P[X]=je)}),P&&(P=wt(P));var A={id:l["-id"],type:ht.FLOW,pointsList:d["di:waypoint"].map(function(H){return{x:Number(H["-x"]),y:Number(H["-y"])}}),sourceNodeId:l["-sourceRef"],targetNodeId:l["-targetRef"],properties:P};return c&&(A.text=c),A}var Ke={pluginName:"bpmn-adapter",install:function(d){d.adapterIn=this.adapterIn,d.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(d,l){this.shapeConfigMap.set(d,l)},adapterOut:function(d){var l={"-id":"Process_"+Te(),"-isExecutable":"false"};en(l,d);var c={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};V(c,d);var h={"bpmn:definitions":{"-id":"Definitions_"+Te(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":l,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return h},adapterIn:function(d){if(d)return be(d)}};Ke.shapeConfigMap.set(ht.START,{width:W.width,height:W.height}),Ke.shapeConfigMap.set(ht.END,{width:Z.width,height:Z.height}),Ke.shapeConfigMap.set(ht.GATEWAY,{width:he.width,height:he.height}),Ke.shapeConfigMap.set(ht.SYSTEM,{width:Ee.width,height:Ee.height}),Ke.shapeConfigMap.set(ht.USER,{width:ze.width,height:ze.height});var _t={pluginName:"bpmnXmlAdapter",install:function(d){d.adapterIn=this.adapterXmlIn,d.adapterOut=this.adapterXmlOut},adapterXmlIn:function(d){var l=Nt(d);return Ke.adapterIn(l)},adapterXmlOut:function(d){var l=Ke.adapterOut(d);return We(l)}},rn=null,Jt=function(){return Jt=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},Jt.apply(this,arguments)},Bt=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},Vt={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},Qe={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function lt(d){switch(d){case"bpmn:sequenceFlow":return Vt.SEQUENCE_FLOW;case"bpmn:startEvent":return Vt.START_EVENT;case"bpmn:endEvent":return Vt.END_EVENT;case"bpmn:userTask":return Vt.USER_TASK;case"bpmn:exclusiveGateway":return Vt.EXCLUSIVE_GATEWAY;default:return d}}function yt(d){var l=d.id,c=d.type,h=d.x,v=d.y,b=d.text,P=b===void 0?"":b,A=d.properties;return{incoming:[],outgoing:[],dockers:[],type:lt(d.type),properties:Jt(Jt({},A),{name:P&&P.value||"",x:h,y:v,text:P}),key:l}}function xt(d){var l=d.id,c=d.type,h=d.sourceNodeId,v=d.targetNodeId,b=d.startPoint,P=d.endPoint,A=d.pointsList,H=d.text,K=H===void 0?"":H,X=d.properties;return{incoming:[h],outgoing:[v],type:lt(c),dockers:[],properties:Jt(Jt({},X),{name:K&&K.value||"",text:K,startPoint:JSON.stringify(b),endPoint:JSON.stringify(P),pointsList:JSON.stringify(K)}),key:l}}function Ht(d){var l=new Map,c={flowElementList:[]};return d.nodes.forEach(function(h){var v=yt(h);c.flowElementList.push(v),l.set(h.id,v)}),d.edges.forEach(function(h){var v=xt(h),b=l.get(h.sourceNodeId);b.outgoing.push(v.key);var P=l.get(h.targetNodeId);P.incoming.push(v.key),c.flowElementList.push(v)}),c}function Rt(d){var l=d.incoming,c=d.outgoing,h=d.properties,v=d.key,b=d.type,P=h.text,A=h.name,H=h.startPoint,K=h.endPoint,X=h.pointsList,je={id:v,type:Qe[b],sourceNodeId:l[0],targetNodeId:c[0],text:P||A,properties:{}};H&&(je.startPoint=JSON.parse(H)),K&&(je.endPoint=JSON.parse(K)),X&&(je.endPoint=JSON.parse(X));var Ne=["startPoint","endPoint","pointsList","text"];return Object.keys(d.properties).forEach(function(Ce){Ne.indexOf(Ce)===-1&&(je.properties[Ce]=d.properties[Ce])}),je}function br(d){var l=d.properties,c=d.key,h=d.type,v=d.bounds,b=l.x,P=l.y;if(b===void 0){var A=Bt(v,2),H=A[0],K=H.x,X=H.y,je=A[1],Ne=je.x,Ce=je.y;b=(K+Ne)/2,P=(X+Ce)/2}var Fe={id:c,type:Qe[h],x:b,y:P,text:l.text,properties:{}},et=["x","y","text"];return Object.keys(d.properties).forEach(function(ft){et.indexOf(ft)===-1&&(Fe.properties[ft]=d.properties[ft])}),Fe}function lr(d){var l={nodes:[],edges:[]},c=d.flowElementList;return c&&c.length>0&&c.forEach(function(h){if(h.type===Vt.SEQUENCE_FLOW){var v=Rt(h);l.edges.push(v)}else{var b=br(h);l.nodes.push(b)}}),l}var _r=function(){function d(l){var c=l.lf;c.adapterIn=this.adapterIn,c.adapterOut=this.adapterOut}return d.prototype.adapterOut=function(l){if(l)return Ht(l)},d.prototype.adapterIn=function(l){if(l)return lr(l)},d.pluginName="turboAdapter",d}(),So=null,Rr;(function(d){d.HORIZONTAL="horizontal",d.VERTICAL="vertical"})(Rr||(Rr={}));var Xo=function(d,l,c){var h=d.x,v=d.y;return(h-l.x)*(h-c.x)<=0&&(v-l.y)*(v-c.y)<=0},Zn=function(d){var l=d.x,c=d.y,h=d.width,v=d.height,b={minX:l-h/2,minY:c-v/2,maxX:l+h/2,maxY:c+v/2,x:l,y:c,width:h,height:v,centerX:l,centerY:c};return b},di=function(d,l){var c;return d.x===l.x?c=Rr.VERTICAL:d.y===l.y&&(c=Rr.HORIZONTAL),c},st=function(d,l,c){var h=Zn(d),v=di(l,c),b=Math.max(l.x,c.x),P=Math.min(l.x,c.x),A=Math.max(l.y,c.y),H=Math.min(l.y,c.y),K=d.x,X=d.y,je=d.width,Ne=d.height;if(v===Rr.HORIZONTAL){if(l.y===X&&b>=h.maxX&&P<=h.minX)return{startCrossPoint:{x:l.x>c.x?K+je/2:K-je/2,y:X},endCrossPoint:{x:l.x>c.x?K-je/2:K+je/2,y:X}}}else if(v===Rr.VERTICAL&&l.x===d.x&&A>=h.maxY&&H<=h.minY)return{startCrossPoint:{x:K,y:l.y>c.y?X+Ne/2:X-Ne/2},endCrossPoint:{x:K,y:l.y>c.y?X-Ne/2:X+Ne/2}}},Qi=function(d,l){for(var c=d.x,h=d.y,v=l.pointsList,b=0;b<v.length-1;b++)if(Xo({x:c,y:h},v[b],v[b+1])){var P=st(d,v[b],v[b+1]);if(P)return{crossIndex:b+1,crossPoints:P}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},hi=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},Uo=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(hi(arguments[l]));return d},Kn=function(){function d(l){var c=l.lf;this._lf=c,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return d.prototype.eventHandler=function(){var l=this;this.dndAdd&&this._lf.on("node:dnd-add",function(c){var h=c.data;l.insetNode(h)}),this.dropAdd&&this._lf.on("node:drop",function(c){for(var h=c.data,v=l._lf.graphModel.edges,b=h.id,P=!0,A=0;A<v.length;A++)if(v[A].sourceNodeId===b||v[A].targetNodeId===b){P=!1;break}P&&l.insetNode(h)})},d.prototype.insetNode=function(l){for(var c=this._lf.graphModel.edges,h=this._lf.getNodeModelById(l.id),v=0;v<c.length;v++){var b=Qi(h,c[v]),P=b.crossIndex,A=b.crossPoints;if(P>=0){var H=c[v],K=H.sourceNodeId,X=H.targetNodeId,je=H.id,Ne=H.type,Ce=H.pointsList;this._lf.addEdge({type:Ne,sourceNodeId:K,targetNodeId:l.id,pointsList:Uo(Ce.slice(0,P),[A.startCrossPoint])}),this._lf.addEdge({type:Ne,sourceNodeId:l.id,targetNodeId:X,pointsList:Uo([A.endCrossPoint],Ce.slice(P))}),this._lf.deleteEdge(je);break}}},d.pluginName="insertNodeInPolyline",d}(),$n=null,yi=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},fr=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(yi(arguments[l]));return d},no=function(){function d(l){var c=this,h=l.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){c.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){c.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){c.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){c.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){c.lf.redo()}}],this.lf=h}return d.prototype.render=function(l,c){this.destroy();var h=this.getControlTool();this.toolEl=h,c.appendChild(h),this.domContainer=c},d.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},d.prototype.addItem=function(l){this.controlItems.push(l)},d.prototype.removeItem=function(l){var c=this.controlItems.findIndex(function(h){return h.key===l});return this.controlItems.splice(c,1)[0]},d.prototype.getControlTool=function(){var l=this,c="lf-control-item",h="lf-control-item disabled",v=document.createElement("div"),b=[];return v.className="lf-control",this.controlItems.forEach(function(P){var A=document.createElement("div"),H=document.createElement("i"),K=document.createElement("span");switch(A.className=h,P.onClick&&(A.onclick=P.onClick.bind(null,l.lf)),P.onMouseEnter&&(A.onmouseenter=P.onMouseEnter.bind(null,l.lf)),P.onMouseLeave&&(A.onmouseleave=P.onMouseLeave.bind(null,l.lf)),H.className=P.iconClass,K.className="lf-control-text",K.title=P.title,K.innerText=P.text,A.append(H,K),P.text){case"\u4E0A\u4E00\u6B65":l.lf.on("history:change",function(X){var je=X.data.undoAble;A.className=je?c:h});break;case"\u4E0B\u4E00\u6B65":l.lf.on("history:change",function(X){var je=X.data.redoAble;A.className=je?c:h});break;default:A.className=c;break}b.push(A)}),v.append.apply(v,fr(b)),v},d.pluginName="control",d}(),pr=null,Vo=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},vi=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(Vo(arguments[l]));return d},ro="lf:defaultNodeMenu",dr="lf:defaultEdgeMenu",oo="lf:defaultGraphMenu",Yo="lf:defaultSelectionMenu",qi=function(){function d(l){var c=this,h=l.lf;this.__menuDOM=document.createElement("ul"),this.lf=h,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(v){c.setMenuConfig(v)},this.lf.addMenuConfig=function(v){c.addMenuConfig(v)},this.lf.setMenuByType=function(v){c.setMenuByType(v)}}return d.prototype.init=function(){var l=this,c=[{text:"\u5220\u9664",callback:function(b){l.lf.deleteNode(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){l.lf.graphModel.editText(b.id)}},{text:"\u590D\u5236",callback:function(b){l.lf.cloneNode(b.id)}}];this.menuTypeMap.set(ro,c);var h=[{text:"\u5220\u9664",callback:function(b){l.lf.deleteEdge(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){l.lf.graphModel.editText(b.id)}}];this.menuTypeMap.set(dr,h),this.menuTypeMap.set(oo,[]);var v=[{text:"\u5220\u9664",callback:function(b){l.lf.clearSelectElements(),b.edges.forEach(function(P){return l.lf.deleteEdge(P.id)}),b.nodes.forEach(function(P){return l.lf.deleteNode(P.id)})}}];this.menuTypeMap.set(Yo,v)},d.prototype.render=function(l,c){var h=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(v){v.stopPropagation();for(var b=v.target;Array.from(b.classList).indexOf("lf-menu-item")===-1&&Array.from(b.classList).indexOf("lf-menu")===-1;)b=b.parentElement;Array.from(b.classList).indexOf("lf-menu-item")>-1?(b.onclickCallback(h.__currentData),h.__menuDOM.style.display="none",h.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(v){var b=v.data,P=v.position,A=P.domOverlayPosition,H=A.x,K=A.y,X=b.id,je=h.lf.graphModel.getNodeModelById(X),Ne=[],Ce=h.menuTypeMap.get(je.type);je&&je.menu&&Array.isArray(je.menu)?Ne=je.menu:Ce?Ne=Ce:Ne=h.menuTypeMap.get(ro),h.__currentData=b,h.showMenu(H,K,Ne)}),this.lf.on("edge:contextmenu",function(v){var b=v.data,P=v.position,A=P.domOverlayPosition,H=A.x,K=A.y,X=b.id,je=h.lf.graphModel.getEdgeModelById(X),Ne=[],Ce=h.menuTypeMap.get(je.type);je&&je.menu&&Array.isArray(je.menu)?Ne=je.menu:Ce?Ne=Ce:Ne=h.menuTypeMap.get(dr),h.__currentData=b,h.showMenu(H,K,Ne)}),this.lf.on("blank:contextmenu",function(v){var b=v.position,P=h.menuTypeMap.get(oo),A=b.domOverlayPosition,H=A.x,K=A.y;h.showMenu(H,K,P)}),this.lf.on("selection:contextmenu",function(v){var b=v.data,P=v.position,A=h.menuTypeMap.get(Yo),H=P.domOverlayPosition,K=H.x,X=H.y;h.__currentData=b,h.showMenu(K,X,A)}),this.lf.on("node:mousedown",function(){h.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){h.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){h.__menuDOM.style.display="none"})},d.prototype.destroy=function(){var l;(l=this===null||this===void 0?void 0:this.__container)===null||l===void 0||l.removeChild(this.__menuDOM),this.__menuDOM=null},d.prototype.showMenu=function(l,c,h){if(!(!h||!h.length)){var v=this.__menuDOM;v.innerHTML="",v.append.apply(v,vi(this.__getMenuDom(h))),!!v.children.length&&(v.style.display="block",v.style.top=c+"px",v.style.left=l+"px")}},d.prototype.setMenuByType=function(l){!l.type||!l.menu||this.menuTypeMap.set(l.type,l.menu)},d.prototype.__getMenuDom=function(l){var c=[];return l&&l.length>0&&l.forEach(function(h){var v=document.createElement("li");if(h.className?v.className="lf-menu-item "+h.className:v.className="lf-menu-item",h.icon===!0){var b=document.createElement("span");b.className="lf-menu-item-icon",v.appendChild(b)}var P=document.createElement("span");P.className="lf-menu-item-text",h.text&&(P.innerText=h.text),v.appendChild(P),v.onclickCallback=h.callback,c.push(v)}),c},d.prototype.setMenuConfig=function(l){!l||(l.nodeMenu!==void 0&&this.menuTypeMap.set(ro,l.nodeMenu?l.nodeMenu:[]),l.edgeMenu!==void 0&&this.menuTypeMap.set(dr,l.edgeMenu?l.edgeMenu:[]),l.graphMenu!==void 0&&this.menuTypeMap.set(oo,l.graphMenu?l.graphMenu:[]))},d.prototype.addMenuConfig=function(l){if(!!l){if(Array.isArray(l.nodeMenu)){var c=this.menuTypeMap.get(ro);this.menuTypeMap.set(ro,c.concat(l.nodeMenu))}if(Array.isArray(l.edgeMenu)){var c=this.menuTypeMap.get(dr);this.menuTypeMap.set(dr,c.concat(l.edgeMenu))}if(Array.isArray(l.graphMenu)){var c=this.menuTypeMap.get(oo);this.menuTypeMap.set(oo,c.concat(l.graphMenu))}}},d.prototype.changeMenuItem=function(l,c){if(l==="add")this.addMenuConfig(c);else if(l==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},d.pluginName="menu",d}(),Ir=null,gi=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},Jn="menu-common",mi=200,jo=100,Wo=function(){function d(l){var c=this,h=l.lf;this.menuTypeMap=new Map,this.listenDelete=function(){c.hideContextMenu()},this.lf=h,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(Jn,[]),this.lf.setContextMenuByType=function(v,b){c.setContextMenuByType(v,b)},this.lf.setContextMenuItems=function(v){c.setContextMenuItems(v)},this.lf.showContextMenu=function(v){c.showContextMenu(v)},this.lf.hideContextMenu=function(){c.hideContextMenu()}}return d.prototype.render=function(l,c){var h=this;this.container=c,l.on("node:click",function(v){var b=v.data;h._activeData=b,h.createContextMenu()}),l.on("edge:click",function(v){var b=v.data;h._activeData=b,h.createContextMenu()}),l.on("blank:click",function(){h.hideContextMenu()})},d.prototype.setContextMenuByType=function(l,c){this.menuTypeMap.set(l,c)},d.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},d.prototype.showContextMenu=function(l){if(!l||!l.id){console.warn("\u8BF7\u68C0\u67E5\u4F20\u5165\u7684\u53C2\u6570");return}this._activeData=l,this.createContextMenu()},d.prototype.setContextMenuItems=function(l){this.menuTypeMap.set(Jn,l)},d.prototype.getContextMenuPosition=function(){var l=this._activeData,c=this.lf.graphModel.getElement(l.id);if(!c){console.warn("\u627E\u4E0D\u5230\u5143\u7D20"+l.id);return}var h,v;if(c.BaseType==="edge"){h=Number.MIN_SAFE_INTEGER,v=Number.MAX_SAFE_INTEGER;var b=c.getData();h=Math.max(b.startPoint.x,h),v=Math.min(b.startPoint.y,v),h=Math.max(b.endPoint.x,h),v=Math.min(b.endPoint.y,v),b.pointsList&&b.pointsList.forEach(function(P){h=Math.max(P.x,h),v=Math.min(P.y,v)})}return c.BaseType==="node"&&(h=l.x+c.width/2,v=l.y-c.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([h,v])},d.prototype.createContextMenu=function(){var l=this,c=this.lf.options.isSilentMode;if(!c){var h=this.menuTypeMap.get(this._activeData.type)||[];h=h.concat(this.menuTypeMap.get(Jn));var v=document.createDocumentFragment();h.forEach(function(b){var P=document.createElement("div");P.className="lf-context-item";var A=document.createElement("img");A.src=b.icon,A.className="lf-context-img",b.className&&(P.className=P.className+" "+b.className),A.addEventListener("click",function(){l.hideContextMenu(),b.callback?b.callback(l._activeData):l.addNode({sourceId:l._activeData.id,x:l._activeData.x,y:l._activeData.y,properties:b.properties,type:b.type})}),P.appendChild(A),v.appendChild(P)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(v),this.showMenu()}},d.prototype.addNode=function(l,c){var h=c!==void 0;c===void 0&&(c=l.y);var v=this.lf.getNodeModelById(l.sourceId),b=l.x-v.width+mi,P=c-l.y/2-20,A=l.x+v.width+mi,H=c+l.y/2+20,K=this.lf.getAreaElement([b,P],[A,H]);if(K.length){c=c+jo,this.addNode(l,c);return}var X=this.lf.addNode({type:l.type,x:l.x+200,y:c,properties:l.properties}),je,Ne;h&&(je={x:l.x,y:l.y+v.height/2},Ne={x:X.x-X.width/2,y:X.y}),this.lf.addEdge({sourceNodeId:l.sourceId,targetNodeId:X.id,startPoint:je,endPoint:Ne})},d.prototype.showMenu=function(){var l=gi(this.getContextMenuPosition(),2),c=l[0],h=l[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=h+"px",this.__menuDOM.style.left=c+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},d.pluginName="contextMenu",d}(),bi=null,ea=function(){function d(l){var c=this,h=l.lf;this.lf=h,this.lf.setPatternItems=function(v){c.setPatternItems(v)}}return d.prototype.render=function(l,c){var h=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(v){h.panelEl.appendChild(h.createDndItem(v))}),c.appendChild(this.panelEl),this.domContainer=c},d.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},d.prototype.setPatternItems=function(l){this.shapeList=l,this.domContainer&&this.render(this.lf,this.domContainer)},d.prototype.createDndItem=function(l){var c=this,h=document.createElement("div");h.className=l.className?"lf-dnd-item "+l.className:"lf-dnd-item";var v=document.createElement("div");if(v.className="lf-dnd-shape",l.icon&&(v.style.backgroundImage="url("+l.icon+")"),h.appendChild(v),l.label){var b=document.createElement("div");b.innerText=l.label,b.className="lf-dnd-text",h.appendChild(b)}return h.onmousedown=function(){l.type&&c.lf.dnd.startDrag({type:l.type,properties:l.properties,text:l.text}),l.callback&&l.callback(c.lf,c.domContainer)},h},d.pluginName="dndPanel",d}(),_i=function(){function d(l){var c=this,h=l.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(b){var P=c.lf.getPointByClient(b.clientX,b.clientY).domOverlayPosition,A=P.x,H=P.y;c.endPoint={x:A,y:H};var K=c.startPoint,X=K.x,je=K.y,Ne=c.wrapper.style,Ce=X,Fe=je,et=A-X,ft=H-je;A<X&&(Ce=A,et=X-A),H<je&&(Fe=H,ft=je-H),Ne.left=Ce+"px",Ne.top=Fe+"px",Ne.width=et+"px",Ne.height=ft+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var b=c.startPoint,P=b.x,A=b.y,H=c.endPoint,K=H.x,X=H.y;if(!(Math.abs(K-P)<10&&Math.abs(X-A)<10)){var je=[Math.min(P,K),Math.min(A,X)],Ne=[Math.max(P,K),Math.max(A,X)],Ce=c.lf.getAreaElement(je,Ne,c.isWholeEdge,c.isWholeNode);Ce.forEach(function(Fe){c.lf.selectElementById(Fe.id,!0)}),c.lf.emit("selection:selected",Ce)}},this.lf=h;var v=h.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=v,h.openSelectionSelect=function(){c.openSelectionSelect()},h.closeSelectionSelect=function(){c.closeSelectionSelect()}}return d.prototype.render=function(l,c){var h=this;this.__domContainer=c,l.on("blank:mousedown",function(v){var b=v.e,P=l.getEditConfig();if(!(!P.stopMoveGraph||h.__disabled)){var A=l.getPointByClient(b.clientX,b.clientY).domOverlayPosition,H=A.x,K=A.y;h.startPoint={x:H,y:K},h.endPoint={x:H,y:K};var X=document.createElement("div");X.className="lf-selection-select",X.style.top=h.startPoint.y+"px",X.style.left=h.startPoint.x+"px",c.appendChild(X),h.wrapper=X,document.addEventListener("mousemove",h.__draw),document.addEventListener("mouseup",h.__drawOff)}})},d.prototype.setSelectionSense=function(l,c){l===void 0&&(l=!0),c===void 0&&(c=!0),this.isWholeEdge=l,this.isWholeNode=c},d.prototype.openSelectionSelect=function(){var l=this.lf.getEditConfig().stopMoveGraph;l||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},d.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},d.prototype.open=function(){this.__disabled=!1},d.prototype.close=function(){this.__disabled=!0},d.pluginName="selectionSelect",d}(),Lr=function(d){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&d[l],h=0;if(c)return c.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&h>=d.length&&(d=void 0),{value:d&&d[h++],done:!d}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},zr=function(){function d(l){var c=this,h=l.lf,v=l.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(b,P){c.__setView(),c.__isShow||c.__createMiniMap(b,P),c.__isShow=!0},this.hide=function(){c.__isShow&&c.__removeMiniMap(),c.__isShow=!1},this.__startDrag=function(b){document.addEventListener("mousemove",c.__drag),document.addEventListener("mouseup",c.__drop),c.__startPosition={x:b.x,y:b.y}},this.__drag=function(b){var P=c.__viewport.style;c.__viewPortTop+=b.y-c.__startPosition.y,c.__viewPortLeft+=b.x-c.__startPosition.x,P.top=c.__viewPortTop+"px",P.left=c.__viewPortLeft+"px",c.__startPosition={x:b.x,y:b.y};var A=(c.__viewPortLeft+c.__viewPortWidth/2)/c.__viewPortScale,H=(c.__viewPortTop+c.__viewPortHeight/2)/c.__viewPortScale;c.__lf.focusOn({coordinate:{x:A+c.__resetDataX,y:H+c.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",c.__drag),document.removeEventListener("mouseup",c.__drop)},this.__lf=h,this.__miniMapWidth=h.graphModel.width,this.__miniMapHeight=h.graphModel.width*220/150,this.__LogicFlow=v,this.__init()}return d.prototype.render=function(l,c){var h=this;this.__container=c,this.__lf.on("history:change",function(){h.__isShow&&h.__setView()}),this.__lf.on("blank:drop",function(){h.__isShow&&h.__setView()})},d.prototype.init=function(l){this.__disabledPlugins=this.__disabledPlugins.concat(l.disabledPlugins||[])},d.prototype.__init=function(){var l=document.createElement("div");l.className="lf-mini-map-graph",l.style.width=this.__width+"px",l.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:this.__lf.graphModel.width*220/150,container:l,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(c){return c},this.__lfMap.adapterOut=function(c){return c},this.__miniMapWrap=l,this.__createViewPort()},d.prototype.__createMiniMap=function(l,c){var h=document.createElement("div"),v=this.__miniMapWrap;h.appendChild(v),typeof l!="undefined"&&typeof c!="undefined"&&(h.style.left=l+"px",h.style.top=c+"px"),h.style.position="absolute",h.className="lf-mini-map",this.__container.appendChild(h),this.__miniMapWrap.appendChild(this.__viewport);var b=document.createElement("div");b.className="lf-mini-map-header",b.innerText="\u5BFC\u822A",h.appendChild(b);var P=document.createElement("span");P.className="lf-mini-map-close",P.addEventListener("click",this.hide),h.appendChild(P),this.__miniMapContainer=h},d.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},d.prototype.__getBounds=function(l){var c=0,h=this.__miniMapWidth,v=0,b=this.__miniMapHeight,P=l.nodes;return P&&P.length>0&&P.forEach(function(A){var H=A.x,K=A.y,X=A.width,je=X===void 0?200:X,Ne=A.height,Ce=Ne===void 0?200:Ne,Fe=H-je/2,et=H+je/2,ft=K-Ce/2,vt=K+Ce/2;c=Fe<c?Fe:c,h=et>h?et:h,v=ft<v?ft:v,b=vt>b?vt:b}),{left:c,top:v,bottom:b,right:h}},d.prototype.__resetData=function(l){var c=l.nodes,h=l.edges,v=0,b=0;return c&&c.length>0&&(c.forEach(function(P){var A=P.x,H=P.y,K=P.width,X=K===void 0?200:K,je=P.height,Ne=je===void 0?200:je,Ce=A-X/2,Fe=H-Ne/2;v=Ce<v?Ce:v,b=Fe<b?Fe:b}),(v<0||b<0)&&(this.__resetDataX=v,this.__resetDataY=b,c.forEach(function(P){P.x=P.x-v,P.y=P.y-b,P.text&&(P.text.x=P.text.x-v,P.text.y=P.text.y-b)}),h.forEach(function(P){P.startPoint&&(P.startPoint.x=P.startPoint.x-v,P.startPoint.y=P.startPoint.y-b),P.endPoint&&(P.endPoint.x=P.endPoint.x-v,P.endPoint.y=P.endPoint.y-b),P.text&&(P.text.x=P.text.x-v,P.text.y=P.text.y-b),P.pointsList&&P.pointsList.forEach(function(A){A.x=A.x-v,A.y=A.y-b})}))),l},d.prototype.__setView=function(){var l,c,h=this.__resetData(this.__lf.getGraphRawData()),v=this.__lf.viewMap,b=this.__lf.graphModel.modelMap,P=this.__lfMap.viewMap;try{for(var A=Lr(v.keys()),H=A.next();!H.done;H=A.next()){var K=H.value;P.has(K)||(this.__lfMap.setView(K,v.get(K)),this.__lfMap.graphModel.modelMap.set(K,b.get(K)))}}catch(kt){l={error:kt}}finally{try{H&&!H.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}this.__lfMap.render(h);var X=this.__getBounds(h),je=X.left,Ne=X.top,Ce=X.right,Fe=X.bottom,et=this.__width/(Ce-je),ft=this.__height/(Fe-Ne),vt=this.__miniMapWrap.firstChild.style,ct=Math.min(et,ft);vt.transform="matrix("+ct+", 0, 0, "+ct+", 0, 0)",vt.transformOrigin="left top",vt.height=Fe-Math.min(Ne,0)+"px",vt.width=Ce-Math.min(je,0)+"px",this.__viewPortScale=ct,this.__setViewPort(ct,{left:je,top:Ne,right:Ce,bottom:Fe})},d.prototype.__setViewPort=function(l,c){var h=c.left,v=c.right,b=c.top,P=c.bottom,A=this.__viewport.style;A.width=this.__width-4+"px",A.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var H=this.__lf.getTransform(),K=H.TRANSLATE_X,X=H.TRANSLATE_Y,je=v-h,Ne=(this.__width-4)/(je/this.__lf.graphModel.width),Ce=this.__lf.graphModel.width/this.__lf.graphModel.height,Fe=Ne/Ce;this.__viewPortTop=X>0?0:-X*l,this.__viewPortLeft=-K*l,this.__viewPortWidth=Ne,this.__viewPortHeight=Fe,A.top=this.__viewPortTop+"px",A.left=this.__viewPortLeft+"px",A.width=Ne+"px",A.height=Fe+"px"},d.prototype.__createViewPort=function(){var l=document.createElement("div");l.className="lf-minimap-viewport",l.addEventListener("mousedown",this.__startDrag),this.__viewport=l},d.pluginName="miniMap",d}(),ta=null,Or=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Tn=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},Oi=function(d){Or(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),h=c.strokeWidth,v=c.stroke,b=c.strokeDashArray,P=this.props.model.points,A=P.split(" ").map(function(En){return En.split(",").map(function(Ln){return Number(Ln)})}),H=Tn(A[0],2),K=H[0],X=H[1],je="M"+K+" "+X,Ne=5,Ce=1;Ce<A.length-1;Ce++){var Fe=Tn(A[Ce-1],2),et=Fe[0],ft=Fe[1],vt=Tn(A[Ce],2),ct=vt[0],kt=vt[1],On=Tn(A[Ce+1],2),on=On[0],$t=On[1];if(ct===et&&kt!==ft){var Ct=kt>ft?kt-Ne:kt+Ne;je=je+" L "+ct+" "+Ct}if(kt===ft&&ct!==et){var wn=ct>et?ct-Ne:ct+Ne;je=je+" L "+wn+" "+kt}if(je=je+" Q "+ct+" "+kt,ct===on&&kt!==$t){var Ct=kt>$t?kt-Ne:kt+Ne;je=je+" "+ct+" "+Ct}if(kt===$t&&ct!==on){var wn=ct>on?ct-Ne:ct+Ne;je=je+" "+wn+" "+kt}}var xn=Tn(A[A.length-1],2),cn=xn[0],ln=xn[1];return je=je+" L "+cn+" "+ln,(0,j.h)("path",{d:je,strokeWidth:h,stroke:v,fill:"none",strokeDashArray:b})},l.extendKey="curvedEdge",l}(j.PolylineEdge),wi=function(d){Or(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l}(j.PolylineEdgeModel),io={pluginName:"curved-edge",curvedSpace:5,init:function(d){var l=d.curvedSpace;io.curvedSpace=l},install:function(d){d.register({type:"curved-edge",view:Oi,model:wi})}},na=null,ao,Qt,Zo,uo,Br,xi,Ko,Po,hr={},nr=[],hn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Qn(d,l){for(var c in l)d[c]=l[c];return d}function $o(d){var l=d.parentNode;l&&l.removeChild(d)}function wr(d,l,c){var h,v,b,P={};for(b in l)b=="key"?h=l[b]:b=="ref"?v=l[b]:P[b]=l[b];if(arguments.length>2&&(P.children=arguments.length>3?ao.call(arguments,2):c),typeof d=="function"&&d.defaultProps!=null)for(b in d.defaultProps)P[b]===void 0&&(P[b]=d.defaultProps[b]);return so(d,P,h,v,null)}function so(d,l,c,h,v){var b={type:d,props:l,key:c,ref:h,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:v==null?++Zo:v};return v==null&&Qt.vnode!=null&&Qt.vnode(b),b}function Hr(){return{current:null}}function jn(d){return d.children}function Fr(d,l){this.props=d,this.context=l}function yn(d,l){if(l==null)return d.__?yn(d.__,d.__.__k.indexOf(d)+1):null;for(var c;l<d.__k.length;l++)if((c=d.__k[l])!=null&&c.__e!=null)return c.__e;return typeof d.type=="function"?yn(d):null}function Cn(d){var l,c;if((d=d.__)!=null&&d.__c!=null){for(d.__e=d.__c.base=null,l=0;l<d.__k.length;l++)if((c=d.__k[l])!=null&&c.__e!=null){d.__e=d.__c.base=c.__e;break}return Cn(d)}}function Mo(d){(!d.__d&&(d.__d=!0)&&Br.push(d)&&!co.__r++||Ko!==Qt.debounceRendering)&&((Ko=Qt.debounceRendering)||xi)(co)}function co(){for(var d;co.__r=Br.length;)d=Br.sort(function(l,c){return l.__v.__b-c.__v.__b}),Br=[],d.some(function(l){var c,h,v,b,P,A;l.__d&&(P=(b=(c=l).__v).__e,(A=c.__P)&&(h=[],(v=Qn({},b)).__v=b.__v+1,rr(A,b,v,c.__n,A.ownerSVGElement!==void 0,b.__h!=null?[P]:null,h,P==null?yn(b):P,b.__h),sn(h,b),b.__e!=P&&Cn(b)))})}function Ei(d,l,c,h,v,b,P,A,H,K){var X,je,Ne,Ce,Fe,et,ft,vt=h&&h.__k||nr,ct=vt.length;for(c.__k=[],X=0;X<l.length;X++)if((Ce=c.__k[X]=(Ce=l[X])==null||typeof Ce=="boolean"?null:typeof Ce=="string"||typeof Ce=="number"||typeof Ce=="bigint"?so(null,Ce,null,null,Ce):Array.isArray(Ce)?so(jn,{children:Ce},null,null,null):Ce.__b>0?so(Ce.type,Ce.props,Ce.key,null,Ce.__v):Ce)!=null){if(Ce.__=c,Ce.__b=c.__b+1,(Ne=vt[X])===null||Ne&&Ce.key==Ne.key&&Ce.type===Ne.type)vt[X]=void 0;else for(je=0;je<ct;je++){if((Ne=vt[je])&&Ce.key==Ne.key&&Ce.type===Ne.type){vt[je]=void 0;break}Ne=null}rr(d,Ce,Ne=Ne||hr,v,b,P,A,H,K),Fe=Ce.__e,(je=Ce.ref)&&Ne.ref!=je&&(ft||(ft=[]),Ne.ref&&ft.push(Ne.ref,null,Ce),ft.push(je,Ce.__c||Fe,Ce)),Fe!=null?(et==null&&(et=Fe),typeof Ce.type=="function"&&Ce.__k===Ne.__k?Ce.__d=H=lo(Ce,H,d):H=Gr(d,Ce,Ne,vt,Fe,H),typeof c.type=="function"&&(c.__d=H)):H&&Ne.__e==H&&H.parentNode!=d&&(H=yn(Ne))}for(c.__e=et,X=ct;X--;)vt[X]!=null&&(typeof c.type=="function"&&vt[X].__e!=null&&vt[X].__e==c.__d&&(c.__d=yn(h,X+1)),Jo(vt[X],vt[X]));if(ft)for(X=0;X<ft.length;X++)ko(ft[X],ft[++X],ft[++X])}function lo(d,l,c){for(var h,v=d.__k,b=0;v&&b<v.length;b++)(h=v[b])&&(h.__=d,l=typeof h.type=="function"?lo(h,l,c):Gr(c,h,h,v,h.__e,l));return l}function yr(d,l){return l=l||[],d==null||typeof d=="boolean"||(Array.isArray(d)?d.some(function(c){yr(c,l)}):l.push(d)),l}function Gr(d,l,c,h,v,b){var P,A,H;if(l.__d!==void 0)P=l.__d,l.__d=void 0;else if(c==null||v!=b||v.parentNode==null)e:if(b==null||b.parentNode!==d)d.appendChild(v),P=null;else{for(A=b,H=0;(A=A.nextSibling)&&H<h.length;H+=2)if(A==v)break e;d.insertBefore(v,b),P=b}return P!==void 0?P:v.nextSibling}function ra(d,l,c,h,v){var b;for(b in c)b==="children"||b==="key"||b in l||qn(d,b,null,c[b],h);for(b in l)v&&typeof l[b]!="function"||b==="children"||b==="key"||b==="value"||b==="checked"||c[b]===l[b]||qn(d,b,l[b],c[b],h)}function bn(d,l,c){l[0]==="-"?d.setProperty(l,c):d[l]=c==null?"":typeof c!="number"||hn.test(l)?c:c+"px"}function qn(d,l,c,h,v){var b;e:if(l==="style")if(typeof c=="string")d.style.cssText=c;else{if(typeof h=="string"&&(d.style.cssText=h=""),h)for(l in h)c&&l in c||bn(d.style,l,"");if(c)for(l in c)h&&c[l]===h[l]||bn(d.style,l,c[l])}else if(l[0]==="o"&&l[1]==="n")b=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in d?l.toLowerCase().slice(2):l.slice(2),d.l||(d.l={}),d.l[l+b]=c,c?h||d.addEventListener(l,b?Rn:Tt,b):d.removeEventListener(l,b?Rn:Tt,b);else if(l!=="dangerouslySetInnerHTML"){if(v)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(l!=="href"&&l!=="list"&&l!=="form"&&l!=="tabIndex"&&l!=="download"&&l in d)try{d[l]=c==null?"":c;break e}catch(P){}typeof c=="function"||(c!=null&&(c!==!1||l[0]==="a"&&l[1]==="r")?d.setAttribute(l,c):d.removeAttribute(l))}}function Tt(d){this.l[d.type+!1](Qt.event?Qt.event(d):d)}function Rn(d){this.l[d.type+!0](Qt.event?Qt.event(d):d)}function rr(d,l,c,h,v,b,P,A,H){var K,X,je,Ne,Ce,Fe,et,ft,vt,ct,kt,On,on,$t=l.type;if(l.constructor!==void 0)return null;c.__h!=null&&(H=c.__h,A=l.__e=c.__e,l.__h=null,b=[A]),(K=Qt.__b)&&K(l);try{e:if(typeof $t=="function"){if(ft=l.props,vt=(K=$t.contextType)&&h[K.__c],ct=K?vt?vt.props.value:K.__:h,c.__c?et=(X=l.__c=c.__c).__=X.__E:("prototype"in $t&&$t.prototype.render?l.__c=X=new $t(ft,ct):(l.__c=X=new Fr(ft,ct),X.constructor=$t,X.render=er),vt&&vt.sub(X),X.props=ft,X.state||(X.state={}),X.context=ct,X.__n=h,je=X.__d=!0,X.__h=[]),X.__s==null&&(X.__s=X.state),$t.getDerivedStateFromProps!=null&&(X.__s==X.state&&(X.__s=Qn({},X.__s)),Qn(X.__s,$t.getDerivedStateFromProps(ft,X.__s))),Ne=X.props,Ce=X.state,je)$t.getDerivedStateFromProps==null&&X.componentWillMount!=null&&X.componentWillMount(),X.componentDidMount!=null&&X.__h.push(X.componentDidMount);else{if($t.getDerivedStateFromProps==null&&ft!==Ne&&X.componentWillReceiveProps!=null&&X.componentWillReceiveProps(ft,ct),!X.__e&&X.shouldComponentUpdate!=null&&X.shouldComponentUpdate(ft,X.__s,ct)===!1||l.__v===c.__v){X.props=ft,X.state=X.__s,l.__v!==c.__v&&(X.__d=!1),X.__v=l,l.__e=c.__e,l.__k=c.__k,l.__k.forEach(function(Ct){Ct&&(Ct.__=l)}),X.__h.length&&P.push(X);break e}X.componentWillUpdate!=null&&X.componentWillUpdate(ft,X.__s,ct),X.componentDidUpdate!=null&&X.__h.push(function(){X.componentDidUpdate(Ne,Ce,Fe)})}if(X.context=ct,X.props=ft,X.__v=l,X.__P=d,kt=Qt.__r,On=0,"prototype"in $t&&$t.prototype.render)X.state=X.__s,X.__d=!1,kt&&kt(l),K=X.render(X.props,X.state,X.context);else do X.__d=!1,kt&&kt(l),K=X.render(X.props,X.state,X.context),X.state=X.__s;while(X.__d&&++On<25);X.state=X.__s,X.getChildContext!=null&&(h=Qn(Qn({},h),X.getChildContext())),je||X.getSnapshotBeforeUpdate==null||(Fe=X.getSnapshotBeforeUpdate(Ne,Ce)),on=K!=null&&K.type===jn&&K.key==null?K.props.children:K,Ei(d,Array.isArray(on)?on:[on],l,c,h,v,b,P,A,H),X.base=l.__e,l.__h=null,X.__h.length&&P.push(X),et&&(X.__E=X.__=null),X.__e=!1}else b==null&&l.__v===c.__v?(l.__k=c.__k,l.__e=c.__e):l.__e=Si(c.__e,l,c,h,v,b,P,H);(K=Qt.diffed)&&K(l)}catch(Ct){l.__v=null,(H||b!=null)&&(l.__e=A,l.__h=!!H,b[b.indexOf(A)]=null),Qt.__e(Ct,l,c)}}function sn(d,l){Qt.__c&&Qt.__c(l,d),d.some(function(c){try{d=c.__h,c.__h=[],d.some(function(h){h.call(c)})}catch(h){Qt.__e(h,c.__v)}})}function Si(d,l,c,h,v,b,P,A){var H,K,X,je=c.props,Ne=l.props,Ce=l.type,Fe=0;if(Ce==="svg"&&(v=!0),b!=null){for(;Fe<b.length;Fe++)if((H=b[Fe])&&"setAttribute"in H==!!Ce&&(Ce?H.localName===Ce:H.nodeType===3)){d=H,b[Fe]=null;break}}if(d==null){if(Ce===null)return document.createTextNode(Ne);d=v?document.createElementNS("http://www.w3.org/2000/svg",Ce):document.createElement(Ce,Ne.is&&Ne),b=null,A=!1}if(Ce===null)je===Ne||A&&d.data===Ne||(d.data=Ne);else{if(b=b&&ao.call(d.childNodes),K=(je=c.props||hr).dangerouslySetInnerHTML,X=Ne.dangerouslySetInnerHTML,!A){if(b!=null)for(je={},Fe=0;Fe<d.attributes.length;Fe++)je[d.attributes[Fe].name]=d.attributes[Fe].value;(X||K)&&(X&&(K&&X.__html==K.__html||X.__html===d.innerHTML)||(d.innerHTML=X&&X.__html||""))}if(ra(d,Ne,je,v,A),X)l.__k=[];else if(Fe=l.props.children,Ei(d,Array.isArray(Fe)?Fe:[Fe],l,c,h,v&&Ce!=="foreignObject",b,P,b?b[0]:c.__k&&yn(c,0),A),b!=null)for(Fe=b.length;Fe--;)b[Fe]!=null&&$o(b[Fe]);A||("value"in Ne&&(Fe=Ne.value)!==void 0&&(Fe!==d.value||Ce==="progress"&&!Fe||Ce==="option"&&Fe!==je.value)&&qn(d,"value",Fe,je.value,!1),"checked"in Ne&&(Fe=Ne.checked)!==void 0&&Fe!==d.checked&&qn(d,"checked",Fe,je.checked,!1))}return d}function ko(d,l,c){try{typeof d=="function"?d(l):d.current=l}catch(h){Qt.__e(h,c)}}function Jo(d,l,c){var h,v;if(Qt.unmount&&Qt.unmount(d),(h=d.ref)&&(h.current&&h.current!==d.__e||ko(h,null,l)),(h=d.__c)!=null){if(h.componentWillUnmount)try{h.componentWillUnmount()}catch(b){Qt.__e(b,l)}h.base=h.__P=null}if(h=d.__k)for(v=0;v<h.length;v++)h[v]&&Jo(h[v],l,typeof d.type!="function");c||d.__e==null||$o(d.__e),d.__e=d.__d=void 0}function er(d,l,c){return this.constructor(d,c)}function ji(d,l,c){var h,v,b;Qt.__&&Qt.__(d,l),v=(h=typeof c=="function")?null:c&&c.__k||l.__k,b=[],rr(l,d=(!h&&c||l).__k=wr(jn,null,[d]),v||hr,hr,l.ownerSVGElement!==void 0,!h&&c?[c]:v?null:l.firstChild?ao.call(l.childNodes):null,b,!h&&c?c:v?v.__e:l.firstChild,h),sn(b,d)}function No(d,l){ji(d,l,No)}function or(d,l,c){var h,v,b,P=Qn({},d.props);for(b in l)b=="key"?h=l[b]:b=="ref"?v=l[b]:P[b]=l[b];return arguments.length>2&&(P.children=arguments.length>3?ao.call(arguments,2):c),so(d.type,P,h||d.key,v||d.ref,null)}function oa(d,l){var c={__c:l="__cC"+Po++,__:d,Consumer:function(h,v){return h.children(v)},Provider:function(h){var v,b;return this.getChildContext||(v=[],(b={})[l]=this,this.getChildContext=function(){return b},this.shouldComponentUpdate=function(P){this.props.value!==P.value&&v.some(Mo)},this.sub=function(P){v.push(P);var A=P.componentWillUnmount;P.componentWillUnmount=function(){v.splice(v.indexOf(P),1),A&&A.call(P)}}),h.children}};return c.Provider.__=c.Consumer.contextType=c}ao=nr.slice,Qt={__e:function(d,l,c,h){for(var v,b,P;l=l.__;)if((v=l.__c)&&!v.__)try{if((b=v.constructor)&&b.getDerivedStateFromError!=null&&(v.setState(b.getDerivedStateFromError(d)),P=v.__d),v.componentDidCatch!=null&&(v.componentDidCatch(d,h||{}),P=v.__d),P)return v.__E=v}catch(A){d=A}throw d}},Zo=0,uo=function(d){return d!=null&&d.constructor===void 0},Fr.prototype.setState=function(d,l){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Qn({},this.state),typeof d=="function"&&(d=d(Qn({},c),this.props)),d&&Qn(c,d),d!=null&&this.__v&&(l&&this.__h.push(l),Mo(this))},Fr.prototype.forceUpdate=function(d){this.__v&&(this.__e=!0,d&&this.__h.push(d),Mo(this))},Fr.prototype.render=jn,Br=[],xi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,co.__r=0,Po=0;var fo=function(){return fo=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},fo.apply(this,arguments)};function po(d){var l=d.x,c=d.y,h=d.width,v=d.height,b=d.radius,P=d.className,A=l-h/2,H=c-v/2,K=fo(fo({width:10,height:10,cx:0,cy:0,rx:b||0,ry:b||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+P},d),{x:A,y:H});return(0,j.h)("rect",fo({},K))}po.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Kt;(function(d){d.NODE="node",d.CIRCLE_NODE="circle-node",d.POLYGON_NODE="polygon-node",d.RECT_NODE="rect-node",d.HTML_NODE="html-node",d.TEXT_NODE="text-node",d.ELLIPSE_NODE="ellipse-node",d.DIAMOND_NODE="diamond-node",d.EDGE="edge",d.LINE_EDGE="line-edge",d.POLYLINE_EDGE="polyline-edge",d.BEZIER_EDGE="bezier-edge",d.GRAPH="graph"})(Kt||(Kt={}));function ir(d){var l=d.x,c=d.y,h=d.width,v=d.height;return{minX:l-h/2,minY:c-v/2,maxX:l+h/2,maxY:c+v/2}}function ho(d){var l=ir(d),c=d.radius,h=l.minX,v=l.minY,b=l.maxX,P=l.maxY;return[{x:h+c,y:v+c},{x:b-c,y:v+c},{x:b-c,y:P-c},{x:h+c,y:P-c}]}function Pn(d){var l=d.point,c=d.beforeNode,h=d.afterNode,v=l.x,b=l.y,P={x:v,y:b},A=c.radius,H=ir(c),K=ir(h);if(v===H.minX){P.x=K.minX;var X=(b-c.y)/(c.height/2-A);X?P.y=h.y+(h.height/2-A)*X:P.y=h.y}else if(v===H.maxX){P.x=K.maxX;var X=(b-c.y)/(c.height/2-A);X?P.y=h.y+(h.height/2-A)*X:P.y=h.y}else if(b===H.minY){P.y=K.minY;var X=(v-c.x)/(c.width/2-A);X?P.x=h.x+(h.width/2-A)*X:P.x=h.x}else if(b===H.maxY){P.y=K.maxY;var X=(v-c.x)/(c.width/2-A);X?P.x=h.x+(h.width/2-A)*X:P.x=h.x}else{var je=ho(c),Ne=ho(h),Ce=ir(c),Fe=Ce.minX,et=Ce.minY,ft=Ce.maxX,vt=Ce.maxY,ct=-1;if(v-Fe<A&&b-et<A?ct=0:ft-v<A&&b-et<A?ct=1:ft-v<A&&vt-b<A?ct=2:v-Fe<A&&et-b<A&&(ct=3),ct>-1){var kt=Math.atan2(b-je[ct].y,v-je[ct].x);P.x=Ne[ct].x+A*Math.cos(kt),P.y=Ne[ct].y+A*Math.sin(kt)}}return P}function Qo(d){var l=d.point,c=d.beforeNode,h=d.afterNode,v=h.rx,b=h.ry,P=l,A=(l.y-c.y)/(l.x-c.x),H=v,K=b,X,je;return A>=Infinity?(X=0,je=K):A<=-Infinity?(X=0,je=-K):l.x-c.x>0?(X=H*K/Math.sqrt(K*K+H*H*A*A),je=H*K*A/Math.sqrt(K*K+H*H*A*A)):(X=-(H*K)/Math.sqrt(K*K+H*H*A*A),je=-(H*K*A)/Math.sqrt(K*K+H*H*A*A)),P={x:X+h.x,y:je+h.y},P}function Xr(d){var l=d.point,c=d.beforeNode,h=d.afterNode,v=l,b,P,A=l.x-c.x,H=l.y-c.y,K=c.rx,X=c.ry,je=Math.sqrt((K-Math.abs(A))*(K-Math.abs(A))+H*H)/Math.sqrt(K*K+X*X),Ne=h.rx,Ce=h.ry,Fe=Math.sqrt((Ne*Ne+Ce*Ce)*je*je*(Ne*Ne/(Ne*Ne+Ce*Ce))),et=Fe*(Ce/Ne);return A>=0?b=Ne-Fe:b=Fe-Ne,H>0?P=et:P=-et,v={x:b+h.x,y:P+h.y},v}var Ao=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),tr=function(){return tr=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},tr.apply(this,arguments)},Do=j.LogicFlowUtil.StepDrag,Pi=function(d){Ao(l,d);function l(c){var h=d.call(this)||this;h.updatePosition=function(P){var A=P.deltaX,H=P.deltaY,K=h.nodeModel,X=K.x,je=K.y;h.nodeModel.x=X+A/2,h.nodeModel.y=je+H/2,h.nodeModel.moveText(A/2,H/2)},h.getResize=function(P){var A=P.index,H=P.deltaX,K=P.deltaY,X=P.width,je=P.height,Ne=P.pct,Ce=Ne===void 0?1:Ne,Fe={width:X,height:je};switch(A){case 0:Fe.width=X-H*Ce,Fe.height=je-K*Ce;break;case 1:Fe.width=X+H*Ce,Fe.height=je-K*Ce;break;case 2:Fe.width=X+H,Fe.height=je+K*Ce;break;case 3:Fe.width=X-H*Ce,Fe.height=je+K*Ce;break;default:break}return Fe},h.updateRect=function(P){var A=P.deltaX,H=P.deltaY,K=h.nodeModel,X=K.id,je=K.x,Ne=K.y,Ce=K.width,Fe=K.height,et=K.radius,ft=h.index,vt=h.getResize({index:ft,deltaX:A,deltaY:H,width:Ce,height:Fe,pct:1}),ct=h.nodeModel,kt=ct.minWidth,On=ct.minHeight,on=ct.maxWidth,$t=ct.maxHeight;if(vt.width<kt||vt.width>on||vt.height<On||vt.height>$t){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:A,deltaY:H}),h.nodeModel.width=vt.width,h.nodeModel.height=vt.height,h.nodeModel.setProperties({nodeSize:{width:vt.width,height:vt.height}});var Ct=h.getNodeEdges(X),wn={x:je,y:Ne,width:Ce,height:Fe,radius:et},xn={x:h.nodeModel.x,y:h.nodeModel.y,width:h.nodeModel.width,height:h.nodeModel.height,radius:et},cn={point:"",beforeNode:wn,afterNode:xn},ln;Ct.sourceEdges.forEach(function(En){cn.point=En.startPoint,ln=Pn(cn),En.updateStartPoint(ln)}),Ct.targetEdges.forEach(function(En){cn.point=En.endPoint,ln=Pn(cn),En.updateEndPoint(ln)}),h.eventEmit({beforeNode:wn,afterNode:xn})},h.updateEllipse=function(P){var A=P.deltaX,H=P.deltaY,K=h.nodeModel,X=K.id,je=K.rx,Ne=K.ry,Ce=K.x,Fe=K.y,et=h.index,ft=je,vt=Ne,ct=h.getResize({index:et,deltaX:A,deltaY:H,width:ft,height:vt,pct:1/2}),kt=h.nodeModel,On=kt.minWidth,on=kt.minHeight,$t=kt.maxWidth,Ct=kt.maxHeight;if(ct.width<On/2||ct.width>$t/2||ct.height<on/2||ct.height>Ct/2){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:A,deltaY:H}),h.nodeModel.rx=h.nodeModel.rx+A/2,h.nodeModel.ry=h.nodeModel.ry+H/2,h.nodeModel.setProperties({nodeSize:{rx:ct.width,ry:ct.height}});var wn=h.getNodeEdges(X),xn={x:Ce,y:Fe},cn={rx:ct.width,ry:ct.height,x:h.nodeModel.x,y:h.nodeModel.y},ln={point:{},beforeNode:xn,afterNode:cn},En;wn.sourceEdges.forEach(function(Ln){ln.point=Ln.startPoint,En=Qo(ln),Ln.updateStartPoint(En)}),wn.targetEdges.forEach(function(Ln){ln.point=Ln.endPoint,En=Qo(ln),Ln.updateEndPoint(En)}),h.eventEmit({beforeNode:tr(tr({},xn),{rx:je,ry:Ne}),afterNode:cn})},h.updateDiamond=function(P){var A=P.deltaX,H=P.deltaY,K=h.nodeModel,X=K.id,je=K.rx,Ne=K.ry,Ce=K.x,Fe=K.y,et=h.index,ft=je,vt=Ne,ct=h.getResize({index:et,deltaX:A,deltaY:H,width:ft,height:vt,pct:1/2}),kt=h.nodeModel,On=kt.minWidth,on=kt.minHeight,$t=kt.maxWidth,Ct=kt.maxHeight;if(ct.width<On/2||ct.width>$t/2||ct.height<on/2||ct.height>Ct/2){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:A,deltaY:H}),h.nodeModel.rx=h.nodeModel.rx+A/2,h.nodeModel.ry=h.nodeModel.ry+H/2,h.nodeModel.setProperties({nodeSize:{rx:ct.width,ry:ct.height}});var wn={x:Ce,y:Fe,rx:je,ry:Ne},xn={rx:ct.width,ry:ct.height,x:h.nodeModel.x,y:h.nodeModel.y},cn={point:{},beforeNode:wn,afterNode:xn},ln,En=h.getNodeEdges(X);En.sourceEdges.forEach(function(Ln){cn.point=Ln.startPoint,ln=Xr(cn),Ln.updateStartPoint(ln)}),En.targetEdges.forEach(function(Ln){cn.point=Ln.endPoint,ln=Xr(cn),Ln.updateEndPoint(ln)}),h.eventEmit({beforeNode:wn,afterNode:xn})},h.eventEmit=function(P){var A=P.beforeNode,H=P.afterNode,K=h.nodeModel,X=K.id,je=K.modelType,Ne=K.type,Ce=tr({id:X,modelType:je,type:Ne},A),Fe=tr({id:X,modelType:je,type:Ne},H);h.graphModel.eventCenter.emit("node:resize",{oldNodeSize:Ce,newNodeSize:Fe})},h.onDraging=function(P){var A=P.deltaX,H=P.deltaY,K=h.nodeModel.modelType;K===Kt.RECT_NODE||K===Kt.HTML_NODE?h.updateRect({deltaX:A,deltaY:H}):K===Kt.ELLIPSE_NODE?h.updateEllipse({deltaX:A,deltaY:H}):K===Kt.DIAMOND_NODE&&h.updateDiamond({deltaX:A,deltaY:H})},h.index=c.index,h.nodeModel=c.model,h.graphModel=c.graphModel;var v=h.graphModel.gridSize,b=2;return v>1&&(b=2*v),h.nodeModel.gridSize&&(b=2*h.nodeModel.gridSize),h.state={},h.dragHandler=new Do({onDraging:h.onDraging,step:b}),h}return l.prototype.getNodeEdges=function(c){for(var h=this.graphModel,v=h.edges,b=[],P=[],A=0;A<v.length;A++){var H=v[A];H.sourceNodeId===c?b.push(H):v[A].targetNodeId===c&&P.push(H)}return{sourceEdges:b,targetEdges:P}},l.prototype.render=function(){var c=this.props,h=c.x,v=c.y,b=c.index,P=c.model,A=P.getControlPointStyle();return wr("g",{className:"lf-resize-control-"+b},wr(po,tr({className:"lf-node-control"},{x:h,y:v},A,{onMouseDown:this.dragHandler.handleMouseDown})))},l}(Fr),In=Pi,Gn=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),ar=function(){return ar=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},ar.apply(this,arguments)},qo=function(d){Gn(l,d);function l(){var c=d.call(this)||this;return c.state={},c}return l.prototype.getResizeControl=function(){var c=this.props,h=c.model,v=c.graphModel,b=h.x,P=h.y,A=h.width,H=h.height,K={minX:b-A/2,minY:P-H/2,maxX:b+A/2,maxY:P+H/2},X=K.minX,je=K.minY,Ne=K.maxX,Ce=K.maxY,Fe=[{x:X,y:je},{x:Ne,y:je},{x:Ne,y:Ce},{x:X,y:Ce}];return Fe.map(function(et,ft){return wr(In,ar({index:ft},et,{model:h,graphModel:v}))})},l.prototype.getGroupSolid=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,P=c.height,A=c.getResizeOutlineStyle();return wr(po,ar({fill:"none"},A,{x:h,y:v,width:b,height:P}))},l.prototype.render=function(){return wr("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},l}(Fr),Ur=qo,To=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Mi=function(d){To(l,d);function l(c,h){var v=d.call(this,c,h)||this,b=v.properties.nodeSize;return b&&(v.width=b.width,v.height=b.height),v}return l.prototype.initNodeData=function(c){d.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=d.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l.prototype.resize=function(c,h){console.log(c,h)},l}(j.RectNodeModel),ia=function(d){To(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,v=c.graphModel;return(0,j.h)(Ur,{model:h,graphModel:v})},l.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,j.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(j.RectNode),Co={type:"rect",view:ia,model:Mi},Xn=Co,y=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),m=function(d){y(l,d);function l(c,h){var v=d.call(this,c,h)||this,b=v.properties.nodeSize;return b&&(v.rx=b.rx,v.ry=b.ry),v}return l.prototype.initNodeData=function(c){d.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=d.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(j.EllipseNodeModel),w=function(d){y(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,v=c.graphModel;return(0,j.h)(Ur,{model:h,graphModel:v})},l.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model;return(0,j.h)("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},l}(j.EllipseNode),T={type:"ellipse",view:w,model:m},U=T,ye=function(){return ye=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},ye.apply(this,arguments)};function Ae(d){var l=d.fillOpacity,c=l===void 0?1:l,h=d.strokeWidth,v=h===void 0?1:h,b=d.strokeOpacity,P=b===void 0?1:b,A=d.fill,H=A===void 0?"transparent":A,K=d.stroke,X=K===void 0?"#000":K,je=d.points,Ne=d.className,Ce=Ne===void 0?"lf-basic-shape":Ne,Fe={fill:H,fillOpacity:c,strokeWidth:v,stroke:X,strokeOpacity:P,points:"",className:Ce};return Fe.points=je.map(function(et){return et.join(",")}).join(" "),(0,j.h)("polygon",ye({},Fe))}var Ge=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),ot=function(){return ot=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},ot.apply(this,arguments)},At=function(d){Ge(l,d);function l(c,h){var v=d.call(this,c,h)||this,b=v.properties.nodeSize;return b&&(v.rx=b.rx,v.ry=b.ry),v}return l.prototype.initNodeData=function(c){d.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},l.prototype.getOutlineStyle=function(){var c=d.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(j.DiamondNodeModel),Et=function(d){Ge(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,v=c.graphModel;return(0,j.h)(Ur,{model:h,graphModel:v})},l.prototype.getResizeShape=function(){var c=this.props.model,h=c.points,v=c.getNodeStyle();return(0,j.h)("g",null,(0,j.h)(Ae,ot({},v,{points:h})))},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,j.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(j.DiamondNode),Ut={type:"diamond",view:Et,model:At},jt=Ut,Ft=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Un=function(d){Ft(l,d);function l(c,h){var v=d.call(this,c,h)||this,b=v.properties.nodeSize;return b&&(v.width=b.width,v.height=b.height),v}return l.prototype.initNodeData=function(c){d.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=d.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(j.HtmlNodeModel),qt=function(d){Ft(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,v=c.graphModel;return(0,j.h)(Ur,{model:h,graphModel:v})},l.prototype.getResizeShape=function(){return d.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,j.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(j.HtmlNode),Mn={type:"html",view:qt,model:Un},xr=Mn,Ma={pluginName:"nodeResize",step:0,install:function(d){d.register({type:Xn.type,view:Xn.view,model:Xn.model}),d.register({type:U.type,view:U.view,model:U.model}),d.register({type:jt.type,view:jt.view,model:jt.model}),d.register({type:xr.type,view:xr.view,model:xr.model})}},aa=null,ei=function(){var d=function(l,c){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},d(l,c)};return function(l,c){d(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Er=function(){return Er=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},Er.apply(this,arguments)},ti=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},_n=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(ti(arguments[l]));return d},ni=500,Vr=300,ri=function(d){ei(l,d);function l(){var c=d!==null&&d.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=ni,c.unfoldedHight=Vr,c}return l.prototype.initNodeData=function(c){var h=this;d.prototype.initNodeData.call(this,c);var v=[];Array.isArray(c.children)&&(v=c.children),this.children=new Set(v),this.width=ni,this.height=Vr,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){h.isFolded&&h.foldGroup(h.isFolded)})},l.prototype.getResizeOutlineStyle=function(){var c=d.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},l.prototype.foldGroup=function(c){var h=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var v=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(b){var P=h.graphModel.getElement(b);P.visible=!c,v=v.concat(P.incoming.edges.concat(P.outgoing.edges))}),this.foldEdge(c,v)},l.prototype.getAnchorStyle=function(c){var h=d.prototype.getAnchorStyle.call(this,c);return h.stroke="transparent",h.fill="transparent",h.hover.fill="transparent",h.hover.stroke="transparent",h},l.prototype.foldEdge=function(c,h){var v=this;h.forEach(function(b,P){var A=b.id,H=b.sourceNodeId,K=b.targetNodeId,X=b.startPoint,je=b.endPoint,Ne=b.type,Ce=b.properties,Fe=b.text,et={id:A+"__"+P,sourceNodeId:H,targetNodeId:K,startPoint:X,endPoint:je,type:Ne,properties:Ce,text:Fe==null?void 0:Fe.value};b.virtual&&v.graphModel.deleteEdgeById(b.id);var ft=v.graphModel.group.getNodeGroup(K);ft||(ft=v.graphModel.getNodeModelById(K));var vt=v.graphModel.group.getNodeGroup(H);vt||(vt=v.graphModel.getNodeModelById(H)),c&&b.visible!==!1&&(v.children.has(H)||v.id===H?(et.startPoint=void 0,et.sourceNodeId=v.id):(et.endPoint=void 0,et.targetNodeId=v.id),(ft.id!==v.id||vt.id!==v.id)&&v.createVirtualEdge(et),b.visible=!1),!c&&b.visible===!1&&(ft&&ft.isGroup&&ft.isFolded?(et.targetNodeId=ft.id,et.endPoint=void 0,v.createVirtualEdge(et)):vt&&vt.isGroup&&vt.isFolded?(et.sourceNodeId=vt.id,et.startPoint=void 0,v.createVirtualEdge(et)):b.visible=!0)})},l.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var h=this.graphModel.addEdge(c);h.virtual=!0,h.getData=function(){return null},h.text.editable=!1,h.isFoldedEdge=!0},l.prototype.isInRange=function(c){var h=c.x1,v=c.y1,b=c.x2,P=c.y2;return h>=this.x-this.width/2&&b<=this.x+this.width/2&&v>=this.y-this.height/2&&P<=this.y+this.height/2},l.prototype.isAllowMoveTo=function(c){var h=c.x1,v=c.y1,b=c.x2,P=c.y2;return{x:h>=this.x-this.width/2&&b<=this.x+this.width/2,y:v>=this.y-this.height/2&&P<=this.y+this.height/2}},l.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},l.prototype.addChild=function(c){this.children.add(c)},l.prototype.removeChild=function(c){this.children.delete(c)},l.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},l.prototype.getData=function(){var c=d.prototype.getData.call(this);c.children=_n(this.children);var h=c.properties;return delete h.groupAddable,delete h.isFolded,c},l.prototype.getHistoryData=function(){var c=d.prototype.getData.call(this);c.children=_n(this.children);var h=c.properties;return delete h.groupAddable,h.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},l}(Xn.model),ua=function(d){ei(l,d);function l(){return d!==null&&d.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props.model,h=c.resizable,v=c.properties;return h&&!v.isFolded?d.prototype.getControlGroup.call(this):null},l.prototype.getAddedableShape=function(){var c=this.props.model,h=c.width,v=c.height,b=c.x,P=c.y,A=c.radius,H=c.properties;if(!H.groupAddable)return null;var K=this.props.model.getNodeStyle().strokeWidth,X=this.props.model.getAddableOutlineStyle(),je=h+K+8,Ne=v+K+8;return(0,j.h)("rect",Er(Er({},X),{width:je,height:Ne,x:b-je/2,y:P-Ne/2,rx:A,ry:A}))},l.prototype.getFoldIcon=function(){var c=this.props.model,h=c.x-c.width/2+5,v=c.y-c.height/2+5;if(!c.foldable)return null;var b=(0,j.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(h+3)+","+(v+6)+" "+(h+11)+","+(v+6)+" M"+(h+7)+","+(v+2)+" "+(h+7)+","+(v+10):"M "+(h+3)+","+(v+6)+" "+(h+11)+","+(v+6)+" "});return(0,j.h)("g",{},[(0,j.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),b])},l.prototype.getResizeShape=function(){return(0,j.h)("g",{},[this.getAddedableShape(),d.prototype.getResizeShape.call(this),this.getFoldIcon()])},l}(Xn.view),ka={type:"group",view:ua,model:ri},Fu=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},Gu=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(Fu(arguments[l]));return d},Xu=function(){function d(l){var c=this,h=l.lf;this.nodeGroupMap=new Map,this.graphRendered=function(v){v&&v.nodes&&v.nodes.forEach(function(b){b.children&&b.children.forEach(function(P){c.nodeGroupMap.set(P,b.id)})})},this.appendNodeToGrop=function(v){var b=v.data,P=c.nodeGroupMap.get(b.id);if(P){var A=c.lf.getNodeModelById(P);A.removeChild(b.id),c.nodeGroupMap.delete(b.id),A.setAllowAppendChild(!1)}var H=c.lf.getNodeModelById(b.id).getBounds(),K=c.getGroup(H);!K||(b.id!==K.id?(K.addChild(b.id),c.nodeGroupMap.set(b.id,K.id),K.setAllowAppendChild(!1)):b.children&&b.children.length>0&&b.children.forEach(function(X){c.nodeGroupMap.set(X,b.id)}))},this.deleteGroupChild=function(v){var b=v.data,P=c.nodeGroupMap.get(b.id);if(P){var A=c.lf.getNodeModelById(P);A.removeChild(b.id),c.nodeGroupMap.delete(b.id)}},this.setActiveGroup=function(v){var b=v.data,P=c.lf.getNodeModelById(b.id);if(!P.isGroup){var A=P.getBounds(),H=c.getGroup(A);(H||H!==c.activeGroup)&&(c.activeGroup&&c.activeGroup.setAllowAppendChild(!1),H&&(c.activeGroup=H,c.activeGroup.setAllowAppendChild(!0)))}},h.register(ka),this.lf=h,h.graphModel.addNodeMoveRules(function(v,b,P){if(v.isGroup)return h.graphModel.moveNodes(Gu(v.children),b,P,!0),!0;var A=h.getNodeModelById(c.nodeGroupMap.get(v.id));if(A&&A.isRestrict){var H=v.getBounds(),K=H.x1,X=H.y1,je=H.x2,Ne=H.y2,Ce=A.isAllowMoveTo({x1:K+b,y1:X+P,x2:je+b,y2:Ne+P});return Ce}return!0}),h.graphModel.group=this,h.on("node:add",this.appendNodeToGrop),h.on("node:delete",this.deleteGroupChild),h.on("node:drop",this.appendNodeToGrop),h.on("node:dnd-drag",this.setActiveGroup),h.on("node:drag",this.setActiveGroup),h.on("graph:rendered",this.graphRendered)}return d.prototype.getGroup=function(l){for(var c=this.lf.graphModel.nodes,h=0;h<c.length;h++){var v=c[h];if(v.isGroup&&v.isInRange(l))return v}},d.prototype.getNodeGroup=function(l){var c=this.nodeGroupMap.get(l);if(c)return this.lf.getNodeModelById(c)},d.pluginName="group",d}(),Uu=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},yo=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(Uu(arguments[l]));return d},Vu=function(){function d(l){var c=this,h=l.lf;this.lf=h,this.pathes=[],h.getPathes=function(){if(!c.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B");return c.getPathes()},h.setRawPathes=function(v){c.setPathes(v)},h.getRawPathes=function(){return c.pathes},h.setStartNodeType=function(v){c.startNodeType=v}}return d.prototype.setPathes=function(l){this.pathes=l.map(function(c){var h=c.routeId,v=c.name,b=c.elements,P=c.type;return{routeId:h,name:v,elements:b,type:P,similarElement:null,weight:0}})},d.prototype.getPathes=function(){var l=this,c=this.lf.getGraphRawData(),h=new Map,v=[];c.nodes.forEach(function(P){h.set(P.id,{id:P.id,data:P,nextNodes:[]}),P.type===l.startNodeType&&v.push(P.id)}),c.edges.forEach(function(P){var A=h.get(P.sourceNodeId);A.nextNodes.push(P.targetNodeId)});var b=[];return v.forEach(function(P){b=b.concat(l.findPathElements(h.get(P),h,[]))}),this.getNewPathes(b)},d.prototype.findPathElements=function(l,c,h){h===void 0&&(h=[]);var v=yo(h);if(v.push(l.id),l.nextNodes.length===0)return[v];for(var b=[],P=0;P<l.nextNodes.length;P++){var A=c.get(l.nextNodes[P]),H=void 0,K=v.indexOf(A.id);K!==-1?H=[yo(v.slice(K),[A.id])]:H=this.findPathElements(A,c,yo(v)),b=b.concat(H)}return b},d.prototype.getNewPathes=function(l){var c=this,h=[],v=new Set;l.forEach(function(P){var A=c.getNewId("path"),H=c.getNewId("\u8DEF\u5F84"),K=c.isLoopPath(P),X=P.join(",");v.has(X)||(v.add(X),h.push({routeId:A,name:H,elements:P,type:K,weight:0,similarElement:""}))});var b=JSON.parse(JSON.stringify(this.pathes));return h.forEach(function(P){for(var A=0;A<b.length;A++){var H=b[A],K=c.similar2Path(yo(P.elements),yo(H.elements));K>P.weight&&H.weight<=K&&(P.weight=K,P.similarElement=H,K===H.weight&&H.similarElement?(H.similarElement.similarElement=null,H.similarElement.weight=0,H.similarElement=null,H.weight=0):(H.similarElement=P,H.weight=K))}}),h.forEach(function(P){P.similarElement&&P.similarElement.similarElement===P&&(P.routeId=P.similarElement.routeId,P.name=P.similarElement.name),delete P.similarElement,delete P.weight}),this.setPathes(h),h},d.prototype.similar2Path=function(l,c){var h=0,v=l.length+c.length;l.sort(),c.sort();for(var b=l.shift(),P=c.shift();b!==void 0&&P!==void 0;)b===P?(h++,b=l.shift(),P=c.shift()):b<P?b=l.shift():b>P&&(P=c.shift());return h/v*200},d.prototype.getNewId=function(l){return l+"_"+k()},d.prototype.isLoopPath=function(l){var c=l.length;return l.indexOf(l[c-1])!==c-1?1:0},d.pluginName="flowPath",d}(),oi=function(){return oi=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},oi.apply(this,arguments)},sa={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},Yu=function(){function d(l){var c=this,h=l.lf;this.lf=h,this.trunk=[],h.layout=function(v){var b=c.lf.getGraphRawData();c.lf.setStartNodeType(v);var P=c.lf.getPathes();return c.levelHeight=[],c.newNodeMap=new Map,c.layout(b,P)}}return d.prototype.layout=function(l,c){var h=this,v=[];c.forEach(function(H){var K=H.elements;K.length>v.length?v=K:K.length===v.length&&JSON.stringify(K)===JSON.stringify(h.trunk)&&(v=h.trunk)}),this.trunk=v;for(var b=this.formatData(l),P={nodes:[],edges:[]},A=v.length-1;A>=0;A--)this.setNodePosition(v[A],b,P,A,1);this.lf.graphModel.graphDataToModel(P)},d.prototype.setNodePosition=function(l,c,h,v,b){var P=this,A=c[l],H=A.text,K=A.type,X=A.next,je=A.properties,Ne=v*160+40,Ce=b*120,Fe={id:l,x:Ne,text:H,y:Ce,type:K,properties:je};return H&&typeof H=="object"&&(Fe.text=oi(oi({},H),{x:Ne+H.x,y:Ce+H.y})),this.newNodeMap.set(Fe.id,{x:Fe.x,y:Fe.y,type:K}),h.nodes.push(Fe),A.isFixed=!0,this.addLevelHeight(v,1),X&&X.length>0&&X.forEach(function(et){var ft=c[et.nodeId];if(!ft.isFixed){var vt=P.getLevelHeight(v+1);P.addLevelHeight(v,1),P.setNodePosition(et.nodeId,c,h,v+1,vt+1)}h.edges.push(oi({id:et.edgeId,type:et.edgeType,sourceNodeId:l,targetNodeId:et.nodeId,properties:et.properties,text:et.text},P.getEdgeDataPoints(l,et.nodeId)))}),Fe},d.prototype.getEdgeDataPoints=function(l,c){var h=this.newNodeMap.get(l),v=this.newNodeMap.get(c),b=this.getShape(l),P=b.width,A=b.height,H=this.getShape(c),K=H.width,X=H.height,je=this.getRelativePosition(h,v),Ne={x:h.x,y:h.y},Ce={x:v.x,y:v.y};switch(je){case sa.LEFT:Ne.x=h.x+P/2,Ce.x=v.x-K/2;break;case sa.LEFT_TOP:Ne.y=h.y+A/2,Ce.x=v.x-K/2;break;case sa.LEFT_BOTTOM:Ne.x=h.x+P/2,Ce.y=v.y+X/2;break;default:break}return{startPoint:Ne,endPoint:Ce}},d.prototype.getRelativePosition=function(l,c){var h=l.y,v=c.y,b;return h<v?b=-1:h===v?b=0:b=1,b},d.prototype.getShape=function(l){var c=this.lf.getNodeModelById(l);return{height:c.height,width:c.width}},d.prototype.formatData=function(l){var c=l.nodes.reduce(function(h,v){var b=v.type,P=v.properties,A=v.text,H=v.x,K=v.y;return A&&typeof A=="object"&&(A.x=A.x-H,A.y=A.y-K),h[v.id]={type:b,properties:P,text:A,prev:[],next:[]},h},{});return l.edges.forEach(function(h){var v=h.sourceNodeId,b=h.targetNodeId,P=h.id,A=h.properties,H=h.text,K=H;typeof H=="object"&&(K=H.value),c[v].next.push({edgeId:P,nodeId:b,edgeType:h.type,properties:A,text:K}),c[b].prev.push({edgeId:P,nodeId:v,properties:A,text:K})}),c},d.prototype.addLevelHeight=function(l,c,h){c===void 0&&(c=1),h===void 0&&(h=!1);var v=this.levelHeight[l];v||(v={positiveHeight:0,negativeHeight:0},this.levelHeight[l]=v),h?v.negativeHeight-=c:v.positiveHeight+=c},d.prototype.getLevelHeight=function(l,c){c===void 0&&(c=!1);var h=this.levelHeight[l];return h?c?h.negativeHeight:h.positiveHeight:0},d.pluginName="AutoLayout",d}(),ii=function(){return ii=Object.assign||function(d){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(d[v]=l[v])}return d},ii.apply(this,arguments)},Wu=function(d,l){var c=typeof Symbol=="function"&&d[Symbol.iterator];if(!c)return d;var h=c.call(d),v,b=[],P;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){P={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},ki=function(){for(var d=[],l=0;l<arguments.length;l++)d=d.concat(Wu(arguments[l]));return d},Ni=function(d,l){var c=l.getModelById(d);return Ai(c.BaseType==="node"?c:c.targetNode,l)},Ai=function(d,l){var c=[],h=[],v=function(P,A,H){if(H===void 0&&(H=null),H&&A.unshift.apply(A,ki(l.getEdgeModels({sourceNodeId:P.id,targetNodeId:H.id}).map(function(K){return K.id}))),A.includes(P.id)){c.push(A);return}if(A.unshift(P.id),!P.incoming.nodes.length){c.push(A);return}P.incoming.nodes.forEach(function(K){v(K,A.slice(),P)})},b=function(P,A,H){if(H===void 0&&(H=null),H&&A.push.apply(A,ki(l.getEdgeModels({sourceNodeId:H.id,targetNodeId:P.id}).map(function(K){return K.id}))),A.includes(P.id)){h.push(A);return}if(A.push(P.id),!P.outgoing.nodes.length){h.push(A);return}P.outgoing.nodes.forEach(function(K){b(K,A.slice(),P)})};return v(d,[]),b(d,[]),ki(new Set(ki(c.flat(),h.flat())))},Na=function(){function d(l){var c=l.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=c}return d.prototype.setMode=function(l){this.mode=l},d.prototype.setManual=function(l){this.manual=l},d.prototype.highlightSingle=function(l){var c=this.lf.getModelById(l);c.BaseType==="node"?c.updateStyles(this.tempStyles[l]):c.BaseType==="edge"&&(c.updateStyles(this.tempStyles[l]),c.sourceNode.updateStyles(this.tempStyles[c.sourceNode.id]),c.targetNode.updateStyles(this.tempStyles[c.targetNode.id]))},d.prototype.highlightPath=function(l){var c=this,h=Ni(l,this.lf);h.forEach(function(v){c.lf.getModelById(v).updateStyles(c.tempStyles[v])})},d.prototype.highlight=function(l,c){var h=this;if(c===void 0&&(c=this.mode),!this.manual){Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach(function(b){var P=b.BaseType==="node"?b.getNodeStyle():b.getEdgeStyle();h.tempStyles[b.id]=ii({},P),b.setStyles({opacity:.1})});var v={single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)};v[c](l)}},d.prototype.restoreHighlight=function(){var l=this;!Object.keys(this.tempStyles).length||(Object.values(this.lf.graphModel.modelsMap).forEach(function(c){var h,v=(h=l.tempStyles[c.id])!==null&&h!==void 0?h:{};c.updateStyles(ii({},v))}),this.tempStyles={})},d.prototype.render=function(l,c){var h=this;this.lf.on("node:mouseenter",function(v){var b=v.data;return h.highlight(b.id)}),this.lf.on("edge:mouseenter",function(v){var b=v.data;return h.highlight(b.id)}),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},d.prototype.destroy=function(){},d.pluginName="highlight",d}()},63543:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return _}});var j=x(94663);function s(p,S){for(;!Object.prototype.hasOwnProperty.call(p,S)&&(p=(0,j.Z)(p),p!==null););return p}function _(p,S,E){return typeof Reflect!="undefined"&&Reflect.get?_=Reflect.get:_=function(D,C,R){var z=s(D,C);if(!!z){var F=Object.getOwnPropertyDescriptor(z,C);return F.get?F.get.call(R):F.value}},_(p,S,E||p)}},68179:function(){},34621:function(){},13277:function(){},16695:function(){},27049:function(Zt,bt,x){"use strict";var j=x(22122),s=x(96156),_=x(67294),p=x(94184),S=x.n(p),E=x(53124),k=function(C,R){var z={};for(var F in C)Object.prototype.hasOwnProperty.call(C,F)&&R.indexOf(F)<0&&(z[F]=C[F]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,F=Object.getOwnPropertySymbols(C);G<F.length;G++)R.indexOf(F[G])<0&&Object.prototype.propertyIsEnumerable.call(C,F[G])&&(z[F[G]]=C[F[G]]);return z},D=function(R){var z,F=_.useContext(E.E_),G=F.getPrefixCls,q=F.direction,se=R.prefixCls,ue=R.type,pe=ue===void 0?"horizontal":ue,_e=R.orientation,ce=_e===void 0?"center":_e,$=R.orientationMargin,ne=R.className,B=R.children,oe=R.dashed,le=R.plain,ve=k(R,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),me=G("divider",se),J=ce.length>0?"-".concat(ce):ce,ie=!!B,ee=ce==="left"&&$!=null,I=ce==="right"&&$!=null,ae=S()(me,"".concat(me,"-").concat(pe),(z={},(0,s.Z)(z,"".concat(me,"-with-text"),ie),(0,s.Z)(z,"".concat(me,"-with-text").concat(J),ie),(0,s.Z)(z,"".concat(me,"-dashed"),!!oe),(0,s.Z)(z,"".concat(me,"-plain"),!!le),(0,s.Z)(z,"".concat(me,"-rtl"),q==="rtl"),(0,s.Z)(z,"".concat(me,"-no-default-orientation-margin-left"),ee),(0,s.Z)(z,"".concat(me,"-no-default-orientation-margin-right"),I),z),ne),re=(0,j.Z)((0,j.Z)({},ee&&{marginLeft:$}),I&&{marginRight:$});return _.createElement("div",(0,j.Z)({className:ae},ve,{role:"separator"}),B&&_.createElement("span",{className:"".concat(me,"-inner-text"),style:re},B))};bt.Z=D},48736:function(Zt,bt,x){"use strict";var j=x(38663),s=x.n(j),_=x(68179),p=x.n(_)},19650:function(Zt,bt,x){"use strict";x.d(bt,{u:function(){return F},Z:function(){return ue}});var j=x(22122),s=x(96156),_=x(28481),p=x(67294),S=x(94184),E=x.n(S),k=x(50344),D=x(53124);function C(pe){var _e=pe.className,ce=pe.direction,$=pe.index,ne=pe.marginDirection,B=pe.children,oe=pe.split,le=pe.wrap,ve=p.useContext(F),me=ve.horizontalSize,J=ve.verticalSize,ie=ve.latestIndex,ee=ve.supportFlexGap,I={};return ee||(ce==="vertical"?$<ie&&(I={marginBottom:me/(oe?2:1)}):I=(0,j.Z)((0,j.Z)({},$<ie&&(0,s.Z)({},ne,me/(oe?2:1))),le&&{paddingBottom:J})),B==null?null:p.createElement(p.Fragment,null,p.createElement("div",{className:_e,style:I},B),$<ie&&oe&&p.createElement("span",{className:"".concat(_e,"-split"),style:I},oe))}var R=x(98082),z=function(pe,_e){var ce={};for(var $ in pe)Object.prototype.hasOwnProperty.call(pe,$)&&_e.indexOf($)<0&&(ce[$]=pe[$]);if(pe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,$=Object.getOwnPropertySymbols(pe);ne<$.length;ne++)_e.indexOf($[ne])<0&&Object.prototype.propertyIsEnumerable.call(pe,$[ne])&&(ce[$[ne]]=pe[$[ne]]);return ce},F=p.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),G={small:8,middle:16,large:24};function q(pe){return typeof pe=="string"?G[pe]:pe||0}var se=function(_e){var ce,$=p.useContext(D.E_),ne=$.getPrefixCls,B=$.space,oe=$.direction,le=_e.size,ve=le===void 0?(B==null?void 0:B.size)||"small":le,me=_e.align,J=_e.className,ie=_e.children,ee=_e.direction,I=ee===void 0?"horizontal":ee,ae=_e.prefixCls,re=_e.split,Q=_e.style,Oe=_e.wrap,Se=Oe===void 0?!1:Oe,Ie=z(_e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),Xe=(0,R.Z)(),rt=p.useMemo(function(){return(Array.isArray(ve)?ve:[ve,ve]).map(function(Te){return q(Te)})},[ve]),ke=(0,_.Z)(rt,2),Le=ke[0],Ue=ke[1],W=(0,k.Z)(ie,{keepEmpty:!0}),Z=me===void 0&&I==="horizontal"?"center":me,he=ne("space",ae),Ee=E()(he,"".concat(he,"-").concat(I),(ce={},(0,s.Z)(ce,"".concat(he,"-rtl"),oe==="rtl"),(0,s.Z)(ce,"".concat(he,"-align-").concat(Z),Z),ce),J),ze="".concat(he,"-item"),Re=oe==="rtl"?"marginLeft":"marginRight",it=0,ut=W.map(function(Te,Ze){Te!=null&&(it=Ze);var fe=Te&&Te.key||"".concat(ze,"-").concat(Ze);return p.createElement(C,{className:ze,key:fe,direction:I,index:Ze,marginDirection:Re,split:re,wrap:Se},Te)}),dt=p.useMemo(function(){return{horizontalSize:Le,verticalSize:Ue,latestIndex:it,supportFlexGap:Xe}},[Le,Ue,it,Xe]);if(W.length===0)return null;var tt={};return Se&&(tt.flexWrap="wrap",Xe||(tt.marginBottom=-Ue)),Xe&&(tt.columnGap=Le,tt.rowGap=Ue),p.createElement("div",(0,j.Z)({className:Ee,style:(0,j.Z)((0,j.Z)({},tt),Q)},Ie),p.createElement(F.Provider,{value:dt},ut))},ue=se},49111:function(Zt,bt,x){"use strict";var j=x(38663),s=x.n(j),_=x(34621),p=x.n(_)},60331:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return $}});var j=x(96156),s=x(22122),_=x(28481),p=x(67294),S=x(94184),E=x.n(S),k=x(98423),D=x(54549),C=x(53124),R=function(ne,B){var oe={};for(var le in ne)Object.prototype.hasOwnProperty.call(ne,le)&&B.indexOf(le)<0&&(oe[le]=ne[le]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ve=0,le=Object.getOwnPropertySymbols(ne);ve<le.length;ve++)B.indexOf(le[ve])<0&&Object.prototype.propertyIsEnumerable.call(ne,le[ve])&&(oe[le[ve]]=ne[le[ve]]);return oe},z=function(B){var oe,le=B.prefixCls,ve=B.className,me=B.checked,J=B.onChange,ie=B.onClick,ee=R(B,["prefixCls","className","checked","onChange","onClick"]),I=p.useContext(C.E_),ae=I.getPrefixCls,re=function(Ie){J==null||J(!me),ie==null||ie(Ie)},Q=ae("tag",le),Oe=E()(Q,(oe={},(0,j.Z)(oe,"".concat(Q,"-checkable"),!0),(0,j.Z)(oe,"".concat(Q,"-checkable-checked"),me),oe),ve);return p.createElement("span",(0,s.Z)({},ee,{className:Oe,onClick:re}))},F=z,G=x(98787),q=x(21790),se=function(ne,B){var oe={};for(var le in ne)Object.prototype.hasOwnProperty.call(ne,le)&&B.indexOf(le)<0&&(oe[le]=ne[le]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ve=0,le=Object.getOwnPropertySymbols(ne);ve<le.length;ve++)B.indexOf(le[ve])<0&&Object.prototype.propertyIsEnumerable.call(ne,le[ve])&&(oe[le[ve]]=ne[le[ve]]);return oe},ue=new RegExp("^(".concat(G.Y.join("|"),")(-inverse)?$")),pe=new RegExp("^(".concat(G.E.join("|"),")$")),_e=function(B,oe){var le,ve=B.prefixCls,me=B.className,J=B.style,ie=B.children,ee=B.icon,I=B.color,ae=B.onClose,re=B.closeIcon,Q=B.closable,Oe=Q===void 0?!1:Q,Se=se(B,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Ie=p.useContext(C.E_),Xe=Ie.getPrefixCls,rt=Ie.direction,ke=p.useState(!0),Le=(0,_.Z)(ke,2),Ue=Le[0],W=Le[1];p.useEffect(function(){"visible"in Se&&W(Se.visible)},[Se.visible]);var Z=function(){return I?ue.test(I)||pe.test(I):!1},he=(0,s.Z)({backgroundColor:I&&!Z()?I:void 0},J),Ee=Z(),ze=Xe("tag",ve),Re=E()(ze,(le={},(0,j.Z)(le,"".concat(ze,"-").concat(I),Ee),(0,j.Z)(le,"".concat(ze,"-has-color"),I&&!Ee),(0,j.Z)(le,"".concat(ze,"-hidden"),!Ue),(0,j.Z)(le,"".concat(ze,"-rtl"),rt==="rtl"),le),me),it=function(qe){qe.stopPropagation(),ae==null||ae(qe),!qe.defaultPrevented&&("visible"in Se||W(!1))},ut=function(){return Oe?re?p.createElement("span",{className:"".concat(ze,"-close-icon"),onClick:it},re):p.createElement(D.Z,{className:"".concat(ze,"-close-icon"),onClick:it}):null},dt="onClick"in Se||ie&&ie.type==="a",tt=(0,k.Z)(Se,["visible"]),Te=ee||null,Ze=Te?p.createElement(p.Fragment,null,Te,p.createElement("span",null,ie)):ie,fe=p.createElement("span",(0,s.Z)({},tt,{ref:oe,className:Re,style:he}),Ze,ut());return dt?p.createElement(q.Z,null,fe):fe},ce=p.forwardRef(_e);ce.displayName="Tag",ce.CheckableTag=F;var $=ce},71153:function(Zt,bt,x){"use strict";var j=x(38663),s=x.n(j),_=x(13277),p=x.n(_)},32138:function(Zt,bt,x){"use strict";x.d(bt,{Z:function(){return rt}});var j=x(96156),s=x(90484),_=x(22122),p=x(67294),S=x(28991),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},k=E,D=x(27029),C=function(Le,Ue){return p.createElement(D.Z,(0,S.Z)((0,S.Z)({},Le),{},{ref:Ue,icon:k}))};C.displayName="HolderOutlined";var R=p.forwardRef(C),z=x(76513),F=x(94184),G=x.n(F),q=x(85061),se=x(28481),ue=x(86504),pe=x(91816),_e=x(63258),ce=x(10225),$=x(1089),ne=x(53124),B;(function(ke){ke[ke.None=0]="None",ke[ke.Start=1]="Start",ke[ke.End=2]="End"})(B||(B={}));function oe(ke,Le){function Ue(W){var Z=W.key,he=W.children;Le(Z,W)!==!1&&oe(he||[],Le)}ke.forEach(Ue)}function le(ke){var Le=ke.treeData,Ue=ke.expandedKeys,W=ke.startKey,Z=ke.endKey,he=[],Ee=B.None;if(W&&W===Z)return[W];if(!W||!Z)return[];function ze(Re){return Re===W||Re===Z}return oe(Le,function(Re){if(Ee===B.End)return!1;if(ze(Re)){if(he.push(Re),Ee===B.None)Ee=B.Start;else if(Ee===B.Start)return Ee=B.End,!1}else Ee===B.Start&&he.push(Re);return Ue.indexOf(Re)!==-1}),he}function ve(ke,Le){var Ue=(0,q.Z)(Le),W=[];return oe(ke,function(Z,he){var Ee=Ue.indexOf(Z);return Ee!==-1&&(W.push(he),Ue.splice(Ee,1)),!!Ue.length}),W}var me=function(ke,Le){var Ue={};for(var W in ke)Object.prototype.hasOwnProperty.call(ke,W)&&Le.indexOf(W)<0&&(Ue[W]=ke[W]);if(ke!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,W=Object.getOwnPropertySymbols(ke);Z<W.length;Z++)Le.indexOf(W[Z])<0&&Object.prototype.propertyIsEnumerable.call(ke,W[Z])&&(Ue[W[Z]]=ke[W[Z]]);return Ue};function J(ke){var Le=ke.isLeaf,Ue=ke.expanded;return Le?p.createElement(ue.Z,null):Ue?p.createElement(pe.Z,null):p.createElement(_e.Z,null)}function ie(ke){var Le=ke.treeData,Ue=ke.children;return Le||(0,$.zn)(Ue)}var ee=function(Le,Ue){var W=Le.defaultExpandAll,Z=Le.defaultExpandParent,he=Le.defaultExpandedKeys,Ee=me(Le,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),ze=p.useRef(),Re=p.useRef(),it=p.createRef();p.useImperativeHandle(Ue,function(){return it.current});var ut=function(){var Ve=(0,$.I8)(ie(Ee)),Ke=Ve.keyEntities,_t;return W?_t=Object.keys(Ke):Z?_t=(0,ce.r7)(Ee.expandedKeys||he||[],Ke):_t=Ee.expandedKeys||he,_t},dt=p.useState(Ee.selectedKeys||Ee.defaultSelectedKeys||[]),tt=(0,se.Z)(dt,2),Te=tt[0],Ze=tt[1],fe=p.useState(ut()),We=(0,se.Z)(fe,2),qe=We[0],Nt=We[1];p.useEffect(function(){"selectedKeys"in Ee&&Ze(Ee.selectedKeys)},[Ee.selectedKeys]),p.useEffect(function(){"expandedKeys"in Ee&&Nt(Ee.expandedKeys)},[Ee.expandedKeys]);var gt=function(Ve,Ke){var _t;return"expandedKeys"in Ee||Nt(Ve),(_t=Ee.onExpand)===null||_t===void 0?void 0:_t.call(Ee,Ve,Ke)},ht=function(Ve,Ke){var _t,rn=Ee.multiple,Jt=Ke.node,Bt=Ke.nativeEvent,Vt=Jt.key,Qe=Vt===void 0?"":Vt,lt=ie(Ee),yt=(0,_.Z)((0,_.Z)({},Ke),{selected:!0}),xt=(Bt==null?void 0:Bt.ctrlKey)||(Bt==null?void 0:Bt.metaKey),Ht=Bt==null?void 0:Bt.shiftKey,Rt;rn&&xt?(Rt=Ve,ze.current=Qe,Re.current=Rt,yt.selectedNodes=ve(lt,Rt)):rn&&Ht?(Rt=Array.from(new Set([].concat((0,q.Z)(Re.current||[]),(0,q.Z)(le({treeData:lt,expandedKeys:qe,startKey:Qe,endKey:ze.current}))))),yt.selectedNodes=ve(lt,Rt)):(Rt=[Qe],ze.current=Qe,Re.current=Rt,yt.selectedNodes=ve(lt,Rt)),(_t=Ee.onSelect)===null||_t===void 0||_t.call(Ee,Rt,yt),"selectedKeys"in Ee||Ze(Rt)},Lt=p.useContext(ne.E_),Xt=Lt.getPrefixCls,wt=Lt.direction,en=Ee.prefixCls,V=Ee.className,be=me(Ee,["prefixCls","className"]),te=Xt("tree",en),we=G()("".concat(te,"-directory"),(0,j.Z)({},"".concat(te,"-directory-rtl"),wt==="rtl"),V);return p.createElement(Xe,(0,_.Z)({icon:J,ref:it,blockNode:!0},be,{prefixCls:te,className:we,expandedKeys:qe,selectedKeys:Te,onSelect:ht,onExpand:gt}))},I=p.forwardRef(ee);I.displayName="DirectoryTree",I.defaultProps={showIcon:!0,expandAction:"click"};var ae=I,re=x(33603),Q=x(6324),Oe=4;function Se(ke){var Le,Ue=ke.dropPosition,W=ke.dropLevelOffset,Z=ke.prefixCls,he=ke.indent,Ee=ke.direction,ze=Ee===void 0?"ltr":Ee,Re=ze==="ltr"?"left":"right",it=ze==="ltr"?"right":"left",ut=(Le={},(0,j.Z)(Le,Re,-W*he+Oe),(0,j.Z)(Le,it,0),Le);switch(Ue){case-1:ut.top=-3;break;case 1:ut.bottom=-3;break;default:ut.bottom=-3,ut[Re]=he+Oe;break}return p.createElement("div",{style:ut,className:"".concat(Z,"-drop-indicator")})}var Ie=p.forwardRef(function(ke,Le){var Ue,W=p.useContext(ne.E_),Z=W.getPrefixCls,he=W.direction,Ee=W.virtual,ze=ke.prefixCls,Re=ke.className,it=ke.showIcon,ut=ke.showLine,dt=ke.switcherIcon,tt=ke.blockNode,Te=ke.children,Ze=ke.checkable,fe=ke.selectable,We=ke.draggable,qe=Z("tree",ze),Nt=(0,_.Z)((0,_.Z)({},ke),{showLine:Boolean(ut),dropIndicatorRender:Se}),gt=p.useMemo(function(){if(!We)return!1;var ht={};switch((0,s.Z)(We)){case"function":ht.nodeDraggable=We;break;case"object":ht=(0,_.Z)({},We);break;default:}return ht.icon!==!1&&(ht.icon=ht.icon||p.createElement(R,null)),ht},[We]);return p.createElement(z.Z,(0,_.Z)({itemHeight:20,ref:Le,virtual:Ee},Nt,{prefixCls:qe,className:G()((Ue={},(0,j.Z)(Ue,"".concat(qe,"-icon-hide"),!it),(0,j.Z)(Ue,"".concat(qe,"-block-node"),tt),(0,j.Z)(Ue,"".concat(qe,"-unselectable"),!fe),(0,j.Z)(Ue,"".concat(qe,"-rtl"),he==="rtl"),Ue),Re),direction:he,checkable:Ze&&p.createElement("span",{className:"".concat(qe,"-checkbox-inner")}),selectable:fe,switcherIcon:function(Lt){return(0,Q.Z)(qe,dt,ut,Lt)},draggable:gt}),Te)});Ie.TreeNode=z.O,Ie.DirectoryTree=ae,Ie.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:(0,_.Z)((0,_.Z)({},re.ZP),{motionAppear:!1}),blockNode:!1};var Xe=Ie,rt=Xe},32157:function(Zt,bt,x){"use strict";var j=x(38663),s=x.n(j),_=x(16695),p=x.n(_)},29589:function(Zt,bt,x){(function(j){j(x(4631))})(function(j){"use strict";var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},_={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};j.defineMode("xml",function(p,S){var E=p.indentUnit,k={},D=S.htmlMode?s:_;for(var C in D)k[C]=D[C];for(var C in S)k[C]=S[C];var R,z;function F(I,ae){function re(Se){return ae.tokenize=Se,Se(I,ae)}var Q=I.next();if(Q=="<")return I.eat("!")?I.eat("[")?I.match("CDATA[")?re(se("atom","]]>")):null:I.match("--")?re(se("comment","-->")):I.match("DOCTYPE",!0,!0)?(I.eatWhile(/[\w\._\-]/),re(ue(1))):null:I.eat("?")?(I.eatWhile(/[\w\._\-]/),ae.tokenize=se("meta","?>"),"meta"):(R=I.eat("/")?"closeTag":"openTag",ae.tokenize=G,"tag bracket");if(Q=="&"){var Oe;return I.eat("#")?I.eat("x")?Oe=I.eatWhile(/[a-fA-F\d]/)&&I.eat(";"):Oe=I.eatWhile(/[\d]/)&&I.eat(";"):Oe=I.eatWhile(/[\w\.\-:]/)&&I.eat(";"),Oe?"atom":"error"}else return I.eatWhile(/[^&<]/),null}F.isInText=!0;function G(I,ae){var re=I.next();if(re==">"||re=="/"&&I.eat(">"))return ae.tokenize=F,R=re==">"?"endTag":"selfcloseTag","tag bracket";if(re=="=")return R="equals",null;if(re=="<"){ae.tokenize=F,ae.state=ne,ae.tagName=ae.tagStart=null;var Q=ae.tokenize(I,ae);return Q?Q+" tag error":"tag error"}else return/[\'\"]/.test(re)?(ae.tokenize=q(re),ae.stringStartCol=I.column(),ae.tokenize(I,ae)):(I.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function q(I){var ae=function(re,Q){for(;!re.eol();)if(re.next()==I){Q.tokenize=G;break}return"string"};return ae.isInAttribute=!0,ae}function se(I,ae){return function(re,Q){for(;!re.eol();){if(re.match(ae)){Q.tokenize=F;break}re.next()}return I}}function ue(I){return function(ae,re){for(var Q;(Q=ae.next())!=null;){if(Q=="<")return re.tokenize=ue(I+1),re.tokenize(ae,re);if(Q==">")if(I==1){re.tokenize=F;break}else return re.tokenize=ue(I-1),re.tokenize(ae,re)}return"meta"}}function pe(I){return I&&I.toLowerCase()}function _e(I,ae,re){this.prev=I.context,this.tagName=ae||"",this.indent=I.indented,this.startOfLine=re,(k.doNotIndent.hasOwnProperty(ae)||I.context&&I.context.noIndent)&&(this.noIndent=!0)}function ce(I){I.context&&(I.context=I.context.prev)}function $(I,ae){for(var re;;){if(!I.context||(re=I.context.tagName,!k.contextGrabbers.hasOwnProperty(pe(re))||!k.contextGrabbers[pe(re)].hasOwnProperty(pe(ae))))return;ce(I)}}function ne(I,ae,re){return I=="openTag"?(re.tagStart=ae.column(),B):I=="closeTag"?oe:ne}function B(I,ae,re){return I=="word"?(re.tagName=ae.current(),z="tag",me):k.allowMissingTagName&&I=="endTag"?(z="tag bracket",me(I,ae,re)):(z="error",B)}function oe(I,ae,re){if(I=="word"){var Q=ae.current();return re.context&&re.context.tagName!=Q&&k.implicitlyClosed.hasOwnProperty(pe(re.context.tagName))&&ce(re),re.context&&re.context.tagName==Q||k.matchClosing===!1?(z="tag",le):(z="tag error",ve)}else return k.allowMissingTagName&&I=="endTag"?(z="tag bracket",le(I,ae,re)):(z="error",ve)}function le(I,ae,re){return I!="endTag"?(z="error",le):(ce(re),ne)}function ve(I,ae,re){return z="error",le(I,ae,re)}function me(I,ae,re){if(I=="word")return z="attribute",J;if(I=="endTag"||I=="selfcloseTag"){var Q=re.tagName,Oe=re.tagStart;return re.tagName=re.tagStart=null,I=="selfcloseTag"||k.autoSelfClosers.hasOwnProperty(pe(Q))?$(re,Q):($(re,Q),re.context=new _e(re,Q,Oe==re.indented)),ne}return z="error",me}function J(I,ae,re){return I=="equals"?ie:(k.allowMissing||(z="error"),me(I,ae,re))}function ie(I,ae,re){return I=="string"?ee:I=="word"&&k.allowUnquoted?(z="string",me):(z="error",me(I,ae,re))}function ee(I,ae,re){return I=="string"?ee:me(I,ae,re)}return{startState:function(I){var ae={tokenize:F,state:ne,indented:I||0,tagName:null,tagStart:null,context:null};return I!=null&&(ae.baseIndent=I),ae},token:function(I,ae){if(!ae.tagName&&I.sol()&&(ae.indented=I.indentation()),I.eatSpace())return null;R=null;var re=ae.tokenize(I,ae);return(re||R)&&re!="comment"&&(z=null,ae.state=ae.state(R||re,I,ae),z&&(re=z=="error"?re+" error":z)),re},indent:function(I,ae,re){var Q=I.context;if(I.tokenize.isInAttribute)return I.tagStart==I.indented?I.stringStartCol+1:I.indented+E;if(Q&&Q.noIndent)return j.Pass;if(I.tokenize!=G&&I.tokenize!=F)return re?re.match(/^(\s*)/)[0].length:0;if(I.tagName)return k.multilineTagIndentPastTag!==!1?I.tagStart+I.tagName.length+2:I.tagStart+E*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(ae))return 0;var Oe=ae&&/^<(\/)?([\w_:\.-]*)/.exec(ae);if(Oe&&Oe[1])for(;Q;)if(Q.tagName==Oe[2]){Q=Q.prev;break}else if(k.implicitlyClosed.hasOwnProperty(pe(Q.tagName)))Q=Q.prev;else break;else if(Oe)for(;Q;){var Se=k.contextGrabbers[pe(Q.tagName)];if(Se&&Se.hasOwnProperty(pe(Oe[2])))Q=Q.prev;else break}for(;Q&&Q.prev&&!Q.startOfLine;)Q=Q.prev;return Q?Q.indent+E:I.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(I){I.state==ie&&(I.state=me)},xmlCurrentTag:function(I){return I.tagName?{name:I.tagName,close:I.type=="closeTag"}:null},xmlCurrentContext:function(I){for(var ae=[],re=I.context;re;re=re.prev)ae.push(re.tagName);return ae.reverse()}}}),j.defineMIME("text/xml","xml"),j.defineMIME("application/xml","xml"),j.mimeModes.hasOwnProperty("text/html")||j.defineMIME("text/html",{name:"xml",htmlMode:!0})})}}]);
