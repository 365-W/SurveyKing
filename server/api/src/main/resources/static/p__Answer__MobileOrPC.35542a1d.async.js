(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1835],{34687:function(L){L.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},29791:function(L,p,e){"use strict";var _=e(24557),D=e(78874),I=e(11013),V=e(97544),x=e(85893),T=void 0==="1";p.Z=function(){return T?(0,x.jsx)(V.Z,{copyright:!1,links:[{key:"Survey King",title:(0,x.jsx)(_.Z,{}),href:"https://surveyking.cn",blankTarget:!0},{key:"github",title:(0,x.jsx)(D.Z,{}),href:"https://github.com/javahuang/SurveyKing",blankTarget:!0},{key:"gitee",title:(0,x.jsx)(I.Z,{}),href:"https://gitee.com/surveyking/surveyking",blankTarget:!0}]}):(0,x.jsx)(x.Fragment,{})}},36432:function(L,p,e){"use strict";e.r(p),e.d(p,{MobileOrPC:function(){return U},default:function(){return B}});var _=e(11849),D=e(57338),I=e(25084),V=e(71194),x=e(50146),T=e(57663),m=e(71577),E=e(9715),z=e(86835),J=e(47673),K=e(4107),b=e(94657),v=e(51615),u=e(67294),A=e(28991),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 1156 0zm152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}}]},name:"lock",theme:"filled"},H=P,j=e(27029),ee=function(a,r){return u.createElement(j.Z,(0,A.Z)((0,A.Z)({},a),{},{ref:r,icon:H}))};ee.displayName="LockFilled";var de=u.forwardRef(ee),ce={icon:function(a,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:r}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:r}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:a}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:a}}]}},name:"eye",theme:"twotone"},ve=ce,l=function(a,r){return u.createElement(j.Z,(0,A.Z)((0,A.Z)({},a),{},{ref:r,icon:ve}))};l.displayName="EyeTwoTone";var fe=u.forwardRef(l),re=e(88633),ge=e(80937),me=e(19319),R=e(87998),Q=e(92725),X=e(48644),he=e(19357),pe=e(34792),se=e(48086),$=e(3182),ye=e(69610),ae=e(54941),Ee=e(94043),w=e.n(Ee),F=e(36602),M=e(92592),i=e(54531),_e=e(42238),te=e.n(_e),k=function(){function f(a){var r;(0,ye.Z)(this,f),this.id=void 0,this.project=void 0,this.survey=void 0,this.loading=void 0,this.verifying=!1,this.saving=!1,this.isPC=void 0,this.errorCode=void 0,this.errorMessage=void 0,this.progress=0,this.confirmTempAnswerType=0,this.statistics=void 0,this.answerUrl=void 0,this.answerQrCodeUrl=void 0,this.success=void 0,this.answerId=void 0,this.answerView=void 0,this.values=void 0,this.surveyRef=void 0,this.id=a.id,this.answerId=a.answerId,this.surveyRef=a.surveyRef,this.makeObservable(),this.loadProject(),this.confirmTempAnswerType=(r=this.savedAnswer)!==null&&r!==void 0&&r.progress?1:0}return(0,ae.Z)(f,[{key:"makeObservable",value:function(){(0,i.Ou)(this,{id:i.LO.ref,answerId:i.LO.ref,survey:i.LO.ref,loading:i.LO.ref,saving:i.LO.ref,verifying:i.LO.ref,project:i.LO.ref,errorCode:i.LO.ref,errorMessage:i.LO.ref,progress:i.LO.ref,confirmTempAnswerType:i.LO.ref,statistics:i.LO.ref,answerUrl:i.LO.ref,answerQrCodeUrl:i.LO.ref,success:i.LO.ref,answerView:i.LO.ref,values:i.LO.ref,passwordRequired:i.LO.computed,loginRequired:i.LO.computed,mode:i.LO.computed,tempSaveId:i.LO.computed,status:i.LO.computed,setting:i.LO.computed,tempSave:i.aD,saveData:i.aD,loadProject:i.aD,verifyPassword:i.aD,changeProgress:i.aD})}},{key:"setting",get:function(){var r;return(r=this.project)===null||r===void 0?void 0:r.setting}},{key:"status",get:function(){var r;return(r=this.project)===null||r===void 0?void 0:r.status}},{key:"passwordRequired",get:function(){var r;return(r=this.project)===null||r===void 0?void 0:r.passwordRequired}},{key:"loginRequired",get:function(){var r;return(r=this.project)===null||r===void 0?void 0:r.loginRequired}},{key:"mode",get:function(){var r;return(r=this.project)===null||r===void 0?void 0:r.mode}},{key:"tempSaveId",get:function(){return"savedAnswer-"+this.id}},{key:"savedAnswer",get:function(){var r=localStorage.getItem(this.tempSaveId);return r&&JSON.parse(r)}},{key:"startTime",get:function(){var r,d,t;return((r=this.savedAnswer)===null||r===void 0||(d=r.metaInfo)===null||d===void 0||(t=d.answerInfo)===null||t===void 0?void 0:t.startTime)||new Date().getTime()}},{key:"tempSave",value:function(r){var d=localStorage.getItem(this.tempSaveId),t;d?(t=JSON.parse(d),t.answer=r,t.progress=this.progress):t={answer:r,metaInfo:{answerInfo:{startTime:new Date().getTime()}},progress:this.progress},localStorage.setItem(this.tempSaveId,JSON.stringify(t))}},{key:"saveData",value:function(){var a=(0,$.Z)(w().mark(function d(t,g){var s,c,Y=this,Z,o,ne,q,ie,O,G;return w().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.saving=!0,Z=new(te())().getResult(),o={answer:t,projectId:this.id,metaInfo:{answerInfo:{startTime:this.startTime,endTime:new Date().getTime()},clientInfo:{browser:Z.browser.name,browserVersion:Z.browser.version,deviceType:Z.device.type,platform:Z.os.name,platformVersion:Z.os.version}},id:g||this.answerId},ne=this.startTime,q=((s=this.project)===null||s===void 0||(c=s.setting.examSetting)===null||c===void 0?void 0:c.minSubmitMinutes)||0,ie=ne+q*60*1e3,!(q>0&&new Date().getTime()<ie)){W.next=10;break}return se.default.error("\u672A\u5230\u4EA4\u5377\u65F6\u95F4"),this.saving=!1,W.abrupt("return");case 10:return W.next=12,F.hi.post("/api/public/saveAnswer",o);case 12:O=W.sent,O.success&&(O.data.answerId?(G="".concat(window.location.origin,"/s/").concat(this.id,"/").concat(O.data.answerId),this.answerUrl=G,M.toDataURL(G,{errorCorrectionLevel:"H",type:"image/jpeg",quality:.3,margin:5}).then(function(le){Y.answerQrCodeUrl=le}).catch(function(le){})):O.data.examScore!==void 0,this.answerView=O.data,this.values=t),localStorage.removeItem(this.tempSaveId),this.saving=!1,this.success=!0;case 17:case"end":return W.stop()}},d,this)}));function r(d,t){return a.apply(this,arguments)}return r}()},{key:"loadStatistics",value:function(){var a=(0,$.Z)(w().mark(function d(){var t;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.loading){s.next=2;break}return s.abrupt("return");case 2:return this.loading=!0,s.next=5,F.hi.post("/api/public/statistics",{id:this.id});case 5:t=s.sent,t.success&&(this.statistics=t.data),this.loading=!1;case 8:case"end":return s.stop()}},d,this)}));function r(){return a.apply(this,arguments)}return r}()},{key:"loadProject",value:function(){var a=(0,$.Z)(w().mark(function d(){var t;return w().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.loading=!0,s.next=3,F.hi.post("/api/public/loadProject",{id:this.id});case 3:t=s.sent,t.success?(this.project=t.data,this.survey=t.data.survey,t.data.answerId&&(this.answerId=t.data.answerId)):this.errorMessage=t.message,this.errorCode=t.code,this.loading=!1;case 7:case"end":return s.stop()}},d,this)}));function r(){return a.apply(this,arguments)}return r}()},{key:"loadAnswer",value:function(){var a=(0,$.Z)(w().mark(function d(t){var g;return w().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,F.hi.post("/api/public/loadAnswer",{id:t,projectId:this.id});case 2:if(g=c.sent,!g.success){c.next=7;break}return c.abrupt("return",g.data);case 7:this.errorCode=g.code,this.errorMessage=g.message;case 9:case"end":return c.stop()}},d,this)}));function r(d){return a.apply(this,arguments)}return r}()},{key:"verifyPassword",value:function(){var a=(0,$.Z)(w().mark(function d(t){var g;return w().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.verifying=!0,c.next=3,F.hi.post("/api/public/verifyPassword",{id:this.id,password:t});case 3:if(g=c.sent,this.verifying=!1,g.code!==200){c.next=8;break}return this.survey=g.data.survey,c.abrupt("return",!0);case 8:return c.abrupt("return",!1);case 9:case"end":return c.stop()}},d,this)}));function r(d){return a.apply(this,arguments)}return r}()},{key:"upload",value:function(){var a=(0,$.Z)(w().mark(function d(t,g){return w().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",F.hi.upload("/api/public/upload",(0,_.Z)({fileType:4,basePath:this.id},t),g));case 1:case"end":return c.stop()}},d,this)}));function r(d,t){return a.apply(this,arguments)}return r}()},{key:"changeProgress",value:function(r){this.progress=r}}]),f}(),n=e(85893),U=(0,ge.Pi)(function(){var f,a,r=(0,v.UO)(),d=r.id,t=r.answerId,g=(0,v.TH)(),s=g.query.preview==="1",c=g.query.openid,Y=(0,u.useMemo)(function(){return(0,R.SB)()},[]),Z=(0,u.useRef)(null),o=(0,u.useMemo)(function(){return new k({id:d,answerId:t,surveyRef:Z})},[d,t]),ne=o.saving,q=o.loading,ie=(f=o.setting)===null||f===void 0?void 0:f.answerSetting,O=ie||{},G=O.autoSave,oe=O.progressBar,W=O.initialValues,le=O.questionNumber,xe=O.wechatOnly,be=O.onePageOneQuestion,Se=O.answerSheetVisible,Le=((a=o.setting)===null||a===void 0?void 0:a.examSetting)||{},Ae=Le.exerciseMode,Re=o.errorMessage,je=o.savedAnswer,we=o.confirmTempAnswerType,Ue=o.statistics,N=o.survey,ue=o.answerId,Me=o.mode,Be=o.success,Oe=(0,R.XO)(N,g),Ze=(0,u.useState)(),Ce=(0,b.Z)(Ze,2),Pe=Ce[0],Ke=Ce[1],$e=(0,u.useState)({}),De=(0,b.Z)($e,2),Te=De[0],Fe=De[1];(0,u.useEffect)(function(){N&&(0,R.iq)(N,"statEnabled")&&o.loadStatistics()},[N,o]),(0,u.useEffect)(function(){N&&ue&&o.loadAnswer(ue).then(function(S){if(S){var h;(h=Z.current)===null||h===void 0||h.setValues(S.answer)}})},[ue,o,N]);var ke=(0,u.useCallback)(function(S,h){oe&&o.changeProgress(h),G&&S&&o.tempSave(S)},[oe]),We=function(){var h;return(0,n.jsxs)("div",{className:"password-confirm",children:[(0,n.jsx)("h3",{children:(h=o.project)===null||h===void 0?void 0:h.name}),(0,n.jsx)(x.Z,{visible:!0,footer:null,closable:!1,width:350,children:(0,n.jsxs)(z.Z,{style:{margin:"10px 0"},children:[(0,n.jsx)("div",{style:{textAlign:"center",fontSize:20,marginBottom:10},children:"\u8BF7\u8F93\u5165\u5BC6\u7801\u586B\u5199\u95EE\u5377"}),(0,n.jsx)(z.Z.Item,{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}],validateStatus:Te.validateStatus,help:Te.help,children:(0,n.jsx)(K.Z.Password,{size:"large",placeholder:"\u5BC6\u7801",prefix:(0,n.jsx)(de,{}),onChange:function(C){return Ke(C.target.value)},iconRender:function(C){return C?(0,n.jsx)(fe,{}):(0,n.jsx)(re.Z,{})}})}),(0,n.jsx)(m.Z,{type:"primary",size:"large",htmlType:"submit",block:!0,loading:o.verifying,onClick:function(){Pe&&o.verifyPassword(Pe).then(function(C){C||Fe({help:"\u5BC6\u7801\u9A8C\u8BC1\u5931\u8D25",validateStatus:"error"})})},children:"\u9A8C\u8BC1\u5E76\u586B\u5199\u95EE\u5377"})]})})]})},Ne=function(){return(0,n.jsx)(I.Z,{visible:!0,width:"100%",closable:!1,bodyStyle:{padding:0},children:(0,n.jsx)(me.default,{onOk:function(){o.loadProject()}})})},Ie=function(h){var y,C;return(0,n.jsxs)("div",{className:"render-failure ".concat(Y?"mobile":"phone"),children:[((y=o.project)===null||y===void 0?void 0:y.name)&&(0,n.jsx)("div",{className:"title",children:(C=o.project)===null||C===void 0?void 0:C.name}),(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)("div",{children:(0,n.jsx)(X.AT,{})}),(0,n.jsx)("h2",{children:Re||h}),(0,n.jsx)("div",{children:"\u611F\u8C22\u5173\u6CE8\uFF01"})]})]})},Ve=function(){if(o.loading)return(0,n.jsx)(Q.Z,{});if(o.errorCode!==200)return Ie();if(xe&&!(0,R.CL)())return Ie("\u53EA\u80FD\u5728\u5FAE\u4FE1\u4E2D\u6253\u5F00");if(N&&!Be)return we===1&&G&&Me==="survey"?(0,n.jsx)(X.oq,{}):(0,n.jsx)(he.O,{ref:Z,mode:Me,loading:ne||q,progressBar:oe,questionNumber:le,theme:Y?"antdMobile":"antd",schema:N,onChange:ke,onePageOneQuestion:be,answerSheetVisible:Se,exerciseMode:Ae,onInit:function(y){o.tempSave(y.values)},initialValues:we===3?Oe:(0,_.Z)((0,_.Z)((0,_.Z)({},W),je==null?void 0:je.answer),Oe),statistics:Ue,onUpload:function(y,C){return o.upload(y,C)},footerVisible:!s,headerVisible:!s,isPreview:s,onSubmit:function(y){o.saveData((0,_.Z)((0,_.Z)({},y),{},{openid:c}),ue)}});if(o.loginRequired)return(0,n.jsx)("div",{children:Ne()});if(o.passwordRequired)return(0,n.jsx)("div",{children:We()})},ze=function(){return(0,n.jsx)(X.x4,{})},He=function(){var h,y,C=(h=o.survey)===null||h===void 0||(y=h.attribute)===null||y===void 0?void 0:y.backgroundImage;if(C)return{backgroundImage:"url(/api/public/preview/".concat(C,")")}};return(0,n.jsx)(R.ff.Provider,{value:o,children:(0,n.jsxs)("div",{className:"survey ".concat(Y?"mobile":"pc"),style:He(),children:[Ve(),ze()]})})}),B=U},19319:function(L,p,e){"use strict";e.r(p);var _=e(34792),D=e(48086),I=e(3182),V=e(94657),x=e(17462),T=e(76772),m=e(94043),E=e.n(m),z=e(89366),J=e(2603),K=e(67294),b=e(952),v=e(5966),u=e(42285),A=e(73727),P=e(29791),H=e(34687),j=e.n(H),ee=e(27400),de=e(77613),ce=e(5481),ve=e.n(ce),l=e(85893),fe=function(R){var Q=R.content;return(0,l.jsx)(T.Z,{style:{marginBottom:24},message:Q,type:"error",showIcon:!0})},re=void 0==="1",ge=function(R){var Q,X,he=(0,K.useState)(!1),pe=(0,V.Z)(he,2),se=pe[0],$=pe[1],ye=(0,K.useState)(),ae=(0,V.Z)(ye,2),Ee=ae[0],w=ae[1],F=(0,ee.a)(),M=F.system,i=(0,u.YB)(),_e=function(){var k=(0,I.Z)(E().mark(function n(){return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:case"end":return B.stop()}},n)}));return function(){return k.apply(this,arguments)}}(),te=function(){var k=(0,I.Z)(E().mark(function n(U){var B,f,a,r,d,t;return E().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,F.login(U);case 3:if(B=s.sent,!B.success){s.next=18;break}if(f=i.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),D.default.success(f),!R.onOk){s.next=10;break}return R.onOk(),s.abrupt("return");case 10:return s.next=12,_e();case 12:if(u.m8){s.next=14;break}return s.abrupt("return");case 14:return a=u.m8.location.query,r=a,d=r.redirect,u.m8.push(d||"/"),s.abrupt("return");case 18:w(B.message&&"error"),s.next=25;break;case 21:s.prev=21,s.t0=s.catch(0),t=i.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),D.default.error(t);case 25:$(!1);case 26:case"end":return s.stop()}},n,null,[[0,21]])}));return function(U){return k.apply(this,arguments)}}();return(0,l.jsxs)("div",{className:j().container,children:[(0,l.jsx)("div",{className:j().lang,"data-lang":!0,children:u.pD&&(0,l.jsx)(u.pD,{})}),(0,l.jsxs)("div",{className:j().content,children:[(0,l.jsxs)("div",{className:j().top,children:[(0,l.jsx)("div",{className:j().header,children:(0,l.jsxs)(A.rU,{to:"/",children:[(0,l.jsx)("img",{alt:"logo",className:j().logo,src:M.avatar?"/api/public/preview/".concat(M==null?void 0:M.avatar):ve()}),(0,l.jsx)("span",{className:j().title,children:M==null?void 0:M.name})]})}),(0,l.jsx)("div",{className:j().desc,children:M==null?void 0:M.description})]}),(0,l.jsx)("div",{className:j().main,children:(0,l.jsxs)(b.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:i.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(n,U){return U.pop()},submitButtonProps:{loading:se,size:"large",style:{width:"100%"},htmlType:"submit"}},isKeyPressSubmit:!0,onFinish:function(){var k=(0,I.Z)(E().mark(function n(U){return E().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!se){f.next=2;break}return f.abrupt("return");case 2:return $(!0),f.next=5,te(U);case 5:case"end":return f.stop()}},n)}));return function(n){return k.apply(this,arguments)}}(),children:[Ee==="error"&&(0,l.jsx)(fe,{content:i.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF"})}),(0,l.jsx)(v.Z,{name:"username",fieldProps:{size:"large",prefix:(0,l.jsx)(z.Z,{className:j().prefixIcon})},placeholder:i.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D"}),rules:[{required:!0,message:(0,l.jsx)(u._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,l.jsx)(v.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,l.jsx)(J.Z,{className:j().prefixIcon})},placeholder:i.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,l.jsx)(u._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),!re&&((Q=M.registerInfo)===null||Q===void 0?void 0:Q.registerEnabled)&&(0,l.jsx)("div",{style:{marginBottom:24,display:"flex",justifyContent:"flex-end"},children:(0,l.jsx)(A.rU,{to:"/user/register",children:(0,l.jsx)(u._H,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C"})})}),re&&(0,l.jsxs)("div",{style:{marginBottom:24},children:[((X=M.registerInfo)===null||X===void 0?void 0:X.registerEnabled)&&(0,l.jsx)(A.rU,{to:"/user/register",children:(0,l.jsx)(u._H,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C"})}),(0,l.jsx)("a",{style:{float:"right"},onClick:function(){return te({username:"admin",password:"123456"})},children:(0,l.jsx)(u._H,{id:"pages.login.try",defaultMessage:"\u8BD5\u4E00\u8BD5"})})]})]})})]}),(0,l.jsx)(P.Z,{})]})};p.default=(0,de.P)(ge)},5481:function(L,p,e){L.exports=e.p+"static/logo.de1a765f.svg"},20640:function(L,p,e){"use strict";var _=e(11742),D={"text/plain":"Text","text/html":"Url",default:"Text"},I="Copy to clipboard: #{key}, Enter";function V(T){var m=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return T.replace(/#{\s*key\s*}/g,m)}function x(T,m){var E,z,J,K,b,v,u=!1;m||(m={}),E=m.debug||!1;try{J=_(),K=document.createRange(),b=document.getSelection(),v=document.createElement("span"),v.textContent=T,v.style.all="unset",v.style.position="fixed",v.style.top=0,v.style.clip="rect(0, 0, 0, 0)",v.style.whiteSpace="pre",v.style.webkitUserSelect="text",v.style.MozUserSelect="text",v.style.msUserSelect="text",v.style.userSelect="text",v.addEventListener("copy",function(P){if(P.stopPropagation(),m.format)if(P.preventDefault(),typeof P.clipboardData=="undefined"){E&&console.warn("unable to use e.clipboardData"),E&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var H=D[m.format]||D.default;window.clipboardData.setData(H,T)}else P.clipboardData.clearData(),P.clipboardData.setData(m.format,T);m.onCopy&&(P.preventDefault(),m.onCopy(P.clipboardData))}),document.body.appendChild(v),K.selectNodeContents(v),b.addRange(K);var A=document.execCommand("copy");if(!A)throw new Error("copy command was unsuccessful");u=!0}catch(P){E&&console.error("unable to copy using execCommand: ",P),E&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(m.format||"text",T),m.onCopy&&m.onCopy(window.clipboardData),u=!0}catch(H){E&&console.error("unable to copy using clipboardData: ",H),E&&console.error("falling back to prompt"),z=V("message"in m?m.message:I),window.prompt(z,T)}}finally{b&&(typeof b.removeRange=="function"?b.removeRange(K):b.removeAllRanges()),v&&document.body.removeChild(v),J()}return u}L.exports=x},11742:function(L){L.exports=function(){var p=document.getSelection();if(!p.rangeCount)return function(){};for(var e=document.activeElement,_=[],D=0;D<p.rangeCount;D++)_.push(p.getRangeAt(D));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return p.removeAllRanges(),function(){p.type==="Caret"&&p.removeAllRanges(),p.rangeCount||_.forEach(function(I){p.addRange(I)}),e&&e.focus()}}}}]);
