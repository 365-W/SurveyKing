(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3076],{99008:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="FileTextOutlined";var k=s.forwardRef(x)},54977:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="FormOutlined";var k=s.forwardRef(x)},65602:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="InteractionOutlined";var k=s.forwardRef(x)},2603:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="LockOutlined";var k=s.forwardRef(x)},89792:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 612c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H298a95.92 95.92 0 00-89-60c-53 0-96 43-96 96s43 96 96 96c40.3 0 74.8-24.8 89-60h150.3v152c0 55.2 44.8 100 100 100H952c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H548.3c-15.5 0-28-12.5-28-28V612H952zM451.7 313.7l172.5 136.2c6.3 5.1 15.8.5 15.8-7.7V344h264c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H640v-98.2c0-8.1-9.4-12.8-15.8-7.7L451.7 298.3a9.9 9.9 0 000 15.4z"}}]},name:"node-collapse",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="NodeCollapseOutlined";var k=s.forwardRef(x)},1870:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="QuestionCircleOutlined";var k=s.forwardRef(x)},11075:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="RollbackOutlined";var k=s.forwardRef(x)},13105:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="SnippetsOutlined";var k=s.forwardRef(x)},15360:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="StopOutlined";var k=s.forwardRef(x)},89366:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="UserOutlined";var k=s.forwardRef(x)},3157:function(nn,St,E){"use strict";E.d(St,{Z:function(){return k}});var M=E(28991),s=E(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},d=O,S=E(27029),x=function(R,L){return s.createElement(S.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:d}))};x.displayName="UserSwitchOutlined";var k=s.forwardRef(x)},20878:function(nn,St,E){"use strict";nn.exports=E(44407)},44407:function(nn,St){(function(E,M){if(!0)nn.exports=M();else var s,O})(window,function(){return function(E){var M={};function s(O){if(M[O])return M[O].exports;var d=M[O]={i:O,l:!1,exports:{}};return E[O].call(d.exports,d,d.exports,s),d.l=!0,d.exports}return s.m=E,s.c=M,s.d=function(O,d,S){s.o(O,d)||Object.defineProperty(O,d,{enumerable:!0,get:S})},s.r=function(O){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})},s.t=function(O,d){if(1&d&&(O=s(O)),8&d||4&d&&typeof O=="object"&&O&&O.__esModule)return O;var S=Object.create(null);if(s.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:O}),2&d&&typeof O!="string")for(var x in O)s.d(S,x,function(k){return O[k]}.bind(null,x));return S},s.n=function(O){var d=O&&O.__esModule?function(){return O.default}:function(){return O};return s.d(d,"a",d),d},s.o=function(O,d){return Object.prototype.hasOwnProperty.call(O,d)},s.p="",s(s.s=215)}([function(E,M,s){"use strict";(function(O,d){s.d(M,"a",function(){return H}),s.d(M,"b",function(){return po}),s.d(M,"c",function(){return pr}),s.d(M,"d",function(){return gt}),s.d(M,"e",function(){return Ue}),s.d(M,"f",function(){return Ye}),s.d(M,"g",function(){return ft}),s.d(M,"h",function(){return ar}),s.d(M,"i",function(){return Ft}),s.d(M,"j",function(){return qe}),s.d(M,"k",function(){return Jn}),s.d(M,"l",function(){return bi}),s.d(M,"m",function(){return It}),s.d(M,"n",function(){return Or}),s.d(M,"o",function(){return ve}),s.d(M,"p",function(){return qn}),s.d(M,"q",function(){return Tn}),s.d(M,"r",function(){return Zo}),s.d(M,"s",function(){return Fn}),s.d(M,"t",function(){return io}),s.d(M,"u",function(){return jo}),s.d(M,"v",function(){return xi}),s.d(M,"w",function(){return Ko}),s.d(M,"x",function(){return hr}),s.d(M,"y",function(){return or}),s.d(M,"z",function(){return Vt}),s.d(M,"A",function(){return In}),s.d(M,"B",function(){return nr}),s.d(M,"C",function(){return nt}),s.d(M,"D",function(){return wr}),s.d(M,"E",function(){return zr}),s.d(M,"F",function(){return Lr}),s.d(M,"G",function(){return mi}),s.d(M,"H",function(){return Vo}),s.d(M,"I",function(){return Gr}),s.d(M,"J",function(){return Cn}),s.d(M,"K",function(){return me}),s.d(M,"L",function(){return hn}),s.d(M,"M",function(){return Mo});var S=[];Object.freeze(S);var x={};function k(){return++ot.mobxGuid}function T(y){throw R(!1,y),"X"}function R(y,m){if(!y)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(x);function L(y){var m=!1;return function(){if(!m)return m=!0,y.apply(this,arguments)}}var z=function(){};function F(y){return y!==null&&typeof y=="object"}function X(y){if(y===null||typeof y!="object")return!1;var m=Object.getPrototypeOf(y);return m===Object.prototype||m===null}function q(y,m,w){Object.defineProperty(y,m,{enumerable:!1,writable:!0,configurable:!0,value:w})}function ue(y,m){var w="isMobX"+y;return m.prototype[w]=!0,function(D){return F(D)&&D[w]===!0}}function ae(y){return y instanceof Map}function de(y){return y instanceof Set}function be(y){var m=new Set;for(var w in y)m.add(w);return Object.getOwnPropertySymbols(y).forEach(function(D){Object.getOwnPropertyDescriptor(y,D).enumerable&&m.add(D)}),Array.from(m)}function pe(y){return y&&y.toString?y.toString():new String(y).toString()}function $(y){return y===null?null:typeof y=="object"?""+y:y}var ee=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:Object.getOwnPropertyNames,H=Symbol("mobx administration"),re=function(){function y(m){m===void 0&&(m="Atom@"+k()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Ze.NOT_TRACKING}return y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},y.prototype.reportObserved=function(){return yi(this)},y.prototype.reportChanged=function(){Kn(),function(m){m.lowestObserverState!==Ze.STALE&&(m.lowestObserverState=Ze.STALE,m.observers.forEach(function(w){w.dependenciesState===Ze.UP_TO_DATE&&(w.isTracing!==le.NONE&&fr(w,m),w.onBecomeStale()),w.dependenciesState=Ze.STALE}))}(this),$n()},y.prototype.toString=function(){return this.name},y}(),ce=ue("Atom",re);function ve(y,m,w){m===void 0&&(m=z),w===void 0&&(w=z);var D,U=new re(y);return m!==z&&ta("onBecomeObserved",U,m,D),w!==z&&zr(U,w),U}var _e={identity:function(y,m){return y===m},structural:function(y,m){return Ur(y,m)},default:function(y,m){return Object.is(y,m)},shallow:function(y,m){return Ur(y,m,1)}},Z=function(y,m){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,D){w.__proto__=D}||function(w,D){for(var U in D)D.hasOwnProperty(U)&&(w[U]=D[U])},Z(y,m)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var oe=function(){return oe=Object.assign||function(y){for(var m,w=1,D=arguments.length;w<D;w++)for(var U in m=arguments[w])Object.prototype.hasOwnProperty.call(m,U)&&(y[U]=m[U]);return y},oe.apply(this,arguments)};function Q(y){var m=typeof Symbol=="function"&&y[Symbol.iterator],w=0;return m?m.call(y):{next:function(){return y&&w>=y.length&&(y=void 0),{value:y&&y[w++],done:!y}}}}function I(y,m){var w=typeof Symbol=="function"&&y[Symbol.iterator];if(!w)return y;var D,U,he=w.call(y),ke=[];try{for(;(m===void 0||m-- >0)&&!(D=he.next()).done;)ke.push(D.value)}catch(Be){U={error:Be}}finally{try{D&&!D.done&&(w=he.return)&&w.call(he)}finally{if(U)throw U.error}}return ke}function ie(){for(var y=[],m=0;m<arguments.length;m++)y=y.concat(I(arguments[m]));return y}var te=Symbol("mobx did run lazy initializers"),K=Symbol("mobx pending decorators"),we={},Ee={};function Re(y,m){var w=m?we:Ee;return w[y]||(w[y]={configurable:!0,enumerable:m,get:function(){return Ge(this),this[y]},set:function(D){Ge(this),this[y]=D}})}function Ge(y){var m,w;if(y[te]!==!0){var D=y[K];if(D){q(y,te,!0);var U=ie(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var he=Q(U),ke=he.next();!ke.done;ke=he.next()){var Be=D[ke.value];Be.propertyCreator(y,Be.prop,Be.descriptor,Be.decoratorTarget,Be.decoratorArguments)}}catch(et){m={error:et}}finally{try{ke&&!ke.done&&(w=he.return)&&w.call(he)}finally{if(m)throw m.error}}}}}function tt(y,m){return function(){var w,D=function(U,he,ke,Be){if(Be===!0)return m(U,he,ke,U,w),null;if(!Object.prototype.hasOwnProperty.call(U,K)){var et=U[K];q(U,K,oe({},et))}return U[K][he]={prop:he,propertyCreator:m,descriptor:ke,decoratorTarget:U,decoratorArguments:w},Re(he,y)};return Fe(arguments)?(w=S,D.apply(null,arguments)):(w=Array.prototype.slice.call(arguments),D)}}function Fe(y){return(y.length===2||y.length===3)&&(typeof y[1]=="string"||typeof y[1]=="symbol")||y.length===4&&y[3]===!0}function Xe(y,m,w){return hr(y)?y:Array.isArray(y)?nt.array(y,{name:w}):X(y)?nt.object(y,void 0,{name:w}):ae(y)?nt.map(y,{name:w}):de(y)?nt.set(y,{name:w}):y}function at(y){return y}function se(y){R(y);var m=tt(!0,function(D,U,he,ke,Be){var et=he?he.initializer?he.initializer.call(D):he.value:void 0;Xr(D).addObservableProp(U,et,y)}),w=(O!==void 0&&O.env,m);return w.enhancer=y,w}var ne={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ge(y){return y==null?ne:typeof y=="string"?{name:y,deep:!0,proxy:!0}:y}Object.freeze(ne);var Te=se(Xe),He=se(function(y,m,w){return y==null||In(y)||or(y)||Vt(y)||Pn(y)?y:Array.isArray(y)?nt.array(y,{name:w,deep:!1}):X(y)?nt.object(y,void 0,{name:w,deep:!1}):ae(y)?nt.map(y,{name:w,deep:!1}):de(y)?nt.set(y,{name:w,deep:!1}):T(!1)}),Ce=se(at),st=se(function(y,m,w){return Ur(y,m)?m:y});function ht(y){return y.defaultDecorator?y.defaultDecorator.enhancer:y.deep===!1?at:Xe}var pt={box:function(y,m){arguments.length>2&&De("box");var w=ge(m);return new $t(y,ht(w),w.name,!0,w.equals)},array:function(y,m){arguments.length>2&&De("array");var w=ge(m);return ko(y,ht(w),w.name)},map:function(y,m){arguments.length>2&&De("map");var w=ge(m);return new po(y,ht(w),w.name)},set:function(y,m){arguments.length>2&&De("set");var w=ge(m);return new ho(y,ht(w),w.name)},object:function(y,m,w){typeof arguments[1]=="string"&&De("object");var D=ge(w);if(D.proxy===!1)return Tn({},y,m,D);var U=Oi(D),he=Tn({},void 0,void 0,D),ke=ra(he);return wi(ke,y,m,U),ke},ref:Ce,shallow:He,deep:Te,struct:st},nt=function(y,m,w){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Te.apply(null,arguments);if(hr(y))return y;var D=X(y)?nt.object(y,m,w):Array.isArray(y)?nt.array(y,m):ae(y)?nt.map(y,m):de(y)?nt.set(y,m):y;if(D!==y)return D;T(!1)};function De(y){T("Expected one or two arguments to observable."+y+". Did you accidentally try to use observable."+y+" as decorator?")}Object.keys(pt).forEach(function(y){return nt[y]=pt[y]});var Ze,le,$e=tt(!1,function(y,m,w,D,U){var he=w.get,ke=w.set,Be=U[0]||{};Xr(y).addComputedProp(y,m,oe({get:he,set:ke,context:y},Be))}),ut=$e({equals:_e.structural}),It=function(y,m,w){if(typeof m=="string"||y!==null&&typeof y=="object"&&arguments.length===1)return $e.apply(null,arguments);var D=typeof m=="object"?m:{};return D.get=y,D.set=typeof m=="function"?m:D.set,D.name=D.name||y.name||"",new lr(D)};It.struct=ut,function(y){y[y.NOT_TRACKING=-1]="NOT_TRACKING",y[y.UP_TO_DATE=0]="UP_TO_DATE",y[y.POSSIBLY_STALE=1]="POSSIBLY_STALE",y[y.STALE=2]="STALE"}(Ze||(Ze={})),function(y){y[y.NONE=0]="NONE",y[y.LOG=1]="LOG",y[y.BREAK=2]="BREAK"}(le||(le={}));var mt=function(y){this.cause=y};function xt(y){return y instanceof mt}function Gt(y){switch(y.dependenciesState){case Ze.UP_TO_DATE:return!1;case Ze.NOT_TRACKING:case Ze.STALE:return!0;case Ze.POSSIBLY_STALE:for(var m=Ye(!0),w=J(),D=y.observing,U=D.length,he=0;he<U;he++){var ke=D[he];if(_r(ke)){if(ot.disableErrorBoundaries)ke.get();else try{ke.get()}catch(Be){return Oe(w),Ue(m),!0}if(y.dependenciesState===Ze.STALE)return Oe(w),Ue(m),!0}}return Je(y),Oe(w),Ue(m),!1}}function Ft(){return ot.trackingDerivation!==null}function bt(y){var m=y.observers.size>0;ot.computationDepth>0&&m&&T(!1),ot.allowStateChanges||!m&&ot.enforceActions!=="strict"||T(!1)}function en(y,m,w){var D=Ye(!0);Je(y),y.newObserving=new Array(y.observing.length+100),y.unboundDepsCount=0,y.runId=++ot.runId;var U,he=ot.trackingDerivation;if(ot.trackingDerivation=y,ot.disableErrorBoundaries===!0)U=m.call(w);else try{U=m.call(w)}catch(ke){U=new mt(ke)}return ot.trackingDerivation=he,function(ke){for(var Be=ke.observing,et=ke.observing=ke.newObserving,Nt=Ze.UP_TO_DATE,Ot=0,Ht=ke.unboundDepsCount,Et=0;Et<Ht;Et++)(Lt=et[Et]).diffValue===0&&(Lt.diffValue=1,Ot!==Et&&(et[Ot]=Lt),Ot++),Lt.dependenciesState>Nt&&(Nt=Lt.dependenciesState);for(et.length=Ot,ke.newObserving=null,Ht=Be.length;Ht--;)(Lt=Be[Ht]).diffValue===0&&hi(Lt,ke),Lt.diffValue=0;for(;Ot--;){var Lt;(Lt=et[Ot]).diffValue===1&&(Lt.diffValue=0,qi(Lt,ke))}Nt!==Ze.UP_TO_DATE&&(ke.dependenciesState=Nt,ke.onBecomeStale())}(y),Ue(D),U}function V(y){var m=y.observing;y.observing=[];for(var w=m.length;w--;)hi(m[w],y);y.dependenciesState=Ze.NOT_TRACKING}function me(y){var m=J();try{return y()}finally{Oe(m)}}function J(){var y=ot.trackingDerivation;return ot.trackingDerivation=null,y}function Oe(y){ot.trackingDerivation=y}function Ye(y){var m=ot.allowStateReads;return ot.allowStateReads=y,m}function Ue(y){ot.allowStateReads=y}function Je(y){if(y.dependenciesState!==Ze.UP_TO_DATE){y.dependenciesState=Ze.UP_TO_DATE;for(var m=y.observing,w=m.length;w--;)m[w].lowestObserverState=Ze.UP_TO_DATE}}var kt=0,un=1,qt=Object.getOwnPropertyDescriptor(function(){},"name");qt&&qt.configurable;function tn(y,m,w){var D=function(){return Yt(y,m,w||this,arguments)};return D.isMobxAction=!0,D}function Yt(y,m,w,D){var U=qe(y,w,D);try{return m.apply(w,D)}catch(he){throw U.error=he,he}finally{ft(U)}}function qe(y,m,w){var D=0,U=J();Kn();var he={prevDerivation:U,prevAllowStateChanges:_t(!0),prevAllowStateReads:Ye(!0),notifySpy:!1,startTime:D,actionId:un++,parentActionId:kt};return kt=he.actionId,he}function ft(y){kt!==y.actionId&&T("invalid action stack. did you forget to finish an action?"),kt=y.parentActionId,y.error!==void 0&&(ot.suppressReactionErrors=!0),Bt(y.prevAllowStateChanges),Ue(y.prevAllowStateReads),$n(),Oe(y.prevDerivation),y.notifySpy,ot.suppressReactionErrors=!1}function gt(y,m){var w,D=_t(y);try{w=m()}finally{Bt(D)}return w}function _t(y){var m=ot.allowStateChanges;return ot.allowStateChanges=y,m}function Bt(y){ot.allowStateChanges=y}var $t=function(y){function m(w,D,U,he,ke){U===void 0&&(U="ObservableValue@"+k()),he===void 0&&(he=!0),ke===void 0&&(ke=_e.default);var Be=y.call(this,U)||this;return Be.enhancer=D,Be.name=U,Be.equals=ke,Be.hasUnreportedChange=!1,Be.value=D(w,void 0,U),Be}return function(w,D){function U(){this.constructor=w}Z(w,D),w.prototype=D===null?Object.create(D):(U.prototype=D.prototype,new U)}(m,y),m.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},m.prototype.set=function(w){this.value,(w=this.prepareNewValue(w))!==ot.UNCHANGED&&this.setNewValue(w)},m.prototype.prepareNewValue=function(w){if(bt(this),bn(this)){var D=Dt(this,{object:this,type:"update",newValue:w});if(!D)return ot.UNCHANGED;w=D.newValue}return w=this.enhancer(w,this.value,this.name),this.equals(this.value,w)?ot.UNCHANGED:w},m.prototype.setNewValue=function(w){var D=this.value;this.value=w,this.reportChanged(),Rn(this)&&sn(this,{type:"update",object:this,newValue:w,oldValue:D})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(w){return Qn(this,w)},m.prototype.observe=function(w,D){return D&&w({object:this,type:"update",newValue:this.value,oldValue:void 0}),rr(this,w)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return $(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(re),br=ue("ObservableValue",$t),lr=function(){function y(m){this.dependenciesState=Ze.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Ze.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+k(),this.value=new mt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=le.NONE,R(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+k(),m.set&&(this.setter=tn(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?_e.structural:_e.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return y.prototype.onBecomeStale=function(){(function(m){m.lowestObserverState===Ze.UP_TO_DATE&&(m.lowestObserverState=Ze.POSSIBLY_STALE,m.observers.forEach(function(w){w.dependenciesState===Ze.UP_TO_DATE&&(w.dependenciesState=Ze.POSSIBLY_STALE,w.isTracing!==le.NONE&&fr(w,m),w.onBecomeStale())}))})(this)},y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},y.prototype.get=function(){this.isComputing&&T("Cycle detected in computation "+this.name+": "+this.derivation),ot.inBatch!==0||this.observers.size!==0||this.keepAlive?(yi(this),Gt(this)&&this.trackAndCompute()&&function(w){w.lowestObserverState!==Ze.STALE&&(w.lowestObserverState=Ze.STALE,w.observers.forEach(function(D){D.dependenciesState===Ze.POSSIBLY_STALE?D.dependenciesState=Ze.STALE:D.dependenciesState===Ze.UP_TO_DATE&&(w.lowestObserverState=Ze.UP_TO_DATE)}))}(this)):Gt(this)&&(this.warnAboutUntrackedRead(),Kn(),this.value=this.computeValue(!1),$n());var m=this.value;if(xt(m))throw m.cause;return m},y.prototype.peek=function(){var m=this.computeValue(!1);if(xt(m))throw m.cause;return m},y.prototype.set=function(m){if(this.setter){R(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else R(!1,!1)},y.prototype.trackAndCompute=function(){var m=this.value,w=this.dependenciesState===Ze.NOT_TRACKING,D=this.computeValue(!0),U=w||xt(m)||xt(D)||!this.equals(m,D);return U&&(this.value=D),U},y.prototype.computeValue=function(m){var w;if(this.isComputing=!0,ot.computationDepth++,m)w=en(this,this.derivation,this.scope);else if(ot.disableErrorBoundaries===!0)w=this.derivation.call(this.scope);else try{w=this.derivation.call(this.scope)}catch(D){w=new mt(D)}return ot.computationDepth--,this.isComputing=!1,w},y.prototype.suspend=function(){this.keepAlive||(V(this),this.value=void 0)},y.prototype.observe=function(m,w){var D=this,U=!0,he=void 0;return bi(function(){var ke=D.get();if(!U||w){var Be=J();m({type:"update",object:D,newValue:ke,oldValue:he}),Oe(Be)}U=!1,he=ke})},y.prototype.warnAboutUntrackedRead=function(){},y.prototype.toJSON=function(){return this.get()},y.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},y.prototype.valueOf=function(){return $(this.get())},y.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},y}(),_r=ue("ComputedValue",lr),So=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Rr={};function Xo(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:Rr}var Zn=!0,di=!1,ot=function(){var y=Xo();return y.__mobxInstanceCount>0&&!y.__mobxGlobals&&(Zn=!1),y.__mobxGlobals&&y.__mobxGlobals.version!==new So().version&&(Zn=!1),Zn?y.__mobxGlobals?(y.__mobxInstanceCount+=1,y.__mobxGlobals.UNCHANGED||(y.__mobxGlobals.UNCHANGED={}),y.__mobxGlobals):(y.__mobxInstanceCount=1,y.__mobxGlobals=new So):(setTimeout(function(){di||T("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new So)}();function qi(y,m){y.observers.add(m),y.lowestObserverState>m.dependenciesState&&(y.lowestObserverState=m.dependenciesState)}function hi(y,m){y.observers.delete(m),y.observers.size===0&&Uo(y)}function Uo(y){y.isPendingUnobservation===!1&&(y.isPendingUnobservation=!0,ot.pendingUnobservations.push(y))}function Kn(){ot.inBatch++}function $n(){if(--ot.inBatch==0){vi();for(var y=ot.pendingUnobservations,m=0;m<y.length;m++){var w=y[m];w.isPendingUnobservation=!1,w.observers.size===0&&(w.isBeingObserved&&(w.isBeingObserved=!1,w.onBecomeUnobserved()),w instanceof lr&&w.suspend())}ot.pendingUnobservations=[]}}function yi(y){var m=ot.trackingDerivation;return m!==null?(m.runId!==y.lastAccessedBy&&(y.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=y,y.isBeingObserved||(y.isBeingObserved=!0,y.onBecomeObserved())),!0):(y.observers.size===0&&ot.inBatch>0&&Uo(y),!1)}function fr(y,m){if(y.isTracing===le.BREAK){var w=[];no(io(y),w,1),new Function(`debugger;
/*
Tracing '`+y.name+`'

You are entering this break point because derivation '`+y.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(y instanceof lr?y.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+w.join(`
`)+`
*/
    `)()}}function no(y,m,w){m.length>=1e3?m.push("(and many more)"):(m.push(""+new Array(w).join("	")+y.name),y.dependencies&&y.dependencies.forEach(function(D){return no(D,m,w+1)}))}var pr=function(){function y(m,w,D,U){m===void 0&&(m="Reaction@"+k()),U===void 0&&(U=!1),this.name=m,this.onInvalidate=w,this.errorHandler=D,this.requiresObservable=U,this.observing=[],this.newObserving=[],this.dependenciesState=Ze.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+k(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=le.NONE}return y.prototype.onBecomeStale=function(){this.schedule()},y.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ot.pendingReactions.push(this),vi())},y.prototype.isScheduled=function(){return this._isScheduled},y.prototype.runReaction=function(){if(!this.isDisposed){if(Kn(),this._isScheduled=!1,Gt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(m){this.reportExceptionInDerivation(m)}}$n()}},y.prototype.track=function(m){if(!this.isDisposed){Kn(),this._isRunning=!0;var w=en(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&V(this),xt(w)&&this.reportExceptionInDerivation(w.cause),$n()}},y.prototype.reportExceptionInDerivation=function(m){var w=this;if(this.errorHandler)this.errorHandler(m,this);else{if(ot.disableErrorBoundaries)throw m;ot.suppressReactionErrors,ot.globalReactionErrorHandlers.forEach(function(D){return D(m,w)})}},y.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Kn(),V(this),$n()))},y.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m[H]=this,m},y.prototype.toString=function(){return"Reaction["+this.name+"]"},y.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];var U=!1;typeof w[w.length-1]=="boolean"&&(U=w.pop());var he=yn(w);if(!he)return T(!1);he.isTracing,le.NONE,he.isTracing=U?le.BREAK:le.LOG}(this,m)},y}(),Yo=function(y){return y()};function vi(){ot.inBatch>0||ot.isRunningReactions||Yo(ro)}function ro(){ot.isRunningReactions=!0;for(var y=ot.pendingReactions,m=0;y.length>0;){++m==100&&y.splice(0);for(var w=y.splice(0),D=0,U=w.length;D<U;D++)w[D].runReaction()}ot.isRunningReactions=!1}var dr=ue("Reaction",pr);function oo(y){var m=Yo;Yo=function(w){return y(function(){return m(w)})}}function Vo(y){return function(){}}function Qi(){T(!1)}function Ir(y){return function(m,w,D){if(D){if(D.value)return{value:tn(y,D.value),enumerable:!1,configurable:!0,writable:!0};var U=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return tn(y,U.call(this))}}}return gi(y).apply(this,arguments)}}function gi(y){return function(m,w,D){Object.defineProperty(m,w,{configurable:!0,enumerable:!1,get:function(){},set:function(U){q(this,w,Jn(y,U))}})}}var Jn=function(y,m,w,D){return arguments.length===1&&typeof y=="function"?tn(y.name||"<unnamed action>",y):arguments.length===2&&typeof m=="function"?tn(y,m):arguments.length===1&&typeof y=="string"?Ir(y):D!==!0?Ir(m).apply(null,arguments):void q(y,m,tn(y.name||m,w.value,this))};function mi(y,m){return Yt(typeof y=="string"?y:y.name||"<unnamed action>",typeof y=="function"?y:m,this,void 0)}function jo(y){return typeof y=="function"&&y.isMobxAction===!0}function Wo(y,m,w){q(y,m,tn(m,w.bind(y)))}function bi(y,m){m===void 0&&(m=x);var w,D=m&&m.name||y.name||"Autorun@"+k();if(!m.scheduler&&!m.delay)w=new pr(D,function(){this.track(ke)},m.onError,m.requiresObservable);else{var U=_i(m),he=!1;w=new pr(D,function(){he||(he=!0,U(function(){he=!1,w.isDisposed||w.track(ke)}))},m.onError,m.requiresObservable)}function ke(){y(w)}return w.schedule(),w.getDisposer()}Jn.bound=function(y,m,w,D){return D===!0?(Wo(y,m,w.value),null):w?{configurable:!0,enumerable:!1,get:function(){return Wo(this,m,w.value||w.initializer.call(this)),this[m]},set:Qi}:{enumerable:!1,configurable:!0,set:function(U){Wo(this,m,U)},get:function(){}}};var ea=function(y){return y()};function _i(y){return y.scheduler?y.scheduler:y.delay?function(m){return setTimeout(m,y.delay)}:ea}function Lr(y,m,w){w===void 0&&(w=x);var D,U,he,ke=w.name||"Reaction@"+k(),Be=Jn(ke,w.onError?(D=w.onError,U=m,function(){try{return U.apply(this,arguments)}catch(Kt){D.call(this,Kt)}}):m),et=!w.scheduler&&!w.delay,Nt=_i(w),Ot=!0,Ht=!1,Et=w.compareStructural?_e.structural:w.equals||_e.default,Lt=new pr(ke,function(){Ot||et?Un():Ht||(Ht=!0,Nt(Un))},w.onError,w.requiresObservable);function Un(){if(Ht=!1,!Lt.isDisposed){var Kt=!1;Lt.track(function(){var Mn=y(Lt);Kt=Ot||!Et(he,Mn),he=Mn}),Ot&&w.fireImmediately&&Be(he,Lt),Ot||Kt!==!0||Be(he,Lt),Ot&&(Ot=!1)}}return Lt.schedule(),Lt.getDisposer()}function zr(y,m,w){return ta("onBecomeUnobserved",y,m,w)}function ta(y,m,w,D){var U=typeof D=="function"?Fn(m,w):Fn(m),he=typeof D=="function"?D:w,ke=y+"Listeners";return U[ke]?U[ke].add(he):U[ke]=new Set([he]),typeof U[y]!="function"?T(!1):function(){var Be=U[ke];Be&&(Be.delete(he),Be.size===0&&delete U[ke])}}function Or(y){var m=y.enforceActions,w=y.computedRequiresReaction,D=y.computedConfigurable,U=y.disableErrorBoundaries,he=y.reactionScheduler,ke=y.reactionRequiresObservable,Be=y.observableRequiresReaction;if(y.isolateGlobalState===!0&&((ot.pendingReactions.length||ot.inBatch||ot.isRunningReactions)&&T("isolateGlobalState should be called before MobX is running any reactions"),di=!0,Zn&&(--Xo().__mobxInstanceCount==0&&(Xo().__mobxGlobals=void 0),ot=new So)),m!==void 0){var et=void 0;switch(m){case!0:case"observed":et=!0;break;case!1:case"never":et=!1;break;case"strict":case"always":et="strict";break;default:T("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}ot.enforceActions=et,ot.allowStateChanges=et!==!0&&et!=="strict"}w!==void 0&&(ot.computedRequiresReaction=!!w),ke!==void 0&&(ot.reactionRequiresObservable=!!ke),Be!==void 0&&(ot.observableRequiresReaction=!!Be,ot.allowStateReads=!ot.observableRequiresReaction),D!==void 0&&(ot.computedConfigurable=!!D),U!==void 0&&(ot.disableErrorBoundaries=!!U),he&&oo(he)}function Tn(y,m,w,D){var U=Oi(D=ge(D));return Ge(y),Xr(y,D.name,U.enhancer),m&&wi(y,m,w,U),y}function Oi(y){return y.defaultDecorator||(y.deep===!1?Ce:Te)}function wi(y,m,w,D){var U,he;Kn();try{var ke=ee(m);try{for(var Be=Q(ke),et=Be.next();!et.done;et=Be.next()){var Nt=et.value,Ot=Object.getOwnPropertyDescriptor(m,Nt),Ht=(w&&Nt in w?w[Nt]:Ot.get?$e:D)(y,Nt,Ot,!0);Ht&&Object.defineProperty(y,Nt,Ht)}}catch(Et){U={error:Et}}finally{try{et&&!et.done&&(he=Be.return)&&he.call(Be)}finally{if(U)throw U.error}}}finally{$n()}}function io(y,m){return na(Fn(y,m))}function na(y){var m,w,D={name:y.name};return y.observing&&y.observing.length>0&&(D.dependencies=(m=y.observing,w=[],m.forEach(function(U){w.indexOf(U)===-1&&w.push(U)}),w).map(na)),D}var ao=0;function Zt(){this.message="FLOW_CANCELLED"}function Zo(y){arguments.length!==1&&T("Flow expects 1 argument and cannot be used as decorator");var m=y.name||"<unnamed flow>";return function(){var w,D=this,U=arguments,he=++ao,ke=Jn(m+" - runid: "+he+" - init",y).apply(D,U),Be=void 0,et=new Promise(function(Nt,Ot){var Ht=0;function Et(Kt){var Mn;Be=void 0;try{Mn=Jn(m+" - runid: "+he+" - yield "+Ht++,ke.next).call(ke,Kt)}catch(xr){return Ot(xr)}Un(Mn)}function Lt(Kt){var Mn;Be=void 0;try{Mn=Jn(m+" - runid: "+he+" - yield "+Ht++,ke.throw).call(ke,Kt)}catch(xr){return Ot(xr)}Un(Mn)}function Un(Kt){if(!Kt||typeof Kt.then!="function")return Kt.done?Nt(Kt.value):(Be=Promise.resolve(Kt.value)).then(Et,Lt);Kt.then(Un,Ot)}w=Ot,Et(void 0)});return et.cancel=Jn(m+" - runid: "+he+" - cancel",function(){try{Be&&uo(Be);var Nt=ke.return(void 0),Ot=Promise.resolve(Nt.value);Ot.then(z,z),uo(Ot),w(new Zt)}catch(Ht){w(Ht)}}),et}}function uo(y){typeof y.cancel=="function"&&y.cancel()}function Br(y,m){if(y==null)return!1;if(m!==void 0){if(In(y)===!1||!y[H].values.has(m))return!1;var w=Fn(y,m);return _r(w)}return _r(y)}function xi(y){return arguments.length>1?T(!1):Br(y)}function Ko(y,m){return typeof m!="string"?T(!1):Br(y,m)}function Po(y,m){return y!=null&&(m!==void 0?!!In(y)&&y[H].values.has(m):In(y)||!!y[H]||ce(y)||dr(y)||_r(y))}function hr(y){return arguments.length!==1&&T(!1),Po(y)}function nr(y){return In(y)?y[H].getKeys():Vt(y)||Pn(y)?Array.from(y.keys()):or(y)?y.map(function(m,w){return w}):T(!1)}function hn(y){return In(y)?nr(y).map(function(m){return y[m]}):Vt(y)?nr(y).map(function(m){return y.get(m)}):Pn(y)?Array.from(y.values()):or(y)?y.slice():T(!1)}function qn(y){return In(y)?nr(y).map(function(m){return[m,y[m]]}):Vt(y)?nr(y).map(function(m){return[m,y.get(m)]}):Pn(y)?Array.from(y.entries()):or(y)?y.map(function(m,w){return[w,m]}):T(!1)}function $o(y,m,w){if(arguments.length!==2||Pn(y))if(In(y)){var D=y[H],U=D.values.get(m);U?D.write(m,w):D.addObservableProp(m,w,D.defaultEnhancer)}else if(Vt(y))y.set(m,w);else if(Pn(y))y.add(m);else{if(!or(y))return T(!1);typeof m!="number"&&(m=parseInt(m,10)),R(m>=0,"Not a valid index: '"+m+"'"),Kn(),m>=y.length&&(y.length=m+1),y[m]=w,$n()}else{Kn();var he=m;try{for(var ke in he)$o(y,ke,he[ke])}finally{$n()}}}function wr(y,m,w,D){return typeof w=="function"?function(U,he,ke,Be){return ar(U,he).observe(ke,Be)}(y,m,w,D):function(U,he,ke){return ar(U).observe(he,ke)}(y,m,w)}Zt.prototype=Object.create(Error.prototype);var so={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Hr(y,m,w,D){return D.detectCycles&&y.set(m,w),w}function jn(y,m,w){if(!m.recurseEverything&&!hr(y)||typeof y!="object")return y;if(y===null)return null;if(y instanceof Date)return y;if(br(y))return jn(y.get(),m,w);if(hr(y)&&nr(y),m.detectCycles===!0&&y!==null&&w.has(y))return w.get(y);if(or(y)||Array.isArray(y)){var D=Hr(w,y,[],m),U=y.map(function(Et){return jn(Et,m,w)});D.length=U.length;for(var he=0,ke=U.length;he<ke;he++)D[he]=U[he];return D}if(Pn(y)||Object.getPrototypeOf(y)===Set.prototype){if(m.exportMapsAsObjects===!1){var Be=Hr(w,y,new Set,m);return y.forEach(function(Et){Be.add(jn(Et,m,w))}),Be}var et=Hr(w,y,[],m);return y.forEach(function(Et){et.push(jn(Et,m,w))}),et}if(Vt(y)||Object.getPrototypeOf(y)===Map.prototype){if(m.exportMapsAsObjects===!1){var Nt=Hr(w,y,new Map,m);return y.forEach(function(Et,Lt){Nt.set(Lt,jn(Et,m,w))}),Nt}var Ot=Hr(w,y,{},m);return y.forEach(function(Et,Lt){Ot[Lt]=jn(Et,m,w)}),Ot}var Ht=Hr(w,y,{},m);return be(y).forEach(function(Et){Ht[Et]=jn(y[Et],m,w)}),Ht}function Gr(y,m){var w;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=so),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(w=new Map),jn(y,m,w)}function yn(y){switch(y.length){case 0:return ot.trackingDerivation;case 1:return Fn(y[0]);case 2:return Fn(y[0],y[1])}}function Cn(y,m){m===void 0&&(m=void 0),Kn();try{return y.apply(m)}finally{$n()}}function Mo(y,m,w){return arguments.length===1||m&&typeof m=="object"?Ei(y,m):co(y,m,w||{})}function co(y,m,w){var D;typeof w.timeout=="number"&&(D=setTimeout(function(){if(!he[H].isDisposed){he();var ke=new Error("WHEN_TIMEOUT");if(!w.onError)throw ke;w.onError(ke)}},w.timeout)),w.name=w.name||"When@"+k();var U=tn(w.name+"-effect",m),he=bi(function(ke){y()&&(ke.dispose(),D&&clearTimeout(D),U())},w);return he}function Ei(y,m){var w,D=new Promise(function(U,he){var ke=co(y,U,oe(oe({},m),{onError:he}));w=function(){ke(),he("WHEN_CANCELLED")}});return D.cancel=w,D}function lo(y){return y[H]}function yr(y){return typeof y=="string"||typeof y=="number"||typeof y=="symbol"}var Fr={has:function(y,m){if(m===H||m==="constructor"||m===te)return!0;var w=lo(y);return yr(m)?w.has(m):m in y},get:function(y,m){if(m===H||m==="constructor"||m===te)return y[m];var w=lo(y),D=w.values.get(m);if(D instanceof re){var U=D.get();return U===void 0&&w.has(m),U}return yr(m)&&w.has(m),y[m]},set:function(y,m,w){return!!yr(m)&&($o(y,m,w),!0)},deleteProperty:function(y,m){return!!yr(m)&&(lo(y).remove(m),!0)},ownKeys:function(y){return lo(y).keysAtom.reportObserved(),Reflect.ownKeys(y)},preventExtensions:function(y){return T("Dynamic observable objects cannot be frozen"),!1}};function ra(y){var m=new Proxy(y,Fr);return y[H].proxy=m,m}function bn(y){return y.interceptors!==void 0&&y.interceptors.length>0}function Qn(y,m){var w=y.interceptors||(y.interceptors=[]);return w.push(m),L(function(){var D=w.indexOf(m);D!==-1&&w.splice(D,1)})}function Dt(y,m){var w=J();try{for(var D=ie(y.interceptors||[]),U=0,he=D.length;U<he&&(R(!(m=D[U](m))||m.type,"Intercept handlers should return nothing or a change object"),m);U++);return m}finally{Oe(w)}}function Rn(y){return y.changeListeners!==void 0&&y.changeListeners.length>0}function rr(y,m){var w=y.changeListeners||(y.changeListeners=[]);return w.push(m),L(function(){var D=w.indexOf(m);D!==-1&&w.splice(D,1)})}function sn(y,m){var w=J(),D=y.changeListeners;if(D){for(var U=0,he=(D=D.slice()).length;U<he;U++)D[U](m);Oe(w)}}var Si={get:function(y,m){return m===H?y[H]:m==="length"?y[H].getArrayLength():typeof m=="number"?er.get.call(y,m):typeof m!="string"||isNaN(m)?er.hasOwnProperty(m)?er[m]:y[m]:er.get.call(y,parseInt(m))},set:function(y,m,w){return m==="length"&&y[H].setArrayLength(w),typeof m=="number"&&er.set.call(y,m,w),typeof m=="symbol"||isNaN(m)?y[m]=w:er.set.call(y,parseInt(m),w),!0},preventExtensions:function(y){return T("Observable arrays cannot be frozen"),!1}};function ko(y,m,w,D){w===void 0&&(w="ObservableArray@"+k()),D===void 0&&(D=!1);var U,he,ke,Be=new Jo(w,m,D);U=Be.values,he=H,ke=Be,Object.defineProperty(U,he,{enumerable:!1,writable:!1,configurable:!0,value:ke});var et=new Proxy(Be.values,Si);if(Be.proxy=et,y&&y.length){var Nt=_t(!0);Be.spliceWithArray(0,0,y),Bt(Nt)}return et}var Jo=function(){function y(m,w,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new re(m||"ObservableArray@"+k()),this.enhancer=function(U,he){return w(U,he,m+"[..]")}}return y.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},y.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},y.prototype.intercept=function(m){return Qn(this,m)},y.prototype.observe=function(m,w){return w===void 0&&(w=!1),w&&m({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),rr(this,m)},y.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},y.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var w=this.values.length;if(m!==w)if(m>w){for(var D=new Array(m-w),U=0;U<m-w;U++)D[U]=void 0;this.spliceWithArray(w,0,D)}else this.spliceWithArray(m,w-m)},y.prototype.updateArrayLength=function(m,w){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=w},y.prototype.spliceWithArray=function(m,w,D){var U=this;bt(this.atom);var he=this.values.length;if(m===void 0?m=0:m>he?m=he:m<0&&(m=Math.max(0,he+m)),w=arguments.length===1?he-m:w==null?0:Math.max(0,Math.min(w,he-m)),D===void 0&&(D=S),bn(this)){var ke=Dt(this,{object:this.proxy,type:"splice",index:m,removedCount:w,added:D});if(!ke)return S;w=ke.removedCount,D=ke.added}D=D.length===0?D:D.map(function(et){return U.enhancer(et,void 0)});var Be=this.spliceItemsIntoValues(m,w,D);return w===0&&D.length===0||this.notifyArraySplice(m,D,Be),this.dehanceValues(Be)},y.prototype.spliceItemsIntoValues=function(m,w,D){var U;if(D.length<1e4)return(U=this.values).splice.apply(U,ie([m,w],D));var he=this.values.slice(m,m+w);return this.values=this.values.slice(0,m).concat(D,this.values.slice(m+w)),he},y.prototype.notifyArrayChildUpdate=function(m,w,D){var U=!this.owned&&!1,he=Rn(this),ke=he||U?{object:this.proxy,type:"update",index:m,newValue:w,oldValue:D}:null;this.atom.reportChanged(),he&&sn(this,ke)},y.prototype.notifyArraySplice=function(m,w,D){var U=!this.owned&&!1,he=Rn(this),ke=he||U?{object:this.proxy,type:"splice",index:m,removed:D,added:w,removedCount:D.length,addedCount:w.length}:null;this.atom.reportChanged(),he&&sn(this,ke)},y}(),er={intercept:function(y){return this[H].intercept(y)},observe:function(y,m){return m===void 0&&(m=!1),this[H].observe(y,m)},clear:function(){return this.splice(0)},replace:function(y){var m=this[H];return m.spliceWithArray(0,m.values.length,y)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(y,m){for(var w=[],D=2;D<arguments.length;D++)w[D-2]=arguments[D];var U=this[H];switch(arguments.length){case 0:return[];case 1:return U.spliceWithArray(y);case 2:return U.spliceWithArray(y,m)}return U.spliceWithArray(y,m,w)},spliceWithArray:function(y,m,w){return this[H].spliceWithArray(y,m,w)},push:function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];var w=this[H];return w.spliceWithArray(w.values.length,0,y),w.values.length},pop:function(){return this.splice(Math.max(this[H].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];var w=this[H];return w.spliceWithArray(0,0,y),w.values.length},reverse:function(){var y=this.slice();return y.reverse.apply(y,arguments)},sort:function(y){var m=this.slice();return m.sort.apply(m,arguments)},remove:function(y){var m=this[H],w=m.dehanceValues(m.values).indexOf(y);return w>-1&&(this.splice(w,1),!0)},get:function(y){var m=this[H];if(m&&y<m.values.length)return m.atom.reportObserved(),m.dehanceValue(m.values[y])},set:function(y,m){var w=this[H],D=w.values;if(y<D.length){bt(w.atom);var U=D[y];if(bn(w)){var he=Dt(w,{type:"update",object:w.proxy,index:y,newValue:m});if(!he)return;m=he.newValue}(m=w.enhancer(m,U))!==U&&(D[y]=m,w.notifyArrayChildUpdate(y,m,U))}else{if(y!==D.length)throw new Error("[mobx.array] Index out of bounds, "+y+" is larger than "+D.length);w.spliceWithArray(y,0,[m])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(y){typeof Array.prototype[y]=="function"&&(er[y]=function(){var m=this[H];m.atom.reportObserved();var w=m.dehanceValues(m.values);return w[y].apply(w,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(y){typeof Array.prototype[y]=="function"&&(er[y]=function(m,w){var D=this,U=this[H];return U.atom.reportObserved(),U.dehanceValues(U.values)[y](function(he,ke){return m.call(w,he,ke,D)},w)})}),["reduce","reduceRight"].forEach(function(y){er[y]=function(){var m=this,w=this[H];w.atom.reportObserved();var D=arguments[0];return arguments[0]=function(U,he,ke){return he=w.dehanceValue(he),D(U,he,ke,m)},w.values[y].apply(w.values,arguments)}});var ji,No=ue("ObservableArrayAdministration",Jo);function or(y){return F(y)&&No(y[H])}var oa,fo={},po=function(){function y(m,w,D){if(w===void 0&&(w=Xe),D===void 0&&(D="ObservableMap@"+k()),this.enhancer=w,this.name=D,this[ji]=fo,this._keysAtom=ve(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return y.prototype._has=function(m){return this._data.has(m)},y.prototype.has=function(m){var w=this;if(!ot.trackingDerivation)return this._has(m);var D=this._hasMap.get(m);if(!D){var U=D=new $t(this._has(m),at,this.name+"."+pe(m)+"?",!1);this._hasMap.set(m,U),zr(U,function(){return w._hasMap.delete(m)})}return D.get()},y.prototype.set=function(m,w){var D=this._has(m);if(bn(this)){var U=Dt(this,{type:D?"update":"add",object:this,newValue:w,name:m});if(!U)return this;w=U.newValue}return D?this._updateValue(m,w):this._addValue(m,w),this},y.prototype.delete=function(m){var w=this;if(bt(this._keysAtom),bn(this)&&!(U=Dt(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var D=Rn(this),U=D?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return Cn(function(){w._keysAtom.reportChanged(),w._updateHasMapEntry(m,!1),w._data.get(m).setNewValue(void 0),w._data.delete(m)}),D&&sn(this,U),!0}return!1},y.prototype._updateHasMapEntry=function(m,w){var D=this._hasMap.get(m);D&&D.setNewValue(w)},y.prototype._updateValue=function(m,w){var D=this._data.get(m);if((w=D.prepareNewValue(w))!==ot.UNCHANGED){var U=!1,he=Rn(this),ke=he?{type:"update",object:this,oldValue:D.value,name:m,newValue:w}:null;D.setNewValue(w),he&&sn(this,ke)}},y.prototype._addValue=function(m,w){var D=this;bt(this._keysAtom),Cn(function(){var Be=new $t(w,D.enhancer,D.name+"."+pe(m),!1);D._data.set(m,Be),w=Be.value,D._updateHasMapEntry(m,!0),D._keysAtom.reportChanged()});var U=!1,he=Rn(this),ke=he?{type:"add",object:this,name:m,newValue:w}:null;he&&sn(this,ke)},y.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},y.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},y.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},y.prototype.values=function(){var m=this,w=this.keys();return Co({next:function(){var D=w.next(),U=D.done,he=D.value;return{done:U,value:U?void 0:m.get(he)}}})},y.prototype.entries=function(){var m=this,w=this.keys();return Co({next:function(){var D=w.next(),U=D.done,he=D.value;return{done:U,value:U?void 0:[he,m.get(he)]}}})},y.prototype[ji=H,Symbol.iterator]=function(){return this.entries()},y.prototype.forEach=function(m,w){var D,U;try{for(var he=Q(this),ke=he.next();!ke.done;ke=he.next()){var Be=I(ke.value,2),et=Be[0],Nt=Be[1];m.call(w,Nt,et,this)}}catch(Ot){D={error:Ot}}finally{try{ke&&!ke.done&&(U=he.return)&&U.call(he)}finally{if(D)throw D.error}}},y.prototype.merge=function(m){var w=this;return Vt(m)&&(m=m.toJS()),Cn(function(){var D=_t(!0);try{X(m)?be(m).forEach(function(U){return w.set(U,m[U])}):Array.isArray(m)?m.forEach(function(U){var he=I(U,2),ke=he[0],Be=he[1];return w.set(ke,Be)}):ae(m)?(m.constructor!==Map&&T("Cannot initialize from classes that inherit from Map: "+m.constructor.name),m.forEach(function(U,he){return w.set(he,U)})):m!=null&&T("Cannot initialize map from "+m)}finally{Bt(D)}}),this},y.prototype.clear=function(){var m=this;Cn(function(){me(function(){var w,D;try{for(var U=Q(m.keys()),he=U.next();!he.done;he=U.next()){var ke=he.value;m.delete(ke)}}catch(Be){w={error:Be}}finally{try{he&&!he.done&&(D=U.return)&&D.call(U)}finally{if(w)throw w.error}}})})},y.prototype.replace=function(m){var w=this;return Cn(function(){var D,U,he,ke,Be=function(_n){if(ae(_n)||Vt(_n))return _n;if(Array.isArray(_n))return new Map(_n);if(X(_n)){var ni=new Map;for(var Yr in _n)ni.set(Yr,_n[Yr]);return ni}return T("Cannot convert to map from '"+_n+"'")}(m),et=new Map,Nt=!1;try{for(var Ot=Q(w._data.keys()),Ht=Ot.next();!Ht.done;Ht=Ot.next()){var Et=Ht.value;if(!Be.has(Et))if(w.delete(Et))Nt=!0;else{var Lt=w._data.get(Et);et.set(Et,Lt)}}}catch(_n){D={error:_n}}finally{try{Ht&&!Ht.done&&(U=Ot.return)&&U.call(Ot)}finally{if(D)throw D.error}}try{for(var Un=Q(Be.entries()),Kt=Un.next();!Kt.done;Kt=Un.next()){var Mn=I(Kt.value,2),xr=(Et=Mn[0],Lt=Mn[1],w._data.has(Et));if(w.set(Et,Lt),w._data.has(Et)){var Ma=w._data.get(Et);et.set(Et,Ma),xr||(Nt=!0)}}}catch(_n){he={error:_n}}finally{try{Kt&&!Kt.done&&(ke=Un.return)&&ke.call(Un)}finally{if(he)throw he.error}}if(!Nt)if(w._data.size!==et.size)w._keysAtom.reportChanged();else for(var aa=w._data.keys(),ei=et.keys(),Er=aa.next(),ti=ei.next();!Er.done;){if(Er.value!==ti.value){w._keysAtom.reportChanged();break}Er=aa.next(),ti=ei.next()}w._data=et}),this},Object.defineProperty(y.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.toPOJO=function(){var m,w,D={};try{for(var U=Q(this),he=U.next();!he.done;he=U.next()){var ke=I(he.value,2),Be=ke[0],et=ke[1];D[typeof Be=="symbol"?Be:pe(Be)]=et}}catch(Nt){m={error:Nt}}finally{try{he&&!he.done&&(w=U.return)&&w.call(U)}finally{if(m)throw m.error}}return D},y.prototype.toJS=function(){return new Map(this)},y.prototype.toJSON=function(){return this.toPOJO()},y.prototype.toString=function(){var m=this;return this.name+"[{ "+Array.from(this.keys()).map(function(w){return pe(w)+": "+m.get(w)}).join(", ")+" }]"},y.prototype.observe=function(m,w){return rr(this,m)},y.prototype.intercept=function(m){return Qn(this,m)},y}(),Vt=ue("ObservableMap",po),ir={},ho=function(){function y(m,w,D){if(w===void 0&&(w=Xe),D===void 0&&(D="ObservableSet@"+k()),this.name=D,this[oa]=ir,this._data=new Set,this._atom=ve(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(U,he){return w(U,he,D)},m&&this.replace(m)}return y.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},y.prototype.clear=function(){var m=this;Cn(function(){me(function(){var w,D;try{for(var U=Q(m._data.values()),he=U.next();!he.done;he=U.next()){var ke=he.value;m.delete(ke)}}catch(Be){w={error:Be}}finally{try{he&&!he.done&&(D=U.return)&&D.call(U)}finally{if(w)throw w.error}}})})},y.prototype.forEach=function(m,w){var D,U;try{for(var he=Q(this),ke=he.next();!ke.done;ke=he.next()){var Be=ke.value;m.call(w,Be,Be,this)}}catch(et){D={error:et}}finally{try{ke&&!ke.done&&(U=he.return)&&U.call(he)}finally{if(D)throw D.error}}},Object.defineProperty(y.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.add=function(m){var w=this;if(bt(this._atom),bn(this)&&!(he=Dt(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){Cn(function(){w._data.add(w.enhancer(m,void 0)),w._atom.reportChanged()});var D=!1,U=Rn(this),he=U?{type:"add",object:this,newValue:m}:null;U&&sn(this,he)}return this},y.prototype.delete=function(m){var w=this;if(bn(this)&&!(U=Dt(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var D=Rn(this),U=D?{type:"delete",object:this,oldValue:m}:null;return Cn(function(){w._atom.reportChanged(),w._data.delete(m)}),D&&sn(this,U),!0}return!1},y.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},y.prototype.entries=function(){var m=0,w=Array.from(this.keys()),D=Array.from(this.values());return Co({next:function(){var U=m;return m+=1,U<D.length?{value:[w[U],D[U]],done:!1}:{done:!0}}})},y.prototype.keys=function(){return this.values()},y.prototype.values=function(){this._atom.reportObserved();var m=this,w=0,D=Array.from(this._data.values());return Co({next:function(){return w<D.length?{value:m.dehanceValue(D[w++]),done:!1}:{done:!0}}})},y.prototype.replace=function(m){var w=this;return Pn(m)&&(m=m.toJS()),Cn(function(){var D=_t(!0);try{Array.isArray(m)||de(m)?(w.clear(),m.forEach(function(U){return w.add(U)})):m!=null&&T("Cannot initialize set from "+m)}finally{Bt(D)}}),this},y.prototype.observe=function(m,w){return rr(this,m)},y.prototype.intercept=function(m){return Qn(this,m)},y.prototype.toJS=function(){return new Set(this)},y.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},y.prototype[oa=H,Symbol.iterator]=function(){return this.values()},y}(),Pn=ue("ObservableSet",ho),qo=function(){function y(m,w,D,U){w===void 0&&(w=new Map),this.target=m,this.values=w,this.name=D,this.defaultEnhancer=U,this.keysAtom=new re(D+".keys")}return y.prototype.read=function(m){return this.values.get(m).get()},y.prototype.write=function(m,w){var D=this.target,U=this.values.get(m);if(U instanceof lr)U.set(w);else{if(bn(this)){if(!(Be=Dt(this,{type:"update",object:this.proxy||D,name:m,newValue:w})))return;w=Be.newValue}if((w=U.prepareNewValue(w))!==ot.UNCHANGED){var he=Rn(this),ke=!1,Be=he?{type:"update",object:this.proxy||D,oldValue:U.value,name:m,newValue:w}:null;U.setNewValue(w),he&&sn(this,Be)}}},y.prototype.has=function(m){var w=this.pendingKeys||(this.pendingKeys=new Map),D=w.get(m);if(D)return D.get();var U=!!this.values.get(m);return D=new $t(U,at,this.name+"."+pe(m)+"?",!1),w.set(m,D),D.get()},y.prototype.addObservableProp=function(m,w,D){D===void 0&&(D=this.defaultEnhancer);var U=this.target;if(bn(this)){var he=Dt(this,{object:this.proxy||U,name:m,type:"add",newValue:w});if(!he)return;w=he.newValue}var ke=new $t(w,D,this.name+"."+pe(m),!1);this.values.set(m,ke),w=ke.value,Object.defineProperty(U,m,function(Be){return Ao[Be]||(Ao[Be]={configurable:!0,enumerable:!0,get:function(){return this[H].read(Be)},set:function(et){this[H].write(Be,et)}})}(m)),this.notifyPropertyAddition(m,w)},y.prototype.addComputedProp=function(m,w,D){var U,he,ke,Be=this.target;D.name=D.name||this.name+"."+pe(w),this.values.set(w,new lr(D)),(m===Be||(U=m,he=w,!(ke=Object.getOwnPropertyDescriptor(U,he))||ke.configurable!==!1&&ke.writable!==!1))&&Object.defineProperty(m,w,function(et){return tr[et]||(tr[et]={configurable:ot.computedConfigurable,enumerable:!1,get:function(){return Do(this).read(et)},set:function(Nt){Do(this).write(et,Nt)}})}(w))},y.prototype.remove=function(m){if(this.values.has(m)){var w=this.target;if(bn(this)&&!(et=Dt(this,{object:this.proxy||w,name:m,type:"remove"})))return;try{Kn();var D=Rn(this),U=!1,he=this.values.get(m),ke=he&&he.get();if(he&&he.set(void 0),this.keysAtom.reportChanged(),this.values.delete(m),this.pendingKeys){var Be=this.pendingKeys.get(m);Be&&Be.set(!1)}delete this.target[m];var et=D?{type:"remove",object:this.proxy||w,oldValue:ke,name:m}:null;D&&sn(this,et)}finally{$n()}}},y.prototype.illegalAccess=function(m,w){},y.prototype.observe=function(m,w){return rr(this,m)},y.prototype.intercept=function(m){return Qn(this,m)},y.prototype.notifyPropertyAddition=function(m,w){var D=Rn(this),U=D?{type:"add",object:this.proxy||this.target,name:m,newValue:w}:null;if(D&&sn(this,U),this.pendingKeys){var he=this.pendingKeys.get(m);he&&he.set(!0)}this.keysAtom.reportChanged()},y.prototype.getKeys=function(){var m,w;this.keysAtom.reportObserved();var D=[];try{for(var U=Q(this.values),he=U.next();!he.done;he=U.next()){var ke=I(he.value,2),Be=ke[0];ke[1]instanceof $t&&D.push(Be)}}catch(et){m={error:et}}finally{try{he&&!he.done&&(w=U.return)&&w.call(U)}finally{if(m)throw m.error}}return D},y}();function Xr(y,m,w){if(m===void 0&&(m=""),w===void 0&&(w=Xe),Object.prototype.hasOwnProperty.call(y,H))return y[H];X(y)||(m=(y.constructor.name||"ObservableObject")+"@"+k()),m||(m="ObservableObject@"+k());var D=new qo(y,new Map,pe(m),w);return q(y,H,D),D}var Ao=Object.create(null),tr=Object.create(null);function Do(y){var m=y[H];return m||(Ge(y),y[H])}var Pi=ue("ObservableObjectAdministration",qo);function In(y){return!!F(y)&&(Ge(y),Pi(y[H]))}function Fn(y,m){if(typeof y=="object"&&y!==null){if(or(y))return m!==void 0&&T(!1),y[H].atom;if(Pn(y))return y[H];if(Vt(y)){var w=y;return m===void 0?w._keysAtom:((D=w._data.get(m)||w._hasMap.get(m))||T(!1),D)}var D;if(Ge(y),m&&!y[H]&&y[m],In(y))return m?((D=y[H].values.get(m))||T(!1),D):T(!1);if(ce(y)||_r(y)||dr(y))return y}else if(typeof y=="function"&&dr(y[H]))return y[H];return T(!1)}function ar(y,m){return y||T("Expecting some object"),m!==void 0?ar(Fn(y,m)):ce(y)||_r(y)||dr(y)||Vt(y)||Pn(y)?y:(Ge(y),y[H]?y[H]:void T(!1))}var Qo=Object.prototype.toString;function Ur(y,m,w){return w===void 0&&(w=-1),To(y,m,w)}function To(y,m,w,D,U){if(y===m)return y!==0||1/y==1/m;if(y==null||m==null)return!1;if(y!=y)return m!=m;var he=typeof y;if(he!=="function"&&he!=="object"&&typeof m!="object")return!1;var ke=Qo.call(y);if(ke!==Qo.call(m))return!1;switch(ke){case"[object RegExp]":case"[object String]":return""+y==""+m;case"[object Number]":return+y!=+y?+m!=+m:+y==0?1/+y==1/m:+y==+m;case"[object Date]":case"[object Boolean]":return+y==+m;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(y)===Symbol.valueOf.call(m);case"[object Map]":case"[object Set]":w>=0&&w++}y=Mi(y),m=Mi(m);var Be=ke==="[object Array]";if(!Be){if(typeof y!="object"||typeof m!="object")return!1;var et=y.constructor,Nt=m.constructor;if(et!==Nt&&!(typeof et=="function"&&et instanceof et&&typeof Nt=="function"&&Nt instanceof Nt)&&"constructor"in y&&"constructor"in m)return!1}if(w===0)return!1;w<0&&(w=-1),U=U||[];for(var Ot=(D=D||[]).length;Ot--;)if(D[Ot]===y)return U[Ot]===m;if(D.push(y),U.push(m),Be){if((Ot=y.length)!==m.length)return!1;for(;Ot--;)if(!To(y[Ot],m[Ot],w-1,D,U))return!1}else{var Ht=Object.keys(y),Et=void 0;if(Ot=Ht.length,Object.keys(m).length!==Ot)return!1;for(;Ot--;)if(!ia(m,Et=Ht[Ot])||!To(y[Et],m[Et],w-1,D,U))return!1}return D.pop(),U.pop(),!0}function Mi(y){return or(y)?y.slice():ae(y)||Vt(y)||de(y)||Pn(y)?Array.from(y.entries()):y}function ia(y,m){return Object.prototype.hasOwnProperty.call(y,m)}function Co(y){return y[Symbol.iterator]=Xn,y}function Xn(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Vo,extras:{getDebugName:function(y,m){return(m!==void 0?Fn(y,m):In(y)||Vt(y)||Pn(y)?ar(y):Fn(y)).name}},$mobx:H})}).call(this,s(155),s(82))},function(E,M,s){"use strict";s.d(M,"a",function(){return pe}),s.d(M,"b",function(){return be}),s.d(M,"c",function(){return Xe}),s.d(M,"d",function(){return at}),s.d(M,"e",function(){return ue}),s.d(M,"f",function(){return de}),s.d(M,"g",function(){return ue}),s.d(M,"h",function(){return Fe}),s.d(M,"i",function(){return d}),s.d(M,"j",function(){return tt}),s.d(M,"k",function(){return _e});var O,d,S,x,k,T,R,L={},z=[],F=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function X(se,ne){for(var ge in ne)se[ge]=ne[ge];return se}function q(se){var ne=se.parentNode;ne&&ne.removeChild(se)}function ue(se,ne,ge){var Te,He,Ce,st={};for(Ce in ne)Ce=="key"?Te=ne[Ce]:Ce=="ref"?He=ne[Ce]:st[Ce]=ne[Ce];if(arguments.length>2&&(st.children=arguments.length>3?O.call(arguments,2):ge),typeof se=="function"&&se.defaultProps!=null)for(Ce in se.defaultProps)st[Ce]===void 0&&(st[Ce]=se.defaultProps[Ce]);return ae(se,st,Te,He,null)}function ae(se,ne,ge,Te,He){var Ce={type:se,props:ne,key:ge,ref:Te,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:He==null?++S:He};return He==null&&d.vnode!=null&&d.vnode(Ce),Ce}function de(){return{current:null}}function be(se){return se.children}function pe(se,ne){this.props=se,this.context=ne}function $(se,ne){if(ne==null)return se.__?$(se.__,se.__.__k.indexOf(se)+1):null;for(var ge;ne<se.__k.length;ne++)if((ge=se.__k[ne])!=null&&ge.__e!=null)return ge.__e;return typeof se.type=="function"?$(se):null}function ee(se){var ne,ge;if((se=se.__)!=null&&se.__c!=null){for(se.__e=se.__c.base=null,ne=0;ne<se.__k.length;ne++)if((ge=se.__k[ne])!=null&&ge.__e!=null){se.__e=se.__c.base=ge.__e;break}return ee(se)}}function H(se){(!se.__d&&(se.__d=!0)&&x.push(se)&&!re.__r++||T!==d.debounceRendering)&&((T=d.debounceRendering)||k)(re)}function re(){for(var se;re.__r=x.length;)se=x.sort(function(ne,ge){return ne.__v.__b-ge.__v.__b}),x=[],se.some(function(ne){var ge,Te,He,Ce,st,ht;ne.__d&&(st=(Ce=(ge=ne).__v).__e,(ht=ge.__P)&&(Te=[],(He=X({},Ce)).__v=Ce.__v+1,te(ht,Ce,He,ge.__n,ht.ownerSVGElement!==void 0,Ce.__h!=null?[st]:null,Te,st==null?$(Ce):st,Ce.__h),K(Te,Ce),Ce.__e!=st&&ee(Ce)))})}function ce(se,ne,ge,Te,He,Ce,st,ht,pt,nt){var De,Ze,le,$e,ut,It,mt,xt=Te&&Te.__k||z,Gt=xt.length;for(ge.__k=[],De=0;De<ne.length;De++)if(($e=ge.__k[De]=($e=ne[De])==null||typeof $e=="boolean"?null:typeof $e=="string"||typeof $e=="number"||typeof $e=="bigint"?ae(null,$e,null,null,$e):Array.isArray($e)?ae(be,{children:$e},null,null,null):$e.__b>0?ae($e.type,$e.props,$e.key,null,$e.__v):$e)!=null){if($e.__=ge,$e.__b=ge.__b+1,(le=xt[De])===null||le&&$e.key==le.key&&$e.type===le.type)xt[De]=void 0;else for(Ze=0;Ze<Gt;Ze++){if((le=xt[Ze])&&$e.key==le.key&&$e.type===le.type){xt[Ze]=void 0;break}le=null}te(se,$e,le=le||L,He,Ce,st,ht,pt,nt),ut=$e.__e,(Ze=$e.ref)&&le.ref!=Ze&&(mt||(mt=[]),le.ref&&mt.push(le.ref,null,$e),mt.push(Ze,$e.__c||ut,$e)),ut!=null?(It==null&&(It=ut),typeof $e.type=="function"&&$e.__k===le.__k?$e.__d=pt=ve($e,pt,se):pt=Z(se,$e,le,xt,ut,pt),typeof ge.type=="function"&&(ge.__d=pt)):pt&&le.__e==pt&&pt.parentNode!=se&&(pt=$(le))}for(ge.__e=It,De=Gt;De--;)xt[De]!=null&&(typeof ge.type=="function"&&xt[De].__e!=null&&xt[De].__e==ge.__d&&(ge.__d=$(Te,De+1)),Re(xt[De],xt[De]));if(mt)for(De=0;De<mt.length;De++)Ee(mt[De],mt[++De],mt[++De])}function ve(se,ne,ge){for(var Te,He=se.__k,Ce=0;He&&Ce<He.length;Ce++)(Te=He[Ce])&&(Te.__=se,ne=typeof Te.type=="function"?ve(Te,ne,ge):Z(ge,Te,Te,He,Te.__e,ne));return ne}function _e(se,ne){return ne=ne||[],se==null||typeof se=="boolean"||(Array.isArray(se)?se.some(function(ge){_e(ge,ne)}):ne.push(se)),ne}function Z(se,ne,ge,Te,He,Ce){var st,ht,pt;if(ne.__d!==void 0)st=ne.__d,ne.__d=void 0;else if(ge==null||He!=Ce||He.parentNode==null)e:if(Ce==null||Ce.parentNode!==se)se.appendChild(He),st=null;else{for(ht=Ce,pt=0;(ht=ht.nextSibling)&&pt<Te.length;pt+=2)if(ht==He)break e;se.insertBefore(He,Ce),st=Ce}return st!==void 0?st:He.nextSibling}function oe(se,ne,ge){ne[0]==="-"?se.setProperty(ne,ge):se[ne]=ge==null?"":typeof ge!="number"||F.test(ne)?ge:ge+"px"}function Q(se,ne,ge,Te,He){var Ce;e:if(ne==="style")if(typeof ge=="string")se.style.cssText=ge;else{if(typeof Te=="string"&&(se.style.cssText=Te=""),Te)for(ne in Te)ge&&ne in ge||oe(se.style,ne,"");if(ge)for(ne in ge)Te&&ge[ne]===Te[ne]||oe(se.style,ne,ge[ne])}else if(ne[0]==="o"&&ne[1]==="n")Ce=ne!==(ne=ne.replace(/Capture$/,"")),ne=ne.toLowerCase()in se?ne.toLowerCase().slice(2):ne.slice(2),se.l||(se.l={}),se.l[ne+Ce]=ge,ge?Te||se.addEventListener(ne,Ce?ie:I,Ce):se.removeEventListener(ne,Ce?ie:I,Ce);else if(ne!=="dangerouslySetInnerHTML"){if(He)ne=ne.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ne!=="href"&&ne!=="list"&&ne!=="form"&&ne!=="tabIndex"&&ne!=="download"&&ne in se)try{se[ne]=ge==null?"":ge;break e}catch(st){}typeof ge=="function"||(ge!=null&&(ge!==!1||ne[0]==="a"&&ne[1]==="r")?se.setAttribute(ne,ge):se.removeAttribute(ne))}}function I(se){this.l[se.type+!1](d.event?d.event(se):se)}function ie(se){this.l[se.type+!0](d.event?d.event(se):se)}function te(se,ne,ge,Te,He,Ce,st,ht,pt){var nt,De,Ze,le,$e,ut,It,mt,xt,Gt,Ft,bt=ne.type;if(ne.constructor!==void 0)return null;ge.__h!=null&&(pt=ge.__h,ht=ne.__e=ge.__e,ne.__h=null,Ce=[ht]),(nt=d.__b)&&nt(ne);try{e:if(typeof bt=="function"){if(mt=ne.props,xt=(nt=bt.contextType)&&Te[nt.__c],Gt=nt?xt?xt.props.value:nt.__:Te,ge.__c?It=(De=ne.__c=ge.__c).__=De.__E:("prototype"in bt&&bt.prototype.render?ne.__c=De=new bt(mt,Gt):(ne.__c=De=new pe(mt,Gt),De.constructor=bt,De.render=Ge),xt&&xt.sub(De),De.props=mt,De.state||(De.state={}),De.context=Gt,De.__n=Te,Ze=De.__d=!0,De.__h=[]),De.__s==null&&(De.__s=De.state),bt.getDerivedStateFromProps!=null&&(De.__s==De.state&&(De.__s=X({},De.__s)),X(De.__s,bt.getDerivedStateFromProps(mt,De.__s))),le=De.props,$e=De.state,Ze)bt.getDerivedStateFromProps==null&&De.componentWillMount!=null&&De.componentWillMount(),De.componentDidMount!=null&&De.__h.push(De.componentDidMount);else{if(bt.getDerivedStateFromProps==null&&mt!==le&&De.componentWillReceiveProps!=null&&De.componentWillReceiveProps(mt,Gt),!De.__e&&De.shouldComponentUpdate!=null&&De.shouldComponentUpdate(mt,De.__s,Gt)===!1||ne.__v===ge.__v){De.props=mt,De.state=De.__s,ne.__v!==ge.__v&&(De.__d=!1),De.__v=ne,ne.__e=ge.__e,ne.__k=ge.__k,ne.__k.forEach(function(en){en&&(en.__=ne)}),De.__h.length&&st.push(De);break e}De.componentWillUpdate!=null&&De.componentWillUpdate(mt,De.__s,Gt),De.componentDidUpdate!=null&&De.__h.push(function(){De.componentDidUpdate(le,$e,ut)})}De.context=Gt,De.props=mt,De.state=De.__s,(nt=d.__r)&&nt(ne),De.__d=!1,De.__v=ne,De.__P=se,nt=De.render(De.props,De.state,De.context),De.state=De.__s,De.getChildContext!=null&&(Te=X(X({},Te),De.getChildContext())),Ze||De.getSnapshotBeforeUpdate==null||(ut=De.getSnapshotBeforeUpdate(le,$e)),Ft=nt!=null&&nt.type===be&&nt.key==null?nt.props.children:nt,ce(se,Array.isArray(Ft)?Ft:[Ft],ne,ge,Te,He,Ce,st,ht,pt),De.base=ne.__e,ne.__h=null,De.__h.length&&st.push(De),It&&(De.__E=De.__=null),De.__e=!1}else Ce==null&&ne.__v===ge.__v?(ne.__k=ge.__k,ne.__e=ge.__e):ne.__e=we(ge.__e,ne,ge,Te,He,Ce,st,pt);(nt=d.diffed)&&nt(ne)}catch(en){ne.__v=null,(pt||Ce!=null)&&(ne.__e=ht,ne.__h=!!pt,Ce[Ce.indexOf(ht)]=null),d.__e(en,ne,ge)}}function K(se,ne){d.__c&&d.__c(ne,se),se.some(function(ge){try{se=ge.__h,ge.__h=[],se.some(function(Te){Te.call(ge)})}catch(Te){d.__e(Te,ge.__v)}})}function we(se,ne,ge,Te,He,Ce,st,ht){var pt,nt,De,Ze=ge.props,le=ne.props,$e=ne.type,ut=0;if($e==="svg"&&(He=!0),Ce!=null){for(;ut<Ce.length;ut++)if((pt=Ce[ut])&&"setAttribute"in pt==!!$e&&($e?pt.localName===$e:pt.nodeType===3)){se=pt,Ce[ut]=null;break}}if(se==null){if($e===null)return document.createTextNode(le);se=He?document.createElementNS("http://www.w3.org/2000/svg",$e):document.createElement($e,le.is&&le),Ce=null,ht=!1}if($e===null)Ze===le||ht&&se.data===le||(se.data=le);else{if(Ce=Ce&&O.call(se.childNodes),nt=(Ze=ge.props||L).dangerouslySetInnerHTML,De=le.dangerouslySetInnerHTML,!ht){if(Ce!=null)for(Ze={},ut=0;ut<se.attributes.length;ut++)Ze[se.attributes[ut].name]=se.attributes[ut].value;(De||nt)&&(De&&(nt&&De.__html==nt.__html||De.__html===se.innerHTML)||(se.innerHTML=De&&De.__html||""))}if(function(It,mt,xt,Gt,Ft){var bt;for(bt in xt)bt==="children"||bt==="key"||bt in mt||Q(It,bt,null,xt[bt],Gt);for(bt in mt)Ft&&typeof mt[bt]!="function"||bt==="children"||bt==="key"||bt==="value"||bt==="checked"||xt[bt]===mt[bt]||Q(It,bt,mt[bt],xt[bt],Gt)}(se,le,Ze,He,ht),De)ne.__k=[];else if(ut=ne.props.children,ce(se,Array.isArray(ut)?ut:[ut],ne,ge,Te,He&&$e!=="foreignObject",Ce,st,Ce?Ce[0]:ge.__k&&$(ge,0),ht),Ce!=null)for(ut=Ce.length;ut--;)Ce[ut]!=null&&q(Ce[ut]);ht||("value"in le&&(ut=le.value)!==void 0&&(ut!==Ze.value||ut!==se.value||$e==="progress"&&!ut)&&Q(se,"value",ut,Ze.value,!1),"checked"in le&&(ut=le.checked)!==void 0&&ut!==se.checked&&Q(se,"checked",ut,Ze.checked,!1))}return se}function Ee(se,ne,ge){try{typeof se=="function"?se(ne):se.current=ne}catch(Te){d.__e(Te,ge)}}function Re(se,ne,ge){var Te,He;if(d.unmount&&d.unmount(se),(Te=se.ref)&&(Te.current&&Te.current!==se.__e||Ee(Te,null,ne)),(Te=se.__c)!=null){if(Te.componentWillUnmount)try{Te.componentWillUnmount()}catch(Ce){d.__e(Ce,ne)}Te.base=Te.__P=null}if(Te=se.__k)for(He=0;He<Te.length;He++)Te[He]&&Re(Te[He],ne,typeof se.type!="function");ge||se.__e==null||q(se.__e),se.__e=se.__d=void 0}function Ge(se,ne,ge){return this.constructor(se,ge)}function tt(se,ne,ge){var Te,He,Ce;d.__&&d.__(se,ne),He=(Te=typeof ge=="function")?null:ge&&ge.__k||ne.__k,Ce=[],te(ne,se=(!Te&&ge||ne).__k=ue(be,null,[se]),He||L,L,ne.ownerSVGElement!==void 0,!Te&&ge?[ge]:He?null:ne.firstChild?O.call(ne.childNodes):null,Ce,!Te&&ge?ge:He?He.__e:ne.firstChild,Te),K(Ce,se)}function Fe(se,ne){tt(se,ne,Fe)}function Xe(se,ne,ge){var Te,He,Ce,st=X({},se.props);for(Ce in ne)Ce=="key"?Te=ne[Ce]:Ce=="ref"?He=ne[Ce]:st[Ce]=ne[Ce];return arguments.length>2&&(st.children=arguments.length>3?O.call(arguments,2):ge),ae(se.type,st,Te||se.key,He||se.ref,null)}function at(se,ne){var ge={__c:ne="__cC"+R++,__:se,Consumer:function(Te,He){return Te.children(He)},Provider:function(Te){var He,Ce;return this.getChildContext||(He=[],(Ce={})[ne]=this,this.getChildContext=function(){return Ce},this.shouldComponentUpdate=function(st){this.props.value!==st.value&&He.some(H)},this.sub=function(st){He.push(st);var ht=st.componentWillUnmount;st.componentWillUnmount=function(){He.splice(He.indexOf(st),1),ht&&ht.call(st)}}),Te.children}};return ge.Provider.__=ge.Consumer.contextType=ge}O=z.slice,d={__e:function(se,ne){for(var ge,Te,He;ne=ne.__;)if((ge=ne.__c)&&!ge.__)try{if((Te=ge.constructor)&&Te.getDerivedStateFromError!=null&&(ge.setState(Te.getDerivedStateFromError(se)),He=ge.__d),ge.componentDidCatch!=null&&(ge.componentDidCatch(se),He=ge.__d),He)return ge.__E=ge}catch(Ce){se=Ce}throw se}},S=0,pe.prototype.setState=function(se,ne){var ge;ge=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=X({},this.state),typeof se=="function"&&(se=se(X({},ge),this.props)),se&&X(ge,se),se!=null&&this.__v&&(ne&&this.__h.push(ne),H(this))},pe.prototype.forceUpdate=function(se){this.__v&&(this.__e=!0,se&&this.__h.push(se),H(this))},pe.prototype.render=be,x=[],k=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,re.__r=0,R=0},function(E,M,s){var O=s(116),d=s(44),S=s(178);O||d(Object.prototype,"toString",S,{unsafe:!0})},function(E,M,s){"use strict";var O=s(39),d=s(83),S=s(70),x=s(56),k=s(111),T="Array Iterator",R=x.set,L=x.getterFor(T);E.exports=k(Array,"Array",function(z,F){R(this,{type:T,target:O(z),index:0,kind:F})},function(){var z=L(this),F=z.target,X=z.kind,q=z.index++;return!F||q>=F.length?(z.target=void 0,{value:void 0,done:!0}):X=="keys"?{value:q,done:!1}:X=="values"?{value:F[q],done:!1}:{value:[q,F[q]],done:!1}},"values"),S.Arguments=S.Array,d("keys"),d("values"),d("entries")},function(E,M,s){var O=s(7),d=s(147),S=s(148),x=s(3),k=s(57),T=s(27),R=T("iterator"),L=T("toStringTag"),z=x.values,F=function(q,ue){if(q){if(q[R]!==z)try{k(q,R,z)}catch(de){q[R]=z}if(q[L]||k(q,L,ue),d[ue]){for(var ae in x)if(q[ae]!==x[ae])try{k(q,ae,x[ae])}catch(de){q[ae]=x[ae]}}}};for(var X in d)F(O[X]&&O[X].prototype,X);F(S,"DOMTokenList")},function(E,M,s){"use strict";var O=s(16),d=s(7),S=s(46),x=s(76),k=s(35),T=s(15),R=s(64),L=s(36),z=s(109),F=s(18),X=s(34),q=s(99),ue=s(28),ae=s(33),de=s(58),be=s(88),pe=s(32),$=s(38),ee=s(39),H=s(87),re=s(40),ce=s(71),ve=s(54),_e=s(66),Z=s(72),oe=s(139),Q=s(112),I=s(51),ie=s(37),te=s(93),K=s(101),we=s(44),Ee=s(84),Re=s(91),Ge=s(69),tt=s(85),Fe=s(27),Xe=s(149),at=s(150),se=s(73),ne=s(56),ge=s(74).forEach,Te=Re("hidden"),He="Symbol",Ce=Fe("toPrimitive"),st=ne.set,ht=ne.getterFor(He),pt=Object.prototype,nt=d.Symbol,De=nt&&nt.prototype,Ze=d.TypeError,le=d.QObject,$e=S("JSON","stringify"),ut=I.f,It=ie.f,mt=oe.f,xt=te.f,Gt=T([].push),Ft=Ee("symbols"),bt=Ee("op-symbols"),en=Ee("string-to-symbol-registry"),V=Ee("symbol-to-string-registry"),me=Ee("wks"),J=!le||!le.prototype||!le.prototype.findChild,Oe=L&&F(function(){return ve(It({},"a",{get:function(){return It(this,"a",{value:7}).a}})).a!=7})?function(qe,ft,gt){var _t=ut(pt,ft);_t&&delete pt[ft],It(qe,ft,gt),_t&&qe!==pt&&It(pt,ft,_t)}:It,Ye=function(qe,ft){var gt=Ft[qe]=ve(De);return st(gt,{type:He,tag:qe,description:ft}),L||(gt.description=ft),gt},Ue=function(qe,ft,gt){qe===pt&&Ue(bt,ft,gt),pe(qe);var _t=H(ft);return pe(gt),X(Ft,_t)?(gt.enumerable?(X(qe,Te)&&qe[Te][_t]&&(qe[Te][_t]=!1),gt=ve(gt,{enumerable:ce(0,!1)})):(X(qe,Te)||It(qe,Te,ce(1,{})),qe[Te][_t]=!0),Oe(qe,_t,gt)):It(qe,_t,gt)},Je=function(qe,ft){pe(qe);var gt=ee(ft),_t=_e(gt).concat(tn(gt));return ge(_t,function(Bt){L&&!k(kt,gt,Bt)||Ue(qe,Bt,gt[Bt])}),qe},kt=function(qe){var ft=H(qe),gt=k(xt,this,ft);return!(this===pt&&X(Ft,ft)&&!X(bt,ft))&&(!(gt||!X(this,ft)||!X(Ft,ft)||X(this,Te)&&this[Te][ft])||gt)},un=function(qe,ft){var gt=ee(qe),_t=H(ft);if(gt!==pt||!X(Ft,_t)||X(bt,_t)){var Bt=ut(gt,_t);return!Bt||!X(Ft,_t)||X(gt,Te)&&gt[Te][_t]||(Bt.enumerable=!0),Bt}},qt=function(qe){var ft=mt(ee(qe)),gt=[];return ge(ft,function(_t){X(Ft,_t)||X(Ge,_t)||Gt(gt,_t)}),gt},tn=function(qe){var ft=qe===pt,gt=mt(ft?bt:ee(qe)),_t=[];return ge(gt,function(Bt){!X(Ft,Bt)||ft&&!X(pt,Bt)||Gt(_t,Ft[Bt])}),_t};if(z||(nt=function(){if(de(De,this))throw Ze("Symbol is not a constructor");var qe=arguments.length&&arguments[0]!==void 0?re(arguments[0]):void 0,ft=tt(qe),gt=function(_t){this===pt&&k(gt,bt,_t),X(this,Te)&&X(this[Te],ft)&&(this[Te][ft]=!1),Oe(this,ft,ce(1,_t))};return L&&J&&Oe(pt,ft,{configurable:!0,set:gt}),Ye(ft,qe)},we(De=nt.prototype,"toString",function(){return ht(this).tag}),we(nt,"withoutSetter",function(qe){return Ye(tt(qe),qe)}),te.f=kt,ie.f=Ue,I.f=un,Z.f=oe.f=qt,Q.f=tn,Xe.f=function(qe){return Ye(Fe(qe),qe)},L&&(It(De,"description",{configurable:!0,get:function(){return ht(this).description}}),R||we(pt,"propertyIsEnumerable",kt,{unsafe:!0}))),O({global:!0,wrap:!0,forced:!z,sham:!z},{Symbol:nt}),ge(_e(me),function(qe){at(qe)}),O({target:He,stat:!0,forced:!z},{for:function(qe){var ft=re(qe);if(X(en,ft))return en[ft];var gt=nt(ft);return en[ft]=gt,V[gt]=ft,gt},keyFor:function(qe){if(!be(qe))throw Ze(qe+" is not a symbol");if(X(V,qe))return V[qe]},useSetter:function(){J=!0},useSimple:function(){J=!1}}),O({target:"Object",stat:!0,forced:!z,sham:!L},{create:function(qe,ft){return ft===void 0?ve(qe):Je(ve(qe),ft)},defineProperty:Ue,defineProperties:Je,getOwnPropertyDescriptor:un}),O({target:"Object",stat:!0,forced:!z},{getOwnPropertyNames:qt,getOwnPropertySymbols:tn}),O({target:"Object",stat:!0,forced:F(function(){Q.f(1)})},{getOwnPropertySymbols:function(qe){return Q.f($(qe))}}),$e&&O({target:"JSON",stat:!0,forced:!z||F(function(){var qe=nt();return $e([qe])!="[null]"||$e({a:qe})!="{}"||$e(Object(qe))!="{}"})},{stringify:function(qe,ft,gt){var _t=K(arguments),Bt=ft;if((ae(ft)||qe!==void 0)&&!be(qe))return q(ft)||(ft=function($t,br){if(ue(Bt)&&(br=k(Bt,this,$t,br)),!be(br))return br}),_t[1]=ft,x($e,null,_t)}}),!De[Ce]){var Yt=De.valueOf;we(De,Ce,function(qe){return k(Yt,this)})}se(nt,He),Ge[Te]=!0},function(E,M,s){"use strict";var O=s(146).charAt,d=s(40),S=s(56),x=s(111),k="String Iterator",T=S.set,R=S.getterFor(k);x(String,"String",function(L){T(this,{type:k,string:d(L),index:0})},function(){var L,z=R(this),F=z.string,X=z.index;return X>=F.length?{value:void 0,done:!0}:(L=O(F,X),z.index+=L.length,{value:L,done:!1})})},function(E,M,s){(function(O){var d=function(S){return S&&S.Math==Math&&S};E.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof O=="object"&&O)||function(){return this}()||Function("return this")()}).call(this,s(82))},function(E,M,s){"use strict";var O=s(16),d=s(36),S=s(7),x=s(15),k=s(34),T=s(28),R=s(58),L=s(40),z=s(37).f,F=s(134),X=S.Symbol,q=X&&X.prototype;if(d&&T(X)&&(!("description"in q)||X().description!==void 0)){var ue={},ae=function(){var re=arguments.length<1||arguments[0]===void 0?void 0:L(arguments[0]),ce=R(q,this)?new X(re):re===void 0?X():X(re);return re===""&&(ue[ce]=!0),ce};F(ae,X),ae.prototype=q,q.constructor=ae;var de=String(X("test"))=="Symbol(test)",be=x(q.toString),pe=x(q.valueOf),$=/^Symbol\((.*)\)[^)]+$/,ee=x("".replace),H=x("".slice);z(q,"description",{configurable:!0,get:function(){var re=pe(this),ce=be(re);if(k(ue,re))return"";var ve=de?H(ce,7,-1):ee(ce,$,"$1");return ve===""?void 0:ve}}),O({global:!0,forced:!0},{Symbol:ae})}},function(E,M,s){s(150)("iterator")},function(E,M,s){"use strict";s.d(M,"a",function(){return x.a}),s.d(M,"c",function(){return x.e}),s.d(M,"h",function(){return $}),s.d(M,"i",function(){return de}),s.d(M,"j",function(){return ue}),s.d(M,"b",function(){return I}),s.d(M,"e",function(){return we}),s.d(M,"f",function(){return ie}),s.d(M,"g",function(){return Ft});var O,d,S,x=s(1),k=0,T=[],R=x.i.__b,L=x.i.__r,z=x.i.diffed,F=x.i.__c,X=x.i.unmount;function q(V,me){x.i.__h&&x.i.__h(d,V,k||me),k=0;var J=d.__H||(d.__H={__:[],__h:[]});return V>=J.__.length&&J.__.push({}),J.__[V]}function ue(V){return k=1,ae(Z,V)}function ae(V,me,J){var Oe=q(O++,2);return Oe.t=V,Oe.__c||(Oe.__=[J?J(me):Z(void 0,me),function(Ye){var Ue=Oe.t(Oe.__[0],Ye);Oe.__[0]!==Ue&&(Oe.__=[Ue,Oe.__[1]],Oe.__c.setState({}))}],Oe.__c=d),Oe.__}function de(V,me){var J=q(O++,3);!x.i.__s&&_e(J.__H,me)&&(J.__=V,J.__H=me,d.__H.__h.push(J))}function be(V,me){var J=q(O++,4);!x.i.__s&&_e(J.__H,me)&&(J.__=V,J.__H=me,d.__h.push(J))}function pe(V,me){var J=q(O++,7);return _e(J.__H,me)&&(J.__=V(),J.__H=me,J.__h=V),J.__}function $(V,me){return k=8,pe(function(){return V},me)}function ee(){var V;for(T.sort(function(me,J){return me.__v.__b-J.__v.__b});V=T.pop();)if(V.__P)try{V.__H.__h.forEach(ce),V.__H.__h.forEach(ve),V.__H.__h=[]}catch(me){V.__H.__h=[],x.i.__e(me,V.__v)}}x.i.__b=function(V){d=null,R&&R(V)},x.i.__r=function(V){L&&L(V),O=0;var me=(d=V.__c).__H;me&&(me.__h.forEach(ce),me.__h.forEach(ve),me.__h=[])},x.i.diffed=function(V){z&&z(V);var me=V.__c;me&&me.__H&&me.__H.__h.length&&(T.push(me)!==1&&S===x.i.requestAnimationFrame||((S=x.i.requestAnimationFrame)||re)(ee)),d=null},x.i.__c=function(V,me){me.some(function(J){try{J.__h.forEach(ce),J.__h=J.__h.filter(function(Oe){return!Oe.__||ve(Oe)})}catch(Oe){me.some(function(Ye){Ye.__h&&(Ye.__h=[])}),me=[],x.i.__e(Oe,J.__v)}}),F&&F(V,me)},x.i.unmount=function(V){X&&X(V);var me,J=V.__c;J&&J.__H&&(J.__H.__.forEach(function(Oe){try{ce(Oe)}catch(Ye){me=Ye}}),me&&x.i.__e(me,J.__v))};var H=typeof requestAnimationFrame=="function";function re(V){var me,J=function(){clearTimeout(Oe),H&&cancelAnimationFrame(me),setTimeout(V)},Oe=setTimeout(J,100);H&&(me=requestAnimationFrame(J))}function ce(V){var me=d,J=V.__c;typeof J=="function"&&(V.__c=void 0,J()),d=me}function ve(V){var me=d;V.__c=V.__(),d=me}function _e(V,me){return!V||V.length!==me.length||me.some(function(J,Oe){return J!==V[Oe]})}function Z(V,me){return typeof me=="function"?me(V):me}function oe(V,me){for(var J in me)V[J]=me[J];return V}function Q(V,me){for(var J in V)if(J!=="__source"&&!(J in me))return!0;for(var Oe in me)if(Oe!=="__source"&&V[Oe]!==me[Oe])return!0;return!1}function I(V){this.props=V}function ie(V,me){function J(Ye){var Ue=this.props.ref,Je=Ue==Ye.ref;return!Je&&Ue&&(Ue.call?Ue(null):Ue.current=null),me?!me(this.props,Ye)||!Je:Q(this.props,Ye)}function Oe(Ye){return this.shouldComponentUpdate=J,Object(x.e)(V,Ye)}return Oe.displayName="Memo("+(V.displayName||V.name)+")",Oe.prototype.isReactComponent=!0,Oe.__f=!0,Oe}(I.prototype=new x.a).isPureReactComponent=!0,I.prototype.shouldComponentUpdate=function(V,me){return Q(this.props,V)||Q(this.state,me)};var te=x.i.__b;x.i.__b=function(V){V.type&&V.type.__f&&V.ref&&(V.props.ref=V.ref,V.ref=null),te&&te(V)};var K=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function we(V){function me(J,Oe){var Ye=oe({},J);return delete Ye.ref,V(Ye,!(Oe=J.ref||Oe)||typeof Oe=="object"&&!("current"in Oe)?null:Oe)}return me.$$typeof=K,me.render=me,me.prototype.isReactComponent=me.__f=!0,me.displayName="ForwardRef("+(V.displayName||V.name)+")",me}var Ee=function(V,me){return V==null?null:Object(x.k)(Object(x.k)(V).map(me))},Re={map:Ee,forEach:Ee,count:function(V){return V?Object(x.k)(V).length:0},only:function(V){var me=Object(x.k)(V);if(me.length!==1)throw"Children.only";return me[0]},toArray:x.k},Ge=x.i.__e;x.i.__e=function(V,me,J){if(V.then){for(var Oe,Ye=me;Ye=Ye.__;)if((Oe=Ye.__c)&&Oe.__c)return me.__e==null&&(me.__e=J.__e,me.__k=J.__k),Oe.__c(V,me)}Ge(V,me,J)};var tt=x.i.unmount;function Fe(V,me,J){return V&&(V.__c&&V.__c.__H&&(V.__c.__H.__.forEach(function(Oe){typeof Oe.__c=="function"&&Oe.__c()}),V.__c.__H=null),(V=oe({},V)).__c!=null&&(V.__c.__P===J&&(V.__c.__P=me),V.__c=null),V.__k=V.__k&&V.__k.map(function(Oe){return Fe(Oe,me,J)})),V}function Xe(V,me,J){return V&&(V.__v=null,V.__k=V.__k&&V.__k.map(function(Oe){return Xe(Oe,me,J)}),V.__c&&V.__c.__P===me&&(V.__e&&J.insertBefore(V.__e,V.__d),V.__c.__e=!0,V.__c.__P=J)),V}function at(){this.__u=0,this.t=null,this.__b=null}function se(V){var me=V.__.__c;return me&&me.__e&&me.__e(V)}function ne(){this.u=null,this.o=null}x.i.unmount=function(V){var me=V.__c;me&&me.__R&&me.__R(),me&&V.__h===!0&&(V.type=null),tt&&tt(V)},(at.prototype=new x.a).__c=function(V,me){var J=me.__c,Oe=this;Oe.t==null&&(Oe.t=[]),Oe.t.push(J);var Ye=se(Oe.__v),Ue=!1,Je=function(){Ue||(Ue=!0,J.__R=null,Ye?Ye(kt):kt())};J.__R=Je;var kt=function(){if(!--Oe.__u){if(Oe.state.__e){var qt=Oe.state.__e;Oe.__v.__k[0]=Xe(qt,qt.__c.__P,qt.__c.__O)}var tn;for(Oe.setState({__e:Oe.__b=null});tn=Oe.t.pop();)tn.forceUpdate()}},un=me.__h===!0;Oe.__u++||un||Oe.setState({__e:Oe.__b=Oe.__v.__k[0]}),V.then(Je,Je)},at.prototype.componentWillUnmount=function(){this.t=[]},at.prototype.render=function(V,me){if(this.__b){if(this.__v.__k){var J=document.createElement("div"),Oe=this.__v.__k[0].__c;this.__v.__k[0]=Fe(this.__b,J,Oe.__O=Oe.__P)}this.__b=null}var Ye=me.__e&&Object(x.e)(x.b,null,V.fallback);return Ye&&(Ye.__h=null),[Object(x.e)(x.b,null,me.__e?null:V.children),Ye]};var ge=function(V,me,J){if(++J[1]===J[0]&&V.o.delete(me),V.props.revealOrder&&(V.props.revealOrder[0]!=="t"||!V.o.size))for(J=V.u;J;){for(;J.length>3;)J.pop()();if(J[1]<J[0])break;V.u=J=J[2]}};function Te(V){return this.getChildContext=function(){return V.context},V.children}function He(V){var me=this,J=V.i;me.componentWillUnmount=function(){Object(x.j)(null,me.l),me.l=null,me.i=null},me.i&&me.i!==J&&me.componentWillUnmount(),V.__v?(me.l||(me.i=J,me.l={nodeType:1,parentNode:J,childNodes:[],appendChild:function(Oe){this.childNodes.push(Oe),me.i.appendChild(Oe)},insertBefore:function(Oe,Ye){this.childNodes.push(Oe),me.i.appendChild(Oe)},removeChild:function(Oe){this.childNodes.splice(this.childNodes.indexOf(Oe)>>>1,1),me.i.removeChild(Oe)}}),Object(x.j)(Object(x.e)(Te,{context:me.context},V.__v),me.l)):me.l&&me.componentWillUnmount()}(ne.prototype=new x.a).__e=function(V){var me=this,J=se(me.__v),Oe=me.o.get(V);return Oe[0]++,function(Ye){var Ue=function(){me.props.revealOrder?(Oe.push(Ye),ge(me,V,Oe)):Ye()};J?J(Ue):Ue()}},ne.prototype.render=function(V){this.u=null,this.o=new Map;var me=Object(x.k)(V.children);V.revealOrder&&V.revealOrder[0]==="b"&&me.reverse();for(var J=me.length;J--;)this.o.set(me[J],this.u=[1,0,this.u]);return V.children},ne.prototype.componentDidUpdate=ne.prototype.componentDidMount=function(){var V=this;this.o.forEach(function(me,J){ge(V,J,me)})};var Ce=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,st=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ht=typeof document!="undefined",pt=function(V){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(V)};x.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(V){Object.defineProperty(x.a.prototype,V,{configurable:!0,get:function(){return this["UNSAFE_"+V]},set:function(me){Object.defineProperty(this,V,{configurable:!0,writable:!0,value:me})}})});var nt=x.i.event;function De(){}function Ze(){return this.cancelBubble}function le(){return this.defaultPrevented}x.i.event=function(V){return nt&&(V=nt(V)),V.persist=De,V.isPropagationStopped=Ze,V.isDefaultPrevented=le,V.nativeEvent=V};var $e,ut={configurable:!0,get:function(){return this.class}},It=x.i.vnode;x.i.vnode=function(V){var me=V.type,J=V.props,Oe=J;if(typeof me=="string"){var Ye=me.indexOf("-")===-1;for(var Ue in Oe={},J){var Je=J[Ue];ht&&Ue==="children"&&me==="noscript"||Ue==="value"&&"defaultValue"in J&&Je==null||(Ue==="defaultValue"&&"value"in J&&J.value==null?Ue="value":Ue==="download"&&Je===!0?Je="":/ondoubleclick/i.test(Ue)?Ue="ondblclick":/^onchange(textarea|input)/i.test(Ue+me)&&!pt(J.type)?Ue="oninput":/^onfocus$/i.test(Ue)?Ue="onfocusin":/^onblur$/i.test(Ue)?Ue="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ue)?Ue=Ue.toLowerCase():Ye&&st.test(Ue)?Ue=Ue.replace(/[A-Z0-9]/,"-$&").toLowerCase():Je===null&&(Je=void 0),Oe[Ue]=Je)}me=="select"&&Oe.multiple&&Array.isArray(Oe.value)&&(Oe.value=Object(x.k)(J.children).forEach(function(kt){kt.props.selected=Oe.value.indexOf(kt.props.value)!=-1})),me=="select"&&Oe.defaultValue!=null&&(Oe.value=Object(x.k)(J.children).forEach(function(kt){kt.props.selected=Oe.multiple?Oe.defaultValue.indexOf(kt.props.value)!=-1:Oe.defaultValue==kt.props.value})),V.props=Oe,J.class!=J.className&&(ut.enumerable="className"in J,J.className!=null&&(Oe.class=J.className),Object.defineProperty(Oe,"className",ut))}V.$$typeof=Ce,It&&It(V)};var mt=x.i.__r;x.i.__r=function(V){mt&&mt(V),$e=V.__c};var xt={ReactCurrentDispatcher:{current:{readContext:function(V){return $e.__n[V.__c].props.value}}}};function Gt(V){return!!V&&V.$$typeof===Ce}var Ft=function(V,me){return V(me)},bt=x.b,en={useState:ue,useReducer:ae,useEffect:de,useLayoutEffect:be,useRef:function(V){return k=5,pe(function(){return{current:V}},[])},useImperativeHandle:function(V,me,J){k=6,be(function(){typeof V=="function"?V(me()):V&&(V.current=me())},J==null?J:J.concat(V))},useMemo:pe,useCallback:$,useContext:function(V){var me=d.context[V.__c],J=q(O++,9);return J.c=V,me?(J.__==null&&(J.__=!0,me.sub(d)),me.props.value):V.__},useDebugValue:function(V,me){x.i.useDebugValue&&x.i.useDebugValue(me?me(V):V)},version:"17.0.2",Children:Re,render:function(V,me,J){return me.__k==null&&(me.textContent=""),Object(x.j)(V,me),typeof J=="function"&&J(),V?V.__c:null},hydrate:function(V,me,J){return Object(x.h)(V,me),typeof J=="function"&&J(),V?V.__c:null},unmountComponentAtNode:function(V){return!!V.__k&&(Object(x.j)(null,V),!0)},createPortal:function(V,me){return Object(x.e)(He,{__v:V,i:me})},createElement:x.e,createContext:x.d,createFactory:function(V){return x.e.bind(null,V)},cloneElement:function(V){return Gt(V)?x.c.apply(null,arguments):V},createRef:x.f,Fragment:x.b,isValidElement:Gt,findDOMNode:function(V){return V&&(V.base||V.nodeType===1&&V)||null},Component:x.a,PureComponent:I,memo:ie,forwardRef:we,flushSync:function(V,me){return V(me)},unstable_batchedUpdates:Ft,StrictMode:bt,Suspense:at,SuspenseList:ne,lazy:function(V){var me,J,Oe;function Ye(Ue){if(me||(me=V()).then(function(Je){J=Je.default||Je},function(Je){Oe=Je}),Oe)throw Oe;if(!J)throw me;return Object(x.e)(J,Ue)}return Ye.displayName="Lazy",Ye.__f=!0,Ye},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xt};M.d=en},function(E,M,s){var O=s(7),d=s(147),S=s(148),x=s(179),k=s(57),T=function(L){if(L&&L.forEach!==x)try{k(L,"forEach",x)}catch(z){L.forEach=x}};for(var R in d)d[R]&&T(O[R]&&O[R].prototype);T(S)},function(E,M,s){s(16)({target:"Object",stat:!0},{setPrototypeOf:s(97)})},function(E,M,s){var O=s(16),d=s(18),S=s(38),x=s(96),k=s(137);O({target:"Object",stat:!0,forced:d(function(){x(1)}),sham:!k},{getPrototypeOf:function(T){return x(S(T))}})},function(E,M,s){var O=s(16),d=s(46),S=s(76),x=s(198),k=s(157),T=s(32),R=s(33),L=s(54),z=s(18),F=d("Reflect","construct"),X=Object.prototype,q=[].push,ue=z(function(){function be(){}return!(F(function(){},[],be)instanceof be)}),ae=!z(function(){F(function(){})}),de=ue||ae;O({target:"Reflect",stat:!0,forced:de,sham:de},{construct:function(be,pe){k(be),T(pe);var $=arguments.length<3?be:k(arguments[2]);if(ae&&!ue)return F(be,pe,$);if(be==$){switch(pe.length){case 0:return new be;case 1:return new be(pe[0]);case 2:return new be(pe[0],pe[1]);case 3:return new be(pe[0],pe[1],pe[2]);case 4:return new be(pe[0],pe[1],pe[2],pe[3])}var ee=[null];return S(q,ee,pe),new(S(x,be,ee))}var H=$.prototype,re=L(R(H)?H:X),ce=S(be,re,pe);return R(ce)?ce:re}})},function(E,M){var s=Function.prototype,O=s.bind,d=s.call,S=O&&O.bind(d);E.exports=O?function(x){return x&&S(d,x)}:function(x){return x&&function(){return d.apply(x,arguments)}}},function(E,M,s){var O=s(7),d=s(51).f,S=s(57),x=s(44),k=s(108),T=s(134),R=s(95);E.exports=function(L,z){var F,X,q,ue,ae,de=L.target,be=L.global,pe=L.stat;if(F=be?O:pe?O[de]||k(de,{}):(O[de]||{}).prototype)for(X in z){if(ue=z[X],q=L.noTargetGet?(ae=d(F,X))&&ae.value:F[X],!R(be?X:de+(pe?".":"#")+X,L.forced)&&q!==void 0){if(typeof ue==typeof q)continue;T(ue,q)}(L.sham||q&&q.sham)&&S(ue,"sham",!0),x(F,X,ue,L)}}},function(E,M,s){"use strict";var O=s(16),d=s(7),S=s(99),x=s(100),k=s(33),T=s(67),R=s(43),L=s(39),z=s(61),F=s(27),X=s(75),q=s(101),ue=X("slice"),ae=F("species"),de=d.Array,be=Math.max;O({target:"Array",proto:!0,forced:!ue},{slice:function(pe,$){var ee,H,re,ce=L(this),ve=R(ce),_e=T(pe,ve),Z=T($===void 0?ve:$,ve);if(S(ce)&&(ee=ce.constructor,(x(ee)&&(ee===de||S(ee.prototype))||k(ee)&&(ee=ee[ae])===null)&&(ee=void 0),ee===de||ee===void 0))return q(ce,_e,Z);for(H=new(ee===void 0?de:ee)(be(Z-_e,0)),re=0;_e<Z;_e++,re++)_e in ce&&z(H,re,ce[_e]);return H.length=re,H}})},function(E,M){E.exports=function(s){try{return!!s()}catch(O){return!0}}},function(E,M,s){"use strict";var O=s(16),d=s(102);O({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(E,M,s){var O=s(16),d=s(38),S=s(66);O({target:"Object",stat:!0,forced:s(18)(function(){S(1)})},{keys:function(x){return S(d(x))}})},function(E,M,s){var O=s(16),d=s(18),S=s(39),x=s(51).f,k=s(36),T=d(function(){x(1)});O({target:"Object",stat:!0,forced:!k||T,sham:!k},{getOwnPropertyDescriptor:function(R,L){return x(S(R),L)}})},function(E,M,s){"use strict";var O=s(16),d=s(74).filter;O({target:"Array",proto:!0,forced:!s(75)("filter")},{filter:function(S){return d(this,S,arguments.length>1?arguments[1]:void 0)}})},function(E,M,s){var O=s(16),d=s(36),S=s(135),x=s(39),k=s(51),T=s(61);O({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(R){for(var L,z,F=x(R),X=k.f,q=S(F),ue={},ae=0;q.length>ae;)(z=X(F,L=q[ae++]))!==void 0&&T(ue,L,z);return ue}})},function(E,M,s){var O=s(36),d=s(94).EXISTS,S=s(15),x=s(37).f,k=Function.prototype,T=S(k.toString),R=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,L=S(R.exec);O&&!d&&x(k,"name",{configurable:!0,get:function(){try{return L(R,T(this))[1]}catch(z){return""}}})},function(E,M,s){var O=s(16),d=s(182);O({target:"Array",stat:!0,forced:!s(118)(function(S){Array.from(S)})},{from:d})},,function(E,M,s){var O=s(7),d=s(84),S=s(34),x=s(85),k=s(109),T=s(128),R=d("wks"),L=O.Symbol,z=L&&L.for,F=T?L:L&&L.withoutSetter||x;E.exports=function(X){if(!S(R,X)||!k&&typeof R[X]!="string"){var q="Symbol."+X;k&&S(L,X)?R[X]=L[X]:R[X]=T&&z?z(q):F(q)}return R[X]}},function(E,M){E.exports=function(s){return typeof s=="function"}},function(E,M,s){"use strict";var O=s(16),d=s(7),S=s(18),x=s(99),k=s(33),T=s(38),R=s(43),L=s(61),z=s(119),F=s(75),X=s(27),q=s(65),ue=X("isConcatSpreadable"),ae=9007199254740991,de="Maximum allowed index exceeded",be=d.TypeError,pe=q>=51||!S(function(){var H=[];return H[ue]=!1,H.concat()[0]!==H}),$=F("concat"),ee=function(H){if(!k(H))return!1;var re=H[ue];return re!==void 0?!!re:x(H)};O({target:"Array",proto:!0,forced:!pe||!$},{concat:function(H){var re,ce,ve,_e,Z,oe=T(this),Q=z(oe,0),I=0;for(re=-1,ve=arguments.length;re<ve;re++)if(ee(Z=re===-1?oe:arguments[re])){if(I+(_e=R(Z))>ae)throw be(de);for(ce=0;ce<_e;ce++,I++)ce in Z&&L(Q,I,Z[ce])}else{if(I>=ae)throw be(de);L(Q,I++,Z)}return Q.length=I,Q}})},function(E,M,s){"use strict";var O=s(105),d=typeof self=="object"&&self&&self.Object===Object&&self,S=O.a||d||Function("return this")();M.a=S},function(E,M,s){var O=s(16),d=s(200);O({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(E,M,s){var O=s(7),d=s(33),S=O.String,x=O.TypeError;E.exports=function(k){if(d(k))return k;throw x(S(k)+" is not an object")}},function(E,M,s){var O=s(28);E.exports=function(d){return typeof d=="object"?d!==null:O(d)}},function(E,M,s){var O=s(15),d=s(38),S=O({}.hasOwnProperty);E.exports=Object.hasOwn||function(x,k){return S(d(x),k)}},function(E,M){var s=Function.prototype.call;E.exports=s.bind?s.bind(s):function(){return s.apply(s,arguments)}},function(E,M,s){var O=s(18);E.exports=!O(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(E,M,s){var O=s(7),d=s(36),S=s(129),x=s(32),k=s(87),T=O.TypeError,R=Object.defineProperty;M.f=d?R:function(L,z,F){if(x(L),z=k(z),x(F),S)try{return R(L,z,F)}catch(X){}if("get"in F||"set"in F)throw T("Accessors not supported");return"value"in F&&(L[z]=F.value),L}},function(E,M,s){var O=s(7),d=s(45),S=O.Object;E.exports=function(x){return S(d(x))}},function(E,M,s){var O=s(81),d=s(45);E.exports=function(S){return O(d(S))}},function(E,M,s){var O=s(7),d=s(98),S=O.String;E.exports=function(x){if(d(x)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return S(x)}},function(E,M,s){"use strict";var O=s(16),d=s(74).map;O({target:"Array",proto:!0,forced:!s(75)("map")},{map:function(S){return d(this,S,arguments.length>1?arguments[1]:void 0)}})},function(E,M,s){"use strict";(function(O){s.d(M,"d",function(){return x}),s.d(M,"c",function(){return k}),s.d(M,"b",function(){return T}),s.d(M,"a",function(){return L});var d=s(10),S=function(z,F){var X=typeof Symbol=="function"&&z[Symbol.iterator];if(!X)return z;var q,ue,ae=X.call(z),de=[];try{for(;(F===void 0||F-- >0)&&!(q=ae.next()).done;)de.push(q.value)}catch(be){ue={error:be}}finally{try{q&&!q.done&&(X=ae.return)&&X.call(ae)}finally{if(ue)throw ue.error}}return de};function x(){var z=S(Object(d.j)(0),2)[1];return Object(d.h)(function(){z(function(F){return F+1})},[])}function k(z){if(!z||typeof z!="object")return!1;var F=Object.getPrototypeOf(z);return!F||F===Object.prototype}function T(z){return typeof Symbol=="function"?Symbol.for(z):"__$mobx-react "+z+"__"}var R={};function L(){return typeof window!="undefined"?window:O!==void 0?O:typeof self!="undefined"?self:R}}).call(this,s(82))},function(E,M,s){var O=s(90);E.exports=function(d){return O(d.length)}},function(E,M,s){var O=s(7),d=s(28),S=s(34),x=s(57),k=s(108),T=s(92),R=s(56),L=s(94).CONFIGURABLE,z=R.get,F=R.enforce,X=String(String).split("String");(E.exports=function(q,ue,ae,de){var be,pe=!!de&&!!de.unsafe,$=!!de&&!!de.enumerable,ee=!!de&&!!de.noTargetGet,H=de&&de.name!==void 0?de.name:ue;d(ae)&&(String(H).slice(0,7)==="Symbol("&&(H="["+String(H).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!S(ae,"name")||L&&ae.name!==H)&&x(ae,"name",H),(be=F(ae)).source||(be.source=X.join(typeof H=="string"?H:""))),q!==O?(pe?!ee&&q[ue]&&($=!0):delete q[ue],$?q[ue]=ae:x(q,ue,ae)):$?q[ue]=ae:k(ue,ae)})(Function.prototype,"toString",function(){return d(this)&&z(this).source||T(this)})},function(E,M,s){var O=s(7).TypeError;E.exports=function(d){if(d==null)throw O("Can't call method on "+d);return d}},function(E,M,s){var O=s(7),d=s(28),S=function(x){return d(x)?x:void 0};E.exports=function(x,k){return arguments.length<2?S(O[x]):O[x]&&O[x][k]}},function(E,M,s){var O=s(16),d=s(35),S=s(33),x=s(32),k=s(199),T=s(51),R=s(96);O({target:"Reflect",stat:!0},{get:function L(z,F){var X,q,ue=arguments.length<3?z:arguments[2];return x(z)===ue?z[F]:(X=T.f(z,F))?k(X)?X.value:X.get===void 0?void 0:d(X.get,ue):S(q=R(z))?L(q,F,ue):void 0}})},function(E,M,s){"use strict";(function(O){var d=s(30),S=s(165),x=St&&!St.nodeType&&St,k=x&&typeof O=="object"&&O&&!O.nodeType&&O,T=k&&k.exports===x?d.a.Buffer:void 0,R=(T?T.isBuffer:void 0)||S.a;M.a=R}).call(this,s(121)(E))},function(E,M,s){"use strict";(function(O){var d=s(105),S=St&&!St.nodeType&&St,x=S&&typeof O=="object"&&O&&!O.nodeType&&O,k=x&&x.exports===S&&d.a.process,T=function(){try{var R=x&&x.require&&x.require("util").types;return R||k&&k.binding&&k.binding("util")}catch(L){}}();M.a=T}).call(this,s(121)(E))},function(E,M,s){var O=s(15),d=O({}.toString),S=O("".slice);E.exports=function(x){return S(d(x),8,-1)}},function(E,M,s){var O=s(36),d=s(35),S=s(93),x=s(71),k=s(39),T=s(87),R=s(34),L=s(129),z=Object.getOwnPropertyDescriptor;M.f=O?z:function(F,X){if(F=k(F),X=T(X),L)try{return z(F,X)}catch(q){}if(R(F,X))return x(!d(S.f,F,X),F[X])}},function(E,M,s){var O=s(16),d=s(213).entries;O({target:"Object",stat:!0},{entries:function(S){return d(S)}})},function(E,M,s){var O=s(46);E.exports=O("navigator","userAgent")||""},function(E,M,s){var O,d=s(32),S=s(168),x=s(110),k=s(69),T=s(133),R=s(86),L=s(91),z=L("IE_PROTO"),F=function(){},X=function(ae){return"<script>"+ae+"</script>"},q=function(ae){ae.write(X("")),ae.close();var de=ae.parentWindow.Object;return ae=null,de},ue=function(){try{O=new ActiveXObject("htmlfile")}catch(pe){}var ae,de;ue=typeof document!="undefined"?document.domain&&O?q(O):((de=R("iframe")).style.display="none",T.appendChild(de),de.src=String("javascript:"),(ae=de.contentWindow.document).open(),ae.write(X("document.F=Object")),ae.close(),ae.F):q(O);for(var be=x.length;be--;)delete ue.prototype[x[be]];return ue()};k[z]=!0,E.exports=Object.create||function(ae,de){var be;return ae!==null?(F.prototype=d(ae),be=new F,F.prototype=null,be[z]=ae):be=ue(),de===void 0?be:S(be,de)}},function(E,M,s){var O=s(7),d=s(28),S=s(89),x=O.TypeError;E.exports=function(k){if(d(k))return k;throw x(S(k)+" is not a function")}},function(E,M,s){var O,d,S,x=s(170),k=s(7),T=s(15),R=s(33),L=s(57),z=s(34),F=s(107),X=s(91),q=s(69),ue="Object already initialized",ae=k.TypeError,de=k.WeakMap;if(x||F.state){var be=F.state||(F.state=new de),pe=T(be.get),$=T(be.has),ee=T(be.set);O=function(re,ce){if($(be,re))throw new ae(ue);return ce.facade=re,ee(be,re,ce),ce},d=function(re){return pe(be,re)||{}},S=function(re){return $(be,re)}}else{var H=X("state");q[H]=!0,O=function(re,ce){if(z(re,H))throw new ae(ue);return ce.facade=re,L(re,H,ce),ce},d=function(re){return z(re,H)?re[H]:{}},S=function(re){return z(re,H)}}E.exports={set:O,get:d,has:S,enforce:function(re){return S(re)?d(re):O(re,{})},getterFor:function(re){return function(ce){var ve;if(!R(ce)||(ve=d(ce)).type!==re)throw ae("Incompatible receiver, "+re+" required");return ve}}}},function(E,M,s){var O=s(36),d=s(37),S=s(71);E.exports=O?function(x,k,T){return d.f(x,k,S(1,T))}:function(x,k,T){return x[k]=T,x}},function(E,M,s){var O=s(15);E.exports=O({}.isPrototypeOf)},function(E,M,s){var O=s(55);E.exports=function(d,S){var x=d[S];return x==null?void 0:O(x)}},function(E,M,s){"use strict";s(173)("Map",function(O){return function(){return O(this,arguments.length?arguments[0]:void 0)}},s(177))},function(E,M,s){"use strict";var O=s(87),d=s(37),S=s(71);E.exports=function(x,k,T){var R=O(k);R in x?d.f(x,R,S(0,T)):x[R]=T}},function(E,M,s){var O=s(15),d=s(55),S=O(O.bind);E.exports=function(x,k){return d(x),k===void 0?x:S?S(x,k):function(){return x.apply(k,arguments)}}},function(E,M,s){var O=s(16),d=s(214),S=s(83);O({target:"Array",proto:!0},{fill:d}),S("fill")},function(E,M){E.exports=!1},function(E,M,s){var O,d,S=s(7),x=s(53),k=S.process,T=S.Deno,R=k&&k.versions||T&&T.version,L=R&&R.v8;L&&(d=(O=L.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!d&&x&&(!(O=x.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=x.match(/Chrome\/(\d+)/))&&(d=+O[1]),E.exports=d},function(E,M,s){var O=s(131),d=s(110);E.exports=Object.keys||function(S){return O(S,d)}},function(E,M,s){var O=s(68),d=Math.max,S=Math.min;E.exports=function(x,k){var T=O(x);return T<0?d(T+k,0):S(T,k)}},function(E,M){var s=Math.ceil,O=Math.floor;E.exports=function(d){var S=+d;return S!=S||S===0?0:(S>0?O:s)(S)}},function(E,M){E.exports={}},function(E,M){E.exports={}},function(E,M){E.exports=function(s,O){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:O}}},function(E,M,s){var O=s(131),d=s(110).concat("length","prototype");M.f=Object.getOwnPropertyNames||function(S){return O(S,d)}},function(E,M,s){var O=s(37).f,d=s(34),S=s(27)("toStringTag");E.exports=function(x,k,T){x&&!d(x=T?x:x.prototype,S)&&O(x,S,{configurable:!0,value:k})}},function(E,M,s){var O=s(62),d=s(15),S=s(81),x=s(38),k=s(43),T=s(119),R=d([].push),L=function(z){var F=z==1,X=z==2,q=z==3,ue=z==4,ae=z==6,de=z==7,be=z==5||ae;return function(pe,$,ee,H){for(var re,ce,ve=x(pe),_e=S(ve),Z=O($,ee),oe=k(_e),Q=0,I=H||T,ie=F?I(pe,oe):X||de?I(pe,0):void 0;oe>Q;Q++)if((be||Q in _e)&&(ce=Z(re=_e[Q],Q,ve),z))if(F)ie[Q]=ce;else if(ce)switch(z){case 3:return!0;case 5:return re;case 6:return Q;case 2:R(ie,re)}else switch(z){case 4:return!1;case 7:R(ie,re)}return ae?-1:q||ue?ue:ie}};E.exports={forEach:L(0),map:L(1),filter:L(2),some:L(3),every:L(4),find:L(5),findIndex:L(6),filterReject:L(7)}},function(E,M,s){var O=s(18),d=s(27),S=s(65),x=d("species");E.exports=function(k){return S>=51||!O(function(){var T=[];return(T.constructor={})[x]=function(){return{foo:1}},T[k](Boolean).foo!==1})}},function(E,M){var s=Function.prototype,O=s.apply,d=s.bind,S=s.call;E.exports=typeof Reflect=="object"&&Reflect.apply||(d?S.bind(O):function(){return S.apply(O,arguments)})},function(E,M,s){"use strict";var O=s(16),d=s(15),S=s(81),x=s(39),k=s(120),T=d([].join),R=S!=Object,L=k("join",",");O({target:"Array",proto:!0,forced:R||!L},{join:function(z){return T(x(this),z===void 0?",":z)}})},function(E,M,s){"use strict";var O=s(76),d=s(35),S=s(15),x=s(122),k=s(154),T=s(32),R=s(45),L=s(156),z=s(123),F=s(90),X=s(40),q=s(59),ue=s(113),ae=s(124),de=s(102),be=s(151),pe=s(18),$=be.UNSUPPORTED_Y,ee=4294967295,H=Math.min,re=[].push,ce=S(/./.exec),ve=S(re),_e=S("".slice),Z=!pe(function(){var oe=/(?:)/,Q=oe.exec;oe.exec=function(){return Q.apply(this,arguments)};var I="ab".split(oe);return I.length!==2||I[0]!=="a"||I[1]!=="b"});x("split",function(oe,Q,I){var ie;return ie="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(te,K){var we=X(R(this)),Ee=K===void 0?ee:K>>>0;if(Ee===0)return[];if(te===void 0)return[we];if(!k(te))return d(Q,we,te,Ee);for(var Re,Ge,tt,Fe=[],Xe=(te.ignoreCase?"i":"")+(te.multiline?"m":"")+(te.unicode?"u":"")+(te.sticky?"y":""),at=0,se=new RegExp(te.source,Xe+"g");(Re=d(de,se,we))&&!((Ge=se.lastIndex)>at&&(ve(Fe,_e(we,at,Re.index)),Re.length>1&&Re.index<we.length&&O(re,Fe,ue(Re,1)),tt=Re[0].length,at=Ge,Fe.length>=Ee));)se.lastIndex===Re.index&&se.lastIndex++;return at===we.length?!tt&&ce(se,"")||ve(Fe,""):ve(Fe,_e(we,at)),Fe.length>Ee?ue(Fe,0,Ee):Fe}:"0".split(void 0,0).length?function(te,K){return te===void 0&&K===0?[]:d(Q,this,te,K)}:Q,[function(te,K){var we=R(this),Ee=te==null?void 0:q(te,oe);return Ee?d(Ee,te,we,K):d(ie,X(we),te,K)},function(te,K){var we=T(this),Ee=X(te),Re=I(ie,we,Ee,K,ie!==Q);if(Re.done)return Re.value;var Ge=L(we,RegExp),tt=we.unicode,Fe=(we.ignoreCase?"i":"")+(we.multiline?"m":"")+(we.unicode?"u":"")+($?"g":"y"),Xe=new Ge($?"^(?:"+we.source+")":we,Fe),at=K===void 0?ee:K>>>0;if(at===0)return[];if(Ee.length===0)return ae(Xe,Ee)===null?[Ee]:[];for(var se=0,ne=0,ge=[];ne<Ee.length;){Xe.lastIndex=$?0:ne;var Te,He=ae(Xe,$?_e(Ee,ne):Ee);if(He===null||(Te=H(F(Xe.lastIndex+($?ne:0)),Ee.length))===se)ne=z(Ee,ne,tt);else{if(ve(ge,_e(Ee,se,ne)),ge.length===at)return ge;for(var Ce=1;Ce<=He.length-1;Ce++)if(ve(ge,He[Ce]),ge.length===at)return ge;ne=se=Te}}return ve(ge,_e(Ee,se)),ge}]},!Z,$)},function(E,M,s){"use strict";var O=s(36),d=s(7),S=s(15),x=s(95),k=s(44),T=s(34),R=s(143),L=s(58),z=s(88),F=s(130),X=s(18),q=s(72).f,ue=s(51).f,ae=s(37).f,de=s(196),be=s(159).trim,pe="Number",$=d.Number,ee=$.prototype,H=d.TypeError,re=S("".slice),ce=S("".charCodeAt),ve=function(ie){var te=F(ie,"number");return typeof te=="bigint"?te:_e(te)},_e=function(ie){var te,K,we,Ee,Re,Ge,tt,Fe,Xe=F(ie,"number");if(z(Xe))throw H("Cannot convert a Symbol value to a number");if(typeof Xe=="string"&&Xe.length>2){if(Xe=be(Xe),(te=ce(Xe,0))===43||te===45){if((K=ce(Xe,2))===88||K===120)return NaN}else if(te===48){switch(ce(Xe,1)){case 66:case 98:we=2,Ee=49;break;case 79:case 111:we=8,Ee=55;break;default:return+Xe}for(Ge=(Re=re(Xe,2)).length,tt=0;tt<Ge;tt++)if((Fe=ce(Re,tt))<48||Fe>Ee)return NaN;return parseInt(Re,we)}}return+Xe};if(x(pe,!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var Z,oe=function(ie){var te=arguments.length<1?0:$(ve(ie)),K=this;return L(ee,K)&&X(function(){de(K)})?R(Object(te),K,oe):te},Q=O?q($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;Q.length>I;I++)T($,Z=Q[I])&&!T(oe,Z)&&ae(oe,Z,ue($,Z));oe.prototype=ee,ee.constructor=oe,k(d,pe,oe)}},function(E,M,s){s(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(E,M,s){var O=s(7),d=s(15),S=s(18),x=s(50),k=O.Object,T=d("".split);E.exports=S(function(){return!k("z").propertyIsEnumerable(0)})?function(R){return x(R)=="String"?T(R,""):k(R)}:k},function(E,M){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(O){typeof window=="object"&&(s=window)}E.exports=s},function(E,M,s){var O=s(27),d=s(54),S=s(37),x=O("unscopables"),k=Array.prototype;k[x]==null&&S.f(k,x,{configurable:!0,value:d(null)}),E.exports=function(T){k[x][T]=!0}},function(E,M,s){var O=s(64),d=s(107);(E.exports=function(S,x){return d[S]||(d[S]=x!==void 0?x:{})})("versions",[]).push({version:"3.19.3",mode:O?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(E,M,s){var O=s(15),d=0,S=Math.random(),x=O(1 .toString);E.exports=function(k){return"Symbol("+(k===void 0?"":k)+")_"+x(++d+S,36)}},function(E,M,s){var O=s(7),d=s(33),S=O.document,x=d(S)&&d(S.createElement);E.exports=function(k){return x?S.createElement(k):{}}},function(E,M,s){var O=s(130),d=s(88);E.exports=function(S){var x=O(S,"string");return d(x)?x:x+""}},function(E,M,s){var O=s(7),d=s(46),S=s(28),x=s(58),k=s(128),T=O.Object;E.exports=k?function(R){return typeof R=="symbol"}:function(R){var L=d("Symbol");return S(L)&&x(L.prototype,T(R))}},function(E,M,s){var O=s(7).String;E.exports=function(d){try{return O(d)}catch(S){return"Object"}}},function(E,M,s){var O=s(68),d=Math.min;E.exports=function(S){return S>0?d(O(S),9007199254740991):0}},function(E,M,s){var O=s(84),d=s(85),S=O("keys");E.exports=function(x){return S[x]||(S[x]=d(x))}},function(E,M,s){var O=s(15),d=s(28),S=s(107),x=O(Function.toString);d(S.inspectSource)||(S.inspectSource=function(k){return x(k)}),E.exports=S.inspectSource},function(E,M,s){"use strict";var O={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,S=d&&!O.call({1:2},1);M.f=S?function(x){var k=d(this,x);return!!k&&k.enumerable}:O},function(E,M,s){var O=s(36),d=s(34),S=Function.prototype,x=O&&Object.getOwnPropertyDescriptor,k=d(S,"name"),T=k&&function(){}.name==="something",R=k&&(!O||O&&x(S,"name").configurable);E.exports={EXISTS:k,PROPER:T,CONFIGURABLE:R}},function(E,M,s){var O=s(18),d=s(28),S=/#|\.prototype\./,x=function(z,F){var X=T[k(z)];return X==L||X!=R&&(d(F)?O(F):!!F)},k=x.normalize=function(z){return String(z).replace(S,".").toLowerCase()},T=x.data={},R=x.NATIVE="N",L=x.POLYFILL="P";E.exports=x},function(E,M,s){var O=s(7),d=s(34),S=s(28),x=s(38),k=s(91),T=s(137),R=k("IE_PROTO"),L=O.Object,z=L.prototype;E.exports=T?L.getPrototypeOf:function(F){var X=x(F);if(d(X,R))return X[R];var q=X.constructor;return S(q)&&X instanceof q?q.prototype:X instanceof L?z:null}},function(E,M,s){var O=s(15),d=s(32),S=s(172);E.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var x,k=!1,T={};try{(x=O(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(T,[]),k=T instanceof Array}catch(R){}return function(R,L){return d(R),S(L),k?x(R,L):R.__proto__=L,R}}():void 0)},function(E,M,s){var O=s(7),d=s(116),S=s(28),x=s(50),k=s(27)("toStringTag"),T=O.Object,R=x(function(){return arguments}())=="Arguments";E.exports=d?x:function(L){var z,F,X;return L===void 0?"Undefined":L===null?"Null":typeof(F=function(q,ue){try{return q[ue]}catch(ae){}}(z=T(L),k))=="string"?F:R?x(z):(X=x(z))=="Object"&&S(z.callee)?"Arguments":X}},function(E,M,s){var O=s(50);E.exports=Array.isArray||function(d){return O(d)=="Array"}},function(E,M,s){var O=s(15),d=s(18),S=s(28),x=s(98),k=s(46),T=s(92),R=function(){},L=[],z=k("Reflect","construct"),F=/^\s*(?:class|function)\b/,X=O(F.exec),q=!F.exec(R),ue=function(ae){if(!S(ae))return!1;try{return z(R,L,ae),!0}catch(de){return!1}};E.exports=!z||d(function(){var ae;return ue(ue.call)||!ue(Object)||!ue(function(){ae=!0})||ae})?function(ae){if(!S(ae))return!1;switch(x(ae)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return q||!!X(F,T(ae))}:ue},function(E,M,s){var O=s(15);E.exports=O([].slice)},function(E,M,s){"use strict";var O,d,S=s(35),x=s(15),k=s(40),T=s(184),R=s(151),L=s(84),z=s(54),F=s(56).get,X=s(185),q=s(186),ue=L("native-string-replace",String.prototype.replace),ae=RegExp.prototype.exec,de=ae,be=x("".charAt),pe=x("".indexOf),$=x("".replace),ee=x("".slice),H=(d=/b*/g,S(ae,O=/a/,"a"),S(ae,d,"a"),O.lastIndex!==0||d.lastIndex!==0),re=R.BROKEN_CARET,ce=/()??/.exec("")[1]!==void 0;(H||ce||re||X||q)&&(de=function(ve){var _e,Z,oe,Q,I,ie,te,K=this,we=F(K),Ee=k(ve),Re=we.raw;if(Re)return Re.lastIndex=K.lastIndex,_e=S(de,Re,Ee),K.lastIndex=Re.lastIndex,_e;var Ge=we.groups,tt=re&&K.sticky,Fe=S(T,K),Xe=K.source,at=0,se=Ee;if(tt&&(Fe=$(Fe,"y",""),pe(Fe,"g")===-1&&(Fe+="g"),se=ee(Ee,K.lastIndex),K.lastIndex>0&&(!K.multiline||K.multiline&&be(Ee,K.lastIndex-1)!==`
`)&&(Xe="(?: "+Xe+")",se=" "+se,at++),Z=new RegExp("^(?:"+Xe+")",Fe)),ce&&(Z=new RegExp("^"+Xe+"$(?!\\s)",Fe)),H&&(oe=K.lastIndex),Q=S(ae,tt?Z:K,se),tt?Q?(Q.input=ee(Q.input,at),Q[0]=ee(Q[0],at),Q.index=K.lastIndex,K.lastIndex+=Q[0].length):K.lastIndex=0:H&&Q&&(K.lastIndex=K.global?Q.index+Q[0].length:oe),ce&&Q&&Q.length>1&&S(ue,Q[0],Z,function(){for(I=1;I<arguments.length-2;I++)arguments[I]===void 0&&(Q[I]=void 0)}),Q&&Ge)for(Q.groups=ie=z(null),I=0;I<Ge.length;I++)ie[(te=Ge[I])[0]]=Q[te[1]];return Q}),E.exports=de},function(E,M,s){"use strict";var O=s(16),d=s(7),S=s(67),x=s(68),k=s(43),T=s(38),R=s(119),L=s(61),z=s(75)("splice"),F=d.TypeError,X=Math.max,q=Math.min,ue=9007199254740991,ae="Maximum allowed length exceeded";O({target:"Array",proto:!0,forced:!z},{splice:function(de,be){var pe,$,ee,H,re,ce,ve=T(this),_e=k(ve),Z=S(de,_e),oe=arguments.length;if(oe===0?pe=$=0:oe===1?(pe=0,$=_e-Z):(pe=oe-2,$=q(X(x(be),0),_e-Z)),_e+pe-$>ue)throw F(ae);for(ee=R(ve,$),H=0;H<$;H++)(re=Z+H)in ve&&L(ee,H,ve[re]);if(ee.length=$,pe<$){for(H=Z;H<_e-$;H++)ce=H+pe,(re=H+$)in ve?ve[ce]=ve[re]:delete ve[ce];for(H=_e;H>_e-$+pe;H--)delete ve[H-1]}else if(pe>$)for(H=_e-$;H>Z;H--)ce=H+pe-1,(re=H+$-1)in ve?ve[ce]=ve[re]:delete ve[ce];for(H=0;H<pe;H++)ve[H+Z]=arguments[H+2];return ve.length=_e-$+pe,ee}})},function(E,M,s){"use strict";var O=s(16),d=s(201);O({target:"String",proto:!0,forced:s(202)("anchor")},{anchor:function(S){return d(this,"a","name",S)}})},function(E,M,s){"use strict";(function(O){var d=typeof O=="object"&&O&&O.Object===Object&&O;M.a=d}).call(this,s(82))},function(E,M,s){"use strict";(function(O){var d=s(30),S=St&&!St.nodeType&&St,x=S&&typeof O=="object"&&O&&!O.nodeType&&O,k=x&&x.exports===S?d.a.Buffer:void 0,T=k?k.allocUnsafe:void 0;M.a=function(R,L){if(L)return R.slice();var z=R.length,F=T?T(z):new R.constructor(z);return R.copy(F),F}}).call(this,s(121)(E))},function(E,M,s){var O=s(7),d=s(108),S="__core-js_shared__",x=O[S]||d(S,{});E.exports=x},function(E,M,s){var O=s(7),d=Object.defineProperty;E.exports=function(S,x){try{d(O,S,{value:x,configurable:!0,writable:!0})}catch(k){O[S]=x}return x}},function(E,M,s){var O=s(65),d=s(18);E.exports=!!Object.getOwnPropertySymbols&&!d(function(){var S=Symbol();return!String(S)||!(Object(S)instanceof Symbol)||!Symbol.sham&&O&&O<41})},function(E,M){E.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(E,M,s){"use strict";var O=s(16),d=s(35),S=s(64),x=s(94),k=s(28),T=s(171),R=s(96),L=s(97),z=s(73),F=s(57),X=s(44),q=s(27),ue=s(70),ae=s(136),de=x.PROPER,be=x.CONFIGURABLE,pe=ae.IteratorPrototype,$=ae.BUGGY_SAFARI_ITERATORS,ee=q("iterator"),H="keys",re="values",ce="entries",ve=function(){return this};E.exports=function(_e,Z,oe,Q,I,ie,te){T(oe,Z,Q);var K,we,Ee,Re=function(ne){if(ne===I&&at)return at;if(!$&&ne in Fe)return Fe[ne];switch(ne){case H:case re:case ce:return function(){return new oe(this,ne)}}return function(){return new oe(this)}},Ge=Z+" Iterator",tt=!1,Fe=_e.prototype,Xe=Fe[ee]||Fe["@@iterator"]||I&&Fe[I],at=!$&&Xe||Re(I),se=Z=="Array"&&Fe.entries||Xe;if(se&&(K=R(se.call(new _e)))!==Object.prototype&&K.next&&(S||R(K)===pe||(L?L(K,pe):k(K[ee])||X(K,ee,ve)),z(K,Ge,!0,!0),S&&(ue[Ge]=ve)),de&&I==re&&Xe&&Xe.name!==re&&(!S&&be?F(Fe,"name",re):(tt=!0,at=function(){return d(Xe,this)})),I)if(we={values:Re(re),keys:ie?at:Re(H),entries:Re(ce)},te)for(Ee in we)($||tt||!(Ee in Fe))&&X(Fe,Ee,we[Ee]);else O({target:Z,proto:!0,forced:$||tt},we);return S&&!te||Fe[ee]===at||X(Fe,ee,at,{name:I}),ue[Z]=at,we}},function(E,M){M.f=Object.getOwnPropertySymbols},function(E,M,s){var O=s(7),d=s(67),S=s(43),x=s(61),k=O.Array,T=Math.max;E.exports=function(R,L,z){for(var F=S(R),X=d(L,F),q=d(z===void 0?F:z,F),ue=k(T(q-X,0)),ae=0;X<q;X++,ae++)x(ue,ae,R[X]);return ue.length=ae,ue}},function(E,M,s){var O=s(7),d=s(62),S=s(35),x=s(32),k=s(89),T=s(140),R=s(43),L=s(58),z=s(141),F=s(115),X=s(142),q=O.TypeError,ue=function(de,be){this.stopped=de,this.result=be},ae=ue.prototype;E.exports=function(de,be,pe){var $,ee,H,re,ce,ve,_e,Z=pe&&pe.that,oe=!(!pe||!pe.AS_ENTRIES),Q=!(!pe||!pe.IS_ITERATOR),I=!(!pe||!pe.INTERRUPTED),ie=d(be,Z),te=function(we){return $&&X($,"normal",we),new ue(!0,we)},K=function(we){return oe?(x(we),I?ie(we[0],we[1],te):ie(we[0],we[1])):I?ie(we,te):ie(we)};if(Q)$=de;else{if(!(ee=F(de)))throw q(k(de)+" is not iterable");if(T(ee)){for(H=0,re=R(de);re>H;H++)if((ce=K(de[H]))&&L(ae,ce))return ce;return new ue(!1)}$=z(de,ee)}for(ve=$.next;!(_e=S(ve,$)).done;){try{ce=K(_e.value)}catch(we){X($,"throw",we)}if(typeof ce=="object"&&ce&&L(ae,ce))return ce}return new ue(!1)}},function(E,M,s){var O=s(98),d=s(59),S=s(70),x=s(27)("iterator");E.exports=function(k){if(k!=null)return d(k,x)||d(k,"@@iterator")||S[O(k)]}},function(E,M,s){var O={};O[s(27)("toStringTag")]="z",E.exports=String(O)==="[object z]"},function(E,M,s){var O=s(7),d=s(58),S=O.TypeError;E.exports=function(x,k){if(d(k,x))return x;throw S("Incorrect invocation")}},function(E,M,s){var O=s(27)("iterator"),d=!1;try{var S=0,x={next:function(){return{done:!!S++}},return:function(){d=!0}};x[O]=function(){return this},Array.from(x,function(){throw 2})}catch(k){}E.exports=function(k,T){if(!T&&!d)return!1;var R=!1;try{var L={};L[O]=function(){return{next:function(){return{done:R=!0}}}},k(L)}catch(z){}return R}},function(E,M,s){var O=s(180);E.exports=function(d,S){return new(O(d))(S===0?0:S)}},function(E,M,s){"use strict";var O=s(18);E.exports=function(d,S){var x=[][d];return!!x&&O(function(){x.call(null,S||function(){throw 1},1)})}},function(E,M){E.exports=function(s){if(!s.webpackPolyfill){var O=Object.create(s);O.children||(O.children=[]),Object.defineProperty(O,"loaded",{enumerable:!0,get:function(){return O.l}}),Object.defineProperty(O,"id",{enumerable:!0,get:function(){return O.i}}),Object.defineProperty(O,"exports",{enumerable:!0}),O.webpackPolyfill=1}return O}},function(E,M,s){"use strict";s(19);var O=s(15),d=s(44),S=s(102),x=s(18),k=s(27),T=s(57),R=k("species"),L=RegExp.prototype;E.exports=function(z,F,X,q){var ue=k(z),ae=!x(function(){var $={};return $[ue]=function(){return 7},""[z]($)!=7}),de=ae&&!x(function(){var $=!1,ee=/a/;return z==="split"&&((ee={}).constructor={},ee.constructor[R]=function(){return ee},ee.flags="",ee[ue]=/./[ue]),ee.exec=function(){return $=!0,null},ee[ue](""),!$});if(!ae||!de||X){var be=O(/./[ue]),pe=F(ue,""[z],function($,ee,H,re,ce){var ve=O($),_e=ee.exec;return _e===S||_e===L.exec?ae&&!ce?{done:!0,value:be(ee,H,re)}:{done:!0,value:ve(H,ee,re)}:{done:!1}});d(String.prototype,z,pe[0]),d(L,ue,pe[1])}q&&T(L[ue],"sham",!0)}},function(E,M,s){"use strict";var O=s(146).charAt;E.exports=function(d,S,x){return S+(x?O(d,S).length:1)}},function(E,M,s){var O=s(7),d=s(35),S=s(32),x=s(28),k=s(50),T=s(102),R=O.TypeError;E.exports=function(L,z){var F=L.exec;if(x(F)){var X=d(F,L,z);return X!==null&&S(X),X}if(k(L)==="RegExp")return d(T,L,z);throw R("RegExp#exec called on incompatible receiver")}},function(E,M,s){"use strict";var O=s(76),d=s(35),S=s(15),x=s(122),k=s(18),T=s(32),R=s(28),L=s(68),z=s(90),F=s(40),X=s(45),q=s(123),ue=s(59),ae=s(197),de=s(124),be=s(27)("replace"),pe=Math.max,$=Math.min,ee=S([].concat),H=S([].push),re=S("".indexOf),ce=S("".slice),ve="a".replace(/./,"$0")==="$0",_e=!!/./[be]&&/./[be]("a","$0")==="";x("replace",function(Z,oe,Q){var I=_e?"$":"$0";return[function(ie,te){var K=X(this),we=ie==null?void 0:ue(ie,be);return we?d(we,ie,K,te):d(oe,F(K),ie,te)},function(ie,te){var K=T(this),we=F(ie);if(typeof te=="string"&&re(te,I)===-1&&re(te,"$<")===-1){var Ee=Q(oe,K,we,te);if(Ee.done)return Ee.value}var Re=R(te);Re||(te=F(te));var Ge=K.global;if(Ge){var tt=K.unicode;K.lastIndex=0}for(var Fe=[];;){var Xe=de(K,we);if(Xe===null||(H(Fe,Xe),!Ge))break;F(Xe[0])===""&&(K.lastIndex=q(we,z(K.lastIndex),tt))}for(var at,se="",ne=0,ge=0;ge<Fe.length;ge++){for(var Te=F((Xe=Fe[ge])[0]),He=pe($(L(Xe.index),we.length),0),Ce=[],st=1;st<Xe.length;st++)H(Ce,(at=Xe[st])===void 0?at:String(at));var ht=Xe.groups;if(Re){var pt=ee([Te],Ce,He,we);ht!==void 0&&H(pt,ht);var nt=F(O(te,void 0,pt))}else nt=ae(Te,we,He,Ce,ht,te);He>=ne&&(se+=ce(we,ne,He)+nt,ne=He+Te.length)}return se+ce(we,ne)}]},!!k(function(){var Z=/./;return Z.exec=function(){var oe=[];return oe.groups={a:"7"},oe},"".replace(Z,"$<a>")!=="7"})||!ve||_e)},function(E,M,s){var O=s(50),d=s(7);E.exports=O(d.process)=="process"},function(E,M,s){s(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(E,M,s){var O=s(109);E.exports=O&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(E,M,s){var O=s(36),d=s(18),S=s(86);E.exports=!O&&!d(function(){return Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a!=7})},function(E,M,s){var O=s(7),d=s(35),S=s(33),x=s(88),k=s(59),T=s(169),R=s(27),L=O.TypeError,z=R("toPrimitive");E.exports=function(F,X){if(!S(F)||x(F))return F;var q,ue=k(F,z);if(ue){if(X===void 0&&(X="default"),q=d(ue,F,X),!S(q)||x(q))return q;throw L("Can't convert object to primitive value")}return X===void 0&&(X="number"),T(F,X)}},function(E,M,s){var O=s(15),d=s(34),S=s(39),x=s(132).indexOf,k=s(69),T=O([].push);E.exports=function(R,L){var z,F=S(R),X=0,q=[];for(z in F)!d(k,z)&&d(F,z)&&T(q,z);for(;L.length>X;)d(F,z=L[X++])&&(~x(q,z)||T(q,z));return q}},function(E,M,s){var O=s(39),d=s(67),S=s(43),x=function(k){return function(T,R,L){var z,F=O(T),X=S(F),q=d(L,X);if(k&&R!=R){for(;X>q;)if((z=F[q++])!=z)return!0}else for(;X>q;q++)if((k||q in F)&&F[q]===R)return k||q||0;return!k&&-1}};E.exports={includes:x(!0),indexOf:x(!1)}},function(E,M,s){var O=s(46);E.exports=O("document","documentElement")},function(E,M,s){var O=s(34),d=s(135),S=s(51),x=s(37);E.exports=function(k,T){for(var R=d(T),L=x.f,z=S.f,F=0;F<R.length;F++){var X=R[F];O(k,X)||L(k,X,z(T,X))}}},function(E,M,s){var O=s(46),d=s(15),S=s(72),x=s(112),k=s(32),T=d([].concat);E.exports=O("Reflect","ownKeys")||function(R){var L=S.f(k(R)),z=x.f;return z?T(L,z(R)):L}},function(E,M,s){"use strict";var O,d,S,x=s(18),k=s(28),T=s(54),R=s(96),L=s(44),z=s(27),F=s(64),X=z("iterator"),q=!1;[].keys&&("next"in(S=[].keys())?(d=R(R(S)))!==Object.prototype&&(O=d):q=!0),O==null||x(function(){var ue={};return O[X].call(ue)!==ue})?O={}:F&&(O=T(O)),k(O[X])||L(O,X,function(){return this}),E.exports={IteratorPrototype:O,BUGGY_SAFARI_ITERATORS:q}},function(E,M,s){var O=s(18);E.exports=!O(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(E,M,s){var O=s(16),d=s(15),S=s(69),x=s(33),k=s(34),T=s(37).f,R=s(72),L=s(139),z=s(174),F=s(85),X=s(176),q=!1,ue=F("meta"),ae=0,de=function(pe){T(pe,ue,{value:{objectID:"O"+ae++,weakData:{}}})},be=E.exports={enable:function(){be.enable=function(){},q=!0;var pe=R.f,$=d([].splice),ee={};ee[ue]=1,pe(ee).length&&(R.f=function(H){for(var re=pe(H),ce=0,ve=re.length;ce<ve;ce++)if(re[ce]===ue){$(re,ce,1);break}return re},O({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:L.f}))},fastKey:function(pe,$){if(!x(pe))return typeof pe=="symbol"?pe:(typeof pe=="string"?"S":"P")+pe;if(!k(pe,ue)){if(!z(pe))return"F";if(!$)return"E";de(pe)}return pe[ue].objectID},getWeakData:function(pe,$){if(!k(pe,ue)){if(!z(pe))return!0;if(!$)return!1;de(pe)}return pe[ue].weakData},onFreeze:function(pe){return X&&q&&z(pe)&&!k(pe,ue)&&de(pe),pe}};S[ue]=!0},function(E,M,s){var O=s(50),d=s(39),S=s(72).f,x=s(113),k=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];E.exports.f=function(T){return k&&O(T)=="Window"?function(R){try{return S(R)}catch(L){return x(k)}}(T):S(d(T))}},function(E,M,s){var O=s(27),d=s(70),S=O("iterator"),x=Array.prototype;E.exports=function(k){return k!==void 0&&(d.Array===k||x[S]===k)}},function(E,M,s){var O=s(7),d=s(35),S=s(55),x=s(32),k=s(89),T=s(115),R=O.TypeError;E.exports=function(L,z){var F=arguments.length<2?T(L):z;if(S(F))return x(d(F,L));throw R(k(L)+" is not iterable")}},function(E,M,s){var O=s(35),d=s(32),S=s(59);E.exports=function(x,k,T){var R,L;d(x);try{if(!(R=S(x,"return"))){if(k==="throw")throw T;return T}R=O(R,x)}catch(z){L=!0,R=z}if(k==="throw")throw T;if(L)throw R;return d(R),T}},function(E,M,s){var O=s(28),d=s(33),S=s(97);E.exports=function(x,k,T){var R,L;return S&&O(R=k.constructor)&&R!==T&&d(L=R.prototype)&&L!==T.prototype&&S(x,L),x}},function(E,M,s){var O=s(44);E.exports=function(d,S,x){for(var k in S)O(d,k,S[k],x);return d}},function(E,M,s){"use strict";var O=s(46),d=s(37),S=s(27),x=s(36),k=S("species");E.exports=function(T){var R=O(T),L=d.f;x&&R&&!R[k]&&L(R,k,{configurable:!0,get:function(){return this}})}},function(E,M,s){var O=s(15),d=s(68),S=s(40),x=s(45),k=O("".charAt),T=O("".charCodeAt),R=O("".slice),L=function(z){return function(F,X){var q,ue,ae=S(x(F)),de=d(X),be=ae.length;return de<0||de>=be?z?"":void 0:(q=T(ae,de))<55296||q>56319||de+1===be||(ue=T(ae,de+1))<56320||ue>57343?z?k(ae,de):q:z?R(ae,de,de+2):ue-56320+(q-55296<<10)+65536}};E.exports={codeAt:L(!1),charAt:L(!0)}},function(E,M){E.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(E,M,s){var O=s(86)("span").classList,d=O&&O.constructor&&O.constructor.prototype;E.exports=d===Object.prototype?void 0:d},function(E,M,s){var O=s(27);M.f=O},function(E,M,s){var O=s(181),d=s(34),S=s(149),x=s(37).f;E.exports=function(k){var T=O.Symbol||(O.Symbol={});d(T,k)||x(T,k,{value:S.f(k)})}},function(E,M,s){var O=s(18),d=s(7).RegExp,S=O(function(){var T=d("a","y");return T.lastIndex=2,T.exec("abcd")!=null}),x=S||O(function(){return!d("a","y").sticky}),k=S||O(function(){var T=d("^r","gy");return T.lastIndex=2,T.exec("str")!=null});E.exports={BROKEN_CARET:k,MISSED_STICKY:x,UNSUPPORTED_Y:S}},function(E,M,s){"use strict";var O=s(16),d=s(132).includes,S=s(83);O({target:"Array",proto:!0},{includes:function(x){return d(this,x,arguments.length>1?arguments[1]:void 0)}}),S("includes")},function(E,M,s){"use strict";var O=s(16),d=s(15),S=s(193),x=s(45),k=s(40),T=s(194),R=d("".indexOf);O({target:"String",proto:!0,forced:!T("includes")},{includes:function(L){return!!~R(k(x(this)),k(S(L)),arguments.length>1?arguments[1]:void 0)}})},function(E,M,s){var O=s(33),d=s(50),S=s(27)("match");E.exports=function(x){var k;return O(x)&&((k=x[S])!==void 0?!!k:d(x)=="RegExp")}},function(E,M){var s,O,d=E.exports={};function S(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function k(ae){if(s===setTimeout)return setTimeout(ae,0);if((s===S||!s)&&setTimeout)return s=setTimeout,setTimeout(ae,0);try{return s(ae,0)}catch(de){try{return s.call(null,ae,0)}catch(be){return s.call(this,ae,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:S}catch(ae){s=S}try{O=typeof clearTimeout=="function"?clearTimeout:x}catch(ae){O=x}})();var T,R=[],L=!1,z=-1;function F(){L&&T&&(L=!1,T.length?R=T.concat(R):z=-1,R.length&&X())}function X(){if(!L){var ae=k(F);L=!0;for(var de=R.length;de;){for(T=R,R=[];++z<de;)T&&T[z].run();z=-1,de=R.length}T=null,L=!1,function(be){if(O===clearTimeout)return clearTimeout(be);if((O===x||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(be);try{O(be)}catch(pe){try{return O.call(null,be)}catch($){return O.call(this,be)}}}(ae)}}function q(ae,de){this.fun=ae,this.array=de}function ue(){}d.nextTick=function(ae){var de=new Array(arguments.length-1);if(arguments.length>1)for(var be=1;be<arguments.length;be++)de[be-1]=arguments[be];R.push(new q(ae,de)),R.length!==1||L||k(X)},q.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=ue,d.addListener=ue,d.once=ue,d.off=ue,d.removeListener=ue,d.removeAllListeners=ue,d.emit=ue,d.prependListener=ue,d.prependOnceListener=ue,d.listeners=function(ae){return[]},d.binding=function(ae){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(ae){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(E,M,s){var O=s(32),d=s(157),S=s(27)("species");E.exports=function(x,k){var T,R=O(x).constructor;return R===void 0||(T=O(R)[S])==null?k:d(T)}},function(E,M,s){var O=s(7),d=s(100),S=s(89),x=O.TypeError;E.exports=function(k){if(d(k))return k;throw x(S(k)+" is not a constructor")}},function(E,M,s){"use strict";var O=s(16),d=s(159).trim;O({target:"String",proto:!0,forced:s(195)("trim")},{trim:function(){return d(this)}})},function(E,M,s){var O=s(15),d=s(45),S=s(40),x=s(160),k=O("".replace),T="["+x+"]",R=RegExp("^"+T+T+"*"),L=RegExp(T+T+"*$"),z=function(F){return function(X){var q=S(d(X));return 1&F&&(q=k(q,R,"")),2&F&&(q=k(q,L,"")),q}};E.exports={start:z(1),end:z(2),trim:z(3)}},function(E,M){E.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(E,M,s){"use strict";var O=s(35),d=s(122),S=s(32),x=s(90),k=s(40),T=s(45),R=s(59),L=s(123),z=s(124);d("match",function(F,X,q){return[function(ue){var ae=T(this),de=ue==null?void 0:R(ue,F);return de?O(de,ue,ae):new RegExp(ue)[F](k(ae))},function(ue){var ae=S(this),de=k(ue),be=q(X,ae,de);if(be.done)return be.value;if(!ae.global)return z(ae,de);var pe=ae.unicode;ae.lastIndex=0;for(var $,ee=[],H=0;($=z(ae,de))!==null;){var re=k($[0]);ee[H]=re,re===""&&(ae.lastIndex=L(de,x(ae.lastIndex),pe)),H++}return H===0?null:ee}]})},function(E,M,s){var O,d,S,x,k=s(7),T=s(76),R=s(62),L=s(28),z=s(34),F=s(18),X=s(133),q=s(101),ue=s(86),ae=s(163),de=s(126),be=k.setImmediate,pe=k.clearImmediate,$=k.process,ee=k.Dispatch,H=k.Function,re=k.MessageChannel,ce=k.String,ve=0,_e={},Z="onreadystatechange";try{O=k.location}catch(te){}var oe=function(te){if(z(_e,te)){var K=_e[te];delete _e[te],K()}},Q=function(te){return function(){oe(te)}},I=function(te){oe(te.data)},ie=function(te){k.postMessage(ce(te),O.protocol+"//"+O.host)};be&&pe||(be=function(te){var K=q(arguments,1);return _e[++ve]=function(){T(L(te)?te:H(te),void 0,K)},d(ve),ve},pe=function(te){delete _e[te]},de?d=function(te){$.nextTick(Q(te))}:ee&&ee.now?d=function(te){ee.now(Q(te))}:re&&!ae?(x=(S=new re).port2,S.port1.onmessage=I,d=R(x.postMessage,x)):k.addEventListener&&L(k.postMessage)&&!k.importScripts&&O&&O.protocol!=="file:"&&!F(ie)?(d=ie,k.addEventListener("message",I,!1)):d=Z in ue("script")?function(te){X.appendChild(ue("script")).onreadystatechange=function(){X.removeChild(this),oe(te)}}:function(te){setTimeout(Q(te),0)}),E.exports={set:be,clear:pe}},function(E,M,s){var O=s(53);E.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(O)},function(E,M,s){"use strict";var O=s(55),d=function(S){var x,k;this.promise=new S(function(T,R){if(x!==void 0||k!==void 0)throw TypeError("Bad Promise constructor");x=T,k=R}),this.resolve=O(x),this.reject=O(k)};E.exports.f=function(S){return new d(S)}},function(E,M,s){"use strict";M.a=function(){return!1}},function(E,M,s){"use strict";(function(O){s.d(M,"a",function(){return $});var d=s(0);function S(Z){throw new Error("[mobx-utils] "+Z)}function x(Z,oe){oe===void 0&&(oe="Illegal state"),Z||S(oe)}var k=function(Z){return Z&&Z!==Object.prototype&&Object.getOwnPropertyNames(Z).concat(k(Object.getPrototypeOf(Z))||[])},T=function(Z){return function(oe){var Q=k(oe);return Q.filter(function(I,ie){return Q.indexOf(I)===ie})}(Z).filter(function(oe){return oe!=="constructor"&&!~oe.indexOf("__")})},R="pending",L="fulfilled",z="rejected";function F(Z){switch(this.state){case R:return Z.pending&&Z.pending(this.value);case z:return Z.rejected&&Z.rejected(this.value);case L:return Z.fulfilled?Z.fulfilled(this.value):this.value}}function X(Z,oe){if(x(arguments.length<=2,"fromPromise expects up to two arguments"),x(typeof Z=="function"||typeof Z=="object"&&Z&&typeof Z.then=="function","Please pass a promise or function to fromPromise"),Z.isPromiseBasedObservable===!0)return Z;typeof Z=="function"&&(Z=new Promise(Z));var Q=Z;Z.then(Object(d.k)("observableFromPromise-resolve",function(ie){Q.value=ie,Q.state=L}),Object(d.k)("observableFromPromise-reject",function(ie){Q.value=ie,Q.state=z})),Q.isPromiseBasedObservable=!0,Q.case=F;var I=oe&&oe.state===L?oe.value:void 0;return Object(d.q)(Q,{value:I,state:R},{},{deep:!1}),Q}(function(Z){Z.reject=Object(d.k)("fromPromise.reject",function(oe){var Q=Z(Promise.reject(oe));return Q.state=z,Q.value=oe,Q}),Z.resolve=Object(d.k)("fromPromise.resolve",function(oe){oe===void 0&&(oe=void 0);var Q=Z(Promise.resolve(oe));return Q.state=L,Q.value=oe,Q})})(X||(X={}));var q=function(Z,oe,Q,I){var ie,te=arguments.length,K=te<3?oe:I===null?I=Object.getOwnPropertyDescriptor(oe,Q):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(Z,oe,Q,I);else for(var we=Z.length-1;we>=0;we--)(ie=Z[we])&&(K=(te<3?ie(K):te>3?ie(oe,Q,K):ie(oe,Q))||K);return te>3&&K&&Object.defineProperty(oe,Q,K),K};(function(){function Z(oe,Q){var I=this;Object(d.G)(function(){I.current=Q,I.subscription=oe.subscribe(I)})}Z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},Z.prototype.next=function(oe){this.current=oe},Z.prototype.complete=function(){this.dispose()},Z.prototype.error=function(oe){this.current=oe,this.dispose()},q([d.C.ref],Z.prototype,"current",void 0),q([d.k.bound],Z.prototype,"next",null),q([d.k.bound],Z.prototype,"complete",null),q([d.k.bound],Z.prototype,"error",null)})();var ue=function(){return ue=Object.assign||function(Z){for(var oe,Q=1,I=arguments.length;Q<I;Q++)for(var ie in oe=arguments[Q])Object.prototype.hasOwnProperty.call(oe,ie)&&(Z[ie]=oe[ie]);return Z},ue.apply(this,arguments)},ae=function(Z,oe,Q,I){var ie,te=arguments.length,K=te<3?oe:I===null?I=Object.getOwnPropertyDescriptor(oe,Q):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(Z,oe,Q,I);else for(var we=Z.length-1;we>=0;we--)(ie=Z[we])&&(K=(te<3?ie(K):te>3?ie(oe,Q,K):ie(oe,Q))||K);return te>3&&K&&Object.defineProperty(oe,Q,K),K},de=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function Z(oe){var Q=this;this.model=oe,this.localValues=d.C.map({}),this.localComputedValues=d.C.map({}),this.isPropertyDirty=function(I){return Q.localValues.has(I)},x(Object(d.A)(oe),"createViewModel expects an observable object"),T(oe).forEach(function(I){if(I!==d.a&&I!=="__mobxDidRunLazyInitializers"){if(x(de.indexOf(I)===-1,"The propertyname "+I+" is reserved and cannot be used with viewModels"),Object(d.w)(oe,I)){var ie=Object(d.h)(oe,I).derivation;Q.localComputedValues.set(I,Object(d.m)(ie.bind(Q)))}var te=Object.getOwnPropertyDescriptor(oe,I),K=te?{enumerable:te.enumerable}:{};Object.defineProperty(Q,I,ue(ue({},K),{configurable:!0,get:function(){return Object(d.w)(oe,I)?Q.localComputedValues.get(I).get():Q.isPropertyDirty(I)?Q.localValues.get(I):Q.model[I]},set:Object(d.k)(function(we){we!==Q.model[I]?Q.localValues.set(I,we):Q.localValues.delete(I)})}))}})}Object.defineProperty(Z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),Z.prototype.submit=function(){var oe=this;Object(d.B)(this.localValues).forEach(function(Q){var I=oe.localValues.get(Q),ie=oe.model[Q];Object(d.y)(ie)?ie.replace(I):Object(d.z)(ie)?(ie.clear(),ie.merge(I)):Object(d.v)(I)||(oe.model[Q]=I)}),this.localValues.clear()},Z.prototype.reset=function(){this.localValues.clear()},Z.prototype.resetProperty=function(oe){this.localValues.delete(oe)},ae([d.m],Z.prototype,"isDirty",null),ae([d.m],Z.prototype,"changedValues",null),ae([d.k.bound],Z.prototype,"submit",null),ae([d.k.bound],Z.prototype,"reset",null),ae([d.k.bound],Z.prototype,"resetProperty",null)})();function be(Z){if(!Z)return"ROOT";for(var oe=[];Z.parent;)oe.push(Z.path),Z=Z.parent;return oe.reverse().join("/")}function pe(Z){return Object(d.A)(Z)||Object(d.y)(Z)||Object(d.z)(Z)}function $(Z,oe){var Q=new WeakMap;function I(K){var we=Q.get(K.object);(function(Ee,Re){switch(Ee.type){case"add":ie(Ee.newValue,Re,Ee.name);break;case"update":te(Ee.oldValue),ie(Ee.newValue,Re,Ee.name||""+Ee.index);break;case"remove":case"delete":te(Ee.oldValue);break;case"splice":Ee.removed.map(te),Ee.added.forEach(function(Fe,Xe){return ie(Fe,Re,""+(Ee.index+Xe))});for(var Ge=Ee.index+Ee.addedCount;Ge<Ee.object.length;Ge++)if(pe(Ee.object[Ge])){var tt=Q.get(Ee.object[Ge]);tt&&(tt.path=""+Ge)}}})(K,we),oe(K,be(we),Z)}function ie(K,we,Ee){if(pe(K)){var Re=Q.get(K);if(Re){if(Re.parent!==we||Re.path!==Ee)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+be(we)+"/"+Ee+"', but it already exists at '"+be(Re.parent)+"/"+Re.path+"'")}else{var Ge={parent:we,path:Ee,dispose:Object(d.D)(K,I)};Q.set(K,Ge),Object(d.p)(K).forEach(function(tt){var Fe=tt[0];return ie(tt[1],Ge,Fe)})}}}function te(K){if(pe(K)){var we=Q.get(K);if(!we)return;Q.delete(K),we.dispose(),Object(d.L)(K).forEach(te)}}return ie(Z,void 0,""),function(){te(Z)}}var ee,H=(ee=function(Z,oe){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,I){Q.__proto__=I}||function(Q,I){for(var ie in I)I.hasOwnProperty(ie)&&(Q[ie]=I[ie])},ee(Z,oe)},function(Z,oe){function Q(){this.constructor=Z}ee(Z,oe),Z.prototype=oe===null?Object.create(oe):(Q.prototype=oe.prototype,new Q)}),re=(function(Z){function oe(Q,I,ie){var te=ie===void 0?{}:ie,K=te.name,we=K===void 0?"ogm"+(1e3*Math.random()|0):K,Ee=te.keyToName,Re=Ee===void 0?function(Fe){return""+Fe}:Ee,Ge=Z.call(this)||this;Ge._keyToName=Re,Ge._groupBy=I,Ge._ogmInfoKey=Symbol("ogmInfo"+we),Ge._base=Q;for(var tt=0;tt<Q.length;tt++)Ge._addItem(Q[tt]);return Ge._disposeBaseObserver=Object(d.D)(Ge._base,function(Fe){if(Fe.type==="splice")Object(d.J)(function(){for(var Xe=0,at=Fe.removed;Xe<at.length;Xe++){var se=at[Xe];Ge._removeItem(se)}for(var ne=0,ge=Fe.added;ne<ge.length;ne++){var Te=ge[ne];Ge._addItem(Te)}});else{if(Fe.type!=="update")throw new Error("illegal state");Object(d.J)(function(){Ge._removeItem(Fe.oldValue),Ge._addItem(Fe.newValue)})}}),Ge}H(oe,Z),oe.prototype.clear=function(){throw new Error("not supported")},oe.prototype.delete=function(Q){throw new Error("not supported")},oe.prototype.set=function(Q,I){throw new Error("not supported")},oe.prototype.dispose=function(){this._disposeBaseObserver();for(var Q=0;Q<this._base.length;Q++){var I=this._base[Q];I[this._ogmInfoKey].reaction(),delete I[this._ogmInfoKey]}},oe.prototype._getGroupArr=function(Q){var I=Z.prototype.get.call(this,Q);return I===void 0&&(I=Object(d.C)([],{name:"GroupArray["+this._keyToName(Q)+"]",deep:!1}),Z.prototype.set.call(this,Q,I)),I},oe.prototype._removeFromGroupArr=function(Q,I){var ie=Z.prototype.get.call(this,Q);ie.length===1?Z.prototype.delete.call(this,Q):(I===ie.length-1||(ie[I]=ie[ie.length-1],ie[I][this._ogmInfoKey].groupArrIndex=I),ie.length--)},oe.prototype._addItem=function(Q){var I=this,ie=this._groupBy(Q),te=this._getGroupArr(ie),K={groupByValue:ie,groupArrIndex:te.length,reaction:Object(d.F)(function(){return I._groupBy(Q)},function(we,Ee){var Re=Q[I._ogmInfoKey];I._removeFromGroupArr(Re.groupByValue,Re.groupArrIndex);var Ge=I._getGroupArr(we),tt=Ge.length;Ge.push(Q),Re.groupByValue=we,Re.groupArrIndex=tt})};Object.defineProperty(Q,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:K}),te.push(Q)},oe.prototype._removeItem=function(Q){var I=Q[this._ogmInfoKey];this._removeFromGroupArr(I.groupByValue,I.groupArrIndex),I.reaction(),delete Q[this._ogmInfoKey]}}(d.b),function(){function Z(oe,Q){this.base=oe,this.args=Q,this.closestIdx=0,this.isDisposed=!1;for(var I=this.closest=this.root=oe,ie=0;ie<this.args.length-1&&(I=I.get(Q[ie]));ie++)this.closest=I;this.closestIdx=ie}return Z.prototype.exists=function(){this.assertNotDisposed();var oe=this.args.length;return this.closestIdx>=oe-1&&this.closest.has(this.args[oe-1])},Z.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},Z.prototype.set=function(oe){this.assertNotDisposed();for(var Q=this.args.length,I=this.closest,ie=this.closestIdx;ie<Q-1;ie++){var te=new Map;I.set(this.args[ie],te),I=te}this.closestIdx=Q-1,this.closest=I,I.set(this.args[Q-1],oe)},Z.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var oe=this.args.length;this.closest.delete(this.args[oe-1]);for(var Q=this.root,I=[Q],ie=0;ie<oe-1;ie++)Q=Q.get(this.args[ie]),I.push(Q);for(ie=I.length-1;ie>0;ie--)I[ie].size===0&&I[ie-1].delete(this.args[ie-1]);this.isDisposed=!0},Z.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},Z}());(function(){function Z(){this.store=new Map,this.argsLength=-1}Z.prototype.entry=function(oe){if(this.argsLength===-1)this.argsLength=oe.length;else if(this.argsLength!==oe.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+oe.length);return this.last&&(this.last.isDisposed=!0),this.last=new re(this.store,oe)}})(),new Set,new Set;var ce,ve=Promise.resolve();ce=typeof queueMicrotask!="undefined"?queueMicrotask:O!==void 0&&O.nextTick?function(Z){O.nextTick(Z)}:function(Z){setTimeout(Z,0)};var _e=function(){return new Promise(function(Z){ce(Z)})}}).call(this,s(155))},function(E,M,s){var O;(function(d,S,x){if(d){for(var k,T={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},R={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},L={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},z={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},F=1;F<20;++F)T[111+F]="f"+F;for(F=0;F<=9;++F)T[F+96]=F.toString();pe.prototype.bind=function($,ee,H){var re=this;return $=$ instanceof Array?$:[$],re._bindMultiple.call(re,$,ee,H),re},pe.prototype.unbind=function($,ee){return this.bind.call(this,$,function(){},ee)},pe.prototype.trigger=function($,ee){var H=this;return H._directMap[$+":"+ee]&&H._directMap[$+":"+ee]({},$),H},pe.prototype.reset=function(){var $=this;return $._callbacks={},$._directMap={},$},pe.prototype.stopCallback=function($,ee){if((" "+ee.className+" ").indexOf(" mousetrap ")>-1||be(ee,this.target))return!1;if("composedPath"in $&&typeof $.composedPath=="function"){var H=$.composedPath()[0];H!==$.target&&(ee=H)}return ee.tagName=="INPUT"||ee.tagName=="SELECT"||ee.tagName=="TEXTAREA"||ee.isContentEditable},pe.prototype.handleKey=function(){var $=this;return $._handleKey.apply($,arguments)},pe.addKeycodes=function($){for(var ee in $)$.hasOwnProperty(ee)&&(T[ee]=$[ee]);k=null},pe.init=function(){var $=pe(S);for(var ee in $)ee.charAt(0)!=="_"&&(pe[ee]=function(H){return function(){return $[H].apply($,arguments)}}(ee))},pe.init(),d.Mousetrap=pe,E.exports&&(E.exports=pe),(O=function(){return pe}.call(M,s,M,E))===void 0||(E.exports=O)}function X($,ee,H){$.addEventListener?$.addEventListener(ee,H,!1):$.attachEvent("on"+ee,H)}function q($){if($.type=="keypress"){var ee=String.fromCharCode($.which);return $.shiftKey||(ee=ee.toLowerCase()),ee}return T[$.which]?T[$.which]:R[$.which]?R[$.which]:String.fromCharCode($.which).toLowerCase()}function ue($){return $=="shift"||$=="ctrl"||$=="alt"||$=="meta"}function ae($,ee,H){return H||(H=function(){if(!k)for(var re in k={},T)re>95&&re<112||T.hasOwnProperty(re)&&(k[T[re]]=re);return k}()[$]?"keydown":"keypress"),H=="keypress"&&ee.length&&(H="keydown"),H}function de($,ee){var H,re,ce,ve=[];for(H=function(_e){return _e==="+"?["+"]:(_e=_e.replace(/\+{2}/g,"+plus")).split("+")}($),ce=0;ce<H.length;++ce)re=H[ce],z[re]&&(re=z[re]),ee&&ee!="keypress"&&L[re]&&(re=L[re],ve.push("shift")),ue(re)&&ve.push(re);return{key:re,modifiers:ve,action:ee=ae(re,ve,ee)}}function be($,ee){return $!==null&&$!==S&&($===ee||be($.parentNode,ee))}function pe($){var ee=this;if($=$||S,!(ee instanceof pe))return new pe($);ee.target=$,ee._callbacks={},ee._directMap={};var H,re={},ce=!1,ve=!1,_e=!1;function Z(K){K=K||{};var we,Ee=!1;for(we in re)K[we]?Ee=!0:re[we]=0;Ee||(_e=!1)}function oe(K,we,Ee,Re,Ge,tt){var Fe,Xe,at,se,ne=[],ge=Ee.type;if(!ee._callbacks[K])return[];for(ge=="keyup"&&ue(K)&&(we=[K]),Fe=0;Fe<ee._callbacks[K].length;++Fe)if(Xe=ee._callbacks[K][Fe],(Re||!Xe.seq||re[Xe.seq]==Xe.level)&&ge==Xe.action&&(ge=="keypress"&&!Ee.metaKey&&!Ee.ctrlKey||(at=we,se=Xe.modifiers,at.sort().join(",")===se.sort().join(",")))){var Te=!Re&&Xe.combo==Ge,He=Re&&Xe.seq==Re&&Xe.level==tt;(Te||He)&&ee._callbacks[K].splice(Fe,1),ne.push(Xe)}return ne}function Q(K,we,Ee,Re){ee.stopCallback(we,we.target||we.srcElement,Ee,Re)||K(we,Ee)===!1&&(function(Ge){Ge.preventDefault?Ge.preventDefault():Ge.returnValue=!1}(we),function(Ge){Ge.stopPropagation?Ge.stopPropagation():Ge.cancelBubble=!0}(we))}function I(K){typeof K.which!="number"&&(K.which=K.keyCode);var we=q(K);we&&(K.type!="keyup"||ce!==we?ee.handleKey(we,function(Ee){var Re=[];return Ee.shiftKey&&Re.push("shift"),Ee.altKey&&Re.push("alt"),Ee.ctrlKey&&Re.push("ctrl"),Ee.metaKey&&Re.push("meta"),Re}(K),K):ce=!1)}function ie(K,we,Ee,Re){function Ge(at){return function(){_e=at,++re[K],clearTimeout(H),H=setTimeout(Z,1e3)}}function tt(at){Q(Ee,at,K),Re!=="keyup"&&(ce=q(at)),setTimeout(Z,10)}re[K]=0;for(var Fe=0;Fe<we.length;++Fe){var Xe=Fe+1===we.length?tt:Ge(Re||de(we[Fe+1]).action);te(we[Fe],Xe,Re,K,Fe)}}function te(K,we,Ee,Re,Ge){ee._directMap[K+":"+Ee]=we;var tt,Fe=(K=K.replace(/\s+/g," ")).split(" ");Fe.length>1?ie(K,Fe,we,Ee):(tt=de(K,Ee),ee._callbacks[tt.key]=ee._callbacks[tt.key]||[],oe(tt.key,tt.modifiers,{type:tt.action},Re,K,Ge),ee._callbacks[tt.key][Re?"unshift":"push"]({callback:we,modifiers:tt.modifiers,action:tt.action,seq:Re,level:Ge,combo:K}))}ee._handleKey=function(K,we,Ee){var Re,Ge=oe(K,we,Ee),tt={},Fe=0,Xe=!1;for(Re=0;Re<Ge.length;++Re)Ge[Re].seq&&(Fe=Math.max(Fe,Ge[Re].level));for(Re=0;Re<Ge.length;++Re)if(Ge[Re].seq){if(Ge[Re].level!=Fe)continue;Xe=!0,tt[Ge[Re].seq]=1,Q(Ge[Re].callback,Ee,Ge[Re].combo,Ge[Re].seq)}else Xe||Q(Ge[Re].callback,Ee,Ge[Re].combo);var at=Ee.type=="keypress"&&ve;Ee.type!=_e||ue(K)||at||Z(tt),ve=Xe&&Ee.type=="keydown"},ee._bindMultiple=function(K,we,Ee){for(var Re=0;Re<K.length;++Re)te(K[Re],we,Ee)},X($,"keypress",I),X($,"keydown",I),X($,"keyup",I)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(E,M,s){var O=s(36),d=s(37),S=s(32),x=s(39),k=s(66);E.exports=O?Object.defineProperties:function(T,R){S(T);for(var L,z=x(R),F=k(R),X=F.length,q=0;X>q;)d.f(T,L=F[q++],z[L]);return T}},function(E,M,s){var O=s(7),d=s(35),S=s(28),x=s(33),k=O.TypeError;E.exports=function(T,R){var L,z;if(R==="string"&&S(L=T.toString)&&!x(z=d(L,T))||S(L=T.valueOf)&&!x(z=d(L,T))||R!=="string"&&S(L=T.toString)&&!x(z=d(L,T)))return z;throw k("Can't convert object to primitive value")}},function(E,M,s){var O=s(7),d=s(28),S=s(92),x=O.WeakMap;E.exports=d(x)&&/native code/.test(S(x))},function(E,M,s){"use strict";var O=s(136).IteratorPrototype,d=s(54),S=s(71),x=s(73),k=s(70),T=function(){return this};E.exports=function(R,L,z,F){var X=L+" Iterator";return R.prototype=d(O,{next:S(+!F,z)}),x(R,X,!1,!0),k[X]=T,R}},function(E,M,s){var O=s(7),d=s(28),S=O.String,x=O.TypeError;E.exports=function(k){if(typeof k=="object"||d(k))return k;throw x("Can't set "+S(k)+" as a prototype")}},function(E,M,s){"use strict";var O=s(16),d=s(7),S=s(15),x=s(95),k=s(44),T=s(138),R=s(114),L=s(117),z=s(28),F=s(33),X=s(18),q=s(118),ue=s(73),ae=s(143);E.exports=function(de,be,pe){var $=de.indexOf("Map")!==-1,ee=de.indexOf("Weak")!==-1,H=$?"set":"add",re=d[de],ce=re&&re.prototype,ve=re,_e={},Z=function(K){var we=S(ce[K]);k(ce,K,K=="add"?function(Ee){return we(this,Ee===0?0:Ee),this}:K=="delete"?function(Ee){return!(ee&&!F(Ee))&&we(this,Ee===0?0:Ee)}:K=="get"?function(Ee){return ee&&!F(Ee)?void 0:we(this,Ee===0?0:Ee)}:K=="has"?function(Ee){return!(ee&&!F(Ee))&&we(this,Ee===0?0:Ee)}:function(Ee,Re){return we(this,Ee===0?0:Ee,Re),this})};if(x(de,!z(re)||!(ee||ce.forEach&&!X(function(){new re().entries().next()}))))ve=pe.getConstructor(be,de,$,H),T.enable();else if(x(de,!0)){var oe=new ve,Q=oe[H](ee?{}:-0,1)!=oe,I=X(function(){oe.has(1)}),ie=q(function(K){new re(K)}),te=!ee&&X(function(){for(var K=new re,we=5;we--;)K[H](we,we);return!K.has(-0)});ie||((ve=be(function(K,we){L(K,ce);var Ee=ae(new re,K,ve);return we!=null&&R(we,Ee[H],{that:Ee,AS_ENTRIES:$}),Ee})).prototype=ce,ce.constructor=ve),(I||te)&&(Z("delete"),Z("has"),$&&Z("get")),(te||Q)&&Z(H),ee&&ce.clear&&delete ce.clear}return _e[de]=ve,O({global:!0,forced:ve!=re},_e),ue(ve,de),ee||pe.setStrong(ve,de,$),ve}},function(E,M,s){var O=s(18),d=s(33),S=s(50),x=s(175),k=Object.isExtensible,T=O(function(){k(1)});E.exports=T||x?function(R){return!!d(R)&&(!x||S(R)!="ArrayBuffer")&&(!k||k(R))}:k},function(E,M,s){var O=s(18);E.exports=O(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},function(E,M,s){var O=s(18);E.exports=!O(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(E,M,s){"use strict";var O=s(37).f,d=s(54),S=s(144),x=s(62),k=s(117),T=s(114),R=s(111),L=s(145),z=s(36),F=s(138).fastKey,X=s(56),q=X.set,ue=X.getterFor;E.exports={getConstructor:function(ae,de,be,pe){var $=ae(function(ve,_e){k(ve,ee),q(ve,{type:de,index:d(null),first:void 0,last:void 0,size:0}),z||(ve.size=0),_e!=null&&T(_e,ve[pe],{that:ve,AS_ENTRIES:be})}),ee=$.prototype,H=ue(de),re=function(ve,_e,Z){var oe,Q,I=H(ve),ie=ce(ve,_e);return ie?ie.value=Z:(I.last=ie={index:Q=F(_e,!0),key:_e,value:Z,previous:oe=I.last,next:void 0,removed:!1},I.first||(I.first=ie),oe&&(oe.next=ie),z?I.size++:ve.size++,Q!=="F"&&(I.index[Q]=ie)),ve},ce=function(ve,_e){var Z,oe=H(ve),Q=F(_e);if(Q!=="F")return oe.index[Q];for(Z=oe.first;Z;Z=Z.next)if(Z.key==_e)return Z};return S(ee,{clear:function(){for(var ve=H(this),_e=ve.index,Z=ve.first;Z;)Z.removed=!0,Z.previous&&(Z.previous=Z.previous.next=void 0),delete _e[Z.index],Z=Z.next;ve.first=ve.last=void 0,z?ve.size=0:this.size=0},delete:function(ve){var _e=this,Z=H(_e),oe=ce(_e,ve);if(oe){var Q=oe.next,I=oe.previous;delete Z.index[oe.index],oe.removed=!0,I&&(I.next=Q),Q&&(Q.previous=I),Z.first==oe&&(Z.first=Q),Z.last==oe&&(Z.last=I),z?Z.size--:_e.size--}return!!oe},forEach:function(ve){for(var _e,Z=H(this),oe=x(ve,arguments.length>1?arguments[1]:void 0);_e=_e?_e.next:Z.first;)for(oe(_e.value,_e.key,this);_e&&_e.removed;)_e=_e.previous},has:function(ve){return!!ce(this,ve)}}),S(ee,be?{get:function(ve){var _e=ce(this,ve);return _e&&_e.value},set:function(ve,_e){return re(this,ve===0?0:ve,_e)}}:{add:function(ve){return re(this,ve=ve===0?0:ve,ve)}}),z&&O(ee,"size",{get:function(){return H(this).size}}),$},setStrong:function(ae,de,be){var pe=de+" Iterator",$=ue(de),ee=ue(pe);R(ae,de,function(H,re){q(this,{type:pe,target:H,state:$(H),kind:re,last:void 0})},function(){for(var H=ee(this),re=H.kind,ce=H.last;ce&&ce.removed;)ce=ce.previous;return H.target&&(H.last=ce=ce?ce.next:H.state.first)?re=="keys"?{value:ce.key,done:!1}:re=="values"?{value:ce.value,done:!1}:{value:[ce.key,ce.value],done:!1}:(H.target=void 0,{value:void 0,done:!0})},be?"entries":"values",!be,!0),L(de)}}},function(E,M,s){"use strict";var O=s(116),d=s(98);E.exports=O?{}.toString:function(){return"[object "+d(this)+"]"}},function(E,M,s){"use strict";var O=s(74).forEach,d=s(120)("forEach");E.exports=d?[].forEach:function(S){return O(this,S,arguments.length>1?arguments[1]:void 0)}},function(E,M,s){var O=s(7),d=s(99),S=s(100),x=s(33),k=s(27)("species"),T=O.Array;E.exports=function(R){var L;return d(R)&&(L=R.constructor,(S(L)&&(L===T||d(L.prototype))||x(L)&&(L=L[k])===null)&&(L=void 0)),L===void 0?T:L}},function(E,M,s){var O=s(7);E.exports=O},function(E,M,s){"use strict";var O=s(7),d=s(62),S=s(35),x=s(38),k=s(183),T=s(140),R=s(100),L=s(43),z=s(61),F=s(141),X=s(115),q=O.Array;E.exports=function(ue){var ae=x(ue),de=R(this),be=arguments.length,pe=be>1?arguments[1]:void 0,$=pe!==void 0;$&&(pe=d(pe,be>2?arguments[2]:void 0));var ee,H,re,ce,ve,_e,Z=X(ae),oe=0;if(!Z||this==q&&T(Z))for(ee=L(ae),H=de?new this(ee):q(ee);ee>oe;oe++)_e=$?pe(ae[oe],oe):ae[oe],z(H,oe,_e);else for(ve=(ce=F(ae,Z)).next,H=de?new this:[];!(re=S(ve,ce)).done;oe++)_e=$?k(ce,pe,[re.value,oe],!0):re.value,z(H,oe,_e);return H.length=oe,H}},function(E,M,s){var O=s(32),d=s(142);E.exports=function(S,x,k,T){try{return T?x(O(k)[0],k[1]):x(k)}catch(R){d(S,"throw",R)}}},function(E,M,s){"use strict";var O=s(32);E.exports=function(){var d=O(this),S="";return d.global&&(S+="g"),d.ignoreCase&&(S+="i"),d.multiline&&(S+="m"),d.dotAll&&(S+="s"),d.unicode&&(S+="u"),d.sticky&&(S+="y"),S}},function(E,M,s){var O=s(18),d=s(7).RegExp;E.exports=O(function(){var S=d(".","s");return!(S.dotAll&&S.exec(`
`)&&S.flags==="s")})},function(E,M,s){var O=s(18),d=s(7).RegExp;E.exports=O(function(){var S=d("(?<a>b)","g");return S.exec("b").groups.a!=="b"||"b".replace(S,"$<a>c")!=="bc"})},function(E,M,s){"use strict";var O=s(16),d=s(15),S=s(55),x=s(38),k=s(43),T=s(40),R=s(18),L=s(188),z=s(120),F=s(189),X=s(190),q=s(65),ue=s(191),ae=[],de=d(ae.sort),be=d(ae.push),pe=R(function(){ae.sort(void 0)}),$=R(function(){ae.sort(null)}),ee=z("sort"),H=!R(function(){if(q)return q<70;if(!(F&&F>3)){if(X)return!0;if(ue)return ue<603;var re,ce,ve,_e,Z="";for(re=65;re<76;re++){switch(ce=String.fromCharCode(re),re){case 66:case 69:case 70:case 72:ve=3;break;case 68:case 71:ve=4;break;default:ve=2}for(_e=0;_e<47;_e++)ae.push({k:ce+_e,v:ve})}for(ae.sort(function(oe,Q){return Q.v-oe.v}),_e=0;_e<ae.length;_e++)ce=ae[_e].k.charAt(0),Z.charAt(Z.length-1)!==ce&&(Z+=ce);return Z!=="DGBEFHACIJK"}});O({target:"Array",proto:!0,forced:pe||!$||!ee||!H},{sort:function(re){re!==void 0&&S(re);var ce=x(this);if(H)return re===void 0?de(ce):de(ce,re);var ve,_e,Z=[],oe=k(ce);for(_e=0;_e<oe;_e++)_e in ce&&be(Z,ce[_e]);for(L(Z,function(Q){return function(I,ie){return ie===void 0?-1:I===void 0?1:Q!==void 0?+Q(I,ie)||0:T(I)>T(ie)?1:-1}}(re)),ve=Z.length,_e=0;_e<ve;)ce[_e]=Z[_e++];for(;_e<oe;)delete ce[_e++];return ce}})},function(E,M,s){var O=s(113),d=Math.floor,S=function(T,R){var L=T.length,z=d(L/2);return L<8?x(T,R):k(T,S(O(T,0,z),R),S(O(T,z),R),R)},x=function(T,R){for(var L,z,F=T.length,X=1;X<F;){for(z=X,L=T[X];z&&R(T[z-1],L)>0;)T[z]=T[--z];z!==X++&&(T[z]=L)}return T},k=function(T,R,L,z){for(var F=R.length,X=L.length,q=0,ue=0;q<F||ue<X;)T[q+ue]=q<F&&ue<X?z(R[q],L[ue])<=0?R[q++]:L[ue++]:q<F?R[q++]:L[ue++];return T};E.exports=S},function(E,M,s){var O=s(53).match(/firefox\/(\d+)/i);E.exports=!!O&&+O[1]},function(E,M,s){var O=s(53);E.exports=/MSIE|Trident/.test(O)},function(E,M,s){var O=s(53).match(/AppleWebKit\/(\d+)\./);E.exports=!!O&&+O[1]},function(E,M,s){"use strict";var O=s(16),d=s(74).find,S=s(83),x="find",k=!0;x in[]&&Array(1).find(function(){k=!1}),O({target:"Array",proto:!0,forced:k},{find:function(T){return d(this,T,arguments.length>1?arguments[1]:void 0)}}),S(x)},function(E,M,s){var O=s(7),d=s(154),S=O.TypeError;E.exports=function(x){if(d(x))throw S("The method doesn't accept regular expressions");return x}},function(E,M,s){var O=s(27)("match");E.exports=function(d){var S=/./;try{"/./"[d](S)}catch(x){try{return S[O]=!1,"/./"[d](S)}catch(k){}}return!1}},function(E,M,s){var O=s(94).PROPER,d=s(18),S=s(160);E.exports=function(x){return d(function(){return!!S[x]()||"\u200B\x85\u180E"[x]()!=="\u200B\x85\u180E"||O&&S[x].name!==x})}},function(E,M,s){var O=s(15);E.exports=O(1 .valueOf)},function(E,M,s){var O=s(15),d=s(38),S=Math.floor,x=O("".charAt),k=O("".replace),T=O("".slice),R=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,L=/\$([$&'`]|\d{1,2})/g;E.exports=function(z,F,X,q,ue,ae){var de=X+z.length,be=q.length,pe=L;return ue!==void 0&&(ue=d(ue),pe=R),k(ae,pe,function($,ee){var H;switch(x(ee,0)){case"$":return"$";case"&":return z;case"`":return T(F,0,X);case"'":return T(F,de);case"<":H=ue[T(ee,1,-1)];break;default:var re=+ee;if(re===0)return $;if(re>be){var ce=S(re/10);return ce===0?$:ce<=be?q[ce-1]===void 0?x(ee,1):q[ce-1]+x(ee,1):$}H=q[re-1]}return H===void 0?"":H})}},function(E,M,s){"use strict";var O=s(7),d=s(15),S=s(55),x=s(33),k=s(34),T=s(101),R=O.Function,L=d([].concat),z=d([].join),F={},X=function(q,ue,ae){if(!k(F,ue)){for(var de=[],be=0;be<ue;be++)de[be]="a["+be+"]";F[ue]=R("C,a","return new C("+z(de,",")+")")}return F[ue](q,ae)};E.exports=R.bind||function(q){var ue=S(this),ae=ue.prototype,de=T(arguments,1),be=function(){var pe=L(de,T(arguments));return this instanceof be?X(ue,pe.length,pe):ue.apply(q,pe)};return x(ae)&&(be.prototype=ae),be}},function(E,M,s){var O=s(34);E.exports=function(d){return d!==void 0&&(O(d,"value")||O(d,"writable"))}},function(E,M,s){"use strict";var O=s(36),d=s(15),S=s(35),x=s(18),k=s(66),T=s(112),R=s(93),L=s(38),z=s(81),F=Object.assign,X=Object.defineProperty,q=d([].concat);E.exports=!F||x(function(){if(O&&F({b:1},F(X({},"a",{enumerable:!0,get:function(){X(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ue={},ae={},de=Symbol(),be="abcdefghijklmnopqrst";return ue[de]=7,be.split("").forEach(function(pe){ae[pe]=pe}),F({},ue)[de]!=7||k(F({},ae)).join("")!=be})?function(ue,ae){for(var de=L(ue),be=arguments.length,pe=1,$=T.f,ee=R.f;be>pe;)for(var H,re=z(arguments[pe++]),ce=$?q(k(re),$(re)):k(re),ve=ce.length,_e=0;ve>_e;)H=ce[_e++],O&&!S(ee,re,H)||(de[H]=re[H]);return de}:F},function(E,M,s){var O=s(15),d=s(45),S=s(40),x=/"/g,k=O("".replace);E.exports=function(T,R,L,z){var F=S(d(T)),X="<"+R;return L!==""&&(X+=" "+L+'="'+k(S(z),x,"&quot;")+'"'),X+">"+F+"</"+R+">"}},function(E,M,s){var O=s(18);E.exports=function(d){return O(function(){var S=""[d]('"');return S!==S.toLowerCase()||S.split('"').length>3})}},function(E,M,s){var O=s(16),d=Math.hypot,S=Math.abs,x=Math.sqrt;O({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(k,T){for(var R,L,z=0,F=0,X=arguments.length,q=0;F<X;)q<(R=S(arguments[F++]))?(z=z*(L=q/R)*L+1,q=R):z+=R>0?(L=R/q)*L:R;return q===1/0?1/0:q*x(z)}})},function(E,M,s){"use strict";var O,d,S,x,k=s(16),T=s(64),R=s(7),L=s(46),z=s(35),F=s(205),X=s(44),q=s(144),ue=s(97),ae=s(73),de=s(145),be=s(55),pe=s(28),$=s(33),ee=s(117),H=s(92),re=s(114),ce=s(118),ve=s(156),_e=s(162).set,Z=s(206),oe=s(209),Q=s(210),I=s(164),ie=s(211),te=s(56),K=s(95),we=s(27),Ee=s(212),Re=s(126),Ge=s(65),tt=we("species"),Fe="Promise",Xe=te.getterFor(Fe),at=te.set,se=te.getterFor(Fe),ne=F&&F.prototype,ge=F,Te=ne,He=R.TypeError,Ce=R.document,st=R.process,ht=I.f,pt=ht,nt=!!(Ce&&Ce.createEvent&&R.dispatchEvent),De=pe(R.PromiseRejectionEvent),Ze="unhandledrejection",le=!1,$e=K(Fe,function(){var J=H(ge),Oe=J!==String(ge);if(!Oe&&Ge===66||T&&!Te.finally)return!0;if(Ge>=51&&/native code/.test(J))return!1;var Ye=new ge(function(Je){Je(1)}),Ue=function(Je){Je(function(){},function(){})};return(Ye.constructor={})[tt]=Ue,!(le=Ye.then(function(){})instanceof Ue)||!Oe&&Ee&&!De}),ut=$e||!ce(function(J){ge.all(J).catch(function(){})}),It=function(J){var Oe;return!(!$(J)||!pe(Oe=J.then))&&Oe},mt=function(J,Oe){if(!J.notified){J.notified=!0;var Ye=J.reactions;Z(function(){for(var Ue=J.value,Je=J.state==1,kt=0;Ye.length>kt;){var un,qt,tn,Yt=Ye[kt++],qe=Je?Yt.ok:Yt.fail,ft=Yt.resolve,gt=Yt.reject,_t=Yt.domain;try{qe?(Je||(J.rejection===2&&bt(J),J.rejection=1),qe===!0?un=Ue:(_t&&_t.enter(),un=qe(Ue),_t&&(_t.exit(),tn=!0)),un===Yt.promise?gt(He("Promise-chain cycle")):(qt=It(un))?z(qt,un,ft,gt):ft(un)):gt(Ue)}catch(Bt){_t&&!tn&&_t.exit(),gt(Bt)}}J.reactions=[],J.notified=!1,Oe&&!J.rejection&&Gt(J)})}},xt=function(J,Oe,Ye){var Ue,Je;nt?((Ue=Ce.createEvent("Event")).promise=Oe,Ue.reason=Ye,Ue.initEvent(J,!1,!0),R.dispatchEvent(Ue)):Ue={promise:Oe,reason:Ye},!De&&(Je=R["on"+J])?Je(Ue):J===Ze&&Q("Unhandled promise rejection",Ye)},Gt=function(J){z(_e,R,function(){var Oe,Ye=J.facade,Ue=J.value;if(Ft(J)&&(Oe=ie(function(){Re?st.emit("unhandledRejection",Ue,Ye):xt(Ze,Ye,Ue)}),J.rejection=Re||Ft(J)?2:1,Oe.error))throw Oe.value})},Ft=function(J){return J.rejection!==1&&!J.parent},bt=function(J){z(_e,R,function(){var Oe=J.facade;Re?st.emit("rejectionHandled",Oe):xt("rejectionhandled",Oe,J.value)})},en=function(J,Oe,Ye){return function(Ue){J(Oe,Ue,Ye)}},V=function(J,Oe,Ye){J.done||(J.done=!0,Ye&&(J=Ye),J.value=Oe,J.state=2,mt(J,!0))},me=function(J,Oe,Ye){if(!J.done){J.done=!0,Ye&&(J=Ye);try{if(J.facade===Oe)throw He("Promise can't be resolved itself");var Ue=It(Oe);Ue?Z(function(){var Je={done:!1};try{z(Ue,Oe,en(me,Je,J),en(V,Je,J))}catch(kt){V(Je,kt,J)}}):(J.value=Oe,J.state=1,mt(J,!1))}catch(Je){V({done:!1},Je,J)}}};if($e&&(Te=(ge=function(J){ee(this,Te),be(J),z(O,this);var Oe=Xe(this);try{J(en(me,Oe),en(V,Oe))}catch(Ye){V(Oe,Ye)}}).prototype,(O=function(J){at(this,{type:Fe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=q(Te,{then:function(J,Oe){var Ye=se(this),Ue=Ye.reactions,Je=ht(ve(this,ge));return Je.ok=!pe(J)||J,Je.fail=pe(Oe)&&Oe,Je.domain=Re?st.domain:void 0,Ye.parent=!0,Ue[Ue.length]=Je,Ye.state!=0&&mt(Ye,!1),Je.promise},catch:function(J){return this.then(void 0,J)}}),d=function(){var J=new O,Oe=Xe(J);this.promise=J,this.resolve=en(me,Oe),this.reject=en(V,Oe)},I.f=ht=function(J){return J===ge||J===S?new d(J):pt(J)},!T&&pe(F)&&ne!==Object.prototype)){x=ne.then,le||(X(ne,"then",function(J,Oe){var Ye=this;return new ge(function(Ue,Je){z(x,Ye,Ue,Je)}).then(J,Oe)},{unsafe:!0}),X(ne,"catch",Te.catch,{unsafe:!0}));try{delete ne.constructor}catch(J){}ue&&ue(ne,Te)}k({global:!0,wrap:!0,forced:$e},{Promise:ge}),ae(ge,Fe,!1,!0),de(Fe),S=L(Fe),k({target:Fe,stat:!0,forced:$e},{reject:function(J){var Oe=ht(this);return z(Oe.reject,void 0,J),Oe.promise}}),k({target:Fe,stat:!0,forced:T||$e},{resolve:function(J){return oe(T&&this===S?ge:this,J)}}),k({target:Fe,stat:!0,forced:ut},{all:function(J){var Oe=this,Ye=ht(Oe),Ue=Ye.resolve,Je=Ye.reject,kt=ie(function(){var un=be(Oe.resolve),qt=[],tn=0,Yt=1;re(J,function(qe){var ft=tn++,gt=!1;Yt++,z(un,Oe,qe).then(function(_t){gt||(gt=!0,qt[ft]=_t,--Yt||Ue(qt))},Je)}),--Yt||Ue(qt)});return kt.error&&Je(kt.value),Ye.promise},race:function(J){var Oe=this,Ye=ht(Oe),Ue=Ye.reject,Je=ie(function(){var kt=be(Oe.resolve);re(J,function(un){z(kt,Oe,un).then(Ye.resolve,Ue)})});return Je.error&&Ue(Je.value),Ye.promise}})},function(E,M,s){var O=s(7);E.exports=O.Promise},function(E,M,s){var O,d,S,x,k,T,R,L,z=s(7),F=s(62),X=s(51).f,q=s(162).set,ue=s(163),ae=s(207),de=s(208),be=s(126),pe=z.MutationObserver||z.WebKitMutationObserver,$=z.document,ee=z.process,H=z.Promise,re=X(z,"queueMicrotask"),ce=re&&re.value;ce||(O=function(){var ve,_e;for(be&&(ve=ee.domain)&&ve.exit();d;){_e=d.fn,d=d.next;try{_e()}catch(Z){throw d?x():S=void 0,Z}}S=void 0,ve&&ve.enter()},ue||be||de||!pe||!$?!ae&&H&&H.resolve?((R=H.resolve(void 0)).constructor=H,L=F(R.then,R),x=function(){L(O)}):be?x=function(){ee.nextTick(O)}:(q=F(q,z),x=function(){q(O)}):(k=!0,T=$.createTextNode(""),new pe(O).observe(T,{characterData:!0}),x=function(){T.data=k=!k})),E.exports=ce||function(ve){var _e={fn:ve,next:void 0};S&&(S.next=_e),d||(d=_e,x()),S=_e}},function(E,M,s){var O=s(53),d=s(7);E.exports=/ipad|iphone|ipod/i.test(O)&&d.Pebble!==void 0},function(E,M,s){var O=s(53);E.exports=/web0s(?!.*chrome)/i.test(O)},function(E,M,s){var O=s(32),d=s(33),S=s(164);E.exports=function(x,k){if(O(x),d(k)&&k.constructor===x)return k;var T=S.f(x);return(0,T.resolve)(k),T.promise}},function(E,M,s){var O=s(7);E.exports=function(d,S){var x=O.console;x&&x.error&&(arguments.length==1?x.error(d):x.error(d,S))}},function(E,M){E.exports=function(s){try{return{error:!1,value:s()}}catch(O){return{error:!0,value:O}}}},function(E,M){E.exports=typeof window=="object"},function(E,M,s){var O=s(36),d=s(15),S=s(66),x=s(39),k=d(s(93).f),T=d([].push),R=function(L){return function(z){for(var F,X=x(z),q=S(X),ue=q.length,ae=0,de=[];ue>ae;)F=q[ae++],O&&!k(X,F)||T(de,L?[F,X[F]]:X[F]);return de}};E.exports={entries:R(!0),values:R(!1)}},function(E,M,s){"use strict";var O=s(38),d=s(67),S=s(43);E.exports=function(x){for(var k=O(this),T=S(k),R=arguments.length,L=d(R>1?arguments[1]:void 0,T),z=R>2?arguments[2]:void 0,F=z===void 0?T:d(z,T);F>L;)k[L++]=x;return k}},function(E,M,s){"use strict";s.r(M),s.d(M,"observer",function(){return Tr}),s.d(M,"LogicFlow",function(){return ql}),s.d(M,"h",function(){return le.g}),s.d(M,"LogicFlowUtil",function(){return O}),s.d(M,"BaseNode",function(){return Oo}),s.d(M,"RectNode",function(){return Vc}),s.d(M,"CircleNode",function(){return $c}),s.d(M,"PolygonNode",function(){return tl}),s.d(M,"DiamondNode",function(){return il}),s.d(M,"EllipseNode",function(){return ll}),s.d(M,"TextNode",function(){return dl}),s.d(M,"HtmlNode",function(){return gl}),s.d(M,"BaseEdge",function(){return Ea}),s.d(M,"LineEdge",function(){return Al}),s.d(M,"PolylineEdge",function(){return Rl}),s.d(M,"BezierEdge",function(){return zl}),s.d(M,"Arrow",function(){return g0}),s.d(M,"BaseEdgeModel",function(){return ls}),s.d(M,"BezierEdgeModel",function(){return tc}),s.d(M,"LineEdgeModel",function(){return ys}),s.d(M,"PolylineEdgeModel",function(){return bs}),s.d(M,"BaseNodeModel",function(){return _o}),s.d(M,"CircleNodeModel",function(){return uc}),s.d(M,"DiamondNodeModel",function(){return pc}),s.d(M,"EllipseNodeModel",function(){return vc}),s.d(M,"PolygonNodeModel",function(){return wc}),s.d(M,"RectNodeModel",function(){return jc}),s.d(M,"TextNodeModel",function(){return Nc}),s.d(M,"HtmlNodeModel",function(){return Tc}),s.d(M,"EditConfigModel",function(){return df}),s.d(M,"GraphModel",function(){return sd}),s.d(M,"SnaplineModel",function(){return uy}),s.d(M,"Keyboard",function(){return vv}),s.d(M,"get",function(){return Fd}),s.d(M,"defaults",function(){return Ud});var O={};s.r(O),s.d(O,"createUuid",function(){return ui}),s.d(O,"refreshGraphId",function(){return cg}),s.d(O,"createDrag",function(){return js}),s.d(O,"StepDrag",function(){return si});var d=s(0),S=s(10);if(!S.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!d.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var x=s(42),k=Object(x.b)("observerBatching");function T(t){t()}var R=!1;function L(){return R}function z(t){return Object(d.t)(t)}var F,X=1e4,q=new Set;function ue(){F===void 0&&(F=setTimeout(ae,1e4))}function ae(){F=void 0;var t=Date.now();q.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,q.delete(e))}),q.size>0&&ue()}var de=!1,be=[],pe={};function $(t){return"observer"+t}function ee(t,e,n){if(e===void 0&&(e="observed"),n===void 0&&(n=pe),L())return t();var r,o=function(g){return function(){de?be.push(g):g()}}((n.useForceUpdate||x.d)()),u=S.d.useRef(null);if(!u.current){var i=new d.c($(e),function(){a.mounted?o():(i.dispose(),u.current=null)}),a=function(g){return{cleanAt:Date.now()+X,reaction:g}}(i);u.current=a,r=u,q.add(r),ue()}var f=u.current.reaction;return S.d.useDebugValue(f,z),S.d.useEffect(function(){var g;return g=u,q.delete(g),u.current?u.current.mounted=!0:(u.current={reaction:new d.c($(e),function(){o()}),cleanAt:1/0},o()),function(){u.current.reaction.dispose(),u.current=null}},[]),function(g){de=!0,be=[];try{var _=g();de=!1;var P=be.length>0?be:void 0;return S.d.useLayoutEffect(function(){P&&P.forEach(function(N){return N()})},[P]),_}finally{de=!1}}(function(){var g,_;if(f.track(function(){try{g=t()}catch(P){_=P}}),_)throw _;return g})}var H=function(){return H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},H.apply(this,arguments)};function re(t,e){if(L())return t;var n,r,o,u=H({forwardRef:!1},e),i=t.displayName||t.name,a=function(f,g){return ee(function(){return t(f,g)},i)};return a.displayName=i,n=u.forwardRef?Object(S.f)(Object(S.e)(a)):Object(S.f)(a),r=t,o=n,Object.keys(r).forEach(function(f){ce[f]||Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(r,f))}),n.displayName=i,n}var ce={$$typeof:!0,render:!0,compare:!0,type:!0};function ve(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:ee(r)}function _e(t,e,n,r,o){var u=e==="children"?"render":"children",i=typeof t[e]=="function",a=typeof t[u]=="function";return i&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):i||a?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}ve.propTypes={children:_e,render:_e},ve.displayName="Observer";var Z;(Z=S.g)||(Z=T),Object(d.n)({reactionScheduler:Z}),Object(x.a)()[k]=!0;var oe=0,Q={};function I(t){return Q[t]||(Q[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+oe+")";return oe++,n}(t)),Q[t]}function ie(t,e){if(te(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!te(t[n[o]],e[n[o]]))return!1;return!0}function te(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function K(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var we=I("patchMixins"),Ee=I("patchedDefinition");function Re(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];e.locks++;try{var i;return t!=null&&(i=t.apply(this,o)),i}finally{e.locks--,e.locks===0&&e.methods.forEach(function(a){a.apply(n,o)})}}function Ge(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Re.call.apply(Re,[this,t,e].concat(r))}}function tt(t,e,n){var r=function(a,f){var g=a[we]=a[we]||{},_=g[f]=g[f]||{};return _.locks=_.locks||0,_.methods=_.methods||[],_}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[Ee]){var u=t[e],i=Fe(t,e,o?o.enumerable:void 0,r,u);Object.defineProperty(t,e,i)}}function Fe(t,e,n,r,o){var u,i=Ge(o,r);return(u={})[Ee]=!0,u.get=function(){return i},u.set=function(a){if(this===t)i=Ge(a,r);else{var f=Fe(this,e,n,r,a);Object.defineProperty(this,e,f)}},u.configurable=!0,u.enumerable=n,u}var Xe=d.a||"$mobx",at=I("isMobXReactObserver"),se=I("isUnmounted"),ne=I("skipRender"),ge=I("isForcingUpdate");function Te(t){var e=t.prototype;if(t[at]?He(e):t[at]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==S.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==st)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=st;ht(e,"props"),ht(e,"state");var n=e.render;return e.render=function(){return Ce.call(this,n)},tt(e,"componentWillUnmount",function(){var r;L()!==!0&&((r=this.render[Xe])===null||r===void 0||r.dispose(),this[se]=!0,!this.render[Xe])&&He(this)}),t}function He(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Ce(t){var e=this;if(L()===!0)return t.call(this);K(this,ne,!1),K(this,ge,!1);var n=He(this),r=t.bind(this),o=!1,u=new d.c(n+".render()",function(){if(!o&&(o=!0,e[se]!==!0)){var a=!0;try{K(e,ge,!0),e[ne]||S.a.prototype.forceUpdate.call(e),a=!1}finally{K(e,ge,!1),a&&u.dispose()}}});function i(){o=!1;var a=void 0,f=void 0;if(u.track(function(){try{f=Object(d.d)(!1,r)}catch(g){a=g}}),a)throw a;return f}return u.reactComponent=this,i[Xe]=u,this.render=i,i.call(this)}function st(t,e){return L(),this.state!==e||!ie(this.props,t)}function ht(t,e){var n=I("reactProp_"+e+"_valueHolder"),r=I("reactProp_"+e+"_atomHolder");function o(){return this[r]||K(this,r,Object(d.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var u=!1;return d.f&&d.e&&(u=Object(d.f)(!0)),o.call(this).reportObserved(),d.f&&d.e&&Object(d.e)(u),this[n]},set:function(u){this[ge]||ie(this[n],u)?K(this,n,u):(K(this,n,u),K(this,ne,!0),o.call(this).reportChanged(),K(this,ne,!1))}})}var pt=typeof Symbol=="function"&&Symbol.for,nt=pt?Symbol.for("react.forward_ref"):typeof S.e=="function"&&Object(S.e)(function(t){return null}).$$typeof,De=pt?Symbol.for("react.memo"):typeof S.f=="function"&&Object(S.f)(function(t){return null}).$$typeof;function Ze(t){if(t.isMobxInjector,De&&t.$$typeof===De)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(nt&&t.$$typeof===nt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(S.e)(function(){var n=arguments;return Object(S.c)(ve,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(S.a,t)?Te(t):re(t)}if(!S.a)throw new Error("mobx-react requires React to be available");if(!d.C)throw new Error("mobx-react requires mobx to be available");var le=s(1);s(3),s(60),s(2),s(6),s(4),s(11),s(41),s(24),s(20),s(5),s(22),s(21),s(23),s(8),s(9),s(17),s(25),s(19),s(29),s(187),s(192),s(103),s(152),s(153);var $e=function(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},ut=function(){this.__data__=[],this.size=0},It=function(t,e){return t===e||t!=t&&e!=e},mt=function(t,e){for(var n=t.length;n--;)if(It(t[n][0],e))return n;return-1},xt=Array.prototype.splice,Gt=function(t){var e=this.__data__,n=mt(e,t);return!(n<0)&&(n==e.length-1?e.pop():xt.call(e,n,1),--this.size,!0)},Ft=function(t){var e=this.__data__,n=mt(e,t);return n<0?void 0:e[n][1]},bt=function(t){return mt(this.__data__,t)>-1},en=function(t,e){var n=this.__data__,r=mt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function V(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}V.prototype.clear=ut,V.prototype.delete=Gt,V.prototype.get=Ft,V.prototype.has=bt,V.prototype.set=en;var me=V,J=function(){this.__data__=new me,this.size=0},Oe=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ye=function(t){return this.__data__.get(t)},Ue=function(t){return this.__data__.has(t)},Je=s(30),kt=Je.a.Symbol,un=Object.prototype,qt=un.hasOwnProperty,tn=un.toString,Yt=kt?kt.toStringTag:void 0,qe=function(t){var e=qt.call(t,Yt),n=t[Yt];try{t[Yt]=void 0;var r=!0}catch(u){}var o=tn.call(t);return r&&(e?t[Yt]=n:delete t[Yt]),o},ft=Object.prototype.toString,gt=function(t){return ft.call(t)},_t=kt?kt.toStringTag:void 0,Bt=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":_t&&_t in Object(t)?qe(t):gt(t)},$t=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},br,lr=function(t){if(!$t(t))return!1;var e=Bt(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},_r=Je.a["__core-js_shared__"],So=(br=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||""))?"Symbol(src)_1."+br:"",Rr=function(t){return!!So&&So in t},Xo=Function.prototype.toString,Zn=function(t){if(t!=null){try{return Xo.call(t)}catch(e){}try{return t+""}catch(e){}}return""},di=/^\[object .+?Constructor\]$/,ot=Function.prototype,qi=Object.prototype,hi=ot.toString,Uo=qi.hasOwnProperty,Kn=RegExp("^"+hi.call(Uo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$n=function(t){return!(!$t(t)||Rr(t))&&(lr(t)?Kn:di).test(Zn(t))},yi=function(t,e){return t==null?void 0:t[e]},fr=function(t,e){var n=yi(t,e);return $n(n)?n:void 0},no=fr(Je.a,"Map"),pr=fr(Object,"create"),Yo=function(){this.__data__=pr?pr(null):{},this.size=0},vi=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ro=Object.prototype.hasOwnProperty,dr=function(t){var e=this.__data__;if(pr){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return ro.call(e,t)?e[t]:void 0},oo=Object.prototype.hasOwnProperty,Vo=function(t){var e=this.__data__;return pr?e[t]!==void 0:oo.call(e,t)},Qi=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=pr&&e===void 0?"__lodash_hash_undefined__":e,this};function Ir(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ir.prototype.clear=Yo,Ir.prototype.delete=vi,Ir.prototype.get=dr,Ir.prototype.has=Vo,Ir.prototype.set=Qi;var gi=Ir,Jn=function(){this.size=0,this.__data__={hash:new gi,map:new(no||me),string:new gi}},mi=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},jo=function(t,e){var n=t.__data__;return mi(e)?n[typeof e=="string"?"string":"hash"]:n.map},Wo=function(t){var e=jo(this,t).delete(t);return this.size-=e?1:0,e},bi=function(t){return jo(this,t).get(t)},ea=function(t){return jo(this,t).has(t)},_i=function(t,e){var n=jo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Lr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lr.prototype.clear=Jn,Lr.prototype.delete=Wo,Lr.prototype.get=bi,Lr.prototype.has=ea,Lr.prototype.set=_i;var zr=Lr,ta=function(t,e){var n=this.__data__;if(n instanceof me){var r=n.__data__;if(!no||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new zr(r)}return n.set(t,e),this.size=n.size,this};function Or(t){var e=this.__data__=new me(t);this.size=e.size}Or.prototype.clear=J,Or.prototype.delete=Oe,Or.prototype.get=Ye,Or.prototype.has=Ue,Or.prototype.set=ta;var Tn=Or,Oi=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wi=function(t){return this.__data__.has(t)};function io(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new zr;++e<n;)this.add(t[e])}io.prototype.add=io.prototype.push=Oi,io.prototype.has=wi;var na=io,ao=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Zt=function(t,e){return t.has(e)},Zo=function(t,e,n,r,o,u){var i=1&n,a=t.length,f=e.length;if(a!=f&&!(i&&f>a))return!1;var g=u.get(t),_=u.get(e);if(g&&_)return g==e&&_==t;var P=-1,N=!0,C=2&n?new na:void 0;for(u.set(t,e),u.set(e,t);++P<a;){var Y=t[P],fe=e[P];if(r)var ye=i?r(fe,Y,P,e,t,u):r(Y,fe,P,t,e,u);if(ye!==void 0){if(ye)continue;N=!1;break}if(C){if(!ao(e,function(je,xe){if(!Zt(C,xe)&&(Y===je||o(Y,je,n,r,u)))return C.push(xe)})){N=!1;break}}else if(Y!==fe&&!o(Y,fe,n,r,u)){N=!1;break}}return u.delete(t),u.delete(e),N},uo=Je.a.Uint8Array,Br=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n},xi=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Ko=kt?kt.prototype:void 0,Po=Ko?Ko.valueOf:void 0,hr=function(t,e,n,r,o,u,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!u(new uo(t),new uo(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return It(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Br;case"[object Set]":var f=1&r;if(a||(a=xi),t.size!=e.size&&!f)return!1;var g=i.get(t);if(g)return g==e;r|=2,i.set(t,e);var _=Zo(a(t),a(e),r,o,u,i);return i.delete(t),_;case"[object Symbol]":if(Po)return Po.call(t)==Po.call(e)}return!1},nr=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},hn=Array.isArray,qn=function(t,e,n){var r=e(t);return hn(t)?r:nr(r,n(t))},$o=function(t,e){for(var n=-1,r=t==null?0:t.length,o=0,u=[];++n<r;){var i=t[n];e(i,n,t)&&(u[o++]=i)}return u},wr=function(){return[]},so=Object.prototype.propertyIsEnumerable,Hr=Object.getOwnPropertySymbols,jn=Hr?function(t){return t==null?[]:(t=Object(t),$o(Hr(t),function(e){return so.call(t,e)}))}:wr,Gr=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},yn=function(t){return t!=null&&typeof t=="object"},Cn=function(t){return yn(t)&&Bt(t)=="[object Arguments]"},Mo=Object.prototype,co=Mo.hasOwnProperty,Ei=Mo.propertyIsEnumerable,lo=Cn(function(){return arguments}())?Cn:function(t){return yn(t)&&co.call(t,"callee")&&!Ei.call(t,"callee")},yr=lo,Fr=s(48),ra=/^(?:0|[1-9]\d*)$/,bn=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&ra.test(t))&&t>-1&&t%1==0&&t<e},Qn=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Dt={};Dt["[object Float32Array]"]=Dt["[object Float64Array]"]=Dt["[object Int8Array]"]=Dt["[object Int16Array]"]=Dt["[object Int32Array]"]=Dt["[object Uint8Array]"]=Dt["[object Uint8ClampedArray]"]=Dt["[object Uint16Array]"]=Dt["[object Uint32Array]"]=!0,Dt["[object Arguments]"]=Dt["[object Array]"]=Dt["[object ArrayBuffer]"]=Dt["[object Boolean]"]=Dt["[object DataView]"]=Dt["[object Date]"]=Dt["[object Error]"]=Dt["[object Function]"]=Dt["[object Map]"]=Dt["[object Number]"]=Dt["[object Object]"]=Dt["[object RegExp]"]=Dt["[object Set]"]=Dt["[object String]"]=Dt["[object WeakMap]"]=!1;var Rn=function(t){return yn(t)&&Qn(t.length)&&!!Dt[Bt(t)]},rr=function(t){return function(e){return t(e)}},sn=s(49),Si=sn.a&&sn.a.isTypedArray,ko=Si?rr(Si):Rn,Jo=Object.prototype.hasOwnProperty,er=function(t,e){var n=hn(t),r=!n&&yr(t),o=!n&&!r&&Object(Fr.a)(t),u=!n&&!r&&!o&&ko(t),i=n||r||o||u,a=i?Gr(t.length,String):[],f=a.length;for(var g in t)!e&&!Jo.call(t,g)||i&&(g=="length"||o&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||bn(g,f))||a.push(g);return a},ji=Object.prototype,No=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||ji)},or=function(t,e){return function(n){return t(e(n))}},oa=or(Object.keys,Object),fo=Object.prototype.hasOwnProperty,po=function(t){if(!No(t))return oa(t);var e=[];for(var n in Object(t))fo.call(t,n)&&n!="constructor"&&e.push(n);return e},Vt=function(t){return t!=null&&Qn(t.length)&&!lr(t)},ir=function(t){return Vt(t)?er(t):po(t)},ho=function(t){return qn(t,ir,jn)},Pn=Object.prototype.hasOwnProperty,qo=function(t,e,n,r,o,u){var i=1&n,a=ho(t),f=a.length;if(f!=ho(e).length&&!i)return!1;for(var g=f;g--;){var _=a[g];if(!(i?_ in e:Pn.call(e,_)))return!1}var P=u.get(t),N=u.get(e);if(P&&N)return P==e&&N==t;var C=!0;u.set(t,e),u.set(e,t);for(var Y=i;++g<f;){var fe=t[_=a[g]],ye=e[_];if(r)var je=i?r(ye,fe,_,e,t,u):r(fe,ye,_,t,e,u);if(!(je===void 0?fe===ye||o(fe,ye,n,r,u):je)){C=!1;break}Y||(Y=_=="constructor")}if(C&&!Y){var xe=t.constructor,Pe=e.constructor;xe==Pe||!("constructor"in t)||!("constructor"in e)||typeof xe=="function"&&xe instanceof xe&&typeof Pe=="function"&&Pe instanceof Pe||(C=!1)}return u.delete(t),u.delete(e),C},Xr=fr(Je.a,"DataView"),Ao=fr(Je.a,"Promise"),tr=fr(Je.a,"Set"),Do=fr(Je.a,"WeakMap"),Pi="[object Map]",In="[object Promise]",Fn="[object Set]",ar="[object WeakMap]",Qo="[object DataView]",Ur=Zn(Xr),To=Zn(no),Mi=Zn(Ao),ia=Zn(tr),Co=Zn(Do),Xn=Bt;(Xr&&Xn(new Xr(new ArrayBuffer(1)))!=Qo||no&&Xn(new no)!=Pi||Ao&&Xn(Ao.resolve())!=In||tr&&Xn(new tr)!=Fn||Do&&Xn(new Do)!=ar)&&(Xn=function(t){var e=Bt(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Zn(n):"";if(r)switch(r){case Ur:return Qo;case To:return Pi;case Mi:return In;case ia:return Fn;case Co:return ar}return e});var y=Xn,m="[object Arguments]",w="[object Array]",D="[object Object]",U=Object.prototype.hasOwnProperty,he=function(t,e,n,r,o,u){var i=hn(t),a=hn(e),f=i?w:y(t),g=a?w:y(e),_=(f=f==m?D:f)==D,P=(g=g==m?D:g)==D,N=f==g;if(N&&Object(Fr.a)(t)){if(!Object(Fr.a)(e))return!1;i=!0,_=!1}if(N&&!_)return u||(u=new Tn),i||ko(t)?Zo(t,e,n,r,o,u):hr(t,e,f,n,r,o,u);if(!(1&n)){var C=_&&U.call(t,"__wrapped__"),Y=P&&U.call(e,"__wrapped__");if(C||Y){var fe=C?t.value():t,ye=Y?e.value():e;return u||(u=new Tn),o(fe,ye,n,r,u)}}return!!N&&(u||(u=new Tn),qo(t,e,n,r,o,u))},ke=function t(e,n,r,o,u){return e===n||(e==null||n==null||!yn(e)&&!yn(n)?e!=e&&n!=n:he(e,n,r,o,t,u))},Be=function(t,e,n,r){var o=n.length,u=o,i=!r;if(t==null)return!u;for(t=Object(t);o--;){var a=n[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){var f=(a=n[o])[0],g=t[f],_=a[1];if(i&&a[2]){if(g===void 0&&!(f in t))return!1}else{var P=new Tn;if(r)var N=r(g,_,f,t,e,P);if(!(N===void 0?ke(_,g,3,r,P):N))return!1}}return!0},et=function(t){return t==t&&!$t(t)},Nt=function(t){for(var e=ir(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,et(o)]}return e},Ot=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},Ht=function(t){var e=Nt(t);return e.length==1&&e[0][2]?Ot(e[0][0],e[0][1]):function(n){return n===t||Be(n,t,e)}},Et=function(t){return typeof t=="symbol"||yn(t)&&Bt(t)=="[object Symbol]"},Lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Un=/^\w*$/,Kt=function(t,e){if(hn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Et(t))||Un.test(t)||!Lt.test(t)||e!=null&&t in Object(e)};function Mn(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var i=t.apply(this,r);return n.cache=u.set(o,i)||u,i};return n.cache=new(Mn.Cache||zr),n}Mn.Cache=zr;var xr=Mn,Ma=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aa=/\\(\\)?/g,ei=function(t){var e=xr(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ma,function(n,r,o,u){e.push(o?u.replace(aa,"$1"):r||n)}),e}),Er=kt?kt.prototype:void 0,ti=Er?Er.toString:void 0,_n=function t(e){if(typeof e=="string")return e;if(hn(e))return $e(e,t)+"";if(Et(e))return ti?ti.call(e):"";var n=e+"";return n=="0"&&1/e==-Infinity?"-0":n},ni=function(t){return t==null?"":_n(t)},Yr=function(t,e){return hn(t)?t:Kt(t,e)?[t]:ei(ni(t))},ri=function(t){if(typeof t=="string"||Et(t))return t;var e=t+"";return e=="0"&&1/t==-Infinity?"-0":e},ua=function(t,e){for(var n=0,r=(e=Yr(e,t)).length;t!=null&&n<r;)t=t[ri(e[n++])];return n&&n==r?t:void 0},ka=function(t,e,n){var r=t==null?void 0:ua(t,e);return r===void 0?n:r},Gu=function(t,e){return t!=null&&e in Object(t)},Fu=function(t,e,n){for(var r=-1,o=(e=Yr(e,t)).length,u=!1;++r<o;){var i=ri(e[r]);if(!(u=t!=null&&n(t,i)))break;t=t[i]}return u||++r!=o?u:!!(o=t==null?0:t.length)&&Qn(o)&&bn(i,o)&&(hn(t)||yr(t))},Xu=function(t,e){return t!=null&&Fu(t,e,Gu)},Uu=function(t,e){return Kt(t)&&et(e)?Ot(ri(t),e):function(n){var r=ka(n,t);return r===void 0&&r===e?Xu(n,t):ke(e,r,3)}},yo=function(t){return t},Yu=function(t){return function(e){return e==null?void 0:e[t]}},oi=function(t){return function(e){return ua(e,t)}},sa=function(t){return Kt(t)?Yu(ri(t)):oi(t)},Vu=function(t){return typeof t=="function"?t:t==null?yo:typeof t=="object"?hn(t)?Uu(t[0],t[1]):Ht(t):sa(t)},ii=function(t){return function(e,n,r){for(var o=-1,u=Object(e),i=r(e),a=i.length;a--;){var f=i[t?a:++o];if(n(u[f],f,u)===!1)break}return e}}(),Wu=function(t,e){return function(n,r){if(n==null)return n;if(!Vt(n))return t(n,r);for(var o=n.length,u=e?o:-1,i=Object(n);(e?u--:++u<o)&&r(i[u],u,i)!==!1;);return n}}(function(t,e){return t&&ii(t,e,ir)}),ki=function(t,e){var n=-1,r=Vt(t)?Array(t.length):[];return Wu(t,function(o,u,i){r[++n]=e(o,u,i)}),r},Ni=function(t,e){return(hn(t)?$e:ki)(t,Vu(e,3))},Ai=function(){try{var t=fr(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Na=function(t,e,n){e=="__proto__"&&Ai?Ai(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},p=Object.prototype.hasOwnProperty,l=function(t,e,n){var r=t[e];p.call(t,e)&&It(r,n)&&(n!==void 0||e in t)||Na(t,e,n)},c=function(t,e,n,r){var o=!n;n||(n={});for(var u=-1,i=e.length;++u<i;){var a=e[u],f=r?r(n[a],t[a],a,n,t):void 0;f===void 0&&(f=t[a]),o?Na(n,a,f):l(n,a,f)}return n},h=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},v=Math.max,b=function(t,e,n){return e=v(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,u=v(r.length-e,0),i=Array(u);++o<u;)i[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(i),h(t,this,a)}},j=function(t){return function(){return t}},A=Ai?function(t,e){return Ai(t,"toString",{configurable:!0,enumerable:!1,value:j(e),writable:!0})}:yo,B=Date.now,W=function(t){var e=0,n=0;return function(){var r=B(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},G=W(A),Se=function(t,e){return G(b(t,e,yo),t+"")},Me=function(t,e,n){if(!$t(n))return!1;var r=typeof e;return!!(r=="number"?Vt(n)&&bn(e,n.length):r=="string"&&e in n)&&It(n[e],t)},Ae=function(t){return Se(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(u=t.length>3&&typeof u=="function"?(o--,u):void 0,i&&Me(n[0],n[1],i)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,u)}return e})},ze=Object.prototype.hasOwnProperty,Ke=Ae(function(t,e){if(No(e)||Vt(e))c(e,ir(e),t);else for(var n in e)ze.call(e,n)&&l(t,n,e[n])}),ct=function(t,e,n,r){if(!$t(t))return t;for(var o=-1,u=(e=Yr(e,t)).length,i=u-1,a=t;a!=null&&++o<u;){var f=ri(e[o]),g=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(o!=i){var _=a[f];(g=r?r(_,f,a):void 0)===void 0&&(g=$t(_)?_:bn(e[o+1])?[]:{})}l(a,f,g),a=a[f]}return t},dt=function(t,e,n){for(var r=-1,o=e.length,u={};++r<o;){var i=e[r],a=ua(t,i);n(a,i)&&ct(u,Yr(i,t),a)}return u},it=function(t,e){return dt(t,e,function(n,r){return Xu(t,r)})},Mt=kt?kt.isConcatSpreadable:void 0,On=function(t){return hn(t)||yr(t)||!!(Mt&&t&&t[Mt])},rn=function t(e,n,r,o,u){var i=-1,a=e.length;for(r||(r=On),u||(u=[]);++i<a;){var f=e[i];n>0&&r(f)?n>1?t(f,n-1,r,o,u):nr(u,f):o||(u[u.length]=f)}return u},Wt=function(t){return(t==null?0:t.length)?rn(t,1):[]},Tt,wn,xn,cn,ln,En,Ln,Ql,ef,tf,nf,rf,of,af,uf,sf,cf,ca=function(t){return G(b(t,void 0,Wt),t+"")}(function(t,e){return t==null?{}:it(t,e)});function zn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ff(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Xt,pf,Ct,vn,jt,Qt,wv={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Zu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],df=(wn=kn((Tt=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),zn(this,"isSilentMode",wn,this),zn(this,"stopZoomGraph",xn,this),zn(this,"stopScrollGraph",cn,this),zn(this,"stopMoveGraph",ln,this),zn(this,"adjustEdge",En,this),zn(this,"adjustEdgeMiddle",Ln,this),zn(this,"adjustEdgeStartAndEnd",Ql,this),zn(this,"adjustNodePosition",ef,this),zn(this,"hideAnchors",tf,this),zn(this,"hoverOutline",nf,this),zn(this,"nodeSelectedOutline",rf,this),zn(this,"edgeSelectedOutline",of,this),zn(this,"nodeTextEdit",af,this),zn(this,"edgeTextEdit",uf,this),zn(this,"nodeTextDraggable",sf,this),zn(this,"edgeTextDraggable",cf,this),ff(this,"multipleSelectKey",""),ff(this,"defaultConfig",{}),Ke(this,this.getConfigDetail(o))}var e,n,r;return e=t,(n=[{key:"updateEditConfig",value:function(o){var u=this.getConfigDetail(o);Ke(this,u)}},{key:"getConfigDetail",value:function(o){var u=o.isSilentMode,i=o.textEdit,a={};if(u===!1&&Ke(a,this.defaultConfig),u===!0){var f=ca(wv,Zu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},Ke(a,f)}i===!1&&Ke(a,{nodeTextEdit:!1,edgeTextEdit:!1});var g=ca(o,Zu);return Ke(a,g)}},{key:"getConfig",value:function(){return ca(this,Zu)}}])&&lf(e.prototype,n),r&&lf(e,r),t}()).prototype,"isSilentMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xn=kn(Tt.prototype,"stopZoomGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cn=kn(Tt.prototype,"stopScrollGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ln=kn(Tt.prototype,"stopMoveGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),En=kn(Tt.prototype,"adjustEdge",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ln=kn(Tt.prototype,"adjustEdgeMiddle",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ql=kn(Tt.prototype,"adjustEdgeStartAndEnd",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ef=kn(Tt.prototype,"adjustNodePosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tf=kn(Tt.prototype,"hideAnchors",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nf=kn(Tt.prototype,"hoverOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rf=kn(Tt.prototype,"nodeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),of=kn(Tt.prototype,"edgeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),af=kn(Tt.prototype,"nodeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uf=kn(Tt.prototype,"edgeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sf=kn(Tt.prototype,"nodeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cf=kn(Tt.prototype,"edgeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kn(Tt.prototype,"updateEditConfig",[d.k],Object.getOwnPropertyDescriptor(Tt.prototype,"updateEditConfig"),Tt.prototype),Tt);s(77),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Xt||(Xt={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(pf||(pf={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Ct||(Ct={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(vn||(vn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(jt||(jt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Qt||(Qt={}));var ur,fn,hf,yf,vf,gf,mf,bf,_f;function Aa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Of(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Of(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Of(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ai(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ku(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sr(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(ur||(ur={}));var xv=(fn=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Ku(this,"MINI_SCALE_SIZE",.2),Ku(this,"MAX_SCALE_SIZE",16),ai(this,"SCALE_X",hf,this),ai(this,"SKEW_Y",yf,this),ai(this,"SKEW_X",vf,this),ai(this,"SCALE_Y",gf,this),ai(this,"TRANSLATE_X",mf,this),ai(this,"TRANSLATE_Y",bf,this),ai(this,"ZOOM_SIZE",_f,this),Ku(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,n=[{key:"setZoomMiniSize",value:function(o){this.MINI_SCALE_SIZE=o}},{key:"setZoomMaxSize",value:function(o){this.MAX_SCALE_SIZE=o}},{key:"HtmlPointToCanvasPoint",value:function(o){var u=Aa(o,2),i=u[0],a=u[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(o){var u=Aa(o,2),i=u[0],a=u[1];return[i*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(o,u,i){var a=Aa(o,2),f=a[0],g=a[1];return[f+u/this.SCALE_X,g+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(o,u){return[o/this.SCALE_X,u/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var o=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(o,")")}}},{key:"zoom",value:function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0],u=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,a=this.SCALE_Y;return o===!0?(i+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):o===!1?(i-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof o=="number"&&(i=o,a=o),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(u&&(this.TRANSLATE_X-=(i-this.SCALE_X)*u[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*u[1]),this.SCALE_X=i,this.SCALE_Y=a,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(o){this.eventCenter.emit(jt.GRAPH_TRANSFORM,{type:o,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(o,u){this.TRANSLATE_X+=o,this.TRANSLATE_Y+=u,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(o,u,i,a){var f=Aa(this.CanvasPointToHtmlPoint([o,u]),2),g=i/2-f[0],_=a/2-f[1];this.TRANSLATE_X+=g,this.TRANSLATE_Y+=_,this.emitGraphTransform("focusOn")}}],n&&wf(e.prototype,n),r&&wf(e,r),t}(),hf=Sr(fn.prototype,"SCALE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yf=Sr(fn.prototype,"SKEW_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vf=Sr(fn.prototype,"SKEW_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gf=Sr(fn.prototype,"SCALE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),mf=Sr(fn.prototype,"TRANSLATE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bf=Sr(fn.prototype,"TRANSLATE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_f=Sr(fn.prototype,"ZOOM_SIZE",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Sr(fn.prototype,"zoom",[d.k],Object.getOwnPropertyDescriptor(fn.prototype,"zoom"),fn.prototype),Sr(fn.prototype,"resetZoom",[d.k],Object.getOwnPropertyDescriptor(fn.prototype,"resetZoom"),fn.prototype),Sr(fn.prototype,"translate",[d.k],Object.getOwnPropertyDescriptor(fn.prototype,"translate"),fn.prototype),Sr(fn.prototype,"focusOn",[d.k],Object.getOwnPropertyDescriptor(fn.prototype,"focusOn"),fn.prototype),fn),Ev=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},Sv=function(t,e){return t&&c(e,ir(e),t)},jv=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},Pv=Object.prototype.hasOwnProperty,Mv=function(t){if(!$t(t))return jv(t);var e=No(t),n=[];for(var r in t)(r!="constructor"||!e&&Pv.call(t,r))&&n.push(r);return n},la=function(t){return Vt(t)?er(t,!0):Mv(t)},kv=function(t,e){return t&&c(e,la(e),t)},xf=s(106),Ef=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},Nv=function(t,e){return c(t,jn(t),e)},$u=or(Object.getPrototypeOf,Object),Sf=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)nr(e,jn(t)),t=$u(t);return e}:wr,Av=function(t,e){return c(t,Sf(t),e)},Dv=function(t){return qn(t,la,Sf)},Tv=Object.prototype.hasOwnProperty,Cv=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Tv.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Ju=function(t){var e=new t.constructor(t.byteLength);return new uo(e).set(new uo(t)),e},Rv=function(t,e){var n=e?Ju(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Iv=/\w*$/,Lv=function(t){var e=new t.constructor(t.source,Iv.exec(t));return e.lastIndex=t.lastIndex,e},jf=kt?kt.prototype:void 0,Pf=jf?jf.valueOf:void 0,zv=function(t){return Pf?Object(Pf.call(t)):{}},Mf=function(t,e){var n=e?Ju(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Bv=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return Ju(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return Rv(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Mf(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return Lv(t);case"[object Symbol]":return zv(t)}},kf=Object.create,Hv=function(){function t(){}return function(e){if(!$t(e))return{};if(kf)return kf(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Nf=function(t){return typeof t.constructor!="function"||No(t)?{}:Hv($u(t))},Gv=function(t){return yn(t)&&y(t)=="[object Map]"},Af=sn.a&&sn.a.isMap,Fv=Af?rr(Af):Gv,Xv=function(t){return yn(t)&&y(t)=="[object Set]"},Df=sn.a&&sn.a.isSet,Uv=Df?rr(Df):Xv,Tf="[object Arguments]",Cf="[object Function]",Yv="[object Object]",Jt={};Jt[Tf]=Jt["[object Array]"]=Jt["[object ArrayBuffer]"]=Jt["[object DataView]"]=Jt["[object Boolean]"]=Jt["[object Date]"]=Jt["[object Float32Array]"]=Jt["[object Float64Array]"]=Jt["[object Int8Array]"]=Jt["[object Int16Array]"]=Jt["[object Int32Array]"]=Jt["[object Map]"]=Jt["[object Number]"]=Jt["[object Object]"]=Jt["[object RegExp]"]=Jt["[object Set]"]=Jt["[object String]"]=Jt["[object Symbol]"]=Jt["[object Uint8Array]"]=Jt["[object Uint8ClampedArray]"]=Jt["[object Uint16Array]"]=Jt["[object Uint32Array]"]=!0,Jt["[object Error]"]=Jt[Cf]=Jt["[object WeakMap]"]=!1;var Vv=function t(e,n,r,o,u,i){var a,f=1&n,g=2&n,_=4&n;if(r&&(a=u?r(e,o,u,i):r(e)),a!==void 0)return a;if(!$t(e))return e;var P=hn(e);if(P){if(a=Cv(e),!f)return Ef(e,a)}else{var N=y(e),C=N==Cf||N=="[object GeneratorFunction]";if(Object(Fr.a)(e))return Object(xf.a)(e,f);if(N==Yv||N==Tf||C&&!u){if(a=g||C?{}:Nf(e),!f)return g?Av(e,kv(a,e)):Nv(e,Sv(a,e))}else{if(!Jt[N])return u?e:{};a=Bv(e,N,f)}}i||(i=new Tn);var Y=i.get(e);if(Y)return Y;i.set(e,a),Uv(e)?e.forEach(function(ye){a.add(t(ye,n,r,ye,e,i))}):Fv(e)&&e.forEach(function(ye,je){a.set(je,t(ye,n,r,je,e,i))});var fe=P?void 0:(_?g?Dv:ho:g?la:ir)(e);return Ev(fe||e,function(ye,je){fe&&(ye=e[je=ye]),l(a,je,t(ye,n,r,je,e,i))}),a},an=function(t){return Vv(t,5)},qu=function(t,e,n){(n!==void 0&&!It(t[e],n)||n===void 0&&!(e in t))&&Na(t,e,n)},Wv=function(t){return yn(t)&&Vt(t)},Zv=Function.prototype,Kv=Object.prototype,Rf=Zv.toString,$v=Kv.hasOwnProperty,Jv=Rf.call(Object),qv=function(t){if(!yn(t)||Bt(t)!="[object Object]")return!1;var e=$u(t);if(e===null)return!0;var n=$v.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Rf.call(n)==Jv},Qu=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Qv=function(t){return c(t,la(t))},eg=function(t,e,n,r,o,u,i){var a=Qu(t,n),f=Qu(e,n),g=i.get(f);if(g)qu(t,n,g);else{var _=u?u(a,f,n+"",t,e,i):void 0,P=_===void 0;if(P){var N=hn(f),C=!N&&Object(Fr.a)(f),Y=!N&&!C&&ko(f);_=f,N||C||Y?hn(a)?_=a:Wv(a)?_=Ef(a):C?(P=!1,_=Object(xf.a)(f,!0)):Y?(P=!1,_=Mf(f,!0)):_=[]:qv(f)||yr(f)?(_=a,yr(a)?_=Qv(a):$t(a)&&!lr(a)||(_=Nf(f))):P=!1}P&&(i.set(f,_),o(_,f,r,u,i),i.delete(f)),qu(t,n,_)}},tg=function t(e,n,r,o,u){e!==n&&ii(n,function(i,a){if(u||(u=new Tn),$t(i))eg(e,n,a,r,t,o,u);else{var f=o?o(Qu(e,a),i,a+"",e,n,u):void 0;f===void 0&&(f=i),qu(e,a,f)}},la)},If=Ae(function(t,e,n){tg(t,e,n)}),ng={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Lf=function(t){var e=an(ng);return t&&(e=If(e,t)),e};s(78),s(158);function zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rg=function(){function t(){var o,u,i;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(u="_events")in(o=this)?Object.defineProperty(o,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[u]=i}var e,n,r;return e=t,(n=[{key:"on",value:function(o,u,i){var a=this;return o==null||o.split(",").forEach(function(f){f=f.trim(),a._events[f]||(a._events[f]=[]),a._events[f].push({callback:u,once:!!i})}),this}},{key:"once",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){return a=a.trim(),i.on(a,u,!0)})}},{key:"emit",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){var f=i._events[a]||[],g=i._events["*"]||[],_=function(P){for(var N=P.length,C=0;C<N;C++)if(P[C]){var Y=P[C],fe=Y.callback;Y.once&&(P.splice(C,1),P.length===0&&delete i._events[a],N--,C--),fe.apply(i,[u])}};_(f),_(g)})}},{key:"off",value:function(o,u){var i=this;return o||(this._events={}),o.split(",").forEach(function(a){if(u){for(var f=i._events[a]||[],g=f.length,_=0;_<g;_++)f[_].callback===u&&(f.splice(_,1),g--,_--);f.length===0&&delete i._events[a]}else delete i._events[a]}),this}},{key:"getEvents",value:function(){return this._events}}])&&zf(e.prototype,n),r&&zf(e,r),t}();function Di(t,e){return e*Math.round(t/e)||t}function Bf(t,e){return t%e}function es(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Hf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Hf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ts,ns=function(t,e,n){var r=es(t,2),o=r[0],u=r[1],i=es(e,2),a=i[0],f=i[1],g=es(n,2),_=g[0],P=g[1];return o>a&&o<_&&u>f&&u<P},Gf=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;default:n=!1}return n},og=(s(79),s(161),s(125),s(80),s(12),s(13),s(14),s(47),s(31),new Uint8Array(16));function ig(){if(!ts&&!(ts=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ts(og)}for(var ag=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ug=function(t){return typeof t=="string"&&ag.test(t)},Nn=[],rs=0;rs<256;++rs)Nn.push((rs+256).toString(16).substr(1));var sg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Nn[t[e+0]]+Nn[t[e+1]]+Nn[t[e+2]]+Nn[t[e+3]]+"-"+Nn[t[e+4]]+Nn[t[e+5]]+"-"+Nn[t[e+6]]+Nn[t[e+7]]+"-"+Nn[t[e+8]]+Nn[t[e+9]]+"-"+Nn[t[e+10]]+Nn[t[e+11]]+Nn[t[e+12]]+Nn[t[e+13]]+Nn[t[e+14]]+Nn[t[e+15]]).toLowerCase();if(!ug(n))throw TypeError("Stringified UUID is invalid");return n},os=function(t,e,n){var r=(t=t||{}).random||(t.rng||ig)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return sg(r)},ui=function(){return os()},cg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,o){return r[o.id]=e+os(),o.id=r[o.id],r},{});return t.edges.forEach(function(r){r.id=e+os(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},fa=(s(104),s(203),function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0});function is(t){return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(t)}function Ff(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ff(Object(n),!0).forEach(function(r){lg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Le,Uf,Yf,Vf,Wf,Zf,Kf,$f,Jf,qf,Qf,ep,tp,np,rp,op,ip,ap,up,sp,as=function(t){return t.anchors},Da=function(t,e){for(var n,r=e.nodes,o=r.length-1;o>=0;o--){var u=r[o];if(dg(t,u)){var i=pg(t,u);if(i){var a={node:u,anchorIndex:i.index,anchor:i.anchor};n&&!fg(u,n.node,e)||(n=a)}}}return n},fg=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},pg=function(t,e){for(var n,r=as(e),o=Number.MAX_SAFE_INTEGER,u=0;u<r.length;u++){var i=Vr(t.x,t.y,r[u].x,r[u].y);i<o&&(o=i,n={index:u,anchor:Xf(Xf({},r[u]),{},{x:r[u].x,y:r[u].y,id:r[u].id})})}return n},Vr=function(t,e,n,r){return Math.hypot(t-n,e-r)},Ro=function(t,e){var n=!1,r=sr(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},dg=function(t,e){var n=!1,r=sr(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},sr=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},cp=function(t,e,n){var r,o=function(i){var a=i,f=a.x,g=a.y,_=a.width,P=a.height,N=a.radius;return[{x:f-_/2+N,y:g-P/2+N,r:N},{x:f+_/2-N,y:g-P/2+N,r:N},{x:f-_/2+N,y:g+P/2-N,r:N},{x:f+_/2-N,y:g+P/2-N,r:N}]}(n),u=Number.MAX_SAFE_INTEGER;return o.forEach(function(i){var a=Vr(t.x,t.y,i.x,i.y);a<u&&(u=a,r=i)}),us(t,e,r)},us=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.r;if(e===Qt.HORIZONTAL){var f=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)),g=u+Math.sqrt(a*a-(t.y-i)*(t.y-i));r={x:Math.abs(f-t.x)<Math.abs(g-t.x)?f:g,y:t.y}}else if(e===Qt.VERTICAL){var _=i-Math.sqrt(a*a-(t.x-u)*(t.x-u)),P=i+Math.sqrt(a*a-(t.x-u)*(t.x-u)),N=Math.abs(_-t.y)<Math.abs(P-t.y)?_:P;r={x:t.x,y:N}}return r},lp=function(t,e){var n=e,r=!1,o=n.x-n.width/2+n.radius,u=n.x+n.width/2-n.radius,i=n.y-n.height/2+n.radius,a=n.y+n.height/2-n.radius,f=n.x,g=n.y,_=n.width,P=n.height;return t.y===g+P/2||t.y===g-P/2?r=t.x>o&&t.x<u:t.x!==f+_/2&&t.x!==f-_/2||(r=t.y>i&&t.y<a),r},fp=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.rx,f=o.ry;if(e===Qt.HORIZONTAL){var g=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f)),_=u+Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f));r={x:Math.abs(g-t.x)<Math.abs(_-t.x)?g:_,y:t.y}}else if(e===Qt.VERTICAL){var P=i-Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),N=i+Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),C=Math.abs(P-t.y)<Math.abs(N-t.y)?P:N;r={x:t.x,y:C}}return r},pp=function(t,e,n){for(var r,o=n.pointsPosition,u=Number.MAX_SAFE_INTEGER,i=[],a=0;a<o.length;a++)i.push({start:o[a],end:o[(a+1)%o.length]});return i.forEach(function(f){var g=f.start,_=f.end,P=g,N=_;g.x>_.x&&(P=_,N=g);var C={x:t.x,y:t.y};if(P.x===N.x&&e===Qt.HORIZONTAL&&(C={x:P.x,y:t.y}),P.y===N.y&&e===Qt.VERTICAL&&(C={x:t.x,y:P.y}),P.x!==N.x&&P.y!==N.y){var Y=(N.y-P.y)/(N.x-P.x),fe=(P.x*N.y-N.x*P.y)/(P.x-N.x);e===Qt.HORIZONTAL?C={x:(t.y-fe)/Y,y:t.y}:e===Qt.VERTICAL&&(C={x:t.x,y:Y*t.x+fe})}if(fa(C,g,_)){var ye=Vr(C.x,C.y,t.x,t.y);ye<u&&(u=ye,r=C)}}),r},dp=function(t,e,n,r){var o=t.x,u=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?u=t.y+r/2:e.y<t.y&&(u=t.y-r/2),{x:o,y:u}},hp=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,u=document.createElement("div");u.style.fontSize=n.fontSize,u.style.width=n.width,u.className=o,u.style.lineHeight=n.lineHeight,u.style.padding=n.padding,n.fontFamily&&(u.style.fontFamily=n.fontFamily),r>1?e.forEach(function(a){var f=document.createElement("div");f.textContent=a,u.appendChild(f)}):u.textContent=e,document.body.appendChild(u);var i=u.clientHeight;return document.body.removeChild(u),i},ss=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach(function(u){var i=Bp(u);o=i>o?i:o}),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},Ta=function(t){return is(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},yp={node:!1,edge:!1},hg={node:!0,edge:!0},yg={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Bn=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},vg=1e3,gg=999,cs=function(){return++vg};function vp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vp(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var ls=(Le=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),vr(this,"id",ui()),gn(this,"type",Uf,this),gn(this,"sourceNodeId",Yf,this),gn(this,"targetNodeId",Vf,this),gn(this,"startPoint",Wf,this),gn(this,"endPoint",Zf,this),gn(this,"text",Kf,this),gn(this,"properties",$f,this),gn(this,"points",Jf,this),gn(this,"pointsList",qf,this),gn(this,"isSelected",Qf,this),gn(this,"isHovered",ep,this),gn(this,"isHitable",tp,this),gn(this,"draggable",np,this),gn(this,"visible",rp,this),gn(this,"isAnimation",op,this),vr(this,"graphModel",void 0),gn(this,"zIndex",ip,this),vr(this,"BaseType",vn.EDGE),vr(this,"modelType",Ct.EDGE),gn(this,"state",ap,this),vr(this,"additionStateData",void 0),vr(this,"sourceAnchorId",""),vr(this,"targetAnchorId",""),vr(this,"menu",void 0),vr(this,"customTextPosition",!1),vr(this,"animationData",yg),gn(this,"style",up,this),gn(this,"arrowConfig",sp,this),this.graphModel=u,this.initEdgeData(o),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(o)}var e,n,r;return e=t,n=[{key:"initEdgeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}Ke(this,Cg(o)),this.graphModel.overlapMode===ur.INCREASE&&(this.zIndex=o.zIndex||cs())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return jr(jr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.edgeText;return an(o)}},{key:"getAnimation",value:function(){var o=this.animationData;return an(o)}},{key:"getEdgeAnimationStyle",value:function(){var o=this.graphModel.theme.edgeAnimation;return an(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return an(o)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.sourceNodeId])===null||u===void 0?void 0:u.model}},{key:"targetNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.targetNodeId])===null||u===void 0?void 0:u.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(o,u){var i,a;return as(o).forEach(function(f){var g=Fp(f,u);a?g<a&&(a=g,i=f):(a=g,i=f)}),i}},{key:"getEndAnchor",value:function(o){var u,i,a=this;return as(o).forEach(function(f){var g=Fp(f,a.startPoint);i?g<i&&(i=g,u=f):(i=g,u=f)}),u}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(d.I)(this.properties)};return a&&(f.text={x:u,y:i,value:a}),this.graphModel.overlapMode===ur.INCREASE&&(f.zIndex=this.zIndex),f}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(o,u){this.properties[o]=Bn(u),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=jr(jr({},this.properties),Bn(o)),this.setAttributes()}},{key:"setStyle",value:function(o,u){this.style=jr(jr({},this.style),{},vr({},o,Bn(u)))}},{key:"setStyles",value:function(o){this.style=jr(jr({},this.style),Bn(o))}},{key:"updateStyles",value:function(o){this.style=jr({},Bn(o))}},{key:"formatText",value:function(o){var u=this.textPosition,i=u.x,a=u.y;o.text&&typeof o.text!="string"?Object.prototype.toString.call(o.text)==="[object Object]"&&(this.text={x:o.text.x||i,y:o.text.y||a,value:o.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:o.text||"",x:i,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var o=this.textPosition,u=o.x,i=o.y;this.text.x=u,this.text.y=i}},{key:"moveText",value:function(o,u){if(this.text){var i=this.text,a=i.x,f=i.y,g=i.value,_=i.draggable,P=i.editable;this.text={value:g,draggable:_,x:a+o,y:f+u,editable:P}}}},{key:"setText",value:function(o){o&&Ke(this.text,o)}},{key:"updateText",value:function(o){this.text=jr(jr({},this.text),{},{value:o})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var o=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:o.x,y:o.y}),this.sourceAnchorId||(this.sourceAnchorId=o.id)}if(!this.targetAnchorId||!this.endPoint){var u=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:u.x,y:u.y}),this.targetAnchorId||(this.targetAnchorId=u.id)}}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"updateStartPoint",value:function(o){this.startPoint=o}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u}},{key:"updateEndPoint",value:function(o){this.endPoint=o}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=o}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(o){Ke(this,o)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,i=o.endPoint;this.updateStartPoint({x:u.x,y:u.y}),this.updateEndPoint({x:i.x,y:i.y})}}],n&&gp(e.prototype,n),r&&gp(e,r),t}(),Uf=wt(Le.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yf=wt(Le.prototype,"sourceNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vf=wt(Le.prototype,"targetNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wf=wt(Le.prototype,"startPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zf=wt(Le.prototype,"endPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Kf=wt(Le.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),$f=wt(Le.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jf=wt(Le.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qf=wt(Le.prototype,"pointsList",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qf=wt(Le.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ep=wt(Le.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tp=wt(Le.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=wt(Le.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=wt(Le.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),op=wt(Le.prototype,"isAnimation",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=wt(Le.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ap=wt(Le.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),up=wt(Le.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),sp=wt(Le.prototype,"arrowConfig",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),wt(Le.prototype,"sourceNode",[d.m],Object.getOwnPropertyDescriptor(Le.prototype,"sourceNode"),Le.prototype),wt(Le.prototype,"targetNode",[d.m],Object.getOwnPropertyDescriptor(Le.prototype,"targetNode"),Le.prototype),wt(Le.prototype,"textPosition",[d.m],Object.getOwnPropertyDescriptor(Le.prototype,"textPosition"),Le.prototype),wt(Le.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setProperty"),Le.prototype),wt(Le.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setProperties"),Le.prototype),wt(Le.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setStyle"),Le.prototype),wt(Le.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setStyles"),Le.prototype),wt(Le.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateStyles"),Le.prototype),wt(Le.prototype,"formatText",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"formatText"),Le.prototype),wt(Le.prototype,"resetTextPosition",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"resetTextPosition"),Le.prototype),wt(Le.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"moveText"),Le.prototype),wt(Le.prototype,"setText",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setText"),Le.prototype),wt(Le.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateText"),Le.prototype),wt(Le.prototype,"setAnchors",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setAnchors"),Le.prototype),wt(Le.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setSelected"),Le.prototype),wt(Le.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setHovered"),Le.prototype),wt(Le.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setHitable"),Le.prototype),wt(Le.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"openEdgeAnimation"),Le.prototype),wt(Le.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"closeEdgeAnimation"),Le.prototype),wt(Le.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setElementState"),Le.prototype),wt(Le.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateStartPoint"),Le.prototype),wt(Le.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"moveStartPoint"),Le.prototype),wt(Le.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateEndPoint"),Le.prototype),wt(Le.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"moveEndPoint"),Le.prototype),wt(Le.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"setZIndex"),Le.prototype),wt(Le.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"initPoints"),Le.prototype),wt(Le.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateAttributes"),Le.prototype),wt(Le.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"getAdjustStart"),Le.prototype),wt(Le.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"getAdjustEnd"),Le.prototype),wt(Le.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateAfterAdjustStartAndEnd"),Le.prototype),Le),fs=ls;function ps(t){return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}function mp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mp(Object(n),!0).forEach(function(r){wp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ds(){return ds=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=bg(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ds.apply(this,arguments)}function bg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ti(t))!==null;);return t}function hs(t,e){return hs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},hs(t,e)}function _g(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ti(t);if(e){var o=Ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Og(this,n)}}function Og(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Op(t)}function Op(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ti(t){return Ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ti(t)}function wp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt,xp,ys=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&hs(i,a)})(u,t);var e,n,r,o=_g(u);function u(){var i;mg(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return wp(Op(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.LINE_EDGE),i}return e=u,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return bp(bp({},ds(Ti(u.prototype),"getEdgeStyle",this).call(this)),an(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&_p(e.prototype,n),r&&_p(e,r),u}(fs);function vs(t){return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function wg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ep(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ep(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ep(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sp(Object(n),!0).forEach(function(r){ms(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xg(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Eg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pa(){return pa=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Sg(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},pa.apply(this,arguments)}function Sg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Io(t))!==null;);return t}function gs(t,e){return gs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},gs(t,e)}function jg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Io(t);if(e){var o=Io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pg(this,n)}}function Pg(t,e){if(e&&(vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return da(t)}function da(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Io(t){return Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Io(t)}function ms(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var bs=(Pt=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&gs(i,a)})(u,t);var e,n,r,o=jg(u);function u(){var i;Eg(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return ms(da(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.POLYLINE_EDGE),ms(da(i),"draginngPointList",void 0),xg(da(i),"dbClickPosition",xp,da(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=30,pa(Io(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return jp(jp({},pa(Io(u.prototype),"getEdgeStyle",this).call(this)),an(i))}},{key:"getTextPosition",value:function(){var i,a=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!a){var f=this.dbClickPosition;return{x:f.x,y:f.y}}var g=Ci(this.points),_=wg(Dg(g),2),P=_[0],N=_[1];return{x:(P.x+N.x)/2,y:(P.y+N.y)/2}}},{key:"getAfterAnchor",value:function(i,a,f){var g,_;return f.forEach(function(P){var N;i===Qt.HORIZONTAL?N=Math.abs(a.y-P.y):i===Qt.VERTICAL&&(N=Math.abs(a.x-P.x)),(!_||_>N)&&(_=N,g=P)}),g}},{key:"getCorssPoint",value:function(i,a,f){var g;return i===Qt.HORIZONTAL?g={x:f.x,y:a.y}:i===Qt.VERTICAL&&(g={x:a.x,y:f.y}),g}},{key:"removeCrossPoints",value:function(i,a,f){var g=f.map(function(xe){return xe});if(i===1){var _=g[i],P=g[a],N=g[i-1];if(Rp(N,_,this.sourceNode)){if(Ip(_,P,this.sourceNode)){var C=Lp(_,P,this.sourceNode);C&&(g[i]=C,g.splice(i-1,1),i--,a--)}}else this.sourceNode.anchors.forEach(function(xe){(xe.x===N.x&&xe.x===_.x||xe.y===N.y&&xe.y===_.y)&&Vr(xe.x,xe.y,_.x,_.y)<Vr(N.x,N.y,_.x,_.y)&&(g[i-1]=xe)})}if(a===f.length-2){var Y=g[i],fe=g[a],ye=g[a+1];if(Rp(fe,ye,this.targetNode)){if(Ip(Y,fe,this.targetNode)){var je=Lp(Y,fe,this.targetNode);je&&(g[a]=je,g.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(xe){(xe.x===ye.x&&xe.x===fe.x||xe.y===ye.y&&xe.y===fe.y)&&Vr(xe.x,xe.y,fe.x,fe.y)<Vr(ye.x,ye.y,fe.x,fe.y)&&(g[a+1]=xe)})}return g}},{key:"getDragingPoints",value:function(i,a,f,g,_){var P=_.map(function(Y){return Y}),N=this.getAfterAnchor(i,f,g),C=this.getCorssPoint(i,f,N);return a==="start"?(P.unshift(C),P.unshift(N)):(P.push(C),P.push(N)),P}},{key:"updateCrossPoints",value:function(i){var a=i.map(function(Ie){return Ie}),f=i[0],g=i[1],_=i[a.length-2],P=i[a.length-1],N=this.sourceNode,C=this.targetNode,Y=N.modelType,fe=C.modelType,ye=Ba(f,g),je=a[0];switch(Y){case Ct.RECT_NODE:N.radius!==0&&(lp(f,N)||(je=cp(f,ye,N)));break;case Ct.CIRCLE_NODE:je=us(f,ye,N);break;case Ct.ELLIPSE_NODE:je=fp(f,ye,N);break;case Ct.DIAMOND_NODE:case Ct.POLYGON_NODE:je=pp(f,ye,N)}a[0]=je;var xe=Ba(_,P),Pe=a[a.length-1];switch(fe){case Ct.RECT_NODE:C.radius!==0&&(lp(P,C)||(Pe=cp(P,xe,C)));break;case Ct.CIRCLE_NODE:Pe=us(P,xe,C);break;case Ct.ELLIPSE_NODE:Pe=fp(P,xe,C);break;case Ct.DIAMOND_NODE:case Ct.POLYGON_NODE:Pe=pp(P,xe,C)}return a[a.length-1]=Pe,a}},{key:"getData",value:function(){var i=pa(Io(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return Object.assign({},i,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Cp({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,a){this.isDragging=!0;var f=i.start,g=i.end,_=i.startIndex,P=i.endIndex,N=i.direction,C=this.pointsList,Y=C;return N===Qt.HORIZONTAL?(C[_]={x:f.x,y:f.y+a.y},C[P]={x:g.x,y:g.y+a.y},Y=this.pointsList.map(function(fe){return fe})):N===Qt.VERTICAL&&(C[_]={x:f.x+a.x,y:f.y},C[P]={x:g.x+a.x,y:g.y},Y=this.pointsList.map(function(fe){return fe})),this.updatePointsAfterDrage(Y),this.draginngPointList=Y,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},C[_]),end:Object.assign({},C[P]),startIndex:_,endIndex:P,direction:N}}},{key:"dragAppend",value:function(i,a){this.isDragging=!0;var f=i.start,g=i.end,_=i.startIndex,P=i.endIndex,N=i.direction,C=this.pointsList;if(N===Qt.HORIZONTAL){C[_]={x:f.x,y:f.y+a.y},C[P]={x:g.x,y:g.y+a.y};var Y=this.pointsList.map(function(vt){return vt});if(_!==0&&P!==this.pointsList.length-1&&(Y=this.removeCrossPoints(_,P,Y)),_===0){var fe={x:f.x,y:f.y+a.y};if(!Ro(fe,this.sourceNode)){var ye=this.sourceNode.anchors;Y=this.getDragingPoints(N,"start",fe,ye,Y)}}if(P===this.pointsList.length-1){var je={x:g.x,y:g.y+a.y};if(!Ro(je,this.targetNode)){var xe=this.targetNode.anchors;Y=this.getDragingPoints(N,"end",je,xe,Y)}}Y=Ss(Y),this.updatePointsAfterDrage(Y),this.draginngPointList=Y}else if(N===Qt.VERTICAL){C[_]={x:f.x+a.x,y:f.y},C[P]={x:g.x+a.x,y:g.y};var Pe=this.pointsList.map(function(vt){return vt});if(_!==0&&P!==this.pointsList.length-1&&(Pe=this.removeCrossPoints(_,P,Pe)),_===0){var Ie={x:f.x+a.x,y:f.y};if(!Ro(Ie,this.sourceNode)){var We=this.sourceNode.anchors;Pe=this.getDragingPoints(N,"start",Ie,We,Pe)}}if(P===this.pointsList.length-1){var Ve={x:g.x+a.x,y:g.y};if(!Ro(Ve,this.targetNode)){var rt=this.targetNode.anchors;Pe=this.getDragingPoints(N,"end",Ve,rt,Pe)}}Pe=Ss(Pe),this.updatePointsAfterDrage(Pe),this.draginngPointList=Pe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},C[_]),end:Object.assign({},C[P]),startIndex:_,endIndex:P,direction:N}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var i=Ci(this.points);this.pointsList=i.map(function(g){return g}),this.draginngPointList=[];var a=i[0];this.startPoint=Object.assign({},a);var f=i[i.length-1];this.endPoint=Object.assign({},f)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(i){var a=this.updateCrossPoints(i);this.points=a.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,g=i.sourceNode,_=i.targetNode,P=Cp({x:a.x,y:a.y},{x:f.x,y:f.y},g,_,this.offset||0);this.pointsList=P,this.initPoints()}}])&&Pp(e.prototype,n),r&&Pp(e,r),u}(fs),xp=Yn(Pt.prototype,"dbClickPosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yn(Pt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"initPoints"),Pt.prototype),Yn(Pt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updatePoints"),Pt.prototype),Yn(Pt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updateStartPoint"),Pt.prototype),Yn(Pt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"moveStartPoint"),Pt.prototype),Yn(Pt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updateEndPoint"),Pt.prototype),Yn(Pt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"moveEndPoint"),Pt.prototype),Yn(Pt.prototype,"dragAppendStart",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppendStart"),Pt.prototype),Yn(Pt.prototype,"dragAppendSimple",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppendSimple"),Pt.prototype),Yn(Pt.prototype,"dragAppend",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppend"),Pt.prototype),Yn(Pt.prototype,"dragAppendEnd",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppendEnd"),Pt.prototype),Yn(Pt.prototype,"updatePointsAfterDrage",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updatePointsAfterDrage"),Pt.prototype),Yn(Pt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"getAdjustStart"),Pt.prototype),Yn(Pt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"getAdjustEnd"),Pt.prototype),Yn(Pt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updateAfterAdjustStartAndEnd"),Pt.prototype),Pt),ha=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,u=t.type,i={leftX:0,leftY:0,rightX:0,rightY:0},a=Math.atan((n.y-e.y)/(n.x-e.x)),f=Math.atan(r/o),g=Math.sqrt(o*o+r*r);return u==="start"?n.x>=e.x?(i.leftX=e.x+g*Math.sin(a+f),i.leftY=e.y-g*Math.cos(a+f),i.rightX=e.x-g*Math.sin(a-f),i.rightY=e.y+g*Math.cos(a-f)):(i.leftX=e.x-g*Math.sin(a+f),i.leftY=e.y+g*Math.cos(a+f),i.rightX=e.x+g*Math.sin(a-f),i.rightY=e.y-g*Math.cos(a-f)):u==="end"&&(n.x>=e.x?(i.leftX=n.x+g*Math.sin(a-f),i.leftY=n.y-g*Math.cos(a-f),i.rightX=n.x-g*Math.sin(a+f),i.rightY=n.y+g*Math.cos(a+f)):(i.leftX=n.x-g*Math.sin(a-f),i.leftY=n.y+g*Math.cos(a-f),i.rightX=n.x+g*Math.sin(a+f),i.rightY=n.y-g*Math.cos(a+f))),i};function Mp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mp(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kg(t){return function(e){if(Array.isArray(e))return ws(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||kp(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _s(t){return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function Os(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||kp(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kp(t,e){if(t){if(typeof t=="string")return ws(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ws(t,e):void 0}}function ws(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xs=function(t){var e=[],n={};return t.forEach(function(r){var o="".concat(r.x,"-").concat(r.y);r.id=o,n[o]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},Ra=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Ia=function(t,e){var n=function(r,o){var u=Math.abs(r.x-o.centerX),i=Math.abs(r.y-o.centerY);return u/o.width>i/o.height?Qt.HORIZONTAL:Qt.VERTICAL}(e,t);return n===Qt.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Np=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),u=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+u)/2,minX:n,minY:r,maxX:o,maxY:u,height:u-r,width:o-n}},ya=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(_){n.push(_.x),r.push(_.y)});var o=Math.min.apply(Math,n),u=Math.max.apply(Math,n),i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),f=u-o,g=a-i;return e&&(f+=e,g+=e),{centerX:(o+u)/2,centerY:(i+a)/2,maxX:u,maxY:a,minX:o,minY:i,x:(o+u)/2,y:(i+a)/2,height:g,width:f}},La=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},za=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Es=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Ap=function(t,e,n,r,o){return Es(t,e)+Es(t,n)+function(u,i){var a=0;return i.forEach(function(f){f&&(u.x===f.x&&(a+=-2),u.y===f.y&&(a+=-2))}),a}(t,[e,n,r,o])},Ng=function t(e,n,r,o,u){u||(u=0),e.unshift(n[o]),r[o]&&r[o]!==o&&u<=100&&t(e,n,r,r[o],u+1)},va=function(t,e,n,r){var o=e.x-t.x,u=e.y-t.y,i=r.x-n.x,a=r.y-n.y,f=(-u*(t.x-n.x)+o*(t.y-n.y))/(-i*u+o*a),g=(i*(t.y-n.y)-a*(t.x-n.x))/(-i*u+o*a);return f>=0&&f<=1&&g>=0&&g<=1},Dp=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Os(La(n),4),o=r[0],u=r[1],i=r[2],a=r[3];return va(t,e,o,u)||va(t,e,o,a)||va(t,e,u,i)||va(t,e,i,a)},Ag=function(t,e,n,r,o,u,i){var a=[],f=[e],g={},_={},P={};_[e.id]=0,P[e.id]=Ap(e,n,e);var N={};t.forEach(function(fe){N[fe.id]=fe});for(var C=function(){var fe,ye,je,xe=void 0,Pe=1/0;if(f.forEach(function(We){P[We.id]<Pe&&(Pe=P[We.id],xe=We)}),xe===n){var Ie=[];return Ng(Ie,N,g,n.id),{v:Ie}}ye=xe,(je=(fe=f).indexOf(ye))>-1&&fe.splice(je,1),a.push(xe),function(We,Ve,rt,vt){var At=[];return We.forEach(function(lt){lt!==Ve&&(lt.x!==Ve.x&&lt.y!==Ve.y||Dp(lt,Ve,rt)||Dp(lt,Ve,vt)||At.push(lt))}),xs(At)}(t,xe,r,o).forEach(function(We){if(a.indexOf(We)===-1){f.indexOf(We)===-1&&f.push(We);var Ve=P[xe.id]+Es(xe,We);_[We.id]&&Ve>=_[We.id]||(g[We.id]=xe.id,_[We.id]=Ve,P[We.id]=_[We.id]+Ap(We,n,e,u,i))}})};f.length;){var Y=C();if(_s(Y)==="object")return Y.v}return[e,n]},Tp=function(t){return sr(t)},Ss=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],o=e[n],u=e[n+1];r.x===o.x&&o.x===u.x||r.y===o.y&&o.y===u.y?e.splice(n,1):n++}return e},Cp=function(t,e,n,r,o){var u,i,a=Tp(n),f=Tp(r),g=Ra(a,o),_=Ra(f,o),P=Ia(g,t),N=Ia(_,e);if(u=g,i=_,2*Math.abs(u.centerX-i.centerX)<u.width+i.width&&2*Math.abs(u.centerY-i.centerY)<u.height+i.height){var C=Tg(t,e,P,N);return[t,P].concat(kg(C),[N,e])}var Y=ya([P,N]),fe=Np(g,Y),ye=Np(_,Y),je=[];je=(je=je.concat(La(fe))).concat(La(ye));var xe={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[Y,fe,ye].forEach(function(Ie){je=je.concat(function(We,Ve){return function(rt,vt){return vt<rt.minX||vt>rt.maxX?[]:[{x:vt,y:rt.minY},{x:vt,y:rt.maxY}]}(We,Ve.x).concat(function(rt,vt){return vt<rt.minY||vt>rt.maxY?[]:[{x:rt.minX,y:vt},{x:rt.maxX,y:vt}]}(We,Ve.y))}(Ie,xe).filter(function(We){return za(We,g)&&za(We,_)}))}),[{x:P.x,y:N.y},{x:N.x,y:P.y}].forEach(function(Ie){za(Ie,g)&&za(Ie,_)&&je.push(Ie)}),je.unshift(P),je.push(N),je=xs(je);var Pe=Ag(je,P,N,a,f,t,e);return Pe.unshift(t),Pe.push(e),Pe.length>2&&(Pe=Ss(Pe)),xs(Pe)},Dg=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Vr(n.x,n.y,r.x,r.y),u=1;u<t.length-1;u++){var i=t[u],a=t[u+1],f=Vr(i.x,i.y,a.x,a.y);f>o&&(o=f,n=i,r=a)}e=[n,r]}return e},Rp=function(t,e,n){var r=Ro(t,n),o=Ro(e,n);return r&&o},Ip=function(t,e,n){var r=Ro(t,n),o=Ro(e,n);return!(r&&o)&&(r||o)},Lp=function(t,e,n){for(var r,o,u=sr(n),i=La(u),a=0;a<i.length;a++)va(t,e,i[a],i[(a+1)%i.length])&&(o=[i[a],i[(a+1)%i.length]]);return o&&(r=function(f,g,_,P){var N=(g.y-f.y)*(P.x-_.x)-(f.x-g.x)*(_.y-P.y);if(N===0)return!1;var C=((g.x-f.x)*(P.x-_.x)*(_.y-f.y)+(g.y-f.y)*(P.x-_.x)*f.x-(P.y-_.y)*(g.x-f.x)*_.x)/N,Y=-((g.y-f.y)*(P.y-_.y)*(_.x-f.x)+(g.x-f.x)*(P.y-_.y)*f.y-(P.x-_.x)*(g.y-f.y)*_.y)/N;return(C-f.x)*(C-g.x)<=0&&(Y-f.y)*(Y-g.y)<=0&&(C-_.x)*(C-P.x)<=0&&(Y-_.y)*(Y-P.y)<=0&&{x:C,y:Y}}(t,e,o[0],o[1])),r},Ba=function(t,e){var n;return t.x===e.x?n=Qt.VERTICAL:t.y===e.y&&(n=Qt.HORIZONTAL),n},Ci=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var o=Os(r.split(","),2),u=o[0],i=o[1];n.push({x:Number(u),y:Number(i)})}),n},Tg=function(t,e,n,r){var o=[];if(Ba(t,n)===Ba(e,r))t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var u={x:n.x,y:r.y},i=fa(u,t,n),a=fa(u,e,r);if(i||a)u={x:r.x,y:n.y};else{var f=zp(u,t,n),g=zp(u,e,r);f&&g&&(u={x:r.x,y:n.y})}o.push(u)}return o},zp=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Bp=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Hp=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,u=t.offset,i=sr(r),a=sr(o),f=Ra(i,u),g=Ra(a,u);return{sNext:Ia(f,e),ePre:Ia(g,n)}},Ha=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ga(e[0]),Ga(e[1]),Ga(e[2]),Ga(e[3])]},Ga=function(t){var e=Os(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Gp=function(t,e){for(var n,r=t.x,o=t.y,u=Ci(e),i=Number.MAX_SAFE_INTEGER,a=[],f=0;f<u.length;f++)a.push({start:u[f],end:u[(f+1)%u.length]});if(a.forEach(function(N){var C=N.start,Y=N.end;if(C.x===Y.x){var fe={x:C.x,y:o};if(fa(fe,C,Y)){var ye=Math.abs(C.x-r);ye<i&&(i=ye,n=fe)}}else if(C.y===Y.y){var je={x:r,y:C.y};if(fa(je,C,Y)){var xe=Math.abs(C.y-o);xe<i&&(i=xe,n=je)}}}),!n){var g=a[0],_=g.start,P=g.end;n={x:_.x+(P.x-_.x)/2,y:_.y+(P.y-_.y)/2}}return n},Cg=function(t){return ca(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Fp=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};s(204);var Ri=function(){};function Xp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wr=window.document;function js(t){var e=t.onDragStart,n=e===void 0?Ri:e,r=t.onDraging,o=r===void 0?Ri:r,u=t.onDragEnd,i=u===void 0?Ri:u,a=t.step,f=a===void 0?1:a,g=t.isStopPropagation,_=g===void 0||g,P=!1,N=!1,C=0,Y=0,fe=0,ye=0;function je(Pe){if(_&&Pe.stopPropagation(),N&&(P=!0,fe+=Pe.clientX-C,ye+=Pe.clientY-Y,C=Pe.clientX,Y=Pe.clientY,Math.abs(fe)>f||Math.abs(ye)>f)){var Ie=fe%f,We=ye%f,Ve=fe-Ie,rt=ye-We;fe=Ie,ye=We,o({deltaX:Ve,deltaY:rt,event:Pe})}}function xe(Pe){if(_&&Pe.stopPropagation(),N=!1,Wr.removeEventListener("mousemove",je,!1),Wr.removeEventListener("mouseup",xe,!1),P)return P=!1,i({event:Pe})}return function(Pe){if(Pe.button===0)return _&&Pe.stopPropagation(),N=!0,C=Pe.clientX,Y=Pe.clientY,Wr.addEventListener("mousemove",je,!1),Wr.addEventListener("mouseup",xe,!1),n({event:Pe})}}var Ne,Up,Yp,Vp,Wp,Zp,Kp,$p,Jp,qp,Qp,ed,td,si=function(){function t(o){var u=this,i=o.onDragStart,a=i===void 0?Ri:i,f=o.onDraging,g=f===void 0?Ri:f,_=o.onDragEnd,P=_===void 0?Ri:_,N=o.eventType,C=N===void 0?"":N,Y=o.eventCenter,fe=Y===void 0?null:Y,ye=o.step,je=ye===void 0?1:ye,xe=o.isStopPropagation,Pe=xe===void 0||xe,Ie=o.model,We=Ie===void 0?null:Ie;(function(Ve,rt){if(!(Ve instanceof rt))throw new TypeError("Cannot call a class as a function")})(this,t),dn(this,"onDragStart",void 0),dn(this,"onDraging",void 0),dn(this,"onDragEnd",void 0),dn(this,"step",void 0),dn(this,"isStopPropagation",void 0),dn(this,"isDraging",!1),dn(this,"isStartDraging",!1),dn(this,"startX",0),dn(this,"startY",0),dn(this,"sumDeltaX",0),dn(this,"sumDeltaY",0),dn(this,"eventType",void 0),dn(this,"eventCenter",void 0),dn(this,"model",void 0),dn(this,"startTime",void 0),dn(this,"isGrag",void 0),dn(this,"handleMouseDown",function(Ve){var rt,vt;if(Ve.button===0){u.isStopPropagation&&Ve.stopPropagation(),u.isStartDraging=!0,u.startX=Ve.clientX,u.startY=Ve.clientY,Wr.addEventListener("mousemove",u.handleMouseMove,!1),Wr.addEventListener("mouseup",u.handleMouseUp,!1);var At=(rt=u.model)===null||rt===void 0?void 0:rt.getData();(vt=u.eventCenter)===null||vt===void 0||vt.emit(jt["".concat(u.eventType,"_MOUSEDOWN")],{e:Ve,data:At}),u.startTime=new Date().getTime()}}),dn(this,"handleMouseMove",function(Ve){if(u.isStopPropagation&&Ve.stopPropagation(),u.isStartDraging&&(u.sumDeltaX+=Ve.clientX-u.startX,u.sumDeltaY+=Ve.clientY-u.startY,u.startX=Ve.clientX,u.startY=Ve.clientY,u.step<=1||Math.abs(u.sumDeltaX)>u.step||Math.abs(u.sumDeltaY)>u.step)){var rt,vt=u.sumDeltaX%u.step,At=u.sumDeltaY%u.step,lt=u.sumDeltaX-vt,Ut=u.sumDeltaY-At;u.sumDeltaX=vt,u.sumDeltaY=At;var on,An=(rt=u.model)===null||rt===void 0?void 0:rt.getData();u.isDraging||((on=u.eventCenter)===null||on===void 0||on.emit(jt["".concat(u.eventType,"_DRAGSTART")],{e:Ve,data:An}),u.onDragStart({event:Ve})),u.isDraging=!0,Promise.resolve().then(function(){var Dn,mn;u.onDraging({deltaX:lt,deltaY:Ut,event:Ve}),(Dn=u.eventCenter)===null||Dn===void 0||Dn.emit(jt["".concat(u.eventType,"_MOUSEMOVE")],{e:Ve,data:An}),(mn=u.eventCenter)===null||mn===void 0||mn.emit(jt["".concat(u.eventType,"_DRAG")],{e:Ve,data:An})})}}),dn(this,"handleMouseUp",function(Ve){u.isStartDraging=!1,u.isStopPropagation&&Ve.stopPropagation(),Promise.resolve().then(function(){var rt,vt,At;Wr.removeEventListener("mousemove",u.handleMouseMove,!1),Wr.removeEventListener("mouseup",u.handleMouseUp,!1);var lt=(rt=u.model)===null||rt===void 0?void 0:rt.getData();(vt=u.eventCenter)===null||vt===void 0||vt.emit(jt["".concat(u.eventType,"_MOUSEUP")],{e:Ve,data:lt}),u.isDraging&&(u.isDraging=!1,u.onDragEnd({event:Ve}),(At=u.eventCenter)===null||At===void 0||At.emit(jt["".concat(u.eventType,"_DROP")],{e:Ve,data:lt}))})}),dn(this,"cancelDrag",function(){Wr.removeEventListener("mousemove",u.handleMouseMove,!1),Wr.removeEventListener("mouseup",u.handleMouseUp,!1),u.isDraging=!1}),this.onDragStart=a,this.onDraging=g,this.onDragEnd=P,this.step=je,this.isStopPropagation=Pe,this.eventType=C,this.eventCenter=fe,this.model=We}var e,n,r;return e=t,(n=[{key:"setStep",value:function(o){this.step=o}}])&&Xp(e.prototype,n),r&&Xp(e,r),t}();function nd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nd(Object(n),!0).forEach(function(r){vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rd(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||od(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ii(t){return function(e){if(Array.isArray(e))return Ps(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||od(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function od(t,e){if(t){if(typeof t=="string")return Ps(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ps(t,e):void 0}}function Ps(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xa(t){return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xa(t)}function gr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function id(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var ad,ud=200,sd=(Ne=function(){function t(o){(function(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")})(this,t),vo(this,"rootEl",void 0),gr(this,"width",Up,this),gr(this,"height",Yp,this),vo(this,"theme",void 0),vo(this,"eventCenter",void 0),vo(this,"modelMap",new Map),vo(this,"topElement",void 0),vo(this,"animation",void 0),vo(this,"idGenerator",void 0),vo(this,"nodeMoveRules",[]),gr(this,"edgeType",Vp,this),gr(this,"nodes",Wp,this),gr(this,"edges",Zp,this),gr(this,"overlapMode",Kp,this),gr(this,"background",$p,this),gr(this,"transformModel",Jp,this),gr(this,"editConfigModel",qp,this),gr(this,"gridSize",Qp,this),gr(this,"partial",ed,this),gr(this,"fakerNode",td,this);var u,i=o.container,a=o.background,f=a===void 0?{}:a,g=o.grid,_=o.idGenerator,P=o.animation;this.background=f,Xa(g)==="object"&&(this.gridSize=g.size),this.rootEl=i,this.editConfigModel=new df(o),this.eventCenter=new rg,this.transformModel=new xv(this.eventCenter),this.theme=Lf(o.style),this.edgeType=o.edgeType||"polyline",o.width||(o.width=i.getBoundingClientRect().width),o.height||(o.height=i.getBoundingClientRect().height),this.width=o.width,this.height=o.height,this.animation=(u=P)&&typeof u!="boolean"?If(an(yp),u):an(u===!0?hg:yp),this.partial=o.partial,this.overlapMode=o.overlapMode||0,this.idGenerator=_}var e,n,r;return e=t,n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"modelsMap",get:function(){return[].concat(Ii(this.nodes),Ii(this.edges)).reduce(function(o,u){return o[u.id]=u,o},{})}},{key:"sortElements",get:function(){var o=[];this.nodes.forEach(function(N){return o.push(N)}),this.edges.forEach(function(N){return o.push(N)}),o=o.sort(function(N,C){return N.zIndex-C.zIndex});for(var u=[],i=-1,a=[-200,-200],f=[this.width+ud,this.height+ud],g=0;g<o.length;g++){var _=o[g];_.visible&&(!this.partial||_.isSelected||this.isElementInArea(_,a,f,!1,!1))&&(_.zIndex===9999&&(i=u.length),u.push(_))}if(i!==-1){var P=u[u.length-1];u[u.length-1]=u[i],u[i]=P}return u}},{key:"textEditElement",get:function(){var o=this.nodes.find(function(i){return i.state===Xt.TEXT_EDIT}),u=this.edges.find(function(i){return i.state===Xt.TEXT_EDIT});return o||u}},{key:"selectElements",get:function(){var o=new Map;return this.nodes.forEach(function(u){u.isSelected&&o.set(u.id,u)}),this.edges.forEach(function(u){u.isSelected&&o.set(u.id,u)}),o}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=[],g=[];this.nodes.forEach(function(N){return g.push(N)}),this.edges.forEach(function(N){return g.push(N)});for(var _=0;_<g.length;_++){var P=g[_];this.isElementInArea(P,o,u,i,a)&&f.push(P)}return f}},{key:"getModel",value:function(o){return this.modelMap.get(o)}},{key:"getNodeModelById",value:function(o){var u;return this.fakerNode&&o===this.fakerNode.id?this.fakerNode:(u=this.nodesMap[o])===null||u===void 0?void 0:u.model}},{key:"getPointByClient",value:function(o){var u=o.x,i=o.y,a=this.rootEl.getBoundingClientRect(),f={x:u-a.left,y:i-a.top},g=rd(this.transformModel.HtmlPointToCanvasPoint([f.x,f.y]),2);return{domOverlayPosition:f,canvasOverlayPosition:{x:g[0],y:g[1]}}}},{key:"isElementInArea",value:function(o,u,i){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(o.BaseType===vn.NODE){for(var g=sr(o=o),_=g.minX,P=g.minY,N=g.maxX,C=g.maxY,Y=[{x:_,y:P},{x:N,y:P},{x:N,y:C},{x:_,y:C}],fe=f,ye=0;ye<Y.length;ye++){var je=Y[ye],xe=je.x,Pe=je.y,Ie=this.transformModel.CanvasPointToHtmlPoint([xe,Pe]),We=rd(Ie,2);if(xe=We[0],Pe=We[1],ns([xe,Pe],u,i)!==f){fe=!f;break}}return fe}if(o.BaseType===vn.EDGE){var Ve=o=o,rt=Ve.startPoint,vt=Ve.endPoint,At=this.transformModel.CanvasPointToHtmlPoint([rt.x,rt.y]),lt=this.transformModel.CanvasPointToHtmlPoint([vt.x,vt.y]),Ut=ns(At,u,i),on=ns(lt,u,i);return a?Ut&&on:Ut||on}return!1}},{key:"graphDataToModel",value:function(o){var u=this;this.nodes=Ni(o.nodes,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var f=i.x,g=i.y;return f&&g&&(i.x=Di(f,u.gridSize),i.y=Di(g,u.gridSize),Xa(i.text)==="object"&&(i.text.x-=Bf(f,u.gridSize),i.text.y-=Bf(g,u.gridSize))),new a(i,u)}),this.edges=Ni(o.edges,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(i,u)})}},{key:"modelToGraphData",value:function(){var o=[];this.edges.forEach(function(i){var a=i.getData();a&&o.push(a)});var u=[];return this.nodes.forEach(function(i){var a=i.getData();a&&u.push(a)}),{nodes:u,edges:o}}},{key:"modelToHistoryData",value:function(){for(var o=!1,u=[],i=0;i<this.nodes.length;i++){var a=this.nodes[i];if(a.isDragging){o=!0;break}u.push(a.getHistoryData())}if(o)return!1;for(var f=!1,g=[],_=0;_<this.edges.length;_++){var P=this.edges[_];if(P.isDragging){f=!0;break}g.push(P.getHistoryData())}return!f&&{nodes:u,edges:g}}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getElement",value:function(o){return this.modelsMap[o]}},{key:"getNodeEdges",value:function(o){for(var u=[],i=0;i<this.edges.length;i++){var a=this.edges[i],f=this.edges[i].sourceNodeId===o,g=this.edges[i].targetNodeId===o;(f||g)&&u.push(a)}return u}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],u=this.selectElements,i={nodes:[],edges:[]};return u.forEach(function(a){if(a.BaseType===vn.NODE&&i.nodes.push(a.getData()),a.BaseType===vn.EDGE){var f=a.getData(),g=u.get(f.sourceNodeId)&&u.get(f.targetNodeId);(o||g)&&i.edges.push(f)}}),i}},{key:"updateAttributes",value:function(o,u){this.getElement(o).updateAttributes(u)}},{key:"changeNodeId",value:function(o,u){return u||(u=ui()),this.nodesMap[u]?"":this.nodesMap[o]?(this.edges.forEach(function(i){i.sourceNodeId===o&&(i.sourceNodeId=u),i.targetNodeId===o&&(i.targetNodeId=u)}),this.nodesMap[o].model.id=u,u):""}},{key:"changeEdgeId",value:function(o,u){return u||(u=ui()),this.edgesMap[u]?"":this.edgesMap[o]?(this.edges.forEach(function(i){i.id===o&&(i.id=u)}),u):""}},{key:"setFakerNode",value:function(o){this.fakerNode=o}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(o,u){return this.modelMap.set(o,u)}},{key:"toFront",value:function(o){var u,i,a,f=((u=this.nodesMap[o])===null||u===void 0?void 0:u.model)||((i=this.edgesMap[o])===null||i===void 0?void 0:i.model);f&&(this.overlapMode===ur.DEFAULT&&((a=this.topElement)===null||a===void 0||a.setZIndex(),f.setZIndex(9999),this.topElement=f),this.overlapMode===ur.INCREASE&&this.setElementZIndex(o,"top"))}},{key:"setElementZIndex",value:function(o,u){var i,a,f,g=((i=this.nodesMap[o])===null||i===void 0?void 0:i.model)||((a=this.edgesMap[o])===null||a===void 0?void 0:a.model);g&&(typeof u=="number"&&(f=u),u==="top"&&(f=cs()),u==="bottom"&&(f=--gg),g.setZIndex(f))}},{key:"deleteNode",value:function(o){var u=this.nodesMap[o].model.getData();this.deleteEdgeBySource(o),this.deleteEdgeByTarget(o),this.nodes.splice(this.nodesMap[o].index,1),this.eventCenter.emit(jt.NODE_DELETE,{data:u})}},{key:"addNode",value:function(o){var u=Bn(o);u.id&&this.nodesMap[o.id]&&delete u.id;var i=this.getModel(u.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(u.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new i(u,this);this.nodes.push(a);var f=a.getData();return this.eventCenter.emit(jt.NODE_ADD,{data:f}),a}},{key:"cloneNode",value:function(o){var u=this.getNodeModelById(o),i=u.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var a=this.addNode(i);return a.setSelected(!0),u.setSelected(!1),a.getData()}},{key:"moveNode",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var g=f.model,_=g.move(u,i,a);_&&this.moveEdge(o,u,i)}}},{key:"moveNode2Coordinate",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var g=f.model,_=g.x,P=g.y,N=u-_,C=i-P;this.moveNode(o,N,C,a)}}},{key:"editText",value:function(o){this.setElementStateById(o,Xt.TEXT_EDIT)}},{key:"addEdge",value:function(o){var u=Bn(o),i=u.type;i||(i=this.edgeType),u.id&&this.edgesMap[u.id]&&delete u.id;var a=this.getModel(i);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var f=new a(Fa(Fa({},u),{},{type:i}),this),g=f.getData();return this.edges.push(f),this.eventCenter.emit(jt.EDGE_ADD,{data:g}),f}},{key:"moveEdge",value:function(o,u,i){for(var a=0;a<this.edges.length;a++){var f,g=this.edges[a],_=g.textPosition,P=_.x,N=_.y,C=this.edges[a].sourceNodeId===o,Y=this.edges[a].targetNodeId===o;if(C&&g.moveStartPoint(u,i),Y&&g.moveEndPoint(u,i),C||Y)if(g.customTextPosition===!0)g.resetTextPosition();else if(g.modelType===Ct.POLYLINE_EDGE&&(f=g.text)!==null&&f!==void 0&&f.value){var fe=g.text,ye=Gp(fe,g.points);g.moveText(ye.x-fe.x,ye.y-fe.y)}else{var je=g.textPosition,xe=je.x,Pe=je.y;g.moveText(xe-P,Pe-N)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(o,u){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===o&&this.edges[i].targetNodeId===u){var a=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(jt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(o){if(this.edgesMap[o]){var u=this.edgesMap[o].index,i=this.edgesMap[o].model.getData();this.edges.splice(u,1),this.eventCenter.emit(jt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].sourceNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(jt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].targetNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(jt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(o,u,i){this.nodes.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Xt.DEFAULT)}),this.edges.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Xt.DEFAULT)})}},{key:"updateText",value:function(o,u){this.nodes.forEach(function(i){i.id===o&&i.updateText(u)}),this.edges.forEach(function(i){i.id===o&&i.updateText(u)})}},{key:"selectNodeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.nodesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.edgesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||this.clearSelectElements();var i=this.getElement(o);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var o;this.selectElements.forEach(function(u){u==null||u.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===ur.DEFAULT&&((o=this.topElement)===null||o===void 0||o.setZIndex())}},{key:"moveNodes",value:function(o,u,i){var a=this,f=arguments.length>3&&arguments[3]!==void 0&&arguments[3];o.forEach(function(g){return a.moveNode(g,u,i,f)})}},{key:"addNodeMoveRules",value:function(o){this.nodeMoveRules.includes(o)||this.nodeMoveRules.push(o)}},{key:"setDefaultEdgeType",value:function(o){this.edgeType=o}},{key:"changeNodeType",value:function(o,u){var i=this.getNodeModelById(o);if(i){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var g=new f(a,this);this.nodes.splice(this.nodesMap[o].index,1,g),this.getNodeEdges(o).forEach(function(_){if(_.sourceNodeId===o){var P=dp(g,_.startPoint,g.width,g.height);_.updateStartPoint(P)}if(_.targetNodeId===o){var N=dp(g,_.endPoint,g.width,g.height);_.updateEndPoint(N)}})}}},{key:"changeEdgeType",value:function(o,u){var i=this.getEdgeModelById(o);if(i&&i.type!==u){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var g=new f(a,this);this.edges.splice(this.edgesMap[o].index,1,g)}}},{key:"getNodeIncomingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.targetNodeId===o&&u.push(i)}),u}},{key:"getNodeOutgoingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.sourceNodeId===o&&u.push(i)}),u}},{key:"getNodeIncomingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.targetNodeId===o&&i.push(u.nodesMap[a.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.sourceNodeId===o&&i.push(u.nodesMap[a.targetNodeId].model)}),i}},{key:"setTheme",value:function(o){this.theme=Lf(Fa(Fa({},this.theme),o))}},{key:"resize",value:function(o,u){this.width=o!=null?o:this.width,this.height=u!=null?u:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var o=this.nodes,u=[],i=[];o.forEach(function(N){var C=N.x,Y=N.y,fe=N.width,ye=N.height,je=N.getNodeStyle().strokeWidth,xe=je===void 0?0:je;u=u.concat([C+fe/2+xe,C-fe/2-xe]),i=i.concat([Y+ye/2+xe,Y-ye/2-xe])});var a=Math.min.apply(Math,Ii(u)),f=Math.max.apply(Math,Ii(u)),g=Math.min.apply(Math,Ii(i)),_=f-a||0,P=Math.max.apply(Math,Ii(i))-g||0;return{virtualRectWidth:_,virtualRectHeight:P,virtualRectCenterPositionX:a+_/2,virtualRectCenterPositionY:g+P/2}}},{key:"translateCenter",value:function(){var o=this.nodes,u=this.width,i=this.height,a=this.rootEl,f=this.transformModel;if(o.length){var g=u||a.clientWidth,_=i||a.clientHeight,P=this.getVirtualRectSize(),N=P.virtualRectCenterPositionX,C=P.virtualRectCenterPositionY;f.focusOn(N,C,g,_)}}},{key:"fitView",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,i=this.nodes,a=this.width,f=this.height,g=this.rootEl,_=this.transformModel;if(i.length){var P=a||g.clientWidth,N=f||g.clientHeight,C=this.getVirtualRectSize(),Y=C.virtualRectWidth,fe=C.virtualRectHeight,ye=C.virtualRectCenterPositionX,je=C.virtualRectCenterPositionY,xe=(Y+u)/P,Pe=(fe+o)/N,Ie=0;Ie=1/Math.max(xe,Pe);var We=[P/2,N/2];_.zoom(Ie,We),_.focusOn(ye,je,P,N)}}},{key:"openEdgeAnimation",value:function(o){this.getEdgeModelById(o).openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(o){this.getEdgeModelById(o).closeEdgeAnimation()}}],n&&id(e.prototype,n),r&&id(e,r),t}(),Up=yt(Ne.prototype,"width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yp=yt(Ne.prototype,"height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=yt(Ne.prototype,"edgeType",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=yt(Ne.prototype,"nodes",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zp=yt(Ne.prototype,"edges",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kp=yt(Ne.prototype,"overlapMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ur.DEFAULT}}),$p=yt(Ne.prototype,"background",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jp=yt(Ne.prototype,"transformModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qp=yt(Ne.prototype,"editConfigModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qp=yt(Ne.prototype,"gridSize",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ed=yt(Ne.prototype,"partial",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),td=yt(Ne.prototype,"fakerNode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt(Ne.prototype,"nodesMap",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"nodesMap"),Ne.prototype),yt(Ne.prototype,"edgesMap",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"edgesMap"),Ne.prototype),yt(Ne.prototype,"modelsMap",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"modelsMap"),Ne.prototype),yt(Ne.prototype,"sortElements",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"sortElements"),Ne.prototype),yt(Ne.prototype,"textEditElement",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"textEditElement"),Ne.prototype),yt(Ne.prototype,"selectElements",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"selectElements"),Ne.prototype),yt(Ne.prototype,"setFakerNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setFakerNode"),Ne.prototype),yt(Ne.prototype,"removeFakerNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"removeFakerNode"),Ne.prototype),yt(Ne.prototype,"setModel",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setModel"),Ne.prototype),yt(Ne.prototype,"toFront",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"toFront"),Ne.prototype),yt(Ne.prototype,"setElementZIndex",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setElementZIndex"),Ne.prototype),yt(Ne.prototype,"deleteNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteNode"),Ne.prototype),yt(Ne.prototype,"addNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"addNode"),Ne.prototype),yt(Ne.prototype,"cloneNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"cloneNode"),Ne.prototype),yt(Ne.prototype,"moveNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveNode"),Ne.prototype),yt(Ne.prototype,"moveNode2Coordinate",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveNode2Coordinate"),Ne.prototype),yt(Ne.prototype,"editText",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"editText"),Ne.prototype),yt(Ne.prototype,"addEdge",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"addEdge"),Ne.prototype),yt(Ne.prototype,"moveEdge",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveEdge"),Ne.prototype),yt(Ne.prototype,"deleteEdgeBySourceAndTarget",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteEdgeBySourceAndTarget"),Ne.prototype),yt(Ne.prototype,"deleteEdgeById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteEdgeById"),Ne.prototype),yt(Ne.prototype,"deleteEdgeBySource",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteEdgeBySource"),Ne.prototype),yt(Ne.prototype,"deleteEdgeByTarget",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteEdgeByTarget"),Ne.prototype),yt(Ne.prototype,"setElementStateById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setElementStateById"),Ne.prototype),yt(Ne.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateText"),Ne.prototype),yt(Ne.prototype,"selectNodeById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"selectNodeById"),Ne.prototype),yt(Ne.prototype,"selectEdgeById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"selectEdgeById"),Ne.prototype),yt(Ne.prototype,"selectElementById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"selectElementById"),Ne.prototype),yt(Ne.prototype,"clearSelectElements",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"clearSelectElements"),Ne.prototype),yt(Ne.prototype,"moveNodes",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveNodes"),Ne.prototype),yt(Ne.prototype,"setDefaultEdgeType",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setDefaultEdgeType"),Ne.prototype),yt(Ne.prototype,"changeNodeType",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"changeNodeType"),Ne.prototype),yt(Ne.prototype,"changeEdgeType",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"changeEdgeType"),Ne.prototype),yt(Ne.prototype,"getNodeIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getNodeIncomingEdge"),Ne.prototype),yt(Ne.prototype,"getNodeOutgoingEdge",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getNodeOutgoingEdge"),Ne.prototype),yt(Ne.prototype,"getNodeIncomingNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getNodeIncomingNode"),Ne.prototype),yt(Ne.prototype,"getNodeOutgoingNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getNodeOutgoingNode"),Ne.prototype),yt(Ne.prototype,"setTheme",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setTheme"),Ne.prototype),yt(Ne.prototype,"resize",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"resize"),Ne.prototype),yt(Ne.prototype,"clearData",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"clearData"),Ne.prototype),yt(Ne.prototype,"translateCenter",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"translateCenter"),Ne.prototype),yt(Ne.prototype,"fitView",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"fitView"),Ne.prototype),yt(Ne.prototype,"openEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"openEdgeAnimation"),Ne.prototype),yt(Ne.prototype,"closeEdgeAnimation",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"closeEdgeAnimation"),Ne.prototype),Ne),Rg=sd;function Ms(t){return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function ks(){return ks=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ks.apply(this,arguments)}function cd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ns(t,e){return Ns=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ns(t,e)}function Ig(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ua(t);if(e){var o=Ua(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lg(this,n)}}function Lg(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(t)}function Zr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ua(t){return Ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ua(t)}function go(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ld,zg=Tr(ad=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ns(i,a)})(u,t);var e,n,r,o=Ig(u);function u(i){var a;(function(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")})(this,u),go(Zr(a=o.call(this)),"stepDrag",void 0),go(Zr(a),"stepScrollX",0),go(Zr(a),"stepScrollY",0),go(Zr(a),"onDraging",function(P){var N=P.deltaX,C=P.deltaY;a.setState({isDraging:!0});var Y=a.props.graphModel,fe=Y.transformModel;Y.editConfigModel.stopMoveGraph||fe.translate(N,C)}),go(Zr(a),"onDragEnd",function(){a.setState({isDraging:!1})}),go(Zr(a),"zoomHandler",function(P){var N=a.props,C=N.graphModel,Y=C.editConfigModel,fe=C.transformModel,ye=C.gridSize,je=N.graphModel,xe=P.deltaX,Pe=P.deltaY;if(Y.stopScrollGraph||P.ctrlKey===!0){if(!Y.stopZoomGraph){P.preventDefault();var Ie=je.getPointByClient({x:P.clientX,y:P.clientY}).canvasOverlayPosition,We=Ie.x,Ve=Ie.y;fe.zoom(P.deltaY<0,[We,Ve])}}else{if(P.preventDefault(),a.stepScrollX+=xe,a.stepScrollY+=Pe,Math.abs(a.stepScrollX)>=ye){var rt=a.stepScrollX%ye,vt=a.stepScrollX-rt;fe.translate(-vt*fe.SCALE_X,0),a.stepScrollX=rt}if(Math.abs(a.stepScrollY)>=ye){var At=a.stepScrollY%ye,lt=a.stepScrollY-At;fe.translate(0,-lt*fe.SCALE_Y),a.stepScrollY=At}}}),go(Zr(a),"clickHandler",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){var N=a.props.graphModel;N.selectElements.size>0&&N.clearSelectElements(),N.eventCenter.emit(jt.BLANK_CLICK,{e:P})}}),go(Zr(a),"handleContextMenu",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){P.preventDefault();var N=a.props.graphModel,C=N.getPointByClient({x:P.clientX,y:P.clientY});N.eventCenter.emit(jt.BLANK_CONTEXTMENU,{e:P,position:C})}}),go(Zr(a),"mouseDownHandler",function(P){var N=a.props.graphModel,C=N.eventCenter,Y=N.editConfigModel,fe=N.transformModel.SCALE_X,ye=N.gridSize,je=P.target,xe=!Y.adjustEdge&&!Y.adjustNodePosition;(je.getAttribute("name")==="canvas-overlay"||xe)&&(Y.stopMoveGraph?C.emit(jt.BLANK_MOUSEDOWN,{e:P}):(a.stepDrag.setStep(ye*fe),a.stepDrag.handleMouseDown(P)),a.clickHandler(P))});var f=i.graphModel,g=f.gridSize,_=f.eventCenter;return a.stepDrag=new si({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:g,eventType:"BLANK",isStopPropagation:!1,eventCenter:_,model:null}),a.state={isDraging:!1},a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props,f=a.children,g=a.dnd,_=this.state.isDraging;return Object(le.g)("svg",ks({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:_?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},g.eventMap()),Object(le.g)("g",{transform:i},f))}}])&&cd(e.prototype,n),r&&cd(e,r),u}(le.a))||ad;function As(t){return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function Bg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ds(t,e){return Ds=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ds(t,e)}function Hg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ya(t);if(e){var o=Ya(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gg(this,n)}}function Gg(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pd(t)}function pd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ya(t){return Ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ya(t)}function Fg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xg=Tr(ld=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ds(i,a)})(u,t);var e,n,r,o=Hg(u);function u(){var i;Bg(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Fg(pd(i=o.call.apply(o,[this].concat(f))),"setToolOverlayRef",function(_){var P=i.props.tool.getInstance();P.components.forEach(function(N){return N(P,_)}),P.components=[]}),i}return e=u,(n=[{key:"getTools",value:function(){var i=this.props,a=i.tool,f=i.graphModel,g=a.getTools().map(function(_){return Object(le.g)(_,{graphModel:f,logicFlow:a.instance})});return a.components=g,g}},{key:"render",value:function(){return Object(le.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&fd(e.prototype,n),r&&fd(e,r),u}(le.a))||ld;function Ts(t){return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function Ug(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cs(t,e){return Cs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cs(t,e)}function Yg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Va(t);if(e){var o=Va(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vg(this,n)}}function Vg(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Va(t){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Va(t)}var hd,Wg=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Cs(i,a)})(u,t);var e,n,r,o=Yg(u);function u(){return Ug(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.background;return Object(le.g)("div",{className:"lf-background"},Object(le.g)("div",{style:i,className:"lf-background-area"}))}}])&&dd(e.prototype,n),r&&dd(e,r),u}(le.a);function Rs(t){return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function Zg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Is(t,e){return Is=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Is(t,e)}function Kg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wa(t);if(e){var o=Wa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $g(this,n)}}function $g(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vd(t)}function vd(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wa(t){return Wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wa(t)}function Jg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gd=Tr(hd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Is(i,a)})(u,t);var e,n,r,o=Kg(u);function u(){var i;Zg(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Jg(vd(i=o.call.apply(o,[this].concat(f))),"id",ui()),i}return e=u,(n=[{key:"renderDot",value:function(){var i=this.props,a=i.config,f=a.color,g=a.thickness,_=g===void 0?2:g,P=i.size,N=i.visible,C=Math.min(Math.max(2,_),P/2),Y=1;return N||(Y=0),Object(le.g)("rect",{width:C,height:C,rx:C/2,ry:C/2,fill:f,opacity:Y})}},{key:"renderMesh",value:function(){var i=this.props,a=i.config,f=a.color,g=a.thickness,_=g===void 0?1:g,P=i.size,N=i.visible,C=Math.min(Math.max(1,_),P/2),Y="M ".concat(P," 0 H0 M0 0 V0 ").concat(P),fe=1;return N||(fe=0),Object(le.g)("path",{d:Y,stroke:f,strokeWidth:C,opacity:fe})}},{key:"render",value:function(){var i=this.props,a=i.type,f=i.size,g=i.graphModel.transformModel,_=[g.SCALE_X,g.SKEW_Y,g.SKEW_X,g.SCALE_Y,g.TRANSLATE_X,g.TRANSLATE_Y].join(","),P="matrix(".concat(_,")");return Object(le.g)("div",{className:"lf-grid"},Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(le.g)("defs",null,Object(le.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:P,x:"0",y:"0",width:f,height:f},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(le.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&yd(e.prototype,n),r&&yd(e,r),u}(le.a))||hd;gd.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},s(52);function Ls(t){return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function qg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return md(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return md(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function md(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bd,ci=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=qg(n,2),o=r[0],u=r[1];(o==="style"||Ls(u)!=="object")&&(e[o]=u)}),Object(le.g)("line",e)};function zs(t){return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function _d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_d(Object(n),!0).forEach(function(r){Qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function em(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bs(t,e){return Bs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Bs(t,e)}function tm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ka(t);if(e){var o=Ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nm(this,n)}}function nm(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ka(t){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ka(t)}var wd,rm=Tr(bd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Bs(i,a)})(u,t);var e,n,r,o=tm(u);function u(){return em(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,a=i.position,f=i.isShowHorizontal,g=i.isShowVertical,_=i.getStyle(),P=a.x,N=P===void 0?0:P,C=a.y,Y=C===void 0?0:C,fe=Za(Za({x1:-1e5,y1:Y,x2:1e5,y2:Y},_),{},{stroke:f?_.stroke:"none"}),ye=Za(Za({x1:N,y1:-1e5,x2:N,y2:1e5},_),{},{stroke:g?_.stroke:"none"});return Object(le.g)("g",{className:"lf-snapline"},Object(le.g)(ci,fe),Object(le.g)(ci,ye))}}])&&Od(e.prototype,n),r&&Od(e,r),u}(le.a))||bd;function Hs(t){return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function om(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lo(t){var e=t.x,n=t.y,r=t.width,o=t.height,u=t.className,i=t.radius,a=e-r/2,f=n-o/2,g={};return Object.entries(t).forEach(function(_){var P=om(_,2),N=P[0],C=P[1];Hs(C)!=="object"&&(g[N]=C)}),g.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",i&&(g.rx=i,g.ry=i),g.x=a,g.y=f,Object(le.g)("rect",g)}function Gs(t){return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(t)}function Li(){return Li=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Li.apply(this,arguments)}function Ed(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ed(Object(n),!0).forEach(function(r){im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ed(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function im(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function am(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fs(t,e){return Fs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fs(t,e)}function um(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$a(t);if(e){var o=$a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(t,e){if(e&&(Gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function $a(t){return $a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$a(t)}Lo.defaultProps={className:"",radius:""};var Pd,cm=Tr(wd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Fs(i,a)})(u,t);var e,n,r,o=um(u);function u(){return am(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,a=i.nodes,f=i.editConfigModel,g=f.hoverOutline,_=f.nodeSelectedOutline,P=[];return a.forEach(function(N){if(N.isHovered||N.isSelected){var C=N.isHovered,Y=N.isSelected,fe=N.x,ye=N.y,je=N.width,xe=N.height;if(_&&Y||g&&C){var Pe=N.getOutlineStyle(),Ie={};if(Object.keys(Pe).forEach(function(Ve){Ve!=="hover"&&(Ie[Ve]=Pe[Ve])}),C){var We=Pe.hover;Ie=Sd(Sd({},Ie),We)}P.push(Object(le.g)(Lo,Li({className:"lf-outline-node",x:fe,y:ye,width:je+10,height:xe+10},Ie)))}}}),P}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,a=i.edges,f=i.editConfigModel,g=f.edgeSelectedOutline,_=f.hoverOutline,P=[],N=0;N<a.length;N++){var C=a[N];(g&&C.isSelected||_&&C.isHovered)&&(C.modelType===Ct.LINE_EDGE?P.push(this.getLineOutline(C)):C.modelType===Ct.POLYLINE_EDGE?P.push(this.getPolylineOutline(C)):C.modelType===Ct.BEZIER_EDGE&&P.push(this.getBezierOutline(C)))}return P}},{key:"getLineOutline",value:function(i){var a=i.startPoint,f=i.endPoint,g=(a.x+f.x)/2,_=(a.y+f.y)/2,P=Math.abs(a.x-f.x)+10,N=Math.abs(a.y-f.y)+10,C=i.getOutlineStyle();return Object(le.g)(Lo,Li({className:"lf-outline-edge",x:g,y:_,width:P,height:N},C))}},{key:"getPolylineOutline",value:function(i){var a=i.points,f=Ci(a),g=ya(f,8),_=g.x,P=g.y,N=g.width,C=g.height,Y=i.getOutlineStyle();return Object(le.g)(Lo,Li({className:"lf-outline",x:_,y:P,width:N,height:C},Y))}},{key:"getBezierOutline",value:function(i){var a=i.path,f=Ha(a),g=ya(f,8),_=g.x,P=g.y,N=g.width,C=g.height,Y=i.getOutlineStyle();return Object(le.g)(Lo,Li({className:"lf-outline",x:_,y:P,width:N,height:C},Y))}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&jd(e.prototype,n),r&&jd(e,r),u}(le.a))||wd;function Xs(t){return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function lm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Md(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Md(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Md(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ga(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.r,i=u===void 0?4:u,a=t.className,f={cx:n,cy:o,r:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(g){var _=lm(g,2),P=_[0],N=_[1];Xs(N)!=="object"&&(f[P]=N)}),f.className=a?"lf-basic-shape ".concat(a):"lf-basic-shape",Object(le.g)("circle",f)}function Us(t){return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function fm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return kd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return kd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ma(){return ma=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function Nd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ad(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dd(t,e,n){return e&&Ad(t.prototype,e),n&&Ad(t,n),t}function Td(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ys(t,e)}function Ys(t,e){return Ys=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ys(t,e)}function Cd(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qa(t);if(e){var o=qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pm(this,n)}}function pm(t,e){if(e&&(Us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ja(t)}function Ja(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qa(t){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qa(t)}function Vs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rd,Id=function(t){Td(n,t);var e=Cd(n);function n(){var r;return Nd(this,n),Vs(Ja(r=e.call(this)),"dragHandler",void 0),Vs(Ja(r),"onDraging",function(o){var u=o.event,i=r.props,a=i.graphModel,f=i.bezierModel,g=i.type,_=a.getPointByClient({x:u.clientX,y:u.clientY}).canvasOverlayPosition,P=_.x,N=_.y;f.updateAdjustAnchor({x:P,y:N},g)}),Vs(Ja(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new si({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return Dd(n,[{key:"render",value:function(){var r=this,o=this.props.position,u=o.x,i=o.y,a=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(le.g)(ga,ma({className:"lf-bezier-adjust-anchor",x:u,y:i},a,{onMouseDown:function(f){r.dragHandler.handleMouseDown(f)}}))}}]),n}(le.a),dm=Tr(Pd=function(t){Td(n,t);var e=Cd(n);function n(){return Nd(this,n),e.apply(this,arguments)}return Dd(n,[{key:"getBezierAdjust",value:function(r,o){var u=r.path,i=r.id,a=fm(Ha(u),4),f=a[0],g=a[1],_=a[2],P=a[3],N=r.getEdgeStyle().adjustLine,C=[];return C.push(Object(le.g)(ci,ma({x1:f.x,y1:f.y,x2:g.x,y2:g.y},N))),C.push(Object(le.g)(Id,{position:g,bezierModel:r,graphModel:o,key:"".concat(i,"_ePre"),type:"sNext"})),C.push(Object(le.g)(ci,ma({x1:P.x,y1:P.y,x2:_.x,y2:_.y},N))),C.push(Object(le.g)(Id,{position:_,bezierModel:r,graphModel:o,key:"".concat(i,"_sNext"),type:"ePre"})),C}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,o=r.edges,u=[],i=0;i<o.length;i++){var a=o[i];a.isSelected&&a.modelType===Ct.BEZIER_EDGE&&a.draggable&&u.push(this.getBezierAdjust(a,r))}return u}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(le.a))||Pd;function Ws(t){return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ld(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zs(t,e){return Zs=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Zs(t,e)}function ym(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qa(t);if(e){var o=Qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vm(this,n)}}function vm(t,e){if(e&&(Ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Qa(t){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qa(t)}var zd,gm=Tr(Rd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Zs(i,a)})(u,t);var e,n,r,o=ym(u);function u(){return hm(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props.children;return Object(le.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(le.g)("g",{transform:i},a))}}])&&Ld(e.prototype,n),r&&Ld(e,r),u}(le.a))||Rd;function Ks(t){return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ks(t)}function $s(){return $s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(this,arguments)}function mm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Js(t,e){return Js=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Js(t,e)}function bm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=eu(t);if(e){var o=eu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _m(this,n)}}function _m(t,e){if(e&&(Ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function eu(t){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},eu(t)}var Om=Tr(zd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Js(i,a)})(u,t);var e,n,r,o=bm(u);function u(){return mm(this,u),o.apply(this,arguments)}return e=u,n=[{key:"getComponent",value:function(i,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",g=this.props.getView,_=g(i.type);return Object(le.g)(_,{key:i.id,model:i,graphModel:a,overlay:f})}},{key:"render",value:function(){var i=this,a=this.props,f=a.graphModel,g=a.tool,_=a.options,P=a.dnd,N=a.snaplineModel,C={};_.width&&(C.width="".concat(f.width,"px")),_.height&&(C.height="".concat(f.height,"px"));var Y=f.fakerNode,fe=f.editConfigModel.adjustEdge;return Object(le.g)("div",{className:"lf-graph",style:C},Object(le.g)(zg,{graphModel:f,dnd:P},Object(le.g)("g",{className:"lf-base"},Ni(f.sortElements,function(ye){return i.getComponent(ye,f)})),Y?this.getComponent(Y,f):""),Object(le.g)(gm,{graphModel:f},Object(le.g)(cm,{graphModel:f}),fe?Object(le.g)(dm,{graphModel:f}):"",_.isSilentMode||_.snapline===!1?"":Object(le.g)(rm,{snaplineModel:N})),Object(le.g)(Xg,{graphModel:f,tool:g}),_.background&&Object(le.g)(Wg,{background:_.background}),_.grid&&Object(le.g)(gd,$s({},_.grid,{graphModel:f})))}}],n&&Bd(e.prototype,n),r&&Bd(e,r),u}(le.a))||zd,wm=Om;function Hd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function tu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hd(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xm=function(){function t(o){var u=this;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),mo(this,"nodeConfig",void 0),mo(this,"lf",void 0),mo(this,"fakerNode",void 0),mo(this,"stopDrag",function(){u.nodeConfig=null,window.document.removeEventListener("mouseup",u.stopDrag)}),mo(this,"dragEnter",function(a){u.nodeConfig&&!u.fakerNode&&(u.fakerNode=u.lf.createFakerNode(tu(tu({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY}))))}),mo(this,"onDragOver",function(a){if(a.preventDefault(),u.fakerNode){var f=u.clientToLocalPoint({x:a.clientX,y:a.clientY}),g=f.x,_=f.y;u.fakerNode.moveTo(g,_);var P=u.fakerNode.getData();u.lf.setNodeSnapLine(P),u.lf.graphModel.eventCenter.emit(jt.NODE_DND_DRAG,{data:P})}return!1}),mo(this,"onDragLeave",function(){u.fakerNode&&(u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)}),mo(this,"onDrop",function(a){if(u.lf.graphModel&&a&&u.nodeConfig){var f=u.lf.addNode(tu(tu({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY})));a.preventDefault(),a.stopPropagation(),u.nodeConfig=null,u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null;var g=f.getData();u.lf.graphModel.eventCenter.emit(jt.NODE_DND_ADD,{data:g})}});var i=o.lf;this.lf=i}var e,n,r;return e=t,(n=[{key:"clientToLocalPoint",value:function(o){var u=o.x,i=o.y,a=ka(this.lf.options,["grid","size"]),f=this.lf.graphModel.getPointByClient({x:u,y:i}).canvasOverlayPosition,g=f.x,_=f.y;return{x:Di(g,a),y:Di(_,a)}}},{key:"startDrag",value:function(o){this.nodeConfig=o,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Gd(e.prototype,n),r&&Gd(e,r),t}();function Fd(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(t.grid=Ke({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Ke({},Ud,t)}var zt,Xd,Ud={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function qs(t){return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function Qs(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Yd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Yd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vd(Object(n),!0).forEach(function(r){Zd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Em(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Sm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ba(){return ba=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=jm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ba.apply(this,arguments)}function jm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=zo(t))!==null;);return t}function ec(t,e){return ec=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ec(t,e)}function Pm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zo(t);if(e){var o=zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mm(this,n)}}function Mm(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ru(t)}function ru(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zo(t){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zo(t)}function Zd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pr(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var tc=(zt=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ec(i,a)})(u,t);var e,n,r,o=Pm(u);function u(){var i;Sm(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Zd(ru(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.BEZIER_EDGE),Em(ru(i),"path",Xd,ru(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=100,ba(zo(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return nu(nu({},ba(zo(u.prototype),"getEdgeStyle",this).call(this)),an(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,a=0;return this.pointsList.forEach(function(f){var g=f.x,_=f.y;i+=g,a+=_}),{x:i/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=ba(zo(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return nu(nu({},i),{},{pointsList:a})}},{key:"getControls",value:function(){var i=this.startPoint,a=this.endPoint;return Hp({start:i,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var a=Qs(i,4),f=a[0],g=a[1],_=a[2],P=a[3];return"M ".concat(f.x," ").concat(f.y,`
    C `).concat(g.x," ").concat(g.y,`,
    `).concat(_.x," ").concat(_.y,`,
    `).concat(P.x," ").concat(P.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),a=i.sNext,f=i.ePre;this.updatePath(a,f)}},{key:"updatePath",value:function(i,a){var f={x:this.startPoint.x,y:this.startPoint.y},g={x:this.endPoint.x,y:this.endPoint.y};if(!i||!a){var _=this.getControls();i=_.sNext,a=_.ePre}this.pointsList=[f,i,a,g],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a;var f=Qs(this.pointsList,3),g=f[1],_=f[2];g.x+=i,g.y+=a,this.updatePath(g,_)}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a;var f=Qs(this.pointsList,3),g=f[1],_=f[2];_.x+=i,_.y+=a,this.updatePath(g,_)}},{key:"updateAdjustAnchor",value:function(i,a){a==="sNext"?this.pointsList[1]=i:a==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,g=i.sourceNode,_=i.targetNode,P=Hp({start:a,end:f,sourceNode:g,targetNode:_,offset:this.offset}),N=P.sNext,C=P.ePre;this.pointsList=[a,N,C,f],this.initPoints()}}])&&Wd(e.prototype,n),r&&Wd(e,r),u}(fs),Xd=Pr(zt.prototype,"path",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pr(zt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"initPoints"),zt.prototype),Pr(zt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updatePoints"),zt.prototype),Pr(zt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateStartPoint"),zt.prototype),Pr(zt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateEndPoint"),zt.prototype),Pr(zt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveStartPoint"),zt.prototype),Pr(zt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"moveEndPoint"),zt.prototype),Pr(zt.prototype,"updateAdjustAnchor",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateAdjustAnchor"),zt.prototype),Pr(zt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustStart"),zt.prototype),Pr(zt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"getAdjustEnd"),zt.prototype),Pr(zt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(zt.prototype,"updateAfterAdjustStartAndEnd"),zt.prototype),zt),Qe,Kd,$d,Jd,qd,Qd,eh,th,nh,rh,oh,ih,ah,uh,sh,ch,lh,fh,ph,km=function(t){return t==null};function nc(t){return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function Nm(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(f,g){if(!!f){if(typeof f=="string")return dh(f,g);var _=Object.prototype.toString.call(f).slice(8,-1);if(_==="Object"&&f.constructor&&(_=f.constructor.name),_==="Map"||_==="Set")return Array.from(f);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return dh(f,g)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return i=f.done,f},e:function(f){a=!0,u=f},f:function(){try{i||n.return==null||n.return()}finally{if(a)throw u}}}}function dh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hh(Object(n),!0).forEach(function(r){cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var bo,vh,_o=(Qe=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),cr(this,"id",ui()),Sn(this,"type",Kd,this),Sn(this,"x",$d,this),Sn(this,"y",Jd,this),Sn(this,"text",qd,this),Sn(this,"properties",Qd,this),Sn(this,"_width",eh,this),Sn(this,"_height",th,this),Sn(this,"anchorsOffset",nh,this),Sn(this,"isSelected",rh,this),Sn(this,"isHovered",oh,this),Sn(this,"isDragging",ih,this),Sn(this,"isHitable",ah,this),Sn(this,"draggable",uh,this),Sn(this,"visible",sh,this),cr(this,"graphModel",void 0),Sn(this,"zIndex",ch,this),Sn(this,"state",lh,this),Sn(this,"autoToFront",fh,this),Sn(this,"style",ph,this),cr(this,"BaseType",vn.NODE),cr(this,"modelType",Ct.NODE),cr(this,"additionStateData",void 0),cr(this,"targetRules",[]),cr(this,"sourceRules",[]),cr(this,"moveRules",[]),cr(this,"hasSetTargetRules",!1),cr(this,"hasSetSourceRules",!1),this.graphModel=u,this.initNodeData(o),this.setAttributes()}var e,n,r;return e=t,n=[{key:"width",get:function(){return this._width},set:function(o){this._width=o}},{key:"height",get:function(){return this._height},set:function(o){this._height=o}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}this.formatText(o),Ke(this,function(f){return ca(f,["id","type","x","y","text","properties"])}(o)),this.graphModel.overlapMode===ur.INCREASE&&(this.zIndex=o.zIndex||cs())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(o){o.text||(o.text={value:"",x:o.x,y:o.y,draggable:!1,editable:!0}),o.text&&typeof o.text=="string"?o.text={value:o.text,x:o.x,y:o.y,draggable:!1,editable:!0}:o.text&&o.text.editable===void 0&&(o.text.editable=!0)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f=this.properties;Object(d.x)(f)&&(f=Object(d.I)(f));var g={id:this.id,type:this.type,x:this.x,y:this.y,properties:f};return this.graphModel.overlapMode===ur.INCREASE&&(g.zIndex=this.zIndex),a&&(g.text={x:u,y:i,value:a}),g}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Vn(Vn({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.nodeText;return an(o)}},{key:"getAnchorStyle",value:function(o){var u=this.graphModel.theme.anchor;return an(u)}},{key:"getAnchorLineStyle",value:function(){var o=this.graphModel.theme.anchorLine;return an(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return an(o)}},{key:"isAllowConnectedAsSource",value:function(o,u,i){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var f,g=!0,_=0;_<a.length;_++){var P=a[_];if(!P.validate.call(this,this,o,u,i)){g=!1,f=P.message;break}}return{isAllPass:g,msg:f}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(o,u,i){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var f,g=!0,_=0;_<a.length;_++){var P=a[_];if(!P.validate.call(this,o,this,u,i)){g=!1,f=P.message;break}}return{isAllPass:g,msg:f}}},{key:"isAllowMoveNode",value:function(o,u){var i,a=!0,f=!0,g=Nm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(g.s();!(i=g.n()).done;){var _=(0,i.value)(this,o,u);if(!_)return!1;if(nc(_)==="object"){var P=_;if(P.x===!1&&P.y===!1)return!1;a=a&&P.x,f=f&&P.y}}}catch(N){g.e(N)}finally{g.f()}return{x:a,y:f}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var o=this.anchorsOffset,u=this.id,i=this.x,a=this.y;return o&&o.length>0?o.map(function(f,g){return f.length?(f=f,{id:"".concat(u,"_").concat(g),x:i+f[0],y:a+f[1]}):Vn(Vn({},f=f),{},{x:i+f.x,y:a+f.y,id:f.id||"".concat(u,"_").concat(g)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(o){if(!km(o))for(var u=0;u<this.anchors.length;u++){var i=this.anchors[u];if(i.id===o)return i}}},{key:"addNodeMoveRules",value:function(o){this.moveRules.includes(o)||this.moveRules.push(o)}},{key:"move",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=!1,f=!1;if(i)a=!0,f=!0;else{var g=this.isAllowMoveNode(o,u);typeof g=="boolean"?(a=g,f=g):(a=g.x,f=g.y)}if(a){var _=this.x+o;this.x=_,this.text&&this.moveText(o,0)}if(f){var P=this.y+u;this.y=P,this.text&&this.moveText(0,u)}return a||f}},{key:"moveTo",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=o-this.x,f=u-this.y;return!(!i&&!this.isAllowMoveNode(a,f)||(this.text&&this.text&&this.moveText(a,f),this.x=o,this.y=u,0))}},{key:"moveText",value:function(o,u){var i=this.text,a=i.x,f=i.y,g=i.value,_=i.draggable,P=i.editable;this.text={value:g,editable:P,draggable:_,x:a+o,y:f+u}}},{key:"updateText",value:function(o){this.text=Vn(Vn({},this.text),{},{value:o})}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"setProperty",value:function(o,u){this.properties=Vn(Vn({},this.properties),{},cr({},o,Bn(u))),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=Vn(Vn({},this.properties),Bn(o)),this.setAttributes()}},{key:"setStyle",value:function(o,u){this.style=Vn(Vn({},this.style),{},cr({},o,Bn(u)))}},{key:"setStyles",value:function(o){this.style=Vn(Vn({},this.style),Bn(o))}},{key:"updateStyles",value:function(o){this.style=Vn({},Bn(o))}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=o}},{key:"updateAttributes",value:function(o){Ke(this,o)}}],n&&yh(e.prototype,n),r&&yh(e,r),t}(),Kd=Rt(Qe.prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$d=Rt(Qe.prototype,"x",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jd=Rt(Qe.prototype,"y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qd=Rt(Qe.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Qd=Rt(Qe.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),eh=Rt(Qe.prototype,"_width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),th=Rt(Qe.prototype,"_height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),nh=Rt(Qe.prototype,"anchorsOffset",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rh=Rt(Qe.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oh=Rt(Qe.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ih=Rt(Qe.prototype,"isDragging",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ah=Rt(Qe.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=Rt(Qe.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sh=Rt(Qe.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ch=Rt(Qe.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),lh=Rt(Qe.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),fh=Rt(Qe.prototype,"autoToFront",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ph=Rt(Qe.prototype,"style",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Rt(Qe.prototype,"incoming",[d.m],Object.getOwnPropertyDescriptor(Qe.prototype,"incoming"),Qe.prototype),Rt(Qe.prototype,"outgoing",[d.m],Object.getOwnPropertyDescriptor(Qe.prototype,"outgoing"),Qe.prototype),Rt(Qe.prototype,"addNodeMoveRules",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"addNodeMoveRules"),Qe.prototype),Rt(Qe.prototype,"move",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"move"),Qe.prototype),Rt(Qe.prototype,"moveTo",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"moveTo"),Qe.prototype),Rt(Qe.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"moveText"),Qe.prototype),Rt(Qe.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"updateText"),Qe.prototype),Rt(Qe.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"setSelected"),Qe.prototype),Rt(Qe.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"setHovered"),Qe.prototype),Rt(Qe.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"setHitable"),Qe.prototype),Rt(Qe.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"setElementState"),Qe.prototype),Rt(Qe.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"setProperty"),Qe.prototype),Rt(Qe.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"setProperties"),Qe.prototype),Rt(Qe.prototype,"setStyle",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"setStyle"),Qe.prototype),Rt(Qe.prototype,"setStyles",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"setStyles"),Qe.prototype),Rt(Qe.prototype,"updateStyles",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"updateStyles"),Qe.prototype),Rt(Qe.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"setZIndex"),Qe.prototype),Rt(Qe.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Qe.prototype,"updateAttributes"),Qe.prototype),Qe);function rc(t){return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}function gh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function mh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gh(Object(n),!0).forEach(function(r){_h(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Am(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Dm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oc(){return oc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Tm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},oc.apply(this,arguments)}function Tm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=zi(t))!==null;);return t}function ic(t,e){return ic=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ic(t,e)}function Cm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zi(t);if(e){var o=zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rm(this,n)}}function Rm(t,e){if(e&&(rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ou(t)}function ou(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zi(t){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zi(t)}function _h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ac(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Hn,Oh,wh,uc=(bo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ic(i,a)})(u,t);var e,n,r,o=Cm(u);function u(){var i;Dm(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return _h(ou(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.CIRCLE_NODE),Am(ou(i),"r",vh,ou(i)),i}return e=u,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=oc(zi(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return mh(mh({},i),an(a))}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.r;return[{x:i,y:a-f,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+f,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&bh(e.prototype,n),r&&bh(e,r),u}(_o),vh=ac(bo.prototype,"r",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ac(bo.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(bo.prototype,"width"),bo.prototype),ac(bo.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(bo.prototype,"height"),bo.prototype),bo);s(127);function sc(t){return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function cc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eh(Object(n),!0).forEach(function(r){Mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Im(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ph(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lc(){return lc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Lm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},lc.apply(this,arguments)}function Lm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Hi(t))!==null;);return t}function fc(t,e){return fc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},fc(t,e)}function zm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hi(t);if(e){var o=Hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bi(t)}function Bi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hi(t){return Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hi(t)}function Mh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gi(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Kr,kh,Nh,pc=(Hn=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&fc(i,a)})(u,t);var e,n,r,o=zm(u);function u(){var i;Im(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Mh(Bi(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.DIAMOND_NODE),jh(Bi(i),"rx",Oh,Bi(i)),jh(Bi(i),"ry",wh,Bi(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=lc(Hi(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Sh(Sh({},i),an(a))}},{key:"points",get:function(){var i=this.x,a=this.y,f=this.rx,g=this.ry;return[[i,a-g],[i+f,a],[i,a+g],[i-f,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var g=cc(f,1)[0];g<i&&(i=g),g>a&&(a=g)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var g=cc(f,2)[1];g<i&&(i=g),g>a&&(a=g)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(a,f){var g=cc(a,2);return{x:g[0],y:g[1],id:"".concat(i.id,"_").concat(f)}})}}])&&Ph(e.prototype,n),r&&Ph(e,r),u}(_o),Oh=Gi(Hn.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),wh=Gi(Hn.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Gi(Hn.prototype,"points",[d.m],Object.getOwnPropertyDescriptor(Hn.prototype,"points"),Hn.prototype),Gi(Hn.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Hn.prototype,"pointsPosition"),Hn.prototype),Gi(Hn.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Hn.prototype,"width"),Hn.prototype),Gi(Hn.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Hn.prototype,"height"),Hn.prototype),Hn);function dc(t){return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function Ah(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Dh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ah(Object(n),!0).forEach(function(r){Rh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Th(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hc(){return hc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Gm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},hc.apply(this,arguments)}function Gm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Xi(t))!==null;);return t}function yc(t,e){return yc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},yc(t,e)}function Fm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xi(t);if(e){var o=Xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xm(this,n)}}function Xm(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fi(t)}function Fi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xi(t){return Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xi(t)}function Rh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iu(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var mr,Ih,vc=(Kr=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&yc(i,a)})(u,t);var e,n,r,o=Fm(u);function u(){var i;Hm(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Rh(Fi(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.ELLIPSE_NODE),Th(Fi(i),"rx",kh,Fi(i)),Th(Fi(i),"ry",Nh,Fi(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=hc(Xi(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Dh(Dh({},i),an(a))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.rx,g=this.ry;return[{x:i,y:a-g,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+g,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&Ch(e.prototype,n),r&&Ch(e,r),u}(_o),kh=iu(Kr.prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Nh=iu(Kr.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),iu(Kr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Kr.prototype,"width"),Kr.prototype),iu(Kr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Kr.prototype,"height"),Kr.prototype),Kr);function gc(t){return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function mc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Lh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Lh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zh(Object(n),!0).forEach(function(r){Gh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Um(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ym(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bc(){return bc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Vm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},bc.apply(this,arguments)}function Vm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ui(t))!==null;);return t}function _c(t,e){return _c=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_c(t,e)}function Wm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ui(t);if(e){var o=Ui(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zm(this,n)}}function Zm(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return au(t)}function au(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ui(t){return Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ui(t)}function Gh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uu(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Oc,Fh,wc=(mr=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&_c(i,a)})(u,t);var e,n,r,o=Wm(u);function u(){var i;Ym(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Gh(au(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.POLYGON_NODE),Um(au(i),"points",Ih,au(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=bc(Ui(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return Bh(Bh({},i),an(a))}},{key:"pointsPosition",get:function(){var i=this.x,a=this.y,f=this.width,g=this.height;return this.points.map(function(_){return{x:_[0]+i-f/2,y:_[1]+a-g/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var g=mc(f,1)[0];g<i&&(i=g),g>a&&(a=g)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var g=mc(f,2)[1];g<i&&(i=g),g>a&&(a=g)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this,a=this.x,f=this.y,g=this.width,_=this.height;return this.points.map(function(P,N){var C=mc(P,2),Y=C[0],fe=C[1];return{x:a+Y-g/2,y:f+fe-_/2,id:"".concat(i.id,"_").concat(N)}})}}])&&Hh(e.prototype,n),r&&Hh(e,r),u}(_o),Ih=uu(mr.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),uu(mr.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(mr.prototype,"pointsPosition"),mr.prototype),uu(mr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(mr.prototype,"width"),mr.prototype),uu(mr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(mr.prototype,"height"),mr.prototype),mr);function xc(t){return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Xh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xh(Object(n),!0).forEach(function(r){Vh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Km(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ec(){return Ec=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Jm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Ec.apply(this,arguments)}function Jm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Yi(t))!==null;);return t}function Sc(t,e){return Sc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sc(t,e)}function qm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yi(t);if(e){var o=Yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return su(t)}function su(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yi(t){return Yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Yi(t)}function Vh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bo,jc=(Oc=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Sc(i,a)})(u,t);var e,n,r,o=qm(u);function u(){var i;$m(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Vh(su(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.RECT_NODE),Km(su(i),"radius",Fh,su(i)),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,g=this.height;return[{x:i,y:a-g/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+g/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=Ec(Yi(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Uh(Uh({},i),an(a))}}])&&Yh(e.prototype,n),r&&Yh(e,r),u}(_o),Fh=function(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}(Oc.prototype,"radius",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Oc);function Pc(t){return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Wh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wh(Object(n),!0).forEach(function(r){Jh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mc(){return Mc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=tb(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},Mc.apply(this,arguments)}function tb(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Vi(t))!==null;);return t}function kc(t,e){return kc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},kc(t,e)}function nb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vi(t);if(e){var o=Vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rb(this,n)}}function rb(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $h(t)}function $h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vi(t){return Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(t)}function Jh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qh(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Nc=(Bo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&kc(i,a)})(u,t);var e,n,r,o=nb(u);function u(){var i;eb(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Jh($h(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.TEXT_NODE),i}return e=u,(n=[{key:"getTextStyle",value:function(){var i=Mc(Vi(u.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Zh(Zh({},i),an(a))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return ss({rows:i,fontSize:a,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return ss({rows:i,fontSize:a,rowsLength:i.length}).height}}])&&Kh(e.prototype,n),r&&Kh(e,r),u}(_o),qh(Bo.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Bo.prototype,"width"),Bo.prototype),qh(Bo.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Bo.prototype,"height"),Bo.prototype),Bo);function Ac(t){return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dc(t,e){return Dc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Dc(t,e)}function ib(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cu(t);if(e){var o=cu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ab(this,n)}}function ab(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ey(t)}function ey(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cu(t){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cu(t)}function ub(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mr,ty,ny,ry,Tc=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Dc(i,a)})(u,t);var e,n,r,o=ib(u);function u(){var i;ob(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return ub(ey(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.HTML_NODE),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,g=this.height;return[{x:i,y:a-g/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+g/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}}])&&Qh(e.prototype,n),r&&Qh(e,r),u}(_o);function oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Cc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function iy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ay(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _a(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var uy=(Mr=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),ay(this,"graphModel",void 0),Cc(this,"isShowHorizontal",ty,this),Cc(this,"isShowVertical",ny,this),Cc(this,"position",ry,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=o}var e,n,r;return e=t,n=[{key:"getStyle",value:function(){return function(o){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?oy(Object(i),!0).forEach(function(a){ay(o,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):oy(Object(i)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(i,a))})}return o}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(o,u){for(var i=o.x,a=o.y,f=!1,g=!1,_=0;_<u.length;_++){var P=u[_];if(P.id!==o.id&&(i===P.x&&(f=!0),a===P.y&&(g=!0),f&&g))break}return{isShowVertical:f,isShowHorizontal:g,position:{x:i,y:a}}}},{key:"getHorizontalSnapline",value:function(o,u){var i,a,f=!1,g=o.id;if(g){var _=this.graphModel.fakerNode;if(_&&_.id===g)a=sr(_);else{var P=this.graphModel.getNodeModelById(g);a=sr(P)}}for(var N=0;N<u.length;N++){var C=u[N];if(C.id!==o.id){var Y=sr(C);if(Y.minY===a.minY||Y.maxY===a.minY){f=!0,i=a.minY;break}if(Y.minY===a.maxY||Y.maxY===a.maxY){f=!0,i=a.maxY;break}}}return Ke({isShowHorizontal:f,position:{y:i}})}},{key:"getVerticalSnapline",value:function(o,u){var i,a,f=!1,g=o.id;if(g){var _=this.graphModel.fakerNode;if(_&&_.id===g)a=sr(_);else{var P=this.graphModel.getNodeModelById(g);a=sr(P)}}for(var N=0;N<u.length;N++){var C=u[N];if(C.id!==o.id){var Y=sr(C);if(Y.minX===a.minX||Y.maxX===a.minX){f=!0,i=a.minX;break}if(Y.minX===a.maxX||Y.maxX===a.maxX){f=!0,i=a.maxX;break}}}return Ke({isShowVertical:f,position:{x:i}})}},{key:"getSnapLinePosition",value:function(o,u){var i=this.getCenterSnapLine(o,u),a=i.isShowHorizontal,f=i.isShowVertical;if(!a){var g=this.getHorizontalSnapline(o,u);g.isShowHorizontal&&(i.isShowHorizontal=g.isShowHorizontal,i.position.y=g.position.y)}if(!f){var _=this.getVerticalSnapline(o,u);_.isShowVertical&&(i.isShowVertical=_.isShowVertical,i.position.x=_.position.x)}return i}},{key:"setSnaplineInfo",value:function(o){var u=o.isShowHorizontal,i=o.isShowVertical,a=o.position;this.position=a,this.isShowHorizontal=u,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(o){var u=this.graphModel.nodes,i=this.getSnapLinePosition(o,u);this.setSnaplineInfo(i)}}],n&&iy(e.prototype,n),r&&iy(e,r),t}(),ty=_a(Mr.prototype,"isShowHorizontal",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ny=_a(Mr.prototype,"isShowVertical",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ry=_a(Mr.prototype,"position",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_a(Mr.prototype,"clearSnapline",[d.k],Object.getOwnPropertyDescriptor(Mr.prototype,"clearSnapline"),Mr.prototype),_a(Mr.prototype,"setNodeSnapLine",[d.k],Object.getOwnPropertyDescriptor(Mr.prototype,"setNodeSnapLine"),Mr.prototype),Mr);function Rc(t){return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function Oa(){return Oa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oa.apply(this,arguments)}function sy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function cy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sy(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ly(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ly(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ic(t,e){return Ic=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ic(t,e)}function cb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=lu(t);if(e){var o=lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lb(this,n)}}function lb(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $r(t)}function $r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lu(t){return lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lu(t)}function Jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fb=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ic(i,a)})(u,t);var e,n,r,o=cb(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Jr($r(i=o.call(this)),"preTargetNode",void 0),Jr($r(i),"sourceRuleResults",void 0),Jr($r(i),"targetRuleResults",void 0),Jr($r(i),"dragHandler",void 0),Jr($r(i),"t",void 0),Jr($r(i),"onDragStart",function(a){var f=a.event,g=i.props,_=g.anchorData,P=g.nodeModel,N=g.graphModel,C=N.overlapMode;N.selectNodeById(P.id),C!==ur.INCREASE&&P.autoToFront&&N.toFront(P.id),N.eventCenter.emit(jt.ANCHOR_DRAGSTART,{data:_,e:f,nodeModel:P}),i.setState({startX:_.x,startY:_.y,endX:_.x,endY:_.y})}),Jr($r(i),"onDraging",function(a){var f=a.event,g=i.props,_=g.graphModel,P=g.nodeModel,N=g.anchorData,C=_.transformModel,Y=_.eventCenter,fe=_.width,ye=_.height,je=_.editConfigModel,xe=f.clientX,Pe=f.clientY,Ie=_.getPointByClient({x:xe,y:Pe}),We=Ie.domOverlayPosition,Ve=We.x,rt=We.y,vt=Ie.canvasOverlayPosition,At=vt.x,lt=vt.y;i.t&&clearInterval(i.t);var Ut=[];Ve<10?Ut=[10,0]:Ve+10>fe?Ut=[-10,0]:rt<10?Ut=[0,10]:rt+10>ye&&(Ut=[0,-10]),i.setState({endX:At,endY:lt,draging:!0}),i.moveAnchorEnd(At,lt),Ut.length>0&&!je.stopMoveGraph&&(i.t=setInterval(function(){var on=sb(Ut,2),An=on[0],Dn=on[1];C.translate(An,Dn);var mn=i.state,Cr=mn.endX,to=mn.endY;i.setState({endX:Cr-An,endY:to-Dn}),i.moveAnchorEnd(Cr-An,to-Dn)},50)),Y.emit(jt.ANCHOR_DRAG,{data:N,e:f,nodeModel:P})}),Jr($r(i),"onDragEnd",function(a){i.t&&clearInterval(i.t),i.checkEnd(a),i.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear()}),Jr($r(i),"checkEnd",function(a){var f=i.props,g=f.graphModel,_=f.nodeModel,P=f.anchorData,N=P.x,C=P.y,Y=P.id,fe=g.edgeType,ye=i.state,je=ye.endX,xe=ye.endY,Pe=ye.draging,Ie=Da({x:je,y:xe},g);if(i.preTargetNode&&i.preTargetNode.state!==Xt.DEFAULT&&i.preTargetNode.setElementState(Xt.DEFAULT),Pe&&Ie&&Ie.node){var We=Ie.node,Ve=Ie.anchor.id,rt="".concat(_.id,"_").concat(We.id,"_").concat(Ve,"_").concat(Y),vt=i.sourceRuleResults.get(rt)||{},At=vt.isAllPass,lt=vt.msg,Ut=i.targetRuleResults.get(rt)||{},on=Ut.isAllPass,An=Ut.msg;if(At&&on){We.setElementState(Xt.DEFAULT);var Dn=g.addEdge({type:fe,sourceNodeId:_.id,sourceAnchorId:Y,startPoint:{x:N,y:C},targetNodeId:Ie.node.id,targetAnchorId:Ie.anchor.id,endPoint:{x:Ie.anchor.x,y:Ie.anchor.y}}),mn=i.props.anchorData;g.eventCenter.emit(jt.ANCHOR_DROP,{data:mn,e:a,nodeModel:_,edgeModel:Dn})}else{var Cr=We.getData();g.eventCenter.emit(jt.CONNECTION_NOT_ALLOWED,{data:Cr,msg:An||lt})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,draging:!1},i.dragHandler=new si({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"getAnchorShape",value:function(){var i=this.props,a=i.anchorData,f=i.style,g=i.node.getAnchorShape(a);if(g)return g;var _=a.x,P=a.y,N=cy(cy({},f),f.hover);return Object(le.g)("g",null,Object(le.g)(ga,Oa({className:"lf-node-anchor-hover"},N,{x:_,y:P})),Object(le.g)(ga,Oa({className:"lf-node-anchor"},f,{x:_,y:P})))}},{key:"moveAnchorEnd",value:function(i,a){var f=this.props,g=f.graphModel,_=f.nodeModel,P=f.anchorData,N=Da({x:i,y:a},g);if(N){var C=N.node,Y=N.anchor.id;if(this.preTargetNode&&this.preTargetNode!==N.node&&this.preTargetNode.setElementState(Xt.DEFAULT),P.id===Y)return;this.preTargetNode=C;var fe="".concat(_.id,"_").concat(C.id,"_").concat(Y,"_").concat(P.id);if(!this.targetRuleResults.has(fe)){var ye=N.anchor,je=_.isAllowConnectedAsSource(C,P,ye),xe=C.isAllowConnectedAsTarget(_,P,ye);this.sourceRuleResults.set(fe,Ta(je)),this.targetRuleResults.set(fe,Ta(xe))}var Pe=this.sourceRuleResults.get(fe).isAllPass,Ie=this.targetRuleResults.get(fe).isAllPass;Pe&&Ie?C.setElementState(Xt.ALLOW_CONNECT):C.setElementState(Xt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Xt.DEFAULT&&this.preTargetNode.setElementState(Xt.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,a=i.startX,f=i.startY,g=i.endX,_=i.endY;return Vr(a,f,g,_)>10}},{key:"render",value:function(){var i=this,a=this.state,f=a.startX,g=a.startY,_=a.endX,P=a.endY,N=this.props,C=N.anchorData.edgeAddable,Y=N.edgeStyle;return Object(le.g)("g",{className:"lf-anchor"},Object(le.g)("g",{onMouseDown:function(fe){C!==!1&&i.dragHandler.handleMouseDown(fe)}},this.getAnchorShape()),this.isShowLine()&&Object(le.g)(ci,Oa({x1:f,y1:g,x2:_,y2:P},Y,{"pointer-events":"none"})))}}])&&fy(e.prototype,n),r&&fy(e,r),u}(le.a);s(63);function py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function pb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?py(Object(n),!0).forEach(function(r){db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):py(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function db(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lc(t){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function hb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return dy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return dy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hy(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.value,i=t.fontSize,a=t.fill,f=a===void 0?"currentColor":a,g=t.overflowMode,_=g===void 0?"default":g,P=t.textWidth,N=P===void 0?"":P,C=t.model,Y={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:f};if(Object.entries(t).forEach(function(Ie){var We=hb(Ie,2),Ve=We[0],rt=We[1];Lc(rt)!=="object"&&(Y[Ve]=rt)}),u){var fe=String(u).split(/[\r\n]/g),ye=fe.length;if(_!=="default"){var je=C.BaseType,xe=C.modelType;if(je===vn.NODE&&xe!==Ct.TEXT_NODE||je===vn.EDGE&&N)return function(Ie){var We=Ie.value,Ve=Ie.fontSize,rt=Ie.model,vt=Ie.fontFamily,At=vt===void 0?"":vt,lt=Ie.lineHeight,Ut=Ie.wrapPadding,on=Ut===void 0?"0, 0":Ut,An=Ie.overflowMode,Dn=Ie.x,mn=Ie.y,Cr=rt.width,to=rt.textHeight,Eo=Ie.textWidth||Cr,Pa=String(We).split(/[\r\n]/g),Lu=Pa.length,zu=hp({rows:Pa,style:{fontSize:"".concat(Ve,"px"),width:"".concat(Eo,"px"),fontFamily:At,lineHeight:lt,padding:on},rowsLength:Lu,className:"lf-get-text-height"}),$i=rt.height>zu?rt.height:zu;to&&($i=to);var Ji=An==="ellipsis";return Object(le.g)("g",null,Object(le.g)("foreignObject",{width:Eo,height:$i,x:Dn-Eo/2,y:mn-$i/2},Object(le.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:$i,width:Eo,padding:on}},Object(le.g)("div",{className:Ji?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:pb({},Ie)},Pa.map(function(Fo){return Object(le.g)("div",{className:"lf-node-text--auto-wrap-inner"},Fo)})))))}(t)}if(ye>1){var Pe=fe.map(function(Ie,We){var Ve=(We-(ye-1)/2)*(i+2);return Object(le.g)("tspan",{className:"lf-text-tspan",x:n,y:o+Ve},Ie)});return Object(le.g)("text",Y,Pe)}return Object(le.g)("text",Y,u)}}function zc(t){return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Bc(){return Bc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bc.apply(this,arguments)}function yb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return yy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return yy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hc(t,e){return Hc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hc(t,e)}function vb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fu(t);if(e){var o=fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gb(this,n)}}function gb(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ho(t)}function Ho(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fu(t){return fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fu(t)}function li(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Hc(i,a)})(u,t);var e,n,r,o=vb(u);function u(i){var a;(function(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")})(this,u),li(Ho(a=o.call(this)),"dragHandler",void 0),li(Ho(a),"sumDeltaX",0),li(Ho(a),"sumDeltaY",0),li(Ho(a),"stepDrag",void 0),li(Ho(a),"onDraging",function(_){var P=_.deltaX,N=_.deltaY,C=a.props,Y=C.model,fe=yb(C.graphModel.transformModel.fixDeltaXY(P,N),2),ye=fe[0],je=fe[1];Y.moveText(ye,je)}),li(Ho(a),"dblClickHandler",function(){a.props.editable&&a.props.model.setElementState(Xt.TEXT_EDIT)}),li(Ho(a),"mouseDownHandle",function(_){var P=a.props,N=P.draggable,C=P.graphModel.editConfigModel.nodeTextDraggable;(N||C)&&a.stepDrag.handleMouseDown(_)});var f=i.model,g=i.draggable;return a.stepDrag=new si({onDraging:a.onDraging,step:1,model:f,isStopPropagation:g}),a}return e=u,(n=[{key:"getShape",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.text,_=f.editConfigModel,P=g.value,N=g.x,C=g.y,Y=g.editable,fe=g.draggable,ye={x:N,y:C,className:"",value:P};Y?ye.className="lf-element-text":fe||_.nodeTextDraggable?ye.className="lf-text-draggable":ye.className="lf-text-disabled";var je=a.getTextStyle();return Object(le.g)(hy,Bc({},ye,je,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return Object(le.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&vy(e.prototype,n),r&&vy(e,r),u}(le.a),mb=window.navigator.userAgent.match(/MSIE|Trident/)!==null,wa=new Map,my=function(t){var e=wa.get(t);e&&(window.cancelAnimationFrame(e),wa.delete(t))};function Gc(t){return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function pu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return by(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fc(t,e){return Fc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Fc(t,e)}function bb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=du(t);if(e){var o=du(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _b(this,n)}}function _b(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gn(t)}function Gn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function du(t){return du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},du(t)}function Wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Fc(i,a)})(u,t);var e,n,r,o=bb(u);function u(i){var a;(function(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")})(this,u),Wn(Gn(a=o.call(this)),"t",void 0),Wn(Gn(a),"moveOffset",void 0),Wn(Gn(a),"stepDrag",void 0),Wn(Gn(a),"contextMenuTime",void 0),Wn(Gn(a),"startTime",void 0),Wn(Gn(a),"clickTimer",void 0),Wn(Gn(a),"onDragStart",function(N){var C=N.event,Y=C.clientX,fe=C.clientY,ye=a.props,je=ye.model,xe=ye.graphModel.getPointByClient({x:Y,y:fe}).canvasOverlayPosition,Pe=xe.x,Ie=xe.y;a.moveOffset={x:je.x-Pe,y:je.y-Ie}}),Wn(Gn(a),"onDraging",function(N){var C=N.event,Y=a.props,fe=Y.model,ye=Y.graphModel,je=ye.editConfigModel,xe=ye.transformModel,Pe=ye.width,Ie=ye.height,We=ye.gridSize;fe.isDragging=!0;var Ve=C.clientX,rt=C.clientY,vt=ye.getPointByClient({x:Ve,y:rt}).canvasOverlayPosition,At=vt.x,lt=vt.y,Ut=pu(xe.CanvasPointToHtmlPoint([At,lt]),2),on=Ut[0],An=Ut[1];if(!(on<0||An<0||on>Pe||An>Ie)){At+=a.moveOffset.x,lt+=a.moveOffset.y,At=Di(At,We),lt=Di(lt,We);var Dn,mn,Cr,to=pu(xe.CanvasPointToHtmlPoint([At-fe.width/2,lt-fe.height/2]),2),Eo=to[0],Pa=to[1],Lu=pu(xe.CanvasPointToHtmlPoint([At+fe.width/2,lt+fe.height/2]),2),zu=Lu[0],$i=Lu[1],Ji=Math.max(We,20),Fo=[];Eo<0?Fo=[Ji,0]:zu>ye.width?Fo=[-Ji,0]:Pa<0?Fo=[0,Ji]:$i>ye.height&&(Fo=[0,-Ji]),a.t&&my(a.t),Fo.length>0&&!je.stopMoveGraph?a.t=(Dn=function(){var Bu=pu(Fo,2),Hu=Bu[0],Ov=Bu[1];xe.translate(Hu,Ov),ye.moveNode(fe.id,-Hu/xe.SCALE_X,-Ov/xe.SCALE_X)},mn=ui(),Cr=window.requestAnimationFrame(function Bu(){if(Dn(),wa.get(mn)){var Hu=window.requestAnimationFrame(Bu);wa.set(mn,Hu)}}),wa.set(mn,Cr),mn):ye.moveNode2Coordinate(fe.id,At,lt)}}),Wn(Gn(a),"onDragEnd",function(){a.t&&my(a.t),a.props.model.isDragging=!1}),Wn(Gn(a),"handleClick",function(N){if(a.startTime&&!(new Date().getTime()-a.startTime>200)){var C=a.props,Y=C.model,fe=C.graphModel,ye={data:Y.getData(),e:N,position:fe.getPointByClient({x:N.clientX,y:N.clientY})},je=N.button===2,xe=N.detail===2;if(!je){var Pe=fe.editConfigModel;fe.selectNodeById(Y.id,Gf(N,Pe)),a.toFront(),xe?(Pe.nodeTextEdit&&Y.text.editable&&(Y.setSelected(!1),fe.setElementStateById(Y.id,Xt.TEXT_EDIT)),fe.eventCenter.emit(jt.NODE_DBCLICK,ye)):(fe.eventCenter.emit(jt.ELEMENT_CLICK,ye),fe.eventCenter.emit(jt.NODE_CLICK,ye))}}}),Wn(Gn(a),"handleContextMenu",function(N){N.preventDefault();var C=a.props,Y=C.model,fe=C.graphModel,ye=Y.getData(),je=fe.getPointByClient({x:N.clientX,y:N.clientY});fe.setElementStateById(Y.id,Xt.SHOW_MENU,je.domOverlayPosition),fe.selectNodeById(Y.id),fe.eventCenter.emit(jt.NODE_CONTEXTMENU,{data:ye,e:N,position:je}),a.toFront()}),Wn(Gn(a),"handleMouseDown",function(N){var C=a.props,Y=C.model,fe=C.graphModel;a.toFront(),a.startTime=new Date().getTime(),fe.editConfigModel.adjustNodePosition&&Y.draggable&&a.stepDrag&&a.stepDrag.handleMouseDown(N)}),Wn(Gn(a),"setHoverON",function(N){if(!a.state.isHovered){a.setState({isHovered:!0});var C=a.props,Y=C.model,fe=C.graphModel,ye=Y.getData();Y.setHovered(!0),fe.eventCenter.emit(jt.NODE_MOUSEENTER,{data:ye,e:N})}}),Wn(Gn(a),"setHoverOFF",function(N){a.setState({isHovered:!1});var C=a.props,Y=C.model,fe=C.graphModel,ye=Y.getData();Y.setHovered(!1),fe.eventCenter.emit(jt.NODE_MOUSELEAVE,{data:ye,e:N})}),Wn(Gn(a),"onMouseOut",function(N){mb&&a.setHoverOFF(N)});var f=i.graphModel,g=f.gridSize,_=f.eventCenter,P=i.model;return a.stepDrag=new si({onDragStart:a.onDragStart,onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:g,eventType:"NODE",isStopPropagation:!1,eventCenter:_,model:P}),a.state={isHovered:!1},a}return e=u,r=[{key:"getModel",value:function(i){return i}}],(n=[{key:"getAnchorShape",value:function(i){return null}},{key:"getAnchors",value:function(){var i=this,a=this.props,f=a.model,g=a.graphModel,_=f.isSelected,P=f.isHitable,N=f.isDragging,C=this.state.isHovered;if(P&&(_||C)&&!N){var Y=f.getAnchorLineStyle();return Ni(f.anchors,function(fe,ye){var je=f.getAnchorStyle(fe);return Object(le.g)(fb,{anchorData:fe,node:i,style:je,edgeStyle:Y,anchorIndex:ye,nodeModel:f,graphModel:g,setHoverOFF:i.setHoverOFF})})}return[]}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Xt.TEXT_EDIT)return"";if(a.text){var g=f.editConfigModel,_=!1;return(a.text.draggable||g.nodeTextDraggable)&&(_=!0),Object(le.g)(gy,{editable:g.nodeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:_})}}},{key:"getStateClassName",value:function(){var i=this.props.model,a=i.state,f=i.isDraging,g=i.isSelected,_="lf-node";switch(a){case Xt.ALLOW_CONNECT:_+=" lf-node-allow";break;case Xt.NOT_ALLOW_CONNECT:_+=" lf-node-not-allow";break;default:_+=" lf-node-default"}return f&&(_+=" lf-isDragging"),g&&(_+=" lf-node-selected"),_}},{key:"toFront",value:function(){var i=this.props,a=i.model,f=i.graphModel;f.overlapMode!==ur.INCREASE&&a.autoToFront&&f.toFront(a.id)}},{key:"render",value:function(){var i,a=this.props,f=a.model,g=a.graphModel,_=g.editConfigModel,P=_.hideAnchors,N=_.adjustNodePosition,C=g.gridSize,Y=g.transformModel.SCALE_X,fe=f.isHitable,ye=f.draggable,je=Object(le.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),P?null:this.getAnchors());return fe?(N&&ye&&this.stepDrag.setStep(C*Y),i=Object(le.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},je)):i=Object(le.g)("g",{className:this.getStateClassName()},je),i}}])&&_y(e.prototype,n),r&&_y(e,r),u}(le.a);function Xc(t){return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Uc(){return Uc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}function Ob(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yc(t,e){return Yc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Yc(t,e)}function wb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hu(t);if(e){var o=hu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xb(this,n)}}function xb(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function hu(t){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},hu(t)}var Vc=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Yc(i,a)})(u,t);var e,n,r,o=wb(u);function u(){return Ob(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(le.g)(Lo,Uc({},a,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&Oy(e.prototype,n),r&&Oy(e,r),u}(Oo);function Wc(t){return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Zc(){return Zc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}function Eb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kc(t,e){return Kc=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Kc(t,e)}function Sb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=yu(t);if(e){var o=yu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function yu(t){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yu(t)}var $c=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Kc(i,a)})(u,t);var e,n,r,o=Sb(u);function u(){return Eb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,g=i.r,_=i.getNodeStyle();return Object(le.g)(ga,Zc({},_,{x:a,y:f,r:g}))}}])&&wy(e.prototype,n),r&&wy(e,r),u}(Oo);function Jc(t){return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function Pb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ey(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(o){var u=Pb(o,2),i=u[0],a=u[1];Jc(a)!=="object"&&(r[i]=a)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(o){return o.join(",")}).join(" "),Object(le.g)("polygon",r)}function qc(t){return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Qc(){return Qc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}function Mb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function el(t,e){return el=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},el(t,e)}function kb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vu(t);if(e){var o=vu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nb(this,n)}}function Nb(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vu(t){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vu(t)}var tl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&el(i,a)})(u,t);var e,n,r,o=kb(u);function u(){return Mb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,g=i.width,_=i.height,P=i.points,N=i.getNodeStyle(),C={transform:"matrix(1 0 0 1 ".concat(a-g/2," ").concat(f-_/2,")")};return Object(le.g)("g",C,Object(le.g)(Ey,Qc({},N,{points:P,x:a,y:f})))}}])&&Sy(e.prototype,n),r&&Sy(e,r),u}(Oo);function nl(t){return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function rl(){return rl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}function Ab(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ol(t,e){return ol=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},ol(t,e)}function Db(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gu(t);if(e){var o=gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tb(this,n)}}function Tb(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gu(t)}var il=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ol(i,a)})(u,t);var e,n,r,o=Db(u);function u(){return Ab(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(le.g)("g",null,Object(le.g)(Ey,rl({},a,{points:i.points,x:i.x,y:i.y})))}}])&&jy(e.prototype,n),r&&jy(e,r),u}(Oo);function al(t){return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Cb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Py(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Py(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rb(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.rx,i=u===void 0?4:u,a=t.ry,f=a===void 0?4:a,g=t.className,_={cx:n,cy:o,rx:i,ry:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(P){var N=Cb(P,2),C=N[0],Y=N[1];al(Y)!=="object"&&(_[C]=Y)}),_.className=g?"lf-basic-shape ".concat(g):"lf-basic-shape",Object(le.g)("ellipse",_)}function ul(t){return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function sl(){return sl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function Ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function My(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cl(t,e){return cl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},cl(t,e)}function Lb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=mu(t);if(e){var o=mu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zb(this,n)}}function zb(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function mu(t){return mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},mu(t)}var ll=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&cl(i,a)})(u,t);var e,n,r,o=Lb(u);function u(){return Ib(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(le.g)(Rb,sl({},a,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&My(e.prototype,n),r&&My(e,r),u}(Oo);function fl(t){return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function ky(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ky(Object(n),!0).forEach(function(r){Bb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ky(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ay(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pl(t,e){return pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pl(t,e)}function Gb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bu(t);if(e){var o=bu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fb(this,n)}}function Fb(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bu(t){return bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bu(t)}var dl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&pl(i,a)})(u,t);var e,n,r,o=Gb(u);function u(){return Hb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text;if(f&&f.value&&a.background&&a.background.fill!=="transparnet"){var g=f.x,_=f.y,P=i.width,N=i.height,C=Ny(Ny({},a.background),{},{x:g,y:_-1,width:P,height:N});return Object(le.g)(Lo,C)}}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getBackgroud())}}])&&Ay(e.prototype,n),r&&Ay(e,r),u}(Oo);function hl(t){return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function yl(){return yl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}function Xb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vl(t,e){return vl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},vl(t,e)}function Ub(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=_u(t);if(e){var o=_u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yb(this,n)}}function Yb(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xa(t)}function xa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _u(t){return _u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_u(t)}function Ou(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&vl(i,a)})(u,t);var e,n,r,o=Ub(u);function u(){var i;Xb(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Ou(xa(i=o.call.apply(o,[this].concat(f))),"ref",void 0),Ou(xa(i),"currrentProperties",void 0),Ou(xa(i),"preProperties",void 0),Ou(xa(i),"setRef",function(_){i.ref=_}),i}return e=u,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,g=i.height,_=i.width,P=i.getNodeStyle();return this.currrentProperties=JSON.stringify(i.properties),Object(le.g)("foreignObject",yl({},P,{x:a-_/2,y:f-g/2,width:_,height:g,ref:this.setRef}))}}])&&Dy(e.prototype,n),r&&Dy(e,r),u}(Oo);function ml(t){return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function bl(){return bl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function Ty(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ty(Object(n),!0).forEach(function(r){wl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ty(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _l(t,e){return _l=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_l(t,e)}function Vb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wu(t);if(e){var o=wu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wb(this,n)}}function Wb(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ol(t)}function Ol(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wu(t){return wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wu(t)}function wl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qr,Zb=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&_l(i,a)})(u,t);var e,n,r,o=Vb(u);function u(i){var a;return function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,u),wl(Ol(a=o.call(this,i)),"setHoverON",function(){a.setState({isHoverd:!0})}),wl(Ol(a),"setHoverOFF",function(){a.setState({isHoverd:!1})}),a.state={isHoverd:!1},a}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text,g=a.background||{};if(this.state.isHoverd&&a.hover&&a.hover.background&&(g=fi(fi({},g),a.hover.background)),f&&f.value&&g.fill!=="transparent"){var _,P=a.fontSize,N=a.overflowMode,C=a.lineHeight,Y=a.wrapPadding,fe=a.textWidth,ye=f.value,je=f.x,xe=f.y,Pe=String(ye).split(/[\r\n]/g),Ie=Pe.length;if(N==="autoWrap"&&fe){var We=hp({rows:Pe,style:{fontSize:"".concat(P,"px"),width:"".concat(fe,"px"),lineHeight:C,padding:Y},rowsLength:Ie,className:"lf-get-text-height"});_=fi(fi({},g),{},{x:je-1,y:xe-1,width:fe,height:We})}else{var Ve=0;Pe&&Pe.forEach(function(Ut){var on=Bp(Ut);Ve=on>Ve?on:Ve});var rt=ss({rows:Pe,fontSize:P,rowsLength:Ie}),vt=rt.width,At=rt.height;if(typeof g.wrapPadding=="string"){var lt=g.wrapPadding.split(",").filter(function(Ut){return Ut.trim()}).map(function(Ut){return parseFloat(Ut.trim())});lt.length>0&&lt.length<=4&&(lt.length===1?lt=[lt[0],lt[0],lt[0],lt[0]]:lt.length===2?lt=[lt[0],lt[1],lt[0],lt[1]]:lt.length===3&&(lt=[lt[0],lt[1],lt[2],lt[1]]),vt+=lt[1]+lt[3],At+=lt[0]+lt[2],je+=(lt[1]-lt[3])/2,xe+=(lt[2]-lt[0])/2)}_=fi(fi({},g),{},{x:je-1,y:xe-1,width:vt,height:At})}return Object(le.g)(Lo,_)}}},{key:"getShape",value:function(){var i=this.props.model,a=i.text,f=a.value,g=a.x,_=a.y;if(f){var P=fi({x:g,y:_,className:"lf-element-text",value:f},i.getTextStyle());return Object(le.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(le.g)(hy,bl({},P,{model:i})))}}}])&&Cy(e.prototype,n),r&&Cy(e,r),u}(gy);function xl(t){return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function El(){return El=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}function Ry(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ry(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ry(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Iy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Iy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Iy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ly(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sl(t,e){return Sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Sl(t,e)}function $b(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xu(t);if(e){var o=xu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jb(this,n)}}function Jb(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(t)}function kr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xu(t){return xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},xu(t)}function Nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(qr||(qr={}));var zy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Sl(i,a)})(u,t);var e,n,r,o=$b(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Nr(kr(i=o.call(this)),"dragHandler",void 0),Nr(kr(i),"oldEdge",void 0),Nr(kr(i),"preTargetNode",void 0),Nr(kr(i),"targetRuleResults",void 0),Nr(kr(i),"sourceRuleResults",void 0),Nr(kr(i),"onDragStart",function(){var a=i.props,f=a.x,g=a.y,_=a.edgeModel,P=_.startPoint,N=_.endPoint,C=_.pointsList;i.oldEdge={startPoint:P,endPoint:N,pointsList:C},i.setState({endX:f,endY:g,draging:!0}),_.isHitable=!1}),Nr(kr(i),"onDraging",function(a){var f=a.deltaX,g=a.deltaY,_=i.state,P=_.endX,N=_.endY,C=i.props,Y=C.graphModel,fe=C.type,ye=Kb(Y.transformModel.moveCanvasPointByHtml([P,N],f,g),2),je=ye[0],xe=ye[1];i.setState({endX:je,endY:xe,draging:!0});var Pe=i.props.edgeModel,Ie=Da({x:P,y:N},Y);if(Ie&&Ie.node&&i.isAllowAdjust(Ie)){var We,Ve=Pe.startPoint,rt=Pe.endPoint,vt=Pe.sourceNode,At=Pe.targetNode;fe===qr.SOURCE?We={startPoint:{x:Ie.anchor.x,y:Ie.anchor.y},endPoint:{x:rt.x,y:rt.y},sourceNode:Ie.node,targetNode:At}:fe===qr.TARGET&&(We={startPoint:{x:Ve.x,y:Ve.y},endPoint:{x:Ie.anchor.x,y:Ie.anchor.y},sourceNode:vt,targetNode:Ie.node}),Pe.updateAfterAdjustStartAndEnd(We)}else fe===qr.SOURCE?Pe.updateStartPoint({x:je,y:xe}):fe===qr.TARGET&&Pe.updateEndPoint({x:je,y:xe})}),Nr(kr(i),"onDragEnd",function(){var a;i.setState({draging:!1});var f=i.props,g=f.graphModel,_=f.edgeModel,P=f.type;_.isHitable=!0;var N=i.state,C=N.endX,Y=N.endY,fe=N.draging,ye=Da({x:C,y:Y},g);if(fe){if(ye&&ye.node&&i.isAllowAdjust(ye)){var je,xe=_.getData(),Pe=wo(wo({},xe),{},{sourceAnchorId:"",targetAnchorId:"",text:(xe==null||(je=xe.text)===null||je===void 0?void 0:je.value)||""});P===qr.SOURCE?Pe=wo(wo({},Pe),{},{sourceNodeId:ye.node.id,sourceAnchorId:ye.anchor.id,startPoint:{x:ye.anchor.x,y:ye.anchor.y},targetNodeId:_.targetNodeId,endPoint:wo({},_.endPoint)}):P===qr.TARGET&&(Pe=wo(wo({},Pe),{},{sourceNodeId:_.sourceNodeId,startPoint:wo({},_.startPoint),targetNodeId:ye.node.id,targetAnchorId:ye.anchor.id,endPoint:{x:ye.anchor.x,y:ye.anchor.y}})),g.deleteEdgeById(_.id);var Ie=g.addEdge(wo({},Pe));g.eventCenter.emit(jt.EDGE_EXCHANGE_NODE,{data:{newEdge:Ie.getData(),oldEdge:_.getData()}})}else i.recoveryEdge();(a=i.preTargetNode)===null||a===void 0||a.setElementState(Xt.DEFAULT)}}),Nr(kr(i),"recoveryEdge",function(){var a=i.props.edgeModel,f=i.oldEdge,g=f.startPoint,_=f.endPoint,P=f.pointsList;a.updateStartPoint(g),a.updateEndPoint(_),a.modelType!==Ct.LINE_EDGE&&(a.pointsList=P,a.initPoints())}),Nr(kr(i),"getAdjustPointStyle",function(){return i.props.graphModel.theme.edgeAdjust}),i.state={draging:!1,endX:0,endY:0},i.targetRuleResults=new Map,i.sourceRuleResults=new Map,i.dragHandler=js({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"isAllowAdjust",value:function(i){var a=this.props,f=a.edgeModel,g=(f.id,f.sourceNode),_=f.targetNode,P=f.sourceAnchorId,N=f.targetAnchorId,C=a.type,Y=null,fe=null,ye=null,je=null;if(C===qr.SOURCE?(Y=i.node,fe=_,ye=i.anchor,je=_.getAnchorInfo(N)):(Y=g,fe=i.node,je=i.anchor,ye=g.getAnchorInfo(P)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(Xt.DEFAULT),this.preTargetNode=i.node,je.id===ye.id)return!1;var xe="".concat(Y.id,"_").concat(fe.id,"_").concat(ye.id,"_").concat(je.id);if(!this.targetRuleResults.has(xe)){var Pe=Y.isAllowConnectedAsSource(fe,ye,je),Ie=fe.isAllowConnectedAsTarget(Y,ye,je);this.sourceRuleResults.set(xe,Ta(Pe)),this.targetRuleResults.set(xe,Ta(Ie))}var We=this.sourceRuleResults.get(xe).isAllPass,Ve=this.targetRuleResults.get(xe).isAllPass,rt=We&&Ve?Xt.ALLOW_CONNECT:Xt.NOT_ALLOW_CONNECT;return C===qr.SOURCE?Y.setElementState(rt):fe.setElementState(rt),We&&Ve}},{key:"render",value:function(){var i=this.props,a=i.x,f=i.y,g=this.state.draging,_=this.getAdjustPointStyle();return Object(le.g)("g",null,Object(le.g)(ga,El({className:"lf-edge-adjust-point"},_,{x:a,y:f,onMouseDown:this.dragHandler,"pointer-events":g?"none":""})))}}])&&Ly(e.prototype,n),r&&Ly(e,r),u}(le.a);function jl(t){return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Eu(){return Eu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eu.apply(this,arguments)}function By(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?By(Object(n),!0).forEach(function(r){Dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pl(t,e){return Pl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Pl(t,e)}function Qb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Su(t);if(e){var o=Su(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return e0(this,n)}}function e0(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ar(t)}function Ar(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Su(t){return Su=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Su(t)}function Dr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ea=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Pl(i,a)})(u,t);var e,n,r,o=Qb(u);function u(){var i;qb(this,u);for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return Dr(Ar(i=o.call.apply(o,[this].concat(f))),"startTime",void 0),Dr(Ar(i),"contextMenuTime",void 0),Dr(Ar(i),"clickTimer",void 0),Dr(Ar(i),"handleHover",function(_,P){var N=i.props,C=N.model,Y=N.graphModel.eventCenter;C.setHovered(_);var fe=_?jt.EDGE_MOUSEENTER:jt.EDGE_MOUSELEAVE,ye=C.getData();Y.emit(fe,{data:ye,e:P})}),Dr(Ar(i),"setHoverON",function(_){i.props.model.isHovered||i.handleHover(!0,_)}),Dr(Ar(i),"setHoverOFF",function(_){i.handleHover(!1,_)}),Dr(Ar(i),"handleContextMenu",function(_){_.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var P=i.props,N=P.model,C=P.graphModel,Y=C.getPointByClient({x:_.clientX,y:_.clientY});C.setElementStateById(N.id,Xt.SHOW_MENU,Y.domOverlayPosition),i.toFront(),C.selectEdgeById(N.id);var fe=N==null?void 0:N.getData();C.eventCenter.emit(jt.EDGE_CONTEXTMENU,{data:fe,e:_,position:Y})}),Dr(Ar(i),"handleMouseDown",function(_){_.stopPropagation(),i.startTime=new Date().getTime()}),Dr(Ar(i),"handleMouseUp",function(_){if(i.startTime&&!(new Date().getTime()-i.startTime>200||_.button===2)){var P=_.detail===2,N=i.props,C=N.model,Y=N.graphModel,fe=C==null?void 0:C.getData(),ye=Y.getPointByClient({x:_.clientX,y:_.clientY});if(P){var je=Y.editConfigModel,xe=Y.textEditElement;if(xe&&xe.id===C.id&&Y.setElementStateById(C.id,Xt.DEFAULT),je.edgeTextEdit&&C.text.editable&&Y.setElementStateById(C.id,Xt.TEXT_EDIT),C.modelType===Ct.POLYLINE_EDGE){var Pe=C,Ie=Y.getPointByClient({x:_.x,y:_.y}).canvasOverlayPosition,We=Ie.x,Ve=Ie.y,rt=Gp({x:We,y:Ve},Pe.points);Pe.dbClickPosition=rt}Y.eventCenter.emit(jt.EDGE_DBCLICK,{data:fe,e:_,position:ye})}else Y.eventCenter.emit(jt.ELEMENT_CLICK,{data:fe,e:_,position:ye}),Y.eventCenter.emit(jt.EDGE_CLICK,{data:fe,e:_,position:ye});var vt=Y.editConfigModel;Y.selectEdgeById(C.id,Gf(_,vt)),i.toFront()}}),Dr(Ar(i),"getIsDraging",function(){return!1}),i}return e=u,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Xt.TEXT_EDIT)return"";var g=!1,_=f.editConfigModel;return(a.text.draggable||_.edgeTextDraggable)&&(g=!0),Object(le.g)(Zb,{editable:_.edgeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:g})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,g=i.isSelected;return{start:a,end:f,hover:this.state.hover,isSelected:g}}},{key:"getArrowStyle",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.getEdgeStyle(),_=a.getEdgeAnimationStyle(),P=f.theme.arrow,N=a.isAnimation?_.stroke:g.stroke;return Hy(Hy({},g),{},{fill:N,stroke:N},P)}},{key:"getArrow",value:function(){return Object(le.g)("g",null,Object(le.g)("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.id,_=f.theme.arrow,P=_.offset,N=_.verticalLength,C=this.getArrowStyle(),Y=C.stroke,fe=C.strokeWidth;return Object(le.g)("marker",{id:"marker-start-".concat(g),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(le.g)("path",{stroke:Y,fill:Y,strokeWidth:fe,d:"M 0 0 L ".concat(P," -").concat(N," L ").concat(P," ").concat(N," Z")}))}},{key:"getEndArrow",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.id,_=f.theme.arrow,P=_.offset,N=_.verticalLength,C=this.getArrowStyle(),Y=C.stroke,fe=C.strokeWidth;return Object(le.g)("marker",{id:"marker-end-".concat(g),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(le.g)("path",{stroke:Y,fill:Y,strokeWidth:fe,transform:"rotate(180)",d:"M 0 0 L ".concat(P," -").concat(N," L ").concat(P," ").concat(N," Z")}))}},{key:"getAdjustPoints",value:function(){var i=this.props,a=i.model,f=i.graphModel,g=a.getAdjustStart(),_=a.getAdjustEnd();return Object(le.g)("g",null,Object(le.g)(zy,Eu({type:"SOURCE"},g,{edgeModel:a,graphModel:f})),Object(le.g)(zy,Eu({type:"TARGET"},_,{edgeModel:a,graphModel:f})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(le.g)("g",null)}},{key:"getAppend",value:function(){return Object(le.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var i=this.props,a=i.graphModel,f=i.model;a.overlapMode!==ur.INCREASE&&a.toFront(f.id)}},{key:"render",value:function(){var i=this.props,a=i.model,f=a.isSelected,g=a.isHitable,_=i.graphModel,P=this.getIsDraging(),N=_.editConfigModel.adjustEdgeStartAndEnd,C=_.animation,Y=f&&C.edge&&_.getSelectElements().edges.length===1;return Object(le.g)("g",null,Object(le.g)("g",{className:["lf-edge",!g&&"pointer-none",f&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),Y&&this.getAnimation(),this.getText(),this.getArrow()),N&&f&&!P?this.getAdjustPoints():"")}}])&&Gy(e.prototype,n),r&&Gy(e,r),u}(le.a);function Ml(t){return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function t0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Fy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Fy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wi=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=t0(n,2),o=r[0],u=r[1],i=Ml(u);o!=="style"&&i==="object"||(e[o]=u)}),Object(le.g)("path",e)};function kl(t){return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function ju(){return ju=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}function n0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nl(t,e){return Nl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Nl(t,e)}function r0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Pu(t);if(e){var o=Pu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return o0(this,n)}}function o0(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pu(t){return Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pu(t)}var Al=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Nl(i,a)})(u,t);var e,n,r,o=r0(u);function u(){return n0(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,g=i.isAnimation,_=i.arrowConfig,P=i.getEdgeStyle(),N=i.getEdgeAnimationStyle(),C=N.strokeDasharray,Y=N.stroke,fe=N.strokeDashoffset,ye=N.animationName,je=N.animationDuration,xe=N.animationIterationCount,Pe=N.animationTimingFunction,Ie=N.animationDirection;return Object(le.g)(ci,ju({},P,{x1:a.x,y1:a.y,x2:f.x,y2:f.y},_,g?{strokeDasharray:C,stroke:Y,style:{strokeDashoffset:fe,animationName:ye,animationDuration:je,animationIterationCount:xe,animationTimingFunction:Pe,animationDirection:Ie}}:{}))}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,g=a.className,_=a.strokeDasharray,P=i.startPoint,N=i.endPoint,C=i.getEdgeStyle();return Object(le.g)("g",null,Object(le.g)(ci,ju({},C,{x1:P.x,y1:P.y,x2:N.x,y2:N.y,className:g,strokeDasharray:_,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model,a=function(C){var Y,fe=C.start,ye=C.end;if(fe.x===ye.x&&fe.y===ye.y)Y="";else{var je={start:fe,end:ye,offset:10,verticalLength:5},xe=ha(Ca(Ca({},je),{},{type:"start"})),Pe=ha(Ca(Ca({},je),{},{type:"end"}));Y="M".concat(xe.leftX," ").concat(xe.leftY,` 
    L`).concat(xe.rightX," ").concat(xe.rightY,` 
    L`).concat(Pe.rightX," ").concat(Pe.rightY,`
    L`).concat(Pe.leftX," ").concat(Pe.leftY," z")}return{d:Y,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:i.startPoint,end:i.endPoint}),f=a.d,g=a.strokeWidth,_=a.fill,P=a.strokeDasharray,N=a.stroke;return Object(le.g)(Wi,{d:f,fill:_,strokeWidth:g,stroke:N,strokeDasharray:P})}}])&&Xy(e.prototype,n),r&&Xy(e,r),u}(Ea);function Dl(t){return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function i0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Uy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Uy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yy=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=i0(n,2),o=r[0],u=r[1];(o==="style"||Dl(u)!=="object")&&(e[o]=u)}),Object(le.g)("polyline",e)};function Tl(t){return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function Vy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vy(Object(n),!0).forEach(function(r){eo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ku(){return ku=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}function a0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Wy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Wy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cl(t,e){return Cl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Cl(t,e)}function u0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Nu(t);if(e){var o=Nu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s0(this,n)}}function s0(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qr(t)}function Qr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nu(t){return Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nu(t)}function eo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Cl(i,a)})(u,t);var e,n,r,o=u0(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),eo(Qr(i=o.call(this)),"drag",void 0),eo(Qr(i),"isDraging",void 0),eo(Qr(i),"appendInfo",void 0),eo(Qr(i),"dragHandler",void 0),eo(Qr(i),"onDragStart",function(){i.props.model.dragAppendStart()}),eo(Qr(i),"onDraging",function(a){var f=a.deltaX,g=a.deltaY,_=i.props,P=_.model,N=_.graphModel;i.isDraging=!0;var C=N.transformModel,Y=N.editConfigModel,fe=a0(C.fixDeltaXY(f,g),2),ye=fe[0],je=fe[1],xe=P,Pe=Y.adjustEdgeMiddle;i.appendInfo=Pe?xe.dragAppendSimple(i.appendInfo,{x:ye,y:je}):xe.dragAppend(i.appendInfo,{x:ye,y:je})}),eo(Qr(i),"onDragEnd",function(){var a=i.props,f=a.model,g=a.graphModel.eventCenter,_=f;_.dragAppendEnd(),i.isDraging=!1,i.appendInfo=void 0,g.emit(jt.EDGE_ADJUST,{data:_.getData()})}),eo(Qr(i),"beforeDragStart",function(a,f){f.dragAble&&i.dragHandler(a),i.appendInfo=f}),eo(Qr(i),"getIsDraging",function(){return i.isDraging}),i.drag=js({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.points,f=i.isAnimation,g=i.arrowConfig,_=i.getEdgeStyle(),P=i.getEdgeAnimationStyle(),N=P.strokeDasharray,C=P.stroke,Y=P.strokeDashoffset,fe=P.animationName,ye=P.animationDuration,je=P.animationIterationCount,xe=P.animationTimingFunction,Pe=P.animationDirection;return Object(le.g)(Yy,ku({points:a},_,g,f?{strokeDasharray:N,stroke:C,style:{strokeDashoffset:Y,animationName:fe,animationDuration:ye,animationIterationCount:je,animationTimingFunction:xe,animationDirection:Pe}}:{}))}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,g=a.className,_=a.strokeDasharray,P=i.getEdgeStyle();return Object(le.g)("g",null,Object(le.g)(Yy,ku({points:i.points},P,{className:g,strokeDasharray:_,stroke:f})))}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.points,f=i.isSelected,g={start:null,end:null,hover:this.state.hover,isSelected:f},_=Ci(a);return _.length>=2&&(g.start=_[_.length-2],g.end=_[_.length-1]),g}},{key:"getAppendAttributes",value:function(i){var a,f=i.start,g=i.end;if(f.x===g.x&&f.y===g.y)a="";else{var _={start:f,end:g,offset:10,verticalLength:5},P=ha(Mu(Mu({},_),{},{type:"start"})),N=ha(Mu(Mu({},_),{},{type:"end"}));a="M".concat(P.leftX," ").concat(P.leftY,` 
      L`).concat(P.rightX," ").concat(P.rightY,` 
      L`).concat(N.rightX," ").concat(N.rightY,`
      L`).concat(N.leftX," ").concat(N.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var a=this.getAppendAttributes(i),f=a.d,g=a.strokeWidth,_=a.fill,P=a.strokeDasharray,N=a.stroke;return Object(le.g)(Wi,{d:f,fill:_,strokeWidth:g,stroke:N,strokeDasharray:P})}},{key:"getAppendWidth",value:function(){for(var i=this,a=this.props,f=a.model,g=a.graphModel,_=f.pointsList,P=f.draggable,N=[],C=_.length,Y=function(ye){var je="lf-polyline-append",xe={start:{x:_[ye].x,y:_[ye].y},end:{x:_[ye+1].x,y:_[ye+1].y},startIndex:ye,endIndex:ye+1,direction:"",dragAble:!0},Pe=Object(le.g)("g",{className:je},i.getAppendShape(xe)),Ie=g.editConfigModel,We=Ie.adjustEdge,Ve=Ie.adjustEdgeMiddle;if(We&&P){i.dragHandler=i.drag;var rt=xe.startIndex,vt=xe.endIndex,At=Ve&&(rt===0||vt===C-1);xe.dragAble=!At,xe.start.x===xe.end.x?(xe.dragAble&&(je+="-ew-resize"),xe.direction=Qt.VERTICAL):xe.start.y===xe.end.y&&(xe.dragAble&&(je+="-ns-resize"),xe.direction=Qt.HORIZONTAL),Pe=Object(le.g)("g",{className:i.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(lt){return i.beforeDragStart(lt,xe)}},Object(le.g)("g",{className:je},i.getAppendShape(xe)))}else i.dragHandler=function(){};N.push(Pe)},fe=0;fe<C-1;fe++)Y(fe);return Object(le.g)("g",null,N)}}])&&Zy(e.prototype,n),r&&Zy(e,r),u}(Ea);function Il(t){return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function c0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ky(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ky(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Au(){return Au=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}function l0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ll(t,e){return Ll=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ll(t,e)}function f0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Du(t);if(e){var o=Du(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Du(t){return Du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Du(t)}var zl=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ll(i,a)})(u,t);var e,n,r,o=f0(u);function u(){return l0(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle(),f=i.path,g=i.isAnimation,_=i.arrowConfig,P=i.getEdgeAnimationStyle(),N=P.strokeDasharray,C=P.stroke,Y=P.strokeDashoffset,fe=P.animationName,ye=P.animationDuration,je=P.animationIterationCount,xe=P.animationTimingFunction,Pe=P.animationDirection;return Object(le.g)(Wi,Au({d:f},a,_,g?{strokeDasharray:N,stroke:C,style:{strokeDashoffset:Y,animationName:fe,animationDuration:ye,animationIterationCount:je,animationTimingFunction:xe,animationDirection:Pe}}:{}))}},{key:"getShape",value:function(){return Object(le.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,g=a.className,_=a.strokeDasharray,P=i.getEdgeStyle();return Object(le.g)("g",null,Object(le.g)(Wi,Au({d:i.path},P,{className:g,strokeDasharray:_,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(le.g)(Wi,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=this.state.hover,f=i,g=f.path,_=f.isSelected,P=function(C){var Y=Ha(C);return[Y[2],Y[3]]}(g),N=c0(P,2);return{start:N[0],end:N[1],hover:a,isSelected:_}}}])&&$y(e.prototype,n),r&&$y(e,r),u}(Ea);function Bl(t){return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Jy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function d0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hl(t,e){return Hl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Hl(t,e)}function y0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Tu(t);if(e){var o=Tu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v0(this,n)}}function v0(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Tu(t){return Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Tu(t)}var g0=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Hl(i,a)})(u,t);var e,n,r,o=y0(u);function u(){return h0(this,u),o.apply(this,arguments)}return e=u,n=[{key:"getArrowAttributes",value:function(){var i=this.props,a=i.arrowInfo,f=i.style,g=a.start,_=a.end,P={start:g,end:_,offset:f.offset,verticalLength:f.verticalLength,type:"end"},N=ha(P),C=N.leftX,Y=N.leftY,fe=N.rightX,ye=N.rightY;return function(je){for(var xe=1;xe<arguments.length;xe++){var Pe=arguments[xe]!=null?arguments[xe]:{};xe%2?Jy(Object(Pe),!0).forEach(function(Ie){d0(je,Ie,Pe[Ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(je,Object.getOwnPropertyDescriptors(Pe)):Jy(Object(Pe)).forEach(function(Ie){Object.defineProperty(je,Ie,Object.getOwnPropertyDescriptor(Pe,Ie))})}return je}({d:"M".concat(C," ").concat(Y," L").concat(_.x," ").concat(_.y," L").concat(fe," ").concat(ye," z")},f)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),a=i.d,f=i.strokeWidth,g=i.stroke,_=i.fill;return Object(le.g)(Wi,{d:a,fill:_,strokeWidth:f,stroke:g})}},{key:"render",value:function(){return Object(le.g)("g",{className:"lf-arrow"},this.getShape())}}],n&&qy(e.prototype,n),r&&qy(e,r),u}(le.a),Qy=function(t,e){return ke(t,e)},m0=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Gl=function(){return Je.a.Date.now()},b0=/\s/,_0=function(t){for(var e=t.length;e--&&b0.test(t.charAt(e)););return e},O0=/^\s+/,w0=function(t){return t&&t.slice(0,_0(t)+1).replace(O0,"")},x0=/^[-+]0x[0-9a-f]+$/i,E0=/^0b[01]+$/i,S0=/^0o[0-7]+$/i,j0=parseInt,ev=function(t){if(typeof t=="number")return t;if(Et(t))return NaN;if($t(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$t(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=w0(t);var n=E0.test(t);return n||S0.test(t)?j0(t.slice(2),n?2:8):x0.test(t)?NaN:+t},P0=Math.max,M0=Math.min,k0=function(t,e,n){var r,o,u,i,a,f,g=0,_=!1,P=!1,N=!0;if(typeof t!="function")throw new TypeError("Expected a function");function C(Pe){var Ie=r,We=o;return r=o=void 0,g=Pe,i=t.apply(We,Ie)}function Y(Pe){return g=Pe,a=setTimeout(ye,e),_?C(Pe):i}function fe(Pe){var Ie=Pe-f;return f===void 0||Ie>=e||Ie<0||P&&Pe-g>=u}function ye(){var Pe=Gl();if(fe(Pe))return je(Pe);a=setTimeout(ye,function(Ie){var We=e-(Ie-f);return P?M0(We,u-(Ie-g)):We}(Pe))}function je(Pe){return a=void 0,N&&r?C(Pe):(r=o=void 0,i)}function xe(){var Pe=Gl(),Ie=fe(Pe);if(r=arguments,o=this,f=Pe,Ie){if(a===void 0)return Y(f);if(P)return clearTimeout(a),a=setTimeout(ye,e),C(f)}return a===void 0&&(a=setTimeout(ye,e)),i}return e=ev(e)||0,$t(n)&&(_=!!n.leading,u=(P="maxWait"in n)?P0(ev(n.maxWait)||0,e):u,N="trailing"in n?!!n.trailing:N),xe.cancel=function(){a!==void 0&&clearTimeout(a),g=0,r=f=o=a=void 0},xe.flush=function(){return a===void 0?i:je(Gl())},xe},N0=s(166);function tv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Go(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nv,rv,ov,A0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Go(this,"undos",[]),Go(this,"redos",[]),Go(this,"callbacks",[]),Go(this,"stopWatch",null),Go(this,"curData",null),Go(this,"maxSize",50),Go(this,"waitTime",100),Go(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,(n=[{key:"add",value:function(o){Qy(m0(this.undos),o)||(this.undos.push(o),Qy(this.curData,o)||(this.redos=[]),this.eventCenter.emit(jt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var o=this.undos.pop();this.redos.push(o);var u=this.undos.pop();return this.curData=an(u),u}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var o=this.redos.pop();return this.curData=an(o),o}}},{key:"watch",value:function(o){var u=this;this.stopWatch&&this.stopWatch(),this.undos.push(o.modelToGraphData()),this.stopWatch=Object(N0.a)(o,k0(function(){var i=o.modelToHistoryData();i&&u.add(i)},this.waitTime))}}])&&tv(e.prototype,n),r&&tv(e,r),t}();function Fl(t){return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function D0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return iv(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return iv(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function av(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?av(Object(n),!0).forEach(function(r){pi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):av(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xl(t,e){return Xl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Xl(t,e)}function T0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cu(t);if(e){var o=Cu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C0(this,n)}}function C0(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ki(t)}function Ki(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cu(t){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cu(t)}function pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sv,cv,lv,Ul=Tr((ov=rv=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Xl(i,a)})(u,t);var e,n,r,o=T0(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),pi(Ki(i=o.call(this)),"ref",Object(le.f)()),pi(Ki(i),"__prevText",{type:"",text:"",id:""}),pi(Ki(i),"keyupHandler",function(a){var f=i.props.graphModel.textEditElement;a.key==="Enter"&&a.altKey&&f.setElementState(0)}),pi(Ki(i),"inputHandler",function(a){var f=a.target.innerText,g=i.props.graphModel.textEditElement;i.__prevText={type:g.type,text:f.replace(/(\r\n)+$|(\n)+$/,""),id:g.id}}),pi(Ki(i),"keydownHandler",function(a){a.stopPropagation()}),i.state={style:{left:0,top:0}},i}return e=u,r=[{key:"getDerivedStateFromProps",value:function(i){var a,f=i.graphModel,g=f.transformModel,_=f.theme,P=f.textEditElement;if(P){var N;if((N=P.text)===null||N===void 0||!N.value)if(P.BaseType===vn.EDGE){var C=(P=P).text,Y=P.textPosition,fe=Y.x,ye=Y.y;C.x=fe,C.y=ye,P.setText(C)}else P=P;var je={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(P.BaseType===vn.EDGE){var xe=_.edgeText,Pe=xe.overflowMode,Ie=xe.lineHeight,We=xe.wrapPadding,Ve=xe.textWidth;Ve&&Pe==="autoWrap"&&(a=Zi(Zi({},je),{},{width:Ve,minWidth:Ve,lineHeight:Ie,padding:We}))}else if(P.BaseType===vn.NODE){var rt=_.nodeText,vt=rt.overflowMode,At=rt.lineHeight,lt=rt.wrapPadding,Ut=rt.textWidth,on=P,An=on.width,Dn=on.modelType;(Dn!==Ct.TEXT_NODE&&vt==="autoWrap"||Dn===Ct.TEXT_NODE&&Ut)&&(a=Zi(Zi({},je),{},{width:Ut||An,minWidth:Ut||An,lineHeight:At,padding:lt}))}var mn=P.text,Cr=mn.x,to=mn.y,Eo=D0(g.CanvasPointToHtmlPoint([Cr,to]),2);return{style:Zi({left:Eo[0],top:Eo[1]},a)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var i=this.props.graphModel,a=i.eventCenter,f=i.editConfigModel,g=f.edgeTextEdit,_=f.nodeTextEdit;(g||_)&&a.on("".concat(jt.GRAPH_TRANSFORM,",").concat(jt.NODE_CLICK,",").concat(jt.BLANK_CLICK," "),function(){i.textEditElement&&i.textEditElement.setElementState(Xt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var i=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,f=a.text,g=a.id;i.updateText(g,f),i.eventCenter.emit(jt.TEXT_UPDATE,Zi({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(i){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(i),a.collapse(!1);var f=window.getSelection();f.removeAllRanges(),f.addRange(a)}}},{key:"render",value:function(){var i,a=this.props.graphModel.textEditElement,f=this.state.style;return a?Object(le.g)("div",{contentEditable:!0,className:"lf-text-input",style:f,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(i=a.text)===null||i===void 0?void 0:i.value):null}}])&&uv(e.prototype,n),r&&uv(e,r),u}(le.a),pi(rv,"toolName","textEdit"),nv=ov))||nv,R0=function(t){return t.modelType===Ct.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,o=(n.x+r.x)/2,u=(n.y+r.y)/2,i=Math.abs(n.x-r.x)+10,a=Math.abs(n.y-r.y)+10;return{x:o-i/2,y:u-a/2,x1:o+i/2,y1:u+a/2}}(t):t.modelType===Ct.POLYLINE_EDGE?function(e){var n=e.points,r=Ci(n),o=ya(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):t.modelType===Ct.BEZIER_EDGE?function(e){var n=e.path,r=Ha(n),o=ya(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):void 0};function Yl(t){return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function fv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,g=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){g=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(g)throw i}}return a}}(t,e)||pv(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I0(t){return function(e){if(Array.isArray(e))return Vl(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||pv(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pv(t,e){if(t){if(typeof t=="string")return Vl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vl(t,e):void 0}}function Vl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wl(t,e){return Wl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Wl(t,e)}function L0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ru(t);if(e){var o=Ru(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z0(this,n)}}function z0(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sa(t)}function Sa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ru(t){return Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ru(t)}function ja(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zl=Tr((lv=cv=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Wl(i,a)})(u,t);var e,n,r,o=L0(u);function u(i){var a;(function(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")})(this,u),ja(Sa(a=o.call(this)),"stepDrag",void 0),ja(Sa(a),"handleMouseDown",function(P){a.stepDrag.handleMouseDown(P)}),ja(Sa(a),"onDraging",function(P){var N=P.deltaX,C=P.deltaY,Y=a.props.graphModel,fe=Y.getSelectElements(!0);Y.moveNodes(fe.nodes.map(function(ye){return ye.id}),N,C)}),ja(Sa(a),"handleContextMenu",function(P){P.preventDefault();var N=a.props,C=N.graphModel,Y=N.graphModel,fe=Y.eventCenter,ye=Y.selectElements,je=C.getPointByClient({x:P.clientX,y:P.clientY}),xe={nodes:[],edges:[]};I0(ye.values()).forEach(function(Pe){Pe.BaseType===vn.NODE&&xe.nodes.push(Pe.getData()),Pe.BaseType===vn.EDGE&&xe.edges.push(Pe.getData())}),fe.emit(jt.SELECTION_CONTEXTMENU,{data:xe,e:P,position:je})});var f=i.graphModel,g=f.gridSize,_=f.eventCenter;return a.stepDrag=new si({onDraging:a.onDraging,step:g,eventType:"SELECTION",eventCenter:_}),a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel,a=i.selectElements,f=i.transformModel;if(!(a.size<=1)){var g=Number.MAX_SAFE_INTEGER,_=Number.MAX_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER;a.forEach(function(ye){var je={x:0,y:0,x1:0,y1:0};ye.BaseType===vn.NODE&&(je=function(xe){var Pe=xe.x,Ie=xe.y,We=xe.width,Ve=xe.height;return{x:Pe-We/2,y:Ie-Ve/2,x1:Pe+We/2,y1:Ie+Ve/2}}(ye)),ye.BaseType===vn.EDGE&&(je=R0(ye)),g=Math.min(g,je.x),_=Math.min(_,je.y),P=Math.max(P,je.x1),N=Math.max(N,je.y1)});var C=fv(f.CanvasPointToHtmlPoint([g,_]),2);g=C[0],_=C[1];var Y=fv(f.CanvasPointToHtmlPoint([P,N]),2);P=Y[0],N=Y[1];var fe={left:"".concat(g-10,"px"),top:"".concat(_-10,"px"),width:"".concat(P-g+20,"px"),height:"".concat(N-_+20,"px")};return Object(le.g)("div",{className:"lf-multiple-select",style:fe,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&dv(e.prototype,n),r&&dv(e,r),u}(le.a),ja(cv,"toolName","multipleSelect"),sv=lv))||sv;function hv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Iu(this,"tools",void 0),Iu(this,"components",void 0),Iu(this,"toolMap",new Map),Iu(this,"instance",void 0),this.instance=o,this.isDisabledTool(Ul.toolName)||this.registerTool(Ul.toolName,Ul),this.isDisabledTool(Zl.toolName)||this.registerTool(Zl.toolName,Zl)}var e,n,r;return e=t,(n=[{key:"isDisabledTool",value:function(o){return this.instance.options.disabledTools.indexOf(o)!==-1}},{key:"registerTool",value:function(o,u){this.toolMap.set(o,u)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&hv(e.prototype,n),r&&hv(e,r),t}(),H0=s(167),G0=s.n(H0);function yv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vv=function(){function t(o){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),Kl(this,"mousetrap",void 0),Kl(this,"options",void 0),Kl(this,"target",void 0),o.keyboard||(o.keyboard={enabled:!1}),this.options=o;var u=o.lf;this.target=u.container,this.mousetrap=new G0.a(this.target),o.keyboard.enabled&&this.enable(!0)}var e,n,r;return e=t,(n=[{key:"initShortcuts",value:function(){var o=this,u=this.options.keyboard.shortcuts;if(u)if(hn(u))u.forEach(function(g){var _=g.keys,P=g.callback,N=g.action;return o.on(_,P,N)});else{var i=u.keys,a=u.callback,f=u.action;this.on(i,a,f)}}},{key:"on",value:function(o,u,i){this.mousetrap.bind(this.getKeys(o),u,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(o,u){this.mousetrap.unbind(this.getKeys(o),u)}},{key:"enable",value:function(o){(this.disabled||o)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(o){var u=this;return(Array.isArray(o)?o:[o]).map(function(i){return u.formatkey(i)})}},{key:"formatkey",value:function(o){return o.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&yv(e.prototype,n),r&&yv(e,r),t}(),F0=vv,xo=null;function gv(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function mv(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function $l(t){return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function bv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bv(Object(n),!0).forEach(function(r){pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ql=function(){function t(o){var u,i,a=this;(function(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")})(this,t),pn(this,"container",void 0),pn(this,"width",void 0),pn(this,"height",void 0),pn(this,"graphModel",void 0),pn(this,"history",void 0),pn(this,"viewMap",new Map),pn(this,"tool",void 0),pn(this,"keyboard",void 0),pn(this,"dnd",void 0),pn(this,"options",void 0),pn(this,"snaplineModel",void 0),pn(this,"components",[]),pn(this,"plugins",void 0),pn(this,"extension",{}),pn(this,"adapterIn",void 0),pn(this,"adapterOut",void 0),pn(this,"getView",function(f){return a.viewMap.get(f)}),o=Fd(o),this.options=o,this.container=o.container,this.plugins=o.plugins,this.graphModel=new Rg(Jl({},o)),this.tool=new B0(this),this.history=new A0(this.graphModel.eventCenter),this.dnd=new xm({lf:this}),this.keyboard=new F0({lf:this,keyboard:o.keyboard}),o.isSilentMode||o.snapline===!1||(this.snaplineModel=new uy(this.graphModel),u=this.graphModel.eventCenter,i=this.snaplineModel,u.on("node:mousemove",function(f){var g=f.data;i.setNodeSnapLine(g)}),u.on("node:mouseup",function(){i.clearSnapline()})),function(f,g){var _=f.keyboard,P=_.options.keyboard;_.on(["cmd + c","ctrl + c"],function(){if(P.enabled&&!g.textEditElement){var N=f.options.guards,C=g.getSelectElements(!1);return N&&N.beforeClone&&!N.beforeClone(C)?(xo=null,!1):((xo=C).nodes.forEach(function(Y){return gv(Y,40)}),xo.edges.forEach(function(Y){return mv(Y,40)}),!1)}}),_.on(["cmd + v","ctrl + v"],function(){if(P.enabled&&!g.textEditElement){if(xo&&(xo.nodes||xo.edges)){f.clearSelectElements();var N=f.addElements(xo);if(!N)return;N.nodes.forEach(function(C){return f.selectElementById(C.id,!0)}),N.edges.forEach(function(C){return f.selectElementById(C.id,!0)}),xo.nodes.forEach(function(C){return gv(C,40)}),xo.edges.forEach(function(C){return mv(C,40)})}return!1}}),_.on(["cmd + z","ctrl + z"],function(){if(P.enabled&&!g.textEditElement)return f.undo(),!1}),_.on(["cmd + y","ctrl + y"],function(){if(P.enabled&&!g.textEditElement)return f.redo(),!1}),_.on(["backspace"],function(){if(P.enabled&&!g.textEditElement){var N=g.getSelectElements(!0);return f.clearSelectElements(),N.edges.forEach(function(C){return f.deleteEdge(C.id)}),N.nodes.forEach(function(C){return f.deleteNode(C.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(o.disabledPlugins)}var e,n,r;return e=t,n=[{key:"register",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof o=="string"){var a={BaseEdge:Ea,BaseEdgeModel:ls,BaseNode:Oo,BaseNodeModel:_o,RectNode:Vc,RectNodeModel:jc,CircleNode:$c,CircleNodeModel:uc,PolygonNode:tl,PolygonNodeModel:wc,TextNode:dl,TextNodeModel:Nc,LineEdge:Al,LineEdgeModel:ys,DiamondNode:il,DiamondNodeModel:pc,PolylineEdge:Rl,PolylineEdgeModel:bs,BezierEdge:zl,BezierEdgeModel:tc,EllipseNode:ll,EllipseNodeModel:vc,HtmlNode:gl,HtmlNodeModel:Tc,h:le.g,type:o};this.viewMap.forEach(function(N){var C=N.extendKey;C&&(a[C]=N)}),this.graphModel.modelMap.forEach(function(N){var C=N.extendKey;C&&(a[C]=N)});var f=u(a),g=f.view,_=f.model,P=g;i&&!P.isObervered&&(P.isObervered=!0,P=Ze(P)),this.setView(o,P),this.graphModel.setModel(o,_)}else this.registerElement(o)}},{key:"registerElement",value:function(o){var u=o.view;o.isObserverView===!1||u.isObervered||(u.isObervered=!0,u=Ze(u)),this.setView(o.type,u),this.graphModel.setModel(o.type,o.model)}},{key:"batchRegister",value:function(){var o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];u.forEach(function(i){o.registerElement(i)})}},{key:"defaultRegister",value:function(){this.registerElement({view:Vc,model:jc,type:"rect"}),this.registerElement({type:"circle",view:$c,model:uc}),this.registerElement({type:"polygon",view:tl,model:wc}),this.registerElement({type:"line",view:Al,model:ys}),this.registerElement({type:"polyline",view:Rl,model:bs}),this.registerElement({type:"bezier",view:zl,model:tc}),this.registerElement({type:"text",view:dl,model:Nc}),this.registerElement({type:"ellipse",view:ll,model:vc}),this.registerElement({type:"diamond",view:il,model:pc}),this.registerElement({type:"html",view:gl,model:Tc})}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(o,u),u||this.graphModel.toFront(o)}},{key:"focusOn",value:function(o){var u=this.graphModel.transformModel,i=o.coordinate,a=o.id;if(!i){var f=this.getNodeModelById(a);f&&(i=f.getData());var g=this.getEdgeModelById(a);g&&(i=g.textPosition)}var _=i,P=_.x,N=_.y;u.focusOn(P,N,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(o){this.graphModel.setTheme(o)}},{key:"resize",value:function(o,u){this.options.width=o!=null?o:this.options.width,this.options.height=u!=null?u:this.options.height,this.graphModel.resize(o,u)}},{key:"setDefaultEdgeType",value:function(o){this.graphModel.setDefaultEdgeType(o)}},{key:"updateText",value:function(o,u){this.graphModel.updateText(o,u)}},{key:"deleteElement",value:function(o){var u,i,a,f=this.getModelById(o);return!!f&&(i=(a=(pn(u={},vn.NODE,this.deleteNode),pn(u,vn.EDGE,this.deleteEdge),u)[f.BaseType])===null||a===void 0?void 0:a.call(this,o))!==null&&i!==void 0&&i}},{key:"getModelById",value:function(o){return this.graphModel.getElement(o)}},{key:"getDataById",value:function(o){return this.graphModel.getElement(o).getData()}},{key:"changeNodeType",value:function(o,u){this.graphModel.changeNodeType(o,u)}},{key:"changeEdgeType",value:function(o,u){this.graphModel.changeEdgeType(o,u)}},{key:"getNodeEdges",value:function(o){return this.graphModel.getNodeEdges(o)}},{key:"addNode",value:function(o){return this.graphModel.addNode(o)}},{key:"deleteNode",value:function(o){var u=this.graphModel.getNodeModelById(o);if(!u)return!1;var i=u.getData(),a=this.options.guards,f=!a||!a.beforeDelete||a.beforeDelete(i);return f&&this.graphModel.deleteNode(o),f}},{key:"cloneNode",value:function(o){var u=this.graphModel.getNodeModelById(o).getData(),i=this.options.guards;if(!i||!i.beforeClone||i.beforeClone(u))return this.graphModel.cloneNode(o)}},{key:"changeNodeId",value:function(o,u){return this.graphModel.changeNodeId(o,u)}},{key:"getNodeModelById",value:function(o){return this.graphModel.getNodeModelById(o)}},{key:"getNodeDataById",value:function(o){return this.graphModel.getNodeModelById(o).getData()}},{key:"addEdge",value:function(o){return this.graphModel.addEdge(o)}},{key:"deleteEdge",value:function(o){var u=this.options.guards,i=this.graphModel.edgesMap[o];if(!i)return!1;var a=i.model.getData(),f=!u||!u.beforeDelete||u.beforeDelete(a);return f&&this.graphModel.deleteEdgeById(o),f}},{key:"deleteEdgeByNodeId",value:function(o){var u=o.sourceNodeId,i=o.targetNodeId;u&&i?this.graphModel.deleteEdgeBySourceAndTarget(u,i):u?this.graphModel.deleteEdgeBySource(u):i&&this.graphModel.deleteEdgeByTarget(i)}},{key:"changeEdgeId",value:function(o,u){return this.graphModel.changeEdgeId(o,u)}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.graphModel.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getEdgeModels",value:function(o){var u=this.graphModel.edges,i=o.sourceNodeId,a=o.targetNodeId;if(i&&a){var f=[];return u.forEach(function(P){P.sourceNodeId===i&&P.targetNodeId===a&&f.push(P)}),f}if(i){var g=[];return u.forEach(function(P){P.sourceNodeId===i&&g.push(P)}),g}if(a){var _=[];return u.forEach(function(P){P.targetNodeId===a&&_.push(P)}),_}return[]}},{key:"getEdgeDataById",value:function(o){var u;return(u=this.getEdgeModelById(o))===null||u===void 0?void 0:u.getData()}},{key:"getNodeIncomingEdge",value:function(o){return this.graphModel.getNodeIncomingEdge(o)}},{key:"getNodeOutgoingEdge",value:function(o){return this.graphModel.getNodeOutgoingEdge(o)}},{key:"getNodeIncomingNode",value:function(o){return this.graphModel.getNodeIncomingNode(o)}},{key:"getNodeOutgoingNode",value:function(o){return this.graphModel.getNodeOutgoingNode(o)}},{key:"editText",value:function(o){this.graphModel.editText(o)}},{key:"setProperties",value:function(o,u){var i;(i=this.graphModel.getElement(o))===null||i===void 0||i.setProperties(Bn(u))}},{key:"getProperties",value:function(o){var u;return(u=this.graphModel.getElement(o))===null||u===void 0?void 0:u.getProperties()}},{key:"toFront",value:function(o){this.graphModel.toFront(o)}},{key:"setElementZIndex",value:function(o,u){return this.graphModel.setElementZIndex(o,u)}},{key:"addElements",value:function(o){for(var u=this,i=o.nodes,a=o.edges,f={},g={nodes:[],edges:[]},_=0;_<i.length;_++){var P=i[_],N=P.id,C=this.addNode(P);if(!C)return;N&&(f[N]=C.id),g.nodes.push(C)}return a.forEach(function(Y){var fe=Y.sourceNodeId,ye=Y.targetNodeId;f[fe]&&(Y.sourceNodeId=f[fe]),f[ye]&&(Y.targetNodeId=f[ye]);var je=u.graphModel.addEdge(Y);g.edges.push(je)}),g}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(o,u,i,a).map(function(f){return f.getData()})}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(o)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var o=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(o):o}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(o){this.graphModel.editConfigModel.updateEditConfig(o)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(o,u){return this.graphModel.getPointByClient({x:o,y:u})}},{key:"undo",value:function(){if(this.history.undoAble()){var o=Bn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"redo",value:function(){if(this.history.redoAble()){var o=Bn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"zoom",value:function(o,u){return this.graphModel.transformModel.zoom(o,u)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(o){this.graphModel.transformModel.setZoomMiniSize(o)}},{key:"setZoomMaxSize",value:function(o){this.graphModel.transformModel.setZoomMaxSize(o)}},{key:"getTransform",value:function(){var o=this.graphModel.transformModel;return{SCALE_X:o.SCALE_X,SCALE_Y:o.SCALE_Y,TRANSLATE_X:o.TRANSLATE_X,TRANSLATE_Y:o.TRANSLATE_Y}}},{key:"translate",value:function(o,u){this.graphModel.transformModel.translate(o,u)}},{key:"resetTranslate",value:function(){var o=this.graphModel.transformModel,u=o.TRANSLATE_X,i=o.TRANSLATE_Y;this.translate(-u,-i)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(o,u){u===void 0&&(u=o),this.graphModel.fitView(o,u)}},{key:"openEdgeAnimation",value:function(o){this.graphModel.openEdgeAnimation(o)}},{key:"closeEdgeAnimation",value:function(o){this.graphModel.closeEdgeAnimation(o)}},{key:"on",value:function(o,u){this.graphModel.eventCenter.on(o,u)}},{key:"off",value:function(o,u){this.graphModel.eventCenter.off(o,u)}},{key:"once",value:function(o,u){this.graphModel.eventCenter.once(o,u)}},{key:"emit",value:function(o,u){this.graphModel.eventCenter.emit(o,u)}},{key:"installPlugins",value:function(){var o,u=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(o=this.plugins)!==null&&o!==void 0?o:t.extensions;a.forEach(function(f){var g=f.pluginName||f.name;i.indexOf(g)===-1&&u.installPlugin(f)})}},{key:"installPlugin",value:function(o){if($l(o)==="object"){var u=o.install,i=o.render;return u&&u.call(o,this,t),i&&this.components.push(i.bind(o)),void(this.extension[o.pluginName]=o)}var a=o,f=new a({lf:this,LogicFlow:t});f.render&&this.components.push(f.render.bind(f)),this.extension[a.pluginName]=f}},{key:"updateAttributes",value:function(o,u){this.graphModel.updateAttributes(o,u)}},{key:"createFakerNode",value:function(o){var u=this.graphModel.modelMap.get(o.type);if(u){var i=new u(Jl(Jl({},o),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(i),i}}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(o){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(o)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(o,u){this.viewMap.set(o,u)}},{key:"renderRawData",value:function(o){this.graphModel.graphDataToModel(Bn(o)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(le.j)(Object(le.g)(wm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(jt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(o=this.adapterIn(o)),this.renderRawData(o)}}],r=[{key:"use",value:function(o){var u=o.pluginName;u||(u=o.name);var i=this.extensions.get(u);i&&i.destroy&&i.destroy(),this.extensions.set(u,o)}}],n&&_v(e.prototype,n),r&&_v(e,r),t}();function Tr(t){return Ze(t)}pn(ql,"extensions",new Map),M.default=ql}])})},4225:function(nn,St,E){"use strict";E.d(St,{jX:function(){return Vu},xV:function(){return Wo},Ou:function(){return ea},Qs:function(){return Yu},v2:function(){return Qi},a9:function(){return zr},Ju:function(){return _i},aC:function(){return ht}});var M=E(20878);function s(p,l){return l={exports:{}},p(l,l.exports),l.exports}var O=s(function(p){var l=p.exports=function(c,h){if(h||(h=16),c===void 0&&(c=128),c<=0)return"0";for(var v=Math.log(Math.pow(2,c))/Math.log(h),b=2;v===Infinity;b*=2)v=Math.log(Math.pow(2,c/b))/Math.log(h)*b;for(var j=v-Math.floor(v),A="",b=0;b<Math.floor(v);b++){var B=Math.floor(Math.random()*h).toString(h);A=B+A}if(j){var W=Math.pow(h,j),B=Math.floor(Math.random()*W).toString(h);A=B+A}var G=parseInt(A,h);return G!==Infinity&&G>=Math.pow(2,c)?l(c,h):A};l.rack=function(c,h,v){var b=function(A){var B=0;do{if(B++>10)if(v)c+=v;else throw new Error("too many ID collisions, use more bits");var W=l(c,h)}while(Object.hasOwnProperty.call(j,W));return j[W]=A,W},j=b.hats={};return b.get=function(A){return b.hats[A]},b.set=function(A,B){return b.hats[A]=B,b},b.bits=c||128,b.base=h||16,b}});function d(p){if(!(this instanceof d))return new d(p);p=p||[128,36,1],this._seed=p.length?O.rack(p[0],p[1],p[2]):p}d.prototype.next=function(p){return this._seed(p||!0)},d.prototype.nextPrefixed=function(p,l){var c;do c=p+this.next(!0);while(this.assigned(c));return this.claim(c,l),c},d.prototype.claim=function(p,l){this._seed.set(p,l||!0)},d.prototype.assigned=function(p){return this._seed.get(p)||!1},d.prototype.unclaim=function(p){delete this._seed.hats[p]},d.prototype.clear=function(){var p=this._seed.hats,l;for(l in p)this.unclaim(l)};var S=d,x=new S([32,32,1]);function k(){return x.next()}var T=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),R=function(p){T(l,p);function l(c,h){var v=this;return c.id||(c.id="Event_"+k()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),v=p.call(this,c,h)||this,v}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedTargetRules=function(){var c=p.prototype.getConnectedTargetRules.call(this),h={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(h),c},l.extendKey="StartEventModel",l}(M.CircleNodeModel),L=function(p){T(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.extendKey="StartEventNode",l}(M.CircleNode),z={type:"bpmn:startEvent",view:L,model:R},F=z,X=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),q=function(){return q=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},q.apply(this,arguments)},ue=function(p){X(l,p);function l(c,h){var v=this;return c.id||(c.id="Event_"+k()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),v=p.call(this,c,h)||this,v}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedSourceRules=function(){var c=p.prototype.getConnectedSourceRules.call(this),h={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(h),c},l.extendKey="EndEventModel",l}(M.CircleNodeModel),ae=function(p){X(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},l.prototype.getShape=function(){var c=this.props.model,h=c.getNodeStyle(),v=c.x,b=c.y,j=c.r,A=p.prototype.getShape.call(this);return(0,M.h)("g",{},A,(0,M.h)("circle",q(q({},h),{cx:v,cy:b,r:j-5})))},l.extendKey="EndEventView",l}(M.CircleNode),de={type:"bpmn:endEvent",view:ae,model:ue},be=de,pe=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),$=function(){return $=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},$.apply(this,arguments)},ee=function(p){pe(l,p);function l(c,h){var v=this;return c.id||(c.id="Gateway_"+k()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),v=p.call(this,c,h)||this,v.points=[[25,0],[50,25],[25,50],[0,25]],v}return l.extendKey="ExclusiveGatewayModel",l}(M.PolygonNodeModel),H=function(p){pe(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,j=c.height,A=c.points,B=c.getNodeStyle();return(0,M.h)("g",{transform:"matrix(1 0 0 1 "+(h-b/2)+" "+(v-j/2)+")"},(0,M.h)("polygon",$($({},B),{x:h,y:v,points:A})),(0,M.h)("path",$({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},B)))},l.extendKey="ExclusiveGatewayNode",l}(M.PolygonNode),re={type:"bpmn:exclusiveGateway",view:H,model:ee},ce=re,ve=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),_e=function(){return _e=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},_e.apply(this,arguments)},Z=function(p){ve(l,p);function l(c,h){var v=this;return c.id||(c.id="Activity_"+k()),v=p.call(this,c,h)||this,v}return l.extendKey="UserTaskModel",l}(M.RectNodeModel),oe=function(p){ve(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,j=c.height,A=c.getNodeStyle();return(0,M.h)("svg",{x:h-b/2+5,y:v-j/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,M.h)("path",{fill:A.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},l.prototype.getShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,j=c.height,A=c.radius,B=c.getNodeStyle();return(0,M.h)("g",{},[(0,M.h)("rect",_e(_e({},B),{x:h-b/2,y:v-j/2,rx:A,ry:A,width:b,height:j})),this.getLabelShape()])},l.extendKey="UserTaskNode",l}(M.RectNode),Q={type:"bpmn:userTask",view:oe,model:Z},I=Q,ie=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),te=function(){return te=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},te.apply(this,arguments)},K=function(p){ie(l,p);function l(c,h){var v=this;return c.id||(c.id="Activity_"+k()),v=p.call(this,c,h)||this,v}return l.extendKey="ServiceTaskModel",l}(M.RectNodeModel),we=function(p){ie(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,j=c.height,A=c.getNodeStyle();return(0,M.h)("svg",{x:h-b/2+5,y:v-j/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,M.h)("path",{fill:A.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},l.prototype.getShape=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,j=c.height,A=c.radius,B=c.getNodeStyle();return(0,M.h)("g",{},[(0,M.h)("rect",te({x:h-b/2,y:v-j/2,rx:A,ry:A,width:b,height:j},B)),this.getLabelShape()])},l.extendKey="ServiceTaskNode",l}(M.RectNode),Ee={type:"bpmn:serviceTask",view:we,model:K},Re=Ee,Ge=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),tt=function(p){Ge(l,p);function l(c,h){var v=this;return c.id||(c.id="Flow_"+k()),v=p.call(this,c,h)||this,v}return l.extendKey="SequenceFlowModel",l}(M.PolylineEdgeModel),Fe=function(p){Ge(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.extendKey="SequenceFlowEdge",l}(M.PolylineEdge),Xe={type:"bpmn:sequenceFlow",view:Fe,model:tt},at=Xe,se={width:40,height:40},ne={width:40,height:40},ge={width:40,height:40},Te={width:100,height:80},He={width:100,height:80},Ce={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},st=function(){function p(l){var c=l.lf;c.setTheme(Ce),c.register(F),c.register(be),c.register(ce),c.register(I),c.register(Re),c.options.customBpmnEdge||(c.register(at),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return p.pluginName="bpmnElement",p}(),ht=function(){function p(l){var c=this,h=l.lf;this.lf=h,this.customCssRules="",this.useGlobalRules=!0,h.getSnapshot=function(v,b){c.getSnapshot(v,b)},h.getSnapshotBlob=function(v){return c.getSnapshotBlob(v)},h.getSnapshotBase64=function(v){return c.getSnapshotBase64(v)}}return p.prototype.getSvgRootElement=function(l){var c=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,l.graphModel.nodes.forEach(function(v){var b=v.x,j=v.width,A=v.y,B=v.height,W=b-j/2,G=A-B/2;W<c.offsetX&&(c.offsetX=W-5),G<c.offsetY&&(c.offsetY=G-5)}),l.graphModel.edges.forEach(function(v){v.pointsList&&v.pointsList.forEach(function(b){var j=b.x,A=b.y;j<c.offsetX&&(c.offsetX=j-5),A<c.offsetY&&(c.offsetY=A-5)})});var h=l.container.querySelector(".lf-canvas-overlay");return h},p.prototype.triggerDownload=function(l){var c=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),h=document.createElement("a");h.setAttribute("download",this.fileName),h.setAttribute("href",l),h.setAttribute("target","_blank"),h.dispatchEvent(c)},p.prototype.removeAnchor=function(l){for(var c=l.childNodes,h=l.childNodes&&l.childNodes.length,v=0;v<h;v++){var b=c[v],j=b.classList&&Array.from(b.classList)||[];j.indexOf("lf-anchor")>-1&&(l.removeChild(l.childNodes[v]),h--,v--)}},p.prototype.getSnapshot=function(l,c){var h=this;this.fileName=l||"logic-flow."+Date.now()+".png";var v=this.getSvgRootElement(this.lf);this.getCanvasData(v,c).then(function(b){var j=b.toDataURL("image/png").replace("image/png","image/octet-stream");h.triggerDownload(j)})},p.prototype.getSnapshotBase64=function(l){var c=this,h=this.getSvgRootElement(this.lf);return new Promise(function(v){c.getCanvasData(h,l).then(function(b){var j=b.toDataURL("image/png");v({data:j,width:b.width,height:b.height})})})},p.prototype.getSnapshotBlob=function(l){var c=this,h=this.getSvgRootElement(this.lf);return new Promise(function(v){c.getCanvasData(h,l).then(function(b){b.toBlob(function(j){v({data:j,width:b.width,height:b.height})},"image/png")})})},p.prototype.getClassRules=function(){var l="";if(this.useGlobalRules)for(var c=document.styleSheets,h=0;h<c.length;h++)for(var v=c[h],b=0;b<v.cssRules.length;b++)l+=v.cssRules[b].cssText;return this.customCssRules&&(l+=this.customCssRules),l},p.prototype.getCanvasData=function(l,c){var h=this,v=l.cloneNode(!0),b=v.lastChild,j=b.childNodes&&b.childNodes.length;if(j)for(var A=0;A<j;A++){var B=b.childNodes[A],W=B.classList&&Array.from(B.classList);if(W&&W.indexOf("lf-base")<0)b.removeChild(b.childNodes[A]),j--,A--;else{var G=b.childNodes[A];G&&G.childNodes.forEach(function(xn){var cn=xn;h.removeAnchor(cn.firstChild)})}}v.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var Se=window.devicePixelRatio||1,Me=document.createElement("canvas"),Ae=document.getElementsByClassName("lf-base")[0],ze=Ae.getBoundingClientRect(),Ke=this.lf.graphModel,ct=Ke.transformModel,dt=ct.SCALE_X,it=ct.SCALE_Y,Mt=Math.ceil(ze.width/dt),On=Math.ceil(ze.height/it);Me.style.width=Mt+"px",Me.style.height=On+"px",Me.width=Mt*Se+80,Me.height=On*Se+80;var rn=Me.getContext("2d");rn.clearRect(0,0,Me.width,Me.height),rn.scale(Se,Se),c?(rn.fillStyle=c,rn.fillRect(0,0,Mt*Se+80,On*Se+80)):rn.clearRect(0,0,Mt,On);var Wt=new Image,Tt=document.createElement("style");Tt.innerHTML=this.getClassRules();var wn=document.createElement("foreignObject");return wn.appendChild(Tt),v.appendChild(wn),new Promise(function(xn){Wt.onload=function(){rn.drawImage(Wt,0,0),xn(Me)};var cn="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(v),ln=cn.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Wt.src=ln})},p.pluginName="snapshot",p}(),pt=null,nt=new S([32,32,1]);function De(){return nt.next()}function Ze(p,l){for(var c=0;c<l;c++)p+="  ";return p}function le(p,l,c,h){var v="";if(p instanceof Array)for(var b=0,j=p.length;b<j;b++)v+=Ze(c,h)+le(p[b],l,c,h+1);else if(typeof p=="object"){var A=!1;v+=Ze(c,h)+"<"+l;for(var B in p)B.charAt(0)=="-"?v+=" "+B.substr(1)+'="'+p[B].toString()+'"':A=!0;if(v+=A?">":" />",A){for(var B in p)B=="#text"?v+=p[B]:B=="#cdata"?v+="<![CDATA["+p[B]+"]]>":B.charAt(0)!="-"&&(v+=le(p[B],B,c,h+1));v+=Ze(c,h)+"</"+l+">"}}else v+=Ze(c,h)+"<"+l+">"+p.toString()+"</"+l+">";return v}function $e(p){var l="";for(var c in p)l+=le(p[c],c,`	
`,0);return l}var ut=function(){};ut.ObjTree=function(){return this},ut.ObjTree.VERSION="0.23",ut.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`,ut.ObjTree.prototype.attr_prefix="-",ut.ObjTree.prototype.parseXML=function(p){var l;if(window.DOMParser){var c=new DOMParser,h=c.parseFromString(p,"application/xml");if(!h)return;l=h.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(p),l=c.documentElement);if(!!l)return this.parseDOM(l)},ut.ObjTree.prototype.parseHTTP=function(p,l,c){var h={};for(var v in l)h[v]=l[v];if(h.method||(typeof h.postBody=="undefined"&&typeof h.postbody=="undefined"&&typeof h.parameters=="undefined"?h.method="get":h.method="post"),c){h.asynchronous=!0;var b=this,j=c,A=h.onComplete;h.onComplete=function(G){var Se;G&&G.responseXML&&G.responseXML.documentElement&&(Se=b.parseDOM(G.responseXML.documentElement)),j(Se,G),A&&A(G)}}else h.asynchronous=!1;var B;if(typeof HTTP!="undefined"&&HTTP.Request){h.uri=p;var W=new HTTP.Request(h);W&&(B=W.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var W=new Ajax.Request(p,h);W&&(B=W.transport)}if(c)return B;if(B&&B.responseXML&&B.responseXML.documentElement)return this.parseDOM(B.responseXML.documentElement)},ut.ObjTree.prototype.parseDOM=function(p){if(!!p){if(this.__force_array={},this.force_array)for(var l=0;l<this.force_array.length;l++)this.__force_array[this.force_array[l]]=1;var c=this.parseElement(p);if(this.__force_array[p.nodeName]&&(c=[c]),p.nodeType!=11){var h={};h[p.nodeName]=c,c=h}return c}},ut.ObjTree.prototype.parseElement=function(p){if(p.nodeType!=7){if(p.nodeType==3||p.nodeType==4){var l=p.nodeValue.match(/[^\x00-\x20]/);return l==null?void 0:p.nodeValue}var c,h={};if(p.attributes&&p.attributes.length){c={};for(var v=0;v<p.attributes.length;v++){var b=p.attributes[v].nodeName;if(typeof b=="string"){var j=p.attributes[v].nodeValue;!j||(b=this.attr_prefix+b,typeof h[b]=="undefined"&&(h[b]=0),h[b]++,this.addNode(c,b,h[b],j))}}}if(p.childNodes&&p.childNodes.length){var A=!0;c&&(A=!1);for(var v=0;v<p.childNodes.length&&A;v++){var B=p.childNodes[v].nodeType;B==3||B==4||(A=!1)}if(A){c||(c="");for(var v=0;v<p.childNodes.length;v++)c+=p.childNodes[v].nodeValue}else{c||(c={});for(var v=0;v<p.childNodes.length;v++){var b=p.childNodes[v].nodeName;if(typeof b=="string"){var j=this.parseElement(p.childNodes[v]);!j||(typeof h[b]=="undefined"&&(h[b]=0),h[b]++,this.addNode(c,b,h[b],j))}}}}return c}},ut.ObjTree.prototype.addNode=function(p,l,c,h){this.__force_array[l]?(c==1&&(p[l]=[]),p[l][p[l].length]=h):c==1?p[l]=h:c==2?p[l]=[p[l],h]:p[l][p[l].length]=h},ut.ObjTree.prototype.writeXML=function(p){var l=this.hash_to_xml(null,p);return this.xmlDecl+l},ut.ObjTree.prototype.hash_to_xml=function(p,l){var c=[],h=[];for(var v in l)if(!!l.hasOwnProperty(v)){var b=l[v];v.charAt(0)!=this.attr_prefix?typeof b=="undefined"||b==null?c[c.length]="<"+v+" />":typeof b=="object"&&b.constructor==Array?c[c.length]=this.array_to_xml(v,b):typeof b=="object"?c[c.length]=this.hash_to_xml(v,b):c[c.length]=this.scalar_to_xml(v,b):h[h.length]=" "+v.substring(1)+'="'+this.xml_escape(b)+'"'}var j=h.join(""),A=c.join("");return typeof p=="undefined"||p==null||(c.length>0?A.match(/\n/)?A="<"+p+j+`>
`+A+"</"+p+`>
`:A="<"+p+j+">"+A+"</"+p+`>
`:A="<"+p+j+` />
`),A},ut.ObjTree.prototype.array_to_xml=function(p,l){for(var c=[],h=0;h<l.length;h++){var v=l[h];typeof v=="undefined"||v==null?c[c.length]="<"+p+" />":typeof v=="object"&&v.constructor==Array?c[c.length]=this.array_to_xml(p,v):typeof v=="object"?c[c.length]=this.hash_to_xml(p,v):c[c.length]=this.scalar_to_xml(p,v)}return c.join("")},ut.ObjTree.prototype.scalar_to_xml=function(p,l){return p=="#text"?this.xml_escape(l):"<"+p+">"+this.xml_escape(l)+"</"+p+`>
`},ut.ObjTree.prototype.xml_escape=function(p){return p.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var It=function(p){return new ut.ObjTree().parseXML(p)},mt=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},xt;(function(p){p.START="bpmn:startEvent",p.END="bpmn:endEvent",p.GATEWAY="bpmn:exclusiveGateway",p.USER="bpmn:userTask",p.SYSTEM="bpmn:serviceTask",p.FLOW="bpmn:sequenceFlow"})(xt||(xt={}));var Gt=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Ft(p){var l={};return Object.entries(p).forEach(function(c){var h=mt(c,2),v=h[0],b=h[1];typeof b!="object"?v.indexOf("-")===0?l[v]=b:l["-"+v]=b:l[v]=Ft(b)}),l}function bt(p){var l={};return Object.entries(p).forEach(function(c){var h=mt(c,2),v=h[0],b=h[1];typeof b=="string"?v.indexOf("-")===0?l[v.substr(1)]=b:l[v]=b:typeof b=="object"?l[v]=bt(b):l[v]=b}),l}function en(p,l){var c=new Map;l.nodes.forEach(function(v){var b,j={"-id":v.id};if(((b=v.text)===null||b===void 0?void 0:b.value)&&(j["-name"]=v.text.value),v.properties){var A=Ft(v.properties);Object.assign(j,A)}c.set(v.id,j),p[v.type]?Array.isArray(p[v.type])?p[v.type].push(j):p[v.type]=[p[v.type],j]:p[v.type]=j});var h=l.edges.map(function(v){var b,j,A=c.get(v.targetNodeId);A["bpmn:incoming"]?Array.isArray(A["bpmn:incoming"])?A["bpmn:incoming"].push(v.id):A["bpmn:incoming"]=[A["bpmn:incoming"],v.id]:A["bpmn:incoming"]=v.id;var B=c.get(v.sourceNodeId);B["bpmn:outgoing"]?Array.isArray(B["bpmn:outgoing"])?B["bpmn:outgoing"].push(v.id):B["bpmn:outgoing"]=[B["bpmn:outgoing"],v.id]:B["bpmn:outgoing"]=v.id;var W={"-id":v.id,"-sourceRef":v.sourceNodeId,"-targetRef":v.targetNodeId};if(((b=v.text)===null||b===void 0?void 0:b.value)&&(W["-name"]=(j=v.text)===null||j===void 0?void 0:j.value),v.properties){var G=Ft(v.properties);Object.assign(W,G)}return W});p[xt.FLOW]=h}function V(p,l){p["bpmndi:BPMNEdge"]=l.edges.map(function(c){var h,v=c.id,b=c.pointsList.map(function(A){var B=A.x,W=A.y;return{"-x":B,"-y":W}}),j={"-id":v+"_di","-bpmnElement":v,"di:waypoint":b};return((h=c.text)===null||h===void 0?void 0:h.value)&&(j["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),j}),p["bpmndi:BPMNShape"]=l.nodes.map(function(c){var h,v=c.id,b=100,j=80,A=c.x,B=c.y,W=Je.shapeConfigMap.get(c.type);W&&(b=W.width,j=W.height),A-=b/2,B-=j/2;var G={"-id":v+"_di","-bpmnElement":v,"dc:Bounds":{"-x":A,"-y":B,"-width":b,"-height":j}};return((h=c.text)===null||h===void 0?void 0:h.value)&&(G["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),G})}function me(p){var l=[],c=[],h=p["bpmn:definitions"];if(h){var v=h["bpmn:process"];Object.keys(v).forEach(function(b){if(b.indexOf("bpmn:")===0){var j=v[b];if(b===xt.FLOW){var A=h["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=Ye(j,A)}else{var B=h["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];l=l.concat(J(j,B,b))}}})}return{nodes:l,edges:c}}function J(p,l,c){var h=[];if(Array.isArray(p))p.forEach(function(j){var A;Array.isArray(l)?A=l.find(function(W){return W["-bpmnElement"]===j["-id"]}):A=l;var B=Oe(A,c,j);h.push(B)});else{var v=void 0;Array.isArray(l)?v=l.find(function(j){return j["-bpmnElement"]===p["-id"]}):v=l;var b=Oe(v,c,p);h.push(b)}return h}function Oe(p,l,c){var h=Number(p["dc:Bounds"]["-x"]),v=Number(p["dc:Bounds"]["-y"]),b=c["-name"],j=Je.shapeConfigMap.get(l);j&&(h+=j.width/2,v+=j.height/2);var A;Object.entries(c).forEach(function(Se){var Me=mt(Se,2),Ae=Me[0],ze=Me[1];Gt.indexOf(Ae)===-1&&(A||(A={}),A[Ae]=ze)}),A&&(A=bt(A));var B;if(b&&(B={x:h,y:v,value:b},p["bpmndi:BPMNLabel"]&&p["bpmndi:BPMNLabel"]["dc:Bounds"])){var W=p["bpmndi:BPMNLabel"]["dc:Bounds"];B.x=Number(W["-x"])+Number(W["-width"])/2,B.y=Number(W["-y"])+Number(W["-height"])/2}var G={id:p["-bpmnElement"],type:l,x:h,y:v,properties:A};return B&&(G.text=B),G}function Ye(p,l){var c=[];if(Array.isArray(p))p.forEach(function(v){var b;Array.isArray(l)?b=l.find(function(j){return j["-bpmnElement"]===v["-id"]}):b=l,c.push(Ue(b,v))});else{var h=void 0;Array.isArray(l)?h=l.find(function(v){return v["-bpmnElement"]===p["-id"]}):h=l,c.push(Ue(h,p))}return c}function Ue(p,l){var c,h=l["-name"];if(h){var v=p["bpmndi:BPMNLabel"]["dc:Bounds"],b=0;h.split(`
`).forEach(function(B){b<B.length&&(b=B.length)}),c={value:h,x:Number(v["-x"])+b*10/2,y:Number(v["-y"])+7}}var j;Object.entries(l).forEach(function(B){var W=mt(B,2),G=W[0],Se=W[1];Gt.indexOf(G)===-1&&(j||(j={}),j[G]=Se)}),j&&(j=bt(j));var A={id:l["-id"],type:xt.FLOW,pointsList:p["di:waypoint"].map(function(B){return{x:Number(B["-x"]),y:Number(B["-y"])}}),sourceNodeId:l["-sourceRef"],targetNodeId:l["-targetRef"],properties:j};return c&&(A.text=c),A}var Je={pluginName:"bpmn-adapter",install:function(p){p.adapterIn=this.adapterIn,p.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(p,l){this.shapeConfigMap.set(p,l)},adapterOut:function(p){var l={"-id":"Process_"+De(),"-isExecutable":"false"};en(l,p);var c={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};V(c,p);var h={"bpmn:definitions":{"-id":"Definitions_"+De(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":l,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return h},adapterIn:function(p){if(p)return me(p)}};Je.shapeConfigMap.set(xt.START,{width:se.width,height:se.height}),Je.shapeConfigMap.set(xt.END,{width:ne.width,height:ne.height}),Je.shapeConfigMap.set(xt.GATEWAY,{width:ge.width,height:ge.height}),Je.shapeConfigMap.set(xt.SYSTEM,{width:Te.width,height:Te.height}),Je.shapeConfigMap.set(xt.USER,{width:He.width,height:He.height});var kt={pluginName:"bpmnXmlAdapter",install:function(p){p.adapterIn=this.adapterXmlIn,p.adapterOut=this.adapterXmlOut},adapterXmlIn:function(p){var l=It(p);return Je.adapterIn(l)},adapterXmlOut:function(p){var l=Je.adapterOut(p);return $e(l)}},un=null,qt=function(){return qt=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},qt.apply(this,arguments)},tn=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},Yt={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},qe={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function ft(p){switch(p){case"bpmn:sequenceFlow":return Yt.SEQUENCE_FLOW;case"bpmn:startEvent":return Yt.START_EVENT;case"bpmn:endEvent":return Yt.END_EVENT;case"bpmn:userTask":return Yt.USER_TASK;case"bpmn:exclusiveGateway":return Yt.EXCLUSIVE_GATEWAY;default:return p}}function gt(p){var l=p.id,c=p.type,h=p.x,v=p.y,b=p.text,j=b===void 0?"":b,A=p.properties;return{incoming:[],outgoing:[],dockers:[],type:ft(p.type),properties:qt(qt({},A),{name:j&&j.value||"",x:h,y:v,text:j}),key:l}}function _t(p){var l=p.id,c=p.type,h=p.sourceNodeId,v=p.targetNodeId,b=p.startPoint,j=p.endPoint,A=p.pointsList,B=p.text,W=B===void 0?"":B,G=p.properties;return{incoming:[h],outgoing:[v],type:ft(c),dockers:[],properties:qt(qt({},G),{name:W&&W.value||"",text:W,startPoint:JSON.stringify(b),endPoint:JSON.stringify(j),pointsList:JSON.stringify(W)}),key:l}}function Bt(p){var l=new Map,c={flowElementList:[]};return p.nodes.forEach(function(h){var v=gt(h);c.flowElementList.push(v),l.set(h.id,v)}),p.edges.forEach(function(h){var v=_t(h),b=l.get(h.sourceNodeId);b.outgoing.push(v.key);var j=l.get(h.targetNodeId);j.incoming.push(v.key),c.flowElementList.push(v)}),c}function $t(p){var l=p.incoming,c=p.outgoing,h=p.properties,v=p.key,b=p.type,j=h.text,A=h.name,B=h.startPoint,W=h.endPoint,G=h.pointsList,Se={id:v,type:qe[b],sourceNodeId:l[0],targetNodeId:c[0],text:j||A,properties:{}};B&&(Se.startPoint=JSON.parse(B)),W&&(Se.endPoint=JSON.parse(W)),G&&(Se.endPoint=JSON.parse(G));var Me=["startPoint","endPoint","pointsList","text"];return Object.keys(p.properties).forEach(function(Ae){Me.indexOf(Ae)===-1&&(Se.properties[Ae]=p.properties[Ae])}),Se}function br(p){var l=p.properties,c=p.key,h=p.type,v=p.bounds,b=l.x,j=l.y;if(b===void 0){var A=tn(v,2),B=A[0],W=B.x,G=B.y,Se=A[1],Me=Se.x,Ae=Se.y;b=(W+Me)/2,j=(G+Ae)/2}var ze={id:c,type:qe[h],x:b,y:j,text:l.text,properties:{}},Ke=["x","y","text"];return Object.keys(p.properties).forEach(function(ct){Ke.indexOf(ct)===-1&&(ze.properties[ct]=p.properties[ct])}),ze}function lr(p){var l={nodes:[],edges:[]},c=p.flowElementList;return c&&c.length>0&&c.forEach(function(h){if(h.type===Yt.SEQUENCE_FLOW){var v=$t(h);l.edges.push(v)}else{var b=br(h);l.nodes.push(b)}}),l}var _r=function(){function p(l){var c=l.lf;c.adapterIn=this.adapterIn,c.adapterOut=this.adapterOut}return p.prototype.adapterOut=function(l){if(l)return Bt(l)},p.prototype.adapterIn=function(l){if(l)return lr(l)},p.pluginName="turboAdapter",p}(),So=null,Rr;(function(p){p.HORIZONTAL="horizontal",p.VERTICAL="vertical"})(Rr||(Rr={}));var Xo=function(p,l,c){var h=p.x,v=p.y;return(h-l.x)*(h-c.x)<=0&&(v-l.y)*(v-c.y)<=0},Zn=function(p){var l=p.x,c=p.y,h=p.width,v=p.height,b={minX:l-h/2,minY:c-v/2,maxX:l+h/2,maxY:c+v/2,x:l,y:c,width:h,height:v,centerX:l,centerY:c};return b},di=function(p,l){var c;return p.x===l.x?c=Rr.VERTICAL:p.y===l.y&&(c=Rr.HORIZONTAL),c},ot=function(p,l,c){var h=Zn(p),v=di(l,c),b=Math.max(l.x,c.x),j=Math.min(l.x,c.x),A=Math.max(l.y,c.y),B=Math.min(l.y,c.y),W=p.x,G=p.y,Se=p.width,Me=p.height;if(v===Rr.HORIZONTAL){if(l.y===G&&b>=h.maxX&&j<=h.minX)return{startCrossPoint:{x:l.x>c.x?W+Se/2:W-Se/2,y:G},endCrossPoint:{x:l.x>c.x?W-Se/2:W+Se/2,y:G}}}else if(v===Rr.VERTICAL&&l.x===p.x&&A>=h.maxY&&B<=h.minY)return{startCrossPoint:{x:W,y:l.y>c.y?G+Me/2:G-Me/2},endCrossPoint:{x:W,y:l.y>c.y?G-Me/2:G+Me/2}}},qi=function(p,l){for(var c=p.x,h=p.y,v=l.pointsList,b=0;b<v.length-1;b++)if(Xo({x:c,y:h},v[b],v[b+1])){var j=ot(p,v[b],v[b+1]);if(j)return{crossIndex:b+1,crossPoints:j}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},hi=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},Uo=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(hi(arguments[l]));return p},Kn=function(){function p(l){var c=l.lf;this._lf=c,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return p.prototype.eventHandler=function(){var l=this;this.dndAdd&&this._lf.on("node:dnd-add",function(c){var h=c.data;l.insetNode(h)}),this.dropAdd&&this._lf.on("node:drop",function(c){for(var h=c.data,v=l._lf.graphModel.edges,b=h.id,j=!0,A=0;A<v.length;A++)if(v[A].sourceNodeId===b||v[A].targetNodeId===b){j=!1;break}j&&l.insetNode(h)})},p.prototype.insetNode=function(l){for(var c=this._lf.graphModel.edges,h=this._lf.getNodeModelById(l.id),v=0;v<c.length;v++){var b=qi(h,c[v]),j=b.crossIndex,A=b.crossPoints;if(j>=0){var B=c[v],W=B.sourceNodeId,G=B.targetNodeId,Se=B.id,Me=B.type,Ae=B.pointsList;this._lf.addEdge({type:Me,sourceNodeId:W,targetNodeId:l.id,pointsList:Uo(Ae.slice(0,j),[A.startCrossPoint])}),this._lf.addEdge({type:Me,sourceNodeId:l.id,targetNodeId:G,pointsList:Uo([A.endCrossPoint],Ae.slice(j))}),this._lf.deleteEdge(Se);break}}},p.pluginName="insertNodeInPolyline",p}(),$n=null,yi=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},fr=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(yi(arguments[l]));return p},no=function(){function p(l){var c=this,h=l.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){c.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){c.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){c.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){c.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){c.lf.redo()}}],this.lf=h}return p.prototype.render=function(l,c){this.destroy();var h=this.getControlTool();this.toolEl=h,c.appendChild(h),this.domContainer=c},p.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},p.prototype.addItem=function(l){this.controlItems.push(l)},p.prototype.removeItem=function(l){var c=this.controlItems.findIndex(function(h){return h.key===l});return this.controlItems.splice(c,1)[0]},p.prototype.getControlTool=function(){var l=this,c="lf-control-item",h="lf-control-item disabled",v=document.createElement("div"),b=[];return v.className="lf-control",this.controlItems.forEach(function(j){var A=document.createElement("div"),B=document.createElement("i"),W=document.createElement("span");switch(A.className=h,j.onClick&&(A.onclick=j.onClick.bind(null,l.lf)),j.onMouseEnter&&(A.onmouseenter=j.onMouseEnter.bind(null,l.lf)),j.onMouseLeave&&(A.onmouseleave=j.onMouseLeave.bind(null,l.lf)),B.className=j.iconClass,W.className="lf-control-text",W.title=j.title,W.innerText=j.text,A.append(B,W),j.text){case"\u4E0A\u4E00\u6B65":l.lf.on("history:change",function(G){var Se=G.data.undoAble;A.className=Se?c:h});break;case"\u4E0B\u4E00\u6B65":l.lf.on("history:change",function(G){var Se=G.data.redoAble;A.className=Se?c:h});break;default:A.className=c;break}b.push(A)}),v.append.apply(v,fr(b)),v},p.pluginName="control",p}(),pr=null,Yo=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},vi=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(Yo(arguments[l]));return p},ro="lf:defaultNodeMenu",dr="lf:defaultEdgeMenu",oo="lf:defaultGraphMenu",Vo="lf:defaultSelectionMenu",Qi=function(){function p(l){var c=this,h=l.lf;this.__menuDOM=document.createElement("ul"),this.lf=h,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(v){c.setMenuConfig(v)},this.lf.addMenuConfig=function(v){c.addMenuConfig(v)},this.lf.setMenuByType=function(v){c.setMenuByType(v)}}return p.prototype.init=function(){var l=this,c=[{text:"\u5220\u9664",callback:function(b){l.lf.deleteNode(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){l.lf.graphModel.editText(b.id)}},{text:"\u590D\u5236",callback:function(b){l.lf.cloneNode(b.id)}}];this.menuTypeMap.set(ro,c);var h=[{text:"\u5220\u9664",callback:function(b){l.lf.deleteEdge(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){l.lf.graphModel.editText(b.id)}}];this.menuTypeMap.set(dr,h),this.menuTypeMap.set(oo,[]);var v=[{text:"\u5220\u9664",callback:function(b){l.lf.clearSelectElements(),b.edges.forEach(function(j){return l.lf.deleteEdge(j.id)}),b.nodes.forEach(function(j){return l.lf.deleteNode(j.id)})}}];this.menuTypeMap.set(Vo,v)},p.prototype.render=function(l,c){var h=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(v){v.stopPropagation();for(var b=v.target;Array.from(b.classList).indexOf("lf-menu-item")===-1&&Array.from(b.classList).indexOf("lf-menu")===-1;)b=b.parentElement;Array.from(b.classList).indexOf("lf-menu-item")>-1?(b.onclickCallback(h.__currentData),h.__menuDOM.style.display="none",h.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(v){var b=v.data,j=v.position,A=j.domOverlayPosition,B=A.x,W=A.y,G=b.id,Se=h.lf.graphModel.getNodeModelById(G),Me=[],Ae=h.menuTypeMap.get(Se.type);Se&&Se.menu&&Array.isArray(Se.menu)?Me=Se.menu:Ae?Me=Ae:Me=h.menuTypeMap.get(ro),h.__currentData=b,h.showMenu(B,W,Me)}),this.lf.on("edge:contextmenu",function(v){var b=v.data,j=v.position,A=j.domOverlayPosition,B=A.x,W=A.y,G=b.id,Se=h.lf.graphModel.getEdgeModelById(G),Me=[],Ae=h.menuTypeMap.get(Se.type);Se&&Se.menu&&Array.isArray(Se.menu)?Me=Se.menu:Ae?Me=Ae:Me=h.menuTypeMap.get(dr),h.__currentData=b,h.showMenu(B,W,Me)}),this.lf.on("blank:contextmenu",function(v){var b=v.position,j=h.menuTypeMap.get(oo),A=b.domOverlayPosition,B=A.x,W=A.y;h.showMenu(B,W,j)}),this.lf.on("selection:contextmenu",function(v){var b=v.data,j=v.position,A=h.menuTypeMap.get(Vo),B=j.domOverlayPosition,W=B.x,G=B.y;h.__currentData=b,h.showMenu(W,G,A)}),this.lf.on("node:mousedown",function(){h.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){h.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){h.__menuDOM.style.display="none"})},p.prototype.destroy=function(){var l;(l=this===null||this===void 0?void 0:this.__container)===null||l===void 0||l.removeChild(this.__menuDOM),this.__menuDOM=null},p.prototype.showMenu=function(l,c,h){if(!(!h||!h.length)){var v=this.__menuDOM;v.innerHTML="",v.append.apply(v,vi(this.__getMenuDom(h))),!!v.children.length&&(v.style.display="block",v.style.top=c+"px",v.style.left=l+"px")}},p.prototype.setMenuByType=function(l){!l.type||!l.menu||this.menuTypeMap.set(l.type,l.menu)},p.prototype.__getMenuDom=function(l){var c=[];return l&&l.length>0&&l.forEach(function(h){var v=document.createElement("li");if(h.className?v.className="lf-menu-item "+h.className:v.className="lf-menu-item",h.icon===!0){var b=document.createElement("span");b.className="lf-menu-item-icon",v.appendChild(b)}var j=document.createElement("span");j.className="lf-menu-item-text",h.text&&(j.innerText=h.text),v.appendChild(j),v.onclickCallback=h.callback,c.push(v)}),c},p.prototype.setMenuConfig=function(l){!l||(l.nodeMenu!==void 0&&this.menuTypeMap.set(ro,l.nodeMenu?l.nodeMenu:[]),l.edgeMenu!==void 0&&this.menuTypeMap.set(dr,l.edgeMenu?l.edgeMenu:[]),l.graphMenu!==void 0&&this.menuTypeMap.set(oo,l.graphMenu?l.graphMenu:[]))},p.prototype.addMenuConfig=function(l){if(!!l){if(Array.isArray(l.nodeMenu)){var c=this.menuTypeMap.get(ro);this.menuTypeMap.set(ro,c.concat(l.nodeMenu))}if(Array.isArray(l.edgeMenu)){var c=this.menuTypeMap.get(dr);this.menuTypeMap.set(dr,c.concat(l.edgeMenu))}if(Array.isArray(l.graphMenu)){var c=this.menuTypeMap.get(oo);this.menuTypeMap.set(oo,c.concat(l.graphMenu))}}},p.prototype.changeMenuItem=function(l,c){if(l==="add")this.addMenuConfig(c);else if(l==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},p.pluginName="menu",p}(),Ir=null,gi=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},Jn="menu-common",mi=200,jo=100,Wo=function(){function p(l){var c=this,h=l.lf;this.menuTypeMap=new Map,this.listenDelete=function(){c.hideContextMenu()},this.lf=h,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(Jn,[]),this.lf.setContextMenuByType=function(v,b){c.setContextMenuByType(v,b)},this.lf.setContextMenuItems=function(v){c.setContextMenuItems(v)},this.lf.showContextMenu=function(v){c.showContextMenu(v)},this.lf.hideContextMenu=function(){c.hideContextMenu()}}return p.prototype.render=function(l,c){var h=this;this.container=c,l.on("node:click",function(v){var b=v.data;h._activeData=b,h.createContextMenu()}),l.on("edge:click",function(v){var b=v.data;h._activeData=b,h.createContextMenu()}),l.on("blank:click",function(){h.hideContextMenu()})},p.prototype.setContextMenuByType=function(l,c){this.menuTypeMap.set(l,c)},p.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},p.prototype.showContextMenu=function(l){if(!l||!l.id){console.warn("\u8BF7\u68C0\u67E5\u4F20\u5165\u7684\u53C2\u6570");return}this._activeData=l,this.createContextMenu()},p.prototype.setContextMenuItems=function(l){this.menuTypeMap.set(Jn,l)},p.prototype.getContextMenuPosition=function(){var l=this._activeData,c=this.lf.graphModel.getElement(l.id);if(!c){console.warn("\u627E\u4E0D\u5230\u5143\u7D20"+l.id);return}var h,v;if(c.BaseType==="edge"){h=Number.MIN_SAFE_INTEGER,v=Number.MAX_SAFE_INTEGER;var b=c.getData();h=Math.max(b.startPoint.x,h),v=Math.min(b.startPoint.y,v),h=Math.max(b.endPoint.x,h),v=Math.min(b.endPoint.y,v),b.pointsList&&b.pointsList.forEach(function(j){h=Math.max(j.x,h),v=Math.min(j.y,v)})}return c.BaseType==="node"&&(h=l.x+c.width/2,v=l.y-c.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([h,v])},p.prototype.createContextMenu=function(){var l=this,c=this.lf.options.isSilentMode;if(!c){var h=this.menuTypeMap.get(this._activeData.type)||[];h=h.concat(this.menuTypeMap.get(Jn));var v=document.createDocumentFragment();h.forEach(function(b){var j=document.createElement("div");j.className="lf-context-item";var A=document.createElement("img");A.src=b.icon,A.className="lf-context-img",b.className&&(j.className=j.className+" "+b.className),A.addEventListener("click",function(){l.hideContextMenu(),b.callback?b.callback(l._activeData):l.addNode({sourceId:l._activeData.id,x:l._activeData.x,y:l._activeData.y,properties:b.properties,type:b.type})}),j.appendChild(A),v.appendChild(j)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(v),this.showMenu()}},p.prototype.addNode=function(l,c){var h=c!==void 0;c===void 0&&(c=l.y);var v=this.lf.getNodeModelById(l.sourceId),b=l.x-v.width+mi,j=c-l.y/2-20,A=l.x+v.width+mi,B=c+l.y/2+20,W=this.lf.getAreaElement([b,j],[A,B]);if(W.length){c=c+jo,this.addNode(l,c);return}var G=this.lf.addNode({type:l.type,x:l.x+200,y:c,properties:l.properties}),Se,Me;h&&(Se={x:l.x,y:l.y+v.height/2},Me={x:G.x-G.width/2,y:G.y}),this.lf.addEdge({sourceNodeId:l.sourceId,targetNodeId:G.id,startPoint:Se,endPoint:Me})},p.prototype.showMenu=function(){var l=gi(this.getContextMenuPosition(),2),c=l[0],h=l[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=h+"px",this.__menuDOM.style.left=c+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},p.pluginName="contextMenu",p}(),bi=null,ea=function(){function p(l){var c=this,h=l.lf;this.lf=h,this.lf.setPatternItems=function(v){c.setPatternItems(v)}}return p.prototype.render=function(l,c){var h=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(v){h.panelEl.appendChild(h.createDndItem(v))}),c.appendChild(this.panelEl),this.domContainer=c},p.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},p.prototype.setPatternItems=function(l){this.shapeList=l,this.domContainer&&this.render(this.lf,this.domContainer)},p.prototype.createDndItem=function(l){var c=this,h=document.createElement("div");h.className=l.className?"lf-dnd-item "+l.className:"lf-dnd-item";var v=document.createElement("div");if(v.className="lf-dnd-shape",l.icon&&(v.style.backgroundImage="url("+l.icon+")"),h.appendChild(v),l.label){var b=document.createElement("div");b.innerText=l.label,b.className="lf-dnd-text",h.appendChild(b)}return h.onmousedown=function(){l.type&&c.lf.dnd.startDrag({type:l.type,properties:l.properties,text:l.text}),l.callback&&l.callback(c.lf,c.domContainer)},h},p.pluginName="dndPanel",p}(),_i=function(){function p(l){var c=this,h=l.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(b){var j=c.lf.getPointByClient(b.clientX,b.clientY).domOverlayPosition,A=j.x,B=j.y;c.endPoint={x:A,y:B};var W=c.startPoint,G=W.x,Se=W.y,Me=c.wrapper.style,Ae=G,ze=Se,Ke=A-G,ct=B-Se;A<G&&(Ae=A,Ke=G-A),B<Se&&(ze=B,ct=Se-B),Me.left=Ae+"px",Me.top=ze+"px",Me.width=Ke+"px",Me.height=ct+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var b=c.startPoint,j=b.x,A=b.y,B=c.endPoint,W=B.x,G=B.y;if(!(Math.abs(W-j)<10&&Math.abs(G-A)<10)){var Se=[Math.min(j,W),Math.min(A,G)],Me=[Math.max(j,W),Math.max(A,G)],Ae=c.lf.getAreaElement(Se,Me,c.isWholeEdge,c.isWholeNode);Ae.forEach(function(ze){c.lf.selectElementById(ze.id,!0)}),c.lf.emit("selection:selected",Ae)}},this.lf=h;var v=h.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=v,h.openSelectionSelect=function(){c.openSelectionSelect()},h.closeSelectionSelect=function(){c.closeSelectionSelect()}}return p.prototype.render=function(l,c){var h=this;this.__domContainer=c,l.on("blank:mousedown",function(v){var b=v.e,j=l.getEditConfig();if(!(!j.stopMoveGraph||h.__disabled)){var A=l.getPointByClient(b.clientX,b.clientY).domOverlayPosition,B=A.x,W=A.y;h.startPoint={x:B,y:W},h.endPoint={x:B,y:W};var G=document.createElement("div");G.className="lf-selection-select",G.style.top=h.startPoint.y+"px",G.style.left=h.startPoint.x+"px",c.appendChild(G),h.wrapper=G,document.addEventListener("mousemove",h.__draw),document.addEventListener("mouseup",h.__drawOff)}})},p.prototype.setSelectionSense=function(l,c){l===void 0&&(l=!0),c===void 0&&(c=!0),this.isWholeEdge=l,this.isWholeNode=c},p.prototype.openSelectionSelect=function(){var l=this.lf.getEditConfig().stopMoveGraph;l||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},p.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},p.prototype.open=function(){this.__disabled=!1},p.prototype.close=function(){this.__disabled=!0},p.pluginName="selectionSelect",p}(),Lr=function(p){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&p[l],h=0;if(c)return c.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&h>=p.length&&(p=void 0),{value:p&&p[h++],done:!p}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},zr=function(){function p(l){var c=this,h=l.lf,v=l.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(b,j){c.__setView(),c.__isShow||c.__createMiniMap(b,j),c.__isShow=!0},this.hide=function(){c.__isShow&&c.__removeMiniMap(),c.__isShow=!1},this.__startDrag=function(b){document.addEventListener("mousemove",c.__drag),document.addEventListener("mouseup",c.__drop),c.__startPosition={x:b.x,y:b.y}},this.__drag=function(b){var j=c.__viewport.style;c.__viewPortTop+=b.y-c.__startPosition.y,c.__viewPortLeft+=b.x-c.__startPosition.x,j.top=c.__viewPortTop+"px",j.left=c.__viewPortLeft+"px",c.__startPosition={x:b.x,y:b.y};var A=(c.__viewPortLeft+c.__viewPortWidth/2)/c.__viewPortScale,B=(c.__viewPortTop+c.__viewPortHeight/2)/c.__viewPortScale;c.__lf.focusOn({coordinate:{x:A+c.__resetDataX,y:B+c.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",c.__drag),document.removeEventListener("mouseup",c.__drop)},this.__lf=h,this.__miniMapWidth=h.graphModel.width,this.__miniMapHeight=h.graphModel.width*220/150,this.__LogicFlow=v,this.__init()}return p.prototype.render=function(l,c){var h=this;this.__container=c,this.__lf.on("history:change",function(){h.__isShow&&h.__setView()}),this.__lf.on("blank:drop",function(){h.__isShow&&h.__setView()})},p.prototype.init=function(l){this.__disabledPlugins=this.__disabledPlugins.concat(l.disabledPlugins||[])},p.prototype.__init=function(){var l=document.createElement("div");l.className="lf-mini-map-graph",l.style.width=this.__width+"px",l.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:this.__lf.graphModel.width*220/150,container:l,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(c){return c},this.__lfMap.adapterOut=function(c){return c},this.__miniMapWrap=l,this.__createViewPort()},p.prototype.__createMiniMap=function(l,c){var h=document.createElement("div"),v=this.__miniMapWrap;h.appendChild(v),typeof l!="undefined"&&typeof c!="undefined"&&(h.style.left=l+"px",h.style.top=c+"px"),h.style.position="absolute",h.className="lf-mini-map",this.__container.appendChild(h),this.__miniMapWrap.appendChild(this.__viewport);var b=document.createElement("div");b.className="lf-mini-map-header",b.innerText="\u5BFC\u822A",h.appendChild(b);var j=document.createElement("span");j.className="lf-mini-map-close",j.addEventListener("click",this.hide),h.appendChild(j),this.__miniMapContainer=h},p.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},p.prototype.__getBounds=function(l){var c=0,h=this.__miniMapWidth,v=0,b=this.__miniMapHeight,j=l.nodes;return j&&j.length>0&&j.forEach(function(A){var B=A.x,W=A.y,G=A.width,Se=G===void 0?200:G,Me=A.height,Ae=Me===void 0?200:Me,ze=B-Se/2,Ke=B+Se/2,ct=W-Ae/2,dt=W+Ae/2;c=ze<c?ze:c,h=Ke>h?Ke:h,v=ct<v?ct:v,b=dt>b?dt:b}),{left:c,top:v,bottom:b,right:h}},p.prototype.__resetData=function(l){var c=l.nodes,h=l.edges,v=0,b=0;return c&&c.length>0&&(c.forEach(function(j){var A=j.x,B=j.y,W=j.width,G=W===void 0?200:W,Se=j.height,Me=Se===void 0?200:Se,Ae=A-G/2,ze=B-Me/2;v=Ae<v?Ae:v,b=ze<b?ze:b}),(v<0||b<0)&&(this.__resetDataX=v,this.__resetDataY=b,c.forEach(function(j){j.x=j.x-v,j.y=j.y-b,j.text&&(j.text.x=j.text.x-v,j.text.y=j.text.y-b)}),h.forEach(function(j){j.startPoint&&(j.startPoint.x=j.startPoint.x-v,j.startPoint.y=j.startPoint.y-b),j.endPoint&&(j.endPoint.x=j.endPoint.x-v,j.endPoint.y=j.endPoint.y-b),j.text&&(j.text.x=j.text.x-v,j.text.y=j.text.y-b),j.pointsList&&j.pointsList.forEach(function(A){A.x=A.x-v,A.y=A.y-b})}))),l},p.prototype.__setView=function(){var l,c,h=this.__resetData(this.__lf.getGraphRawData()),v=this.__lf.viewMap,b=this.__lf.graphModel.modelMap,j=this.__lfMap.viewMap;try{for(var A=Lr(v.keys()),B=A.next();!B.done;B=A.next()){var W=B.value;j.has(W)||(this.__lfMap.setView(W,v.get(W)),this.__lfMap.graphModel.modelMap.set(W,b.get(W)))}}catch(Mt){l={error:Mt}}finally{try{B&&!B.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}this.__lfMap.render(h);var G=this.__getBounds(h),Se=G.left,Me=G.top,Ae=G.right,ze=G.bottom,Ke=this.__width/(Ae-Se),ct=this.__height/(ze-Me),dt=this.__miniMapWrap.firstChild.style,it=Math.min(Ke,ct);dt.transform="matrix("+it+", 0, 0, "+it+", 0, 0)",dt.transformOrigin="left top",dt.height=ze-Math.min(Me,0)+"px",dt.width=Ae-Math.min(Se,0)+"px",this.__viewPortScale=it,this.__setViewPort(it,{left:Se,top:Me,right:Ae,bottom:ze})},p.prototype.__setViewPort=function(l,c){var h=c.left,v=c.right,b=c.top,j=c.bottom,A=this.__viewport.style;A.width=this.__width-4+"px",A.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var B=this.__lf.getTransform(),W=B.TRANSLATE_X,G=B.TRANSLATE_Y,Se=v-h,Me=(this.__width-4)/(Se/this.__lf.graphModel.width),Ae=this.__lf.graphModel.width/this.__lf.graphModel.height,ze=Me/Ae;this.__viewPortTop=G>0?0:-G*l,this.__viewPortLeft=-W*l,this.__viewPortWidth=Me,this.__viewPortHeight=ze,A.top=this.__viewPortTop+"px",A.left=this.__viewPortLeft+"px",A.width=Me+"px",A.height=ze+"px"},p.prototype.__createViewPort=function(){var l=document.createElement("div");l.className="lf-minimap-viewport",l.addEventListener("mousedown",this.__startDrag),this.__viewport=l},p.pluginName="miniMap",p}(),ta=null,Or=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Tn=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},Oi=function(p){Or(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),h=c.strokeWidth,v=c.stroke,b=c.strokeDashArray,j=this.props.model.points,A=j.split(" ").map(function(En){return En.split(",").map(function(Ln){return Number(Ln)})}),B=Tn(A[0],2),W=B[0],G=B[1],Se="M"+W+" "+G,Me=5,Ae=1;Ae<A.length-1;Ae++){var ze=Tn(A[Ae-1],2),Ke=ze[0],ct=ze[1],dt=Tn(A[Ae],2),it=dt[0],Mt=dt[1],On=Tn(A[Ae+1],2),rn=On[0],Wt=On[1];if(it===Ke&&Mt!==ct){var Tt=Mt>ct?Mt-Me:Mt+Me;Se=Se+" L "+it+" "+Tt}if(Mt===ct&&it!==Ke){var wn=it>Ke?it-Me:it+Me;Se=Se+" L "+wn+" "+Mt}if(Se=Se+" Q "+it+" "+Mt,it===rn&&Mt!==Wt){var Tt=Mt>Wt?Mt-Me:Mt+Me;Se=Se+" "+it+" "+Tt}if(Mt===Wt&&it!==rn){var wn=it>rn?it-Me:it+Me;Se=Se+" "+wn+" "+Mt}}var xn=Tn(A[A.length-1],2),cn=xn[0],ln=xn[1];return Se=Se+" L "+cn+" "+ln,(0,M.h)("path",{d:Se,strokeWidth:h,stroke:v,fill:"none",strokeDashArray:b})},l.extendKey="curvedEdge",l}(M.PolylineEdge),wi=function(p){Or(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l}(M.PolylineEdgeModel),io={pluginName:"curved-edge",curvedSpace:5,init:function(p){var l=p.curvedSpace;io.curvedSpace=l},install:function(p){p.register({type:"curved-edge",view:Oi,model:wi})}},na=null,ao,Zt,Zo,uo,Br,xi,Ko,Po,hr={},nr=[],hn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function qn(p,l){for(var c in l)p[c]=l[c];return p}function $o(p){var l=p.parentNode;l&&l.removeChild(p)}function wr(p,l,c){var h,v,b,j={};for(b in l)b=="key"?h=l[b]:b=="ref"?v=l[b]:j[b]=l[b];if(arguments.length>2&&(j.children=arguments.length>3?ao.call(arguments,2):c),typeof p=="function"&&p.defaultProps!=null)for(b in p.defaultProps)j[b]===void 0&&(j[b]=p.defaultProps[b]);return so(p,j,h,v,null)}function so(p,l,c,h,v){var b={type:p,props:l,key:c,ref:h,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:v==null?++Zo:v};return v==null&&Zt.vnode!=null&&Zt.vnode(b),b}function Hr(){return{current:null}}function jn(p){return p.children}function Gr(p,l){this.props=p,this.context=l}function yn(p,l){if(l==null)return p.__?yn(p.__,p.__.__k.indexOf(p)+1):null;for(var c;l<p.__k.length;l++)if((c=p.__k[l])!=null&&c.__e!=null)return c.__e;return typeof p.type=="function"?yn(p):null}function Cn(p){var l,c;if((p=p.__)!=null&&p.__c!=null){for(p.__e=p.__c.base=null,l=0;l<p.__k.length;l++)if((c=p.__k[l])!=null&&c.__e!=null){p.__e=p.__c.base=c.__e;break}return Cn(p)}}function Mo(p){(!p.__d&&(p.__d=!0)&&Br.push(p)&&!co.__r++||Ko!==Zt.debounceRendering)&&((Ko=Zt.debounceRendering)||xi)(co)}function co(){for(var p;co.__r=Br.length;)p=Br.sort(function(l,c){return l.__v.__b-c.__v.__b}),Br=[],p.some(function(l){var c,h,v,b,j,A;l.__d&&(j=(b=(c=l).__v).__e,(A=c.__P)&&(h=[],(v=qn({},b)).__v=b.__v+1,rr(A,b,v,c.__n,A.ownerSVGElement!==void 0,b.__h!=null?[j]:null,h,j==null?yn(b):j,b.__h),sn(h,b),b.__e!=j&&Cn(b)))})}function Ei(p,l,c,h,v,b,j,A,B,W){var G,Se,Me,Ae,ze,Ke,ct,dt=h&&h.__k||nr,it=dt.length;for(c.__k=[],G=0;G<l.length;G++)if((Ae=c.__k[G]=(Ae=l[G])==null||typeof Ae=="boolean"?null:typeof Ae=="string"||typeof Ae=="number"||typeof Ae=="bigint"?so(null,Ae,null,null,Ae):Array.isArray(Ae)?so(jn,{children:Ae},null,null,null):Ae.__b>0?so(Ae.type,Ae.props,Ae.key,null,Ae.__v):Ae)!=null){if(Ae.__=c,Ae.__b=c.__b+1,(Me=dt[G])===null||Me&&Ae.key==Me.key&&Ae.type===Me.type)dt[G]=void 0;else for(Se=0;Se<it;Se++){if((Me=dt[Se])&&Ae.key==Me.key&&Ae.type===Me.type){dt[Se]=void 0;break}Me=null}rr(p,Ae,Me=Me||hr,v,b,j,A,B,W),ze=Ae.__e,(Se=Ae.ref)&&Me.ref!=Se&&(ct||(ct=[]),Me.ref&&ct.push(Me.ref,null,Ae),ct.push(Se,Ae.__c||ze,Ae)),ze!=null?(Ke==null&&(Ke=ze),typeof Ae.type=="function"&&Ae.__k===Me.__k?Ae.__d=B=lo(Ae,B,p):B=Fr(p,Ae,Me,dt,ze,B),typeof c.type=="function"&&(c.__d=B)):B&&Me.__e==B&&B.parentNode!=p&&(B=yn(Me))}for(c.__e=Ke,G=it;G--;)dt[G]!=null&&(typeof c.type=="function"&&dt[G].__e!=null&&dt[G].__e==c.__d&&(c.__d=yn(h,G+1)),Jo(dt[G],dt[G]));if(ct)for(G=0;G<ct.length;G++)ko(ct[G],ct[++G],ct[++G])}function lo(p,l,c){for(var h,v=p.__k,b=0;v&&b<v.length;b++)(h=v[b])&&(h.__=p,l=typeof h.type=="function"?lo(h,l,c):Fr(c,h,h,v,h.__e,l));return l}function yr(p,l){return l=l||[],p==null||typeof p=="boolean"||(Array.isArray(p)?p.some(function(c){yr(c,l)}):l.push(p)),l}function Fr(p,l,c,h,v,b){var j,A,B;if(l.__d!==void 0)j=l.__d,l.__d=void 0;else if(c==null||v!=b||v.parentNode==null)e:if(b==null||b.parentNode!==p)p.appendChild(v),j=null;else{for(A=b,B=0;(A=A.nextSibling)&&B<h.length;B+=2)if(A==v)break e;p.insertBefore(v,b),j=b}return j!==void 0?j:v.nextSibling}function ra(p,l,c,h,v){var b;for(b in c)b==="children"||b==="key"||b in l||Qn(p,b,null,c[b],h);for(b in l)v&&typeof l[b]!="function"||b==="children"||b==="key"||b==="value"||b==="checked"||c[b]===l[b]||Qn(p,b,l[b],c[b],h)}function bn(p,l,c){l[0]==="-"?p.setProperty(l,c):p[l]=c==null?"":typeof c!="number"||hn.test(l)?c:c+"px"}function Qn(p,l,c,h,v){var b;e:if(l==="style")if(typeof c=="string")p.style.cssText=c;else{if(typeof h=="string"&&(p.style.cssText=h=""),h)for(l in h)c&&l in c||bn(p.style,l,"");if(c)for(l in c)h&&c[l]===h[l]||bn(p.style,l,c[l])}else if(l[0]==="o"&&l[1]==="n")b=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in p?l.toLowerCase().slice(2):l.slice(2),p.l||(p.l={}),p.l[l+b]=c,c?h||p.addEventListener(l,b?Rn:Dt,b):p.removeEventListener(l,b?Rn:Dt,b);else if(l!=="dangerouslySetInnerHTML"){if(v)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(l!=="href"&&l!=="list"&&l!=="form"&&l!=="tabIndex"&&l!=="download"&&l in p)try{p[l]=c==null?"":c;break e}catch(j){}typeof c=="function"||(c!=null&&(c!==!1||l[0]==="a"&&l[1]==="r")?p.setAttribute(l,c):p.removeAttribute(l))}}function Dt(p){this.l[p.type+!1](Zt.event?Zt.event(p):p)}function Rn(p){this.l[p.type+!0](Zt.event?Zt.event(p):p)}function rr(p,l,c,h,v,b,j,A,B){var W,G,Se,Me,Ae,ze,Ke,ct,dt,it,Mt,On,rn,Wt=l.type;if(l.constructor!==void 0)return null;c.__h!=null&&(B=c.__h,A=l.__e=c.__e,l.__h=null,b=[A]),(W=Zt.__b)&&W(l);try{e:if(typeof Wt=="function"){if(ct=l.props,dt=(W=Wt.contextType)&&h[W.__c],it=W?dt?dt.props.value:W.__:h,c.__c?Ke=(G=l.__c=c.__c).__=G.__E:("prototype"in Wt&&Wt.prototype.render?l.__c=G=new Wt(ct,it):(l.__c=G=new Gr(ct,it),G.constructor=Wt,G.render=er),dt&&dt.sub(G),G.props=ct,G.state||(G.state={}),G.context=it,G.__n=h,Se=G.__d=!0,G.__h=[]),G.__s==null&&(G.__s=G.state),Wt.getDerivedStateFromProps!=null&&(G.__s==G.state&&(G.__s=qn({},G.__s)),qn(G.__s,Wt.getDerivedStateFromProps(ct,G.__s))),Me=G.props,Ae=G.state,Se)Wt.getDerivedStateFromProps==null&&G.componentWillMount!=null&&G.componentWillMount(),G.componentDidMount!=null&&G.__h.push(G.componentDidMount);else{if(Wt.getDerivedStateFromProps==null&&ct!==Me&&G.componentWillReceiveProps!=null&&G.componentWillReceiveProps(ct,it),!G.__e&&G.shouldComponentUpdate!=null&&G.shouldComponentUpdate(ct,G.__s,it)===!1||l.__v===c.__v){G.props=ct,G.state=G.__s,l.__v!==c.__v&&(G.__d=!1),G.__v=l,l.__e=c.__e,l.__k=c.__k,l.__k.forEach(function(Tt){Tt&&(Tt.__=l)}),G.__h.length&&j.push(G);break e}G.componentWillUpdate!=null&&G.componentWillUpdate(ct,G.__s,it),G.componentDidUpdate!=null&&G.__h.push(function(){G.componentDidUpdate(Me,Ae,ze)})}if(G.context=it,G.props=ct,G.__v=l,G.__P=p,Mt=Zt.__r,On=0,"prototype"in Wt&&Wt.prototype.render)G.state=G.__s,G.__d=!1,Mt&&Mt(l),W=G.render(G.props,G.state,G.context);else do G.__d=!1,Mt&&Mt(l),W=G.render(G.props,G.state,G.context),G.state=G.__s;while(G.__d&&++On<25);G.state=G.__s,G.getChildContext!=null&&(h=qn(qn({},h),G.getChildContext())),Se||G.getSnapshotBeforeUpdate==null||(ze=G.getSnapshotBeforeUpdate(Me,Ae)),rn=W!=null&&W.type===jn&&W.key==null?W.props.children:W,Ei(p,Array.isArray(rn)?rn:[rn],l,c,h,v,b,j,A,B),G.base=l.__e,l.__h=null,G.__h.length&&j.push(G),Ke&&(G.__E=G.__=null),G.__e=!1}else b==null&&l.__v===c.__v?(l.__k=c.__k,l.__e=c.__e):l.__e=Si(c.__e,l,c,h,v,b,j,B);(W=Zt.diffed)&&W(l)}catch(Tt){l.__v=null,(B||b!=null)&&(l.__e=A,l.__h=!!B,b[b.indexOf(A)]=null),Zt.__e(Tt,l,c)}}function sn(p,l){Zt.__c&&Zt.__c(l,p),p.some(function(c){try{p=c.__h,c.__h=[],p.some(function(h){h.call(c)})}catch(h){Zt.__e(h,c.__v)}})}function Si(p,l,c,h,v,b,j,A){var B,W,G,Se=c.props,Me=l.props,Ae=l.type,ze=0;if(Ae==="svg"&&(v=!0),b!=null){for(;ze<b.length;ze++)if((B=b[ze])&&"setAttribute"in B==!!Ae&&(Ae?B.localName===Ae:B.nodeType===3)){p=B,b[ze]=null;break}}if(p==null){if(Ae===null)return document.createTextNode(Me);p=v?document.createElementNS("http://www.w3.org/2000/svg",Ae):document.createElement(Ae,Me.is&&Me),b=null,A=!1}if(Ae===null)Se===Me||A&&p.data===Me||(p.data=Me);else{if(b=b&&ao.call(p.childNodes),W=(Se=c.props||hr).dangerouslySetInnerHTML,G=Me.dangerouslySetInnerHTML,!A){if(b!=null)for(Se={},ze=0;ze<p.attributes.length;ze++)Se[p.attributes[ze].name]=p.attributes[ze].value;(G||W)&&(G&&(W&&G.__html==W.__html||G.__html===p.innerHTML)||(p.innerHTML=G&&G.__html||""))}if(ra(p,Me,Se,v,A),G)l.__k=[];else if(ze=l.props.children,Ei(p,Array.isArray(ze)?ze:[ze],l,c,h,v&&Ae!=="foreignObject",b,j,b?b[0]:c.__k&&yn(c,0),A),b!=null)for(ze=b.length;ze--;)b[ze]!=null&&$o(b[ze]);A||("value"in Me&&(ze=Me.value)!==void 0&&(ze!==p.value||Ae==="progress"&&!ze||Ae==="option"&&ze!==Se.value)&&Qn(p,"value",ze,Se.value,!1),"checked"in Me&&(ze=Me.checked)!==void 0&&ze!==p.checked&&Qn(p,"checked",ze,Se.checked,!1))}return p}function ko(p,l,c){try{typeof p=="function"?p(l):p.current=l}catch(h){Zt.__e(h,c)}}function Jo(p,l,c){var h,v;if(Zt.unmount&&Zt.unmount(p),(h=p.ref)&&(h.current&&h.current!==p.__e||ko(h,null,l)),(h=p.__c)!=null){if(h.componentWillUnmount)try{h.componentWillUnmount()}catch(b){Zt.__e(b,l)}h.base=h.__P=null}if(h=p.__k)for(v=0;v<h.length;v++)h[v]&&Jo(h[v],l,typeof p.type!="function");c||p.__e==null||$o(p.__e),p.__e=p.__d=void 0}function er(p,l,c){return this.constructor(p,c)}function ji(p,l,c){var h,v,b;Zt.__&&Zt.__(p,l),v=(h=typeof c=="function")?null:c&&c.__k||l.__k,b=[],rr(l,p=(!h&&c||l).__k=wr(jn,null,[p]),v||hr,hr,l.ownerSVGElement!==void 0,!h&&c?[c]:v?null:l.firstChild?ao.call(l.childNodes):null,b,!h&&c?c:v?v.__e:l.firstChild,h),sn(b,p)}function No(p,l){ji(p,l,No)}function or(p,l,c){var h,v,b,j=qn({},p.props);for(b in l)b=="key"?h=l[b]:b=="ref"?v=l[b]:j[b]=l[b];return arguments.length>2&&(j.children=arguments.length>3?ao.call(arguments,2):c),so(p.type,j,h||p.key,v||p.ref,null)}function oa(p,l){var c={__c:l="__cC"+Po++,__:p,Consumer:function(h,v){return h.children(v)},Provider:function(h){var v,b;return this.getChildContext||(v=[],(b={})[l]=this,this.getChildContext=function(){return b},this.shouldComponentUpdate=function(j){this.props.value!==j.value&&v.some(Mo)},this.sub=function(j){v.push(j);var A=j.componentWillUnmount;j.componentWillUnmount=function(){v.splice(v.indexOf(j),1),A&&A.call(j)}}),h.children}};return c.Provider.__=c.Consumer.contextType=c}ao=nr.slice,Zt={__e:function(p,l,c,h){for(var v,b,j;l=l.__;)if((v=l.__c)&&!v.__)try{if((b=v.constructor)&&b.getDerivedStateFromError!=null&&(v.setState(b.getDerivedStateFromError(p)),j=v.__d),v.componentDidCatch!=null&&(v.componentDidCatch(p,h||{}),j=v.__d),j)return v.__E=v}catch(A){p=A}throw p}},Zo=0,uo=function(p){return p!=null&&p.constructor===void 0},Gr.prototype.setState=function(p,l){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=qn({},this.state),typeof p=="function"&&(p=p(qn({},c),this.props)),p&&qn(c,p),p!=null&&this.__v&&(l&&this.__h.push(l),Mo(this))},Gr.prototype.forceUpdate=function(p){this.__v&&(this.__e=!0,p&&this.__h.push(p),Mo(this))},Gr.prototype.render=jn,Br=[],xi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,co.__r=0,Po=0;var fo=function(){return fo=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},fo.apply(this,arguments)};function po(p){var l=p.x,c=p.y,h=p.width,v=p.height,b=p.radius,j=p.className,A=l-h/2,B=c-v/2,W=fo(fo({width:10,height:10,cx:0,cy:0,rx:b||0,ry:b||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+j},p),{x:A,y:B});return(0,M.h)("rect",fo({},W))}po.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Vt;(function(p){p.NODE="node",p.CIRCLE_NODE="circle-node",p.POLYGON_NODE="polygon-node",p.RECT_NODE="rect-node",p.HTML_NODE="html-node",p.TEXT_NODE="text-node",p.ELLIPSE_NODE="ellipse-node",p.DIAMOND_NODE="diamond-node",p.EDGE="edge",p.LINE_EDGE="line-edge",p.POLYLINE_EDGE="polyline-edge",p.BEZIER_EDGE="bezier-edge",p.GRAPH="graph"})(Vt||(Vt={}));function ir(p){var l=p.x,c=p.y,h=p.width,v=p.height;return{minX:l-h/2,minY:c-v/2,maxX:l+h/2,maxY:c+v/2}}function ho(p){var l=ir(p),c=p.radius,h=l.minX,v=l.minY,b=l.maxX,j=l.maxY;return[{x:h+c,y:v+c},{x:b-c,y:v+c},{x:b-c,y:j-c},{x:h+c,y:j-c}]}function Pn(p){var l=p.point,c=p.beforeNode,h=p.afterNode,v=l.x,b=l.y,j={x:v,y:b},A=c.radius,B=ir(c),W=ir(h);if(v===B.minX){j.x=W.minX;var G=(b-c.y)/(c.height/2-A);G?j.y=h.y+(h.height/2-A)*G:j.y=h.y}else if(v===B.maxX){j.x=W.maxX;var G=(b-c.y)/(c.height/2-A);G?j.y=h.y+(h.height/2-A)*G:j.y=h.y}else if(b===B.minY){j.y=W.minY;var G=(v-c.x)/(c.width/2-A);G?j.x=h.x+(h.width/2-A)*G:j.x=h.x}else if(b===B.maxY){j.y=W.maxY;var G=(v-c.x)/(c.width/2-A);G?j.x=h.x+(h.width/2-A)*G:j.x=h.x}else{var Se=ho(c),Me=ho(h),Ae=ir(c),ze=Ae.minX,Ke=Ae.minY,ct=Ae.maxX,dt=Ae.maxY,it=-1;if(v-ze<A&&b-Ke<A?it=0:ct-v<A&&b-Ke<A?it=1:ct-v<A&&dt-b<A?it=2:v-ze<A&&Ke-b<A&&(it=3),it>-1){var Mt=Math.atan2(b-Se[it].y,v-Se[it].x);j.x=Me[it].x+A*Math.cos(Mt),j.y=Me[it].y+A*Math.sin(Mt)}}return j}function qo(p){var l=p.point,c=p.beforeNode,h=p.afterNode,v=h.rx,b=h.ry,j=l,A=(l.y-c.y)/(l.x-c.x),B=v,W=b,G,Se;return A>=Infinity?(G=0,Se=W):A<=-Infinity?(G=0,Se=-W):l.x-c.x>0?(G=B*W/Math.sqrt(W*W+B*B*A*A),Se=B*W*A/Math.sqrt(W*W+B*B*A*A)):(G=-(B*W)/Math.sqrt(W*W+B*B*A*A),Se=-(B*W*A)/Math.sqrt(W*W+B*B*A*A)),j={x:G+h.x,y:Se+h.y},j}function Xr(p){var l=p.point,c=p.beforeNode,h=p.afterNode,v=l,b,j,A=l.x-c.x,B=l.y-c.y,W=c.rx,G=c.ry,Se=Math.sqrt((W-Math.abs(A))*(W-Math.abs(A))+B*B)/Math.sqrt(W*W+G*G),Me=h.rx,Ae=h.ry,ze=Math.sqrt((Me*Me+Ae*Ae)*Se*Se*(Me*Me/(Me*Me+Ae*Ae))),Ke=ze*(Ae/Me);return A>=0?b=Me-ze:b=ze-Me,B>0?j=Ke:j=-Ke,v={x:b+h.x,y:j+h.y},v}var Ao=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),tr=function(){return tr=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},tr.apply(this,arguments)},Do=M.LogicFlowUtil.StepDrag,Pi=function(p){Ao(l,p);function l(c){var h=p.call(this)||this;h.updatePosition=function(j){var A=j.deltaX,B=j.deltaY,W=h.nodeModel,G=W.x,Se=W.y;h.nodeModel.x=G+A/2,h.nodeModel.y=Se+B/2,h.nodeModel.moveText(A/2,B/2)},h.getResize=function(j){var A=j.index,B=j.deltaX,W=j.deltaY,G=j.width,Se=j.height,Me=j.pct,Ae=Me===void 0?1:Me,ze={width:G,height:Se};switch(A){case 0:ze.width=G-B*Ae,ze.height=Se-W*Ae;break;case 1:ze.width=G+B*Ae,ze.height=Se-W*Ae;break;case 2:ze.width=G+B,ze.height=Se+W*Ae;break;case 3:ze.width=G-B*Ae,ze.height=Se+W*Ae;break;default:break}return ze},h.updateRect=function(j){var A=j.deltaX,B=j.deltaY,W=h.nodeModel,G=W.id,Se=W.x,Me=W.y,Ae=W.width,ze=W.height,Ke=W.radius,ct=h.index,dt=h.getResize({index:ct,deltaX:A,deltaY:B,width:Ae,height:ze,pct:1}),it=h.nodeModel,Mt=it.minWidth,On=it.minHeight,rn=it.maxWidth,Wt=it.maxHeight;if(dt.width<Mt||dt.width>rn||dt.height<On||dt.height>Wt){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:A,deltaY:B}),h.nodeModel.width=dt.width,h.nodeModel.height=dt.height,h.nodeModel.setProperties({nodeSize:{width:dt.width,height:dt.height}});var Tt=h.getNodeEdges(G),wn={x:Se,y:Me,width:Ae,height:ze,radius:Ke},xn={x:h.nodeModel.x,y:h.nodeModel.y,width:h.nodeModel.width,height:h.nodeModel.height,radius:Ke},cn={point:"",beforeNode:wn,afterNode:xn},ln;Tt.sourceEdges.forEach(function(En){cn.point=En.startPoint,ln=Pn(cn),En.updateStartPoint(ln)}),Tt.targetEdges.forEach(function(En){cn.point=En.endPoint,ln=Pn(cn),En.updateEndPoint(ln)}),h.eventEmit({beforeNode:wn,afterNode:xn})},h.updateEllipse=function(j){var A=j.deltaX,B=j.deltaY,W=h.nodeModel,G=W.id,Se=W.rx,Me=W.ry,Ae=W.x,ze=W.y,Ke=h.index,ct=Se,dt=Me,it=h.getResize({index:Ke,deltaX:A,deltaY:B,width:ct,height:dt,pct:1/2}),Mt=h.nodeModel,On=Mt.minWidth,rn=Mt.minHeight,Wt=Mt.maxWidth,Tt=Mt.maxHeight;if(it.width<On/2||it.width>Wt/2||it.height<rn/2||it.height>Tt/2){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:A,deltaY:B}),h.nodeModel.rx=h.nodeModel.rx+A/2,h.nodeModel.ry=h.nodeModel.ry+B/2,h.nodeModel.setProperties({nodeSize:{rx:it.width,ry:it.height}});var wn=h.getNodeEdges(G),xn={x:Ae,y:ze},cn={rx:it.width,ry:it.height,x:h.nodeModel.x,y:h.nodeModel.y},ln={point:{},beforeNode:xn,afterNode:cn},En;wn.sourceEdges.forEach(function(Ln){ln.point=Ln.startPoint,En=qo(ln),Ln.updateStartPoint(En)}),wn.targetEdges.forEach(function(Ln){ln.point=Ln.endPoint,En=qo(ln),Ln.updateEndPoint(En)}),h.eventEmit({beforeNode:tr(tr({},xn),{rx:Se,ry:Me}),afterNode:cn})},h.updateDiamond=function(j){var A=j.deltaX,B=j.deltaY,W=h.nodeModel,G=W.id,Se=W.rx,Me=W.ry,Ae=W.x,ze=W.y,Ke=h.index,ct=Se,dt=Me,it=h.getResize({index:Ke,deltaX:A,deltaY:B,width:ct,height:dt,pct:1/2}),Mt=h.nodeModel,On=Mt.minWidth,rn=Mt.minHeight,Wt=Mt.maxWidth,Tt=Mt.maxHeight;if(it.width<On/2||it.width>Wt/2||it.height<rn/2||it.height>Tt/2){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:A,deltaY:B}),h.nodeModel.rx=h.nodeModel.rx+A/2,h.nodeModel.ry=h.nodeModel.ry+B/2,h.nodeModel.setProperties({nodeSize:{rx:it.width,ry:it.height}});var wn={x:Ae,y:ze,rx:Se,ry:Me},xn={rx:it.width,ry:it.height,x:h.nodeModel.x,y:h.nodeModel.y},cn={point:{},beforeNode:wn,afterNode:xn},ln,En=h.getNodeEdges(G);En.sourceEdges.forEach(function(Ln){cn.point=Ln.startPoint,ln=Xr(cn),Ln.updateStartPoint(ln)}),En.targetEdges.forEach(function(Ln){cn.point=Ln.endPoint,ln=Xr(cn),Ln.updateEndPoint(ln)}),h.eventEmit({beforeNode:wn,afterNode:xn})},h.eventEmit=function(j){var A=j.beforeNode,B=j.afterNode,W=h.nodeModel,G=W.id,Se=W.modelType,Me=W.type,Ae=tr({id:G,modelType:Se,type:Me},A),ze=tr({id:G,modelType:Se,type:Me},B);h.graphModel.eventCenter.emit("node:resize",{oldNodeSize:Ae,newNodeSize:ze})},h.onDraging=function(j){var A=j.deltaX,B=j.deltaY,W=h.nodeModel.modelType;W===Vt.RECT_NODE||W===Vt.HTML_NODE?h.updateRect({deltaX:A,deltaY:B}):W===Vt.ELLIPSE_NODE?h.updateEllipse({deltaX:A,deltaY:B}):W===Vt.DIAMOND_NODE&&h.updateDiamond({deltaX:A,deltaY:B})},h.index=c.index,h.nodeModel=c.model,h.graphModel=c.graphModel;var v=h.graphModel.gridSize,b=2;return v>1&&(b=2*v),h.nodeModel.gridSize&&(b=2*h.nodeModel.gridSize),h.state={},h.dragHandler=new Do({onDraging:h.onDraging,step:b}),h}return l.prototype.getNodeEdges=function(c){for(var h=this.graphModel,v=h.edges,b=[],j=[],A=0;A<v.length;A++){var B=v[A];B.sourceNodeId===c?b.push(B):v[A].targetNodeId===c&&j.push(B)}return{sourceEdges:b,targetEdges:j}},l.prototype.render=function(){var c=this.props,h=c.x,v=c.y,b=c.index,j=c.model,A=j.getControlPointStyle();return wr("g",{className:"lf-resize-control-"+b},wr(po,tr({className:"lf-node-control"},{x:h,y:v},A,{onMouseDown:this.dragHandler.handleMouseDown})))},l}(Gr),In=Pi,Fn=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),ar=function(){return ar=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},ar.apply(this,arguments)},Qo=function(p){Fn(l,p);function l(){var c=p.call(this)||this;return c.state={},c}return l.prototype.getResizeControl=function(){var c=this.props,h=c.model,v=c.graphModel,b=h.x,j=h.y,A=h.width,B=h.height,W={minX:b-A/2,minY:j-B/2,maxX:b+A/2,maxY:j+B/2},G=W.minX,Se=W.minY,Me=W.maxX,Ae=W.maxY,ze=[{x:G,y:Se},{x:Me,y:Se},{x:Me,y:Ae},{x:G,y:Ae}];return ze.map(function(Ke,ct){return wr(In,ar({index:ct},Ke,{model:h,graphModel:v}))})},l.prototype.getGroupSolid=function(){var c=this.props.model,h=c.x,v=c.y,b=c.width,j=c.height,A=c.getResizeOutlineStyle();return wr(po,ar({fill:"none"},A,{x:h,y:v,width:b,height:j}))},l.prototype.render=function(){return wr("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},l}(Gr),Ur=Qo,To=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Mi=function(p){To(l,p);function l(c,h){var v=p.call(this,c,h)||this,b=v.properties.nodeSize;return b&&(v.width=b.width,v.height=b.height),v}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l.prototype.resize=function(c,h){console.log(c,h)},l}(M.RectNodeModel),ia=function(p){To(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,v=c.graphModel;return(0,M.h)(Ur,{model:h,graphModel:v})},l.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,M.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(M.RectNode),Co={type:"rect",view:ia,model:Mi},Xn=Co,y=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),m=function(p){y(l,p);function l(c,h){var v=p.call(this,c,h)||this,b=v.properties.nodeSize;return b&&(v.rx=b.rx,v.ry=b.ry),v}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(M.EllipseNodeModel),w=function(p){y(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,v=c.graphModel;return(0,M.h)(Ur,{model:h,graphModel:v})},l.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model;return(0,M.h)("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},l}(M.EllipseNode),D={type:"ellipse",view:w,model:m},U=D,he=function(){return he=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},he.apply(this,arguments)};function ke(p){var l=p.fillOpacity,c=l===void 0?1:l,h=p.strokeWidth,v=h===void 0?1:h,b=p.strokeOpacity,j=b===void 0?1:b,A=p.fill,B=A===void 0?"transparent":A,W=p.stroke,G=W===void 0?"#000":W,Se=p.points,Me=p.className,Ae=Me===void 0?"lf-basic-shape":Me,ze={fill:B,fillOpacity:c,strokeWidth:v,stroke:G,strokeOpacity:j,points:"",className:Ae};return ze.points=Se.map(function(Ke){return Ke.join(",")}).join(" "),(0,M.h)("polygon",he({},ze))}var Be=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),et=function(){return et=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},et.apply(this,arguments)},Nt=function(p){Be(l,p);function l(c,h){var v=p.call(this,c,h)||this,b=v.properties.nodeSize;return b&&(v.rx=b.rx,v.ry=b.ry),v}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(M.DiamondNodeModel),Ot=function(p){Be(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,v=c.graphModel;return(0,M.h)(Ur,{model:h,graphModel:v})},l.prototype.getResizeShape=function(){var c=this.props.model,h=c.points,v=c.getNodeStyle();return(0,M.h)("g",null,(0,M.h)(ke,et({},v,{points:h})))},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,M.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(M.DiamondNode),Ht={type:"diamond",view:Ot,model:Nt},Et=Ht,Lt=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Un=function(p){Lt(l,p);function l(c,h){var v=p.call(this,c,h)||this,b=v.properties.nodeSize;return b&&(v.width=b.width,v.height=b.height),v}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(M.HtmlNodeModel),Kt=function(p){Lt(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,v=c.graphModel;return(0,M.h)(Ur,{model:h,graphModel:v})},l.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,M.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(M.HtmlNode),Mn={type:"html",view:Kt,model:Un},xr=Mn,Ma={pluginName:"nodeResize",step:0,install:function(p){p.register({type:Xn.type,view:Xn.view,model:Xn.model}),p.register({type:U.type,view:U.view,model:U.model}),p.register({type:Et.type,view:Et.view,model:Et.model}),p.register({type:xr.type,view:xr.view,model:xr.model})}},aa=null,ei=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var b in v)v.hasOwnProperty(b)&&(h[b]=v[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Er=function(){return Er=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},Er.apply(this,arguments)},ti=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},_n=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(ti(arguments[l]));return p},ni=500,Yr=300,ri=function(p){ei(l,p);function l(){var c=p!==null&&p.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=ni,c.unfoldedHight=Yr,c}return l.prototype.initNodeData=function(c){var h=this;p.prototype.initNodeData.call(this,c);var v=[];Array.isArray(c.children)&&(v=c.children),this.children=new Set(v),this.width=ni,this.height=Yr,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){h.isFolded&&h.foldGroup(h.isFolded)})},l.prototype.getResizeOutlineStyle=function(){var c=p.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},l.prototype.foldGroup=function(c){var h=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var v=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(b){var j=h.graphModel.getElement(b);j.visible=!c,v=v.concat(j.incoming.edges.concat(j.outgoing.edges))}),this.foldEdge(c,v)},l.prototype.getAnchorStyle=function(c){var h=p.prototype.getAnchorStyle.call(this,c);return h.stroke="transparent",h.fill="transparent",h.hover.fill="transparent",h.hover.stroke="transparent",h},l.prototype.foldEdge=function(c,h){var v=this;h.forEach(function(b,j){var A=b.id,B=b.sourceNodeId,W=b.targetNodeId,G=b.startPoint,Se=b.endPoint,Me=b.type,Ae=b.properties,ze=b.text,Ke={id:A+"__"+j,sourceNodeId:B,targetNodeId:W,startPoint:G,endPoint:Se,type:Me,properties:Ae,text:ze==null?void 0:ze.value};b.virtual&&v.graphModel.deleteEdgeById(b.id);var ct=v.graphModel.group.getNodeGroup(W);ct||(ct=v.graphModel.getNodeModelById(W));var dt=v.graphModel.group.getNodeGroup(B);dt||(dt=v.graphModel.getNodeModelById(B)),c&&b.visible!==!1&&(v.children.has(B)||v.id===B?(Ke.startPoint=void 0,Ke.sourceNodeId=v.id):(Ke.endPoint=void 0,Ke.targetNodeId=v.id),(ct.id!==v.id||dt.id!==v.id)&&v.createVirtualEdge(Ke),b.visible=!1),!c&&b.visible===!1&&(ct&&ct.isGroup&&ct.isFolded?(Ke.targetNodeId=ct.id,Ke.endPoint=void 0,v.createVirtualEdge(Ke)):dt&&dt.isGroup&&dt.isFolded?(Ke.sourceNodeId=dt.id,Ke.startPoint=void 0,v.createVirtualEdge(Ke)):b.visible=!0)})},l.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var h=this.graphModel.addEdge(c);h.virtual=!0,h.getData=function(){return null},h.text.editable=!1,h.isFoldedEdge=!0},l.prototype.isInRange=function(c){var h=c.x1,v=c.y1,b=c.x2,j=c.y2;return h>=this.x-this.width/2&&b<=this.x+this.width/2&&v>=this.y-this.height/2&&j<=this.y+this.height/2},l.prototype.isAllowMoveTo=function(c){var h=c.x1,v=c.y1,b=c.x2,j=c.y2;return{x:h>=this.x-this.width/2&&b<=this.x+this.width/2,y:v>=this.y-this.height/2&&j<=this.y+this.height/2}},l.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},l.prototype.addChild=function(c){this.children.add(c)},l.prototype.removeChild=function(c){this.children.delete(c)},l.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},l.prototype.getData=function(){var c=p.prototype.getData.call(this);c.children=_n(this.children);var h=c.properties;return delete h.groupAddable,delete h.isFolded,c},l.prototype.getHistoryData=function(){var c=p.prototype.getData.call(this);c.children=_n(this.children);var h=c.properties;return delete h.groupAddable,h.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},l}(Xn.model),ua=function(p){ei(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props.model,h=c.resizable,v=c.properties;return h&&!v.isFolded?p.prototype.getControlGroup.call(this):null},l.prototype.getAddedableShape=function(){var c=this.props.model,h=c.width,v=c.height,b=c.x,j=c.y,A=c.radius,B=c.properties;if(!B.groupAddable)return null;var W=this.props.model.getNodeStyle().strokeWidth,G=this.props.model.getAddableOutlineStyle(),Se=h+W+8,Me=v+W+8;return(0,M.h)("rect",Er(Er({},G),{width:Se,height:Me,x:b-Se/2,y:j-Me/2,rx:A,ry:A}))},l.prototype.getFoldIcon=function(){var c=this.props.model,h=c.x-c.width/2+5,v=c.y-c.height/2+5;if(!c.foldable)return null;var b=(0,M.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(h+3)+","+(v+6)+" "+(h+11)+","+(v+6)+" M"+(h+7)+","+(v+2)+" "+(h+7)+","+(v+10):"M "+(h+3)+","+(v+6)+" "+(h+11)+","+(v+6)+" "});return(0,M.h)("g",{},[(0,M.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),b])},l.prototype.getResizeShape=function(){return(0,M.h)("g",{},[this.getAddedableShape(),p.prototype.getResizeShape.call(this),this.getFoldIcon()])},l}(Xn.view),ka={type:"group",view:ua,model:ri},Gu=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},Fu=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(Gu(arguments[l]));return p},Xu=function(){function p(l){var c=this,h=l.lf;this.nodeGroupMap=new Map,this.graphRendered=function(v){v&&v.nodes&&v.nodes.forEach(function(b){b.children&&b.children.forEach(function(j){c.nodeGroupMap.set(j,b.id)})})},this.appendNodeToGrop=function(v){var b=v.data,j=c.nodeGroupMap.get(b.id);if(j){var A=c.lf.getNodeModelById(j);A.removeChild(b.id),c.nodeGroupMap.delete(b.id),A.setAllowAppendChild(!1)}var B=c.lf.getNodeModelById(b.id).getBounds(),W=c.getGroup(B);!W||(b.id!==W.id?(W.addChild(b.id),c.nodeGroupMap.set(b.id,W.id),W.setAllowAppendChild(!1)):b.children&&b.children.length>0&&b.children.forEach(function(G){c.nodeGroupMap.set(G,b.id)}))},this.deleteGroupChild=function(v){var b=v.data,j=c.nodeGroupMap.get(b.id);if(j){var A=c.lf.getNodeModelById(j);A.removeChild(b.id),c.nodeGroupMap.delete(b.id)}},this.setActiveGroup=function(v){var b=v.data,j=c.lf.getNodeModelById(b.id);if(!j.isGroup){var A=j.getBounds(),B=c.getGroup(A);(B||B!==c.activeGroup)&&(c.activeGroup&&c.activeGroup.setAllowAppendChild(!1),B&&(c.activeGroup=B,c.activeGroup.setAllowAppendChild(!0)))}},h.register(ka),this.lf=h,h.graphModel.addNodeMoveRules(function(v,b,j){if(v.isGroup)return h.graphModel.moveNodes(Fu(v.children),b,j,!0),!0;var A=h.getNodeModelById(c.nodeGroupMap.get(v.id));if(A&&A.isRestrict){var B=v.getBounds(),W=B.x1,G=B.y1,Se=B.x2,Me=B.y2,Ae=A.isAllowMoveTo({x1:W+b,y1:G+j,x2:Se+b,y2:Me+j});return Ae}return!0}),h.graphModel.group=this,h.on("node:add",this.appendNodeToGrop),h.on("node:delete",this.deleteGroupChild),h.on("node:drop",this.appendNodeToGrop),h.on("node:dnd-drag",this.setActiveGroup),h.on("node:drag",this.setActiveGroup),h.on("graph:rendered",this.graphRendered)}return p.prototype.getGroup=function(l){for(var c=this.lf.graphModel.nodes,h=0;h<c.length;h++){var v=c[h];if(v.isGroup&&v.isInRange(l))return v}},p.prototype.getNodeGroup=function(l){var c=this.nodeGroupMap.get(l);if(c)return this.lf.getNodeModelById(c)},p.pluginName="group",p}(),Uu=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},yo=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(Uu(arguments[l]));return p},Yu=function(){function p(l){var c=this,h=l.lf;this.lf=h,this.pathes=[],h.getPathes=function(){if(!c.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B");return c.getPathes()},h.setRawPathes=function(v){c.setPathes(v)},h.getRawPathes=function(){return c.pathes},h.setStartNodeType=function(v){c.startNodeType=v}}return p.prototype.setPathes=function(l){this.pathes=l.map(function(c){var h=c.routeId,v=c.name,b=c.elements,j=c.type;return{routeId:h,name:v,elements:b,type:j,similarElement:null,weight:0}})},p.prototype.getPathes=function(){var l=this,c=this.lf.getGraphRawData(),h=new Map,v=[];c.nodes.forEach(function(j){h.set(j.id,{id:j.id,data:j,nextNodes:[]}),j.type===l.startNodeType&&v.push(j.id)}),c.edges.forEach(function(j){var A=h.get(j.sourceNodeId);A.nextNodes.push(j.targetNodeId)});var b=[];return v.forEach(function(j){b=b.concat(l.findPathElements(h.get(j),h,[]))}),this.getNewPathes(b)},p.prototype.findPathElements=function(l,c,h){h===void 0&&(h=[]);var v=yo(h);if(v.push(l.id),l.nextNodes.length===0)return[v];for(var b=[],j=0;j<l.nextNodes.length;j++){var A=c.get(l.nextNodes[j]),B=void 0,W=v.indexOf(A.id);W!==-1?B=[yo(v.slice(W),[A.id])]:B=this.findPathElements(A,c,yo(v)),b=b.concat(B)}return b},p.prototype.getNewPathes=function(l){var c=this,h=[],v=new Set;l.forEach(function(j){var A=c.getNewId("path"),B=c.getNewId("\u8DEF\u5F84"),W=c.isLoopPath(j),G=j.join(",");v.has(G)||(v.add(G),h.push({routeId:A,name:B,elements:j,type:W,weight:0,similarElement:""}))});var b=JSON.parse(JSON.stringify(this.pathes));return h.forEach(function(j){for(var A=0;A<b.length;A++){var B=b[A],W=c.similar2Path(yo(j.elements),yo(B.elements));W>j.weight&&B.weight<=W&&(j.weight=W,j.similarElement=B,W===B.weight&&B.similarElement?(B.similarElement.similarElement=null,B.similarElement.weight=0,B.similarElement=null,B.weight=0):(B.similarElement=j,B.weight=W))}}),h.forEach(function(j){j.similarElement&&j.similarElement.similarElement===j&&(j.routeId=j.similarElement.routeId,j.name=j.similarElement.name),delete j.similarElement,delete j.weight}),this.setPathes(h),h},p.prototype.similar2Path=function(l,c){var h=0,v=l.length+c.length;l.sort(),c.sort();for(var b=l.shift(),j=c.shift();b!==void 0&&j!==void 0;)b===j?(h++,b=l.shift(),j=c.shift()):b<j?b=l.shift():b>j&&(j=c.shift());return h/v*200},p.prototype.getNewId=function(l){return l+"_"+k()},p.prototype.isLoopPath=function(l){var c=l.length;return l.indexOf(l[c-1])!==c-1?1:0},p.pluginName="flowPath",p}(),oi=function(){return oi=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},oi.apply(this,arguments)},sa={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},Vu=function(){function p(l){var c=this,h=l.lf;this.lf=h,this.trunk=[],h.layout=function(v){var b=c.lf.getGraphRawData();c.lf.setStartNodeType(v);var j=c.lf.getPathes();return c.levelHeight=[],c.newNodeMap=new Map,c.layout(b,j)}}return p.prototype.layout=function(l,c){var h=this,v=[];c.forEach(function(B){var W=B.elements;W.length>v.length?v=W:W.length===v.length&&JSON.stringify(W)===JSON.stringify(h.trunk)&&(v=h.trunk)}),this.trunk=v;for(var b=this.formatData(l),j={nodes:[],edges:[]},A=v.length-1;A>=0;A--)this.setNodePosition(v[A],b,j,A,1);this.lf.graphModel.graphDataToModel(j)},p.prototype.setNodePosition=function(l,c,h,v,b){var j=this,A=c[l],B=A.text,W=A.type,G=A.next,Se=A.properties,Me=v*160+40,Ae=b*120,ze={id:l,x:Me,text:B,y:Ae,type:W,properties:Se};return B&&typeof B=="object"&&(ze.text=oi(oi({},B),{x:Me+B.x,y:Ae+B.y})),this.newNodeMap.set(ze.id,{x:ze.x,y:ze.y,type:W}),h.nodes.push(ze),A.isFixed=!0,this.addLevelHeight(v,1),G&&G.length>0&&G.forEach(function(Ke){var ct=c[Ke.nodeId];if(!ct.isFixed){var dt=j.getLevelHeight(v+1);j.addLevelHeight(v,1),j.setNodePosition(Ke.nodeId,c,h,v+1,dt+1)}h.edges.push(oi({id:Ke.edgeId,type:Ke.edgeType,sourceNodeId:l,targetNodeId:Ke.nodeId,properties:Ke.properties,text:Ke.text},j.getEdgeDataPoints(l,Ke.nodeId)))}),ze},p.prototype.getEdgeDataPoints=function(l,c){var h=this.newNodeMap.get(l),v=this.newNodeMap.get(c),b=this.getShape(l),j=b.width,A=b.height,B=this.getShape(c),W=B.width,G=B.height,Se=this.getRelativePosition(h,v),Me={x:h.x,y:h.y},Ae={x:v.x,y:v.y};switch(Se){case sa.LEFT:Me.x=h.x+j/2,Ae.x=v.x-W/2;break;case sa.LEFT_TOP:Me.y=h.y+A/2,Ae.x=v.x-W/2;break;case sa.LEFT_BOTTOM:Me.x=h.x+j/2,Ae.y=v.y+G/2;break;default:break}return{startPoint:Me,endPoint:Ae}},p.prototype.getRelativePosition=function(l,c){var h=l.y,v=c.y,b;return h<v?b=-1:h===v?b=0:b=1,b},p.prototype.getShape=function(l){var c=this.lf.getNodeModelById(l);return{height:c.height,width:c.width}},p.prototype.formatData=function(l){var c=l.nodes.reduce(function(h,v){var b=v.type,j=v.properties,A=v.text,B=v.x,W=v.y;return A&&typeof A=="object"&&(A.x=A.x-B,A.y=A.y-W),h[v.id]={type:b,properties:j,text:A,prev:[],next:[]},h},{});return l.edges.forEach(function(h){var v=h.sourceNodeId,b=h.targetNodeId,j=h.id,A=h.properties,B=h.text,W=B;typeof B=="object"&&(W=B.value),c[v].next.push({edgeId:j,nodeId:b,edgeType:h.type,properties:A,text:W}),c[b].prev.push({edgeId:j,nodeId:v,properties:A,text:W})}),c},p.prototype.addLevelHeight=function(l,c,h){c===void 0&&(c=1),h===void 0&&(h=!1);var v=this.levelHeight[l];v||(v={positiveHeight:0,negativeHeight:0},this.levelHeight[l]=v),h?v.negativeHeight-=c:v.positiveHeight+=c},p.prototype.getLevelHeight=function(l,c){c===void 0&&(c=!1);var h=this.levelHeight[l];return h?c?h.negativeHeight:h.positiveHeight:0},p.pluginName="AutoLayout",p}(),ii=function(){return ii=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var v in l)Object.prototype.hasOwnProperty.call(l,v)&&(p[v]=l[v])}return p},ii.apply(this,arguments)},Wu=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),v,b=[],j;try{for(;(l===void 0||l-- >0)&&!(v=h.next()).done;)b.push(v.value)}catch(A){j={error:A}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(j)throw j.error}}return b},ki=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(Wu(arguments[l]));return p},Ni=function(p,l){var c=l.getModelById(p);return Ai(c.BaseType==="node"?c:c.targetNode,l)},Ai=function(p,l){var c=[],h=[],v=function(j,A,B){if(B===void 0&&(B=null),B&&A.unshift.apply(A,ki(l.getEdgeModels({sourceNodeId:j.id,targetNodeId:B.id}).map(function(W){return W.id}))),A.includes(j.id)){c.push(A);return}if(A.unshift(j.id),!j.incoming.nodes.length){c.push(A);return}j.incoming.nodes.forEach(function(W){v(W,A.slice(),j)})},b=function(j,A,B){if(B===void 0&&(B=null),B&&A.push.apply(A,ki(l.getEdgeModels({sourceNodeId:B.id,targetNodeId:j.id}).map(function(W){return W.id}))),A.includes(j.id)){h.push(A);return}if(A.push(j.id),!j.outgoing.nodes.length){h.push(A);return}j.outgoing.nodes.forEach(function(W){b(W,A.slice(),j)})};return v(p,[]),b(p,[]),ki(new Set(ki(c.flat(),h.flat())))},Na=function(){function p(l){var c=l.lf;this.mode="path",this.manual=!1,this.tempStyles={},this.lf=c}return p.prototype.setMode=function(l){this.mode=l},p.prototype.setManual=function(l){this.manual=l},p.prototype.highlightSingle=function(l){var c=this.lf.getModelById(l);c.BaseType==="node"?c.updateStyles(this.tempStyles[l]):c.BaseType==="edge"&&(c.updateStyles(this.tempStyles[l]),c.sourceNode.updateStyles(this.tempStyles[c.sourceNode.id]),c.targetNode.updateStyles(this.tempStyles[c.targetNode.id]))},p.prototype.highlightPath=function(l){var c=this,h=Ni(l,this.lf);h.forEach(function(v){c.lf.getModelById(v).updateStyles(c.tempStyles[v])})},p.prototype.highlight=function(l,c){var h=this;if(c===void 0&&(c=this.mode),!this.manual){Object.keys(this.tempStyles).length&&this.restoreHighlight(),Object.values(this.lf.graphModel.modelsMap).forEach(function(b){var j=b.BaseType==="node"?b.getNodeStyle():b.getEdgeStyle();h.tempStyles[b.id]=ii({},j),b.setStyles({opacity:.1})});var v={single:this.highlightSingle.bind(this),path:this.highlightPath.bind(this)};v[c](l)}},p.prototype.restoreHighlight=function(){var l=this;!Object.keys(this.tempStyles).length||(Object.values(this.lf.graphModel.modelsMap).forEach(function(c){var h,v=(h=l.tempStyles[c.id])!==null&&h!==void 0?h:{};c.updateStyles(ii({},v))}),this.tempStyles={})},p.prototype.render=function(l,c){var h=this;this.lf.on("node:mouseenter",function(v){var b=v.data;return h.highlight(b.id)}),this.lf.on("edge:mouseenter",function(v){var b=v.data;return h.highlight(b.id)}),this.lf.on("node:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("edge:mouseleave",this.restoreHighlight.bind(this)),this.lf.on("history:change",this.restoreHighlight.bind(this))},p.prototype.destroy=function(){},p.pluginName="highlight",p}()},63543:function(nn,St,E){"use strict";E.d(St,{Z:function(){return O}});var M=E(94663);function s(d,S){for(;!Object.prototype.hasOwnProperty.call(d,S)&&(d=(0,M.Z)(d),d!==null););return d}function O(d,S,x){return typeof Reflect!="undefined"&&Reflect.get?O=Reflect.get:O=function(T,R,L){var z=s(T,R);if(!!z){var F=Object.getOwnPropertyDescriptor(z,R);return F.get?F.get.call(L):F.value}},O(d,S,x||d)}},34621:function(){},13277:function(){},98082:function(nn,St,E){"use strict";var M=E(28481),s=E(67294),O=E(31808);St.Z=function(){var d=s.useState(!1),S=(0,M.Z)(d,2),x=S[0],k=S[1];return s.useEffect(function(){k((0,O.fk)())},[]),x}},31808:function(nn,St,E){"use strict";E.d(St,{jD:function(){return s},fk:function(){return d}});var M=E(98924),s=function(){return(0,M.Z)()&&window.document.documentElement},O,d=function(){if(!s())return!1;if(O!==void 0)return O;var x=document.createElement("div");return x.style.display="flex",x.style.flexDirection="column",x.style.rowGap="1px",x.appendChild(document.createElement("div")),x.appendChild(document.createElement("div")),document.body.appendChild(x),O=x.scrollHeight===1,document.body.removeChild(x),O}},19650:function(nn,St,E){"use strict";E.d(St,{u:function(){return F},Z:function(){return ae}});var M=E(22122),s=E(96156),O=E(28481),d=E(67294),S=E(94184),x=E.n(S),k=E(50344),T=E(53124);function R(de){var be=de.className,pe=de.direction,$=de.index,ee=de.marginDirection,H=de.children,re=de.split,ce=de.wrap,ve=d.useContext(F),_e=ve.horizontalSize,Z=ve.verticalSize,oe=ve.latestIndex,Q=ve.supportFlexGap,I={};return Q||(pe==="vertical"?$<oe&&(I={marginBottom:_e/(re?2:1)}):I=(0,M.Z)((0,M.Z)({},$<oe&&(0,s.Z)({},ee,_e/(re?2:1))),ce&&{paddingBottom:Z})),H==null?null:d.createElement(d.Fragment,null,d.createElement("div",{className:be,style:I},H),$<oe&&re&&d.createElement("span",{className:"".concat(be,"-split"),style:I},re))}var L=E(98082),z=function(de,be){var pe={};for(var $ in de)Object.prototype.hasOwnProperty.call(de,$)&&be.indexOf($)<0&&(pe[$]=de[$]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ee=0,$=Object.getOwnPropertySymbols(de);ee<$.length;ee++)be.indexOf($[ee])<0&&Object.prototype.propertyIsEnumerable.call(de,$[ee])&&(pe[$[ee]]=de[$[ee]]);return pe},F=d.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),X={small:8,middle:16,large:24};function q(de){return typeof de=="string"?X[de]:de||0}var ue=function(be){var pe,$=d.useContext(T.E_),ee=$.getPrefixCls,H=$.space,re=$.direction,ce=be.size,ve=ce===void 0?(H==null?void 0:H.size)||"small":ce,_e=be.align,Z=be.className,oe=be.children,Q=be.direction,I=Q===void 0?"horizontal":Q,ie=be.prefixCls,te=be.split,K=be.style,we=be.wrap,Ee=we===void 0?!1:we,Re=z(be,["size","align","className","children","direction","prefixCls","split","style","wrap"]),Ge=(0,L.Z)(),tt=d.useMemo(function(){return(Array.isArray(ve)?ve:[ve,ve]).map(function(De){return q(De)})},[ve]),Fe=(0,O.Z)(tt,2),Xe=Fe[0],at=Fe[1],se=(0,k.Z)(oe,{keepEmpty:!0}),ne=_e===void 0&&I==="horizontal"?"center":_e,ge=ee("space",ie),Te=x()(ge,"".concat(ge,"-").concat(I),(pe={},(0,s.Z)(pe,"".concat(ge,"-rtl"),re==="rtl"),(0,s.Z)(pe,"".concat(ge,"-align-").concat(ne),ne),pe),Z),He="".concat(ge,"-item"),Ce=re==="rtl"?"marginLeft":"marginRight",st=0,ht=se.map(function(De,Ze){De!=null&&(st=Ze);var le=De&&De.key||"".concat(He,"-").concat(Ze);return d.createElement(R,{className:He,key:le,direction:I,index:Ze,marginDirection:Ce,split:te,wrap:Ee},De)}),pt=d.useMemo(function(){return{horizontalSize:Xe,verticalSize:at,latestIndex:st,supportFlexGap:Ge}},[Xe,at,st,Ge]);if(se.length===0)return null;var nt={};return Ee&&(nt.flexWrap="wrap",Ge||(nt.marginBottom=-at)),Ge&&(nt.columnGap=Xe,nt.rowGap=at),d.createElement("div",(0,M.Z)({className:Te,style:(0,M.Z)((0,M.Z)({},nt),K)},Re),d.createElement(F.Provider,{value:pt},ht))},ae=ue},49111:function(nn,St,E){"use strict";var M=E(38663),s=E.n(M),O=E(34621),d=E.n(O)},60331:function(nn,St,E){"use strict";E.d(St,{Z:function(){return $}});var M=E(96156),s=E(22122),O=E(28481),d=E(67294),S=E(94184),x=E.n(S),k=E(98423),T=E(54549),R=E(53124),L=function(ee,H){var re={};for(var ce in ee)Object.prototype.hasOwnProperty.call(ee,ce)&&H.indexOf(ce)<0&&(re[ce]=ee[ce]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ve=0,ce=Object.getOwnPropertySymbols(ee);ve<ce.length;ve++)H.indexOf(ce[ve])<0&&Object.prototype.propertyIsEnumerable.call(ee,ce[ve])&&(re[ce[ve]]=ee[ce[ve]]);return re},z=function(H){var re,ce=H.prefixCls,ve=H.className,_e=H.checked,Z=H.onChange,oe=H.onClick,Q=L(H,["prefixCls","className","checked","onChange","onClick"]),I=d.useContext(R.E_),ie=I.getPrefixCls,te=function(Re){Z==null||Z(!_e),oe==null||oe(Re)},K=ie("tag",ce),we=x()(K,(re={},(0,M.Z)(re,"".concat(K,"-checkable"),!0),(0,M.Z)(re,"".concat(K,"-checkable-checked"),_e),re),ve);return d.createElement("span",(0,s.Z)({},Q,{className:we,onClick:te}))},F=z,X=E(98787),q=E(21790),ue=function(ee,H){var re={};for(var ce in ee)Object.prototype.hasOwnProperty.call(ee,ce)&&H.indexOf(ce)<0&&(re[ce]=ee[ce]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ve=0,ce=Object.getOwnPropertySymbols(ee);ve<ce.length;ve++)H.indexOf(ce[ve])<0&&Object.prototype.propertyIsEnumerable.call(ee,ce[ve])&&(re[ce[ve]]=ee[ce[ve]]);return re},ae=new RegExp("^(".concat(X.Y.join("|"),")(-inverse)?$")),de=new RegExp("^(".concat(X.E.join("|"),")$")),be=function(H,re){var ce,ve=H.prefixCls,_e=H.className,Z=H.style,oe=H.children,Q=H.icon,I=H.color,ie=H.onClose,te=H.closeIcon,K=H.closable,we=K===void 0?!1:K,Ee=ue(H,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Re=d.useContext(R.E_),Ge=Re.getPrefixCls,tt=Re.direction,Fe=d.useState(!0),Xe=(0,O.Z)(Fe,2),at=Xe[0],se=Xe[1];d.useEffect(function(){"visible"in Ee&&se(Ee.visible)},[Ee.visible]);var ne=function(){return I?ae.test(I)||de.test(I):!1},ge=(0,s.Z)({backgroundColor:I&&!ne()?I:void 0},Z),Te=ne(),He=Ge("tag",ve),Ce=x()(He,(ce={},(0,M.Z)(ce,"".concat(He,"-").concat(I),Te),(0,M.Z)(ce,"".concat(He,"-has-color"),I&&!Te),(0,M.Z)(ce,"".concat(He,"-hidden"),!at),(0,M.Z)(ce,"".concat(He,"-rtl"),tt==="rtl"),ce),_e),st=function(ut){ut.stopPropagation(),ie==null||ie(ut),!ut.defaultPrevented&&("visible"in Ee||se(!1))},ht=function(){return we?te?d.createElement("span",{className:"".concat(He,"-close-icon"),onClick:st},te):d.createElement(T.Z,{className:"".concat(He,"-close-icon"),onClick:st}):null},pt="onClick"in Ee||oe&&oe.type==="a",nt=(0,k.Z)(Ee,["visible"]),De=Q||null,Ze=De?d.createElement(d.Fragment,null,De,d.createElement("span",null,oe)):oe,le=d.createElement("span",(0,s.Z)({},nt,{ref:re,className:Ce,style:ge}),Ze,ht());return pt?d.createElement(q.Z,null,le):le},pe=d.forwardRef(be);pe.displayName="Tag",pe.CheckableTag=F;var $=pe},71153:function(nn,St,E){"use strict";var M=E(38663),s=E.n(M),O=E(13277),d=E.n(O)},29589:function(nn,St,E){(function(M){M(E(4631))})(function(M){"use strict";var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},O={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};M.defineMode("xml",function(d,S){var x=d.indentUnit,k={},T=S.htmlMode?s:O;for(var R in T)k[R]=T[R];for(var R in S)k[R]=S[R];var L,z;function F(I,ie){function te(Ee){return ie.tokenize=Ee,Ee(I,ie)}var K=I.next();if(K=="<")return I.eat("!")?I.eat("[")?I.match("CDATA[")?te(ue("atom","]]>")):null:I.match("--")?te(ue("comment","-->")):I.match("DOCTYPE",!0,!0)?(I.eatWhile(/[\w\._\-]/),te(ae(1))):null:I.eat("?")?(I.eatWhile(/[\w\._\-]/),ie.tokenize=ue("meta","?>"),"meta"):(L=I.eat("/")?"closeTag":"openTag",ie.tokenize=X,"tag bracket");if(K=="&"){var we;return I.eat("#")?I.eat("x")?we=I.eatWhile(/[a-fA-F\d]/)&&I.eat(";"):we=I.eatWhile(/[\d]/)&&I.eat(";"):we=I.eatWhile(/[\w\.\-:]/)&&I.eat(";"),we?"atom":"error"}else return I.eatWhile(/[^&<]/),null}F.isInText=!0;function X(I,ie){var te=I.next();if(te==">"||te=="/"&&I.eat(">"))return ie.tokenize=F,L=te==">"?"endTag":"selfcloseTag","tag bracket";if(te=="=")return L="equals",null;if(te=="<"){ie.tokenize=F,ie.state=ee,ie.tagName=ie.tagStart=null;var K=ie.tokenize(I,ie);return K?K+" tag error":"tag error"}else return/[\'\"]/.test(te)?(ie.tokenize=q(te),ie.stringStartCol=I.column(),ie.tokenize(I,ie)):(I.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function q(I){var ie=function(te,K){for(;!te.eol();)if(te.next()==I){K.tokenize=X;break}return"string"};return ie.isInAttribute=!0,ie}function ue(I,ie){return function(te,K){for(;!te.eol();){if(te.match(ie)){K.tokenize=F;break}te.next()}return I}}function ae(I){return function(ie,te){for(var K;(K=ie.next())!=null;){if(K=="<")return te.tokenize=ae(I+1),te.tokenize(ie,te);if(K==">")if(I==1){te.tokenize=F;break}else return te.tokenize=ae(I-1),te.tokenize(ie,te)}return"meta"}}function de(I){return I&&I.toLowerCase()}function be(I,ie,te){this.prev=I.context,this.tagName=ie||"",this.indent=I.indented,this.startOfLine=te,(k.doNotIndent.hasOwnProperty(ie)||I.context&&I.context.noIndent)&&(this.noIndent=!0)}function pe(I){I.context&&(I.context=I.context.prev)}function $(I,ie){for(var te;;){if(!I.context||(te=I.context.tagName,!k.contextGrabbers.hasOwnProperty(de(te))||!k.contextGrabbers[de(te)].hasOwnProperty(de(ie))))return;pe(I)}}function ee(I,ie,te){return I=="openTag"?(te.tagStart=ie.column(),H):I=="closeTag"?re:ee}function H(I,ie,te){return I=="word"?(te.tagName=ie.current(),z="tag",_e):k.allowMissingTagName&&I=="endTag"?(z="tag bracket",_e(I,ie,te)):(z="error",H)}function re(I,ie,te){if(I=="word"){var K=ie.current();return te.context&&te.context.tagName!=K&&k.implicitlyClosed.hasOwnProperty(de(te.context.tagName))&&pe(te),te.context&&te.context.tagName==K||k.matchClosing===!1?(z="tag",ce):(z="tag error",ve)}else return k.allowMissingTagName&&I=="endTag"?(z="tag bracket",ce(I,ie,te)):(z="error",ve)}function ce(I,ie,te){return I!="endTag"?(z="error",ce):(pe(te),ee)}function ve(I,ie,te){return z="error",ce(I,ie,te)}function _e(I,ie,te){if(I=="word")return z="attribute",Z;if(I=="endTag"||I=="selfcloseTag"){var K=te.tagName,we=te.tagStart;return te.tagName=te.tagStart=null,I=="selfcloseTag"||k.autoSelfClosers.hasOwnProperty(de(K))?$(te,K):($(te,K),te.context=new be(te,K,we==te.indented)),ee}return z="error",_e}function Z(I,ie,te){return I=="equals"?oe:(k.allowMissing||(z="error"),_e(I,ie,te))}function oe(I,ie,te){return I=="string"?Q:I=="word"&&k.allowUnquoted?(z="string",_e):(z="error",_e(I,ie,te))}function Q(I,ie,te){return I=="string"?Q:_e(I,ie,te)}return{startState:function(I){var ie={tokenize:F,state:ee,indented:I||0,tagName:null,tagStart:null,context:null};return I!=null&&(ie.baseIndent=I),ie},token:function(I,ie){if(!ie.tagName&&I.sol()&&(ie.indented=I.indentation()),I.eatSpace())return null;L=null;var te=ie.tokenize(I,ie);return(te||L)&&te!="comment"&&(z=null,ie.state=ie.state(L||te,I,ie),z&&(te=z=="error"?te+" error":z)),te},indent:function(I,ie,te){var K=I.context;if(I.tokenize.isInAttribute)return I.tagStart==I.indented?I.stringStartCol+1:I.indented+x;if(K&&K.noIndent)return M.Pass;if(I.tokenize!=X&&I.tokenize!=F)return te?te.match(/^(\s*)/)[0].length:0;if(I.tagName)return k.multilineTagIndentPastTag!==!1?I.tagStart+I.tagName.length+2:I.tagStart+x*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(ie))return 0;var we=ie&&/^<(\/)?([\w_:\.-]*)/.exec(ie);if(we&&we[1])for(;K;)if(K.tagName==we[2]){K=K.prev;break}else if(k.implicitlyClosed.hasOwnProperty(de(K.tagName)))K=K.prev;else break;else if(we)for(;K;){var Ee=k.contextGrabbers[de(K.tagName)];if(Ee&&Ee.hasOwnProperty(de(we[2])))K=K.prev;else break}for(;K&&K.prev&&!K.startOfLine;)K=K.prev;return K?K.indent+x:I.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(I){I.state==oe&&(I.state=_e)},xmlCurrentTag:function(I){return I.tagName?{name:I.tagName,close:I.type=="closeTag"}:null},xmlCurrentContext:function(I){for(var ie=[],te=I.context;te;te=te.prev)ie.push(te.tagName);return ie.reverse()}}}),M.defineMIME("text/xml","xml"),M.defineMIME("application/xml","xml"),M.mimeModes.hasOwnProperty("text/html")||M.defineMIME("text/html",{name:"xml",htmlMode:!0})})}}]);
