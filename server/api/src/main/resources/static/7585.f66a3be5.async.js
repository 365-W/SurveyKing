(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[7585],{16165:function(J,T,s){"use strict";var S=s(28991),A=s(96156),M=s(81253),N=s(67294),b=s(94184),D=s.n(b),o=s(63017),v=s(41755),h=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],E=N.forwardRef(function(e,I){var k=e.className,B=e.component,R=e.viewBox,F=e.spin,$=e.rotate,Y=e.tabIndex,Z=e.onClick,V=e.children,G=(0,M.Z)(e,h);(0,v.Kp)(Boolean(B||V),"Should have `component` prop or `children`."),(0,v.C3)();var le=N.useContext(o.Z),te=le.prefixCls,ie=te===void 0?"anticon":te,Ie=D()(ie,k),ye=D()((0,A.Z)({},"".concat(ie,"-spin"),!!F)),Le=$?{msTransform:"rotate(".concat($,"deg)"),transform:"rotate(".concat($,"deg)")}:void 0,Pe=(0,S.Z)((0,S.Z)({},v.vD),{},{className:ye,style:Le,viewBox:R});R||delete Pe.viewBox;var ke=function(){return B?N.createElement(B,(0,S.Z)({},Pe),V):V?((0,v.Kp)(Boolean(R)||N.Children.count(V)===1&&N.isValidElement(V)&&N.Children.only(V).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),N.createElement("svg",(0,S.Z)((0,S.Z)({},Pe),{},{viewBox:R}),V)):null},Me=Y;return Me===void 0&&Z&&(Me=-1),N.createElement("span",(0,S.Z)((0,S.Z)({role:"img"},G),{},{ref:I,tabIndex:Me,onClick:Z,className:Ie}),ke())});E.displayName="AntdIcon",T.Z=E},46533:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM695.5 365.7l-210.6 292a31.8 31.8 0 01-51.7 0L308.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H689c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-square",theme:"filled"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="CheckSquareFilled";var o=A.forwardRef(D)},78338:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="ClockCircleOutlined";var o=A.forwardRef(D)},36862:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM676.1 657.9c4.4 5.2.7 13.1-6.1 13.1h-58.9c-4.7 0-9.2-2.1-12.3-5.7L512 561.8l-86.8 103.5c-3 3.6-7.5 5.7-12.3 5.7H354c-6.8 0-10.5-7.9-6.1-13.1L470.2 512 347.9 366.1A7.95 7.95 0 01354 353h58.9c4.7 0 9.2 2.1 12.3 5.7L512 462.2l86.8-103.5c3-3.6 7.5-5.7 12.3-5.7H670c6.8 0 10.5 7.9 6.1 13.1L553.8 512l122.3 145.9z"}}]},name:"close-square",theme:"filled"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="CloseSquareFilled";var o=A.forwardRef(D)},91816:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="FolderOpenOutlined";var o=A.forwardRef(D)},63258:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="FolderOutlined";var o=A.forwardRef(D)},41687:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z"}}]},name:"frown",theme:"outlined"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="FrownOutlined";var o=A.forwardRef(D)},57206:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="HeartOutlined";var o=A.forwardRef(D)},46870:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 565H360c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"meh",theme:"outlined"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="MehOutlined";var o=A.forwardRef(D)},54121:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]},name:"minus-circle",theme:"filled"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="MinusCircleFilled";var o=A.forwardRef(D)},81473:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M136 384h56c4.4 0 8-3.6 8-8V200h176c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-37.6 0-68 30.4-68 68v180c0 4.4 3.6 8 8 8zm512-184h176v176c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V196c0-37.6-30.4-68-68-68H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM376 824H200V648c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v180c0 37.6 30.4 68 68 68h180c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm512-184h-56c-4.4 0-8 3.6-8 8v176H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h180c37.6 0 68-30.4 68-68V648c0-4.4-3.6-8-8-8zm16-164H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"scan",theme:"outlined"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="ScanOutlined";var o=A.forwardRef(D)},18613:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="SmileOutlined";var o=A.forwardRef(D)},89366:function(J,T,s){"use strict";s.d(T,{Z:function(){return o}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},N=M,b=s(27029),D=function(h,E){return A.createElement(b.Z,(0,S.Z)((0,S.Z)({},h),{},{ref:E,icon:N}))};D.displayName="UserOutlined";var o=A.forwardRef(D)},34442:function(){},31930:function(){},16695:function(){},9098:function(J,T,s){"use strict";s.r(T),s.d(T,{default:function(){return Zn}});var S=s(9715),A=s(71257),M=s(94657),N=s(40807),b=s(78210),D=s(9761),o=s(67294),v=s(54707),h=s(48187),E=s(67635),e=s(85893),I=function(){var n=(0,v.AK)(),t=(0,o.useContext)(N.ZX),r=t.schema;return(0,e.jsxs)("div",{className:n+"-header",children:[(0,e.jsx)("div",{className:n+"-header-title",children:(0,e.jsx)(E.hl,{html:r.title})}),(0,e.jsx)("div",{className:n+"-header-description",children:(0,e.jsx)(E.hl,{html:r.description})})]})},k=function(n){var t=(0,v.AK)();return(0,e.jsx)("div",{className:t+"-body",children:n.children})},B=s(57663),R=s(71577),F=(0,D.Pi)(function(){var i,n,t,r=(0,v.AK)("-footer"),a=(0,o.useContext)(N.ZX),l=a.schema,u=a.loading,d=(0,v.Rk)(),c=d.pagination,f=c.pageSize>1,m=c.current===1,g=c.current===c.pageSize;return(0,e.jsxs)("div",{className:r,children:[g&&(0,e.jsx)("div",{className:r+"-desc",style:{userSelect:"none",WebkitTouchCallout:"none"},children:(0,e.jsx)(E.hl,{html:l==null||(i=l.attribute)===null||i===void 0?void 0:i.suffix})}),(0,e.jsxs)("div",{className:r+"-pagination",children:[f&&!m&&(0,e.jsx)("div",{children:(0,e.jsx)(R.Z,{type:"primary",block:!0,onClick:function(){return d.handlePrev()},children:"\u4E0A\u4E00\u9875"})}),f&&!g&&(0,e.jsx)("div",{children:(0,e.jsx)(R.Z,{type:"primary",block:!0,onClick:function(){return d.handleNext()},children:"\u4E0B\u4E00\u9875"})}),g&&!f&&(0,e.jsx)("div",{style:{width:"100%",padding:"0 20px"},children:(0,e.jsx)(R.Z,{type:"primary",block:!0,onClick:function(){return d.submit()},loading:u,children:(0,e.jsx)(E.hl,{html:((n=l.attribute)===null||n===void 0?void 0:n.submitButton)||"\u63D0\u4EA4"})})}),g&&f&&(0,e.jsx)("div",{children:(0,e.jsx)(R.Z,{type:"primary",onClick:function(){return d.submit()},loading:u,children:(0,e.jsx)(E.hl,{html:((t=l.attribute)===null||t===void 0?void 0:t.submitButton)||"\u63D0\u4EA4"})})}),f&&(0,e.jsxs)("div",{className:r+"-pagination-info",children:["\u7B2C",c.current,"\u9875/\u5171",c.pageSize,"\u9875"]})]})]})}),$=s(47673),Y=s(4107),Z=s(11849),V=s(43358),G=s(34041),le=s(29985),te=s(46842),ie=s(64302),Ie=function(n){var t=n.dictCode,r=n.value,a=n.onChange,l=n.style,u=n.bordered,d=n.className,c=n.parentValue,f=n.cascaderLevel,m=f===void 0?1:f,g=(0,v.Al)(),x=(0,o.useState)([]),C=(0,M.Z)(x,2),y=C[0],p=C[1],j=(0,v.zE)(function(O){m&&m>1&&!c||g.onDictSearch&&g.onDictSearch({dictCode:t,searchValue:O,parentValue:c==null?void 0:c.split("|")[0],cascaderLevel:m}).then(function(P){p(P||[])})},2);return(0,o.useEffect)(function(){m&&m>1&&(c?j(void 0):p([]))},[c,m]),(0,o.useEffect)(function(){!r&&m<=1&&t&&j(void 0),r&&y.length===0&&j(r)},[r]),(0,e.jsx)(G.Z,{options:y,showSearch:!0,onSearch:j,value:r==null?void 0:r.split("|")[0],onChange:function(P){var w;return a("".concat(P,"|").concat((w=y.find(function(W){return W.value===P}))===null||w===void 0?void 0:w.label))},style:l,bordered:u,className:d,allowClear:!0})},ye=function(n){console.log(n);var t=n.onChange,r=n.type,a=n.value,l=n.suffix,u=n.prefix,d=n.style,c=d===void 0?{width:"100%"}:d,f=n.bordered,m=f===void 0?!0:f,g=n.placeholder,x=n.className,C=n.dictCode,y=n.parentValue,p=n.cascaderLevel,j=n.icon,O=j===void 0?!0:j,P=n.readOnly,w=n.schema,W=n.dateTimeFormat;if(r==="horzBlank")return(0,e.jsx)(e.Fragment,{});if(r==="selectDict"&&C)return(0,e.jsx)(Ie,{value:a,onChange:t,dictCode:C,style:c,bordered:m,className:x,parentValue:y,cascaderLevel:p});if(r==="select"&&w!==null&&w!==void 0&&w.dataSource)return(0,e.jsx)(G.Z,{options:w.dataSource,style:{width:200,opacity:"unset"},bordered:m,onChange:t,className:x});if(r==="number")return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Y.Z,{onChange:function(H){H.target.value===""?t(""):t(parseFloat(H.target.value))},prefix:u,type:"number",value:a,style:(0,Z.Z)((0,Z.Z)({},c),{},{paddingLeft:20}),suffix:l,inputMode:"decimal",bordered:m,placeholder:g,className:x,readOnly:P})});if(r==="date"){var L;return(0,e.jsx)(oe,{onChange:function(H){return t(H)},value:a,style:c,bordered:m,placeholder:g,readOnly:P,className:x,dateTimeFormat:W||(w==null||(L=w.attribute)===null||L===void 0?void 0:L.dateTimeFormat)})}return r==="mobile"?(0,e.jsx)(Y.Z,{prefix:O?u||(0,e.jsx)(le.Z,{}):void 0,onChange:function(H){return t(H.target.value)},value:a,bordered:m,placeholder:g,className:x,readOnly:P}):r==="idCard"?(0,e.jsx)(Y.Z,{prefix:O?u||(0,e.jsx)(te.Z,{}):void 0,onChange:function(H){return t(H.target.value)},value:a,style:c,bordered:m,placeholder:g,className:x,readOnly:P}):r==="email"?(0,e.jsx)(Y.Z,{prefix:O?u||(0,e.jsx)(ie.Z,{}):void 0,onChange:function(H){return t(H.target.value)},value:a,style:c,bordered:m,placeholder:g,className:x,readOnly:P}):(0,e.jsx)(Y.Z,{onChange:function(H){return t(H.target.value)},value:a,suffix:l,prefix:u,style:c,bordered:m,placeholder:g,className:x,readOnly:P})},Le=s(57254),Pe=function(n){var t=n.options,r=n.onChange,a=n.value;return(0,e.jsxs)("div",{className:"native-select",children:[(0,e.jsxs)("select",{onChange:function(u){return r(u.target.value)},value:a,className:"native-select__select",children:[(0,e.jsx)("option",{children:"\u8BF7\u9009\u62E9"}),t==null?void 0:t.map(function(l){return(0,e.jsx)("option",{value:l.value,children:l.label},l.value)})]}),(0,e.jsx)("span",{className:"native-select__arrow",children:(0,e.jsx)(Le.Z,{})})]})};/*!
 * mobileSelect.js
 * (c) 2017-present onlyhom
 * Released under the MIT License.
 */function ke(i,n){return i.getElementsByClassName(n)}function Me(i){this.mobileSelect,this.wheelsData=i.wheels,this.jsonType=!1,this.cascadeJsonData=[],this.displayJson=[],this.curValue=null,this.curIndexArr=[],this.cascade=!1,this.startY,this.moveEndY,this.moveY,this.oldMoveY,this.offset=0,this.offsetSum=0,this.oversizeBorder,this.curDistance=[],this.clickStatus=!1,this.isPC=!0,this.init(i)}Me.prototype={constructor:Me,init:function(n){var t=this;if(t.keyMap=n.keyMap?n.keyMap:{id:"id",value:"value",childs:"childs"},t.checkDataType(),t.renderWheels(t.wheelsData,n.cancelBtnText,n.ensureBtnText,n.container),t.wheel=ke(t.mobileSelect,"wheel"),t.slider=ke(t.mobileSelect,"selectContainer"),t.wheels=t.mobileSelect.querySelector(".wheels"),t.liHeight=t.mobileSelect.querySelector("li").offsetHeight,t.ensureBtn=t.mobileSelect.querySelector(".ensure"),t.cancelBtn=t.mobileSelect.querySelector(".cancel"),t.grayLayer=t.mobileSelect.querySelector(".grayLayer"),t.popUp=t.mobileSelect.querySelector(".content"),t.callback=n.callback||function(){},t.transitionEnd=n.transitionEnd||function(){},t.onShow=n.onShow||function(){},t.onHide=n.onHide||function(){},t.initPosition=n.position||[],t.titleText=n.title||"",t.connector=n.connector||" ",t.triggerDisplayData=typeof n.triggerDisplayData!="undefined"?n.triggerDisplayData:!0,t.setStyle(n),t.setTitle(t.titleText),t.checkIsPC(),t.checkCascade(),t.addListenerAll(),t.cascade&&t.initCascade(),t.initPosition.length<t.slider.length)for(var r=t.slider.length-t.initPosition.length,a=0;a<r;a++)t.initPosition.push(0);t.setCurDistance(t.initPosition),t.cancelBtn.addEventListener("click",function(l){t.hide()}),t.ensureBtn.addEventListener("click",function(l){t.hide(),t.liHeight||(t.liHeight=t.mobileSelect.querySelector("li").offsetHeight);for(var u="",d=0;d<t.wheel.length;d++)d==t.wheel.length-1?u+=t.getInnerHtml(d):u+=t.getInnerHtml(d)+t.connector;t.curIndexArr=t.getIndexArr(),t.curValue=t.getCurValue(),t.callback(t.curIndexArr,t.curValue)}),t.grayLayer.addEventListener("click",function(l){t.hide()}),t.popUp.addEventListener("click",function(l){l.stopPropagation()}),t.fixRowStyle()},setTitle:function(n){var t=this;t.titleText=n,t.mobileSelect.querySelector(".title").innerHTML=t.titleText},setStyle:function(n){var t=this;n.ensureBtnColor&&(t.ensureBtn.style.color=n.ensureBtnColor),n.cancelBtnColor&&(t.cancelBtn.style.color=n.cancelBtnColor),n.titleColor&&(t.title=t.mobileSelect.querySelector(".title"),t.title.style.color=n.titleColor),n.textColor&&(t.panel=t.mobileSelect.querySelector(".panel"),t.panel.style.color=n.textColor),n.titleBgColor&&(t.btnBar=t.mobileSelect.querySelector(".btnBar"),t.btnBar.style.backgroundColor=n.titleBgColor),n.bgColor&&(t.panel=t.mobileSelect.querySelector(".panel"),t.shadowMask=t.mobileSelect.querySelector(".shadowMask"),t.panel.style.backgroundColor=n.bgColor,t.shadowMask.style.background="linear-gradient(to bottom, "+n.bgColor+", rgba(255, 255, 255, 0), "+n.bgColor+")"),isNaN(n.maskOpacity)||(t.grayMask=t.mobileSelect.querySelector(".grayLayer"),t.grayMask.style.background="rgba(0, 0, 0, "+n.maskOpacity+")")},checkIsPC:function(){var n=this,t=navigator.userAgent.toLowerCase(),r=t.match(/ipad/i)=="ipad",a=t.match(/iphone os/i)=="iphone os",l=t.match(/midp/i)=="midp",u=t.match(/rv:1.2.3.4/i)=="rv:1.2.3.4",d=t.match(/ucweb/i)=="ucweb",c=t.match(/android/i)=="android",f=t.match(/windows ce/i)=="windows ce",m=t.match(/windows mobile/i)=="windows mobile";(r||a||l||u||d||c||f||m)&&(n.isPC=!1)},show:function(){this.mobileSelect.classList.add("mobileSelect-show"),typeof this.onShow=="function"&&this.onShow(this)},hide:function(){this.mobileSelect.classList.remove("mobileSelect-show"),typeof this.onHide=="function"&&this.onHide(this)},renderWheels:function(n,t,r,a){var l=this,u=t||"\u53D6\u6D88",d=r||"\u786E\u8BA4";l.mobileSelect=document.createElement("div"),l.mobileSelect.className="mobileSelect",l.mobileSelect.innerHTML='<div class="grayLayer"></div><div class="content"><div class="btnBar"><div class="fixWidth"><div class="cancel">'+u+'</div><div class="title"></div><div class="ensure">'+d+'</div></div></div><div class="panel"><div class="fixWidth"><div class="wheels"></div><div class="selectLine"></div><div class="shadowMask"></div></div></div></div>',a?a.appendChild(l.mobileSelect):document.body.appendChild(l.mobileSelect);for(var c="",f=0;f<n.length;f++){if(c+='<div class="wheel"><ul class="selectContainer">',l.jsonType)for(var m=0;m<n[f].data.length;m++)c+='<li data-id="'+n[f].data[m][l.keyMap.id]+'">'+n[f].data[m][l.keyMap.value]+"</li>";else for(var m=0;m<n[f].data.length;m++)c+="<li>"+n[f].data[m]+"</li>";c+="</ul></div>"}l.mobileSelect.querySelector(".wheels").innerHTML=c},addListenerAll:function(){for(var n=this,t=0;t<n.slider.length;t++)(function(r){n.addListenerWheel(n.wheel[r],r)})(t)},addListenerWheel:function(n,t){var r=this;n.addEventListener("touchstart",function(a){r.touch(a,this.firstChild,t)},!1),n.addEventListener("touchend",function(a){r.touch(a,this.firstChild,t)},!1),n.addEventListener("touchmove",function(a){r.touch(a,this.firstChild,t)},!1),r.isPC&&(n.addEventListener("mousedown",function(a){r.dragClick(a,this.firstChild,t)},!1),n.addEventListener("mousemove",function(a){r.dragClick(a,this.firstChild,t)},!1),n.addEventListener("mouseup",function(a){r.dragClick(a,this.firstChild,t)},!0))},checkDataType:function(){var n=this;typeof n.wheelsData[0].data[0]=="object"&&(n.jsonType=!0)},checkCascade:function(){var n=this;if(n.jsonType){for(var t=n.wheelsData[0].data,r=0;r<t.length;r++)if(n.keyMap.childs in t[r]&&t[r][n.keyMap.childs].length>0){n.cascade=!0,n.cascadeJsonData=n.wheelsData[0].data;break}}else n.cascade=!1},generateArrData:function(n){for(var t=[],r=this.keyMap.id,a=this.keyMap.value,l=0;l<n.length;l++){var u={};u[r]=n[l][this.keyMap.id],u[a]=n[l][this.keyMap.value],t.push(u)}return t},initCascade:function(){var n=this;n.displayJson.push(n.generateArrData(n.cascadeJsonData)),n.initPosition.length>0?(n.initDeepCount=0,n.initCheckArrDeep(n.cascadeJsonData[n.initPosition[0]])):n.checkArrDeep(n.cascadeJsonData[0]),n.reRenderWheels()},initCheckArrDeep:function(n){var t=this;if(n&&t.keyMap.childs in n&&n[t.keyMap.childs].length>0){t.displayJson.push(t.generateArrData(n[t.keyMap.childs])),t.initDeepCount++;var r=n[t.keyMap.childs][t.initPosition[t.initDeepCount]];r?t.initCheckArrDeep(r):t.checkArrDeep(n[t.keyMap.childs][0])}},checkArrDeep:function(n){var t=this;n&&t.keyMap.childs in n&&n[t.keyMap.childs].length>0&&(t.displayJson.push(t.generateArrData(n[t.keyMap.childs])),t.checkArrDeep(n[t.keyMap.childs][0]))},checkRange:function(n,t){for(var r=this,a=r.displayJson.length-1-n,l=0;l<a;l++)r.displayJson.pop();for(var u,l=0;l<=n;l++)l==0?u=r.cascadeJsonData[t[0]]:u=u[r.keyMap.childs][t[l]];r.checkArrDeep(u),r.reRenderWheels(),r.fixRowStyle(),r.setCurDistance(r.resetPosition(n,t))},resetPosition:function(n,t){var r=this,a=t,l;if(r.slider.length>t.length){l=r.slider.length-t.length;for(var u=0;u<l;u++)a.push(0)}else if(r.slider.length<t.length){l=t.length-r.slider.length;for(var u=0;u<l;u++)a.pop()}for(var u=n+1;u<a.length;u++)a[u]=0;return a},reRenderWheels:function(){var n=this;if(n.wheel.length>n.displayJson.length)for(var t=n.wheel.length-n.displayJson.length,r=0;r<t;r++)n.wheels.removeChild(n.wheel[n.wheel.length-1]);for(var r=0;r<n.displayJson.length;r++)(function(l){var u="";if(n.wheel[l]){for(var d=0;d<n.displayJson[l].length;d++)u+='<li data-id="'+n.displayJson[l][d][n.keyMap.id]+'">'+n.displayJson[l][d][n.keyMap.value]+"</li>";n.slider[l].innerHTML=u}else{var c=document.createElement("div");c.className="wheel",u='<ul class="selectContainer">';for(var d=0;d<n.displayJson[l].length;d++)u+='<li data-id="'+n.displayJson[l][d][n.keyMap.id]+'">'+n.displayJson[l][d][n.keyMap.value]+"</li>";u+="</ul>",c.innerHTML=u,n.addListenerWheel(c,l),n.wheels.appendChild(c)}})(r)},updateWheels:function(n){var t=this;if(t.cascade){if(t.cascadeJsonData=n,t.displayJson=[],t.initCascade(),t.initPosition.length<t.slider.length)for(var r=t.slider.length-t.initPosition.length,a=0;a<r;a++)t.initPosition.push(0);t.setCurDistance(t.initPosition),t.fixRowStyle()}},updateWheel:function(n,t){var r=this,a="";if(r.cascade)return console.error("\u7EA7\u8054\u683C\u5F0F\u4E0D\u652F\u6301updateWheel(),\u8BF7\u4F7F\u7528updateWheels()\u66F4\u65B0\u6574\u4E2A\u6570\u636E\u6E90"),!1;if(r.jsonType){for(var l=0;l<t.length;l++)a+='<li data-id="'+t[l][r.keyMap.id]+'">'+t[l][r.keyMap.value]+"</li>";r.wheelsData[n]={data:t}}else{for(var l=0;l<t.length;l++)a+="<li>"+t[l]+"</li>";r.wheelsData[n]=t}r.slider[n].innerHTML=a},fixRowStyle:function(){for(var n=this,t=(100/n.wheel.length).toFixed(2)-2,r=0;r<n.wheel.length;r++);},getIndex:function(n){return Math.round((2*this.liHeight-n)/this.liHeight)},getIndexArr:function(){for(var n=this,t=[],r=0;r<n.curDistance.length;r++)t.push(n.getIndex(n.curDistance[r]));return t},getCurValue:function(){var n=this,t=[],r=n.getIndexArr();if(n.cascade)for(var a=0;a<n.wheel.length;a++)t.push(n.displayJson[a][r[a]]);else if(n.jsonType)for(var a=0;a<n.curDistance.length;a++)t.push(n.wheelsData[a].data[n.getIndex(n.curDistance[a])]);else for(var a=0;a<n.curDistance.length;a++)t.push(n.getInnerHtml(a));return t},getValue:function(){return this.curValue},calcDistance:function(n){return 2*this.liHeight-n*this.liHeight},setCurDistance:function(n){for(var t=this,r=[],a=0;a<t.slider.length;a++)r.push(t.calcDistance(n[a])),t.movePosition(t.slider[a],r[a]);t.curDistance=r},fixPosition:function(n){return-(this.getIndex(n)-2)*this.liHeight},movePosition:function(n,t){n.style.webkitTransform="translate3d(0,"+t+"px, 0)",n.style.transform="translate3d(0,"+t+"px, 0)"},locatePosition:function(n,t){var r=this;this.curDistance[n]=this.calcDistance(t),this.movePosition(this.slider[n],this.curDistance[n]),r.cascade&&r.checkRange(n,r.getIndexArr())},updateCurDistance:function(n,t){n.style.transform?this.curDistance[t]=parseInt(n.style.transform.split(",")[1]):this.curDistance[t]=parseInt(n.style.webkitTransform.split(",")[1])},getDistance:function(n){return n.style.transform?parseInt(n.style.transform.split(",")[1]):parseInt(n.style.webkitTransform.split(",")[1])},getInnerHtml:function(n){var t=this,r=t.slider[n].getElementsByTagName("li").length,a=t.getIndex(t.curDistance[n]);return a>=r?a=r-1:a<0&&(a=0),t.slider[n].getElementsByTagName("li")[a].innerHTML},touch:function(n,t,r){var a=this;switch(n=n||window.event,n.type){case"touchstart":a.startY=n.touches[0].clientY,a.startY=parseInt(a.startY),a.oldMoveY=a.startY;break;case"touchend":if(a.moveEndY=parseInt(n.changedTouches[0].clientY),a.offsetSum=a.moveEndY-a.startY,a.oversizeBorder=-(t.getElementsByTagName("li").length-3)*a.liHeight,a.offsetSum==0){var l=parseInt((document.documentElement.clientHeight-a.moveEndY)/40);if(l!=2){var u=l-2,d=a.curDistance[r]+u*a.liHeight;d<=2*a.liHeight&&d>=a.oversizeBorder&&(a.curDistance[r]=d,a.movePosition(t,a.curDistance[r]),a.transitionEnd(a.getIndexArr(),a.getCurValue(),r))}}else a.updateCurDistance(t,r),a.curDistance[r]=a.fixPosition(a.curDistance[r]),a.movePosition(t,a.curDistance[r]),a.curDistance[r]+a.offsetSum>2*a.liHeight?(a.curDistance[r]=2*a.liHeight,setTimeout(function(){a.movePosition(t,a.curDistance[r])},100)):a.curDistance[r]+a.offsetSum<a.oversizeBorder&&(a.curDistance[r]=a.oversizeBorder,setTimeout(function(){a.movePosition(t,a.curDistance[r])},100)),a.transitionEnd(a.getIndexArr(),a.getCurValue(),r);a.cascade&&a.checkRange(r,a.getIndexArr());break;case"touchmove":n.preventDefault(),a.moveY=n.touches[0].clientY,a.offset=a.moveY-a.oldMoveY,a.updateCurDistance(t,r),a.curDistance[r]=a.curDistance[r]+a.offset,a.movePosition(t,a.curDistance[r]),a.oldMoveY=a.moveY;break}},dragClick:function(n,t,r){var a=this;switch(n=n||window.event,n.type){case"mousedown":a.startY=n.clientY,a.oldMoveY=a.startY,a.clickStatus=!0;break;case"mouseup":if(a.moveEndY=n.clientY,a.offsetSum=a.moveEndY-a.startY,a.oversizeBorder=-(t.getElementsByTagName("li").length-3)*a.liHeight,a.offsetSum==0){var l=parseInt((document.documentElement.clientHeight-a.moveEndY)/40);if(l!=2){var u=l-2,d=a.curDistance[r]+u*a.liHeight;d<=2*a.liHeight&&d>=a.oversizeBorder&&(a.curDistance[r]=d,a.movePosition(t,a.curDistance[r]),a.transitionEnd(a.getIndexArr(),a.getCurValue(),r))}}else a.updateCurDistance(t,r),a.curDistance[r]=a.fixPosition(a.curDistance[r]),a.movePosition(t,a.curDistance[r]),a.curDistance[r]+a.offsetSum>2*a.liHeight?(a.curDistance[r]=2*a.liHeight,setTimeout(function(){a.movePosition(t,a.curDistance[r])},100)):a.curDistance[r]+a.offsetSum<a.oversizeBorder&&(a.curDistance[r]=a.oversizeBorder,setTimeout(function(){a.movePosition(t,a.curDistance[r])},100)),a.transitionEnd(a.getIndexArr(),a.getCurValue(),r);a.clickStatus=!1,a.cascade&&a.checkRange(r,a.getIndexArr());break;case"mousemove":n.preventDefault(),a.clickStatus&&(a.moveY=n.clientY,a.offset=a.moveY-a.oldMoveY,a.updateCurDistance(t,r),a.curDistance[r]=a.curDistance[r]+a.offset,a.movePosition(t,a.curDistance[r]),a.oldMoveY=a.moveY);break}}};var Ue=s(16165),it=function(){return _jsx("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:_jsx("path",{d:"M237.136842 668.294737c-5.389474-5.389474-10.778947-10.778947-10.778947-16.168421V355.705263v-21.557895-26.947368-32.336842c0-10.778947 0-21.557895 5.389473-26.947369l-5.389473-5.389473-80.842106 32.336842c-26.947368 5.389474-59.284211 16.168421-91.621052 26.947368l5.389474 21.557895 107.789473-16.168421v334.147368c0 10.778947-5.389474 16.168421-10.778947 21.557895-5.389474 5.389474-16.168421 10.778947-32.336842 10.778948-10.778947 0-32.336842 5.389474-53.894737 5.389473v16.168421H323.368421v-21.557894c-21.557895 0-37.726316 0-48.505263-5.389474-21.557895 10.778947-32.336842 5.389474-37.726316 0z m414.989474-43.11579c0-10.778947 5.389474-16.168421 5.389473-26.947368l-16.168421-5.389474c-5.389474 16.168421-10.778947 26.947368-16.168421 32.336842-5.389474 5.389474-10.778947 16.168421-16.168421 16.168421-5.389474 5.389474-10.778947 5.389474-16.168421 5.389474h-16.168421l-172.463158 5.389474 107.789474-102.4c16.168421-16.168421 32.336842-26.947368 48.505263-43.11579 16.168421-16.168421 26.947368-26.947368 37.726316-43.115789 10.778947-16.168421 21.557895-32.336842 26.947368-48.505263 5.389474-16.168421 10.778947-37.726316 10.778948-53.894737 0-21.557895-5.389474-37.726316-10.778948-53.894737-10.778947-16.168421-21.557895-26.947368-32.336842-37.726316-16.168421-10.778947-32.336842-16.168421-48.505263-21.557895-21.557895-5.389474-37.726316-10.778947-59.28421-10.778947-21.557895 0-48.505263 5.389474-70.063158 10.778947-16.168421 10.778947-37.726316 21.557895-59.284211 32.336843 0 16.168421 0 32.336842 5.389474 48.505263v53.894737h21.557895c0-16.168421 5.389474-26.947368 10.778947-37.726316l16.168421-32.336842c5.389474-10.778947 16.168421-16.168421 26.947368-21.557895 10.778947-5.389474 21.557895-5.389474 37.726316-5.389474 10.778947 0 26.947368 0 37.726316 5.389474 10.778947 5.389474 21.557895 10.778947 32.336842 21.557895 10.778947 10.778947 16.168421 16.168421 21.557895 32.336842 5.389474 10.778947 5.389474 26.947368 5.389474 37.726316 0 16.168421-5.389474 32.336842-10.778948 48.505263-5.389474 16.168421-16.168421 32.336842-26.947368 48.505263-5.389474 10.778947-21.557895 26.947368-32.336842 43.115789l-48.505264 48.505264-123.957894 123.957894 5.389473 5.389474h301.810527v-21.557895c0-10.778947 5.389474-16.168421 5.389473-26.947368 5.389474-10.778947 10.778947-21.557895 10.778948-26.947369z m307.2-80.842105c-5.389474-10.778947-16.168421-26.947368-21.557895-32.336842-10.778947-10.778947-21.557895-21.557895-37.726316-26.947368-10.778947-5.389474-26.947368-10.778947-43.115789-16.168421 16.168421-10.778947 32.336842-26.947368 43.115789-37.726316 10.778947-10.778947 21.557895-21.557895 26.947369-32.336842 5.389474-10.778947 10.778947-21.557895 10.778947-26.947369v-16.168421c0-16.168421-5.389474-32.336842-10.778947-48.505263-10.778947-10.778947-21.557895-26.947368-32.336842-32.336842-10.778947-10.778947-26.947368-16.168421-43.11579-21.557895-16.168421-5.389474-32.336842-5.389474-48.505263-5.389474-26.947368 0-48.505263 5.389474-70.063158 10.778948s-43.115789 16.168421-64.673684 32.336842v91.621053h21.557895c0-16.168421 5.389474-26.947368 10.778947-37.726316 5.389474-10.778947 10.778947-21.557895 21.557895-26.947369 10.778947-5.389474 16.168421-16.168421 26.947368-16.168421 10.778947-5.389474 21.557895-5.389474 37.726316-5.389473 10.778947 0 21.557895 0 32.336842 5.389473 10.778947 5.389474 21.557895 10.778947 26.947368 16.168421 5.389474 5.389474 16.168421 16.168421 21.557895 26.947369 5.389474 10.778947 5.389474 21.557895 5.389474 32.336842 0 21.557895-5.389474 37.726316-16.168421 53.894737-10.778947 16.168421-21.557895 26.947368-37.726316 37.726316-16.168421 10.778947-32.336842 16.168421-48.505263 21.557894-16.168421 5.389474-37.726316 10.778947-53.894737 16.168421l5.389474 26.947369c5.389474-5.389474 16.168421-5.389474 26.947368-5.389474h26.947369c16.168421 0 32.336842 0 48.505263 5.389474 16.168421 5.389474 26.947368 10.778947 37.726315 21.557894 10.778947 10.778947 16.168421 21.557895 26.947369 32.336843 5.389474 16.168421 10.778947 32.336842 10.778947 48.505263 0 16.168421 0 32.336842-5.389473 48.505263-5.389474 16.168421-10.778947 26.947368-21.557895 37.726316-10.778947 10.778947-21.557895 21.557895-37.726316 26.947368-16.168421 5.389474-32.336842 10.778947-48.505263 10.778947-21.557895 0-37.726316-5.389474-59.284211-10.778947-21.557895-10.778947-37.726316-21.557895-48.505263-32.336842-10.778947 0-16.168421 5.389474-26.947368 16.168421-5.389474-16.168421-5.389474-5.389474-5.389474 5.389474s5.389474 16.168421 10.778947 21.557894c5.389474 5.389474 10.778947 10.778947 21.557895 16.168422 10.778947 5.389474 16.168421 5.389474 26.947369 5.389473h32.336842c26.947368 0 53.894737-5.389474 86.231579-10.778947 26.947368-10.778947 53.894737-21.557895 75.452631-37.726316 21.557895-16.168421 43.115789-37.726316 53.894737-64.673684 16.168421-26.947368 21.557895-53.894737 21.557895-86.231579-5.389474-10.778947-10.778947-26.947368-16.168421-37.726316z",fill:"#bfbfbf"})})},st=function(n){return _jsx(Icon,_objectSpread({component:it},n))},lt=function(){return(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,e.jsx)("path",{d:"M682.666667 213.333333a21.333333 21.333333 0 0 1 20.992 17.493334l0.341333 3.84v42.666666H810.666667a42.666667 42.666667 0 0 1 42.666666 42.666667v469.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H256a42.666667 42.666667 0 0 1-42.666667-42.666667v-469.333333a42.666667 42.666667 0 0 1 42.666667-42.666667h106.666667v-42.666666a21.333333 21.333333 0 0 1 42.325333-3.84l0.341333 3.84v42.666666h256v-42.666666A21.333333 21.333333 0 0 1 682.666667 213.333333z m128 234.666667H256v341.333333h554.666667v-341.333333z m-448-128H256v85.333333h554.666667v-85.333333h-106.666667V341.333333a21.333333 21.333333 0 0 1-42.325333 3.84L661.333333 341.333333v-21.333333h-256V341.333333a21.333333 21.333333 0 0 1-42.325333 3.84L362.666667 341.333333v-21.333333z",fill:"#bfbfbf","p-id":"4605"})})},ot=function(n){return(0,e.jsx)(Ue.Z,(0,Z.Z)({component:lt},n))},_e=function(){return _jsx("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:_jsx("path",{d:"M510.61572266 166.37561035A368.95935059 368.95935059 0 0 0 141.70581055 535.33496094a368.95935059 368.95935059 0 0 0 368.95935059 368.95935059 368.95935059 368.95935059 0 0 0 368.95935058-368.95935059A368.95935059 368.95935059 0 0 0 510.61572266 166.42504883z m0 688.77685547a319.86694336 319.86694336 0 0 1 0-639.63500977 319.86694336 319.86694336 0 0 1 0 639.63500977z m159.93347168-295.24658204h-159.93347168V400.02185058a12.35961914 12.35961914 0 0 0-12.26074219-12.31018066h-24.62036133a12.35961914 12.35961914 0 0 0-12.26074219 12.31018067v196.76513671a12.35961914 12.35961914 0 0 0 12.26074219 12.31018067h196.76513672a12.35961914 12.35961914 0 0 0 12.35961914-12.31018066v-24.57092286a12.26074219 12.26074219 0 0 0-12.35961914-12.31018066z","p-id":"9722",fill:"#bfbfbf"})})},ct=function(n){return _jsx(Icon,_objectSpread({component:_e},n))},dt=function(){return _jsx("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:_jsx("path",{d:"M566.272 217.088c-11.264-7.168-24.576-11.264-41.984-11.264-4.096 0-8.192 0-12.288 1.024-45.056 7.168-74.752 48.128-93.184 87.04-8.192 18.432-15.36 37.888-22.528 56.32-3.072 9.216-7.168 17.408-10.24 26.624 0 1.024-5.12 18.432-6.144 18.432h-46.08c-6.144 0-11.264 5.12-11.264 11.264 0 6.144 5.12 11.264 11.264 11.264h39.936l-22.528 96.256c-22.528 107.52-53.248 230.4-60.416 251.904-7.168 22.528-17.408 33.792-31.744 33.792-3.072 0-5.12-1.024-7.168-2.048-2.048-1.024-3.072-3.072-3.072-5.12s1.024-5.12 4.096-9.216c3.072-4.096 4.096-9.216 4.096-13.312 0-8.192-3.072-15.36-8.192-20.48-6.144-5.12-12.288-7.168-19.456-7.168s-14.336 3.072-20.48 8.192c-1.024 7.168-4.096 14.336-4.096 23.552 0 12.288 5.12 22.528 15.36 31.744 10.24 9.216 23.552 13.312 40.96 13.312 27.648 0 52.224-12.288 70.656-33.792 11.264-13.312 19.456-28.672 26.624-45.056 22.528-50.176 34.816-105.472 48.128-158.72 13.312-54.272 25.6-108.544 36.864-162.816h44.032c6.144 0 11.264-5.12 11.264-11.264 0-6.144-5.12-11.264-11.264-11.264h-40.96c22.528-84.992 48.128-143.36 53.248-151.552 8.192-14.336 17.408-21.504 27.648-21.504 4.096 0 6.144 1.024 7.168 3.072 1.024 2.048 2.048 4.096 2.048 5.12 0 1.024-1.024 4.096-4.096 9.216-3.072 5.12-4.096 10.24-4.096 15.36 0 7.168 3.072 13.312 8.192 18.432s12.288 8.192 19.456 8.192 14.336-3.072 19.456-8.192 8.192-12.288 8.192-21.504c-1.024-17.408-6.144-28.672-17.408-35.84z m204.8 258.048c16.384 0 48.128-13.312 48.128-56.32s-30.72-45.056-40.96-45.056c-18.432 0-37.888 13.312-54.272 41.984-16.384 28.672-34.816 61.44-34.816 61.44h-1.024c-4.096-20.48-7.168-36.864-9.216-45.056-3.072-17.408-23.552-56.32-66.56-56.32s-81.92 24.576-81.92 24.576c-7.168 4.096-12.288 12.288-12.288 21.504 0 14.336 11.264 25.6 25.6 25.6 4.096 0 8.192-1.024 11.264-3.072 0 0 32.768-18.432 38.912 0 2.048 5.12 4.096 11.264 6.144 17.408 8.192 27.648 15.36 60.416 22.528 90.112L596.992 593.92s-31.744-11.264-48.128-11.264-48.128 13.312-48.128 56.32 30.72 45.056 40.96 45.056c18.432 0 37.888-13.312 54.272-41.984 16.384-28.672 34.816-61.44 34.816-61.44 5.12 26.624 10.24 48.128 13.312 56.32 10.24 30.72 34.816 48.128 67.584 48.128 0 0 33.792 0 72.704-22.528 9.216-4.096 16.384-13.312 16.384-23.552 0-14.336-11.264-25.6-25.6-25.6-4.096 0-8.192 1.024-11.264 3.072 0 0-27.648 15.36-37.888 3.072-7.168-13.312-12.288-30.72-17.408-52.224-4.096-19.456-9.216-41.984-13.312-63.488l28.672-40.96c-1.024 1.024 30.72 12.288 47.104 12.288z","p-id":"1938",fill:"#bfbfbf"})})},_=function(n){return _jsx(Icon,_objectSpread({component:dt},n))},Q=s(27484),X=s.n(Q);function K(i,n){for(var t=[],r=i;r<=n;r++)t.push("".concat(r).padStart(2,"0"));return t}function ne(i,n){var t=31;return[1,3,5,7,8,10,12].indexOf(parseInt(n))!=-1?t=31:(t=30,n==2&&i%4==0?t=29:n==2&&i%4!=0&&(t=28)),t}var oe=function(n){var t=n.onChange,r=n.value,a=r===void 0?"":r,l=n.suffix,u=n.readOnly,d=n.dateTimeFormat,c=d===void 0?"YYYY-MM-DD":d,f=n.style,m=n.bordered,g=n.className,x=(0,o.useRef)(),C=(0,o.useRef)(0);return(0,o.useEffect)(function(){var y=X()(X()(a||void 0).format(c),c),p=K(1900,2100),j=K(1,12),O=K(1,ne(y.year(),y.month())),P=K(0,23),w=K(0,59),W=K(0,59),L=[],z=[],H=0;c.includes("YYYY")&&(L.push({data:p}),z.push(p.indexOf("".concat(y.year()))),H++),c.includes("MM")&&(L.push({data:j}),z.push(j.indexOf(String(y.month()+1).padStart(2,"0"))),H++),c.includes("DD")&&(L.push({data:O}),z.push(O.indexOf(String(y.date()+1).padStart(2,"0"))),H++),C.current=H,c.includes("HH")&&(L.push({data:P}),z.push(P.indexOf(String(y.hour()).padStart(2,"0"))),H++),c.includes("mm")&&(L.push({data:w}),z.push(w.indexOf(String(y.minute()).padStart(2,"0"))),H++),c.includes("ss")&&(L.push({data:W}),z.push(W.indexOf(String(y.second()).padStart(2,"0"))),H++),x.current=new Me({title:"\u65E5\u671F\u9009\u62E9",position:z,wheels:L,onShow:function(){document.getElementsByTagName("body")[0].style.overflow="hidden"},onHide:function(){document.getElementsByTagName("body")[0].style.overflow=null},transitionEnd:function(q,ee,ae){ae===1&&x.current.updateWheel(2,K(1,ne(ee[0],ee[1])))},callback:function(q,ee){var ae=[];C.current>0&&ae.push(ee.slice(0,C.current).join("-")),ee.length>C.current&&ae.push(ee.slice(C.current).join(":")),t(ae.join(" "))}})},[]),(0,e.jsx)(Y.Z,{prefix:(0,e.jsx)(ot,{}),readOnly:!0,value:a,style:f,suffix:l,bordered:m,className:g,onClick:function(){u||x.current.show()}})};function U(){var i=new Date;return["".concat(i.getHours()).padStart(2,"0"),"".concat(i.getMinutes()).padStart(2,"0"),"".concat(i.getSeconds()).padStart(2,"0")]}var Ce=function(n){var t=n.onChange,r=n.value,a=r===void 0?"":r,l=n.readOnly,u=useRef(),d=useRef();return useEffect(function(){var c=U(),f=_slicedToArray(c,3),m=f[0],g=f[1],x=f[2],C=a.split(":"),y=_slicedToArray(C,3),p=y[0],j=y[1],O=y[2],P=generateSerialNums(0,23),w=generateSerialNums(0,59),W=generateSerialNums(0,59);u.current=new MobileSelect({title:"\u65F6\u95F4\u9009\u62E9",position:[P.indexOf(p||m),w.indexOf(j||g),W.indexOf(O||x)],wheels:[{data:P},{data:w},{data:W}],onShow:function(){document.getElementsByTagName("body")[0].style.overflow="hidden"},onHide:function(){document.getElementsByTagName("body")[0].style.overflow=null},callback:function(z,H){t(H.join(":"))}})},[]),_jsx("div",{ref:d,children:_jsx(_Input,{prefix:_jsx(TimeIcon,{}),readOnly:!0,value:a,onClick:function(){l||u.current.show()}})})},re=s(62612),Oe=s(17672),me=s(94184),pe=s.n(me),ze=s(73935),He=function(n){var t=n.visible,r=n.title,a=n.children,l=n.okContent,u=n.cancelContent,d=n.height,c=n.onCancel;return ze.createPortal((0,e.jsxs)("div",{className:pe()("mobileDrawer",{"mobileDrawer-show":t}),children:[(0,e.jsx)("div",{className:"grayLayer",onClick:c}),(0,e.jsxs)("div",{className:"content",children:[(0,e.jsx)("div",{className:"btnBar",children:(0,e.jsxs)("div",{className:"fixWidth",children:[(0,e.jsx)("div",{className:"cancel",children:u}),r&&(0,e.jsx)("div",{className:"title",children:r}),(0,e.jsx)("div",{className:"ensure",style:{width:80,display:"flex",justifyContent:"space-between"},children:l})]})}),(0,e.jsx)("div",{className:"panel",children:(0,e.jsx)("div",{className:"fixWidth",children:(0,e.jsx)("div",{className:"wheels",style:{height:d},children:a})})})]})]}),document.body)},Be=function(n){var t=n.onChange,r=(0,o.useRef)(null),a=(0,o.useRef)(),l=(0,o.useRef)(),u=(0,o.useState)(!1),d=(0,M.Z)(u,2),c=d[0],f=d[1];return(0,o.useEffect)(function(){var m=r.current;if(m){var g,x=new Oe.Z(r.current,{});a.current=x;var C=Math.max(window.devicePixelRatio||1,1);m.width=m.offsetWidth*C,m.height=m.offsetHeight*C,(g=m.getContext("2d"))===null||g===void 0||g.scale(C,C)}},[]),(0,e.jsxs)("div",{style:{position:"relative"},children:[(0,e.jsx)("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#aaa",visibility:l.current?"hidden":"visible"},onClick:function(){return f(!0)},children:"\u70B9\u51FB\u7B7E\u540D"}),(0,e.jsx)("img",{src:l.current||void 0,style:{display:"block",width:"100%",height:100,border:l.current?"1px solid #E3E3E3":0},onClick:function(){return f(!0)}}),(0,e.jsx)(He,{visible:c,title:"\u7535\u5B50\u7B7E\u540D",okContent:(0,e.jsx)("div",{style:{userSelect:"none"},onClick:function(){var g,x;if((g=a.current)!==null&&g!==void 0&&g.isEmpty()){re.FN.show({content:"\u7B7E\u540D\u4E0D\u80FD\u4E3A\u7A7A",position:"top",maskStyle:{zIndex:1e4}});return}l.current=(x=a.current)===null||x===void 0?void 0:x.toDataURL(),f(!1),t(a.current.toDataURL())},children:"\u786E\u8BA4\u7B7E\u540D"}),cancelContent:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:80},children:[(0,e.jsx)("div",{onClick:function(){return f(!1)},children:"\u53D6\u6D88"}),(0,e.jsx)("div",{style:{color:"#1e83d3"},onClick:function(){var g;return(g=a.current)===null||g===void 0?void 0:g.clear()},children:"\u91CD\u7F6E"})]}),children:(0,e.jsx)("canvas",{ref:r,style:{width:"100%",height:400,touchAction:"none",userSelect:"none"}})})]})};function Te(i){return i?i.substring(0,i.lastIndexOf("[")):"\u70B9\u51FB\u9009\u62E9"}var Ee=function(n){var t=n.onChange,r=n.value,a=n.mapMove,l=a===void 0?!1:a,u=n.optionId,d=(0,o.useRef)(null),c=(0,o.useRef)(),f=(0,o.useRef)(),m=(0,o.useRef)(),g=(0,o.useRef)(),x=(0,o.useState)(function(){if(!!r){var q=r.match(/\[(\d+\.\d+),\s*(\d+\.\d+)\]/);if(q&&q.length>2)return[parseFloat(q[1]),parseFloat(q[2])]}}),C=(0,M.Z)(x,2),y=C[0],p=C[1],j=(0,o.useState)(function(){return Te(r)}),O=(0,M.Z)(j,2),P=O[0],w=O[1],W=(0,o.useState)(!1),L=(0,M.Z)(W,2),z=L[0],H=L[1],ce=(0,o.useCallback)(function(q){f.current.getLocation(q,function(ee,ae){if(ee==="complete"&&ae.geocodes.length){var fe=ae.geocodes[0].location;m.current.start(fe)}else console.error("\u6839\u636E\u5730\u5740\u67E5\u8BE2\u4F4D\u7F6E\u5931\u8D25")})},[]);return(0,o.useEffect)(function(){window["localMap".concat(u)]=function(){initAMapUI(),AMapUI.loadUI(["misc/PositionPicker"],function(Ne){var we=new AMap.Map("map-".concat(u),{zoom:16,center:y,dragEnable:l,zoomEnable:l});if(c.current=we,l){var be=new Ne({mode:"dragMarker",map:we});be.on("success",function(Ge){w(Ge.address),p([Ge.position.lng,Ge.position.lat])}),y?be.start(y):be.start(),we.panBy(0,1),m.current=be}var Ze=new AMap.Geocoder({city:"010"});f.current=Ze;var rt=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,offset:[10,20],zoomToAccuracy:!0,position:"RB"});g.current=rt,rt.getCurrentPosition(function(Ge,Ke){Ge=="complete"?l?positionPicker.start(Ke.position):(we.setCenter(Ke.position),w(Ke.formattedAddress),p([Ke.position.lng,Ke.position.lat])):console.error(Ke)})})},window._AMapSecurityConfig={securityJsCode:"c92dc7c089f25dcd7944094d3ee1a959"};var q="https://webapi.amap.com/maps?v=1.4.15&key=fce3217057b3ace0b2128cb5d1696c87&callback=localMap".concat(u,"&plugin=AMap.Geocoder,AMap.Geolocation"),ee=document.createElement("script");ee.src=q,document.head.appendChild(ee);var ae="https://webapi.amap.com/ui/1.1/main-async.js",fe=document.createElement("script");fe.src=ae,document.head.appendChild(fe)},[]),(0,e.jsxs)("div",{style:{position:"relative"},children:[(0,e.jsx)(Y.Z.TextArea,{readOnly:!0,value:Te(r),onClick:function(){return H(!0)}}),(0,e.jsxs)(He,{visible:z,height:450,onCancel:function(){H(!1)},okContent:(0,e.jsx)("div",{style:{userSelect:"none"},onClick:function(){y&&t("".concat(P,"[").concat(y[0],", ").concat(y[1],"]")),H(!1)},children:"\u786E\u8BA4\u9009\u62E9"}),cancelContent:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:200},children:[!l&&(0,e.jsx)(R.Z,{type:"link",children:"\u83B7\u53D6\u4F4D\u7F6E"}),l&&(0,e.jsx)(Y.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u8981\u641C\u7D22\u7684\u5730\u70B9\u3001\u8857\u9053",size:"small",onSearch:function(ee){return ce(ee)}})]}),children:[(0,e.jsx)("div",{ref:d,id:"map-".concat(u),style:{height:390}}),(0,e.jsx)("div",{style:{height:50,borderTop:"1px solid #b0b0b0",background:"#fff",padding:"12px 18px"},children:P})]})]})},ue=function(n){var t,r=n.optionId,a=n.questionId,l=n.checked,u=n.checkedCount,d=(0,v.Al)(),c=d.statistics,f=c==null?void 0:c.questionStatistics[a],m=((f==null?void 0:f.optionStatistics.reduce(function(C,y){return C+y.count},0))||0)+u,g=(f==null||(t=f.optionStatistics.find(function(C){return C.optionId===r}))===null||t===void 0?void 0:t.count)||0;g=l?g+1:g;var x="".concat(Math.floor(g/m*1e3)/10,"%");return u===0?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)("span",{className:"vote-info",children:[(0,e.jsxs)("span",{className:"vote-info-cnt ",children:[g,"\u7968"]}),(0,e.jsx)("span",{className:"vote-info-percent ",children:x}),(0,e.jsx)("div",{className:"vote-info-bar",children:(0,e.jsx)("div",{className:"vote-info-bar-fill",style:{width:x}})})]})},We=s(93224),Ve=s(39017),je=s(49914),$e=s(78338);function ut(i){i=Number(i);var n=Math.floor(i/3600),t=Math.floor(i%3600/60),r=Math.floor(i%3600%60),a="".concat(n).padStart(2,"0"),l="".concat(t).padStart(2,"0"),u="".concat(r).padStart(2,"0");return"".concat(a,":").concat(l,":").concat(u)}function ht(i){return i<=60?"#ff4d4f":i<=180?"#faad14":"#52c41a"}var vt=(0,D.Pi)(function(){var i,n,t=(0,je.H)(),r=(0,Ve.Rk)(),a=t.startTime,l=((i=t.project)===null||i===void 0||(n=i.setting.examSetting)===null||n===void 0?void 0:n.maxSubmitMinutes)||0,u=(0,o.useState)(0),d=(0,M.Z)(u,2),c=d[0],f=d[1],m=a+l*60*1e3,g=(0,o.useRef)();return(0,o.useEffect)(function(){if(l!==0)return g.current=window.setInterval(function(){f((m-new Date().getTime())/1e3)},1e3),function(){clearInterval(g.current)}},[m]),(0,o.useEffect)(function(){c<0&&(r.submit(),clearInterval(g.current))},[c]),l===0?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)("div",{style:{position:"absolute",right:10,fontSize:13},children:[(0,e.jsx)($e.Z,{style:{marginRight:5,color:"#1890ff"}}),"\u5269\u4F59:",(0,e.jsx)("span",{style:{marginLeft:3,color:ht(c)},children:ut(c)})]})}),ft=["size","marked"],Xe=(0,D.Pi)(function(i){var n=i.size,t=i.marked,r=t===void 0?!0:t,a=(0,We.Z)(i,ft),l=(0,v.Rk)(),u=l.props.answerSheetVisible;return u?(0,e.jsx)("svg",(0,Z.Z)((0,Z.Z)({viewBox:"0 0 1024 1024",version:"1.1",width:i.size||24,height:i.size||24,className:"marked"},a),{},{children:(0,e.jsx)("path",{d:"M662.04973405 329.56834123l108.40905238-142.19888693c4.22372932-5.63163908 4.22372932-11.26327817 1.40790978-18.30282702-2.81581955-5.63163908-8.44745863-9.8553684-15.48700748-9.85536841H218.55815604c-9.8553684 0-16.89491725 7.03954885-16.89491725 16.89491726V867.38987389c0 9.8553684 7.03954885 16.89491725 16.89491725 16.89491726s16.89491725-7.03954885 16.89491726-16.89491726V487.25423562h522.33452519c7.03954885 0 12.67118794-4.22372932 15.48700749-9.8553684s1.40790977-12.67118794-2.81581955-18.30282703l-108.40905238-129.52769896z",fill:r?"#EA4942":"#d8d8d8","p-id":"1287"})})):(0,e.jsx)(e.Fragment,{})}),Ye=(0,D.Pi)(function(i){var n=(0,v.Rk)(),t=i.finished,r=i.marked,a=i.seqNo,l=i.id;return(0,e.jsxs)("div",{className:pe()("answer-sheet-item",{marked:r,finished:t}),onClick:function(){return n.changePageIndex(l)},children:[a,r&&(0,e.jsx)(Xe,{style:{position:"absolute",left:32,bottom:32},size:24})]})}),mt=(0,D.Pi)(function(){var i=(0,v.Rk)(),n=i.answerSheet;return(0,e.jsx)(e.Fragment,{children:n.filter(function(t){return t.display!=="none"}).map(function(t,r){return(0,o.createElement)(Ye,(0,Z.Z)((0,Z.Z)({},t),{},{seqNo:r+1,key:t.id}))})})}),Qe=(0,D.Pi)(function(){var i=(0,v.Rk)(),n=i.answerSheet,t=n.filter(function(l){return l.finished}).length,r=n.filter(function(l){return!l.finished}).length,a=n.filter(function(l){return l.marked}).length;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"finished",children:["\u5DF2\u7B54",(0,e.jsx)("span",{style:{marginLeft:4},children:t})]}),(0,e.jsxs)("div",{className:"unFinished",children:["\u672A\u7B54",(0,e.jsx)("span",{style:{marginLeft:4},children:r})]}),(0,e.jsxs)("div",{className:"marked",children:[(0,e.jsx)(Xe,{size:18}),"\u6807\u8BB0",(0,e.jsx)("span",{style:{marginLeft:4},children:a})]})]})}),Ae=(0,D.Pi)(function(){var i=(0,v.Rk)(),n=i.props.answerSheetVisible,t=i.answerSheetVisible;return n?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginRight:12},onClick:function(){i.answerSheetVisible=!0},children:[(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,e.jsx)("path",{d:"M800 96c70.4 0 128 57.6 128 128v576c0 70.4-57.6 128-128 128H224c-70.4 0-128-57.6-128-128V224c0-70.4 57.6-128 128-128h576z m0 64H224c-35.2 0-60.8 25.6-64 60.8V800c0 35.2 25.6 60.8 60.8 64H800c35.2 0 60.8-25.6 64-60.8V224c0-35.2-25.6-60.8-60.8-64H800zM416 640c35.2 0 64 28.8 64 64s-28.8 64-64 64H288c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m320 0c35.2 0 64 28.8 64 64s-28.8 64-64 64h-128c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m-320-192c35.2 0 64 28.8 64 64s-28.8 64-64 64H288c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m320 0c35.2 0 64 28.8 64 64s-28.8 64-64 64h-128c-35.2 0-64-28.8-64-64s28.8-64 64-64h128zM416 256c35.2 0 64 28.8 64 64s-28.8 64-64 64H288c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m320 0c35.2 0 64 28.8 64 64s-28.8 64-64 64h-128c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z",fill:"#8c8c8c"})}),"\u7B54\u9898\u5361"]}),(0,e.jsx)(re.GI,{visible:t,onMaskClick:function(){i.answerSheetVisible=!1},className:"adm-answer-sheet",bodyStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px",overflowY:"auto"},children:(0,e.jsxs)("div",{className:"answer-sheet",children:[(0,e.jsxs)("div",{className:"answer-sheet-header",children:["\u7B54\u9898\u5361",(0,e.jsx)(vt,{})]}),(0,e.jsx)("div",{className:"answer-sheet-content",children:(0,e.jsx)(mt,{})}),(0,e.jsx)("div",{className:"answer-sheet-footer",children:(0,e.jsx)(Qe,{})})]})})]}):(0,e.jsx)(e.Fragment,{})}),Se=(0,D.Pi)(function(i){var n=(0,v.Rk)(),t=n.reviewAnswer[i.qId];return t&&!t.visible?(0,e.jsx)(R.Z,{block:!0,ghost:!0,className:"review-answer-btn",style:{marginTop:10},onClick:function(){t.visible=!0},children:"\u67E5\u770B\u7B54\u6848"}):(0,e.jsx)(e.Fragment,{})}),he=s(88983),Je=s(66253),qe=s(43061),ge=s(38819),et=s(91220),Re=s(15020);function Fe(i,n,t){if(!i)return"";var r=RegExp("_{3,}","g"),a=i.matchAll(r),l=[],u=(0,et.Z)(a),d;try{for(u.s();!(d=u.n()).done;){var c=d.value,f=c.index,m=c.index+c[0].length;l.push([f,m])}}catch(p){u.e(p)}finally{u.f()}for(var g=l[0][0]===0?"":i.substring(0,l[0][0]),x=function(j){var O,P,w=l[j],W=l[j+1];if(!w)return"break";var L=i.substring(w[0],w[1]),z=i.substring(w[1],W?W[0]:i.length),H=t?t[n[j].id]:"",ce=n[j];if(((O=ce.attribute)===null||O===void 0?void 0:O.dataType)==="select"){var q,ee;H=(q=ce.dataSource)===null||q===void 0||(ee=q.find(function(Ne){return Ne.value===H}))===null||ee===void 0?void 0:ee.label}else if(((P=ce.attribute)===null||P===void 0?void 0:P.dataType)==="selectDict"){var ae,fe;H=(ae=H)===null||ae===void 0||(fe=ae.split("|"))===null||fe===void 0?void 0:fe[1]}g+='<input data-id="'.concat(n[j].id,`" value='`).concat(H,`' class="horz-blank" style="width:`).concat(12*L.length,'px">'),g+=z},C=0;C<l.length;C++){var y=x(C);if(y==="break")break}return g}var De=(0,D.Pi)(function(i){var n=i.content,t=i.children,r=i.value,a=r===void 0?{}:r,l=i.onChange,u=i.onBlur,d=i.schema,c=(0,v.Rk)(),f=c.reviewAnswer[d.id];function m(g,x){var C,y;if(a[g]!==x){a[g]=x;var p=t.find(function(w){return w.id===g}),j=p==null||(C=p.attribute)===null||C===void 0?void 0:C.cascaderLevel,O=p==null||(y=p.attribute)===null||y===void 0?void 0:y.dictCode;O&&j&&t.filter(function(w){var W;return((W=w.attribute)===null||W===void 0?void 0:W.dictCode)===O&&w.attribute.cascaderLevel&&w.attribute.cascaderLevel>j}).forEach(function(w){delete a[w.id]}),(x===""||x===void 0)&&delete a[g];var P=(0,Z.Z)({},a);if(Object.keys(P).length!==0)return P}}return(0,e.jsx)("div",{className:"pe-view",onClick:function(x){x.preventDefault(),x.stopPropagation()},children:(0,Re.ZP)(Fe(n,t),{replace:function(x){var C=x.attribs;if(!!C){var y=C["data-id"];if(y){var p,j,O,P,w,W=(0,Re.e_)(C),L=t.findIndex(function(be){return be.id===y}),z=t[L],H=(p=t[L-1])===null||p===void 0?void 0:p.id,ce=a[H],q=(z==null||(j=z.attribute)===null||j===void 0?void 0:j.dataType)||"text",ee=z==null||(O=z.attribute)===null||O===void 0?void 0:O.dictCode,ae=z==null||(P=z.attribute)===null||P===void 0?void 0:P.dateTimeFormat,fe=(w=z.attribute)===null||w===void 0?void 0:w.cascaderLevel,Ne=f==null?void 0:f[y].isCorrect,we=pe()(W.className,{selected:f&&f.visible,"is-correct":f&&f.visible&&Ne});return(0,e.jsx)(ye,(0,Z.Z)((0,Z.Z)({type:q,value:a[y],parentValue:ce,cascaderLevel:fe,onChange:function(Ze){return l(m(y,Ze))},onBlur:function(Ze){return u(m(y,Ze))},dictCode:ee,dateTimeFormat:ae,schema:z,bordered:!1,icon:!1},W),{},{className:we}))}}}})})}),gt=(0,D.Pi)(function(i){var n=i.qId,t=i.schema,r=i.value,a=i.onChange,l=i.onBlur,u=t.id,d=t.title,c=t.attribute,f=c===void 0?{}:c,m=(0,v.Rk)(),g=m.reviewAnswer[n],x=g==null?void 0:g[u].selected,C=g==null?void 0:g[u].isCorrect,y=f.dataType;return g&&g.visible&&(x||C)?(0,e.jsxs)("label",{className:pe()("ant-radio-wrapper ant-radio-wrapper-in-form-item option-item",{selected:x,"is-correct":C}),onClick:function(){return i.onChange()},children:[(0,e.jsxs)("span",{children:[!C&&(0,e.jsx)(qe.Z,{style:{color:"#ff6d56",marginRight:10}}),C&&(0,e.jsx)(ge.Z,{style:{color:"#00bf6f",marginRight:10}})]}),(0,e.jsx)("div",{className:"option-label-wrap",children:(0,e.jsx)(b.Z,{html:d})})]}):(0,e.jsx)(Je.ZP,{value:u,className:"option-item",onClick:function(){return i.onChange(r)},children:y==="horzBlank"&&t.children?(0,e.jsx)(De,{schema:t,content:d,children:t.children,value:typeof r=="boolean"?{}:r,onBlur:l,onChange:a}):(0,e.jsx)(b.Z,{html:d})})}),jt=s(63185),ve=s(9676),Pt=s(36862),Ot=s(46533),At=(0,D.Pi)(function(i){var n=i.qId,t=i.schema,r=i.checked,a=i.onChange,l=i.value,u=i.onBlur,d=t.id,c=t.title,f=t.attribute,m=f===void 0?{}:f,g=(0,v.Rk)(),x=g.reviewAnswer[n],C=x==null?void 0:x[d].selected,y=x==null?void 0:x[d].isCorrect,p=m.dataType;return x&&x.visible&&(C||y)?(0,e.jsxs)("label",{className:pe()("ant-checkbox-wrapper ant-checkbox-wrapper-in-form-item option-item",{selected:C,"is-correct":y}),onClick:function(){return a(!r)},children:[(0,e.jsxs)("span",{children:[!y&&(0,e.jsx)(Pt.Z,{size:17,style:{color:"#ff6d56",marginRight:10,fontSize:17}}),y&&(0,e.jsx)(Ot.Z,{size:17,style:{color:"#00bf6f",marginRight:10,fontSize:17}})]}),(0,e.jsx)("div",{className:"option-label-wrap",children:(0,e.jsx)(b.Z,{html:c})})]}):(0,e.jsx)(ve.Z,{value:d,checked:r,onChange:function(O){return a(O.target.checked)},className:"option-item",children:p==="horzBlank"&&t.children?(0,e.jsx)(De,{schema:t,content:c,children:t.children,value:l,onBlur:u,onChange:function(O){return a(!0,O)}}):(0,e.jsx)(b.Z,{html:c})})}),xt=(0,D.Pi)(function(i){var n=i.schema,t=i.value,r=i.onChange,a=i.qId,l=(0,v.AK)("-body-question"),u=n.id,d=n.attribute,c=n.title,f=d==null?void 0:d.suffix,m=d==null?void 0:d.dataType,g=d==null?void 0:d.readOnly,x=(0,v.Rk)(),C=x.reviewAnswer[a],y=C==null?void 0:C[u].isCorrect;return C&&C.visible?(0,e.jsxs)("span",{style:{position:"relative",width:"100%"},children:[!y&&(0,e.jsx)(qe.Z,{style:{color:"#ff6d56",marginRight:10,position:"absolute",left:4,top:3,zIndex:1}}),y&&(0,e.jsx)(ge.Z,{style:{color:"#00bf6f",marginRight:10,position:"absolute",left:4,top:3,zIndex:1}}),(0,e.jsx)(ye,{type:m,value:t[u],className:pe()("selected",{"is-correct":y}),onChange:function(j){return r(j)},style:{paddingLeft:20},schema:n,suffix:f&&(0,e.jsx)("span",{className:l+"-option-suffix",children:(0,e.jsx)(b.Z,{html:f})})})]}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ye,{type:m,value:t[u],onChange:function(j){return r(j)},readOnly:g,schema:n,suffix:f&&(0,e.jsx)("span",{className:l+"-option-suffix",children:(0,e.jsx)(b.Z,{html:f})})})})}),Nt=(0,D.Pi)(function(i){var n,t,r=i.qId,a=i.schema,l=(0,v.Rk)(),u=l.reviewAnswer[r],d=(n=a.children)===null||n===void 0?void 0:n.map(function(g){var x;return(x=g.attribute)===null||x===void 0?void 0:x.examCorrectAnswer}).filter(function(g){return g}).join(";"),c=d&&["FillBlank","MultipleBlank","Textarea"].includes(a.type),f=function(){return c?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"answer-analysis-title",children:"\u6B63\u786E\u7B54\u6848\uFF1A"}),(0,e.jsx)("div",{className:"answer-analysis-content",style:{marginBottom:10},children:d})]}):(0,e.jsx)(e.Fragment,{})},m=function(){var x;if((x=a.attribute)!==null&&x!==void 0&&x.examAnalysis){var C;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"answer-analysis-title",children:"\u7B54\u6848\u89E3\u6790\uFF1A"}),(0,e.jsx)("div",{className:"answer-analysis-content",children:(0,e.jsx)(b.Z,{html:(C=a.attribute)===null||C===void 0?void 0:C.examAnalysis})})]})}return(0,e.jsx)(e.Fragment,{})};return u&&u.visible&&((t=a.attribute)!==null&&t!==void 0&&t.examAnalysis||c)?(0,e.jsxs)("div",{className:"answer-analysis",children:[f(),m()]}):(0,e.jsx)(e.Fragment,{})}),It=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,e.jsx)("path",{d:"M839 73.9c-1.2-2.4-3.7-9.8-7.4-9.8s-11.1 8.6-13.5 12.3l-13.5 12.3c-7.4-6.1-35.6-23.4-43-23.4-11.1 0-104.6 113.2-118.1 129.1l-60.2 68.8-30.7 38.1-43.1-83.6-50.4-100.8c-4.9-9.8-8.6-22.1-22.1-22.1-7.3 0-9.8 3.6-13.5 9.8-3.7 4.9-3.7 4.9-11.1 8.6-8.6 0-12.3 0-19.7 6.2-6.2-4.9-11.1-11.1-19.7-11.1-3.7 0-6.2 1.2-8.6 3.6l-8.6 7.4c-4.8 6.1-15.9 17.2-15.9 25.8 0 11 9.8 31.9 13.5 41.8l90.9 250.8-14.7 17.3c-66.4 79.8-159.8 190.5-210.2 279l-29.5 50.4c-8.6 14.7-29.5 44.3-29.5 60.2 0 3.7 3.8 6.2 6.2 8.6 8.6 7.3 3.6 14.7 1.2 24.5-2.5 7.4-3.7 12.3-3.7 19.7 0 13.5 11.1 27 18.5 38.1 7.3 12.2 9.9 24.5 25.8 24.5 17.2 0 49.2-3.6 63.9-14.7l243.4-377.5 115.6 178.5c6.1 9.8 30.7 54.1 46.7 54.1 14.8 0 38.1-16.1 40.6-30.8-2.6-4.9-6.2-12.3-6.2-17.2 0-7.5 19.7-14.9 24.6-19.7v-9.9c8.6-3.7 13.5-8.6 17.2-17.2l-95.9-205.3-38.2-76.3 13.6-19.7 174.6-225.9c11-14.8 28.3-38.1 41.8-50.4 4.9-5 13.5-12.3 13.5-19.7 0-8.6-19.7-22.1-24.6-34.4z","p-id":"14396",fill:"#fe6c56"})}),kt=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,e.jsx)("path",{d:"M389.7 604.3L198.2 447.4c-3.7-3-9.1-3-12.8 0.1l-73.3 61.4c-4.4 3.7-4.8 10.3-0.9 14.5l324.1 344.3c5 5.3 13.8 3.6 16.6-3.1 64.4-160.1 244.3-452.8 463.2-664.7 3-2.9 3.9-7.2 2.3-11l-13.7-33c-2.4-5.8-9.5-8-14.7-4.5-243.2 157.7-419.4 353.5-499.3 452.9z",fill:"#fe6c56","p-id":"4913"})}),Bt=(0,D.Pi)(function(i){var n=i.schema,t=i.seqNo,r=(0,v.Rk)(),a=r.props.correctAnswerVisible,l=r.props.questionScore;return!a||!l?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)("div",{className:"exam-score-info",children:[(0,e.jsxs)("span",{children:["\u7B2C",t,"\u9898"]}),l[n.id]?(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsxs)("span",{className:"score",children:["\u5F97\u5206:",l[n.id],"\u5206"]}),kt]}):It]})}),Tt=(0,D.Pi)(function(i){var n,t=i.schema,r=i.title,a=i.onBlur,l=i.onChange,u=t.type,d=((n=t.children)===null||n===void 0?void 0:n.filter(function(m){var g;return(g=m.attribute)===null||g===void 0?void 0:g.fieldInTitle}))||[],c=(0,D.U$)(),f=c.value;return u!=="HorzBlank"||d.length===0?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(b.Z,{html:r})}):(0,e.jsx)(De,{schema:t,children:d,content:r,onChange:l,onBlur:a,value:f})});function Rt(i){var n,t=i.schema,r=i.index,a=i.qsIndex,l=i.required,u=i.error,d=i.replaceTitle,c=i.seqNo,f=i.onBlur,m=i.onChange,g=i.onFocus,x=(0,o.useContext)(N.ZX),C=x.questionNumber,y=x.requiredVisible,p=(0,v.AK)("-body-question"),j=(0,o.useState)(),O=(0,M.Z)(j,2),P=O[0],w=O[1],W=(0,v.Rk)(),L=(n=W.answerSheet.find(function(q){return q.id===t.id}))===null||n===void 0?void 0:n.marked,z=t.description;(0,o.useEffect)(function(){if(P){var q,ee;(q=document.querySelector("[data-id='".concat(t.id,"']")))===null||q===void 0||q.classList.remove("ant-form-item-has-error"),(ee=document.querySelector("[data-id='".concat(t.id,"']")))===null||ee===void 0||ee.querySelectorAll("[data-id]").forEach(function(rt){rt.classList.remove("ant-form-item-has-error")})}if(u.length>0){var ae,fe=u[0].split("^"),Ne=(0,M.Z)(fe,2),we=Ne[0],be=Ne[1],Ze;be?(Ze=document.querySelector("[data-id='".concat(we,"']")),w(be)):(Ze=document.querySelector("[data-id='".concat(t.id,"']")),w(we)),(ae=Ze)===null||ae===void 0||ae.classList.add("ant-form-item-has-error")}else P&&w(void 0)},[u]);var H="";a!==void 0&&(H+=a+1+"-"),r!==void 0&&(H+=r+1+".");var ce=function(){return P?(0,e.jsx)("span",{className:"question-tag error animated",children:(0,e.jsx)("span",{children:P})}):(0,e.jsx)(e.Fragment,{})};return(0,e.jsxs)("div",{className:p,children:[(0,e.jsx)(Bt,{schema:t,seqNo:c}),(0,e.jsxs)(A.Z.Item,{label:(0,e.jsxs)("h2",{className:p+"-header",children:[l&&(0,e.jsx)("span",{className:"question-required",children:"*"}),C?(0,e.jsx)("span",{className:"question-seq",children:c||H}):"",(0,e.jsx)(Tt,{schema:t,title:d||t.title,onBlur:f,onChange:m,onFocus:g}),ce(),z&&(0,e.jsx)("div",{className:"question-desc",children:(0,e.jsx)(b.Z,{html:z})})]}),labelCol:{span:24},wrapperCol:{span:24},children:[i.children,(0,e.jsx)(Se,{qId:t.id}),(0,e.jsx)(Nt,{qId:t.id,schema:t})]})]})}(0,h.eC)("Question",(0,D.Pi)(Rt),"antdMobile");function Ft(i){var n=i.schema,t=i.index,r=i.seqNo,a=(0,v.AK)("-body-questionSet"),l=(0,o.useContext)(N.ZX),u=l.questionNumber;return(0,e.jsxs)("div",{className:a,children:[(0,e.jsxs)("div",{className:a+"-title",children:[u?r||"".concat(t+1,"."):"",(0,e.jsx)(b.Z,{html:n.title})]}),i.children,(0,e.jsx)("div",{className:a+"-splitLine"})]})}(0,h.eC)("QuestionSet",Ft,"antdMobile");var Pn=s(84305),Lt=s(88182),_t=s(82925),zt=s(3024),Ht=(0,D.Pi)(function(){var i=(0,o.useContext)(N.ZX),n=i.progressBar,t=(0,v.AK)(),r=(0,v.Rk)(),a=r.progress;return n?(0,e.jsx)(zt.Z,{enabled:!0,top:0,innerActiveClass:"fixed",children:(0,e.jsx)("div",{className:t+"-progress",children:(0,e.jsx)("div",{className:"progress-bar s-prog-wait",children:(0,e.jsx)("div",{className:"progress-done  s-prog-done",style:{width:"".concat(a*100,"%")}})})})}):(0,e.jsx)(e.Fragment,{})});function Wt(i){var n=i.headerVisible,t=i.footerVisible,r=i.schema,a=(0,v.AK)(),l=(0,v.Al)(),u=function(){var c,f=(c=r.attribute)===null||c===void 0?void 0:c.headerImage;if(f)return(0,e.jsx)("img",{src:"/api/public/preview/".concat(f),style:{maxWidth:"100%"}})};return(0,e.jsxs)("div",{className:pe()(a,{preview:l.isPreview}),children:[(0,e.jsx)(Ht,{}),(0,e.jsx)("div",{className:a+"-banner",children:u()}),n&&(0,e.jsx)(I,{}),(0,e.jsx)(Lt.ZP,{locale:_t.Z,children:(0,e.jsx)(k,{children:i.children})}),t&&(0,e.jsx)(F,{}),(0,e.jsx)(Ae,{})]})}(0,h.eC)("Survey",Wt,"antdMobile");var On=s(13062),xe=s(71230),An=s(89032),de=s(15746),se=s(32059);function $t(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children;function u(d,c){t((0,se.Z)({},c,d))}return(0,e.jsx)("div",{children:l==null?void 0:l.map(function(d){var c=d.id,f=d.title,m=d.attribute,g=m===void 0?{}:m,x=g.mapMove;return(0,e.jsxs)(xe.Z,{gutter:[10,0],"data-id":c,children:[f&&(0,e.jsx)(de.Z,{span:24},d.id),(0,e.jsx)(de.Z,{span:24,children:(0,e.jsx)(Ee,{optionId:c,onChange:function(y){return u(y,c)},value:a[c],mapMove:x})})]},c)})})}(0,h.RM)("Address",$t,"antdMobile");var Nn=s(43185),tt=s(32620),In=s(34792),bt=s(48086),nt=s(39428),Et=s(3182),Kt=s(81473);function Ut(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=i.readOnly,u=n.children,d=u===void 0?[]:u,c=(0,v.Al)(),f=function(){var m=(0,Et.Z)((0,nt.Z)().mark(function g(x){var C,y,p,j;return(0,nt.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:C=x.onSuccess,y=x.onError,p=x.file,j=x.onProgress,c.onUpload&&c.onUpload({file:p,fileType:6},function(w){j&&j({percent:w.loaded/w.total*100})}).then(function(w){if(w.success&&C&&(C(w.data),w.data.content&&t((0,se.Z)({},d[0].id,w.data.content))),!w.success&&y){var W=new Error("Some error");y({event:W})}});case 2:case"end":return P.stop()}},g)}));return function(x){return m.apply(this,arguments)}}();return(0,e.jsx)("div",{children:d==null?void 0:d.map(function(m){var g=m.id,x=m.attribute,C=x===void 0?{}:x,y=C.cameraOnly;return(0,e.jsx)(Y.Z,{placeholder:"\u70B9\u51FB\u8BC6\u522B\u6761\u7801",value:a[g],addonAfter:(0,e.jsx)(tt.Z,{capture:y?"environment":void 0,disabled:l,maxCount:1,accept:"image/*",beforeUpload:function(j){return C!=null&&C.maxFileSize&&j.size>C.maxFileSize*1024*1024?(bt.default.error("\u6700\u5927\u53EA\u80FD\u4E0A\u4F20 ".concat(C.maxFileSize,"M \u5927\u5C0F\u7684\u6587\u4EF6")),tt.Z.LIST_IGNORE):!0},customRequest:f,showUploadList:!1,children:(0,e.jsx)(Kt.Z,{})},g)})})})}(0,h.RM)("Barcode",Ut,"antdMobile");function yt(i,n){var t;return((t=i.children)===null||t===void 0?void 0:t.reduce(function(r,a,l){if(l===0)r.push(i.dataSource||[]);else{var u=i.children[l-1].id,d=n[u];if(d){var c;r.push(((c=r.slice(-1)[0].find(function(f){return f.value===d}))===null||c===void 0?void 0:c.children)||[])}}return r},[]))||[]}function Vt(i){var n,t=i.schema,r=i.onChange,a=i.value,l=a===void 0?{}:a,u=(0,o.useState)(i.value||{}),d=(0,M.Z)(u,2),c=d[0],f=d[1],m=(0,o.useState)(yt(t,l)),g=(0,M.Z)(m,2),x=g[0],C=g[1];(0,o.useEffect)(function(){if(Object.keys(c).length>0){var p=yt(t,c);C(p)}},[c,t]);var y=function(j,O,P){var w,W={};(w=t.children)===null||w===void 0||w.forEach(function(L,z){P>z?W[L.id]=c[L.id]:P===z&&(W[j]=O)}),f(W),yt(t,W).filter(function(L){return L.length>0}).length===Object.values(W).filter(function(L){return L&&L!=="\u8BF7\u9009\u62E9"}).length?r(W):r(void 0)};return(0,e.jsx)(xe.Z,{gutter:[10,10],children:(n=t.children)===null||n===void 0?void 0:n.map(function(p,j){return(0,e.jsx)(de.Z,{span:24,children:(0,e.jsx)(Pe,{options:x[j]||[],value:c[p.id]||"",onChange:function(P){return y(p.id,P,j)}},p.id)},p.id)})})}(0,h.RM)("Cascader",Vt,"antdMobile");function Yt(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=i.onBlur,u=n.children,d=n.attribute,c=24/((d==null?void 0:d.columns)||1),f=(0,v.AK)("-body-question"),m=!!(d!=null&&d.statEnabled);function g(x,C,y){C?a[x]=y||!0:delete a[x],t((0,Z.Z)({},a))}return(0,o.useEffect)(function(){u==null||u.forEach(function(x){var C;(C=x.attribute)!==null&&C!==void 0&&C.defaultChecked&&Object.keys(a).length===0&&t((0,se.Z)({},x.id,!0))})},[]),(0,e.jsx)("div",{children:(0,e.jsx)(xe.Z,{children:u==null?void 0:u.map(function(x){var C,y,p,j=x.id,O=(C=x.attribute)===null||C===void 0?void 0:C.dataType,P=(y=x.attribute)===null||y===void 0?void 0:y.suffix,w=(p=x.attribute)===null||p===void 0?void 0:p.readOnly;return(0,e.jsxs)(de.Z,{span:c,className:f+"-option","data-id":j,children:[(0,e.jsx)(At,{qId:n.id,schema:x,checked:a.hasOwnProperty(j),onChange:function(L){return g(j,L)},value:typeof a[j]=="boolean"?{}:a[j],onBlur:l}),m&&(0,e.jsx)(ue,{checked:!!a[j],optionId:j,questionId:n.id,checkedCount:Object.keys(a).length}),O&&(0,e.jsx)(ye,{value:typeof a[j]=="boolean"?"":a[j],style:{maxWidth:200},type:O,readOnly:w,onChange:function(L){return g(j,!0,L)},suffix:P&&(0,e.jsx)("span",{className:f+"-option-suffix",children:(0,e.jsx)(E.hl,{html:P})})})]},j)})})})}(0,h.RM)("Checkbox",Yt,"antdMobile");var kn=s(62999),Jt=s(54680),at=s(3980),Gt=s(60780),Xt=s.n(Gt);function Qt(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children,u=l===void 0?[]:l,d=u[0].id,c=(0,o.useState)([]),f=(0,M.Z)(c,2),m=f[0],g=f[1];function x(y){d&&((y==null?void 0:y.length)===0?t(void 0):t((0,se.Z)({},d,y==null?void 0:y.map(function(p){return p.value}))))}var C=(0,o.useMemo)(function(){return Xt()(m.map(function(y){return{title:y.name,key:y.id,value:y.id,parentId:y.parentId}}),{parentProperty:"parentId",customID:"key"})},[m]);return(0,o.useEffect)(function(){at.hi.selectDept({}).then(function(y){y.success&&g(y.data)})},[]),(0,e.jsx)(xe.Z,{children:(0,e.jsx)(de.Z,{span:24,children:(0,e.jsx)(Jt.Z,{style:{width:"100%"},treeCheckable:!0,value:(a[d]||[]).map(function(y){return{value:y}}),treeCheckStrictly:!0,showSearch:!1,showCheckedStrategy:"SHOW_ALL",dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:C,placeholder:"\u8BF7\u9009\u62E9",treeDefaultExpandAll:!0,onChange:x})})})}(0,h.RM)("Dept",Qt,"antdMobile");function St(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children,u=(0,v.AK)("-body-question");function d(c,f){a[c]=f,f===""&&delete a[c],t((0,Z.Z)({},a))}return(0,e.jsx)("div",{children:l==null?void 0:l.map(function(c){var f=c.id,m=c.attribute,g=c.title;return(0,e.jsxs)(xe.Z,{gutter:[10,0],"data-id":f,children:[g&&(0,e.jsx)(de.Z,{span:24,children:c.title&&(0,e.jsx)("span",{className:u+"-option-title",children:(0,e.jsx)(b.Z,{html:c.title})})},c.id),(0,e.jsx)(de.Z,{span:24,children:(0,e.jsx)(xt,{qId:n.id,schema:c,value:a,onChange:function(C){return d(f,C)}})})]},f)})})}(0,h.RM)("FillBlank",St,"antdMobile"),(0,h.RM)("MultipleBlank",St,"antdMobile");function Mt(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=i.onBlur,u=n.children,d=n.attribute,c=d===void 0?{}:d,f=c.content;return!f||!u?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)(De,{schema:n,children:u.filter(function(m){var g;return!((g=m.attribute)!==null&&g!==void 0&&g.fieldInTitle)}),content:f,onBlur:l,onChange:t,value:a})}Mt.Preview=function(i){var n=i.schema,t=i.value,r=n.children,a=n.attribute,l=a===void 0?{}:a,u=l.content;return(0,e.jsx)("div",{className:"preview",children:(0,e.jsx)("div",{children:(0,e.jsx)(b.Z,{html:Fe(u,r,t),replaceP:!1})})})},(0,h.RM)("HorzBlank",Mt,"antdMobile");var Ct=s(83279),qt=s(54121),en=s(49101);function tn(i){var n=i.schema,t=i.onChange,r=i.value||[{}],a=n.children,l=a===void 0?[]:a,u=n.row,d=u===void 0?[]:u;return(0,e.jsxs)("div",{className:"",children:[r.map(function(c,f){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:f+1}),(0,e.jsxs)("div",{className:"question-item",style:{background:"#f7f8fa",borderRadius:4,padding:8,position:"relative"},children:[l.map(function(m){return(0,e.jsxs)("div",{className:"option-box",style:{marginBottom:10},children:[(0,e.jsx)("div",{style:{color:"#aaa",fontSize:12,marginBottom:5},children:(0,e.jsx)(b.Z,{html:m.title})}),(0,e.jsx)(xt,{qId:n.id,schema:m,value:c,onChange:function(x){c[m.id]=x,t((0,Ct.Z)(r))}})]},m.id)}),r.length>1&&(0,e.jsx)(qt.Z,{onClick:function(){r.splice(f,1),t((0,Ct.Z)(r))},style:{position:"absolute",top:-5,right:-5,color:"#ff4d4f"}})]})]},f)}),(0,e.jsx)("div",{children:(0,e.jsx)(R.Z,{block:!0,icon:(0,e.jsx)(en.Z,{}),type:"dashed",onClick:function(){r.push({}),t((0,Ct.Z)(r))},children:"\u7EE7\u7EED\u586B\u5199"})})]})}(0,h.RM)("MatrixAuto",tn,"antdMobile");function nn(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children,u=l===void 0?[]:l,d=n.row,c=d===void 0?[]:d;return(0,e.jsx)("div",{className:"",children:c==null?void 0:c.map(function(f){var m=Object.keys(a[f.id]||{});return(0,e.jsxs)("div",{className:"question-item",children:[(0,e.jsx)("h3",{className:"question-sub-title",children:(0,e.jsx)(b.Z,{html:f.title})}),(0,e.jsx)("div",{className:"checkbtn-group",children:(0,e.jsx)(re.Qf,{multiple:!0,value:m,options:u.map(function(g){return{label:g.title,value:g.id}}),onChange:function(x,C){t((0,Z.Z)((0,Z.Z)({},a),{},(0,se.Z)({},f.id,x.reduce(function(y,p){return y[p]=!0,y},{}))))}})})]},f.id)})})}(0,h.RM)("MatrixCheckbox",nn,"antdMobile");function an(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children,u=l===void 0?[]:l,d=n.row,c=d===void 0?[]:d;return(0,e.jsx)("div",{className:"",children:c==null?void 0:c.map(function(f){return(0,e.jsxs)("div",{className:"question-item",children:[(0,e.jsx)("h3",{className:"question-sub-title",children:(0,e.jsx)(b.Z,{html:f.title})}),(0,e.jsx)("div",{className:"fillBlank-group",children:u.map(function(m){var g=a[f.id]||{};return(0,e.jsxs)("div",{className:"option-box",style:{marginBottom:10},children:[(0,e.jsx)("div",{style:{color:"#aaa",fontSize:12,marginBottom:5},children:(0,e.jsx)(b.Z,{html:m.title})}),(0,e.jsx)(xt,{qId:n.id,schema:m,value:g,onChange:function(C){var y=a[f.id]||{};t((0,Z.Z)((0,Z.Z)({},a),{},(0,se.Z)({},f.id,(0,Z.Z)((0,Z.Z)({},y),{},(0,se.Z)({},m.id,C)))))}})]},m.id)})})]},f.id)})})}(0,h.RM)("MatrixFillBlank",an,"antdMobile");function rn(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children,u=l===void 0?[]:l,d=n.row,c=d===void 0?[]:d;return(0,e.jsx)("div",{className:"",children:c==null?void 0:c.map(function(f){var m=Object.keys(a[f.id]||{})[0];return(0,e.jsxs)("div",{className:"question-item",children:[(0,e.jsx)("h3",{className:"question-sub-title",children:(0,e.jsx)(b.Z,{html:f.title})}),(0,e.jsx)("div",{className:"checkbtn-group",children:(0,e.jsx)(re.Qf,{value:m?[m]:void 0,options:u.map(function(g){return{label:g.title,value:g.id}}),onChange:function(x,C){t((0,Z.Z)((0,Z.Z)({},a),{},(0,se.Z)({},f.id,(0,se.Z)({},x[0],!0))))}})})]},f.id)})})}(0,h.RM)("MatrixRadio",rn,"antdMobile");function sn(i){for(var n=[],t=2;t<i+2;t++)n.push(t/(i+2));return n}function ln(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=[],a=i;a<=n;a++)r.push(a);return t&&r.reverse(),r}function on(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children,u=l===void 0?[]:l;function d(f,m){t((0,se.Z)({},f,m))}var c=function(m){var g=m.id,x=a[g],C=sn(x||0),y=m.attribute||{},p=y.scope,j=p===void 0?"[0,10]":p,O=y.npsInvertSort,P=y.npsStart,w=P===void 0?"\u4E0D\u53EF\u80FD":P,W=y.npsEnd,L=W===void 0?"\u6781\u6709\u53EF\u80FD":W,z=j.replace("[","").replace("]","").split(","),H=(0,M.Z)(z,2),ce=H[0],q=H[1];return(0,e.jsxs)("div",{className:"nps",children:[(0,e.jsx)("div",{className:"nps-container",children:ln(parseInt(ce),parseInt(q),O).map(function(ee){var ae={background:"#2672ff",opacity:C[ee]};return(0,e.jsx)("div",{className:"nps-item",style:x>=ee?ae:void 0,onClick:function(){return d(g,ee)},children:ee},ee)})}),(0,e.jsxs)("div",{className:"nps-tip",children:[(0,e.jsx)("div",{children:O?L:w}),(0,e.jsx)("div",{children:O?w:L})]})]},g)};return(0,e.jsx)(xe.Z,{children:u.map(function(f){return c(f)})})}(0,h.RM)("Nps",on,"antdMobile");var cn=Je.ZP.Group;function dn(i){var n,t=i.schema,r=i.onChange,a=i.value,l=a===void 0?{}:a,u=t.children,d=(0,v.AK)("-body-question"),c=!!((n=t.attribute)!==null&&n!==void 0&&n.statEnabled);function f(m,g){r((0,se.Z)({},m,g||!0))}return(0,o.useEffect)(function(){var m;(m=t.children)===null||m===void 0||m.forEach(function(g){var x,C=g.id,y=g.title,p=g.attribute,j=p==null?void 0:p.dataType;(x=g.attribute)!==null&&x!==void 0&&x.defaultChecked&&Object.keys(l).length===0&&r((0,se.Z)({},C,j?l[C]:y))})},[]),(0,e.jsx)("div",{children:(0,e.jsx)(cn,{onChange:function(g){},value:Object.keys(l)[0],style:{width:"100%"},children:(0,e.jsx)(xe.Z,{children:u==null?void 0:u.map(function(m){var g,x,C,y=m.id,p=(g=m.attribute)===null||g===void 0?void 0:g.dataType,j=(x=m.attribute)===null||x===void 0?void 0:x.suffix,O=(C=m.attribute)===null||C===void 0?void 0:C.readOnly;return(0,e.jsxs)(de.Z,{span:24,className:d+"-option","data-id":y,children:[(0,e.jsx)(gt,{qId:t.id,schema:m,value:l[y],onChange:function(w){return f(y,w)},onBlur:function(w){}}),c&&(0,e.jsx)(ue,{checked:!!l[y],optionId:y,questionId:t.id,checkedCount:Object.keys(l).length}),p&&(0,e.jsx)(ye,{value:l[y]===!0?"":l[y],type:p,style:{maxWidth:200},onChange:function(w){return f(y,w)},readOnly:O,suffix:j&&(0,e.jsx)("span",{className:d+"-option-suffix",children:(0,e.jsx)(b.Z,{html:j})})})]},y)})})})})}(0,h.RM)("Radio",dn,"antdMobile");function un(i){var n=(0,v.AK)("-body-question");return(0,e.jsx)("div",{className:n,children:(0,e.jsx)(E.hl,{html:"".concat(i.replaceTitle||i.schema.title||"")})})}(0,h.RM)("Remark",un,"antdMobile");var Bn=s(70811);function Tn(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=i.onBlur,u=n.children,d=usePrefix("-body-question"),c=useState(a[n.children[0].id]),f=_slicedToArray(c,2),m=f[0],g=f[1],x=useCallback(function(C,y){t(_defineProperty({},C,y))},[]);return _jsx("div",{children:u==null?void 0:u.map(function(C){var y=C.id;return _jsx(FullEditor,{value:m,onChange:function(j){return x(y,j)}},C.id)})})}var Rn=null,Fn=s(96433),pt=s(2864),Dt=s(41687),hn=s(46870),wt=s(18613),vn=s(57206),fn={1:(0,e.jsx)(Dt.Z,{}),2:(0,e.jsx)(Dt.Z,{}),3:(0,e.jsx)(hn.Z,{}),4:(0,e.jsx)(wt.Z,{}),5:(0,e.jsx)(wt.Z,{})};function mn(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children,u=l===void 0?[]:l;function d(f,m){t((0,se.Z)({},f,m))}var c=function(m){var g=m.attribute||{},x=m.id,C=g.scope,y=C===void 0?"[0,5]":C,p=g.scoreStyle,j=y.replace("[","").replace("]","").split(","),O=(0,M.Z)(j,2),P=O[0],w=O[1];return p==="heart"?(0,e.jsx)(pt.Z,{defaultValue:parseInt(P),character:(0,e.jsx)(vn.Z,{}),style:{color:"#ea7463"},count:parseInt(w),onChange:function(L){return d(x,L)}},x):p==="smile"?(0,e.jsx)(pt.Z,{defaultValue:parseInt(P),character:function(L){var z=L.index;return fn[z+1]},count:parseInt(w),onChange:function(L){return d(x,L)}},x):(0,e.jsx)(pt.Z,{defaultValue:parseInt(P),count:parseInt(w),onChange:function(L){return d(x,L)}},x)};return(0,e.jsx)(xe.Z,{children:u.map(function(f){return c(f)})})}(0,h.RM)("Score",mn,"antdMobile");function gn(i){var n,t=i.schema,r=i.onChange,a=i.value,l=a===void 0?{}:a;function u(d){var c,f=(c=t.children)===null||c===void 0?void 0:c.find(function(m){return m.id===d});f&&r((0,se.Z)({},d,!0))}return(0,o.useEffect)(function(){var d;(d=t.children)===null||d===void 0||d.forEach(function(c){var f,m=c.id;(f=c.attribute)!==null&&f!==void 0&&f.defaultChecked&&Object.keys(l).length===0&&r((0,se.Z)({},m,!0))})},[]),(0,e.jsx)(xe.Z,{children:(0,e.jsx)(de.Z,{span:24,children:(0,e.jsx)(Pe,{value:Object.keys(l)[0],onChange:u,options:((n=t.children)===null||n===void 0?void 0:n.map(function(d){return{label:d.title,value:d.id}}))||[]})})})}(0,h.RM)("Select",gn,"antdMobile");var Ln=s(34669),xn=s(82833);function yn(i){var n=i.schema,t=i.onChange,r=n.children,a=(0,v.Al)(),l=(0,o.useState)(0),u=(0,M.Z)(l,2),d=u[0],c=u[1];function f(m,g){var x="signature-".concat(g,"-").concat((0,N.kb)(6),".png");if(!a.onUpload){t((0,se.Z)({},g,[x]));return}fetch(m).then(function(C){return C.blob()}).then(function(C){var y=new File([C],x,{type:"image/png"});a.onUpload({file:y},function(p){c(p.loaded/p.total*100)}).then(function(p){p.success&&p.data.id&&t((0,se.Z)({},g,[p.data.id]))})})}return(0,e.jsx)("div",{children:r==null?void 0:r.map(function(m){var g=m.id,x=m.title;return(0,e.jsxs)(xe.Z,{gutter:[10,0],"data-id":g,children:[x&&(0,e.jsx)(de.Z,{span:24},m.id),(0,e.jsxs)(de.Z,{span:24,children:[(0,e.jsx)(Be,{onChange:function(y){return f(y,g)}}),d>0&&d!==100&&(0,e.jsx)(xn.Z,{percent:d,size:"small",showInfo:!1})]})]},g)})})}(0,h.RM)("Signature",yn,"antdMobile");var _n=s(48736),Zt=s(27049);function Cn(i){var n=(0,v.AK)("-body-question");return(0,e.jsx)("div",{className:n,children:(0,e.jsx)(Zt.Z,{plain:!0})})}(0,h.RM)("SplitLine",Cn,"antdMobile");function pn(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children,u=(0,v.AK)("-body-question");function d(c,f){a[c]=f,f===""&&delete a[c],t((0,Z.Z)({},a))}return(0,e.jsx)("div",{children:l==null?void 0:l.map(function(c){var f=c.id,m=c.attribute,g=c.title,x=(0,N.Ck)(m==null?void 0:m.autoSize,[2,4]);return(0,e.jsxs)(xe.Z,{style:{marginBottom:10},"data-id":f,children:[g&&(0,e.jsx)(de.Z,{className:u+"-option",span:4,children:c.title&&(0,e.jsx)("span",{className:u+"-option-title",children:c.title})},c.id),(0,e.jsx)(de.Z,{span:24,children:(0,e.jsx)(Y.Z.TextArea,{autoSize:{minRows:x[1],maxRows:x[2]},value:a[f]||"",onChange:function(y){return d(f,y.target.value)}})})]},f)})})}(0,h.RM)("Textarea",pn,"antdMobile");var jn=s(43347),bn=tt.Z.Dragger;function En(i){var n=i.schema,t=i.onChange,r=i.value,a=i.readOnly,l=n.children,u=(0,v.Al)(),d=(0,o.useState)(),c=(0,M.Z)(d,2),f=c[0],m=c[1];(0,o.useEffect)(function(){var C=n.children[0].id,y=r&&r[C]||[];f==null&&y.length>0&&at.hi.loadFiles({ids:y}).then(function(p){m(p==null?void 0:p.map(function(j){return{name:j.originalName,uid:j.id,status:"done"}}))})},[r]);var g=function(){var C=(0,Et.Z)((0,nt.Z)().mark(function y(p){var j,O,P,w;return(0,nt.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:j=p.onSuccess,O=p.onError,P=p.file,w=p.onProgress,u.onUpload&&u.onUpload({file:P},function(z){w&&w({percent:z.loaded/z.total*100})}).then(function(z){if(z.success&&j&&j(z.data),!z.success&&O){var H=new Error("Some error");O({event:H})}});case 2:case"end":return L.stop()}},y)}));return function(p){return C.apply(this,arguments)}}(),x=function(y,p){if(m(y.fileList),(y.file.status==="removed"||y.file.status==="done")&&!y.fileList.find(function(O){return O.status!=="done"})){var j=y.fileList.filter(function(O){return O.status==="done"}).map(function(O){var P;return((P=O.response)===null||P===void 0?void 0:P.id)||O.uid});j.length===0?t(void 0):t((0,se.Z)({},p,j))}};return(0,e.jsx)("div",{children:l==null?void 0:l.map(function(C){var y=C.id,p=C.attribute,j=p===void 0?{}:p,O=[],P=j.maxFileCount,w=j.maxFileSize,W=j.fileAccept,L=j.cameraOnly;return P&&O.push("\u6700\u591A\u4E0A\u4F20".concat(P,"\u4E2A")),w&&O.push("\u9650\u5236\u6BCF\u4E2A\u6587\u4EF6".concat(w,"M\u4EE5\u5185")),W&&O.push("\u4EC5\u652F\u6301\u6587\u4EF6\u7C7B\u578B\uFF1A".concat(W)),(0,e.jsxs)(bn,{multiple:!0,capture:L?"environment":void 0,disabled:a,maxCount:(j==null?void 0:j.maxFileCount)||20,accept:L?"image/*":void 0,beforeUpload:function(H){return j!=null&&j.maxFileSize&&H.size>j.maxFileSize*1024*1024?(bt.default.error("\u6700\u5927\u53EA\u80FD\u4E0A\u4F20 ".concat(j.maxFileSize,"M \u5927\u5C0F\u7684\u6587\u4EF6")),tt.Z.LIST_IGNORE):!0},customRequest:g,onChange:function(H){return x(H,y)},fileList:f,children:[(0,e.jsx)("p",{className:"ant-upload-drag-icon",children:(0,e.jsx)(jn.Z,{})}),(0,e.jsx)("p",{className:"ant-upload-text",children:"\u9009\u62E9\u6216\u62D6\u62FD\u4E0A\u4F20\u6587\u4EF6"}),(0,e.jsx)("p",{className:"ant-upload-hint",children:O.join(",")})]},y)})})}(0,h.RM)("Upload",En,"antdMobile");var Sn=s(55686),Mn=G.Z.Option;function Dn(i){var n=i.schema,t=i.onChange,r=i.value,a=r===void 0?{}:r,l=n.children,u=l===void 0?[]:l,d=u[0].id,c=(0,o.useState)([]),f=(0,M.Z)(c,2),m=f[0],g=f[1];function x(p){d&&t((0,se.Z)({},d,p))}var C=(0,at.zE)(function(p){at.hi.userSelect({name:p,selected:a[d]||[]}).then(function(j){j.success&&g(j.data)})},5),y=function(j){x(j?m.map(function(O){return O.userId}):void 0)};return(0,o.useEffect)(function(){var p;C(""),(p=n.children)===null||p===void 0||p.forEach(function(j){var O,P=j.id;(O=j.attribute)!==null&&O!==void 0&&O.defaultChecked&&Object.keys(a).length===0&&t((0,se.Z)({},P,!0))})},[]),(0,e.jsx)(xe.Z,{children:(0,e.jsx)(de.Z,{span:24,children:(0,e.jsx)(G.Z,{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,filterOption:!1,mode:"multiple",onClear:function(){t(void 0)},value:a[d]||[],onSearch:C,showSearch:!0,onChange:x,dropdownRender:function(j){return(0,e.jsxs)("div",{children:[j,(0,e.jsx)(Zt.Z,{style:{margin:"4px 0"}}),(0,e.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",paddingLeft:10},children:(0,e.jsx)(ve.Z,{onChange:function(P){y(P.target.checked)},children:"\u5168\u9009"})})]})},children:m.map(function(p){return(0,e.jsx)(Mn,{value:p.userId,label:p.name,children:(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{role:"img",style:{marginRight:10},children:(0,e.jsx)(Sn.Z,{user:p,size:20})}),p.name," ",p.deptName&&"(".concat(p.deptName,")")]})},p.userId)})})})})}(0,h.RM)("User",Dn,"antdMobile");var wn=function(n){return(0,e.jsx)(e.Fragment,{children:n.children})},Zn=wn},55686:function(J,T,s){"use strict";var S=s(11849),A=s(94233),M=s(51890),N=s(93224),b=s(89366),D=s(85893),o=["user"],v=function(E){var e=E.user,I=(0,N.Z)(E,o);return!e||!e.avatar?(0,D.jsx)(M.C,(0,S.Z)({icon:(0,D.jsx)(b.Z,{}),size:I.size||"small"},I)):(0,D.jsx)(M.C,(0,S.Z)({src:"/api/public/preview/".concat(e.avatar),size:I.size||"small"},I))};T.Z=v},78210:function(J,T,s){"use strict";var S=s(27856),A=s.n(S),M=s(15020),N=s(85893),b=function(o){var v=o.html,h=v===void 0?"":v,E=o.replaceP,e=E===void 0?!0:E;return e?(0,N.jsx)("div",{className:"pe-view",children:typeof h=="string"&&(0,M.ZP)(A().sanitize(h,{ADD_TAGS:["iframe"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling"]}).replace(/<p>/,"<span>").replace(/<\/p>/,"</span>"))}):(0,N.jsx)(N.Fragment,{children:typeof h=="string"&&(0,M.ZP)(A().sanitize(h))})};T.Z=b},39017:function(J,T,s){"use strict";s.d(T,{Rk:function(){return E}});var S=s(67294),A=s(24004);function M(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=useContext(SurveyContext),k=I.theme;return"survey-".concat(k)+e}function N(e,I){var k=(I&&I.depends||[]).reduce(function(B,R){return B||!R},!1);return b(k?void 0:function(B,R){return fetch(B,R).then(function(F){if(!!F.ok)return F.json()})},e,I||{})}function b(e){for(var I=arguments.length,k=new Array(I>1?I-1:0),B=1;B<I;B++)k[B-1]=arguments[B];var R=useState(0),F=_slicedToArray(R,2),$=F[0],Y=F[1],Z=useCallback(function(){Y(Math.random())},[]),V=useState({loading:!1,mutate:Z}),G=_slicedToArray(V,2),le=G[0],te=G[1];return useEffect(function(){!e||k[1].manual&&$===0||e.apply(null,k).then(function(ie){ie.code===200?te({loading:!1,data:ie.data,mutate:Z}):te({error:ie.message,loading:!1,mutate:Z})}).catch(function(ie){te({error:ie,loading:!1,mutate:Z})})},D($,k)),le}function D(){for(var e=arguments.length,I=new Array(e),k=0;k<e;k++)I[k]=arguments[k];for(var B=[],R=0;R<arguments.length;R++){var F=arguments[R];if(F instanceof Array)for(var $=0;$<F.length;$++)B=B.concat(D(F[$]));else if(typeof URL!="undefined"&&F instanceof URL)B=B.concat(F.toJSON());else if(F instanceof Object)for(var Y=Object.keys(F),Z=0;Z<Y.length;Z++){var V=Y[Z];V==="depends"?B=B.concat(F[V]):B=B.concat([V]).concat(D(F[V]))}else B=B.concat(F)}return B}var o=s(87998);function v(){return useContext(SurveyContext)}function h(){return useSurvey().attachments}function E(){var e=(0,S.useContext)(o.ZX);return e.innerStore}},49914:function(J,T,s){"use strict";s.d(T,{H:function(){return M}});var S=s(67294),A=s(87998);function M(){return(0,S.useContext)(A.ff)}},81643:function(J,T,s){"use strict";s.d(T,{Z:function(){return S}});var S=function(M){if(!M)return null;var N=typeof M=="function";return N?M():M}},15746:function(J,T,s){"use strict";var S=s(21584);T.Z=S.Z},9715:function(J,T,s){"use strict";var S=s(38663),A=s.n(S),M=s(34442),N=s.n(M),b=s(6999),D=s(22385)},55241:function(J,T,s){"use strict";var S=s(22122),A=s(67294),M=s(53124),N=s(94199),b=s(81643),D=s(33603),o=function(h,E){var e={};for(var I in h)Object.prototype.hasOwnProperty.call(h,I)&&E.indexOf(I)<0&&(e[I]=h[I]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,I=Object.getOwnPropertySymbols(h);k<I.length;k++)E.indexOf(I[k])<0&&Object.prototype.propertyIsEnumerable.call(h,I[k])&&(e[I[k]]=h[I[k]]);return e},v=A.forwardRef(function(h,E){var e=h.prefixCls,I=h.title,k=h.content,B=h._overlay,R=o(h,["prefixCls","title","content","_overlay"]),F=A.useContext(M.E_),$=F.getPrefixCls,Y=function(le){if(!(!I&&!k))return A.createElement(A.Fragment,null,I&&A.createElement("div",{className:"".concat(le,"-title")},(0,b.Z)(I)),A.createElement("div",{className:"".concat(le,"-inner-content")},(0,b.Z)(k)))},Z=$("popover",e),V=$();return A.createElement(N.Z,(0,S.Z)({},R,{prefixCls:Z,ref:E,overlay:B||Y(Z),transitionName:(0,D.mL)(V,"zoom-big",R.transitionName)}))});v.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},T.Z=v},20136:function(J,T,s){"use strict";var S=s(38663),A=s.n(S),M=s(31930),N=s.n(M)},71230:function(J,T,s){"use strict";var S=s(92820);T.Z=S.Z},13062:function(J,T,s){"use strict";var S=s(38663),A=s.n(S),M=s(6999)},32138:function(J,T,s){"use strict";s.d(T,{Z:function(){return dt}});var S=s(96156),A=s(90484),M=s(22122),N=s(28991),b=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},o=D,v=s(27029),h=function(Q,X){return b.createElement(v.Z,(0,N.Z)((0,N.Z)({},Q),{},{ref:X,icon:o}))};h.displayName="HolderOutlined";var E=b.forwardRef(h),e=s(94184),I=s.n(e),k=s(76513),B=s(53124),R=s(33603),F=s(85061),$=s(28481),Y=s(86504),Z=s(91816),V=s(63258),G=s(10225),le=s(1089),te;(function(_){_[_.None=0]="None",_[_.Start=1]="Start",_[_.End=2]="End"})(te||(te={}));function ie(_,Q){function X(K){var ne=K.key,oe=K.children;Q(ne,K)!==!1&&ie(oe||[],Q)}_.forEach(X)}function Ie(_){var Q=_.treeData,X=_.expandedKeys,K=_.startKey,ne=_.endKey,oe=[],U=te.None;if(K&&K===ne)return[K];if(!K||!ne)return[];function Ce(re){return re===K||re===ne}return ie(Q,function(re){if(U===te.End)return!1;if(Ce(re)){if(oe.push(re),U===te.None)U=te.Start;else if(U===te.Start)return U=te.End,!1}else U===te.Start&&oe.push(re);return X.indexOf(re)!==-1}),oe}function ye(_,Q){var X=(0,F.Z)(Q),K=[];return ie(_,function(ne,oe){var U=X.indexOf(ne);return U!==-1&&(K.push(oe),X.splice(U,1)),!!X.length}),K}var Le=function(_,Q){var X={};for(var K in _)Object.prototype.hasOwnProperty.call(_,K)&&Q.indexOf(K)<0&&(X[K]=_[K]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,K=Object.getOwnPropertySymbols(_);ne<K.length;ne++)Q.indexOf(K[ne])<0&&Object.prototype.propertyIsEnumerable.call(_,K[ne])&&(X[K[ne]]=_[K[ne]]);return X};function Pe(_){var Q=_.isLeaf,X=_.expanded;return Q?b.createElement(Y.Z,null):X?b.createElement(Z.Z,null):b.createElement(V.Z,null)}function ke(_){var Q=_.treeData,X=_.children;return Q||(0,le.zn)(X)}var Me=function(Q,X){var K=Q.defaultExpandAll,ne=Q.defaultExpandParent,oe=Q.defaultExpandedKeys,U=Le(Q,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),Ce=b.useRef(),re=b.useRef(),Oe=b.createRef();b.useImperativeHandle(X,function(){return Oe.current});var me=function(){var Ae=(0,le.I8)(ke(U)),Se=Ae.keyEntities,he;return K?he=Object.keys(Se):ne?he=(0,G.r7)(U.expandedKeys||oe||[],Se):he=U.expandedKeys||oe,he},pe=b.useState(U.selectedKeys||U.defaultSelectedKeys||[]),ze=(0,$.Z)(pe,2),He=ze[0],Be=ze[1],Te=b.useState(me()),Ee=(0,$.Z)(Te,2),ue=Ee[0],We=Ee[1];b.useEffect(function(){"selectedKeys"in U&&Be(U.selectedKeys)},[U.selectedKeys]),b.useEffect(function(){"expandedKeys"in U&&We(U.expandedKeys)},[U.expandedKeys]);var Ve=function(Ae,Se){var he;return"expandedKeys"in U||We(Ae),(he=U.onExpand)===null||he===void 0?void 0:he.call(U,Ae,Se)},je=function(Ae,Se){var he,Je=U.multiple,qe=Se.node,ge=Se.nativeEvent,et=qe.key,Re=et===void 0?"":et,Fe=ke(U),De=(0,M.Z)((0,M.Z)({},Se),{selected:!0}),gt=(ge==null?void 0:ge.ctrlKey)||(ge==null?void 0:ge.metaKey),jt=ge==null?void 0:ge.shiftKey,ve;Je&&gt?(ve=Ae,Ce.current=Re,re.current=ve,De.selectedNodes=ye(Fe,ve)):Je&&jt?(ve=Array.from(new Set([].concat((0,F.Z)(re.current||[]),(0,F.Z)(Ie({treeData:Fe,expandedKeys:ue,startKey:Re,endKey:Ce.current}))))),De.selectedNodes=ye(Fe,ve)):(ve=[Re],Ce.current=Re,re.current=ve,De.selectedNodes=ye(Fe,ve)),(he=U.onSelect)===null||he===void 0||he.call(U,ve,De),"selectedKeys"in U||Be(ve)},$e=b.useContext(B.E_),ut=$e.getPrefixCls,ht=$e.direction,vt=U.prefixCls,ft=U.className,Xe=Le(U,["prefixCls","className"]),Ye=ut("tree",vt),mt=I()("".concat(Ye,"-directory"),(0,S.Z)({},"".concat(Ye,"-directory-rtl"),ht==="rtl"),ft);return b.createElement(ct,(0,M.Z)({icon:Pe,ref:Oe,blockNode:!0},Xe,{prefixCls:Ye,className:mt,expandedKeys:ue,selectedKeys:He,onSelect:je,onExpand:Ve}))},Ue=b.forwardRef(Me);Ue.defaultProps={showIcon:!0,expandAction:"click"};var it=Ue,st=4;function lt(_){var Q,X=_.dropPosition,K=_.dropLevelOffset,ne=_.prefixCls,oe=_.indent,U=_.direction,Ce=U===void 0?"ltr":U,re=Ce==="ltr"?"left":"right",Oe=Ce==="ltr"?"right":"left",me=(Q={},(0,S.Z)(Q,re,-K*oe+st),(0,S.Z)(Q,Oe,0),Q);switch(X){case-1:me.top=-3;break;case 1:me.bottom=-3;break;default:me.bottom=-3,me[re]=oe+st;break}return b.createElement("div",{style:me,className:"".concat(ne,"-drop-indicator")})}var ot=s(6324),_e=b.forwardRef(function(_,Q){var X,K=b.useContext(B.E_),ne=K.getPrefixCls,oe=K.direction,U=K.virtual,Ce=_.prefixCls,re=_.className,Oe=_.showIcon,me=_.showLine,pe=_.switcherIcon,ze=_.blockNode,He=_.children,Be=_.checkable,Te=_.selectable,Ee=_.draggable,ue=ne("tree",Ce),We=(0,M.Z)((0,M.Z)({},_),{showLine:Boolean(me),dropIndicatorRender:lt}),Ve=b.useMemo(function(){if(!Ee)return!1;var je={};switch((0,A.Z)(Ee)){case"function":je.nodeDraggable=Ee;break;case"object":je=(0,M.Z)({},Ee);break;default:}return je.icon!==!1&&(je.icon=je.icon||b.createElement(E,null)),je},[Ee]);return b.createElement(k.Z,(0,M.Z)({itemHeight:20,ref:Q,virtual:U},We,{prefixCls:ue,className:I()((X={},(0,S.Z)(X,"".concat(ue,"-icon-hide"),!Oe),(0,S.Z)(X,"".concat(ue,"-block-node"),ze),(0,S.Z)(X,"".concat(ue,"-unselectable"),!Te),(0,S.Z)(X,"".concat(ue,"-rtl"),oe==="rtl"),X),re),direction:oe,checkable:Be&&b.createElement("span",{className:"".concat(ue,"-checkbox-inner")}),selectable:Te,switcherIcon:function($e){return(0,ot.Z)(ue,pe,me,$e)},draggable:Ve}),He)});_e.TreeNode=k.O,_e.DirectoryTree=it,_e.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:(0,M.Z)((0,M.Z)({},R.ZP),{motionAppear:!1}),blockNode:!1};var ct=_e,dt=ct},32157:function(J,T,s){"use strict";var S=s(38663),A=s.n(S),M=s(16695),N=s.n(M)},18601:function(J,T,s){var S=s(14841),A=1/0,M=17976931348623157e292;function N(b){if(!b)return b===0?b:0;if(b=S(b),b===A||b===-A){var D=b<0?-1:1;return D*M}return b===b?b:0}J.exports=N},40554:function(J,T,s){var S=s(18601);function A(M){var N=S(M),b=N%1;return N===N?b?N-b:N:0}J.exports=A},17672:function(J,T,s){"use strict";s.d(T,{Z:function(){return b}});/*!
 * Signature Pad v4.0.4 | https://github.com/szimek/signature_pad
 * (c) 2022 Szymon Nowak | Released under the MIT license
 */class S{constructor(o,v,h,E){if(isNaN(o)||isNaN(v))throw new Error(`Point is invalid: (${o}, ${v})`);this.x=+o,this.y=+v,this.pressure=h||0,this.time=E||Date.now()}distanceTo(o){return Math.sqrt(Math.pow(this.x-o.x,2)+Math.pow(this.y-o.y,2))}equals(o){return this.x===o.x&&this.y===o.y&&this.pressure===o.pressure&&this.time===o.time}velocityFrom(o){return this.time!==o.time?this.distanceTo(o)/(this.time-o.time):0}}class A{constructor(o,v,h,E,e,I){this.startPoint=o,this.control2=v,this.control1=h,this.endPoint=E,this.startWidth=e,this.endWidth=I}static fromPoints(o,v){const h=this.calculateControlPoints(o[0],o[1],o[2]).c2,E=this.calculateControlPoints(o[1],o[2],o[3]).c1;return new A(o[1],h,E,o[2],v.start,v.end)}static calculateControlPoints(o,v,h){const E=o.x-v.x,e=o.y-v.y,I=v.x-h.x,k=v.y-h.y,B={x:(o.x+v.x)/2,y:(o.y+v.y)/2},R={x:(v.x+h.x)/2,y:(v.y+h.y)/2},F=Math.sqrt(E*E+e*e),$=Math.sqrt(I*I+k*k),Y=B.x-R.x,Z=B.y-R.y,V=$/(F+$),G={x:R.x+Y*V,y:R.y+Z*V},le=v.x-G.x,te=v.y-G.y;return{c1:new S(B.x+le,B.y+te),c2:new S(R.x+le,R.y+te)}}length(){const o=10;let v=0,h,E;for(let e=0;e<=o;e+=1){const I=e/o,k=this.point(I,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),B=this.point(I,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(e>0){const R=k-h,F=B-E;v+=Math.sqrt(R*R+F*F)}h=k,E=B}return v}point(o,v,h,E,e){return v*(1-o)*(1-o)*(1-o)+3*h*(1-o)*(1-o)*o+3*E*(1-o)*o*o+e*o*o*o}}class M{constructor(){try{this._et=new EventTarget}catch(o){this._et=document}}addEventListener(o,v,h){this._et.addEventListener(o,v,h)}dispatchEvent(o){return this._et.dispatchEvent(o)}removeEventListener(o,v,h){this._et.removeEventListener(o,v,h)}}function N(D,o=250){let v=0,h=null,E,e,I;const k=()=>{v=Date.now(),h=null,E=D.apply(e,I),h||(e=null,I=[])};return function(...R){const F=Date.now(),$=o-(F-v);return e=this,I=R,$<=0||$>o?(h&&(clearTimeout(h),h=null),v=F,E=D.apply(e,I),h||(e=null,I=[])):h||(h=window.setTimeout(k,$)),E}}class b extends M{constructor(o,v={}){super();this.canvas=o,this._handleMouseDown=h=>{h.buttons===1&&(this._drawningStroke=!0,this._strokeBegin(h))},this._handleMouseMove=h=>{this._drawningStroke&&this._strokeMoveUpdate(h)},this._handleMouseUp=h=>{h.buttons===1&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(h))},this._handleTouchStart=h=>{if(h.preventDefault(),h.targetTouches.length===1){const E=h.changedTouches[0];this._strokeBegin(E)}},this._handleTouchMove=h=>{h.preventDefault();const E=h.targetTouches[0];this._strokeMoveUpdate(E)},this._handleTouchEnd=h=>{if(h.target===this.canvas){h.preventDefault();const e=h.changedTouches[0];this._strokeEnd(e)}},this._handlePointerStart=h=>{this._drawningStroke=!0,h.preventDefault(),this._strokeBegin(h)},this._handlePointerMove=h=>{this._drawningStroke&&(h.preventDefault(),this._strokeMoveUpdate(h))},this._handlePointerEnd=h=>{this._drawningStroke&&(h.preventDefault(),this._drawningStroke=!1,this._strokeEnd(h))},this.velocityFilterWeight=v.velocityFilterWeight||.7,this.minWidth=v.minWidth||.5,this.maxWidth=v.maxWidth||2.5,this.throttle="throttle"in v?v.throttle:16,this.minDistance="minDistance"in v?v.minDistance:5,this.dotSize=v.dotSize||0,this.penColor=v.penColor||"black",this.backgroundColor=v.backgroundColor||"rgba(0,0,0,0)",this._strokeMoveUpdate=this.throttle?N(b.prototype._strokeUpdate,this.throttle):b.prototype._strokeUpdate,this._ctx=o.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:o,canvas:v}=this;o.fillStyle=this.backgroundColor,o.clearRect(0,0,v.width,v.height),o.fillRect(0,0,v.width,v.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(o,v={}){return new Promise((h,E)=>{const e=new Image,I=v.ratio||window.devicePixelRatio||1,k=v.width||this.canvas.width/I,B=v.height||this.canvas.height/I,R=v.xOffset||0,F=v.yOffset||0;this._reset(),e.onload=()=>{this._ctx.drawImage(e,R,F,k,B),h()},e.onerror=$=>{E($)},e.crossOrigin="anonymous",e.src=o,this._isEmpty=!1})}toDataURL(o="image/png",v){switch(o){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(o,v)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const o=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!o?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(o,{clear:v=!0}={}){v&&this.clear(),this._fromData(o,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(o)}toData(){return this._data}_strokeBegin(o){this.dispatchEvent(new CustomEvent("beginStroke",{detail:o}));const v={dotSize:this.dotSize,minWidth:this.minWidth,maxWidth:this.maxWidth,penColor:this.penColor,points:[]};this._data.push(v),this._reset(),this._strokeUpdate(o)}_strokeUpdate(o){if(this._data.length===0){this._strokeBegin(o);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:o}));const v=o.clientX,h=o.clientY,E=o.pressure!==void 0?o.pressure:o.force!==void 0?o.force:0,e=this._createPoint(v,h,E),I=this._data[this._data.length-1],k=I.points,B=k.length>0&&k[k.length-1],R=B?e.distanceTo(B)<=this.minDistance:!1,{penColor:F,dotSize:$,minWidth:Y,maxWidth:Z}=I;if(!B||!(B&&R)){const V=this._addPoint(e);B?V&&this._drawCurve(V,{penColor:F,dotSize:$,minWidth:Y,maxWidth:Z}):this._drawDot(e,{penColor:F,dotSize:$,minWidth:Y,maxWidth:Z}),k.push({time:e.time,x:e.x,y:e.y,pressure:e.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:o}))}_strokeEnd(o){this._strokeUpdate(o),this.dispatchEvent(new CustomEvent("endStroke",{detail:o}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),document.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(o,v,h){const E=this.canvas.getBoundingClientRect();return new S(o-E.left,v-E.top,h,new Date().getTime())}_addPoint(o){const{_lastPoints:v}=this;if(v.push(o),v.length>2){v.length===3&&v.unshift(v[0]);const h=this._calculateCurveWidths(v[1],v[2]),E=A.fromPoints(v,h);return v.shift(),E}return null}_calculateCurveWidths(o,v){const h=this.velocityFilterWeight*v.velocityFrom(o)+(1-this.velocityFilterWeight)*this._lastVelocity,E=this._strokeWidth(h),e={end:E,start:this._lastWidth};return this._lastVelocity=h,this._lastWidth=E,e}_strokeWidth(o){return Math.max(this.maxWidth/(o+1),this.minWidth)}_drawCurveSegment(o,v,h){const E=this._ctx;E.moveTo(o,v),E.arc(o,v,h,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(o,v){const h=this._ctx,E=o.endWidth-o.startWidth,e=Math.ceil(o.length())*2;h.beginPath(),h.fillStyle=v.penColor;for(let I=0;I<e;I+=1){const k=I/e,B=k*k,R=B*k,F=1-k,$=F*F,Y=$*F;let Z=Y*o.startPoint.x;Z+=3*$*k*o.control1.x,Z+=3*F*B*o.control2.x,Z+=R*o.endPoint.x;let V=Y*o.startPoint.y;V+=3*$*k*o.control1.y,V+=3*F*B*o.control2.y,V+=R*o.endPoint.y;const G=Math.min(o.startWidth+R*E,v.maxWidth);this._drawCurveSegment(Z,V,G)}h.closePath(),h.fill()}_drawDot(o,v){const h=this._ctx,E=v.dotSize>0?v.dotSize:(v.minWidth+v.maxWidth)/2;h.beginPath(),this._drawCurveSegment(o.x,o.y,E),h.closePath(),h.fillStyle=v.penColor,h.fill()}_fromData(o,v,h){for(const E of o){const{penColor:e,dotSize:I,minWidth:k,maxWidth:B,points:R}=E;if(R.length>1)for(let F=0;F<R.length;F+=1){const $=R[F],Y=new S($.x,$.y,$.pressure,$.time);this.penColor=e,F===0&&this._reset();const Z=this._addPoint(Y);Z&&v(Z,{penColor:e,dotSize:I,minWidth:k,maxWidth:B})}else this._reset(),h(R[0],{penColor:e,dotSize:I,minWidth:k,maxWidth:B})}}_toSVG(){const o=this._data,v=Math.max(window.devicePixelRatio||1,1),h=0,E=0,e=this.canvas.width/v,I=this.canvas.height/v,k=document.createElementNS("http://www.w3.org/2000/svg","svg");k.setAttribute("width",this.canvas.width.toString()),k.setAttribute("height",this.canvas.height.toString()),this._fromData(o,(Z,{penColor:V})=>{const G=document.createElement("path");if(!isNaN(Z.control1.x)&&!isNaN(Z.control1.y)&&!isNaN(Z.control2.x)&&!isNaN(Z.control2.y)){const le=`M ${Z.startPoint.x.toFixed(3)},${Z.startPoint.y.toFixed(3)} C ${Z.control1.x.toFixed(3)},${Z.control1.y.toFixed(3)} ${Z.control2.x.toFixed(3)},${Z.control2.y.toFixed(3)} ${Z.endPoint.x.toFixed(3)},${Z.endPoint.y.toFixed(3)}`;G.setAttribute("d",le),G.setAttribute("stroke-width",(Z.endWidth*2.25).toFixed(3)),G.setAttribute("stroke",V),G.setAttribute("fill","none"),G.setAttribute("stroke-linecap","round"),k.appendChild(G)}},(Z,{penColor:V,dotSize:G,minWidth:le,maxWidth:te})=>{const ie=document.createElement("circle"),Ie=G>0?G:(le+te)/2;ie.setAttribute("r",Ie.toString()),ie.setAttribute("cx",Z.x.toString()),ie.setAttribute("cy",Z.y.toString()),ie.setAttribute("fill",V),k.appendChild(ie)});const B="data:image/svg+xml;base64,",R=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${h} ${E} ${this.canvas.width} ${this.canvas.height}" width="${e}" height="${I}">`;let F=k.innerHTML;if(F===void 0){const Z=document.createElement("dummy"),V=k.childNodes;Z.innerHTML="";for(let G=0;G<V.length;G+=1)Z.appendChild(V[G].cloneNode(!0));F=Z.innerHTML}const $="</svg>",Y=R+F+$;return B+btoa(Y)}}}}]);
