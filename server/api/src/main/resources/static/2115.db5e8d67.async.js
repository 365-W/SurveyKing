(self.webpackChunksurvey_king=self.webpackChunksurvey_king||[]).push([[2115],{16165:function(G,T,s){"use strict";var S=s(28991),A=s(96156),M=s(81253),I=s(67294),E=s(94184),D=s.n(E),l=s(63017),h=s(41755),d=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],b=I.forwardRef(function(e,N){var k=e.className,B=e.component,R=e.viewBox,F=e.spin,W=e.rotate,Y=e.tabIndex,Z=e.onClick,V=e.children,J=(0,M.Z)(e,d);(0,h.Kp)(Boolean(B||V),"Should have `component` prop or `children`."),(0,h.C3)();var se=I.useContext(l.Z),te=se.prefixCls,ne=te===void 0?"anticon":te,Me=D()(ne,k),ce=D()((0,A.Z)({},"".concat(ne,"-spin"),!!F)),Fe=W?{msTransform:"rotate(".concat(W,"deg)"),transform:"rotate(".concat(W,"deg)")}:void 0,we=(0,S.Z)((0,S.Z)({},h.vD),{},{className:ce,style:Fe,viewBox:R});R||delete we.viewBox;var ke=function(){return B?I.createElement(B,(0,S.Z)({},we),V):V?((0,h.Kp)(Boolean(R)||I.Children.count(V)===1&&I.isValidElement(V)&&I.Children.only(V).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),I.createElement("svg",(0,S.Z)((0,S.Z)({},we),{},{viewBox:R}),V)):null},De=Y;return De===void 0&&Z&&(De=-1),I.createElement("span",(0,S.Z)((0,S.Z)({role:"img"},J),{},{ref:N,tabIndex:De,onClick:Z,className:Me}),ke())});b.displayName="AntdIcon",T.Z=b},46533:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM695.5 365.7l-210.6 292a31.8 31.8 0 01-51.7 0L308.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H689c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-square",theme:"filled"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="CheckSquareFilled";var l=A.forwardRef(D)},78338:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="ClockCircleOutlined";var l=A.forwardRef(D)},36862:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM676.1 657.9c4.4 5.2.7 13.1-6.1 13.1h-58.9c-4.7 0-9.2-2.1-12.3-5.7L512 561.8l-86.8 103.5c-3 3.6-7.5 5.7-12.3 5.7H354c-6.8 0-10.5-7.9-6.1-13.1L470.2 512 347.9 366.1A7.95 7.95 0 01354 353h58.9c4.7 0 9.2 2.1 12.3 5.7L512 462.2l86.8-103.5c3-3.6 7.5-5.7 12.3-5.7H670c6.8 0 10.5 7.9 6.1 13.1L553.8 512l122.3 145.9z"}}]},name:"close-square",theme:"filled"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="CloseSquareFilled";var l=A.forwardRef(D)},91816:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="FolderOpenOutlined";var l=A.forwardRef(D)},63258:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="FolderOutlined";var l=A.forwardRef(D)},41687:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM512 533c-85.5 0-155.6 67.3-160 151.6a8 8 0 008 8.4h48.1c4.2 0 7.8-3.2 8.1-7.4C420 636.1 461.5 597 512 597s92.1 39.1 95.8 88.6c.3 4.2 3.9 7.4 8.1 7.4H664a8 8 0 008-8.4C667.6 600.3 597.5 533 512 533z"}}]},name:"frown",theme:"outlined"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="FrownOutlined";var l=A.forwardRef(D)},57206:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="HeartOutlined";var l=A.forwardRef(D)},46870:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 565H360c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"meh",theme:"outlined"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="MehOutlined";var l=A.forwardRef(D)},54121:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]},name:"minus-circle",theme:"filled"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="MinusCircleFilled";var l=A.forwardRef(D)},81473:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M136 384h56c4.4 0 8-3.6 8-8V200h176c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-37.6 0-68 30.4-68 68v180c0 4.4 3.6 8 8 8zm512-184h176v176c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V196c0-37.6-30.4-68-68-68H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM376 824H200V648c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v180c0 37.6 30.4 68 68 68h180c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm512-184h-56c-4.4 0-8 3.6-8 8v176H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h180c37.6 0 68-30.4 68-68V648c0-4.4-3.6-8-8-8zm16-164H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"scan",theme:"outlined"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="ScanOutlined";var l=A.forwardRef(D)},18613:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="SmileOutlined";var l=A.forwardRef(D)},89366:function(G,T,s){"use strict";s.d(T,{Z:function(){return l}});var S=s(28991),A=s(67294),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},I=M,E=s(27029),D=function(d,b){return A.createElement(E.Z,(0,S.Z)((0,S.Z)({},d),{},{ref:b,icon:I}))};D.displayName="UserOutlined";var l=A.forwardRef(D)},34442:function(){},31930:function(){},16695:function(){},68209:function(G,T,s){"use strict";s.r(T),s.d(T,{default:function(){return On}});var S=s(9715),A=s(71257),M=s(94657),I=s(40807),E=s(78210),D=s(9761),l=s(67294),h=s(54707),d=s(48187),b=s(67635),e=s(85893),N=function(){var n=(0,h.AK)(),t=(0,l.useContext)(I.ZX),i=t.schema;return(0,e.jsxs)("div",{className:n+"-header",children:[(0,e.jsx)("div",{className:n+"-header-title",children:(0,e.jsx)(b.hl,{html:i.title})}),(0,e.jsx)("div",{className:n+"-header-description",children:(0,e.jsx)(b.hl,{html:i.description})})]})},k=function(n){var t=(0,h.AK)();return(0,e.jsx)("div",{className:t+"-body",children:n.children})},B=s(57663),R=s(71577),F=(0,D.Pi)(function(){var r,n,t,i=(0,h.AK)("-footer"),a=(0,l.useContext)(I.ZX),o=a.schema,v=a.loading,u=(0,h.Rk)(),c=u.pagination,f=c.pageSize>1,m=c.current===1,y=c.current===c.pageSize;return(0,e.jsxs)("div",{className:i,children:[y&&(0,e.jsx)("div",{className:i+"-desc",style:{userSelect:"none",WebkitTouchCallout:"none"},children:(0,e.jsx)(b.hl,{html:o==null||(r=o.attribute)===null||r===void 0?void 0:r.suffix})}),(0,e.jsxs)("div",{className:i+"-pagination",children:[f&&!m&&(0,e.jsx)("div",{children:(0,e.jsx)(R.Z,{type:"primary",block:!0,onClick:function(){return u.handlePrev()},children:"\u4E0A\u4E00\u9875"})}),f&&!y&&(0,e.jsx)("div",{children:(0,e.jsx)(R.Z,{type:"primary",block:!0,onClick:function(){return u.handleNext()},children:"\u4E0B\u4E00\u9875"})}),y&&!f&&(0,e.jsx)("div",{style:{width:"100%",padding:"0 20px"},children:(0,e.jsx)(R.Z,{type:"primary",block:!0,onClick:function(){return u.submit()},loading:v,children:(0,e.jsx)(b.hl,{html:((n=o.attribute)===null||n===void 0?void 0:n.submitButton)||"\u63D0\u4EA4"})})}),y&&f&&(0,e.jsx)("div",{children:(0,e.jsx)(R.Z,{type:"primary",onClick:function(){return u.submit()},loading:v,children:(0,e.jsx)(b.hl,{html:((t=o.attribute)===null||t===void 0?void 0:t.submitButton)||"\u63D0\u4EA4"})})}),f&&(0,e.jsxs)("div",{className:i+"-pagination-info",children:["\u7B2C",c.current,"\u9875/\u5171",c.pageSize,"\u9875"]})]})]})}),W=s(47673),Y=s(4107),Z=s(11849),V=s(43358),J=s(34041),se=s(29985),te=s(46842),ne=s(64302),Me=function(n){var t=n.dictCode,i=n.value,a=n.onChange,o=n.style,v=n.bordered,u=n.className,c=n.parentValue,f=n.cascaderLevel,m=f===void 0?1:f,y=(0,h.Al)(),x=(0,l.useState)([]),p=(0,M.Z)(x,2),g=p[0],C=p[1],j=(0,h.zE)(function(O){m&&m>1&&!c||y.onDictSearch&&y.onDictSearch({dictCode:t,searchValue:O,parentValue:c==null?void 0:c.split("|")[0],cascaderLevel:m}).then(function(P){C(P||[])})},2);return(0,l.useEffect)(function(){m&&m>1&&(c?j(void 0):C([]))},[c,m]),(0,l.useEffect)(function(){!i&&m<=1&&t&&j(void 0),i&&g.length===0&&j(i)},[i]),(0,e.jsx)(J.Z,{options:g,showSearch:!0,onSearch:j,value:i==null?void 0:i.split("|")[0],onChange:function(P){var w;return a("".concat(P,"|").concat((w=g.find(function(U){return U.value===P}))===null||w===void 0?void 0:w.label))},style:o,bordered:v,className:u,allowClear:!0})},ce=function(n){var t=n.onChange,i=n.type,a=n.value,o=n.suffix,v=n.prefix,u=n.style,c=u===void 0?{width:"100%"}:u,f=n.bordered,m=f===void 0?!0:f,y=n.placeholder,x=n.className,p=n.dictCode,g=n.parentValue,C=n.cascaderLevel,j=n.icon,O=j===void 0?!0:j,P=n.readOnly,w=n.schema,U=n.dateTimeFormat;if(i==="horzBlank")return(0,e.jsx)(e.Fragment,{});if(i==="selectDict"&&p)return(0,e.jsx)(Me,{value:a,onChange:t,dictCode:p,style:c,bordered:m,className:x,parentValue:g,cascaderLevel:C});if(i==="select"&&w!==null&&w!==void 0&&w.dataSource)return(0,e.jsx)(J.Z,{options:w.dataSource,style:{width:200,opacity:"unset"},bordered:m,onChange:t,className:x});if(i==="number")return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Y.Z,{onChange:function(z){z.target.value===""?t(""):t(parseFloat(z.target.value))},prefix:v,type:"number",value:a,style:(0,Z.Z)((0,Z.Z)({},c),{},{paddingLeft:20}),suffix:o,inputMode:"decimal",bordered:m,placeholder:y,className:x,readOnly:P})});if(i==="date"){var L;return(0,e.jsx)(oe,{onChange:function(z){return t(z)},value:a,style:c,bordered:m,placeholder:y,readOnly:P,className:x,dateTimeFormat:U||(w==null||(L=w.attribute)===null||L===void 0?void 0:L.dateTimeFormat)})}return i==="mobile"?(0,e.jsx)(Y.Z,{prefix:O?v||(0,e.jsx)(se.Z,{}):void 0,onChange:function(z){return t(z.target.value)},value:a,bordered:m,placeholder:y,className:x,readOnly:P}):i==="idCard"?(0,e.jsx)(Y.Z,{prefix:O?v||(0,e.jsx)(te.Z,{}):void 0,onChange:function(z){return t(z.target.value)},value:a,style:c,bordered:m,placeholder:y,className:x,readOnly:P}):i==="email"?(0,e.jsx)(Y.Z,{prefix:O?v||(0,e.jsx)(ne.Z,{}):void 0,onChange:function(z){return t(z.target.value)},value:a,style:c,bordered:m,placeholder:y,className:x,readOnly:P}):(0,e.jsx)(Y.Z,{onChange:function(z){return t(z.target.value)},value:a,suffix:o,prefix:v,style:c,bordered:m,placeholder:y,className:x,readOnly:P})},Fe=s(57254),we=function(n){var t=n.options,i=n.onChange,a=n.value;return(0,e.jsxs)("div",{className:"native-select",children:[(0,e.jsxs)("select",{onChange:function(v){return i(v.target.value)},value:a,className:"native-select__select",children:[(0,e.jsx)("option",{children:"\u8BF7\u9009\u62E9"}),t==null?void 0:t.map(function(o){return(0,e.jsx)("option",{value:o.value,children:o.label},o.value)})]}),(0,e.jsx)("span",{className:"native-select__arrow",children:(0,e.jsx)(Fe.Z,{})})]})};/*!
 * mobileSelect.js
 * (c) 2017-present onlyhom
 * Released under the MIT License.
 */function ke(r,n){return r.getElementsByClassName(n)}function De(r){this.mobileSelect,this.wheelsData=r.wheels,this.jsonType=!1,this.cascadeJsonData=[],this.displayJson=[],this.curValue=null,this.curIndexArr=[],this.cascade=!1,this.startY,this.moveEndY,this.moveY,this.oldMoveY,this.offset=0,this.offsetSum=0,this.oversizeBorder,this.curDistance=[],this.clickStatus=!1,this.isPC=!0,this.init(r)}De.prototype={constructor:De,init:function(n){var t=this;if(t.keyMap=n.keyMap?n.keyMap:{id:"id",value:"value",childs:"childs"},t.checkDataType(),t.renderWheels(t.wheelsData,n.cancelBtnText,n.ensureBtnText,n.container),t.wheel=ke(t.mobileSelect,"wheel"),t.slider=ke(t.mobileSelect,"selectContainer"),t.wheels=t.mobileSelect.querySelector(".wheels"),t.liHeight=t.mobileSelect.querySelector("li").offsetHeight,t.ensureBtn=t.mobileSelect.querySelector(".ensure"),t.cancelBtn=t.mobileSelect.querySelector(".cancel"),t.grayLayer=t.mobileSelect.querySelector(".grayLayer"),t.popUp=t.mobileSelect.querySelector(".content"),t.callback=n.callback||function(){},t.transitionEnd=n.transitionEnd||function(){},t.onShow=n.onShow||function(){},t.onHide=n.onHide||function(){},t.initPosition=n.position||[],t.titleText=n.title||"",t.connector=n.connector||" ",t.triggerDisplayData=typeof n.triggerDisplayData!="undefined"?n.triggerDisplayData:!0,t.setStyle(n),t.setTitle(t.titleText),t.checkIsPC(),t.checkCascade(),t.addListenerAll(),t.cascade&&t.initCascade(),t.initPosition.length<t.slider.length)for(var i=t.slider.length-t.initPosition.length,a=0;a<i;a++)t.initPosition.push(0);t.setCurDistance(t.initPosition),t.cancelBtn.addEventListener("click",function(o){t.hide()}),t.ensureBtn.addEventListener("click",function(o){t.hide(),t.liHeight||(t.liHeight=t.mobileSelect.querySelector("li").offsetHeight);for(var v="",u=0;u<t.wheel.length;u++)u==t.wheel.length-1?v+=t.getInnerHtml(u):v+=t.getInnerHtml(u)+t.connector;t.curIndexArr=t.getIndexArr(),t.curValue=t.getCurValue(),t.callback(t.curIndexArr,t.curValue)}),t.grayLayer.addEventListener("click",function(o){t.hide()}),t.popUp.addEventListener("click",function(o){o.stopPropagation()}),t.fixRowStyle()},setTitle:function(n){var t=this;t.titleText=n,t.mobileSelect.querySelector(".title").innerHTML=t.titleText},setStyle:function(n){var t=this;n.ensureBtnColor&&(t.ensureBtn.style.color=n.ensureBtnColor),n.cancelBtnColor&&(t.cancelBtn.style.color=n.cancelBtnColor),n.titleColor&&(t.title=t.mobileSelect.querySelector(".title"),t.title.style.color=n.titleColor),n.textColor&&(t.panel=t.mobileSelect.querySelector(".panel"),t.panel.style.color=n.textColor),n.titleBgColor&&(t.btnBar=t.mobileSelect.querySelector(".btnBar"),t.btnBar.style.backgroundColor=n.titleBgColor),n.bgColor&&(t.panel=t.mobileSelect.querySelector(".panel"),t.shadowMask=t.mobileSelect.querySelector(".shadowMask"),t.panel.style.backgroundColor=n.bgColor,t.shadowMask.style.background="linear-gradient(to bottom, "+n.bgColor+", rgba(255, 255, 255, 0), "+n.bgColor+")"),isNaN(n.maskOpacity)||(t.grayMask=t.mobileSelect.querySelector(".grayLayer"),t.grayMask.style.background="rgba(0, 0, 0, "+n.maskOpacity+")")},checkIsPC:function(){var n=this,t=navigator.userAgent.toLowerCase(),i=t.match(/ipad/i)=="ipad",a=t.match(/iphone os/i)=="iphone os",o=t.match(/midp/i)=="midp",v=t.match(/rv:1.2.3.4/i)=="rv:1.2.3.4",u=t.match(/ucweb/i)=="ucweb",c=t.match(/android/i)=="android",f=t.match(/windows ce/i)=="windows ce",m=t.match(/windows mobile/i)=="windows mobile";(i||a||o||v||u||c||f||m)&&(n.isPC=!1)},show:function(){this.mobileSelect.classList.add("mobileSelect-show"),typeof this.onShow=="function"&&this.onShow(this)},hide:function(){this.mobileSelect.classList.remove("mobileSelect-show"),typeof this.onHide=="function"&&this.onHide(this)},renderWheels:function(n,t,i,a){var o=this,v=t||"\u53D6\u6D88",u=i||"\u786E\u8BA4";o.mobileSelect=document.createElement("div"),o.mobileSelect.className="mobileSelect",o.mobileSelect.innerHTML='<div class="grayLayer"></div><div class="content"><div class="btnBar"><div class="fixWidth"><div class="cancel">'+v+'</div><div class="title"></div><div class="ensure">'+u+'</div></div></div><div class="panel"><div class="fixWidth"><div class="wheels"></div><div class="selectLine"></div><div class="shadowMask"></div></div></div></div>',a?a.appendChild(o.mobileSelect):document.body.appendChild(o.mobileSelect);for(var c="",f=0;f<n.length;f++){if(c+='<div class="wheel"><ul class="selectContainer">',o.jsonType)for(var m=0;m<n[f].data.length;m++)c+='<li data-id="'+n[f].data[m][o.keyMap.id]+'">'+n[f].data[m][o.keyMap.value]+"</li>";else for(var m=0;m<n[f].data.length;m++)c+="<li>"+n[f].data[m]+"</li>";c+="</ul></div>"}o.mobileSelect.querySelector(".wheels").innerHTML=c},addListenerAll:function(){for(var n=this,t=0;t<n.slider.length;t++)(function(i){n.addListenerWheel(n.wheel[i],i)})(t)},addListenerWheel:function(n,t){var i=this;n.addEventListener("touchstart",function(a){i.touch(a,this.firstChild,t)},!1),n.addEventListener("touchend",function(a){i.touch(a,this.firstChild,t)},!1),n.addEventListener("touchmove",function(a){i.touch(a,this.firstChild,t)},!1),i.isPC&&(n.addEventListener("mousedown",function(a){i.dragClick(a,this.firstChild,t)},!1),n.addEventListener("mousemove",function(a){i.dragClick(a,this.firstChild,t)},!1),n.addEventListener("mouseup",function(a){i.dragClick(a,this.firstChild,t)},!0))},checkDataType:function(){var n=this;typeof n.wheelsData[0].data[0]=="object"&&(n.jsonType=!0)},checkCascade:function(){var n=this;if(n.jsonType){for(var t=n.wheelsData[0].data,i=0;i<t.length;i++)if(n.keyMap.childs in t[i]&&t[i][n.keyMap.childs].length>0){n.cascade=!0,n.cascadeJsonData=n.wheelsData[0].data;break}}else n.cascade=!1},generateArrData:function(n){for(var t=[],i=this.keyMap.id,a=this.keyMap.value,o=0;o<n.length;o++){var v={};v[i]=n[o][this.keyMap.id],v[a]=n[o][this.keyMap.value],t.push(v)}return t},initCascade:function(){var n=this;n.displayJson.push(n.generateArrData(n.cascadeJsonData)),n.initPosition.length>0?(n.initDeepCount=0,n.initCheckArrDeep(n.cascadeJsonData[n.initPosition[0]])):n.checkArrDeep(n.cascadeJsonData[0]),n.reRenderWheels()},initCheckArrDeep:function(n){var t=this;if(n&&t.keyMap.childs in n&&n[t.keyMap.childs].length>0){t.displayJson.push(t.generateArrData(n[t.keyMap.childs])),t.initDeepCount++;var i=n[t.keyMap.childs][t.initPosition[t.initDeepCount]];i?t.initCheckArrDeep(i):t.checkArrDeep(n[t.keyMap.childs][0])}},checkArrDeep:function(n){var t=this;n&&t.keyMap.childs in n&&n[t.keyMap.childs].length>0&&(t.displayJson.push(t.generateArrData(n[t.keyMap.childs])),t.checkArrDeep(n[t.keyMap.childs][0]))},checkRange:function(n,t){for(var i=this,a=i.displayJson.length-1-n,o=0;o<a;o++)i.displayJson.pop();for(var v,o=0;o<=n;o++)o==0?v=i.cascadeJsonData[t[0]]:v=v[i.keyMap.childs][t[o]];i.checkArrDeep(v),i.reRenderWheels(),i.fixRowStyle(),i.setCurDistance(i.resetPosition(n,t))},resetPosition:function(n,t){var i=this,a=t,o;if(i.slider.length>t.length){o=i.slider.length-t.length;for(var v=0;v<o;v++)a.push(0)}else if(i.slider.length<t.length){o=t.length-i.slider.length;for(var v=0;v<o;v++)a.pop()}for(var v=n+1;v<a.length;v++)a[v]=0;return a},reRenderWheels:function(){var n=this;if(n.wheel.length>n.displayJson.length)for(var t=n.wheel.length-n.displayJson.length,i=0;i<t;i++)n.wheels.removeChild(n.wheel[n.wheel.length-1]);for(var i=0;i<n.displayJson.length;i++)(function(o){var v="";if(n.wheel[o]){for(var u=0;u<n.displayJson[o].length;u++)v+='<li data-id="'+n.displayJson[o][u][n.keyMap.id]+'">'+n.displayJson[o][u][n.keyMap.value]+"</li>";n.slider[o].innerHTML=v}else{var c=document.createElement("div");c.className="wheel",v='<ul class="selectContainer">';for(var u=0;u<n.displayJson[o].length;u++)v+='<li data-id="'+n.displayJson[o][u][n.keyMap.id]+'">'+n.displayJson[o][u][n.keyMap.value]+"</li>";v+="</ul>",c.innerHTML=v,n.addListenerWheel(c,o),n.wheels.appendChild(c)}})(i)},updateWheels:function(n){var t=this;if(t.cascade){if(t.cascadeJsonData=n,t.displayJson=[],t.initCascade(),t.initPosition.length<t.slider.length)for(var i=t.slider.length-t.initPosition.length,a=0;a<i;a++)t.initPosition.push(0);t.setCurDistance(t.initPosition),t.fixRowStyle()}},updateWheel:function(n,t){var i=this,a="";if(i.cascade)return console.error("\u7EA7\u8054\u683C\u5F0F\u4E0D\u652F\u6301updateWheel(),\u8BF7\u4F7F\u7528updateWheels()\u66F4\u65B0\u6574\u4E2A\u6570\u636E\u6E90"),!1;if(i.jsonType){for(var o=0;o<t.length;o++)a+='<li data-id="'+t[o][i.keyMap.id]+'">'+t[o][i.keyMap.value]+"</li>";i.wheelsData[n]={data:t}}else{for(var o=0;o<t.length;o++)a+="<li>"+t[o]+"</li>";i.wheelsData[n]=t}i.slider[n].innerHTML=a},fixRowStyle:function(){for(var n=this,t=(100/n.wheel.length).toFixed(2)-2,i=0;i<n.wheel.length;i++);},getIndex:function(n){return Math.round((2*this.liHeight-n)/this.liHeight)},getIndexArr:function(){for(var n=this,t=[],i=0;i<n.curDistance.length;i++)t.push(n.getIndex(n.curDistance[i]));return t},getCurValue:function(){var n=this,t=[],i=n.getIndexArr();if(n.cascade)for(var a=0;a<n.wheel.length;a++)t.push(n.displayJson[a][i[a]]);else if(n.jsonType)for(var a=0;a<n.curDistance.length;a++)t.push(n.wheelsData[a].data[n.getIndex(n.curDistance[a])]);else for(var a=0;a<n.curDistance.length;a++)t.push(n.getInnerHtml(a));return t},getValue:function(){return this.curValue},calcDistance:function(n){return 2*this.liHeight-n*this.liHeight},setCurDistance:function(n){for(var t=this,i=[],a=0;a<t.slider.length;a++)i.push(t.calcDistance(n[a])),t.movePosition(t.slider[a],i[a]);t.curDistance=i},fixPosition:function(n){return-(this.getIndex(n)-2)*this.liHeight},movePosition:function(n,t){n.style.webkitTransform="translate3d(0,"+t+"px, 0)",n.style.transform="translate3d(0,"+t+"px, 0)"},locatePosition:function(n,t){var i=this;this.curDistance[n]=this.calcDistance(t),this.movePosition(this.slider[n],this.curDistance[n]),i.cascade&&i.checkRange(n,i.getIndexArr())},updateCurDistance:function(n,t){n.style.transform?this.curDistance[t]=parseInt(n.style.transform.split(",")[1]):this.curDistance[t]=parseInt(n.style.webkitTransform.split(",")[1])},getDistance:function(n){return n.style.transform?parseInt(n.style.transform.split(",")[1]):parseInt(n.style.webkitTransform.split(",")[1])},getInnerHtml:function(n){var t=this,i=t.slider[n].getElementsByTagName("li").length,a=t.getIndex(t.curDistance[n]);return a>=i?a=i-1:a<0&&(a=0),t.slider[n].getElementsByTagName("li")[a].innerHTML},touch:function(n,t,i){var a=this;switch(n=n||window.event,n.type){case"touchstart":a.startY=n.touches[0].clientY,a.startY=parseInt(a.startY),a.oldMoveY=a.startY;break;case"touchend":if(a.moveEndY=parseInt(n.changedTouches[0].clientY),a.offsetSum=a.moveEndY-a.startY,a.oversizeBorder=-(t.getElementsByTagName("li").length-3)*a.liHeight,a.offsetSum==0){var o=parseInt((document.documentElement.clientHeight-a.moveEndY)/40);if(o!=2){var v=o-2,u=a.curDistance[i]+v*a.liHeight;u<=2*a.liHeight&&u>=a.oversizeBorder&&(a.curDistance[i]=u,a.movePosition(t,a.curDistance[i]),a.transitionEnd(a.getIndexArr(),a.getCurValue(),i))}}else a.updateCurDistance(t,i),a.curDistance[i]=a.fixPosition(a.curDistance[i]),a.movePosition(t,a.curDistance[i]),a.curDistance[i]+a.offsetSum>2*a.liHeight?(a.curDistance[i]=2*a.liHeight,setTimeout(function(){a.movePosition(t,a.curDistance[i])},100)):a.curDistance[i]+a.offsetSum<a.oversizeBorder&&(a.curDistance[i]=a.oversizeBorder,setTimeout(function(){a.movePosition(t,a.curDistance[i])},100)),a.transitionEnd(a.getIndexArr(),a.getCurValue(),i);a.cascade&&a.checkRange(i,a.getIndexArr());break;case"touchmove":n.preventDefault(),a.moveY=n.touches[0].clientY,a.offset=a.moveY-a.oldMoveY,a.updateCurDistance(t,i),a.curDistance[i]=a.curDistance[i]+a.offset,a.movePosition(t,a.curDistance[i]),a.oldMoveY=a.moveY;break}},dragClick:function(n,t,i){var a=this;switch(n=n||window.event,n.type){case"mousedown":a.startY=n.clientY,a.oldMoveY=a.startY,a.clickStatus=!0;break;case"mouseup":if(a.moveEndY=n.clientY,a.offsetSum=a.moveEndY-a.startY,a.oversizeBorder=-(t.getElementsByTagName("li").length-3)*a.liHeight,a.offsetSum==0){var o=parseInt((document.documentElement.clientHeight-a.moveEndY)/40);if(o!=2){var v=o-2,u=a.curDistance[i]+v*a.liHeight;u<=2*a.liHeight&&u>=a.oversizeBorder&&(a.curDistance[i]=u,a.movePosition(t,a.curDistance[i]),a.transitionEnd(a.getIndexArr(),a.getCurValue(),i))}}else a.updateCurDistance(t,i),a.curDistance[i]=a.fixPosition(a.curDistance[i]),a.movePosition(t,a.curDistance[i]),a.curDistance[i]+a.offsetSum>2*a.liHeight?(a.curDistance[i]=2*a.liHeight,setTimeout(function(){a.movePosition(t,a.curDistance[i])},100)):a.curDistance[i]+a.offsetSum<a.oversizeBorder&&(a.curDistance[i]=a.oversizeBorder,setTimeout(function(){a.movePosition(t,a.curDistance[i])},100)),a.transitionEnd(a.getIndexArr(),a.getCurValue(),i);a.clickStatus=!1,a.cascade&&a.checkRange(i,a.getIndexArr());break;case"mousemove":n.preventDefault(),a.clickStatus&&(a.moveY=n.clientY,a.offset=a.moveY-a.oldMoveY,a.updateCurDistance(t,i),a.curDistance[i]=a.curDistance[i]+a.offset,a.movePosition(t,a.curDistance[i]),a.oldMoveY=a.moveY);break}}};var $e=s(16165),rt=function(){return _jsx("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:_jsx("path",{d:"M237.136842 668.294737c-5.389474-5.389474-10.778947-10.778947-10.778947-16.168421V355.705263v-21.557895-26.947368-32.336842c0-10.778947 0-21.557895 5.389473-26.947369l-5.389473-5.389473-80.842106 32.336842c-26.947368 5.389474-59.284211 16.168421-91.621052 26.947368l5.389474 21.557895 107.789473-16.168421v334.147368c0 10.778947-5.389474 16.168421-10.778947 21.557895-5.389474 5.389474-16.168421 10.778947-32.336842 10.778948-10.778947 0-32.336842 5.389474-53.894737 5.389473v16.168421H323.368421v-21.557894c-21.557895 0-37.726316 0-48.505263-5.389474-21.557895 10.778947-32.336842 5.389474-37.726316 0z m414.989474-43.11579c0-10.778947 5.389474-16.168421 5.389473-26.947368l-16.168421-5.389474c-5.389474 16.168421-10.778947 26.947368-16.168421 32.336842-5.389474 5.389474-10.778947 16.168421-16.168421 16.168421-5.389474 5.389474-10.778947 5.389474-16.168421 5.389474h-16.168421l-172.463158 5.389474 107.789474-102.4c16.168421-16.168421 32.336842-26.947368 48.505263-43.11579 16.168421-16.168421 26.947368-26.947368 37.726316-43.115789 10.778947-16.168421 21.557895-32.336842 26.947368-48.505263 5.389474-16.168421 10.778947-37.726316 10.778948-53.894737 0-21.557895-5.389474-37.726316-10.778948-53.894737-10.778947-16.168421-21.557895-26.947368-32.336842-37.726316-16.168421-10.778947-32.336842-16.168421-48.505263-21.557895-21.557895-5.389474-37.726316-10.778947-59.28421-10.778947-21.557895 0-48.505263 5.389474-70.063158 10.778947-16.168421 10.778947-37.726316 21.557895-59.284211 32.336843 0 16.168421 0 32.336842 5.389474 48.505263v53.894737h21.557895c0-16.168421 5.389474-26.947368 10.778947-37.726316l16.168421-32.336842c5.389474-10.778947 16.168421-16.168421 26.947368-21.557895 10.778947-5.389474 21.557895-5.389474 37.726316-5.389474 10.778947 0 26.947368 0 37.726316 5.389474 10.778947 5.389474 21.557895 10.778947 32.336842 21.557895 10.778947 10.778947 16.168421 16.168421 21.557895 32.336842 5.389474 10.778947 5.389474 26.947368 5.389474 37.726316 0 16.168421-5.389474 32.336842-10.778948 48.505263-5.389474 16.168421-16.168421 32.336842-26.947368 48.505263-5.389474 10.778947-21.557895 26.947368-32.336842 43.115789l-48.505264 48.505264-123.957894 123.957894 5.389473 5.389474h301.810527v-21.557895c0-10.778947 5.389474-16.168421 5.389473-26.947368 5.389474-10.778947 10.778947-21.557895 10.778948-26.947369z m307.2-80.842105c-5.389474-10.778947-16.168421-26.947368-21.557895-32.336842-10.778947-10.778947-21.557895-21.557895-37.726316-26.947368-10.778947-5.389474-26.947368-10.778947-43.115789-16.168421 16.168421-10.778947 32.336842-26.947368 43.115789-37.726316 10.778947-10.778947 21.557895-21.557895 26.947369-32.336842 5.389474-10.778947 10.778947-21.557895 10.778947-26.947369v-16.168421c0-16.168421-5.389474-32.336842-10.778947-48.505263-10.778947-10.778947-21.557895-26.947368-32.336842-32.336842-10.778947-10.778947-26.947368-16.168421-43.11579-21.557895-16.168421-5.389474-32.336842-5.389474-48.505263-5.389474-26.947368 0-48.505263 5.389474-70.063158 10.778948s-43.115789 16.168421-64.673684 32.336842v91.621053h21.557895c0-16.168421 5.389474-26.947368 10.778947-37.726316 5.389474-10.778947 10.778947-21.557895 21.557895-26.947369 10.778947-5.389474 16.168421-16.168421 26.947368-16.168421 10.778947-5.389474 21.557895-5.389474 37.726316-5.389473 10.778947 0 21.557895 0 32.336842 5.389473 10.778947 5.389474 21.557895 10.778947 26.947368 16.168421 5.389474 5.389474 16.168421 16.168421 21.557895 26.947369 5.389474 10.778947 5.389474 21.557895 5.389474 32.336842 0 21.557895-5.389474 37.726316-16.168421 53.894737-10.778947 16.168421-21.557895 26.947368-37.726316 37.726316-16.168421 10.778947-32.336842 16.168421-48.505263 21.557894-16.168421 5.389474-37.726316 10.778947-53.894737 16.168421l5.389474 26.947369c5.389474-5.389474 16.168421-5.389474 26.947368-5.389474h26.947369c16.168421 0 32.336842 0 48.505263 5.389474 16.168421 5.389474 26.947368 10.778947 37.726315 21.557894 10.778947 10.778947 16.168421 21.557895 26.947369 32.336843 5.389474 16.168421 10.778947 32.336842 10.778947 48.505263 0 16.168421 0 32.336842-5.389473 48.505263-5.389474 16.168421-10.778947 26.947368-21.557895 37.726316-10.778947 10.778947-21.557895 21.557895-37.726316 26.947368-16.168421 5.389474-32.336842 10.778947-48.505263 10.778947-21.557895 0-37.726316-5.389474-59.284211-10.778947-21.557895-10.778947-37.726316-21.557895-48.505263-32.336842-10.778947 0-16.168421 5.389474-26.947368 16.168421-5.389474-16.168421-5.389474-5.389474-5.389474 5.389474s5.389474 16.168421 10.778947 21.557894c5.389474 5.389474 10.778947 10.778947 21.557895 16.168422 10.778947 5.389474 16.168421 5.389474 26.947369 5.389473h32.336842c26.947368 0 53.894737-5.389474 86.231579-10.778947 26.947368-10.778947 53.894737-21.557895 75.452631-37.726316 21.557895-16.168421 43.115789-37.726316 53.894737-64.673684 16.168421-26.947368 21.557895-53.894737 21.557895-86.231579-5.389474-10.778947-10.778947-26.947368-16.168421-37.726316z",fill:"#bfbfbf"})})},st=function(n){return _jsx(Icon,_objectSpread({component:rt},n))},lt=function(){return(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,e.jsx)("path",{d:"M682.666667 213.333333a21.333333 21.333333 0 0 1 20.992 17.493334l0.341333 3.84v42.666666H810.666667a42.666667 42.666667 0 0 1 42.666666 42.666667v469.333333a42.666667 42.666667 0 0 1-42.666666 42.666667H256a42.666667 42.666667 0 0 1-42.666667-42.666667v-469.333333a42.666667 42.666667 0 0 1 42.666667-42.666667h106.666667v-42.666666a21.333333 21.333333 0 0 1 42.325333-3.84l0.341333 3.84v42.666666h256v-42.666666A21.333333 21.333333 0 0 1 682.666667 213.333333z m128 234.666667H256v341.333333h554.666667v-341.333333z m-448-128H256v85.333333h554.666667v-85.333333h-106.666667V341.333333a21.333333 21.333333 0 0 1-42.325333 3.84L661.333333 341.333333v-21.333333h-256V341.333333a21.333333 21.333333 0 0 1-42.325333 3.84L362.666667 341.333333v-21.333333z",fill:"#bfbfbf","p-id":"4605"})})},ot=function(n){return(0,e.jsx)($e.Z,(0,Z.Z)({component:lt},n))},_e=function(){return _jsx("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:_jsx("path",{d:"M510.61572266 166.37561035A368.95935059 368.95935059 0 0 0 141.70581055 535.33496094a368.95935059 368.95935059 0 0 0 368.95935059 368.95935059 368.95935059 368.95935059 0 0 0 368.95935058-368.95935059A368.95935059 368.95935059 0 0 0 510.61572266 166.42504883z m0 688.77685547a319.86694336 319.86694336 0 0 1 0-639.63500977 319.86694336 319.86694336 0 0 1 0 639.63500977z m159.93347168-295.24658204h-159.93347168V400.02185058a12.35961914 12.35961914 0 0 0-12.26074219-12.31018066h-24.62036133a12.35961914 12.35961914 0 0 0-12.26074219 12.31018067v196.76513671a12.35961914 12.35961914 0 0 0 12.26074219 12.31018067h196.76513672a12.35961914 12.35961914 0 0 0 12.35961914-12.31018066v-24.57092286a12.26074219 12.26074219 0 0 0-12.35961914-12.31018066z","p-id":"9722",fill:"#bfbfbf"})})},ct=function(n){return _jsx(Icon,_objectSpread({component:_e},n))},dt=function(){return _jsx("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:_jsx("path",{d:"M566.272 217.088c-11.264-7.168-24.576-11.264-41.984-11.264-4.096 0-8.192 0-12.288 1.024-45.056 7.168-74.752 48.128-93.184 87.04-8.192 18.432-15.36 37.888-22.528 56.32-3.072 9.216-7.168 17.408-10.24 26.624 0 1.024-5.12 18.432-6.144 18.432h-46.08c-6.144 0-11.264 5.12-11.264 11.264 0 6.144 5.12 11.264 11.264 11.264h39.936l-22.528 96.256c-22.528 107.52-53.248 230.4-60.416 251.904-7.168 22.528-17.408 33.792-31.744 33.792-3.072 0-5.12-1.024-7.168-2.048-2.048-1.024-3.072-3.072-3.072-5.12s1.024-5.12 4.096-9.216c3.072-4.096 4.096-9.216 4.096-13.312 0-8.192-3.072-15.36-8.192-20.48-6.144-5.12-12.288-7.168-19.456-7.168s-14.336 3.072-20.48 8.192c-1.024 7.168-4.096 14.336-4.096 23.552 0 12.288 5.12 22.528 15.36 31.744 10.24 9.216 23.552 13.312 40.96 13.312 27.648 0 52.224-12.288 70.656-33.792 11.264-13.312 19.456-28.672 26.624-45.056 22.528-50.176 34.816-105.472 48.128-158.72 13.312-54.272 25.6-108.544 36.864-162.816h44.032c6.144 0 11.264-5.12 11.264-11.264 0-6.144-5.12-11.264-11.264-11.264h-40.96c22.528-84.992 48.128-143.36 53.248-151.552 8.192-14.336 17.408-21.504 27.648-21.504 4.096 0 6.144 1.024 7.168 3.072 1.024 2.048 2.048 4.096 2.048 5.12 0 1.024-1.024 4.096-4.096 9.216-3.072 5.12-4.096 10.24-4.096 15.36 0 7.168 3.072 13.312 8.192 18.432s12.288 8.192 19.456 8.192 14.336-3.072 19.456-8.192 8.192-12.288 8.192-21.504c-1.024-17.408-6.144-28.672-17.408-35.84z m204.8 258.048c16.384 0 48.128-13.312 48.128-56.32s-30.72-45.056-40.96-45.056c-18.432 0-37.888 13.312-54.272 41.984-16.384 28.672-34.816 61.44-34.816 61.44h-1.024c-4.096-20.48-7.168-36.864-9.216-45.056-3.072-17.408-23.552-56.32-66.56-56.32s-81.92 24.576-81.92 24.576c-7.168 4.096-12.288 12.288-12.288 21.504 0 14.336 11.264 25.6 25.6 25.6 4.096 0 8.192-1.024 11.264-3.072 0 0 32.768-18.432 38.912 0 2.048 5.12 4.096 11.264 6.144 17.408 8.192 27.648 15.36 60.416 22.528 90.112L596.992 593.92s-31.744-11.264-48.128-11.264-48.128 13.312-48.128 56.32 30.72 45.056 40.96 45.056c18.432 0 37.888-13.312 54.272-41.984 16.384-28.672 34.816-61.44 34.816-61.44 5.12 26.624 10.24 48.128 13.312 56.32 10.24 30.72 34.816 48.128 67.584 48.128 0 0 33.792 0 72.704-22.528 9.216-4.096 16.384-13.312 16.384-23.552 0-14.336-11.264-25.6-25.6-25.6-4.096 0-8.192 1.024-11.264 3.072 0 0-27.648 15.36-37.888 3.072-7.168-13.312-12.288-30.72-17.408-52.224-4.096-19.456-9.216-41.984-13.312-63.488l28.672-40.96c-1.024 1.024 30.72 12.288 47.104 12.288z","p-id":"1938",fill:"#bfbfbf"})})},H=function(n){return _jsx(Icon,_objectSpread({component:dt},n))},Q=s(27484),X=s.n(Q);function K(r,n){for(var t=[],i=r;i<=n;i++)t.push("".concat(i).padStart(2,"0"));return t}function ae(r,n){var t=31;return[1,3,5,7,8,10,12].indexOf(parseInt(n))!=-1?t=31:(t=30,n==2&&r%4==0?t=29:n==2&&r%4!=0&&(t=28)),t}var oe=function(n){var t=n.onChange,i=n.value,a=i===void 0?"":i,o=n.suffix,v=n.readOnly,u=n.dateTimeFormat,c=u===void 0?"YYYY-MM-DD":u,f=n.style,m=n.bordered,y=n.className,x=(0,l.useRef)(),p=(0,l.useRef)(0);return(0,l.useEffect)(function(){var g=X()(X()(a||void 0).format(c),c),C=K(1900,2100),j=K(1,12),O=K(1,ae(g.year(),g.month())),P=K(0,23),w=K(0,59),U=K(0,59),L=[],_=[],z=0;c.includes("YYYY")&&(L.push({data:C}),_.push(C.indexOf("".concat(g.year()))),z++),c.includes("MM")&&(L.push({data:j}),_.push(j.indexOf(String(g.month()+1).padStart(2,"0"))),z++),c.includes("DD")&&(L.push({data:O}),_.push(O.indexOf(String(g.date()+1).padStart(2,"0"))),z++),p.current=z,c.includes("HH")&&(L.push({data:P}),_.push(P.indexOf(String(g.hour()).padStart(2,"0"))),z++),c.includes("mm")&&(L.push({data:w}),_.push(w.indexOf(String(g.minute()).padStart(2,"0"))),z++),c.includes("ss")&&(L.push({data:U}),_.push(U.indexOf(String(g.second()).padStart(2,"0"))),z++),x.current=new De({title:"\u65E5\u671F\u9009\u62E9",position:_,wheels:L,onShow:function(){document.getElementsByTagName("body")[0].style.overflow="hidden"},onHide:function(){document.getElementsByTagName("body")[0].style.overflow=null},transitionEnd:function(q,ee,ie){ie===1&&x.current.updateWheel(2,K(1,ae(ee[0],ee[1])))},callback:function(q,ee){var ie=[];p.current>0&&ie.push(ee.slice(0,p.current).join("-")),ee.length>p.current&&ie.push(ee.slice(p.current).join(":")),t(ie.join(" "))}})},[]),(0,e.jsx)(Y.Z,{prefix:(0,e.jsx)(ot,{}),readOnly:!0,value:a,style:f,suffix:o,bordered:m,className:y,onClick:function(){v||x.current.show()}})};function $(){var r=new Date;return["".concat(r.getHours()).padStart(2,"0"),"".concat(r.getMinutes()).padStart(2,"0"),"".concat(r.getSeconds()).padStart(2,"0")]}var Ce=function(n){var t=n.onChange,i=n.value,a=i===void 0?"":i,o=n.readOnly,v=useRef(),u=useRef();return useEffect(function(){var c=$(),f=_slicedToArray(c,3),m=f[0],y=f[1],x=f[2],p=a.split(":"),g=_slicedToArray(p,3),C=g[0],j=g[1],O=g[2],P=generateSerialNums(0,23),w=generateSerialNums(0,59),U=generateSerialNums(0,59);v.current=new MobileSelect({title:"\u65F6\u95F4\u9009\u62E9",position:[P.indexOf(C||m),w.indexOf(j||y),U.indexOf(O||x)],wheels:[{data:P},{data:w},{data:U}],onShow:function(){document.getElementsByTagName("body")[0].style.overflow="hidden"},onHide:function(){document.getElementsByTagName("body")[0].style.overflow=null},callback:function(_,z){t(z.join(":"))}})},[]),_jsx("div",{ref:u,children:_jsx(_Input,{prefix:_jsx(TimeIcon,{}),readOnly:!0,value:a,onClick:function(){o||v.current.show()}})})},re=s(62612),Ae=s(17672),ge=s(94184),pe=s.n(ge),ze=s(73935),He=function(n){var t=n.visible,i=n.title,a=n.children,o=n.okContent,v=n.cancelContent,u=n.height,c=n.onCancel;return ze.createPortal((0,e.jsxs)("div",{className:pe()("mobileDrawer",{"mobileDrawer-show":t}),children:[(0,e.jsx)("div",{className:"grayLayer",onClick:c}),(0,e.jsxs)("div",{className:"content",children:[(0,e.jsx)("div",{className:"btnBar",children:(0,e.jsxs)("div",{className:"fixWidth",children:[(0,e.jsx)("div",{className:"cancel",children:v}),i&&(0,e.jsx)("div",{className:"title",children:i}),(0,e.jsx)("div",{className:"ensure",style:{width:80,display:"flex",justifyContent:"space-between"},children:o})]})}),(0,e.jsx)("div",{className:"panel",children:(0,e.jsx)("div",{className:"fixWidth",children:(0,e.jsx)("div",{className:"wheels",style:{height:u},children:a})})})]})]}),document.body)},Re=function(n){var t=n.onChange,i=(0,l.useRef)(null),a=(0,l.useRef)(),o=(0,l.useRef)(),v=(0,l.useState)(!1),u=(0,M.Z)(v,2),c=u[0],f=u[1];return(0,l.useEffect)(function(){var m=i.current;if(m){var y,x=new Ae.Z(i.current,{});a.current=x;var p=Math.max(window.devicePixelRatio||1,1);m.width=m.offsetWidth*p,m.height=m.offsetHeight*p,(y=m.getContext("2d"))===null||y===void 0||y.scale(p,p)}},[]),(0,e.jsxs)("div",{style:{position:"relative"},children:[(0,e.jsx)("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#aaa",visibility:o.current?"hidden":"visible"},onClick:function(){return f(!0)},children:"\u70B9\u51FB\u7B7E\u540D"}),(0,e.jsx)("img",{src:o.current||void 0,style:{display:"block",width:"100%",height:100,border:o.current?"1px solid #E3E3E3":0},onClick:function(){return f(!0)}}),(0,e.jsx)(He,{visible:c,title:"\u7535\u5B50\u7B7E\u540D",okContent:(0,e.jsx)("div",{style:{userSelect:"none"},onClick:function(){var y,x;if((y=a.current)!==null&&y!==void 0&&y.isEmpty()){re.FN.show({content:"\u7B7E\u540D\u4E0D\u80FD\u4E3A\u7A7A",position:"top",maskStyle:{zIndex:1e4}});return}o.current=(x=a.current)===null||x===void 0?void 0:x.toDataURL(),f(!1),t(a.current.toDataURL())},children:"\u786E\u8BA4\u7B7E\u540D"}),cancelContent:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:80},children:[(0,e.jsx)("div",{onClick:function(){return f(!1)},children:"\u53D6\u6D88"}),(0,e.jsx)("div",{style:{color:"#1e83d3"},onClick:function(){var y;return(y=a.current)===null||y===void 0?void 0:y.clear()},children:"\u91CD\u7F6E"})]}),children:(0,e.jsx)("canvas",{ref:i,style:{width:"100%",height:400,touchAction:"none",userSelect:"none"}})})]})};function Te(r){return r?r.substring(0,r.lastIndexOf("[")):"\u70B9\u51FB\u9009\u62E9"}var be=function(n){var t=n.onChange,i=n.value,a=n.mapMove,o=a===void 0?!1:a,v=n.optionId,u=(0,l.useRef)(null),c=(0,l.useRef)(),f=(0,l.useRef)(),m=(0,l.useRef)(),y=(0,l.useRef)(),x=(0,l.useState)(function(){if(!!i){var q=i.match(/\[(\d+\.\d+),\s*(\d+\.\d+)\]/);if(q&&q.length>2)return[parseFloat(q[1]),parseFloat(q[2])]}}),p=(0,M.Z)(x,2),g=p[0],C=p[1],j=(0,l.useState)(function(){return Te(i)}),O=(0,M.Z)(j,2),P=O[0],w=O[1],U=(0,l.useState)(!1),L=(0,M.Z)(U,2),_=L[0],z=L[1],de=(0,l.useCallback)(function(q){f.current.getLocation(q,function(ee,ie){if(ee==="complete"&&ie.geocodes.length){var me=ie.geocodes[0].location;m.current.start(me)}else console.error("\u6839\u636E\u5730\u5740\u67E5\u8BE2\u4F4D\u7F6E\u5931\u8D25")})},[]);return(0,l.useEffect)(function(){window["localMap".concat(v)]=function(){initAMapUI(),AMapUI.loadUI(["misc/PositionPicker"],function(Ne){var Oe=new AMap.Map("map-".concat(v),{zoom:16,center:g,dragEnable:o,zoomEnable:o});if(c.current=Oe,o){var Ee=new Ne({mode:"dragMarker",map:Oe});Ee.on("success",function(Ge){w(Ge.address),C([Ge.position.lng,Ge.position.lat])}),g?Ee.start(g):Ee.start(),Oe.panBy(0,1),m.current=Ee}var Ze=new AMap.Geocoder({city:"010"});f.current=Ze;var it=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,offset:[10,20],zoomToAccuracy:!0,position:"RB"});y.current=it,it.getCurrentPosition(function(Ge,Ke){Ge=="complete"?o?positionPicker.start(Ke.position):(Oe.setCenter(Ke.position),w(Ke.formattedAddress),C([Ke.position.lng,Ke.position.lat])):console.error(Ke)})})},window._AMapSecurityConfig={securityJsCode:"c92dc7c089f25dcd7944094d3ee1a959"};var q="https://webapi.amap.com/maps?v=1.4.15&key=fce3217057b3ace0b2128cb5d1696c87&callback=localMap".concat(v,"&plugin=AMap.Geocoder,AMap.Geolocation"),ee=document.createElement("script");ee.src=q,document.head.appendChild(ee);var ie="https://webapi.amap.com/ui/1.1/main-async.js",me=document.createElement("script");me.src=ie,document.head.appendChild(me)},[]),(0,e.jsxs)("div",{style:{position:"relative"},children:[(0,e.jsx)(Y.Z.TextArea,{readOnly:!0,value:Te(i),onClick:function(){return z(!0)}}),(0,e.jsxs)(He,{visible:_,height:450,onCancel:function(){z(!1)},okContent:(0,e.jsx)("div",{style:{userSelect:"none"},onClick:function(){g&&t("".concat(P,"[").concat(g[0],", ").concat(g[1],"]")),z(!1)},children:"\u786E\u8BA4\u9009\u62E9"}),cancelContent:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:200},children:[!o&&(0,e.jsx)(R.Z,{type:"link",children:"\u83B7\u53D6\u4F4D\u7F6E"}),o&&(0,e.jsx)(Y.Z.Search,{placeholder:"\u8BF7\u8F93\u5165\u8981\u641C\u7D22\u7684\u5730\u70B9\u3001\u8857\u9053",size:"small",onSearch:function(ee){return de(ee)}})]}),children:[(0,e.jsx)("div",{ref:u,id:"map-".concat(v),style:{height:390}}),(0,e.jsx)("div",{style:{height:50,borderTop:"1px solid #b0b0b0",background:"#fff",padding:"12px 18px"},children:P})]})]})},he=function(n){var t,i=n.optionId,a=n.questionId,o=n.checked,v=n.checkedCount,u=(0,h.Al)(),c=u.statistics,f=c==null?void 0:c.questionStatistics[a],m=((f==null?void 0:f.optionStatistics.reduce(function(p,g){return p+g.count},0))||0)+v,y=(f==null||(t=f.optionStatistics.find(function(p){return p.optionId===i}))===null||t===void 0?void 0:t.count)||0;y=o?y+1:y;var x="".concat(Math.floor(y/m*1e3)/10,"%");return v===0?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)("span",{className:"vote-info",children:[(0,e.jsxs)("span",{className:"vote-info-cnt ",children:[y,"\u7968"]}),(0,e.jsx)("span",{className:"vote-info-percent ",children:x}),(0,e.jsx)("div",{className:"vote-info-bar",children:(0,e.jsx)("div",{className:"vote-info-bar-fill",style:{width:x}})})]})},Ue=s(93224),Ve=s(39017),je=s(49914),We=s(78338);function ut(r){r=Number(r);var n=Math.floor(r/3600),t=Math.floor(r%3600/60),i=Math.floor(r%3600%60),a="".concat(n).padStart(2,"0"),o="".concat(t).padStart(2,"0"),v="".concat(i).padStart(2,"0");return"".concat(a,":").concat(o,":").concat(v)}function ht(r){return r<=60?"#ff4d4f":r<=180?"#faad14":"#52c41a"}var vt=(0,D.Pi)(function(){var r,n,t=(0,je.H)(),i=(0,Ve.Rk)(),a=t.startTime,o=((r=t.project)===null||r===void 0||(n=r.setting.examSetting)===null||n===void 0?void 0:n.maxSubmitMinutes)||0,v=(0,l.useState)(0),u=(0,M.Z)(v,2),c=u[0],f=u[1],m=a+o*60*1e3,y=(0,l.useRef)();return(0,l.useEffect)(function(){if(o!==0)return y.current=window.setInterval(function(){f((m-new Date().getTime())/1e3)},1e3),function(){clearInterval(y.current)}},[m]),(0,l.useEffect)(function(){c<0&&(i.submit(),clearInterval(y.current))},[c]),o===0?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)("div",{style:{position:"absolute",right:10,fontSize:13},children:[(0,e.jsx)(We.Z,{style:{marginRight:5,color:"#1890ff"}}),"\u5269\u4F59:",(0,e.jsx)("span",{style:{marginLeft:3,color:ht(c)},children:ut(c)})]})}),ft=["size","marked"],Xe=(0,D.Pi)(function(r){var n=r.size,t=r.marked,i=t===void 0?!0:t,a=(0,Ue.Z)(r,ft),o=(0,h.Rk)(),v=o.props.answerSheetVisible;return v?(0,e.jsx)("svg",(0,Z.Z)((0,Z.Z)({viewBox:"0 0 1024 1024",version:"1.1",width:r.size||24,height:r.size||24,className:"marked"},a),{},{children:(0,e.jsx)("path",{d:"M662.04973405 329.56834123l108.40905238-142.19888693c4.22372932-5.63163908 4.22372932-11.26327817 1.40790978-18.30282702-2.81581955-5.63163908-8.44745863-9.8553684-15.48700748-9.85536841H218.55815604c-9.8553684 0-16.89491725 7.03954885-16.89491725 16.89491726V867.38987389c0 9.8553684 7.03954885 16.89491725 16.89491725 16.89491726s16.89491725-7.03954885 16.89491726-16.89491726V487.25423562h522.33452519c7.03954885 0 12.67118794-4.22372932 15.48700749-9.8553684s1.40790977-12.67118794-2.81581955-18.30282703l-108.40905238-129.52769896z",fill:i?"#EA4942":"#d8d8d8","p-id":"1287"})})):(0,e.jsx)(e.Fragment,{})}),Ye=(0,D.Pi)(function(r){var n=(0,h.Rk)(),t=r.finished,i=r.marked,a=r.seqNo,o=r.id;return(0,e.jsxs)("div",{className:pe()("answer-sheet-item",{marked:i,finished:t}),onClick:function(){return n.changePageIndex(o)},children:[a,i&&(0,e.jsx)(Xe,{style:{position:"absolute",left:32,bottom:32},size:24})]})}),mt=(0,D.Pi)(function(){var r=(0,h.Rk)(),n=r.answerSheet;return(0,e.jsx)(e.Fragment,{children:n.filter(function(t){return t.display!=="none"}).map(function(t,i){return(0,l.createElement)(Ye,(0,Z.Z)((0,Z.Z)({},t),{},{seqNo:i+1,key:t.id}))})})}),Qe=(0,D.Pi)(function(){var r=(0,h.Rk)(),n=r.answerSheet,t=n.filter(function(o){return o.finished}).length,i=n.filter(function(o){return!o.finished}).length,a=n.filter(function(o){return o.marked}).length;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"finished",children:["\u5DF2\u7B54",(0,e.jsx)("span",{style:{marginLeft:4},children:t})]}),(0,e.jsxs)("div",{className:"unFinished",children:["\u672A\u7B54",(0,e.jsx)("span",{style:{marginLeft:4},children:i})]}),(0,e.jsxs)("div",{className:"marked",children:[(0,e.jsx)(Xe,{size:18}),"\u6807\u8BB0",(0,e.jsx)("span",{style:{marginLeft:4},children:a})]})]})}),Ie=(0,D.Pi)(function(){var r=(0,h.Rk)(),n=r.props.answerSheetVisible,t=r.answerSheetVisible;return n?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginRight:12},onClick:function(){r.answerSheetVisible=!0},children:[(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,e.jsx)("path",{d:"M800 96c70.4 0 128 57.6 128 128v576c0 70.4-57.6 128-128 128H224c-70.4 0-128-57.6-128-128V224c0-70.4 57.6-128 128-128h576z m0 64H224c-35.2 0-60.8 25.6-64 60.8V800c0 35.2 25.6 60.8 60.8 64H800c35.2 0 60.8-25.6 64-60.8V224c0-35.2-25.6-60.8-60.8-64H800zM416 640c35.2 0 64 28.8 64 64s-28.8 64-64 64H288c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m320 0c35.2 0 64 28.8 64 64s-28.8 64-64 64h-128c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m-320-192c35.2 0 64 28.8 64 64s-28.8 64-64 64H288c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m320 0c35.2 0 64 28.8 64 64s-28.8 64-64 64h-128c-35.2 0-64-28.8-64-64s28.8-64 64-64h128zM416 256c35.2 0 64 28.8 64 64s-28.8 64-64 64H288c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z m320 0c35.2 0 64 28.8 64 64s-28.8 64-64 64h-128c-35.2 0-64-28.8-64-64s28.8-64 64-64h128z",fill:"#8c8c8c"})}),"\u7B54\u9898\u5361"]}),(0,e.jsx)(re.GI,{visible:t,onMaskClick:function(){r.answerSheetVisible=!1},className:"adm-answer-sheet",bodyStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px",overflowY:"auto"},children:(0,e.jsxs)("div",{className:"answer-sheet",children:[(0,e.jsxs)("div",{className:"answer-sheet-header",children:["\u7B54\u9898\u5361",(0,e.jsx)(vt,{})]}),(0,e.jsx)("div",{className:"answer-sheet-content",children:(0,e.jsx)(mt,{})}),(0,e.jsx)("div",{className:"answer-sheet-footer",children:(0,e.jsx)(Qe,{})})]})})]}):(0,e.jsx)(e.Fragment,{})}),Se=(0,D.Pi)(function(r){var n=(0,h.Rk)(),t=n.reviewAnswer[r.qId];return t&&!t.visible?(0,e.jsx)(R.Z,{block:!0,ghost:!0,className:"review-answer-btn",style:{marginTop:10},onClick:function(){t.visible=!0},children:"\u67E5\u770B\u7B54\u6848"}):(0,e.jsx)(e.Fragment,{})}),ve=s(88983),Je=s(66253),qe=s(43061),xe=s(38819),et=s(91220),Be=s(15020);function Le(r,n,t){if(!r)return"";var i=RegExp("_{3,}","g"),a=r.matchAll(i),o=[],v=(0,et.Z)(a),u;try{for(v.s();!(u=v.n()).done;){var c=u.value,f=c.index,m=c.index+c[0].length;o.push([f,m])}}catch(C){v.e(C)}finally{v.f()}for(var y=o[0][0]===0?"":r.substring(0,o[0][0]),x=function(j){var O,P,w=o[j],U=o[j+1];if(!w)return"break";var L=r.substring(w[0],w[1]),_=r.substring(w[1],U?U[0]:r.length),z=t?t[n[j].id]:"",de=n[j];if(((O=de.attribute)===null||O===void 0?void 0:O.dataType)==="select"){var q,ee;z=(q=de.dataSource)===null||q===void 0||(ee=q.find(function(Ne){return Ne.value===z}))===null||ee===void 0?void 0:ee.label}else if(((P=de.attribute)===null||P===void 0?void 0:P.dataType)==="selectDict"){var ie,me;z=(ie=z)===null||ie===void 0||(me=ie.split("|"))===null||me===void 0?void 0:me[1]}y+='<input data-id="'.concat(n[j].id,`" value='`).concat(z,`' class="horz-blank" style="width:`).concat(12*L.length,'px">'),y+=_},p=0;p<o.length;p++){var g=x(p);if(g==="break")break}return y}var Pe=(0,D.Pi)(function(r){var n=r.content,t=r.children,i=r.value,a=i===void 0?{}:i,o=r.onChange,v=r.onBlur,u=r.schema,c=(0,h.Rk)(),f=c.reviewAnswer[u.id];function m(y,x){var p,g;if(a[y]!==x){a[y]=x;var C=t.find(function(w){return w.id===y}),j=C==null||(p=C.attribute)===null||p===void 0?void 0:p.cascaderLevel,O=C==null||(g=C.attribute)===null||g===void 0?void 0:g.dictCode;O&&j&&t.filter(function(w){var U;return((U=w.attribute)===null||U===void 0?void 0:U.dictCode)===O&&w.attribute.cascaderLevel&&w.attribute.cascaderLevel>j}).forEach(function(w){delete a[w.id]}),(x===""||x===void 0)&&delete a[y];var P=(0,Z.Z)({},a);if(Object.keys(P).length!==0)return P}}return(0,e.jsx)("div",{className:"pe-view",onClick:function(x){x.preventDefault(),x.stopPropagation()},children:(0,Be.ZP)(Le(n,t),{replace:function(x){var p=x.attribs;if(!!p){var g=p["data-id"];if(g){var C,j,O,P,w,U=(0,Be.e_)(p),L=t.findIndex(function(Ee){return Ee.id===g}),_=t[L],z=(C=t[L-1])===null||C===void 0?void 0:C.id,de=a[z],q=(_==null||(j=_.attribute)===null||j===void 0?void 0:j.dataType)||"text",ee=_==null||(O=_.attribute)===null||O===void 0?void 0:O.dictCode,ie=_==null||(P=_.attribute)===null||P===void 0?void 0:P.dateTimeFormat,me=(w=_.attribute)===null||w===void 0?void 0:w.cascaderLevel,Ne=f==null?void 0:f[g].isCorrect,Oe=pe()(U.className,{selected:f&&f.visible,"is-correct":f&&f.visible&&Ne});return(0,e.jsx)(ce,(0,Z.Z)((0,Z.Z)({type:q,value:a[g],parentValue:de,cascaderLevel:me,onChange:function(Ze){return o(m(g,Ze))},onBlur:function(Ze){return v(m(g,Ze))},dictCode:ee,dateTimeFormat:ie,schema:_,bordered:!1,icon:!1},U),{},{className:Oe}))}}}})})}),gt=(0,D.Pi)(function(r){var n=r.qId,t=r.schema,i=r.value,a=r.onChange,o=r.onBlur,v=t.id,u=t.title,c=t.attribute,f=c===void 0?{}:c,m=(0,h.Rk)(),y=m.reviewAnswer[n],x=y==null?void 0:y[v].selected,p=y==null?void 0:y[v].isCorrect,g=f.dataType;return y&&y.visible&&(x||p)?(0,e.jsxs)("label",{className:pe()("ant-radio-wrapper ant-radio-wrapper-in-form-item option-item",{selected:x,"is-correct":p}),onClick:function(){return r.onChange()},children:[(0,e.jsxs)("span",{children:[!p&&(0,e.jsx)(qe.Z,{style:{color:"#ff6d56",marginRight:10}}),p&&(0,e.jsx)(xe.Z,{style:{color:"#00bf6f",marginRight:10}})]}),(0,e.jsx)("div",{className:"option-label-wrap",children:(0,e.jsx)(E.Z,{html:u})})]}):(0,e.jsx)(Je.ZP,{value:v,className:"option-item",onClick:function(){return r.onChange(i)},children:g==="horzBlank"&&t.children?(0,e.jsx)(Pe,{schema:t,content:u,children:t.children,value:typeof i=="boolean"?{}:i,onBlur:o,onChange:a}):(0,e.jsx)(E.Z,{html:u})})}),jt=s(63185),fe=s(9676),Zt=s(36862),wt=s(46533),At=(0,D.Pi)(function(r){var n=r.qId,t=r.schema,i=r.checked,a=r.onChange,o=r.value,v=r.onBlur,u=t.id,c=t.title,f=t.attribute,m=f===void 0?{}:f,y=(0,h.Rk)(),x=y.reviewAnswer[n],p=x==null?void 0:x[u].selected,g=x==null?void 0:x[u].isCorrect,C=m.dataType;return x&&x.visible&&(p||g)?(0,e.jsxs)("label",{className:pe()("ant-checkbox-wrapper ant-checkbox-wrapper-in-form-item option-item",{selected:p,"is-correct":g}),onClick:function(){return a(!i)},children:[(0,e.jsxs)("span",{children:[!g&&(0,e.jsx)(Zt.Z,{size:17,style:{color:"#ff6d56",marginRight:10,fontSize:17}}),g&&(0,e.jsx)(wt.Z,{size:17,style:{color:"#00bf6f",marginRight:10,fontSize:17}})]}),(0,e.jsx)("div",{className:"option-label-wrap",children:(0,e.jsx)(E.Z,{html:c})})]}):(0,e.jsx)(fe.Z,{value:u,checked:i,onChange:function(O){return a(O.target.checked)},className:"option-item",children:C==="horzBlank"&&t.children?(0,e.jsx)(Pe,{schema:t,content:c,children:t.children,value:o,onBlur:v,onChange:function(O){return a(!0,O)}}):(0,e.jsx)(E.Z,{html:c})})}),xt=(0,D.Pi)(function(r){var n=r.schema,t=r.value,i=r.onChange,a=r.qId,o=(0,h.AK)("-body-question"),v=n.id,u=n.attribute,c=n.title,f=u==null?void 0:u.suffix,m=u==null?void 0:u.dataType,y=u==null?void 0:u.readOnly,x=(0,h.Rk)(),p=x.reviewAnswer[a],g=p==null?void 0:p[v].isCorrect;return p&&p.visible?(0,e.jsxs)("span",{style:{position:"relative",width:"100%"},children:[!g&&(0,e.jsx)(qe.Z,{style:{color:"#ff6d56",marginRight:10,position:"absolute",left:4,top:3,zIndex:1}}),g&&(0,e.jsx)(xe.Z,{style:{color:"#00bf6f",marginRight:10,position:"absolute",left:4,top:3,zIndex:1}}),(0,e.jsx)(ce,{type:m,value:t[v],className:pe()("selected",{"is-correct":g}),onChange:function(j){return i(j)},style:{paddingLeft:20},schema:n,suffix:f&&(0,e.jsx)("span",{className:o+"-option-suffix",children:(0,e.jsx)(E.Z,{html:f})})})]}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ce,{type:m,value:t[v],onChange:function(j){return i(j)},readOnly:y,schema:n,suffix:f&&(0,e.jsx)("span",{className:o+"-option-suffix",children:(0,e.jsx)(E.Z,{html:f})})})})}),It=(0,D.Pi)(function(r){var n,t,i=r.qId,a=r.schema,o=(0,h.Rk)(),v=o.reviewAnswer[i],u=(n=a.children)===null||n===void 0?void 0:n.map(function(y){var x;return(x=y.attribute)===null||x===void 0?void 0:x.examCorrectAnswer}).filter(function(y){return y}).join(";"),c=u&&["FillBlank","MultipleBlank","Textarea"].includes(a.type),f=function(){return c?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"answer-analysis-title",children:"\u6B63\u786E\u7B54\u6848\uFF1A"}),(0,e.jsx)("div",{className:"answer-analysis-content",style:{marginBottom:10},children:u})]}):(0,e.jsx)(e.Fragment,{})},m=function(){var x;if((x=a.attribute)!==null&&x!==void 0&&x.examAnalysis){var p;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"answer-analysis-title",children:"\u7B54\u6848\u89E3\u6790\uFF1A"}),(0,e.jsx)("div",{className:"answer-analysis-content",children:(0,e.jsx)(E.Z,{html:(p=a.attribute)===null||p===void 0?void 0:p.examAnalysis})})]})}return(0,e.jsx)(e.Fragment,{})};return v&&v.visible&&((t=a.attribute)!==null&&t!==void 0&&t.examAnalysis||c)?(0,e.jsxs)("div",{className:"answer-analysis",children:[f(),m()]}):(0,e.jsx)(e.Fragment,{})}),Nt=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,e.jsx)("path",{d:"M839 73.9c-1.2-2.4-3.7-9.8-7.4-9.8s-11.1 8.6-13.5 12.3l-13.5 12.3c-7.4-6.1-35.6-23.4-43-23.4-11.1 0-104.6 113.2-118.1 129.1l-60.2 68.8-30.7 38.1-43.1-83.6-50.4-100.8c-4.9-9.8-8.6-22.1-22.1-22.1-7.3 0-9.8 3.6-13.5 9.8-3.7 4.9-3.7 4.9-11.1 8.6-8.6 0-12.3 0-19.7 6.2-6.2-4.9-11.1-11.1-19.7-11.1-3.7 0-6.2 1.2-8.6 3.6l-8.6 7.4c-4.8 6.1-15.9 17.2-15.9 25.8 0 11 9.8 31.9 13.5 41.8l90.9 250.8-14.7 17.3c-66.4 79.8-159.8 190.5-210.2 279l-29.5 50.4c-8.6 14.7-29.5 44.3-29.5 60.2 0 3.7 3.8 6.2 6.2 8.6 8.6 7.3 3.6 14.7 1.2 24.5-2.5 7.4-3.7 12.3-3.7 19.7 0 13.5 11.1 27 18.5 38.1 7.3 12.2 9.9 24.5 25.8 24.5 17.2 0 49.2-3.6 63.9-14.7l243.4-377.5 115.6 178.5c6.1 9.8 30.7 54.1 46.7 54.1 14.8 0 38.1-16.1 40.6-30.8-2.6-4.9-6.2-12.3-6.2-17.2 0-7.5 19.7-14.9 24.6-19.7v-9.9c8.6-3.7 13.5-8.6 17.2-17.2l-95.9-205.3-38.2-76.3 13.6-19.7 174.6-225.9c11-14.8 28.3-38.1 41.8-50.4 4.9-5 13.5-12.3 13.5-19.7 0-8.6-19.7-22.1-24.6-34.4z","p-id":"14396",fill:"#fe6c56"})}),kt=(0,e.jsx)("svg",{viewBox:"0 0 1024 1024",width:"24",height:"24",children:(0,e.jsx)("path",{d:"M389.7 604.3L198.2 447.4c-3.7-3-9.1-3-12.8 0.1l-73.3 61.4c-4.4 3.7-4.8 10.3-0.9 14.5l324.1 344.3c5 5.3 13.8 3.6 16.6-3.1 64.4-160.1 244.3-452.8 463.2-664.7 3-2.9 3.9-7.2 2.3-11l-13.7-33c-2.4-5.8-9.5-8-14.7-4.5-243.2 157.7-419.4 353.5-499.3 452.9z",fill:"#fe6c56","p-id":"4913"})}),Rt=(0,D.Pi)(function(r){var n=r.schema,t=r.seqNo,i=(0,h.Rk)(),a=i.props.correctAnswerVisible,o=i.props.questionScore;return!a||!o?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)("div",{className:"exam-score-info",children:[(0,e.jsxs)("span",{children:["\u7B2C",t,"\u9898"]}),o[n.id]?(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsxs)("span",{className:"score",children:["\u5F97\u5206:",o[n.id],"\u5206"]}),kt]}):Nt]})}),Tt=(0,D.Pi)(function(r){var n,t=r.schema,i=r.title,a=r.onBlur,o=r.onChange,v=t.type,u=((n=t.children)===null||n===void 0?void 0:n.filter(function(m){var y;return(y=m.attribute)===null||y===void 0?void 0:y.fieldInTitle}))||[],c=(0,D.U$)(),f=c.value;return v!=="HorzBlank"||u.length===0?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(E.Z,{html:i})}):(0,e.jsx)(Pe,{schema:t,children:u,content:i,onChange:o,onBlur:a,value:f})});function Bt(r){var n,t=r.schema,i=r.index,a=r.qsIndex,o=r.required,v=r.error,u=r.replaceTitle,c=r.seqNo,f=r.onBlur,m=r.onChange,y=r.onFocus,x=(0,l.useContext)(I.ZX),p=x.questionNumber,g=x.requiredVisible,C=(0,h.AK)("-body-question"),j=(0,l.useState)(),O=(0,M.Z)(j,2),P=O[0],w=O[1],U=(0,h.Rk)(),L=(n=U.answerSheet.find(function(q){return q.id===t.id}))===null||n===void 0?void 0:n.marked,_=t.description;(0,l.useEffect)(function(){if(P){var q,ee;(q=document.querySelector("[data-id='".concat(t.id,"']")))===null||q===void 0||q.classList.remove("ant-form-item-has-error"),(ee=document.querySelector("[data-id='".concat(t.id,"']")))===null||ee===void 0||ee.querySelectorAll("[data-id]").forEach(function(it){it.classList.remove("ant-form-item-has-error")})}if(v.length>0){var ie,me=v[0].split("^"),Ne=(0,M.Z)(me,2),Oe=Ne[0],Ee=Ne[1],Ze;Ee?(Ze=document.querySelector("[data-id='".concat(Oe,"']")),w(Ee)):(Ze=document.querySelector("[data-id='".concat(t.id,"']")),w(Oe)),(ie=Ze)===null||ie===void 0||ie.classList.add("ant-form-item-has-error")}else P&&w(void 0)},[v]);var z="";a!==void 0&&(z+=a+1+"-"),i!==void 0&&(z+=i+1+".");var de=function(){return P?(0,e.jsx)("span",{className:"question-tag error animated",children:(0,e.jsx)("span",{children:P})}):(0,e.jsx)(e.Fragment,{})};return(0,e.jsxs)("div",{className:C,children:[(0,e.jsx)(Rt,{schema:t,seqNo:c}),(0,e.jsxs)(A.Z.Item,{label:(0,e.jsxs)("h2",{className:C+"-header",children:[o&&(0,e.jsx)("span",{className:"question-required",children:"*"}),p?(0,e.jsx)("span",{className:"question-seq",children:c||z}):"",(0,e.jsx)(Tt,{schema:t,title:u||t.title,onBlur:f,onChange:m,onFocus:y}),de(),_&&(0,e.jsx)("div",{className:"question-desc",children:(0,e.jsx)(E.Z,{html:_})})]}),labelCol:{span:24},wrapperCol:{span:24},children:[r.children,(0,e.jsx)(Se,{qId:t.id}),(0,e.jsx)(It,{qId:t.id,schema:t})]})]})}(0,d.eC)("Question",(0,D.Pi)(Bt),"antdMobile");function Lt(r){var n=r.schema,t=r.index,i=r.seqNo,a=(0,h.AK)("-body-questionSet"),o=(0,l.useContext)(I.ZX),v=o.questionNumber;return(0,e.jsxs)("div",{className:a,children:[(0,e.jsxs)("div",{className:a+"-title",children:[v?i||"".concat(t+1,"."):"",(0,e.jsx)(E.Z,{html:n.title})]}),r.children,(0,e.jsx)("div",{className:a+"-splitLine"})]})}(0,d.eC)("QuestionSet",Lt,"antdMobile");var Zn=s(84305),Ft=s(88182),_t=s(82925),zt=s(3024),Ht=(0,D.Pi)(function(){var r=(0,l.useContext)(I.ZX),n=r.progressBar,t=(0,h.AK)(),i=(0,h.Rk)(),a=i.progress;return n?(0,e.jsx)(zt.Z,{enabled:!0,top:0,innerActiveClass:"fixed",children:(0,e.jsx)("div",{className:t+"-progress",children:(0,e.jsx)("div",{className:"progress-bar s-prog-wait",children:(0,e.jsx)("div",{className:"progress-done  s-prog-done",style:{width:"".concat(a*100,"%")}})})})}):(0,e.jsx)(e.Fragment,{})});function Ut(r){var n=r.headerVisible,t=r.footerVisible,i=r.schema,a=(0,h.AK)(),o=(0,h.Al)(),v=function(){var c,f=(c=i.attribute)===null||c===void 0?void 0:c.headerImage;if(f)return(0,e.jsx)("img",{src:"/api/public/preview/".concat(f),style:{maxWidth:"100%"}})};return(0,e.jsxs)("div",{className:pe()(a,{preview:o.isPreview}),children:[(0,e.jsx)(Ht,{}),(0,e.jsx)("div",{className:a+"-banner",children:v()}),n&&(0,e.jsx)(N,{}),(0,e.jsx)(Ft.ZP,{locale:_t.Z,children:(0,e.jsx)(k,{children:r.children})}),t&&(0,e.jsx)(F,{}),(0,e.jsx)(Ie,{})]})}(0,d.eC)("Survey",Ut,"antdMobile");var wn=s(13062),ye=s(71230),An=s(89032),ue=s(15746),le=s(32059);function Wt(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children;function v(u,c){t((0,le.Z)({},c,u))}return(0,e.jsx)("div",{children:o==null?void 0:o.map(function(u){var c=u.id,f=u.title,m=u.attribute,y=m===void 0?{}:m,x=y.mapMove;return(0,e.jsxs)(ye.Z,{gutter:[10,0],"data-id":c,children:[f&&(0,e.jsx)(ue.Z,{span:24},u.id),(0,e.jsx)(ue.Z,{span:24,children:(0,e.jsx)(be,{optionId:c,onChange:function(g){return v(g,c)},value:a[c],mapMove:x})})]},c)})})}(0,d.RM)("Address",Wt,"antdMobile");var In=s(43185),tt=s(32620),Nn=s(34792),Et=s(48086),nt=s(39428),bt=s(3182),Kt=s(81473);function $t(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=r.readOnly,v=n.children,u=v===void 0?[]:v,c=(0,h.Al)(),f=function(){var m=(0,bt.Z)((0,nt.Z)().mark(function y(x){var p,g,C,j;return(0,nt.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:p=x.onSuccess,g=x.onError,C=x.file,j=x.onProgress,c.onUpload&&c.onUpload({file:C,fileType:6},function(w){j&&j({percent:w.loaded/w.total*100})}).then(function(w){if(w.success&&p&&(p(w.data),w.data.content&&t((0,le.Z)({},u[0].id,w.data.content))),!w.success&&g){var U=new Error("Some error");g({event:U})}});case 2:case"end":return P.stop()}},y)}));return function(x){return m.apply(this,arguments)}}();return(0,e.jsx)("div",{children:u==null?void 0:u.map(function(m){var y=m.id,x=m.attribute,p=x===void 0?{}:x,g=p.cameraOnly;return(0,e.jsx)(Y.Z,{placeholder:"\u70B9\u51FB\u8BC6\u522B\u6761\u7801",value:a[y],addonAfter:(0,e.jsx)(tt.Z,{capture:g?"environment":void 0,disabled:o,maxCount:1,accept:"image/*",beforeUpload:function(j){return p!=null&&p.maxFileSize&&j.size>p.maxFileSize*1024*1024?(Et.default.error("\u6700\u5927\u53EA\u80FD\u4E0A\u4F20 ".concat(p.maxFileSize,"M \u5927\u5C0F\u7684\u6587\u4EF6")),tt.Z.LIST_IGNORE):!0},customRequest:f,showUploadList:!1,children:(0,e.jsx)(Kt.Z,{})},y)})})})}(0,d.RM)("Barcode",$t,"antdMobile");function yt(r,n){var t;return((t=r.children)===null||t===void 0?void 0:t.reduce(function(i,a,o){if(o===0)i.push(r.dataSource||[]);else{var v=r.children[o-1].id,u=n[v];if(u){var c;i.push(((c=i.slice(-1)[0].find(function(f){return f.value===u}))===null||c===void 0?void 0:c.children)||[])}}return i},[]))||[]}function Vt(r){var n,t=r.schema,i=r.onChange,a=r.value,o=a===void 0?{}:a,v=(0,l.useState)(r.value||{}),u=(0,M.Z)(v,2),c=u[0],f=u[1],m=(0,l.useState)(yt(t,o)),y=(0,M.Z)(m,2),x=y[0],p=y[1];(0,l.useEffect)(function(){if(Object.keys(c).length>0){var C=yt(t,c);p(C)}},[c,t]);var g=function(j,O,P){var w,U={};(w=t.children)===null||w===void 0||w.forEach(function(L,_){P>_?U[L.id]=c[L.id]:P===_&&(U[j]=O)}),f(U),yt(t,U).filter(function(L){return L.length>0}).length===Object.values(U).filter(function(L){return L&&L!=="\u8BF7\u9009\u62E9"}).length?i(U):i(void 0)};return(0,e.jsx)(ye.Z,{gutter:[10,10],children:(n=t.children)===null||n===void 0?void 0:n.map(function(C,j){return(0,e.jsx)(ue.Z,{span:24,children:(0,e.jsx)(we,{options:x[j]||[],value:c[C.id]||"",onChange:function(P){return g(C.id,P,j)}},C.id)},C.id)})})}(0,d.RM)("Cascader",Vt,"antdMobile");function Yt(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=r.onBlur,v=n.children,u=n.attribute,c=24/((u==null?void 0:u.columns)||1),f=(0,h.AK)("-body-question"),m=!!(u!=null&&u.statEnabled),y=(0,h.Rk)(),x=y.hiddenOption[n.id]||[];(0,l.useEffect)(function(){var g=Object.keys(a),C=!1;g.forEach(function(j){x.includes(j)&&(C=!0,delete a[j])}),C&&t((0,Z.Z)({},a))},[x]);function p(g,C,j){C?a[g]=j||!0:delete a[g],t((0,Z.Z)({},a))}return(0,l.useEffect)(function(){v==null||v.forEach(function(g){var C;(C=g.attribute)!==null&&C!==void 0&&C.defaultChecked&&Object.keys(a).length===0&&t((0,le.Z)({},g.id,!0))})},[]),(0,e.jsx)("div",{children:(0,e.jsx)(ye.Z,{children:v==null?void 0:v.filter(function(g){return!x.includes(g.id)}).map(function(g){var C,j,O,P=g.id,w=(C=g.attribute)===null||C===void 0?void 0:C.dataType,U=(j=g.attribute)===null||j===void 0?void 0:j.suffix,L=(O=g.attribute)===null||O===void 0?void 0:O.readOnly;return(0,e.jsxs)(ue.Z,{span:c,className:f+"-option","data-id":P,children:[(0,e.jsx)(At,{qId:n.id,schema:g,checked:a.hasOwnProperty(P),onChange:function(z){return p(P,z)},value:typeof a[P]=="boolean"?{}:a[P],onBlur:o}),m&&(0,e.jsx)(he,{checked:!!a[P],optionId:P,questionId:n.id,checkedCount:Object.keys(a).length}),w&&(0,e.jsx)(ce,{value:typeof a[P]=="boolean"?"":a[P],style:{maxWidth:200},type:w,readOnly:L,onChange:function(z){return p(P,!0,z)},suffix:U&&(0,e.jsx)("span",{className:f+"-option-suffix",children:(0,e.jsx)(b.hl,{html:U})})})]},P)})})})}(0,d.RM)("Checkbox",(0,D.Pi)(Yt),"antdMobile");var kn=s(62999),Jt=s(54680),at=s(3980),Gt=s(60780),Xt=s.n(Gt);function Qt(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,u=v[0].id,c=(0,l.useState)([]),f=(0,M.Z)(c,2),m=f[0],y=f[1];function x(g){u&&((g==null?void 0:g.length)===0?t(void 0):t((0,le.Z)({},u,g==null?void 0:g.map(function(C){return C.value}))))}var p=(0,l.useMemo)(function(){return Xt()(m.map(function(g){return{title:g.name,key:g.id,value:g.id,parentId:g.parentId}}),{parentProperty:"parentId",customID:"key"})},[m]);return(0,l.useEffect)(function(){at.hi.selectDept({}).then(function(g){g.success&&y(g.data)})},[]),(0,e.jsx)(ye.Z,{children:(0,e.jsx)(ue.Z,{span:24,children:(0,e.jsx)(Jt.Z,{style:{width:"100%"},treeCheckable:!0,value:(a[u]||[]).map(function(g){return{value:g}}),treeCheckStrictly:!0,showSearch:!1,showCheckedStrategy:"SHOW_ALL",dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:p,placeholder:"\u8BF7\u9009\u62E9",treeDefaultExpandAll:!0,onChange:x})})})}(0,d.RM)("Dept",Qt,"antdMobile");function St(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=(0,h.AK)("-body-question");function u(c,f){a[c]=f,f===""&&delete a[c],t((0,Z.Z)({},a))}return(0,e.jsx)("div",{children:o==null?void 0:o.map(function(c){var f=c.id,m=c.attribute,y=c.title;return(0,e.jsxs)(ye.Z,{gutter:[10,0],"data-id":f,children:[y&&(0,e.jsx)(ue.Z,{span:24,children:c.title&&(0,e.jsx)("span",{className:v+"-option-title",children:(0,e.jsx)(E.Z,{html:c.title})})},c.id),(0,e.jsx)(ue.Z,{span:24,children:(0,e.jsx)(xt,{qId:n.id,schema:c,value:a,onChange:function(p){return u(f,p)}})})]},f)})})}(0,d.RM)("FillBlank",St,"antdMobile"),(0,d.RM)("MultipleBlank",St,"antdMobile");function Mt(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=r.onBlur,v=n.children,u=n.attribute,c=u===void 0?{}:u,f=c.content;return!f||!v?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)(Pe,{schema:n,children:v.filter(function(m){var y;return!((y=m.attribute)!==null&&y!==void 0&&y.fieldInTitle)}),content:f,onBlur:o,onChange:t,value:a})}Mt.Preview=function(r){var n=r.schema,t=r.value,i=n.children,a=n.attribute,o=a===void 0?{}:a,v=o.content;return(0,e.jsx)("div",{className:"preview",children:(0,e.jsx)("div",{children:(0,e.jsx)(E.Z,{html:Le(v,i,t),replaceP:!1})})})},(0,d.RM)("HorzBlank",Mt,"antdMobile");var Ct=s(83279),qt=s(54121),en=s(49101);function tn(r){var n=r.schema,t=r.onChange,i=r.value||[{}],a=n.children,o=a===void 0?[]:a,v=n.row,u=v===void 0?[]:v;return(0,e.jsxs)("div",{className:"",children:[i.map(function(c,f){return(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:f+1}),(0,e.jsxs)("div",{className:"question-item",style:{background:"#f7f8fa",borderRadius:4,padding:8,position:"relative"},children:[o.map(function(m){return(0,e.jsxs)("div",{className:"option-box",style:{marginBottom:10},children:[(0,e.jsx)("div",{style:{color:"#aaa",fontSize:12,marginBottom:5},children:(0,e.jsx)(E.Z,{html:m.title})}),(0,e.jsx)(xt,{qId:n.id,schema:m,value:c,onChange:function(x){c[m.id]=x,t((0,Ct.Z)(i))}})]},m.id)}),i.length>1&&(0,e.jsx)(qt.Z,{onClick:function(){i.splice(f,1),t((0,Ct.Z)(i))},style:{position:"absolute",top:-5,right:-5,color:"#ff4d4f"}})]})]},f)}),(0,e.jsx)("div",{children:(0,e.jsx)(R.Z,{block:!0,icon:(0,e.jsx)(en.Z,{}),type:"dashed",onClick:function(){i.push({}),t((0,Ct.Z)(i))},children:"\u7EE7\u7EED\u586B\u5199"})})]})}(0,d.RM)("MatrixAuto",tn,"antdMobile");function nn(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,u=n.row,c=u===void 0?[]:u;return(0,e.jsx)("div",{className:"",children:c==null?void 0:c.map(function(f){var m=Object.keys(a[f.id]||{});return(0,e.jsxs)("div",{className:"question-item",children:[(0,e.jsx)("h3",{className:"question-sub-title",children:(0,e.jsx)(E.Z,{html:f.title})}),(0,e.jsx)("div",{className:"checkbtn-group",children:(0,e.jsx)(re.Qf,{multiple:!0,value:m,options:v.map(function(y){return{label:y.title,value:y.id}}),onChange:function(x,p){t((0,Z.Z)((0,Z.Z)({},a),{},(0,le.Z)({},f.id,x.reduce(function(g,C){return g[C]=!0,g},{}))))}})})]},f.id)})})}(0,d.RM)("MatrixCheckbox",nn,"antdMobile");function an(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,u=n.row,c=u===void 0?[]:u;return(0,e.jsx)("div",{className:"",children:c==null?void 0:c.map(function(f){return(0,e.jsxs)("div",{className:"question-item",children:[(0,e.jsx)("h3",{className:"question-sub-title",children:(0,e.jsx)(E.Z,{html:f.title})}),(0,e.jsx)("div",{className:"fillBlank-group",children:v.map(function(m){var y=a[f.id]||{};return(0,e.jsxs)("div",{className:"option-box",style:{marginBottom:10},children:[(0,e.jsx)("div",{style:{color:"#aaa",fontSize:12,marginBottom:5},children:(0,e.jsx)(E.Z,{html:m.title})}),(0,e.jsx)(xt,{qId:n.id,schema:m,value:y,onChange:function(p){var g=a[f.id]||{};t((0,Z.Z)((0,Z.Z)({},a),{},(0,le.Z)({},f.id,(0,Z.Z)((0,Z.Z)({},g),{},(0,le.Z)({},m.id,p)))))}})]},m.id)})})]},f.id)})})}(0,d.RM)("MatrixFillBlank",an,"antdMobile");function rn(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,u=n.row,c=u===void 0?[]:u;return(0,e.jsx)("div",{className:"",children:c==null?void 0:c.map(function(f){var m=Object.keys(a[f.id]||{})[0];return(0,e.jsxs)("div",{className:"question-item",children:[(0,e.jsx)("h3",{className:"question-sub-title",children:(0,e.jsx)(E.Z,{html:f.title})}),(0,e.jsx)("div",{className:"checkbtn-group",children:(0,e.jsx)(re.Qf,{value:m?[m]:void 0,options:v.map(function(y){return{label:y.title,value:y.id}}),onChange:function(x,p){t((0,Z.Z)((0,Z.Z)({},a),{},(0,le.Z)({},f.id,(0,le.Z)({},x[0],!0))))}})})]},f.id)})})}(0,d.RM)("MatrixRadio",rn,"antdMobile");function sn(r){for(var n=[],t=2;t<r+2;t++)n.push(t/(r+2));return n}function ln(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=[],a=r;a<=n;a++)i.push(a);return t&&i.reverse(),i}function on(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o;function u(f,m){t((0,le.Z)({},f,m))}var c=function(m){var y=m.id,x=a[y],p=sn(x||0),g=m.attribute||{},C=g.scope,j=C===void 0?"[0,10]":C,O=g.npsInvertSort,P=g.npsStart,w=P===void 0?"\u4E0D\u53EF\u80FD":P,U=g.npsEnd,L=U===void 0?"\u6781\u6709\u53EF\u80FD":U,_=j.replace("[","").replace("]","").split(","),z=(0,M.Z)(_,2),de=z[0],q=z[1];return(0,e.jsxs)("div",{className:"nps",children:[(0,e.jsx)("div",{className:"nps-container",children:ln(parseInt(de),parseInt(q),O).map(function(ee){var ie={background:"#2672ff",opacity:p[ee]};return(0,e.jsx)("div",{className:"nps-item",style:x>=ee?ie:void 0,onClick:function(){return u(y,ee)},children:ee},ee)})}),(0,e.jsxs)("div",{className:"nps-tip",children:[(0,e.jsx)("div",{children:O?L:w}),(0,e.jsx)("div",{children:O?w:L})]})]},y)};return(0,e.jsx)(ye.Z,{children:v.map(function(f){return c(f)})})}(0,d.RM)("Nps",on,"antdMobile");var cn=Je.ZP.Group;function dn(r){var n,t=r.schema,i=r.onChange,a=r.value,o=a===void 0?{}:a,v=t.children,u=(0,h.AK)("-body-question"),c=!!((n=t.attribute)!==null&&n!==void 0&&n.statEnabled),f=(0,h.Rk)(),m=f.hiddenOption[t.id]||[];function y(x,p){i((0,le.Z)({},x,p||!0))}return(0,l.useEffect)(function(){var x=Object.keys(o)[0];m.includes(x)&&i(void 0)},[m]),(0,l.useEffect)(function(){var x;(x=t.children)===null||x===void 0||x.forEach(function(p){var g,C=p.id,j=p.title,O=p.attribute,P=O==null?void 0:O.dataType;(g=p.attribute)!==null&&g!==void 0&&g.defaultChecked&&Object.keys(o).length===0&&i((0,le.Z)({},C,P?o[C]:j))})},[]),(0,e.jsx)("div",{children:(0,e.jsx)(cn,{onChange:function(p){},value:Object.keys(o)[0],style:{width:"100%"},children:(0,e.jsx)(ye.Z,{children:v==null?void 0:v.filter(function(x){return!m.includes(x.id)}).map(function(x){var p,g,C,j=x.id,O=(p=x.attribute)===null||p===void 0?void 0:p.dataType,P=(g=x.attribute)===null||g===void 0?void 0:g.suffix,w=(C=x.attribute)===null||C===void 0?void 0:C.readOnly;return(0,e.jsxs)(ue.Z,{span:24,className:u+"-option","data-id":j,children:[(0,e.jsx)(gt,{qId:t.id,schema:x,value:o[j],onChange:function(L){return y(j,L)},onBlur:function(L){}}),c&&(0,e.jsx)(he,{checked:!!o[j],optionId:j,questionId:t.id,checkedCount:Object.keys(o).length}),O&&(0,e.jsx)(ce,{value:o[j]===!0?"":o[j],type:O,style:{maxWidth:200},onChange:function(L){return y(j,L)},readOnly:w,suffix:P&&(0,e.jsx)("span",{className:u+"-option-suffix",children:(0,e.jsx)(E.Z,{html:P})})})]},j)})})})})}(0,d.RM)("Radio",(0,D.Pi)(dn),"antdMobile");function un(r){var n=(0,h.AK)("-body-question");return(0,e.jsx)("div",{className:n,children:(0,e.jsx)(b.hl,{html:"".concat(r.replaceTitle||r.schema.title||"")})})}(0,d.RM)("Remark",un,"antdMobile");var Rn=s(80116),Tn=s(96433),pt=s(2864),Dt=s(41687),hn=s(46870),Pt=s(18613),vn=s(57206),fn={1:(0,e.jsx)(Dt.Z,{}),2:(0,e.jsx)(Dt.Z,{}),3:(0,e.jsx)(hn.Z,{}),4:(0,e.jsx)(Pt.Z,{}),5:(0,e.jsx)(Pt.Z,{})};function mn(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o;function u(f,m){t((0,le.Z)({},f,m))}var c=function(m){var y=m.attribute||{},x=m.id,p=y.scope,g=p===void 0?"[0,5]":p,C=y.scoreStyle,j=g.replace("[","").replace("]","").split(","),O=(0,M.Z)(j,2),P=O[0],w=O[1];return C==="heart"?(0,e.jsx)(pt.Z,{defaultValue:parseInt(P),character:(0,e.jsx)(vn.Z,{}),style:{color:"#ea7463"},count:parseInt(w),onChange:function(L){return u(x,L)}},x):C==="smile"?(0,e.jsx)(pt.Z,{defaultValue:parseInt(P),character:function(L){var _=L.index;return fn[_+1]},count:parseInt(w),onChange:function(L){return u(x,L)}},x):(0,e.jsx)(pt.Z,{defaultValue:parseInt(P),count:parseInt(w),onChange:function(L){return u(x,L)}},x)};return(0,e.jsx)(ye.Z,{children:v.map(function(f){return c(f)})})}(0,d.RM)("Score",mn,"antdMobile");function gn(r){var n,t=r.schema,i=r.onChange,a=r.value,o=a===void 0?{}:a;function v(u){var c,f=(c=t.children)===null||c===void 0?void 0:c.find(function(m){return m.id===u});f&&i((0,le.Z)({},u,!0))}return(0,l.useEffect)(function(){var u;(u=t.children)===null||u===void 0||u.forEach(function(c){var f,m=c.id;(f=c.attribute)!==null&&f!==void 0&&f.defaultChecked&&Object.keys(o).length===0&&i((0,le.Z)({},m,!0))})},[]),(0,e.jsx)(ye.Z,{children:(0,e.jsx)(ue.Z,{span:24,children:(0,e.jsx)(we,{value:Object.keys(o)[0],onChange:v,options:((n=t.children)===null||n===void 0?void 0:n.map(function(u){return{label:u.title,value:u.id}}))||[]})})})}(0,d.RM)("Select",gn,"antdMobile");var Bn=s(34669),xn=s(82833);function yn(r){var n=r.schema,t=r.onChange,i=n.children,a=(0,h.Al)(),o=(0,l.useState)(0),v=(0,M.Z)(o,2),u=v[0],c=v[1];function f(m,y){var x="signature-".concat(y,"-").concat((0,I.kb)(6),".png");if(!a.onUpload){t((0,le.Z)({},y,[x]));return}fetch(m).then(function(p){return p.blob()}).then(function(p){var g=new File([p],x,{type:"image/png"});a.onUpload({file:g},function(C){c(C.loaded/C.total*100)}).then(function(C){C.success&&C.data.id&&t((0,le.Z)({},y,[C.data.id]))})})}return(0,e.jsx)("div",{children:i==null?void 0:i.map(function(m){var y=m.id,x=m.title;return(0,e.jsxs)(ye.Z,{gutter:[10,0],"data-id":y,children:[x&&(0,e.jsx)(ue.Z,{span:24},m.id),(0,e.jsxs)(ue.Z,{span:24,children:[(0,e.jsx)(Re,{onChange:function(g){return f(g,y)}}),u>0&&u!==100&&(0,e.jsx)(xn.Z,{percent:u,size:"small",showInfo:!1})]})]},y)})})}(0,d.RM)("Signature",yn,"antdMobile");var Ln=s(48736),Ot=s(27049);function Cn(r){var n=(0,h.AK)("-body-question");return(0,e.jsx)("div",{className:n,children:(0,e.jsx)(Ot.Z,{plain:!0})})}(0,d.RM)("SplitLine",Cn,"antdMobile");function pn(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=(0,h.AK)("-body-question");function u(c,f){a[c]=f,f===""&&delete a[c],t((0,Z.Z)({},a))}return(0,e.jsx)("div",{children:o==null?void 0:o.map(function(c){var f=c.id,m=c.attribute,y=c.title,x=(0,I.Ck)(m==null?void 0:m.autoSize,[2,4]);return(0,e.jsxs)(ye.Z,{style:{marginBottom:10},"data-id":f,children:[y&&(0,e.jsx)(ue.Z,{className:v+"-option",span:4,children:c.title&&(0,e.jsx)("span",{className:v+"-option-title",children:c.title})},c.id),(0,e.jsx)(ue.Z,{span:24,children:(0,e.jsx)(Y.Z.TextArea,{autoSize:{minRows:x[1],maxRows:x[2]},value:a[f]||"",onChange:function(g){return u(f,g.target.value)}})})]},f)})})}(0,d.RM)("Textarea",pn,"antdMobile");var jn=s(43347),En=tt.Z.Dragger;function bn(r){var n=r.schema,t=r.onChange,i=r.value,a=r.readOnly,o=n.children,v=(0,h.Al)(),u=(0,l.useState)(),c=(0,M.Z)(u,2),f=c[0],m=c[1];(0,l.useEffect)(function(){var p=n.children[0].id,g=i&&i[p]||[];f==null&&g.length>0&&at.hi.loadFiles({ids:g}).then(function(C){m(C==null?void 0:C.map(function(j){return{name:j.originalName,uid:j.id,status:"done"}}))})},[i]);var y=function(){var p=(0,bt.Z)((0,nt.Z)().mark(function g(C){var j,O,P,w;return(0,nt.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:j=C.onSuccess,O=C.onError,P=C.file,w=C.onProgress,v.onUpload&&v.onUpload({file:P},function(_){w&&w({percent:_.loaded/_.total*100})}).then(function(_){if(_.success&&j&&j(_.data),!_.success&&O){var z=new Error("Some error");O({event:z})}});case 2:case"end":return L.stop()}},g)}));return function(C){return p.apply(this,arguments)}}(),x=function(g,C){if(m(g.fileList),(g.file.status==="removed"||g.file.status==="done")&&!g.fileList.find(function(O){return O.status!=="done"})){var j=g.fileList.filter(function(O){return O.status==="done"}).map(function(O){var P;return((P=O.response)===null||P===void 0?void 0:P.id)||O.uid});j.length===0?t(void 0):t((0,le.Z)({},C,j))}};return(0,e.jsx)("div",{children:o==null?void 0:o.map(function(p){var g=p.id,C=p.attribute,j=C===void 0?{}:C,O=[],P=j.maxFileCount,w=j.maxFileSize,U=j.fileAccept,L=j.cameraOnly;return P&&O.push("\u6700\u591A\u4E0A\u4F20".concat(P,"\u4E2A")),w&&O.push("\u9650\u5236\u6BCF\u4E2A\u6587\u4EF6".concat(w,"M\u4EE5\u5185")),U&&O.push("\u4EC5\u652F\u6301\u6587\u4EF6\u7C7B\u578B\uFF1A".concat(U)),(0,e.jsxs)(En,{multiple:!0,capture:L?"environment":void 0,disabled:a,maxCount:(j==null?void 0:j.maxFileCount)||20,accept:L?"image/*":void 0,beforeUpload:function(z){return j!=null&&j.maxFileSize&&z.size>j.maxFileSize*1024*1024?(Et.default.error("\u6700\u5927\u53EA\u80FD\u4E0A\u4F20 ".concat(j.maxFileSize,"M \u5927\u5C0F\u7684\u6587\u4EF6")),tt.Z.LIST_IGNORE):!0},customRequest:y,onChange:function(z){return x(z,g)},fileList:f,children:[(0,e.jsx)("p",{className:"ant-upload-drag-icon",children:(0,e.jsx)(jn.Z,{})}),(0,e.jsx)("p",{className:"ant-upload-text",children:"\u9009\u62E9\u6216\u62D6\u62FD\u4E0A\u4F20\u6587\u4EF6"}),(0,e.jsx)("p",{className:"ant-upload-hint",children:O.join(",")})]},g)})})}(0,d.RM)("Upload",bn,"antdMobile");var Sn=s(55686),Mn=J.Z.Option;function Dn(r){var n=r.schema,t=r.onChange,i=r.value,a=i===void 0?{}:i,o=n.children,v=o===void 0?[]:o,u=v[0].id,c=(0,l.useState)([]),f=(0,M.Z)(c,2),m=f[0],y=f[1];function x(C){u&&t((0,le.Z)({},u,C))}var p=(0,at.zE)(function(C){at.hi.userSelect({name:C,selected:a[u]||[]}).then(function(j){j.success&&y(j.data)})},5),g=function(j){x(j?m.map(function(O){return O.userId}):void 0)};return(0,l.useEffect)(function(){var C;p(""),(C=n.children)===null||C===void 0||C.forEach(function(j){var O,P=j.id;(O=j.attribute)!==null&&O!==void 0&&O.defaultChecked&&Object.keys(a).length===0&&t((0,le.Z)({},P,!0))})},[]),(0,e.jsx)(ye.Z,{children:(0,e.jsx)(ue.Z,{span:24,children:(0,e.jsx)(J.Z,{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,filterOption:!1,mode:"multiple",onClear:function(){t(void 0)},value:a[u]||[],onSearch:p,showSearch:!0,onChange:x,dropdownRender:function(j){return(0,e.jsxs)("div",{children:[j,(0,e.jsx)(Ot.Z,{style:{margin:"4px 0"}}),(0,e.jsx)("div",{style:{display:"flex",flexWrap:"nowrap",paddingLeft:10},children:(0,e.jsx)(fe.Z,{onChange:function(P){g(P.target.checked)},children:"\u5168\u9009"})})]})},children:m.map(function(C){return(0,e.jsx)(Mn,{value:C.userId,label:C.name,children:(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{role:"img",style:{marginRight:10},children:(0,e.jsx)(Sn.Z,{user:C,size:20})}),C.name," ",C.deptName&&"(".concat(C.deptName,")")]})},C.userId)})})})})}(0,d.RM)("User",Dn,"antdMobile");var Pn=function(n){return(0,e.jsx)(e.Fragment,{children:n.children})},On=Pn;(0,I.RM)("RichText",(0,l.lazy)(function(){return Promise.resolve().then(s.bind(s,80116))}),"antdMobile"),(0,I.cf)("Upload",(0,l.lazy)(function(){return Promise.all([s.e(6661),s.e(4502),s.e(6545)]).then(s.bind(s,90858))}),"antdMobile")},80116:function(G,T,s){"use strict";s.r(T);var S=s(32059),A=s(94657),M=s(70811),I=s(3980),E=s(67294),D=s(54707),l=s(85893);function h(d){var b=d.schema,e=d.onChange,N=d.value,k=N===void 0?{}:N,B=d.onBlur,R=b.children,F=(0,D.AK)("-body-question"),W=(0,E.useState)(k[b.children[0].id]),Y=(0,A.Z)(W,2),Z=Y[0],V=Y[1],J=(0,D.Rk)(),se=(0,E.useCallback)(function(te,ne){e((0,S.Z)({},te,ne))},[]);return(0,l.jsx)("div",{children:R==null?void 0:R.map(function(te){var ne=te.id;return(0,l.jsx)(M.Mf,{value:Z,onChange:function(ce){return se(ne,ce)},onUpload:function(ce){return I.hi.upload("/api/public/upload",{fileType:4,basePath:J.schema.id,file:ce})}},te.id)})})}T.default=h},55686:function(G,T,s){"use strict";var S=s(11849),A=s(94233),M=s(51890),I=s(93224),E=s(89366),D=s(85893),l=["user"],h=function(b){var e=b.user,N=(0,I.Z)(b,l);return!e||!e.avatar?(0,D.jsx)(M.C,(0,S.Z)({icon:(0,D.jsx)(E.Z,{}),size:N.size||"small"},N)):(0,D.jsx)(M.C,(0,S.Z)({src:"/api/public/preview/".concat(e.avatar),size:N.size||"small"},N))};T.Z=h},78210:function(G,T,s){"use strict";var S=s(27856),A=s.n(S),M=s(15020),I=s(85893),E=function(l){var h=l.html,d=h===void 0?"":h,b=l.replaceP,e=b===void 0?!0:b;return e?(0,I.jsx)("div",{className:"pe-view",children:typeof d=="string"&&(0,M.ZP)(A().sanitize(d,{ADD_TAGS:["iframe"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling"]}).replace(/<p>/,"<span>").replace(/<\/p>/,"</span>"))}):(0,I.jsx)(I.Fragment,{children:typeof d=="string"&&(0,M.ZP)(A().sanitize(d))})};T.Z=E},39017:function(G,T,s){"use strict";s.d(T,{Rk:function(){return b}});var S=s(67294),A=s(24004);function M(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",N=useContext(SurveyContext),k=N.theme;return"survey-".concat(k)+e}function I(e,N){var k=(N&&N.depends||[]).reduce(function(B,R){return B||!R},!1);return E(k?void 0:function(B,R){return fetch(B,R).then(function(F){if(!!F.ok)return F.json()})},e,N||{})}function E(e){for(var N=arguments.length,k=new Array(N>1?N-1:0),B=1;B<N;B++)k[B-1]=arguments[B];var R=useState(0),F=_slicedToArray(R,2),W=F[0],Y=F[1],Z=useCallback(function(){Y(Math.random())},[]),V=useState({loading:!1,mutate:Z}),J=_slicedToArray(V,2),se=J[0],te=J[1];return useEffect(function(){!e||k[1].manual&&W===0||e.apply(null,k).then(function(ne){ne.code===200?te({loading:!1,data:ne.data,mutate:Z}):te({error:ne.message,loading:!1,mutate:Z})}).catch(function(ne){te({error:ne,loading:!1,mutate:Z})})},D(W,k)),se}function D(){for(var e=arguments.length,N=new Array(e),k=0;k<e;k++)N[k]=arguments[k];for(var B=[],R=0;R<arguments.length;R++){var F=arguments[R];if(F instanceof Array)for(var W=0;W<F.length;W++)B=B.concat(D(F[W]));else if(typeof URL!="undefined"&&F instanceof URL)B=B.concat(F.toJSON());else if(F instanceof Object)for(var Y=Object.keys(F),Z=0;Z<Y.length;Z++){var V=Y[Z];V==="depends"?B=B.concat(F[V]):B=B.concat([V]).concat(D(F[V]))}else B=B.concat(F)}return B}var l=s(87998);function h(){return useContext(SurveyContext)}function d(){return useSurvey().attachments}function b(){var e=(0,S.useContext)(l.ZX);return e.innerStore}},49914:function(G,T,s){"use strict";s.d(T,{H:function(){return M}});var S=s(67294),A=s(87998);function M(){return(0,S.useContext)(A.ff)}},81643:function(G,T,s){"use strict";s.d(T,{Z:function(){return S}});var S=function(M){if(!M)return null;var I=typeof M=="function";return I?M():M}},15746:function(G,T,s){"use strict";var S=s(21584);T.Z=S.Z},9715:function(G,T,s){"use strict";var S=s(38663),A=s.n(S),M=s(34442),I=s.n(M),E=s(6999),D=s(22385)},55241:function(G,T,s){"use strict";var S=s(22122),A=s(67294),M=s(53124),I=s(94199),E=s(81643),D=s(33603),l=function(d,b){var e={};for(var N in d)Object.prototype.hasOwnProperty.call(d,N)&&b.indexOf(N)<0&&(e[N]=d[N]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,N=Object.getOwnPropertySymbols(d);k<N.length;k++)b.indexOf(N[k])<0&&Object.prototype.propertyIsEnumerable.call(d,N[k])&&(e[N[k]]=d[N[k]]);return e},h=A.forwardRef(function(d,b){var e=d.prefixCls,N=d.title,k=d.content,B=d._overlay,R=l(d,["prefixCls","title","content","_overlay"]),F=A.useContext(M.E_),W=F.getPrefixCls,Y=function(se){if(!(!N&&!k))return A.createElement(A.Fragment,null,N&&A.createElement("div",{className:"".concat(se,"-title")},(0,E.Z)(N)),A.createElement("div",{className:"".concat(se,"-inner-content")},(0,E.Z)(k)))},Z=W("popover",e),V=W();return A.createElement(I.Z,(0,S.Z)({},R,{prefixCls:Z,ref:b,overlay:B||Y(Z),transitionName:(0,D.mL)(V,"zoom-big",R.transitionName)}))});h.defaultProps={placement:"top",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}},T.Z=h},20136:function(G,T,s){"use strict";var S=s(38663),A=s.n(S),M=s(31930),I=s.n(M)},71230:function(G,T,s){"use strict";var S=s(92820);T.Z=S.Z},13062:function(G,T,s){"use strict";var S=s(38663),A=s.n(S),M=s(6999)},32138:function(G,T,s){"use strict";s.d(T,{Z:function(){return dt}});var S=s(96156),A=s(90484),M=s(22122),I=s(28991),E=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},l=D,h=s(27029),d=function(Q,X){return E.createElement(h.Z,(0,I.Z)((0,I.Z)({},Q),{},{ref:X,icon:l}))};d.displayName="HolderOutlined";var b=E.forwardRef(d),e=s(94184),N=s.n(e),k=s(76513),B=s(53124),R=s(33603),F=s(85061),W=s(28481),Y=s(86504),Z=s(91816),V=s(63258),J=s(10225),se=s(1089),te;(function(H){H[H.None=0]="None",H[H.Start=1]="Start",H[H.End=2]="End"})(te||(te={}));function ne(H,Q){function X(K){var ae=K.key,oe=K.children;Q(ae,K)!==!1&&ne(oe||[],Q)}H.forEach(X)}function Me(H){var Q=H.treeData,X=H.expandedKeys,K=H.startKey,ae=H.endKey,oe=[],$=te.None;if(K&&K===ae)return[K];if(!K||!ae)return[];function Ce(re){return re===K||re===ae}return ne(Q,function(re){if($===te.End)return!1;if(Ce(re)){if(oe.push(re),$===te.None)$=te.Start;else if($===te.Start)return $=te.End,!1}else $===te.Start&&oe.push(re);return X.indexOf(re)!==-1}),oe}function ce(H,Q){var X=(0,F.Z)(Q),K=[];return ne(H,function(ae,oe){var $=X.indexOf(ae);return $!==-1&&(K.push(oe),X.splice($,1)),!!X.length}),K}var Fe=function(H,Q){var X={};for(var K in H)Object.prototype.hasOwnProperty.call(H,K)&&Q.indexOf(K)<0&&(X[K]=H[K]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ae=0,K=Object.getOwnPropertySymbols(H);ae<K.length;ae++)Q.indexOf(K[ae])<0&&Object.prototype.propertyIsEnumerable.call(H,K[ae])&&(X[K[ae]]=H[K[ae]]);return X};function we(H){var Q=H.isLeaf,X=H.expanded;return Q?E.createElement(Y.Z,null):X?E.createElement(Z.Z,null):E.createElement(V.Z,null)}function ke(H){var Q=H.treeData,X=H.children;return Q||(0,se.zn)(X)}var De=function(Q,X){var K=Q.defaultExpandAll,ae=Q.defaultExpandParent,oe=Q.defaultExpandedKeys,$=Fe(Q,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),Ce=E.useRef(),re=E.useRef(),Ae=E.createRef();E.useImperativeHandle(X,function(){return Ae.current});var ge=function(){var Ie=(0,se.I8)(ke($)),Se=Ie.keyEntities,ve;return K?ve=Object.keys(Se):ae?ve=(0,J.r7)($.expandedKeys||oe||[],Se):ve=$.expandedKeys||oe,ve},pe=E.useState($.selectedKeys||$.defaultSelectedKeys||[]),ze=(0,W.Z)(pe,2),He=ze[0],Re=ze[1],Te=E.useState(ge()),be=(0,W.Z)(Te,2),he=be[0],Ue=be[1];E.useEffect(function(){"selectedKeys"in $&&Re($.selectedKeys)},[$.selectedKeys]),E.useEffect(function(){"expandedKeys"in $&&Ue($.expandedKeys)},[$.expandedKeys]);var Ve=function(Ie,Se){var ve;return"expandedKeys"in $||Ue(Ie),(ve=$.onExpand)===null||ve===void 0?void 0:ve.call($,Ie,Se)},je=function(Ie,Se){var ve,Je=$.multiple,qe=Se.node,xe=Se.nativeEvent,et=qe.key,Be=et===void 0?"":et,Le=ke($),Pe=(0,M.Z)((0,M.Z)({},Se),{selected:!0}),gt=(xe==null?void 0:xe.ctrlKey)||(xe==null?void 0:xe.metaKey),jt=xe==null?void 0:xe.shiftKey,fe;Je&&gt?(fe=Ie,Ce.current=Be,re.current=fe,Pe.selectedNodes=ce(Le,fe)):Je&&jt?(fe=Array.from(new Set([].concat((0,F.Z)(re.current||[]),(0,F.Z)(Me({treeData:Le,expandedKeys:he,startKey:Be,endKey:Ce.current}))))),Pe.selectedNodes=ce(Le,fe)):(fe=[Be],Ce.current=Be,re.current=fe,Pe.selectedNodes=ce(Le,fe)),(ve=$.onSelect)===null||ve===void 0||ve.call($,fe,Pe),"selectedKeys"in $||Re(fe)},We=E.useContext(B.E_),ut=We.getPrefixCls,ht=We.direction,vt=$.prefixCls,ft=$.className,Xe=Fe($,["prefixCls","className"]),Ye=ut("tree",vt),mt=N()("".concat(Ye,"-directory"),(0,S.Z)({},"".concat(Ye,"-directory-rtl"),ht==="rtl"),ft);return E.createElement(ct,(0,M.Z)({icon:we,ref:Ae,blockNode:!0},Xe,{prefixCls:Ye,className:mt,expandedKeys:he,selectedKeys:He,onSelect:je,onExpand:Ve}))},$e=E.forwardRef(De);$e.defaultProps={showIcon:!0,expandAction:"click"};var rt=$e,st=4;function lt(H){var Q,X=H.dropPosition,K=H.dropLevelOffset,ae=H.prefixCls,oe=H.indent,$=H.direction,Ce=$===void 0?"ltr":$,re=Ce==="ltr"?"left":"right",Ae=Ce==="ltr"?"right":"left",ge=(Q={},(0,S.Z)(Q,re,-K*oe+st),(0,S.Z)(Q,Ae,0),Q);switch(X){case-1:ge.top=-3;break;case 1:ge.bottom=-3;break;default:ge.bottom=-3,ge[re]=oe+st;break}return E.createElement("div",{style:ge,className:"".concat(ae,"-drop-indicator")})}var ot=s(6324),_e=E.forwardRef(function(H,Q){var X,K=E.useContext(B.E_),ae=K.getPrefixCls,oe=K.direction,$=K.virtual,Ce=H.prefixCls,re=H.className,Ae=H.showIcon,ge=H.showLine,pe=H.switcherIcon,ze=H.blockNode,He=H.children,Re=H.checkable,Te=H.selectable,be=H.draggable,he=ae("tree",Ce),Ue=(0,M.Z)((0,M.Z)({},H),{showLine:Boolean(ge),dropIndicatorRender:lt}),Ve=E.useMemo(function(){if(!be)return!1;var je={};switch((0,A.Z)(be)){case"function":je.nodeDraggable=be;break;case"object":je=(0,M.Z)({},be);break;default:}return je.icon!==!1&&(je.icon=je.icon||E.createElement(b,null)),je},[be]);return E.createElement(k.Z,(0,M.Z)({itemHeight:20,ref:Q,virtual:$},Ue,{prefixCls:he,className:N()((X={},(0,S.Z)(X,"".concat(he,"-icon-hide"),!Ae),(0,S.Z)(X,"".concat(he,"-block-node"),ze),(0,S.Z)(X,"".concat(he,"-unselectable"),!Te),(0,S.Z)(X,"".concat(he,"-rtl"),oe==="rtl"),X),re),direction:oe,checkable:Re&&E.createElement("span",{className:"".concat(he,"-checkbox-inner")}),selectable:Te,switcherIcon:function(We){return(0,ot.Z)(he,pe,ge,We)},draggable:Ve}),He)});_e.TreeNode=k.O,_e.DirectoryTree=rt,_e.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:(0,M.Z)((0,M.Z)({},R.ZP),{motionAppear:!1}),blockNode:!1};var ct=_e,dt=ct},32157:function(G,T,s){"use strict";var S=s(38663),A=s.n(S),M=s(16695),I=s.n(M)},18601:function(G,T,s){var S=s(14841),A=1/0,M=17976931348623157e292;function I(E){if(!E)return E===0?E:0;if(E=S(E),E===A||E===-A){var D=E<0?-1:1;return D*M}return E===E?E:0}G.exports=I},40554:function(G,T,s){var S=s(18601);function A(M){var I=S(M),E=I%1;return I===I?E?I-E:I:0}G.exports=A},17672:function(G,T,s){"use strict";s.d(T,{Z:function(){return E}});/*!
 * Signature Pad v4.0.4 | https://github.com/szimek/signature_pad
 * (c) 2022 Szymon Nowak | Released under the MIT license
 */class S{constructor(l,h,d,b){if(isNaN(l)||isNaN(h))throw new Error(`Point is invalid: (${l}, ${h})`);this.x=+l,this.y=+h,this.pressure=d||0,this.time=b||Date.now()}distanceTo(l){return Math.sqrt(Math.pow(this.x-l.x,2)+Math.pow(this.y-l.y,2))}equals(l){return this.x===l.x&&this.y===l.y&&this.pressure===l.pressure&&this.time===l.time}velocityFrom(l){return this.time!==l.time?this.distanceTo(l)/(this.time-l.time):0}}class A{constructor(l,h,d,b,e,N){this.startPoint=l,this.control2=h,this.control1=d,this.endPoint=b,this.startWidth=e,this.endWidth=N}static fromPoints(l,h){const d=this.calculateControlPoints(l[0],l[1],l[2]).c2,b=this.calculateControlPoints(l[1],l[2],l[3]).c1;return new A(l[1],d,b,l[2],h.start,h.end)}static calculateControlPoints(l,h,d){const b=l.x-h.x,e=l.y-h.y,N=h.x-d.x,k=h.y-d.y,B={x:(l.x+h.x)/2,y:(l.y+h.y)/2},R={x:(h.x+d.x)/2,y:(h.y+d.y)/2},F=Math.sqrt(b*b+e*e),W=Math.sqrt(N*N+k*k),Y=B.x-R.x,Z=B.y-R.y,V=W/(F+W),J={x:R.x+Y*V,y:R.y+Z*V},se=h.x-J.x,te=h.y-J.y;return{c1:new S(B.x+se,B.y+te),c2:new S(R.x+se,R.y+te)}}length(){const l=10;let h=0,d,b;for(let e=0;e<=l;e+=1){const N=e/l,k=this.point(N,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),B=this.point(N,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(e>0){const R=k-d,F=B-b;h+=Math.sqrt(R*R+F*F)}d=k,b=B}return h}point(l,h,d,b,e){return h*(1-l)*(1-l)*(1-l)+3*d*(1-l)*(1-l)*l+3*b*(1-l)*l*l+e*l*l*l}}class M{constructor(){try{this._et=new EventTarget}catch(l){this._et=document}}addEventListener(l,h,d){this._et.addEventListener(l,h,d)}dispatchEvent(l){return this._et.dispatchEvent(l)}removeEventListener(l,h,d){this._et.removeEventListener(l,h,d)}}function I(D,l=250){let h=0,d=null,b,e,N;const k=()=>{h=Date.now(),d=null,b=D.apply(e,N),d||(e=null,N=[])};return function(...R){const F=Date.now(),W=l-(F-h);return e=this,N=R,W<=0||W>l?(d&&(clearTimeout(d),d=null),h=F,b=D.apply(e,N),d||(e=null,N=[])):d||(d=window.setTimeout(k,W)),b}}class E extends M{constructor(l,h={}){super();this.canvas=l,this._handleMouseDown=d=>{d.buttons===1&&(this._drawningStroke=!0,this._strokeBegin(d))},this._handleMouseMove=d=>{this._drawningStroke&&this._strokeMoveUpdate(d)},this._handleMouseUp=d=>{d.buttons===1&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(d))},this._handleTouchStart=d=>{if(d.preventDefault(),d.targetTouches.length===1){const b=d.changedTouches[0];this._strokeBegin(b)}},this._handleTouchMove=d=>{d.preventDefault();const b=d.targetTouches[0];this._strokeMoveUpdate(b)},this._handleTouchEnd=d=>{if(d.target===this.canvas){d.preventDefault();const e=d.changedTouches[0];this._strokeEnd(e)}},this._handlePointerStart=d=>{this._drawningStroke=!0,d.preventDefault(),this._strokeBegin(d)},this._handlePointerMove=d=>{this._drawningStroke&&(d.preventDefault(),this._strokeMoveUpdate(d))},this._handlePointerEnd=d=>{this._drawningStroke&&(d.preventDefault(),this._drawningStroke=!1,this._strokeEnd(d))},this.velocityFilterWeight=h.velocityFilterWeight||.7,this.minWidth=h.minWidth||.5,this.maxWidth=h.maxWidth||2.5,this.throttle="throttle"in h?h.throttle:16,this.minDistance="minDistance"in h?h.minDistance:5,this.dotSize=h.dotSize||0,this.penColor=h.penColor||"black",this.backgroundColor=h.backgroundColor||"rgba(0,0,0,0)",this._strokeMoveUpdate=this.throttle?I(E.prototype._strokeUpdate,this.throttle):E.prototype._strokeUpdate,this._ctx=l.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:l,canvas:h}=this;l.fillStyle=this.backgroundColor,l.clearRect(0,0,h.width,h.height),l.fillRect(0,0,h.width,h.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(l,h={}){return new Promise((d,b)=>{const e=new Image,N=h.ratio||window.devicePixelRatio||1,k=h.width||this.canvas.width/N,B=h.height||this.canvas.height/N,R=h.xOffset||0,F=h.yOffset||0;this._reset(),e.onload=()=>{this._ctx.drawImage(e,R,F,k,B),d()},e.onerror=W=>{b(W)},e.crossOrigin="anonymous",e.src=l,this._isEmpty=!1})}toDataURL(l="image/png",h){switch(l){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(l,h)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const l=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!l?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(l,{clear:h=!0}={}){h&&this.clear(),this._fromData(l,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(l)}toData(){return this._data}_strokeBegin(l){this.dispatchEvent(new CustomEvent("beginStroke",{detail:l}));const h={dotSize:this.dotSize,minWidth:this.minWidth,maxWidth:this.maxWidth,penColor:this.penColor,points:[]};this._data.push(h),this._reset(),this._strokeUpdate(l)}_strokeUpdate(l){if(this._data.length===0){this._strokeBegin(l);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:l}));const h=l.clientX,d=l.clientY,b=l.pressure!==void 0?l.pressure:l.force!==void 0?l.force:0,e=this._createPoint(h,d,b),N=this._data[this._data.length-1],k=N.points,B=k.length>0&&k[k.length-1],R=B?e.distanceTo(B)<=this.minDistance:!1,{penColor:F,dotSize:W,minWidth:Y,maxWidth:Z}=N;if(!B||!(B&&R)){const V=this._addPoint(e);B?V&&this._drawCurve(V,{penColor:F,dotSize:W,minWidth:Y,maxWidth:Z}):this._drawDot(e,{penColor:F,dotSize:W,minWidth:Y,maxWidth:Z}),k.push({time:e.time,x:e.x,y:e.y,pressure:e.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:l}))}_strokeEnd(l){this._strokeUpdate(l),this.dispatchEvent(new CustomEvent("endStroke",{detail:l}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),document.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(l,h,d){const b=this.canvas.getBoundingClientRect();return new S(l-b.left,h-b.top,d,new Date().getTime())}_addPoint(l){const{_lastPoints:h}=this;if(h.push(l),h.length>2){h.length===3&&h.unshift(h[0]);const d=this._calculateCurveWidths(h[1],h[2]),b=A.fromPoints(h,d);return h.shift(),b}return null}_calculateCurveWidths(l,h){const d=this.velocityFilterWeight*h.velocityFrom(l)+(1-this.velocityFilterWeight)*this._lastVelocity,b=this._strokeWidth(d),e={end:b,start:this._lastWidth};return this._lastVelocity=d,this._lastWidth=b,e}_strokeWidth(l){return Math.max(this.maxWidth/(l+1),this.minWidth)}_drawCurveSegment(l,h,d){const b=this._ctx;b.moveTo(l,h),b.arc(l,h,d,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(l,h){const d=this._ctx,b=l.endWidth-l.startWidth,e=Math.ceil(l.length())*2;d.beginPath(),d.fillStyle=h.penColor;for(let N=0;N<e;N+=1){const k=N/e,B=k*k,R=B*k,F=1-k,W=F*F,Y=W*F;let Z=Y*l.startPoint.x;Z+=3*W*k*l.control1.x,Z+=3*F*B*l.control2.x,Z+=R*l.endPoint.x;let V=Y*l.startPoint.y;V+=3*W*k*l.control1.y,V+=3*F*B*l.control2.y,V+=R*l.endPoint.y;const J=Math.min(l.startWidth+R*b,h.maxWidth);this._drawCurveSegment(Z,V,J)}d.closePath(),d.fill()}_drawDot(l,h){const d=this._ctx,b=h.dotSize>0?h.dotSize:(h.minWidth+h.maxWidth)/2;d.beginPath(),this._drawCurveSegment(l.x,l.y,b),d.closePath(),d.fillStyle=h.penColor,d.fill()}_fromData(l,h,d){for(const b of l){const{penColor:e,dotSize:N,minWidth:k,maxWidth:B,points:R}=b;if(R.length>1)for(let F=0;F<R.length;F+=1){const W=R[F],Y=new S(W.x,W.y,W.pressure,W.time);this.penColor=e,F===0&&this._reset();const Z=this._addPoint(Y);Z&&h(Z,{penColor:e,dotSize:N,minWidth:k,maxWidth:B})}else this._reset(),d(R[0],{penColor:e,dotSize:N,minWidth:k,maxWidth:B})}}_toSVG(){const l=this._data,h=Math.max(window.devicePixelRatio||1,1),d=0,b=0,e=this.canvas.width/h,N=this.canvas.height/h,k=document.createElementNS("http://www.w3.org/2000/svg","svg");k.setAttribute("width",this.canvas.width.toString()),k.setAttribute("height",this.canvas.height.toString()),this._fromData(l,(Z,{penColor:V})=>{const J=document.createElement("path");if(!isNaN(Z.control1.x)&&!isNaN(Z.control1.y)&&!isNaN(Z.control2.x)&&!isNaN(Z.control2.y)){const se=`M ${Z.startPoint.x.toFixed(3)},${Z.startPoint.y.toFixed(3)} C ${Z.control1.x.toFixed(3)},${Z.control1.y.toFixed(3)} ${Z.control2.x.toFixed(3)},${Z.control2.y.toFixed(3)} ${Z.endPoint.x.toFixed(3)},${Z.endPoint.y.toFixed(3)}`;J.setAttribute("d",se),J.setAttribute("stroke-width",(Z.endWidth*2.25).toFixed(3)),J.setAttribute("stroke",V),J.setAttribute("fill","none"),J.setAttribute("stroke-linecap","round"),k.appendChild(J)}},(Z,{penColor:V,dotSize:J,minWidth:se,maxWidth:te})=>{const ne=document.createElement("circle"),Me=J>0?J:(se+te)/2;ne.setAttribute("r",Me.toString()),ne.setAttribute("cx",Z.x.toString()),ne.setAttribute("cy",Z.y.toString()),ne.setAttribute("fill",V),k.appendChild(ne)});const B="data:image/svg+xml;base64,",R=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${d} ${b} ${this.canvas.width} ${this.canvas.height}" width="${e}" height="${N}">`;let F=k.innerHTML;if(F===void 0){const Z=document.createElement("dummy"),V=k.childNodes;Z.innerHTML="";for(let J=0;J<V.length;J+=1)Z.appendChild(V[J].cloneNode(!0));F=Z.innerHTML}const W="</svg>",Y=R+F+W;return B+btoa(Y)}}}}]);
