(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8216],{99008:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="FileTextOutlined";var k=s.forwardRef(x)},54977:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="FormOutlined";var k=s.forwardRef(x)},65602:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="InteractionOutlined";var k=s.forwardRef(x)},2603:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="LockOutlined";var k=s.forwardRef(x)},89792:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 612c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H298a95.92 95.92 0 00-89-60c-53 0-96 43-96 96s43 96 96 96c40.3 0 74.8-24.8 89-60h150.3v152c0 55.2 44.8 100 100 100H952c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H548.3c-15.5 0-28-12.5-28-28V612H952zM451.7 313.7l172.5 136.2c6.3 5.1 15.8.5 15.8-7.7V344h264c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H640v-98.2c0-8.1-9.4-12.8-15.8-7.7L451.7 298.3a9.9 9.9 0 000 15.4z"}}]},name:"node-collapse",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="NodeCollapseOutlined";var k=s.forwardRef(x)},11075:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="RollbackOutlined";var k=s.forwardRef(x)},13105:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="SnippetsOutlined";var k=s.forwardRef(x)},15360:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="StopOutlined";var k=s.forwardRef(x)},89366:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="UserOutlined";var k=s.forwardRef(x)},3157:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return k}});var M=j(28991),s=j(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},h=O,E=j(27029),x=function(R,L){return s.createElement(E.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:L,icon:h}))};x.displayName="UserSwitchOutlined";var k=s.forwardRef(x)},59782:function(Yn,Lt){(function(j,M){if(!0)Yn.exports=M();else var s,O})(window,function(){return function(j){var M={};function s(O){if(M[O])return M[O].exports;var h=M[O]={i:O,l:!1,exports:{}};return j[O].call(h.exports,h,h.exports,s),h.l=!0,h.exports}return s.m=j,s.c=M,s.d=function(O,h,E){s.o(O,h)||Object.defineProperty(O,h,{enumerable:!0,get:E})},s.r=function(O){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(O,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(O,"__esModule",{value:!0})},s.t=function(O,h){if(1&h&&(O=s(O)),8&h||4&h&&typeof O=="object"&&O&&O.__esModule)return O;var E=Object.create(null);if(s.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:O}),2&h&&typeof O!="string")for(var x in O)s.d(E,x,function(k){return O[k]}.bind(null,x));return E},s.n=function(O){var h=O&&O.__esModule?function(){return O.default}:function(){return O};return s.d(h,"a",h),h},s.o=function(O,h){return Object.prototype.hasOwnProperty.call(O,h)},s.p="",s(s.s=215)}([function(j,M,s){"use strict";(function(O,h){s.d(M,"a",function(){return q}),s.d(M,"b",function(){return wi}),s.d(M,"c",function(){return ur}),s.d(M,"d",function(){return bt}),s.d(M,"e",function(){return rt}),s.d(M,"f",function(){return We}),s.d(M,"g",function(){return pt}),s.d(M,"h",function(){return ho}),s.d(M,"i",function(){return Jt}),s.d(M,"j",function(){return it}),s.d(M,"k",function(){return cr}),s.d(M,"l",function(){return Yo}),s.d(M,"m",function(){return Vt}),s.d(M,"n",function(){return io}),s.d(M,"o",function(){return W}),s.d(M,"p",function(){return bi}),s.d(M,"q",function(){return Jn}),s.d(M,"r",function(){return Wt}),s.d(M,"s",function(){return Zn}),s.d(M,"t",function(){return ao}),s.d(M,"u",function(){return oo}),s.d(M,"v",function(){return uo}),s.d(M,"w",function(){return Vo}),s.d(M,"x",function(){return Lr}),s.d(M,"y",function(){return Mn}),s.d(M,"z",function(){return kn}),s.d(M,"A",function(){return on}),s.d(M,"B",function(){return Ln}),s.d(M,"C",function(){return ft}),s.d(M,"D",function(){return Qn}),s.d(M,"E",function(){return Dr}),s.d(M,"F",function(){return Tr}),s.d(M,"G",function(){return Xo}),s.d(M,"H",function(){return Ar}),s.d(M,"I",function(){return zr}),s.d(M,"J",function(){return On}),s.d(M,"K",function(){return de}),s.d(M,"L",function(){return cn}),s.d(M,"M",function(){return dn});var E=[];Object.freeze(E);var x={};function k(){return++et.mobxGuid}function D(g){throw R(!1,g),"X"}function R(g,m){if(!g)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(x);function L(g){var m=!1;return function(){if(!m)return m=!0,g.apply(this,arguments)}}var z=function(){};function Y(g){return g!==null&&typeof g=="object"}function X(g){if(g===null||typeof g!="object")return!1;var m=Object.getPrototypeOf(g);return m===Object.prototype||m===null}function te(g,m,w){Object.defineProperty(g,m,{enumerable:!1,writable:!0,configurable:!0,value:w})}function re(g,m){var w="isMobX"+g;return m.prototype[w]=!0,function(T){return Y(T)&&T[w]===!0}}function oe(g){return g instanceof Map}function le(g){return g instanceof Set}function ye(g){var m=new Set;for(var w in g)m.add(w);return Object.getOwnPropertySymbols(g).forEach(function(T){Object.getOwnPropertyDescriptor(g,T).enumerable&&m.add(T)}),Array.from(m)}function Q(g){return g&&g.toString?g.toString():new String(g).toString()}function ne(g){return g===null?null:typeof g=="object"?""+g:g}var me=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:Object.getOwnPropertyNames,q=Symbol("mobx administration"),ve=function(){function g(m){m===void 0&&(m="Atom@"+k()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ie.NOT_TRACKING}return g.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},g.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},g.prototype.reportObserved=function(){return ar(this)},g.prototype.reportChanged=function(){Vn(),function(m){m.lowestObserverState!==ie.STALE&&(m.lowestObserverState=ie.STALE,m.observers.forEach(function(w){w.dependenciesState===ie.UP_TO_DATE&&(w.isTracing!==Qe.NONE&&Nr(w,m),w.onBecomeStale()),w.dependenciesState=ie.STALE}))}(this),Wn()},g.prototype.toString=function(){return this.name},g}(),H=re("Atom",ve);function W(g,m,w){m===void 0&&(m=z),w===void 0&&(w=z);var T,C=new ve(g);return m!==z&&yi("onBecomeObserved",C,m,T),w!==z&&Dr(C,w),C}var G={identity:function(g,m){return g===m},structural:function(g,m){return qo(g,m)},default:function(g,m){return Object.is(g,m)},shallow:function(g,m){return qo(g,m,1)}},ee=function(g,m){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var C in T)T.hasOwnProperty(C)&&(w[C]=T[C])})(g,m)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var be=function(){return(be=Object.assign||function(g){for(var m,w=1,T=arguments.length;w<T;w++)for(var C in m=arguments[w])Object.prototype.hasOwnProperty.call(m,C)&&(g[C]=m[C]);return g}).apply(this,arguments)};function Ne(g){var m=typeof Symbol=="function"&&g[Symbol.iterator],w=0;return m?m.call(g):{next:function(){return g&&w>=g.length&&(g=void 0),{value:g&&g[w++],done:!g}}}}function U(g,m){var w=typeof Symbol=="function"&&g[Symbol.iterator];if(!w)return g;var T,C,K=w.call(g),ge=[];try{for(;(m===void 0||m-- >0)&&!(T=K.next()).done;)ge.push(T.value)}catch(Ce){C={error:Ce}}finally{try{T&&!T.done&&(w=K.return)&&w.call(K)}finally{if(C)throw C.error}}return ge}function ae(){for(var g=[],m=0;m<arguments.length;m++)g=g.concat(U(arguments[m]));return g}var J=Symbol("mobx did run lazy initializers"),fe=Symbol("mobx pending decorators"),Se={},Te={};function Ge(g,m){var w=m?Se:Te;return w[g]||(w[g]={configurable:!0,enumerable:m,get:function(){return Ze(this),this[g]},set:function(T){Ze(this),this[g]=T}})}function Ze(g){var m,w;if(g[J]!==!0){var T=g[fe];if(T){te(g,J,!0);var C=ae(Object.getOwnPropertySymbols(T),Object.keys(T));try{for(var K=Ne(C),ge=K.next();!ge.done;ge=K.next()){var Ce=T[ge.value];Ce.propertyCreator(g,Ce.prop,Ce.descriptor,Ce.decoratorTarget,Ce.decoratorArguments)}}catch($e){m={error:$e}}finally{try{ge&&!ge.done&&(w=K.return)&&w.call(K)}finally{if(m)throw m.error}}}}}function ot(g,m){return function(){var w,T=function(C,K,ge,Ce){if(Ce===!0)return m(C,K,ge,C,w),null;if(!Object.prototype.hasOwnProperty.call(C,fe)){var $e=C[fe];te(C,fe,be({},$e))}return C[fe][K]={prop:K,propertyCreator:m,descriptor:ge,decoratorTarget:C,decoratorArguments:w},Ge(K,g)};return Ue(arguments)?(w=E,T.apply(null,arguments)):(w=Array.prototype.slice.call(arguments),T)}}function Ue(g){return(g.length===2||g.length===3)&&(typeof g[1]=="string"||typeof g[1]=="symbol")||g.length===4&&g[3]===!0}function tt(g,m,w){return Lr(g)?g:Array.isArray(g)?ft.array(g,{name:w}):X(g)?ft.object(g,void 0,{name:w}):oe(g)?ft.map(g,{name:w}):le(g)?ft.set(g,{name:w}):g}function Et(g){return g}function ue(g){R(g);var m=ot(!0,function(T,C,K,ge,Ce){var $e=K?K.initializer?K.initializer.call(T):K.value:void 0;Do(T).addObservableProp(C,$e,g)}),w=(O!==void 0&&O.env,m);return w.enhancer=g,w}var ce={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function _e(g){return g==null?ce:typeof g=="string"?{name:g,deep:!0,proxy:!0}:g}Object.freeze(ce);var De=ue(tt),Ye=ue(function(g,m,w){return g==null||on(g)||Mn(g)||kn(g)||tn(g)?g:Array.isArray(g)?ft.array(g,{name:w,deep:!1}):X(g)?ft.object(g,void 0,{name:w,deep:!1}):oe(g)?ft.map(g,{name:w,deep:!1}):le(g)?ft.set(g,{name:w,deep:!1}):D(!1)}),Re=ue(Et),lt=ue(function(g,m,w){return qo(g,m)?m:g});function at(g){return g.defaultDecorator?g.defaultDecorator.enhancer:g.deep===!1?Et:tt}var vt={box:function(g,m){arguments.length>2&&Ae("box");var w=_e(m);return new _n(g,at(w),w.name,!0,w.equals)},array:function(g,m){arguments.length>2&&Ae("array");var w=_e(m);return Ao(g,at(w),w.name)},map:function(g,m){arguments.length>2&&Ae("map");var w=_e(m);return new wi(g,at(w),w.name)},set:function(g,m){arguments.length>2&&Ae("set");var w=_e(m);return new nr(g,at(w),w.name)},object:function(g,m,w){typeof arguments[1]=="string"&&Ae("object");var T=_e(w);if(T.proxy===!1)return Jn({},g,m,T);var C=Cr(T),K=Jn({},void 0,void 0,T),ge=Gr(K);return vi(ge,g,m,C),ge},ref:Re,shallow:Ye,deep:De,struct:lt},ft=function(g,m,w){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if(Lr(g))return g;var T=X(g)?ft.object(g,m,w):Array.isArray(g)?ft.array(g,m):oe(g)?ft.map(g,m):le(g)?ft.set(g,m):g;if(T!==g)return T;D(!1)};function Ae(g){D("Expected one or two arguments to observable."+g+". Did you accidentally try to use observable."+g+" as decorator?")}Object.keys(vt).forEach(function(g){return ft[g]=vt[g]});var ie,Qe,nt=ot(!1,function(g,m,w,T,C){var K=w.get,ge=w.set,Ce=C[0]||{};Do(g).addComputedProp(g,m,be({get:K,set:ge,context:g},Ce))}),qe=nt({equals:G.structural}),Vt=function(g,m,w){if(typeof m=="string"||g!==null&&typeof g=="object"&&arguments.length===1)return nt.apply(null,arguments);var T=typeof m=="object"?m:{};return T.get=g,T.set=typeof m=="function"?m:T.set,T.name=T.name||g.name||"",new ir(T)};Vt.struct=qe,function(g){g[g.NOT_TRACKING=-1]="NOT_TRACKING",g[g.UP_TO_DATE=0]="UP_TO_DATE",g[g.POSSIBLY_STALE=1]="POSSIBLY_STALE",g[g.STALE=2]="STALE"}(ie||(ie={})),function(g){g[g.NONE=0]="NONE",g[g.LOG=1]="LOG",g[g.BREAK=2]="BREAK"}(Qe||(Qe={}));var mt=function(g){this.cause=g};function gt(g){return g instanceof mt}function Tt(g){switch(g.dependenciesState){case ie.UP_TO_DATE:return!1;case ie.NOT_TRACKING:case ie.STALE:return!0;case ie.POSSIBLY_STALE:for(var m=We(!0),w=ze(),T=g.observing,C=T.length,K=0;K<C;K++){var ge=T[K];if(Mr(ge)){if(et.disableErrorBoundaries)ge.get();else try{ge.get()}catch(Ce){return Be(w),rt(m),!0}if(g.dependenciesState===ie.STALE)return Be(w),rt(m),!0}}return St(g),Be(w),rt(m),!1}}function Jt(){return et.trackingDerivation!==null}function V(g){var m=g.observers.size>0;et.computationDepth>0&&m&&D(!1),et.allowStateChanges||!m&&et.enforceActions!=="strict"||D(!1)}function pe(g,m,w){var T=We(!0);St(g),g.newObserving=new Array(g.observing.length+100),g.unboundDepsCount=0,g.runId=++et.runId;var C,K=et.trackingDerivation;if(et.trackingDerivation=g,et.disableErrorBoundaries===!0)C=m.call(w);else try{C=m.call(w)}catch(ge){C=new mt(ge)}return et.trackingDerivation=K,function(ge){for(var Ce=ge.observing,$e=ge.observing=ge.newObserving,_t=ie.UP_TO_DATE,Ot=0,zt=ge.unboundDepsCount,Rt=0;Rt<zt;Rt++)(Dt=$e[Rt]).diffValue===0&&(Dt.diffValue=1,Ot!==Rt&&($e[Ot]=Dt),Ot++),Dt.dependenciesState>_t&&(_t=Dt.dependenciesState);for($e.length=Ot,ge.newObserving=null,zt=Ce.length;zt--;)(Dt=Ce[zt]).diffValue===0&&li(Dt,ge),Dt.diffValue=0;for(;Ot--;){var Dt;(Dt=$e[Ot]).diffValue===1&&(Dt.diffValue=0,Hi(Dt,ge))}_t!==ie.UP_TO_DATE&&(ge.dependenciesState=_t,ge.onBecomeStale())}(g),rt(T),C}function ke(g){var m=g.observing;g.observing=[];for(var w=m.length;w--;)li(m[w],g);g.dependenciesState=ie.NOT_TRACKING}function de(g){var m=ze();try{return g()}finally{Be(m)}}function ze(){var g=et.trackingDerivation;return et.trackingDerivation=null,g}function Be(g){et.trackingDerivation=g}function We(g){var m=et.allowStateReads;return et.allowStateReads=g,m}function rt(g){et.allowStateReads=g}function St(g){if(g.dependenciesState!==ie.UP_TO_DATE){g.dependenciesState=ie.UP_TO_DATE;for(var m=g.observing,w=m.length;w--;)m[w].lowestObserverState=ie.UP_TO_DATE}}var Xt=0,bn=1,nn=Object.getOwnPropertyDescriptor(function(){},"name");nn&&nn.configurable;function Pt(g,m,w){var T=function(){return Ve(g,m,w||this,arguments)};return T.isMobxAction=!0,T}function Ve(g,m,w,T){var C=it(g,w,T);try{return m.apply(w,T)}catch(K){throw C.error=K,K}finally{pt(C)}}function it(g,m,w){var T=0,C=ze();Vn();var K={prevDerivation:C,prevAllowStateChanges:Bt(!0),prevAllowStateReads:We(!0),notifySpy:!1,startTime:T,actionId:bn++,parentActionId:Xt};return Xt=K.actionId,K}function pt(g){Xt!==g.actionId&&D("invalid action stack. did you forget to finish an action?"),Xt=g.parentActionId,g.error!==void 0&&(et.suppressReactionErrors=!0),Qt(g.prevAllowStateChanges),rt(g.prevAllowStateReads),Wn(),Be(g.prevDerivation),g.notifySpy,et.suppressReactionErrors=!1}function bt(g,m){var w,T=Bt(g);try{w=m()}finally{Qt(T)}return w}function Bt(g){var m=et.allowStateChanges;return et.allowStateChanges=g,m}function Qt(g){et.allowStateChanges=g}var _n=function(g){function m(w,T,C,K,ge){C===void 0&&(C="ObservableValue@"+k()),K===void 0&&(K=!0),ge===void 0&&(ge=G.default);var Ce=g.call(this,C)||this;return Ce.enhancer=T,Ce.name=C,Ce.equals=ge,Ce.hasUnreportedChange=!1,Ce.value=T(w,void 0,C),Ce}return function(w,T){function C(){this.constructor=w}ee(w,T),w.prototype=T===null?Object.create(T):(C.prototype=T.prototype,new C)}(m,g),m.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},m.prototype.set=function(w){this.value,(w=this.prepareNewValue(w))!==et.UNCHANGED&&this.setNewValue(w)},m.prototype.prepareNewValue=function(w){if(V(this),Kn(this)){var T=Pn(this,{object:this,type:"update",newValue:w});if(!T)return et.UNCHANGED;w=T.newValue}return w=this.enhancer(w,this.value,this.name),this.equals(this.value,w)?et.UNCHANGED:w},m.prototype.setNewValue=function(w){var T=this.value;this.value=w,this.reportChanged(),At(this)&&yn(this,{type:"update",object:this,newValue:w,oldValue:T})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(w){return er(this,w)},m.prototype.observe=function(w,T){return T&&w({object:this,type:"update",newValue:this.value,oldValue:void 0}),fr(this,w)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return ne(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(ve),Ho=re("ObservableValue",_n),ir=function(){function g(m){this.dependenciesState=ie.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ie.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+k(),this.value=new mt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Qe.NONE,R(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+k(),m.set&&(this.setter=Pt(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?G.structural:G.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return g.prototype.onBecomeStale=function(){(function(m){m.lowestObserverState===ie.UP_TO_DATE&&(m.lowestObserverState=ie.POSSIBLY_STALE,m.observers.forEach(function(w){w.dependenciesState===ie.UP_TO_DATE&&(w.dependenciesState=ie.POSSIBLY_STALE,w.isTracing!==Qe.NONE&&Nr(w,m),w.onBecomeStale())}))})(this)},g.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},g.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},g.prototype.get=function(){this.isComputing&&D("Cycle detected in computation "+this.name+": "+this.derivation),et.inBatch!==0||this.observers.size!==0||this.keepAlive?(ar(this),Tt(this)&&this.trackAndCompute()&&function(w){w.lowestObserverState!==ie.STALE&&(w.lowestObserverState=ie.STALE,w.observers.forEach(function(T){T.dependenciesState===ie.POSSIBLY_STALE?T.dependenciesState=ie.STALE:T.dependenciesState===ie.UP_TO_DATE&&(w.lowestObserverState=ie.UP_TO_DATE)}))}(this)):Tt(this)&&(this.warnAboutUntrackedRead(),Vn(),this.value=this.computeValue(!1),Wn());var m=this.value;if(gt(m))throw m.cause;return m},g.prototype.peek=function(){var m=this.computeValue(!1);if(gt(m))throw m.cause;return m},g.prototype.set=function(m){if(this.setter){R(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else R(!1,!1)},g.prototype.trackAndCompute=function(){var m=this.value,w=this.dependenciesState===ie.NOT_TRACKING,T=this.computeValue(!0),C=w||gt(m)||gt(T)||!this.equals(m,T);return C&&(this.value=T),C},g.prototype.computeValue=function(m){var w;if(this.isComputing=!0,et.computationDepth++,m)w=pe(this,this.derivation,this.scope);else if(et.disableErrorBoundaries===!0)w=this.derivation.call(this.scope);else try{w=this.derivation.call(this.scope)}catch(T){w=new mt(T)}return et.computationDepth--,this.isComputing=!1,w},g.prototype.suspend=function(){this.keepAlive||(ke(this),this.value=void 0)},g.prototype.observe=function(m,w){var T=this,C=!0,K=void 0;return Yo(function(){var ge=T.get();if(!C||w){var Ce=ze();m({type:"update",object:T,newValue:ge,oldValue:K}),Be(Ce)}C=!1,K=ge})},g.prototype.warnAboutUntrackedRead=function(){},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},g.prototype.valueOf=function(){return ne(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(),Mr=re("ComputedValue",ir),Go=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},kr={};function qn(){return typeof window!="undefined"?window:h!==void 0?h:typeof self!="undefined"?self:kr}var ko=!0,ci=!1,et=function(){var g=qn();return g.__mobxInstanceCount>0&&!g.__mobxGlobals&&(ko=!1),g.__mobxGlobals&&g.__mobxGlobals.version!==new Go().version&&(ko=!1),ko?g.__mobxGlobals?(g.__mobxInstanceCount+=1,g.__mobxGlobals.UNCHANGED||(g.__mobxGlobals.UNCHANGED={}),g.__mobxGlobals):(g.__mobxInstanceCount=1,g.__mobxGlobals=new Go):(setTimeout(function(){ci||D("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Go)}();function Hi(g,m){g.observers.add(m),g.lowestObserverState>m.dependenciesState&&(g.lowestObserverState=m.dependenciesState)}function li(g,m){g.observers.delete(m),g.observers.size===0&&Fo(g)}function Fo(g){g.isPendingUnobservation===!1&&(g.isPendingUnobservation=!0,et.pendingUnobservations.push(g))}function Vn(){et.inBatch++}function Wn(){if(--et.inBatch==0){pi();for(var g=et.pendingUnobservations,m=0;m<g.length;m++){var w=g[m];w.isPendingUnobservation=!1,w.observers.size===0&&(w.isBeingObserved&&(w.isBeingObserved=!1,w.onBecomeUnobserved()),w instanceof ir&&w.suspend())}et.pendingUnobservations=[]}}function ar(g){var m=et.trackingDerivation;return m!==null?(m.runId!==g.lastAccessedBy&&(g.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=g,g.isBeingObserved||(g.isBeingObserved=!0,g.onBecomeObserved())),!0):(g.observers.size===0&&et.inBatch>0&&Fo(g),!1)}function Nr(g,m){if(console.log("[mobx.trace] '"+g.name+"' is invalidated due to a change in: '"+m.name+"'"),g.isTracing===Qe.BREAK){var w=[];(function T(C,K,ge){if(K.length>=1e3)return void K.push("(and many more)");K.push(""+new Array(ge).join("	")+C.name),C.dependencies&&C.dependencies.forEach(function(Ce){return T(Ce,K,ge+1)})})(ao(g),w,1),new Function(`debugger;
/*
Tracing '`+g.name+`'

You are entering this break point because derivation '`+g.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(g instanceof ir?g.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+w.join(`
`)+`
*/
    `)()}}var ur=function(){function g(m,w,T,C){m===void 0&&(m="Reaction@"+k()),C===void 0&&(C=!1),this.name=m,this.onInvalidate=w,this.errorHandler=T,this.requiresObservable=C,this.observing=[],this.newObserving=[],this.dependenciesState=ie.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+k(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Qe.NONE}return g.prototype.onBecomeStale=function(){this.schedule()},g.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,et.pendingReactions.push(this),pi())},g.prototype.isScheduled=function(){return this._isScheduled},g.prototype.runReaction=function(){if(!this.isDisposed){if(Vn(),this._isScheduled=!1,Tt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(m){this.reportExceptionInDerivation(m)}}Wn()}},g.prototype.track=function(m){if(!this.isDisposed){Vn(),this._isRunning=!0;var w=pe(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ke(this),gt(w)&&this.reportExceptionInDerivation(w.cause),Wn()}},g.prototype.reportExceptionInDerivation=function(m){var w=this;if(this.errorHandler)this.errorHandler(m,this);else{if(et.disableErrorBoundaries)throw m;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";et.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,m),et.globalReactionErrorHandlers.forEach(function(C){return C(m,w)})}},g.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Vn(),ke(this),Wn()))},g.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m[q]=this,m},g.prototype.toString=function(){return"Reaction["+this.name+"]"},g.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var C=!1;typeof w[w.length-1]=="boolean"&&(C=w.pop());var K=_i(w);if(!K)return D(!1);K.isTracing===Qe.NONE&&console.log("[mobx.trace] '"+K.name+"' tracing enabled"),K.isTracing=C?Qe.BREAK:Qe.LOG}(this,m)},g}(),fi=function(g){return g()};function pi(){et.inBatch>0||et.isRunningReactions||fi(Gi)}function Gi(){et.isRunningReactions=!0;for(var g=et.pendingReactions,m=0;g.length>0;){++m==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+g[0]),g.splice(0));for(var w=g.splice(0),T=0,C=w.length;T<C;T++)w[T].runReaction()}et.isRunningReactions=!1}var sr=re("Reaction",ur);function ro(g){var m=fi;fi=function(w){return g(function(){return m(w)})}}function Ar(g){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function di(){D(!1)}function yr(g){return function(m,w,T){if(T){if(T.value)return{value:Pt(g,T.value),enumerable:!1,configurable:!0,writable:!0};var C=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Pt(g,C.call(this))}}}return Fi(g).apply(this,arguments)}}function Fi(g){return function(m,w,T){Object.defineProperty(m,w,{configurable:!0,enumerable:!1,get:function(){},set:function(C){te(this,w,cr(g,C))}})}}var cr=function(g,m,w,T){return arguments.length===1&&typeof g=="function"?Pt(g.name||"<unnamed action>",g):arguments.length===2&&typeof m=="function"?Pt(g,m):arguments.length===1&&typeof g=="string"?yr(g):T!==!0?yr(m).apply(null,arguments):void te(g,m,Pt(g.name||m,w.value,this))};function Xo(g,m){return Ve(typeof g=="string"?g:g.name||"<unnamed action>",typeof g=="function"?g:m,this,void 0)}function oo(g){return typeof g=="function"&&g.isMobxAction===!0}function Uo(g,m,w){te(g,m,Pt(m,w.bind(g)))}function Yo(g,m){m===void 0&&(m=x);var w,T=m&&m.name||g.name||"Autorun@"+k();if(!m.scheduler&&!m.delay)w=new ur(T,function(){this.track(ge)},m.onError,m.requiresObservable);else{var C=hi(m),K=!1;w=new ur(T,function(){K||(K=!0,C(function(){K=!1,w.isDisposed||w.track(ge)}))},m.onError,m.requiresObservable)}function ge(){g(w)}return w.schedule(),w.getDisposer()}cr.bound=function(g,m,w,T){return T===!0?(Uo(g,m,w.value),null):w?{configurable:!0,enumerable:!1,get:function(){return Uo(this,m,w.value||w.initializer.call(this)),this[m]},set:di}:{enumerable:!1,configurable:!0,set:function(C){Uo(this,m,C)},get:function(){}}};var ya=function(g){return g()};function hi(g){return g.scheduler?g.scheduler:g.delay?function(m){return setTimeout(m,g.delay)}:ya}function Tr(g,m,w){w===void 0&&(w=x);var T,C,K,ge=w.name||"Reaction@"+k(),Ce=cr(ge,w.onError?(T=w.onError,C=m,function(){try{return C.apply(this,arguments)}catch(Ht){T.call(this,Ht)}}):m),$e=!w.scheduler&&!w.delay,_t=hi(w),Ot=!0,zt=!1,Rt=w.compareStructural?G.structural:w.equals||G.default,Dt=new ur(ge,function(){Ot||$e?Ut():zt||(zt=!0,_t(Ut))},w.onError,w.requiresObservable);function Ut(){if(zt=!1,!Dt.isDisposed){var Ht=!1;Dt.track(function(){var It=g(Dt);Ht=Ot||!Rt(K,It),K=It}),Ot&&w.fireImmediately&&Ce(K,Dt),Ot||Ht!==!0||Ce(K,Dt),Ot&&(Ot=!1)}}return Dt.schedule(),Dt.getDisposer()}function Dr(g,m,w){return yi("onBecomeUnobserved",g,m,w)}function yi(g,m,w,T){var C=typeof T=="function"?Zn(m,w):Zn(m),K=typeof T=="function"?T:w,ge=g+"Listeners";return C[ge]?C[ge].add(K):C[ge]=new Set([K]),typeof C[g]!="function"?D(!1):function(){var Ce=C[ge];Ce&&(Ce.delete(K),Ce.size===0&&delete C[ge])}}function io(g){var m=g.enforceActions,w=g.computedRequiresReaction,T=g.computedConfigurable,C=g.disableErrorBoundaries,K=g.reactionScheduler,ge=g.reactionRequiresObservable,Ce=g.observableRequiresReaction;if(g.isolateGlobalState===!0&&((et.pendingReactions.length||et.inBatch||et.isRunningReactions)&&D("isolateGlobalState should be called before MobX is running any reactions"),ci=!0,ko&&(--qn().__mobxInstanceCount==0&&(qn().__mobxGlobals=void 0),et=new Go)),m!==void 0){var $e=void 0;switch(m){case!0:case"observed":$e=!0;break;case!1:case"never":$e=!1;break;case"strict":case"always":$e="strict";break;default:D("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}et.enforceActions=$e,et.allowStateChanges=$e!==!0&&$e!=="strict"}w!==void 0&&(et.computedRequiresReaction=!!w),ge!==void 0&&(et.reactionRequiresObservable=!!ge),Ce!==void 0&&(et.observableRequiresReaction=!!Ce,et.allowStateReads=!et.observableRequiresReaction),T!==void 0&&(et.computedConfigurable=!!T),C!==void 0&&(C===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),et.disableErrorBoundaries=!!C),K&&ro(K)}function Jn(g,m,w,T){var C=Cr(T=_e(T));return Ze(g),Do(g,T.name,C.enhancer),m&&vi(g,m,w,C),g}function Cr(g){return g.defaultDecorator||(g.deep===!1?Re:De)}function vi(g,m,w,T){var C,K;Vn();try{var ge=me(m);try{for(var Ce=Ne(ge),$e=Ce.next();!$e.done;$e=Ce.next()){var _t=$e.value,Ot=Object.getOwnPropertyDescriptor(m,_t),zt=(w&&_t in w?w[_t]:Ot.get?nt:T)(g,_t,Ot,!0);zt&&Object.defineProperty(g,_t,zt)}}catch(Rt){C={error:Rt}}finally{try{$e&&!$e.done&&(K=Ce.return)&&K.call(Ce)}finally{if(C)throw C.error}}}finally{Wn()}}function ao(g,m){return gi(Zn(g,m))}function gi(g){var m,w,T={name:g.name};return g.observing&&g.observing.length>0&&(T.dependencies=(m=g.observing,w=[],m.forEach(function(C){w.indexOf(C)===-1&&w.push(C)}),w).map(gi)),T}var va=0;function Rr(){this.message="FLOW_CANCELLED"}function Wt(g){arguments.length!==1&&D("Flow expects 1 argument and cannot be used as decorator");var m=g.name||"<unnamed flow>";return function(){var w,T=this,C=arguments,K=++va,ge=cr(m+" - runid: "+K+" - init",g).apply(T,C),Ce=void 0,$e=new Promise(function(_t,Ot){var zt=0;function Rt(Ht){var It;Ce=void 0;try{It=cr(m+" - runid: "+K+" - yield "+zt++,ge.next).call(ge,Ht)}catch($n){return Ot($n)}Ut(It)}function Dt(Ht){var It;Ce=void 0;try{It=cr(m+" - runid: "+K+" - yield "+zt++,ge.throw).call(ge,Ht)}catch($n){return Ot($n)}Ut(It)}function Ut(Ht){if(!Ht||typeof Ht.then!="function")return Ht.done?_t(Ht.value):(Ce=Promise.resolve(Ht.value)).then(Rt,Dt);Ht.then(Ut,Ot)}w=Ot,Rt(void 0)});return $e.cancel=cr(m+" - runid: "+K+" - cancel",function(){try{Ce&&Ir(Ce);var _t=ge.return(void 0),Ot=Promise.resolve(_t.value);Ot.then(z,z),Ir(Ot),w(new Rr)}catch(zt){w(zt)}}),$e}}function Ir(g){typeof g.cancel=="function"&&g.cancel()}function mi(g,m){if(g==null)return!1;if(m!==void 0){if(on(g)===!1||!g[q].values.has(m))return!1;var w=Zn(g,m);return Mr(w)}return Mr(g)}function uo(g){return arguments.length>1?D(!1):mi(g)}function Vo(g,m){return typeof m!="string"?D(!1):mi(g,m)}function No(g,m){return g!=null&&(m!==void 0?!!on(g)&&g[q].values.has(m):on(g)||!!g[q]||H(g)||sr(g)||Mr(g))}function Lr(g){return arguments.length!==1&&D(!1),No(g)}function Ln(g){return on(g)?g[q].getKeys():kn(g)||tn(g)?Array.from(g.keys()):Mn(g)?g.map(function(m,w){return w}):D(!1)}function cn(g){return on(g)?Ln(g).map(function(m){return g[m]}):kn(g)?Ln(g).map(function(m){return g.get(m)}):tn(g)?Array.from(g.values()):Mn(g)?g.slice():D(!1)}function bi(g){return on(g)?Ln(g).map(function(m){return[m,g[m]]}):kn(g)?Ln(g).map(function(m){return[m,g.get(m)]}):tn(g)?Array.from(g.entries()):Mn(g)?g.map(function(m,w){return[w,m]}):D(!1)}function Qn(g,m,w,T){return typeof w=="function"?function(C,K,ge,Ce){return ho(C,K).observe(ge,Ce)}(g,m,w,T):function(C,K,ge){return ho(C).observe(K,ge)}(g,m,w)}Rr.prototype=Object.create(Error.prototype);var Wo={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function zn(g,m,w,T){return T.detectCycles&&g.set(m,w),w}function zr(g,m){var w;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=Wo),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(w=new Map),function T(C,K,ge){if(!K.recurseEverything&&!Lr(C)||typeof C!="object")return C;if(C===null)return null;if(C instanceof Date)return C;if(Ho(C))return T(C.get(),K,ge);if(Lr(C)&&Ln(C),K.detectCycles===!0&&C!==null&&ge.has(C))return ge.get(C);if(Mn(C)||Array.isArray(C)){var Ce=zn(ge,C,[],K),$e=C.map(function(It){return T(It,K,ge)});Ce.length=$e.length;for(var _t=0,Ot=$e.length;_t<Ot;_t++)Ce[_t]=$e[_t];return Ce}if(tn(C)||Object.getPrototypeOf(C)===Set.prototype){if(K.exportMapsAsObjects===!1){var zt=zn(ge,C,new Set,K);return C.forEach(function(It){zt.add(T(It,K,ge))}),zt}var Rt=zn(ge,C,[],K);return C.forEach(function(It){Rt.push(T(It,K,ge))}),Rt}if(kn(C)||Object.getPrototypeOf(C)===Map.prototype){if(K.exportMapsAsObjects===!1){var Dt=zn(ge,C,new Map,K);return C.forEach(function(It,$n){Dt.set($n,T(It,K,ge))}),Dt}var Ut=zn(ge,C,{},K);return C.forEach(function(It,$n){Ut[$n]=T(It,K,ge)}),Ut}var Ht=zn(ge,C,{},K);return ye(C).forEach(function(It){Ht[It]=T(C[It],K,ge)}),Ht}(g,m,w)}function _i(g){switch(g.length){case 0:return et.trackingDerivation;case 1:return Zn(g[0]);case 2:return Zn(g[0],g[1])}}function On(g,m){m===void 0&&(m=void 0),Vn();try{return g.apply(m)}finally{Wn()}}function dn(g,m,w){return arguments.length===1||m&&typeof m=="object"?Ko(g,m):lr(g,m,w||{})}function lr(g,m,w){var T;typeof w.timeout=="number"&&(T=setTimeout(function(){if(!K[q].isDisposed){K();var ge=new Error("WHEN_TIMEOUT");if(!w.onError)throw ge;w.onError(ge)}},w.timeout)),w.name=w.name||"When@"+k();var C=Pt(w.name+"-effect",m),K=Yo(function(ge){g()&&(ge.dispose(),T&&clearTimeout(T),C())},w);return K}function Ko(g,m){var w,T=new Promise(function(C,K){var ge=lr(g,C,be(be({},m),{onError:K}));w=function(){ge(),K("WHEN_CANCELLED")}});return T.cancel=w,T}function Br(g){return g[q]}function vr(g){return typeof g=="string"||typeof g=="number"||typeof g=="symbol"}var Hr={has:function(g,m){if(m===q||m==="constructor"||m===J)return!0;var w=Br(g);return vr(m)?w.has(m):m in g},get:function(g,m){if(m===q||m==="constructor"||m===J)return g[m];var w=Br(g),T=w.values.get(m);if(T instanceof ve){var C=T.get();return C===void 0&&w.has(m),C}return vr(m)&&w.has(m),g[m]},set:function(g,m,w){return!!vr(m)&&(function T(C,K,ge){if(arguments.length!==2||tn(C))if(on(C)){var Ce=C[q],$e=Ce.values.get(K);$e?Ce.write(K,ge):Ce.addObservableProp(K,ge,Ce.defaultEnhancer)}else if(kn(C))C.set(K,ge);else if(tn(C))C.add(K);else{if(!Mn(C))return D(!1);typeof K!="number"&&(K=parseInt(K,10)),R(K>=0,"Not a valid index: '"+K+"'"),Vn(),K>=C.length&&(C.length=K+1),C[K]=ge,Wn()}else{Vn();var _t=K;try{for(var Ot in _t)T(C,Ot,_t[Ot])}finally{Wn()}}}(g,m,w),!0)},deleteProperty:function(g,m){return!!vr(m)&&(Br(g).remove(m),!0)},ownKeys:function(g){return Br(g).keysAtom.reportObserved(),Reflect.ownKeys(g)},preventExtensions:function(g){return D("Dynamic observable objects cannot be frozen"),!1}};function Gr(g){var m=new Proxy(g,Hr);return g[q].proxy=m,m}function Kn(g){return g.interceptors!==void 0&&g.interceptors.length>0}function er(g,m){var w=g.interceptors||(g.interceptors=[]);return w.push(m),L(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function Pn(g,m){var w=ze();try{for(var T=ae(g.interceptors||[]),C=0,K=T.length;C<K&&(R(!(m=T[C](m))||m.type,"Intercept handlers should return nothing or a change object"),m);C++);return m}finally{Be(w)}}function At(g){return g.changeListeners!==void 0&&g.changeListeners.length>0}function fr(g,m){var w=g.changeListeners||(g.changeListeners=[]);return w.push(m),L(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function yn(g,m){var w=ze(),T=g.changeListeners;if(T){for(var C=0,K=(T=T.slice()).length;C<K;C++)T[C](m);Be(w)}}var gr={get:function(g,m){return m===q?g[q]:m==="length"?g[q].getArrayLength():typeof m=="number"?tr.get.call(g,m):typeof m!="string"||isNaN(m)?tr.hasOwnProperty(m)?tr[m]:g[m]:tr.get.call(g,parseInt(m))},set:function(g,m,w){return m==="length"&&g[q].setArrayLength(w),typeof m=="number"&&tr.set.call(g,m,w),typeof m=="symbol"||isNaN(m)?g[m]=w:tr.set.call(g,parseInt(m),w),!0},preventExtensions:function(g){return D("Observable arrays cannot be frozen"),!1}};function Ao(g,m,w,T){w===void 0&&(w="ObservableArray@"+k()),T===void 0&&(T=!1);var C,K,ge,Ce=new so(w,m,T);C=Ce.values,K=q,ge=Ce,Object.defineProperty(C,K,{enumerable:!1,writable:!1,configurable:!0,value:ge});var $e=new Proxy(Ce.values,gr);if(Ce.proxy=$e,g&&g.length){var _t=Bt(!0);Ce.spliceWithArray(0,0,g),Qt(_t)}return $e}var so=function(){function g(m,w,T){this.owned=T,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new ve(m||"ObservableArray@"+k()),this.enhancer=function(C,K){return w(C,K,m+"[..]")}}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},g.prototype.intercept=function(m){return er(this,m)},g.prototype.observe=function(m,w){return w===void 0&&(w=!1),w&&m({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),fr(this,m)},g.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},g.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var w=this.values.length;if(m!==w)if(m>w){for(var T=new Array(m-w),C=0;C<m-w;C++)T[C]=void 0;this.spliceWithArray(w,0,T)}else this.spliceWithArray(m,w-m)},g.prototype.updateArrayLength=function(m,w){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=w},g.prototype.spliceWithArray=function(m,w,T){var C=this;V(this.atom);var K=this.values.length;if(m===void 0?m=0:m>K?m=K:m<0&&(m=Math.max(0,K+m)),w=arguments.length===1?K-m:w==null?0:Math.max(0,Math.min(w,K-m)),T===void 0&&(T=E),Kn(this)){var ge=Pn(this,{object:this.proxy,type:"splice",index:m,removedCount:w,added:T});if(!ge)return E;w=ge.removedCount,T=ge.added}T=T.length===0?T:T.map(function($e){return C.enhancer($e,void 0)});var Ce=this.spliceItemsIntoValues(m,w,T);return w===0&&T.length===0||this.notifyArraySplice(m,T,Ce),this.dehanceValues(Ce)},g.prototype.spliceItemsIntoValues=function(m,w,T){var C;if(T.length<1e4)return(C=this.values).splice.apply(C,ae([m,w],T));var K=this.values.slice(m,m+w);return this.values=this.values.slice(0,m).concat(T,this.values.slice(m+w)),K},g.prototype.notifyArrayChildUpdate=function(m,w,T){var C=!this.owned&&!1,K=At(this),ge=K||C?{object:this.proxy,type:"update",index:m,newValue:w,oldValue:T}:null;this.atom.reportChanged(),K&&yn(this,ge)},g.prototype.notifyArraySplice=function(m,w,T){var C=!this.owned&&!1,K=At(this),ge=K||C?{object:this.proxy,type:"splice",index:m,removed:T,added:w,removedCount:T.length,addedCount:w.length}:null;this.atom.reportChanged(),K&&yn(this,ge)},g}(),tr={intercept:function(g){return this[q].intercept(g)},observe:function(g,m){return m===void 0&&(m=!1),this[q].observe(g,m)},clear:function(){return this.splice(0)},replace:function(g){var m=this[q];return m.spliceWithArray(0,m.values.length,g)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(g,m){for(var w=[],T=2;T<arguments.length;T++)w[T-2]=arguments[T];var C=this[q];switch(arguments.length){case 0:return[];case 1:return C.spliceWithArray(g);case 2:return C.spliceWithArray(g,m)}return C.spliceWithArray(g,m,w)},spliceWithArray:function(g,m,w){return this[q].spliceWithArray(g,m,w)},push:function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var w=this[q];return w.spliceWithArray(w.values.length,0,g),w.values.length},pop:function(){return this.splice(Math.max(this[q].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var w=this[q];return w.spliceWithArray(0,0,g),w.values.length},reverse:function(){var g=this.slice();return g.reverse.apply(g,arguments)},sort:function(g){var m=this.slice();return m.sort.apply(m,arguments)},remove:function(g){var m=this[q],w=m.dehanceValues(m.values).indexOf(g);return w>-1&&(this.splice(w,1),!0)},get:function(g){var m=this[q];if(m){if(g<m.values.length)return m.atom.reportObserved(),m.dehanceValue(m.values[g]);console.warn("[mobx.array] Attempt to read an array index ("+g+") that is out of bounds ("+m.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(g,m){var w=this[q],T=w.values;if(g<T.length){V(w.atom);var C=T[g];if(Kn(w)){var K=Pn(w,{type:"update",object:w.proxy,index:g,newValue:m});if(!K)return;m=K.newValue}(m=w.enhancer(m,C))!==C&&(T[g]=m,w.notifyArrayChildUpdate(g,m,C))}else{if(g!==T.length)throw new Error("[mobx.array] Index out of bounds, "+g+" is larger than "+T.length);w.spliceWithArray(g,0,[m])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(g){typeof Array.prototype[g]=="function"&&(tr[g]=function(){var m=this[q];m.atom.reportObserved();var w=m.dehanceValues(m.values);return w[g].apply(w,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(g){typeof Array.prototype[g]=="function"&&(tr[g]=function(m,w){var T=this,C=this[q];return C.atom.reportObserved(),C.dehanceValues(C.values)[g](function(K,ge){return m.call(w,K,ge,T)},w)})}),["reduce","reduceRight"].forEach(function(g){tr[g]=function(){var m=this,w=this[q];w.atom.reportObserved();var T=arguments[0];return arguments[0]=function(C,K,ge){return K=w.dehanceValue(K),T(C,K,ge,m)},w.values[g].apply(w.values,arguments)}});var To,Oi=re("ObservableArrayAdministration",so);function Mn(g){return Y(g)&&Oi(g[q])}var Zo,Xi={},wi=function(){function g(m,w,T){if(w===void 0&&(w=tt),T===void 0&&(T="ObservableMap@"+k()),this.enhancer=w,this.name=T,this[To]=Xi,this._keysAtom=W(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return g.prototype._has=function(m){return this._data.has(m)},g.prototype.has=function(m){var w=this;if(!et.trackingDerivation)return this._has(m);var T=this._hasMap.get(m);if(!T){var C=T=new _n(this._has(m),Et,this.name+"."+Q(m)+"?",!1);this._hasMap.set(m,C),Dr(C,function(){return w._hasMap.delete(m)})}return T.get()},g.prototype.set=function(m,w){var T=this._has(m);if(Kn(this)){var C=Pn(this,{type:T?"update":"add",object:this,newValue:w,name:m});if(!C)return this;w=C.newValue}return T?this._updateValue(m,w):this._addValue(m,w),this},g.prototype.delete=function(m){var w=this;if(V(this._keysAtom),Kn(this)&&!(C=Pn(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var T=At(this),C=T?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return On(function(){w._keysAtom.reportChanged(),w._updateHasMapEntry(m,!1),w._data.get(m).setNewValue(void 0),w._data.delete(m)}),T&&yn(this,C),!0}return!1},g.prototype._updateHasMapEntry=function(m,w){var T=this._hasMap.get(m);T&&T.setNewValue(w)},g.prototype._updateValue=function(m,w){var T=this._data.get(m);if((w=T.prepareNewValue(w))!==et.UNCHANGED){var C=At(this),K=C?{type:"update",object:this,oldValue:T.value,name:m,newValue:w}:null;T.setNewValue(w),C&&yn(this,K)}},g.prototype._addValue=function(m,w){var T=this;V(this._keysAtom),On(function(){var ge=new _n(w,T.enhancer,T.name+"."+Q(m),!1);T._data.set(m,ge),w=ge.value,T._updateHasMapEntry(m,!0),T._keysAtom.reportChanged()});var C=At(this),K=C?{type:"add",object:this,name:m,newValue:w}:null;C&&yn(this,K)},g.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},g.prototype.values=function(){var m=this,w=this.keys();return pr({next:function(){var T=w.next(),C=T.done,K=T.value;return{done:C,value:C?void 0:m.get(K)}}})},g.prototype.entries=function(){var m=this,w=this.keys();return pr({next:function(){var T=w.next(),C=T.done,K=T.value;return{done:C,value:C?void 0:[K,m.get(K)]}}})},g.prototype[To=q,Symbol.iterator]=function(){return this.entries()},g.prototype.forEach=function(m,w){var T,C;try{for(var K=Ne(this),ge=K.next();!ge.done;ge=K.next()){var Ce=U(ge.value,2),$e=Ce[0],_t=Ce[1];m.call(w,_t,$e,this)}}catch(Ot){T={error:Ot}}finally{try{ge&&!ge.done&&(C=K.return)&&C.call(K)}finally{if(T)throw T.error}}},g.prototype.merge=function(m){var w=this;return kn(m)&&(m=m.toJS()),On(function(){var T=Bt(!0);try{X(m)?ye(m).forEach(function(C){return w.set(C,m[C])}):Array.isArray(m)?m.forEach(function(C){var K=U(C,2),ge=K[0],Ce=K[1];return w.set(ge,Ce)}):oe(m)?(m.constructor!==Map&&D("Cannot initialize from classes that inherit from Map: "+m.constructor.name),m.forEach(function(C,K){return w.set(K,C)})):m!=null&&D("Cannot initialize map from "+m)}finally{Qt(T)}}),this},g.prototype.clear=function(){var m=this;On(function(){de(function(){var w,T;try{for(var C=Ne(m.keys()),K=C.next();!K.done;K=C.next()){var ge=K.value;m.delete(ge)}}catch(Ce){w={error:Ce}}finally{try{K&&!K.done&&(T=C.return)&&T.call(C)}finally{if(w)throw w.error}}})})},g.prototype.replace=function(m){var w=this;return On(function(){var T,C,K,ge,Ce=function(Nn){if(oe(Nn)||kn(Nn))return Nn;if(Array.isArray(Nn))return new Map(Nn);if(X(Nn)){var Jo=new Map;for(var Xr in Nn)Jo.set(Xr,Nn[Xr]);return Jo}return D("Cannot convert to map from '"+Nn+"'")}(m),$e=new Map,_t=!1;try{for(var Ot=Ne(w._data.keys()),zt=Ot.next();!zt.done;zt=Ot.next()){var Rt=zt.value;if(!Ce.has(Rt))if(w.delete(Rt))_t=!0;else{var Dt=w._data.get(Rt);$e.set(Rt,Dt)}}}catch(Nn){T={error:Nn}}finally{try{zt&&!zt.done&&(C=Ot.return)&&C.call(Ot)}finally{if(T)throw T.error}}try{for(var Ut=Ne(Ce.entries()),Ht=Ut.next();!Ht.done;Ht=Ut.next()){var It=U(Ht.value,2),$n=(Rt=It[0],Dt=It[1],w._data.has(Rt));if(w.set(Rt,Dt),w._data.has(Rt)){var Ui=w._data.get(Rt);$e.set(Rt,Ui),$n||(_t=!0)}}}catch(Nn){K={error:Nn}}finally{try{Ht&&!Ht.done&&(ge=Ut.return)&&ge.call(Ut)}finally{if(K)throw K.error}}if(!_t)if(w._data.size!==$e.size)w._keysAtom.reportChanged();else for(var vo=w._data.keys(),Fr=$e.keys(),mr=vo.next(),Si=Fr.next();!mr.done;){if(mr.value!==Si.value){w._keysAtom.reportChanged();break}mr=vo.next(),Si=Fr.next()}w._data=$e}),this},Object.defineProperty(g.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.toPOJO=function(){var m,w,T={};try{for(var C=Ne(this),K=C.next();!K.done;K=C.next()){var ge=U(K.value,2),Ce=ge[0],$e=ge[1];T[typeof Ce=="symbol"?Ce:Q(Ce)]=$e}}catch(_t){m={error:_t}}finally{try{K&&!K.done&&(w=C.return)&&w.call(C)}finally{if(m)throw m.error}}return T},g.prototype.toJS=function(){return new Map(this)},g.prototype.toJSON=function(){return this.toPOJO()},g.prototype.toString=function(){var m=this;return this.name+"[{ "+Array.from(this.keys()).map(function(w){return Q(w)+": "+m.get(w)}).join(", ")+" }]"},g.prototype.observe=function(m,w){return fr(this,m)},g.prototype.intercept=function(m){return er(this,m)},g}(),kn=re("ObservableMap",wi),Bn={},nr=function(){function g(m,w,T){if(w===void 0&&(w=tt),T===void 0&&(T="ObservableSet@"+k()),this.name=T,this[Zo]=Bn,this._data=new Set,this._atom=W(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(C,K){return w(C,K,T)},m&&this.replace(m)}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.clear=function(){var m=this;On(function(){de(function(){var w,T;try{for(var C=Ne(m._data.values()),K=C.next();!K.done;K=C.next()){var ge=K.value;m.delete(ge)}}catch(Ce){w={error:Ce}}finally{try{K&&!K.done&&(T=C.return)&&T.call(C)}finally{if(w)throw w.error}}})})},g.prototype.forEach=function(m,w){var T,C;try{for(var K=Ne(this),ge=K.next();!ge.done;ge=K.next()){var Ce=ge.value;m.call(w,Ce,Ce,this)}}catch($e){T={error:$e}}finally{try{ge&&!ge.done&&(C=K.return)&&C.call(K)}finally{if(T)throw T.error}}},Object.defineProperty(g.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.add=function(m){var w=this;if(V(this._atom),Kn(this)&&!(C=Pn(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){On(function(){w._data.add(w.enhancer(m,void 0)),w._atom.reportChanged()});var T=At(this),C=T?{type:"add",object:this,newValue:m}:null;T&&yn(this,C)}return this},g.prototype.delete=function(m){var w=this;if(Kn(this)&&!(C=Pn(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var T=At(this),C=T?{type:"delete",object:this,oldValue:m}:null;return On(function(){w._atom.reportChanged(),w._data.delete(m)}),T&&yn(this,C),!0}return!1},g.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},g.prototype.entries=function(){var m=0,w=Array.from(this.keys()),T=Array.from(this.values());return pr({next:function(){var C=m;return m+=1,C<T.length?{value:[w[C],T[C]],done:!1}:{done:!0}}})},g.prototype.keys=function(){return this.values()},g.prototype.values=function(){this._atom.reportObserved();var m=this,w=0,T=Array.from(this._data.values());return pr({next:function(){return w<T.length?{value:m.dehanceValue(T[w++]),done:!1}:{done:!0}}})},g.prototype.replace=function(m){var w=this;return tn(m)&&(m=m.toJS()),On(function(){var T=Bt(!0);try{Array.isArray(m)||le(m)?(w.clear(),m.forEach(function(C){return w.add(C)})):m!=null&&D("Cannot initialize set from "+m)}finally{Qt(T)}}),this},g.prototype.observe=function(m,w){return fr(this,m)},g.prototype.intercept=function(m){return er(this,m)},g.prototype.toJS=function(){return new Set(this)},g.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},g.prototype[Zo=q,Symbol.iterator]=function(){return this.values()},g}(),tn=re("ObservableSet",nr),co=function(){function g(m,w,T,C){w===void 0&&(w=new Map),this.target=m,this.values=w,this.name=T,this.defaultEnhancer=C,this.keysAtom=new ve(T+".keys")}return g.prototype.read=function(m){return this.values.get(m).get()},g.prototype.write=function(m,w){var T=this.target,C=this.values.get(m);if(C instanceof ir)C.set(w);else{if(Kn(this)){if(!(ge=Pn(this,{type:"update",object:this.proxy||T,name:m,newValue:w})))return;w=ge.newValue}if((w=C.prepareNewValue(w))!==et.UNCHANGED){var K=At(this),ge=K?{type:"update",object:this.proxy||T,oldValue:C.value,name:m,newValue:w}:null;C.setNewValue(w),K&&yn(this,ge)}}},g.prototype.has=function(m){var w=this.pendingKeys||(this.pendingKeys=new Map),T=w.get(m);if(T)return T.get();var C=!!this.values.get(m);return T=new _n(C,Et,this.name+"."+Q(m)+"?",!1),w.set(m,T),T.get()},g.prototype.addObservableProp=function(m,w,T){T===void 0&&(T=this.defaultEnhancer);var C=this.target;if(Kn(this)){var K=Pn(this,{object:this.proxy||C,name:m,type:"add",newValue:w});if(!K)return;w=K.newValue}var ge=new _n(w,T,this.name+"."+Q(m),!1);this.values.set(m,ge),w=ge.value,Object.defineProperty(C,m,function(Ce){return lo[Ce]||(lo[Ce]={configurable:!0,enumerable:!0,get:function(){return this[q].read(Ce)},set:function($e){this[q].write(Ce,$e)}})}(m)),this.notifyPropertyAddition(m,w)},g.prototype.addComputedProp=function(m,w,T){var C,K,ge,Ce=this.target;T.name=T.name||this.name+"."+Q(w),this.values.set(w,new ir(T)),(m===Ce||(C=m,K=w,!(ge=Object.getOwnPropertyDescriptor(C,K))||ge.configurable!==!1&&ge.writable!==!1))&&Object.defineProperty(m,w,function($e){return fo[$e]||(fo[$e]={configurable:et.computedConfigurable,enumerable:!1,get:function(){return po(this).read($e)},set:function(_t){po(this).write($e,_t)}})}(w))},g.prototype.remove=function(m){if(this.values.has(m)){var w=this.target;if(Kn(this)&&!(Ce=Pn(this,{object:this.proxy||w,name:m,type:"remove"})))return;try{Vn();var T=At(this),C=this.values.get(m),K=C&&C.get();if(C&&C.set(void 0),this.keysAtom.reportChanged(),this.values.delete(m),this.pendingKeys){var ge=this.pendingKeys.get(m);ge&&ge.set(!1)}delete this.target[m];var Ce=T?{type:"remove",object:this.proxy||w,oldValue:K,name:m}:null;T&&yn(this,Ce)}finally{Wn()}}},g.prototype.illegalAccess=function(m,w){console.warn("Property '"+w+"' of '"+m+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},g.prototype.observe=function(m,w){return fr(this,m)},g.prototype.intercept=function(m){return er(this,m)},g.prototype.notifyPropertyAddition=function(m,w){var T=At(this),C=T?{type:"add",object:this.proxy||this.target,name:m,newValue:w}:null;if(T&&yn(this,C),this.pendingKeys){var K=this.pendingKeys.get(m);K&&K.set(!0)}this.keysAtom.reportChanged()},g.prototype.getKeys=function(){var m,w;this.keysAtom.reportObserved();var T=[];try{for(var C=Ne(this.values),K=C.next();!K.done;K=C.next()){var ge=U(K.value,2),Ce=ge[0];ge[1]instanceof _n&&T.push(Ce)}}catch($e){m={error:$e}}finally{try{K&&!K.done&&(w=C.return)&&w.call(C)}finally{if(m)throw m.error}}return T},g}();function Do(g,m,w){if(m===void 0&&(m=""),w===void 0&&(w=tt),Object.prototype.hasOwnProperty.call(g,q))return g[q];X(g)||(m=(g.constructor.name||"ObservableObject")+"@"+k()),m||(m="ObservableObject@"+k());var T=new co(g,new Map,Q(m),w);return te(g,q,T),T}var lo=Object.create(null),fo=Object.create(null);function po(g){var m=g[q];return m||(Ze(g),g[q])}var $o=re("ObservableObjectAdministration",co);function on(g){return!!Y(g)&&(Ze(g),$o(g[q]))}function Zn(g,m){if(typeof g=="object"&&g!==null){if(Mn(g))return m!==void 0&&D(!1),g[q].atom;if(tn(g))return g[q];if(kn(g)){var w=g;return m===void 0?w._keysAtom:((T=w._data.get(m)||w._hasMap.get(m))||D(!1),T)}var T;if(Ze(g),m&&!g[q]&&g[m],on(g))return m?((T=g[q].values.get(m))||D(!1),T):D(!1);if(H(g)||Mr(g)||sr(g))return g}else if(typeof g=="function"&&sr(g[q]))return g[q];return D(!1)}function ho(g,m){return g||D("Expecting some object"),m!==void 0?ho(Zn(g,m)):H(g)||Mr(g)||sr(g)||kn(g)||tn(g)?g:(Ze(g),g[q]?g[q]:void D(!1))}var xi=Object.prototype.toString;function qo(g,m,w){return w===void 0&&(w=-1),function T(C,K,ge,Ce,$e){if(C===K)return C!==0||1/C==1/K;if(C==null||K==null)return!1;if(C!=C)return K!=K;var _t=typeof C;if(_t!=="function"&&_t!=="object"&&typeof K!="object")return!1;var Ot=xi.call(C);if(Ot!==xi.call(K))return!1;switch(Ot){case"[object RegExp]":case"[object String]":return""+C==""+K;case"[object Number]":return+C!=+C?+K!=+K:+C==0?1/+C==1/K:+C==+K;case"[object Date]":case"[object Boolean]":return+C==+K;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(C)===Symbol.valueOf.call(K);case"[object Map]":case"[object Set]":ge>=0&&ge++}C=Hn(C),K=Hn(K);var zt=Ot==="[object Array]";if(!zt){if(typeof C!="object"||typeof K!="object")return!1;var Rt=C.constructor,Dt=K.constructor;if(Rt!==Dt&&!(typeof Rt=="function"&&Rt instanceof Rt&&typeof Dt=="function"&&Dt instanceof Dt)&&"constructor"in C&&"constructor"in K)return!1}if(ge===0)return!1;ge<0&&(ge=-1),$e=$e||[];for(var Ut=(Ce=Ce||[]).length;Ut--;)if(Ce[Ut]===C)return $e[Ut]===K;if(Ce.push(C),$e.push(K),zt){if((Ut=C.length)!==K.length)return!1;for(;Ut--;)if(!T(C[Ut],K[Ut],ge-1,Ce,$e))return!1}else{var Ht=Object.keys(C),It=void 0;if(Ut=Ht.length,Object.keys(K).length!==Ut)return!1;for(;Ut--;)if(It=Ht[Ut],!yo(K,It)||!T(C[It],K[It],ge-1,Ce,$e))return!1}return Ce.pop(),$e.pop(),!0}(g,m,w)}function Hn(g){return Mn(g)?g.slice():oe(g)||kn(g)||le(g)||tn(g)?Array.from(g.entries()):g}function yo(g,m){return Object.prototype.hasOwnProperty.call(g,m)}function pr(g){return g[Symbol.iterator]=Ei,g}function Ei(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ar,extras:{getDebugName:function(g,m){return(m!==void 0?Zn(g,m):on(g)||kn(g)||tn(g)?ho(g):Zn(g)).name}},$mobx:q})}).call(this,s(155),s(81))},function(j,M,s){"use strict";s.d(M,"a",function(){return Q}),s.d(M,"b",function(){return ye}),s.d(M,"c",function(){return tt}),s.d(M,"d",function(){return Et}),s.d(M,"e",function(){return re}),s.d(M,"f",function(){return le}),s.d(M,"g",function(){return re}),s.d(M,"h",function(){return Ue}),s.d(M,"i",function(){return h}),s.d(M,"j",function(){return ot}),s.d(M,"k",function(){return G});var O,h,E,x,k,D,R,L={},z=[],Y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function X(ue,ce){for(var _e in ce)ue[_e]=ce[_e];return ue}function te(ue){var ce=ue.parentNode;ce&&ce.removeChild(ue)}function re(ue,ce,_e){var De,Ye,Re,lt={};for(Re in ce)Re=="key"?De=ce[Re]:Re=="ref"?Ye=ce[Re]:lt[Re]=ce[Re];if(arguments.length>2&&(lt.children=arguments.length>3?O.call(arguments,2):_e),typeof ue=="function"&&ue.defaultProps!=null)for(Re in ue.defaultProps)lt[Re]===void 0&&(lt[Re]=ue.defaultProps[Re]);return oe(ue,lt,De,Ye,null)}function oe(ue,ce,_e,De,Ye){var Re={type:ue,props:ce,key:_e,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ye==null?++E:Ye};return Ye==null&&h.vnode!=null&&h.vnode(Re),Re}function le(){return{current:null}}function ye(ue){return ue.children}function Q(ue,ce){this.props=ue,this.context=ce}function ne(ue,ce){if(ce==null)return ue.__?ne(ue.__,ue.__.__k.indexOf(ue)+1):null;for(var _e;ce<ue.__k.length;ce++)if((_e=ue.__k[ce])!=null&&_e.__e!=null)return _e.__e;return typeof ue.type=="function"?ne(ue):null}function me(ue){var ce,_e;if((ue=ue.__)!=null&&ue.__c!=null){for(ue.__e=ue.__c.base=null,ce=0;ce<ue.__k.length;ce++)if((_e=ue.__k[ce])!=null&&_e.__e!=null){ue.__e=ue.__c.base=_e.__e;break}return me(ue)}}function q(ue){(!ue.__d&&(ue.__d=!0)&&x.push(ue)&&!ve.__r++||D!==h.debounceRendering)&&((D=h.debounceRendering)||k)(ve)}function ve(){for(var ue;ve.__r=x.length;)ue=x.sort(function(ce,_e){return ce.__v.__b-_e.__v.__b}),x=[],ue.some(function(ce){var _e,De,Ye,Re,lt,at;ce.__d&&(lt=(Re=(_e=ce).__v).__e,(at=_e.__P)&&(De=[],(Ye=X({},Re)).__v=Re.__v+1,J(at,Re,Ye,_e.__n,at.ownerSVGElement!==void 0,Re.__h!=null?[lt]:null,De,lt==null?ne(Re):lt,Re.__h),fe(De,Re),Re.__e!=lt&&me(Re)))})}function H(ue,ce,_e,De,Ye,Re,lt,at,vt,ft){var Ae,ie,Qe,nt,qe,Vt,mt,gt=De&&De.__k||z,Tt=gt.length;for(_e.__k=[],Ae=0;Ae<ce.length;Ae++)if((nt=_e.__k[Ae]=(nt=ce[Ae])==null||typeof nt=="boolean"?null:typeof nt=="string"||typeof nt=="number"||typeof nt=="bigint"?oe(null,nt,null,null,nt):Array.isArray(nt)?oe(ye,{children:nt},null,null,null):nt.__b>0?oe(nt.type,nt.props,nt.key,null,nt.__v):nt)!=null){if(nt.__=_e,nt.__b=_e.__b+1,(Qe=gt[Ae])===null||Qe&&nt.key==Qe.key&&nt.type===Qe.type)gt[Ae]=void 0;else for(ie=0;ie<Tt;ie++){if((Qe=gt[ie])&&nt.key==Qe.key&&nt.type===Qe.type){gt[ie]=void 0;break}Qe=null}J(ue,nt,Qe=Qe||L,Ye,Re,lt,at,vt,ft),qe=nt.__e,(ie=nt.ref)&&Qe.ref!=ie&&(mt||(mt=[]),Qe.ref&&mt.push(Qe.ref,null,nt),mt.push(ie,nt.__c||qe,nt)),qe!=null?(Vt==null&&(Vt=qe),typeof nt.type=="function"&&nt.__k===Qe.__k?nt.__d=vt=W(nt,vt,ue):vt=ee(ue,nt,Qe,gt,qe,vt),typeof _e.type=="function"&&(_e.__d=vt)):vt&&Qe.__e==vt&&vt.parentNode!=ue&&(vt=ne(Qe))}for(_e.__e=Vt,Ae=Tt;Ae--;)gt[Ae]!=null&&(typeof _e.type=="function"&&gt[Ae].__e!=null&&gt[Ae].__e==_e.__d&&(_e.__d=ne(De,Ae+1)),Ge(gt[Ae],gt[Ae]));if(mt)for(Ae=0;Ae<mt.length;Ae++)Te(mt[Ae],mt[++Ae],mt[++Ae])}function W(ue,ce,_e){for(var De,Ye=ue.__k,Re=0;Ye&&Re<Ye.length;Re++)(De=Ye[Re])&&(De.__=ue,ce=typeof De.type=="function"?W(De,ce,_e):ee(_e,De,De,Ye,De.__e,ce));return ce}function G(ue,ce){return ce=ce||[],ue==null||typeof ue=="boolean"||(Array.isArray(ue)?ue.some(function(_e){G(_e,ce)}):ce.push(ue)),ce}function ee(ue,ce,_e,De,Ye,Re){var lt,at,vt;if(ce.__d!==void 0)lt=ce.__d,ce.__d=void 0;else if(_e==null||Ye!=Re||Ye.parentNode==null)e:if(Re==null||Re.parentNode!==ue)ue.appendChild(Ye),lt=null;else{for(at=Re,vt=0;(at=at.nextSibling)&&vt<De.length;vt+=2)if(at==Ye)break e;ue.insertBefore(Ye,Re),lt=Re}return lt!==void 0?lt:Ye.nextSibling}function be(ue,ce,_e){ce[0]==="-"?ue.setProperty(ce,_e):ue[ce]=_e==null?"":typeof _e!="number"||Y.test(ce)?_e:_e+"px"}function Ne(ue,ce,_e,De,Ye){var Re;e:if(ce==="style")if(typeof _e=="string")ue.style.cssText=_e;else{if(typeof De=="string"&&(ue.style.cssText=De=""),De)for(ce in De)_e&&ce in _e||be(ue.style,ce,"");if(_e)for(ce in _e)De&&_e[ce]===De[ce]||be(ue.style,ce,_e[ce])}else if(ce[0]==="o"&&ce[1]==="n")Re=ce!==(ce=ce.replace(/Capture$/,"")),ce=ce.toLowerCase()in ue?ce.toLowerCase().slice(2):ce.slice(2),ue.l||(ue.l={}),ue.l[ce+Re]=_e,_e?De||ue.addEventListener(ce,Re?ae:U,Re):ue.removeEventListener(ce,Re?ae:U,Re);else if(ce!=="dangerouslySetInnerHTML"){if(Ye)ce=ce.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ce!=="href"&&ce!=="list"&&ce!=="form"&&ce!=="tabIndex"&&ce!=="download"&&ce in ue)try{ue[ce]=_e==null?"":_e;break e}catch(lt){}typeof _e=="function"||(_e!=null&&(_e!==!1||ce[0]==="a"&&ce[1]==="r")?ue.setAttribute(ce,_e):ue.removeAttribute(ce))}}function U(ue){this.l[ue.type+!1](h.event?h.event(ue):ue)}function ae(ue){this.l[ue.type+!0](h.event?h.event(ue):ue)}function J(ue,ce,_e,De,Ye,Re,lt,at,vt){var ft,Ae,ie,Qe,nt,qe,Vt,mt,gt,Tt,Jt,V=ce.type;if(ce.constructor!==void 0)return null;_e.__h!=null&&(vt=_e.__h,at=ce.__e=_e.__e,ce.__h=null,Re=[at]),(ft=h.__b)&&ft(ce);try{e:if(typeof V=="function"){if(mt=ce.props,gt=(ft=V.contextType)&&De[ft.__c],Tt=ft?gt?gt.props.value:ft.__:De,_e.__c?Vt=(Ae=ce.__c=_e.__c).__=Ae.__E:("prototype"in V&&V.prototype.render?ce.__c=Ae=new V(mt,Tt):(ce.__c=Ae=new Q(mt,Tt),Ae.constructor=V,Ae.render=Ze),gt&&gt.sub(Ae),Ae.props=mt,Ae.state||(Ae.state={}),Ae.context=Tt,Ae.__n=De,ie=Ae.__d=!0,Ae.__h=[]),Ae.__s==null&&(Ae.__s=Ae.state),V.getDerivedStateFromProps!=null&&(Ae.__s==Ae.state&&(Ae.__s=X({},Ae.__s)),X(Ae.__s,V.getDerivedStateFromProps(mt,Ae.__s))),Qe=Ae.props,nt=Ae.state,ie)V.getDerivedStateFromProps==null&&Ae.componentWillMount!=null&&Ae.componentWillMount(),Ae.componentDidMount!=null&&Ae.__h.push(Ae.componentDidMount);else{if(V.getDerivedStateFromProps==null&&mt!==Qe&&Ae.componentWillReceiveProps!=null&&Ae.componentWillReceiveProps(mt,Tt),!Ae.__e&&Ae.shouldComponentUpdate!=null&&Ae.shouldComponentUpdate(mt,Ae.__s,Tt)===!1||ce.__v===_e.__v){Ae.props=mt,Ae.state=Ae.__s,ce.__v!==_e.__v&&(Ae.__d=!1),Ae.__v=ce,ce.__e=_e.__e,ce.__k=_e.__k,ce.__k.forEach(function(pe){pe&&(pe.__=ce)}),Ae.__h.length&&lt.push(Ae);break e}Ae.componentWillUpdate!=null&&Ae.componentWillUpdate(mt,Ae.__s,Tt),Ae.componentDidUpdate!=null&&Ae.__h.push(function(){Ae.componentDidUpdate(Qe,nt,qe)})}Ae.context=Tt,Ae.props=mt,Ae.state=Ae.__s,(ft=h.__r)&&ft(ce),Ae.__d=!1,Ae.__v=ce,Ae.__P=ue,ft=Ae.render(Ae.props,Ae.state,Ae.context),Ae.state=Ae.__s,Ae.getChildContext!=null&&(De=X(X({},De),Ae.getChildContext())),ie||Ae.getSnapshotBeforeUpdate==null||(qe=Ae.getSnapshotBeforeUpdate(Qe,nt)),Jt=ft!=null&&ft.type===ye&&ft.key==null?ft.props.children:ft,H(ue,Array.isArray(Jt)?Jt:[Jt],ce,_e,De,Ye,Re,lt,at,vt),Ae.base=ce.__e,ce.__h=null,Ae.__h.length&&lt.push(Ae),Vt&&(Ae.__E=Ae.__=null),Ae.__e=!1}else Re==null&&ce.__v===_e.__v?(ce.__k=_e.__k,ce.__e=_e.__e):ce.__e=Se(_e.__e,ce,_e,De,Ye,Re,lt,vt);(ft=h.diffed)&&ft(ce)}catch(pe){ce.__v=null,(vt||Re!=null)&&(ce.__e=at,ce.__h=!!vt,Re[Re.indexOf(at)]=null),h.__e(pe,ce,_e)}}function fe(ue,ce){h.__c&&h.__c(ce,ue),ue.some(function(_e){try{ue=_e.__h,_e.__h=[],ue.some(function(De){De.call(_e)})}catch(De){h.__e(De,_e.__v)}})}function Se(ue,ce,_e,De,Ye,Re,lt,at){var vt,ft,Ae,ie=_e.props,Qe=ce.props,nt=ce.type,qe=0;if(nt==="svg"&&(Ye=!0),Re!=null){for(;qe<Re.length;qe++)if((vt=Re[qe])&&"setAttribute"in vt==!!nt&&(nt?vt.localName===nt:vt.nodeType===3)){ue=vt,Re[qe]=null;break}}if(ue==null){if(nt===null)return document.createTextNode(Qe);ue=Ye?document.createElementNS("http://www.w3.org/2000/svg",nt):document.createElement(nt,Qe.is&&Qe),Re=null,at=!1}if(nt===null)ie===Qe||at&&ue.data===Qe||(ue.data=Qe);else{if(Re=Re&&O.call(ue.childNodes),ft=(ie=_e.props||L).dangerouslySetInnerHTML,Ae=Qe.dangerouslySetInnerHTML,!at){if(Re!=null)for(ie={},qe=0;qe<ue.attributes.length;qe++)ie[ue.attributes[qe].name]=ue.attributes[qe].value;(Ae||ft)&&(Ae&&(ft&&Ae.__html==ft.__html||Ae.__html===ue.innerHTML)||(ue.innerHTML=Ae&&Ae.__html||""))}if(function(Vt,mt,gt,Tt,Jt){var V;for(V in gt)V==="children"||V==="key"||V in mt||Ne(Vt,V,null,gt[V],Tt);for(V in mt)Jt&&typeof mt[V]!="function"||V==="children"||V==="key"||V==="value"||V==="checked"||gt[V]===mt[V]||Ne(Vt,V,mt[V],gt[V],Tt)}(ue,Qe,ie,Ye,at),Ae)ce.__k=[];else if(qe=ce.props.children,H(ue,Array.isArray(qe)?qe:[qe],ce,_e,De,Ye&&nt!=="foreignObject",Re,lt,Re?Re[0]:_e.__k&&ne(_e,0),at),Re!=null)for(qe=Re.length;qe--;)Re[qe]!=null&&te(Re[qe]);at||("value"in Qe&&(qe=Qe.value)!==void 0&&(qe!==ie.value||qe!==ue.value||nt==="progress"&&!qe)&&Ne(ue,"value",qe,ie.value,!1),"checked"in Qe&&(qe=Qe.checked)!==void 0&&qe!==ue.checked&&Ne(ue,"checked",qe,ie.checked,!1))}return ue}function Te(ue,ce,_e){try{typeof ue=="function"?ue(ce):ue.current=ce}catch(De){h.__e(De,_e)}}function Ge(ue,ce,_e){var De,Ye;if(h.unmount&&h.unmount(ue),(De=ue.ref)&&(De.current&&De.current!==ue.__e||Te(De,null,ce)),(De=ue.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(Re){h.__e(Re,ce)}De.base=De.__P=null}if(De=ue.__k)for(Ye=0;Ye<De.length;Ye++)De[Ye]&&Ge(De[Ye],ce,typeof ue.type!="function");_e||ue.__e==null||te(ue.__e),ue.__e=ue.__d=void 0}function Ze(ue,ce,_e){return this.constructor(ue,_e)}function ot(ue,ce,_e){var De,Ye,Re;h.__&&h.__(ue,ce),Ye=(De=typeof _e=="function")?null:_e&&_e.__k||ce.__k,Re=[],J(ce,ue=(!De&&_e||ce).__k=re(ye,null,[ue]),Ye||L,L,ce.ownerSVGElement!==void 0,!De&&_e?[_e]:Ye?null:ce.firstChild?O.call(ce.childNodes):null,Re,!De&&_e?_e:Ye?Ye.__e:ce.firstChild,De),fe(Re,ue)}function Ue(ue,ce){ot(ue,ce,Ue)}function tt(ue,ce,_e){var De,Ye,Re,lt=X({},ue.props);for(Re in ce)Re=="key"?De=ce[Re]:Re=="ref"?Ye=ce[Re]:lt[Re]=ce[Re];return arguments.length>2&&(lt.children=arguments.length>3?O.call(arguments,2):_e),oe(ue.type,lt,De||ue.key,Ye||ue.ref,null)}function Et(ue,ce){var _e={__c:ce="__cC"+R++,__:ue,Consumer:function(De,Ye){return De.children(Ye)},Provider:function(De){var Ye,Re;return this.getChildContext||(Ye=[],(Re={})[ce]=this,this.getChildContext=function(){return Re},this.shouldComponentUpdate=function(lt){this.props.value!==lt.value&&Ye.some(q)},this.sub=function(lt){Ye.push(lt);var at=lt.componentWillUnmount;lt.componentWillUnmount=function(){Ye.splice(Ye.indexOf(lt),1),at&&at.call(lt)}}),De.children}};return _e.Provider.__=_e.Consumer.contextType=_e}O=z.slice,h={__e:function(ue,ce){for(var _e,De,Ye;ce=ce.__;)if((_e=ce.__c)&&!_e.__)try{if((De=_e.constructor)&&De.getDerivedStateFromError!=null&&(_e.setState(De.getDerivedStateFromError(ue)),Ye=_e.__d),_e.componentDidCatch!=null&&(_e.componentDidCatch(ue),Ye=_e.__d),Ye)return _e.__E=_e}catch(Re){ue=Re}throw ue}},E=0,Q.prototype.setState=function(ue,ce){var _e;_e=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=X({},this.state),typeof ue=="function"&&(ue=ue(X({},_e),this.props)),ue&&X(_e,ue),ue!=null&&this.__v&&(ce&&this.__h.push(ce),q(this))},Q.prototype.forceUpdate=function(ue){this.__v&&(this.__e=!0,ue&&this.__h.push(ue),q(this))},Q.prototype.render=ye,x=[],k=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ve.__r=0,R=0},function(j,M,s){var O=s(116),h=s(44),E=s(177);O||h(Object.prototype,"toString",E,{unsafe:!0})},function(j,M,s){"use strict";var O=s(39),h=s(82),E=s(70),x=s(56),k=s(111),D=x.set,R=x.getterFor("Array Iterator");j.exports=k(Array,"Array",function(L,z){D(this,{type:"Array Iterator",target:O(L),index:0,kind:z})},function(){var L=R(this),z=L.target,Y=L.kind,X=L.index++;return!z||X>=z.length?(L.target=void 0,{value:void 0,done:!0}):Y=="keys"?{value:X,done:!1}:Y=="values"?{value:z[X],done:!1}:{value:[X,z[X]],done:!1}},"values"),E.Arguments=E.Array,h("keys"),h("values"),h("entries")},function(j,M,s){var O=s(7),h=s(147),E=s(148),x=s(3),k=s(57),D=s(27),R=D("iterator"),L=D("toStringTag"),z=x.values,Y=function(te,re){if(te){if(te[R]!==z)try{k(te,R,z)}catch(le){te[R]=z}if(te[L]||k(te,L,re),h[re]){for(var oe in x)if(te[oe]!==x[oe])try{k(te,oe,x[oe])}catch(le){te[oe]=x[oe]}}}};for(var X in h)Y(O[X]&&O[X].prototype,X);Y(E,"DOMTokenList")},function(j,M,s){"use strict";var O=s(16),h=s(7),E=s(46),x=s(76),k=s(35),D=s(15),R=s(64),L=s(36),z=s(109),Y=s(18),X=s(34),te=s(98),re=s(28),oe=s(33),le=s(58),ye=s(87),Q=s(32),ne=s(38),me=s(39),q=s(86),ve=s(40),H=s(71),W=s(54),G=s(66),ee=s(72),be=s(139),Ne=s(112),U=s(51),ae=s(37),J=s(92),fe=s(100),Se=s(44),Te=s(83),Ge=s(90),Ze=s(69),ot=s(84),Ue=s(27),tt=s(149),Et=s(150),ue=s(73),ce=s(56),_e=s(74).forEach,De=Ge("hidden"),Ye=Ue("toPrimitive"),Re=ce.set,lt=ce.getterFor("Symbol"),at=Object.prototype,vt=h.Symbol,ft=vt&&vt.prototype,Ae=h.TypeError,ie=h.QObject,Qe=E("JSON","stringify"),nt=U.f,qe=ae.f,Vt=be.f,mt=J.f,gt=D([].push),Tt=Te("symbols"),Jt=Te("op-symbols"),V=Te("string-to-symbol-registry"),pe=Te("symbol-to-string-registry"),ke=Te("wks"),de=!ie||!ie.prototype||!ie.prototype.findChild,ze=L&&Y(function(){return W(qe({},"a",{get:function(){return qe(this,"a",{value:7}).a}})).a!=7})?function(Ve,it,pt){var bt=nt(at,it);bt&&delete at[it],qe(Ve,it,pt),bt&&Ve!==at&&qe(at,it,bt)}:qe,Be=function(Ve,it){var pt=Tt[Ve]=W(ft);return Re(pt,{type:"Symbol",tag:Ve,description:it}),L||(pt.description=it),pt},We=function(Ve,it,pt){Ve===at&&We(Jt,it,pt),Q(Ve);var bt=q(it);return Q(pt),X(Tt,bt)?(pt.enumerable?(X(Ve,De)&&Ve[De][bt]&&(Ve[De][bt]=!1),pt=W(pt,{enumerable:H(0,!1)})):(X(Ve,De)||qe(Ve,De,H(1,{})),Ve[De][bt]=!0),ze(Ve,bt,pt)):qe(Ve,bt,pt)},rt=function(Ve,it){Q(Ve);var pt=me(it),bt=G(pt).concat(nn(pt));return _e(bt,function(Bt){L&&!k(St,pt,Bt)||We(Ve,Bt,pt[Bt])}),Ve},St=function(Ve){var it=q(Ve),pt=k(mt,this,it);return!(this===at&&X(Tt,it)&&!X(Jt,it))&&(!(pt||!X(this,it)||!X(Tt,it)||X(this,De)&&this[De][it])||pt)},Xt=function(Ve,it){var pt=me(Ve),bt=q(it);if(pt!==at||!X(Tt,bt)||X(Jt,bt)){var Bt=nt(pt,bt);return!Bt||!X(Tt,bt)||X(pt,De)&&pt[De][bt]||(Bt.enumerable=!0),Bt}},bn=function(Ve){var it=Vt(me(Ve)),pt=[];return _e(it,function(bt){X(Tt,bt)||X(Ze,bt)||gt(pt,bt)}),pt},nn=function(Ve){var it=Ve===at,pt=Vt(it?Jt:me(Ve)),bt=[];return _e(pt,function(Bt){!X(Tt,Bt)||it&&!X(at,Bt)||gt(bt,Tt[Bt])}),bt};if(z||(Se(ft=(vt=function(){if(le(ft,this))throw Ae("Symbol is not a constructor");var Ve=arguments.length&&arguments[0]!==void 0?ve(arguments[0]):void 0,it=ot(Ve),pt=function(bt){this===at&&k(pt,Jt,bt),X(this,De)&&X(this[De],it)&&(this[De][it]=!1),ze(this,it,H(1,bt))};return L&&de&&ze(at,it,{configurable:!0,set:pt}),Be(it,Ve)}).prototype,"toString",function(){return lt(this).tag}),Se(vt,"withoutSetter",function(Ve){return Be(ot(Ve),Ve)}),J.f=St,ae.f=We,U.f=Xt,ee.f=be.f=bn,Ne.f=nn,tt.f=function(Ve){return Be(Ue(Ve),Ve)},L&&(qe(ft,"description",{configurable:!0,get:function(){return lt(this).description}}),R||Se(at,"propertyIsEnumerable",St,{unsafe:!0}))),O({global:!0,wrap:!0,forced:!z,sham:!z},{Symbol:vt}),_e(G(ke),function(Ve){Et(Ve)}),O({target:"Symbol",stat:!0,forced:!z},{for:function(Ve){var it=ve(Ve);if(X(V,it))return V[it];var pt=vt(it);return V[it]=pt,pe[pt]=it,pt},keyFor:function(Ve){if(!ye(Ve))throw Ae(Ve+" is not a symbol");if(X(pe,Ve))return pe[Ve]},useSetter:function(){de=!0},useSimple:function(){de=!1}}),O({target:"Object",stat:!0,forced:!z,sham:!L},{create:function(Ve,it){return it===void 0?W(Ve):rt(W(Ve),it)},defineProperty:We,defineProperties:rt,getOwnPropertyDescriptor:Xt}),O({target:"Object",stat:!0,forced:!z},{getOwnPropertyNames:bn,getOwnPropertySymbols:nn}),O({target:"Object",stat:!0,forced:Y(function(){Ne.f(1)})},{getOwnPropertySymbols:function(Ve){return Ne.f(ne(Ve))}}),Qe&&O({target:"JSON",stat:!0,forced:!z||Y(function(){var Ve=vt();return Qe([Ve])!="[null]"||Qe({a:Ve})!="{}"||Qe(Object(Ve))!="{}"})},{stringify:function(Ve,it,pt){var bt=fe(arguments),Bt=it;if((oe(it)||Ve!==void 0)&&!ye(Ve))return te(it)||(it=function(Qt,_n){if(re(Bt)&&(_n=k(Bt,this,Qt,_n)),!ye(_n))return _n}),bt[1]=it,x(Qe,null,bt)}}),!ft[Ye]){var Pt=ft.valueOf;Se(ft,Ye,function(Ve){return k(Pt,this)})}ue(vt,"Symbol"),Ze[De]=!0},function(j,M,s){"use strict";var O=s(146).charAt,h=s(40),E=s(56),x=s(111),k=E.set,D=E.getterFor("String Iterator");x(String,"String",function(R){k(this,{type:"String Iterator",string:h(R),index:0})},function(){var R,L=D(this),z=L.string,Y=L.index;return Y>=z.length?{value:void 0,done:!0}:(R=O(z,Y),L.index+=R.length,{value:R,done:!1})})},function(j,M,s){(function(O){var h=function(E){return E&&E.Math==Math&&E};j.exports=h(typeof globalThis=="object"&&globalThis)||h(typeof window=="object"&&window)||h(typeof self=="object"&&self)||h(typeof O=="object"&&O)||function(){return this}()||Function("return this")()}).call(this,s(81))},function(j,M,s){"use strict";var O=s(16),h=s(36),E=s(7),x=s(15),k=s(34),D=s(28),R=s(58),L=s(40),z=s(37).f,Y=s(134),X=E.Symbol,te=X&&X.prototype;if(h&&D(X)&&(!("description"in te)||X().description!==void 0)){var re={},oe=function(){var ve=arguments.length<1||arguments[0]===void 0?void 0:L(arguments[0]),H=R(te,this)?new X(ve):ve===void 0?X():X(ve);return ve===""&&(re[H]=!0),H};Y(oe,X),oe.prototype=te,te.constructor=oe;var le=String(X("test"))=="Symbol(test)",ye=x(te.toString),Q=x(te.valueOf),ne=/^Symbol\((.*)\)[^)]+$/,me=x("".replace),q=x("".slice);z(te,"description",{configurable:!0,get:function(){var ve=Q(this),H=ye(ve);if(k(re,ve))return"";var W=le?q(H,7,-1):me(H,ne,"$1");return W===""?void 0:W}}),O({global:!0,forced:!0},{Symbol:oe})}},function(j,M,s){s(150)("iterator")},function(j,M,s){"use strict";s.d(M,"a",function(){return x.a}),s.d(M,"c",function(){return x.e}),s.d(M,"h",function(){return ne}),s.d(M,"i",function(){return le}),s.d(M,"j",function(){return re}),s.d(M,"b",function(){return U}),s.d(M,"e",function(){return Se}),s.d(M,"f",function(){return ae}),s.d(M,"g",function(){return gt});var O,h,E,x=s(1),k=0,D=[],R=x.i.__b,L=x.i.__r,z=x.i.diffed,Y=x.i.__c,X=x.i.unmount;function te(V,pe){x.i.__h&&x.i.__h(h,V,k||pe),k=0;var ke=h.__H||(h.__H={__:[],__h:[]});return V>=ke.__.length&&ke.__.push({}),ke.__[V]}function re(V){return k=1,oe(ee,V)}function oe(V,pe,ke){var de=te(O++,2);return de.t=V,de.__c||(de.__=[ke?ke(pe):ee(void 0,pe),function(ze){var Be=de.t(de.__[0],ze);de.__[0]!==Be&&(de.__=[Be,de.__[1]],de.__c.setState({}))}],de.__c=h),de.__}function le(V,pe){var ke=te(O++,3);!x.i.__s&&G(ke.__H,pe)&&(ke.__=V,ke.__H=pe,h.__H.__h.push(ke))}function ye(V,pe){var ke=te(O++,4);!x.i.__s&&G(ke.__H,pe)&&(ke.__=V,ke.__H=pe,h.__h.push(ke))}function Q(V,pe){var ke=te(O++,7);return G(ke.__H,pe)&&(ke.__=V(),ke.__H=pe,ke.__h=V),ke.__}function ne(V,pe){return k=8,Q(function(){return V},pe)}function me(){var V;for(D.sort(function(pe,ke){return pe.__v.__b-ke.__v.__b});V=D.pop();)if(V.__P)try{V.__H.__h.forEach(H),V.__H.__h.forEach(W),V.__H.__h=[]}catch(pe){V.__H.__h=[],x.i.__e(pe,V.__v)}}x.i.__b=function(V){h=null,R&&R(V)},x.i.__r=function(V){L&&L(V),O=0;var pe=(h=V.__c).__H;pe&&(pe.__h.forEach(H),pe.__h.forEach(W),pe.__h=[])},x.i.diffed=function(V){z&&z(V);var pe=V.__c;pe&&pe.__H&&pe.__H.__h.length&&(D.push(pe)!==1&&E===x.i.requestAnimationFrame||((E=x.i.requestAnimationFrame)||ve)(me)),h=null},x.i.__c=function(V,pe){pe.some(function(ke){try{ke.__h.forEach(H),ke.__h=ke.__h.filter(function(de){return!de.__||W(de)})}catch(de){pe.some(function(ze){ze.__h&&(ze.__h=[])}),pe=[],x.i.__e(de,ke.__v)}}),Y&&Y(V,pe)},x.i.unmount=function(V){X&&X(V);var pe,ke=V.__c;ke&&ke.__H&&(ke.__H.__.forEach(function(de){try{H(de)}catch(ze){pe=ze}}),pe&&x.i.__e(pe,ke.__v))};var q=typeof requestAnimationFrame=="function";function ve(V){var pe,ke=function(){clearTimeout(de),q&&cancelAnimationFrame(pe),setTimeout(V)},de=setTimeout(ke,100);q&&(pe=requestAnimationFrame(ke))}function H(V){var pe=h,ke=V.__c;typeof ke=="function"&&(V.__c=void 0,ke()),h=pe}function W(V){var pe=h;V.__c=V.__(),h=pe}function G(V,pe){return!V||V.length!==pe.length||pe.some(function(ke,de){return ke!==V[de]})}function ee(V,pe){return typeof pe=="function"?pe(V):pe}function be(V,pe){for(var ke in pe)V[ke]=pe[ke];return V}function Ne(V,pe){for(var ke in V)if(ke!=="__source"&&!(ke in pe))return!0;for(var de in pe)if(de!=="__source"&&V[de]!==pe[de])return!0;return!1}function U(V){this.props=V}function ae(V,pe){function ke(ze){var Be=this.props.ref,We=Be==ze.ref;return!We&&Be&&(Be.call?Be(null):Be.current=null),pe?!pe(this.props,ze)||!We:Ne(this.props,ze)}function de(ze){return this.shouldComponentUpdate=ke,Object(x.e)(V,ze)}return de.displayName="Memo("+(V.displayName||V.name)+")",de.prototype.isReactComponent=!0,de.__f=!0,de}(U.prototype=new x.a).isPureReactComponent=!0,U.prototype.shouldComponentUpdate=function(V,pe){return Ne(this.props,V)||Ne(this.state,pe)};var J=x.i.__b;x.i.__b=function(V){V.type&&V.type.__f&&V.ref&&(V.props.ref=V.ref,V.ref=null),J&&J(V)};var fe=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Se(V){function pe(ke,de){var ze=be({},ke);return delete ze.ref,V(ze,!(de=ke.ref||de)||typeof de=="object"&&!("current"in de)?null:de)}return pe.$$typeof=fe,pe.render=pe,pe.prototype.isReactComponent=pe.__f=!0,pe.displayName="ForwardRef("+(V.displayName||V.name)+")",pe}var Te=function(V,pe){return V==null?null:Object(x.k)(Object(x.k)(V).map(pe))},Ge={map:Te,forEach:Te,count:function(V){return V?Object(x.k)(V).length:0},only:function(V){var pe=Object(x.k)(V);if(pe.length!==1)throw"Children.only";return pe[0]},toArray:x.k},Ze=x.i.__e;x.i.__e=function(V,pe,ke){if(V.then){for(var de,ze=pe;ze=ze.__;)if((de=ze.__c)&&de.__c)return pe.__e==null&&(pe.__e=ke.__e,pe.__k=ke.__k),de.__c(V,pe)}Ze(V,pe,ke)};var ot=x.i.unmount;function Ue(){this.__u=0,this.t=null,this.__b=null}function tt(V){var pe=V.__.__c;return pe&&pe.__e&&pe.__e(V)}function Et(){this.u=null,this.o=null}x.i.unmount=function(V){var pe=V.__c;pe&&pe.__R&&pe.__R(),pe&&V.__h===!0&&(V.type=null),ot&&ot(V)},(Ue.prototype=new x.a).__c=function(V,pe){var ke=pe.__c,de=this;de.t==null&&(de.t=[]),de.t.push(ke);var ze=tt(de.__v),Be=!1,We=function(){Be||(Be=!0,ke.__R=null,ze?ze(rt):rt())};ke.__R=We;var rt=function(){if(!--de.__u){if(de.state.__e){var Xt=de.state.__e;de.__v.__k[0]=function nn(Pt,Ve,it){return Pt&&(Pt.__v=null,Pt.__k=Pt.__k&&Pt.__k.map(function(pt){return nn(pt,Ve,it)}),Pt.__c&&Pt.__c.__P===Ve&&(Pt.__e&&it.insertBefore(Pt.__e,Pt.__d),Pt.__c.__e=!0,Pt.__c.__P=it)),Pt}(Xt,Xt.__c.__P,Xt.__c.__O)}var bn;for(de.setState({__e:de.__b=null});bn=de.t.pop();)bn.forceUpdate()}},St=pe.__h===!0;de.__u++||St||de.setState({__e:de.__b=de.__v.__k[0]}),V.then(We,We)},Ue.prototype.componentWillUnmount=function(){this.t=[]},Ue.prototype.render=function(V,pe){if(this.__b){if(this.__v.__k){var ke=document.createElement("div"),de=this.__v.__k[0].__c;this.__v.__k[0]=function Be(We,rt,St){return We&&(We.__c&&We.__c.__H&&(We.__c.__H.__.forEach(function(Xt){typeof Xt.__c=="function"&&Xt.__c()}),We.__c.__H=null),(We=be({},We)).__c!=null&&(We.__c.__P===St&&(We.__c.__P=rt),We.__c=null),We.__k=We.__k&&We.__k.map(function(Xt){return Be(Xt,rt,St)})),We}(this.__b,ke,de.__O=de.__P)}this.__b=null}var ze=pe.__e&&Object(x.e)(x.b,null,V.fallback);return ze&&(ze.__h=null),[Object(x.e)(x.b,null,pe.__e?null:V.children),ze]};var ue=function(V,pe,ke){if(++ke[1]===ke[0]&&V.o.delete(pe),V.props.revealOrder&&(V.props.revealOrder[0]!=="t"||!V.o.size))for(ke=V.u;ke;){for(;ke.length>3;)ke.pop()();if(ke[1]<ke[0])break;V.u=ke=ke[2]}};function ce(V){return this.getChildContext=function(){return V.context},V.children}function _e(V){var pe=this,ke=V.i;pe.componentWillUnmount=function(){Object(x.j)(null,pe.l),pe.l=null,pe.i=null},pe.i&&pe.i!==ke&&pe.componentWillUnmount(),V.__v?(pe.l||(pe.i=ke,pe.l={nodeType:1,parentNode:ke,childNodes:[],appendChild:function(de){this.childNodes.push(de),pe.i.appendChild(de)},insertBefore:function(de,ze){this.childNodes.push(de),pe.i.appendChild(de)},removeChild:function(de){this.childNodes.splice(this.childNodes.indexOf(de)>>>1,1),pe.i.removeChild(de)}}),Object(x.j)(Object(x.e)(ce,{context:pe.context},V.__v),pe.l)):pe.l&&pe.componentWillUnmount()}(Et.prototype=new x.a).__e=function(V){var pe=this,ke=tt(pe.__v),de=pe.o.get(V);return de[0]++,function(ze){var Be=function(){pe.props.revealOrder?(de.push(ze),ue(pe,V,de)):ze()};ke?ke(Be):Be()}},Et.prototype.render=function(V){this.u=null,this.o=new Map;var pe=Object(x.k)(V.children);V.revealOrder&&V.revealOrder[0]==="b"&&pe.reverse();for(var ke=pe.length;ke--;)this.o.set(pe[ke],this.u=[1,0,this.u]);return V.children},Et.prototype.componentDidUpdate=Et.prototype.componentDidMount=function(){var V=this;this.o.forEach(function(pe,ke){ue(V,ke,pe)})};var De=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Ye=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Re=typeof document!="undefined",lt=function(V){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(V)};x.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(V){Object.defineProperty(x.a.prototype,V,{configurable:!0,get:function(){return this["UNSAFE_"+V]},set:function(pe){Object.defineProperty(this,V,{configurable:!0,writable:!0,value:pe})}})});var at=x.i.event;function vt(){}function ft(){return this.cancelBubble}function Ae(){return this.defaultPrevented}x.i.event=function(V){return at&&(V=at(V)),V.persist=vt,V.isPropagationStopped=ft,V.isDefaultPrevented=Ae,V.nativeEvent=V};var ie,Qe={configurable:!0,get:function(){return this.class}},nt=x.i.vnode;x.i.vnode=function(V){var pe=V.type,ke=V.props,de=ke;if(typeof pe=="string"){var ze=pe.indexOf("-")===-1;for(var Be in de={},ke){var We=ke[Be];Re&&Be==="children"&&pe==="noscript"||Be==="value"&&"defaultValue"in ke&&We==null||(Be==="defaultValue"&&"value"in ke&&ke.value==null?Be="value":Be==="download"&&We===!0?We="":/ondoubleclick/i.test(Be)?Be="ondblclick":/^onchange(textarea|input)/i.test(Be+pe)&&!lt(ke.type)?Be="oninput":/^onfocus$/i.test(Be)?Be="onfocusin":/^onblur$/i.test(Be)?Be="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Be)?Be=Be.toLowerCase():ze&&Ye.test(Be)?Be=Be.replace(/[A-Z0-9]/,"-$&").toLowerCase():We===null&&(We=void 0),de[Be]=We)}pe=="select"&&de.multiple&&Array.isArray(de.value)&&(de.value=Object(x.k)(ke.children).forEach(function(rt){rt.props.selected=de.value.indexOf(rt.props.value)!=-1})),pe=="select"&&de.defaultValue!=null&&(de.value=Object(x.k)(ke.children).forEach(function(rt){rt.props.selected=de.multiple?de.defaultValue.indexOf(rt.props.value)!=-1:de.defaultValue==rt.props.value})),V.props=de,ke.class!=ke.className&&(Qe.enumerable="className"in ke,ke.className!=null&&(de.class=ke.className),Object.defineProperty(de,"className",Qe))}V.$$typeof=De,nt&&nt(V)};var qe=x.i.__r;x.i.__r=function(V){qe&&qe(V),ie=V.__c};var Vt={ReactCurrentDispatcher:{current:{readContext:function(V){return ie.__n[V.__c].props.value}}}};function mt(V){return!!V&&V.$$typeof===De}var gt=function(V,pe){return V(pe)},Tt=x.b,Jt={useState:re,useReducer:oe,useEffect:le,useLayoutEffect:ye,useRef:function(V){return k=5,Q(function(){return{current:V}},[])},useImperativeHandle:function(V,pe,ke){k=6,ye(function(){typeof V=="function"?V(pe()):V&&(V.current=pe())},ke==null?ke:ke.concat(V))},useMemo:Q,useCallback:ne,useContext:function(V){var pe=h.context[V.__c],ke=te(O++,9);return ke.c=V,pe?(ke.__==null&&(ke.__=!0,pe.sub(h)),pe.props.value):V.__},useDebugValue:function(V,pe){x.i.useDebugValue&&x.i.useDebugValue(pe?pe(V):V)},version:"17.0.2",Children:Ge,render:function(V,pe,ke){return pe.__k==null&&(pe.textContent=""),Object(x.j)(V,pe),typeof ke=="function"&&ke(),V?V.__c:null},hydrate:function(V,pe,ke){return Object(x.h)(V,pe),typeof ke=="function"&&ke(),V?V.__c:null},unmountComponentAtNode:function(V){return!!V.__k&&(Object(x.j)(null,V),!0)},createPortal:function(V,pe){return Object(x.e)(_e,{__v:V,i:pe})},createElement:x.e,createContext:x.d,createFactory:function(V){return x.e.bind(null,V)},cloneElement:function(V){return mt(V)?x.c.apply(null,arguments):V},createRef:x.f,Fragment:x.b,isValidElement:mt,findDOMNode:function(V){return V&&(V.base||V.nodeType===1&&V)||null},Component:x.a,PureComponent:U,memo:ae,forwardRef:Se,flushSync:function(V,pe){return V(pe)},unstable_batchedUpdates:gt,StrictMode:Tt,Suspense:Ue,SuspenseList:Et,lazy:function(V){var pe,ke,de;function ze(Be){if(pe||(pe=V()).then(function(We){ke=We.default||We},function(We){de=We}),de)throw de;if(!ke)throw pe;return Object(x.e)(ke,Be)}return ze.displayName="Lazy",ze.__f=!0,ze},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Vt};M.d=Jt},function(j,M,s){var O=s(7),h=s(147),E=s(148),x=s(178),k=s(57),D=function(L){if(L&&L.forEach!==x)try{k(L,"forEach",x)}catch(z){L.forEach=x}};for(var R in h)h[R]&&D(O[R]&&O[R].prototype);D(E)},function(j,M,s){s(16)({target:"Object",stat:!0},{setPrototypeOf:s(96)})},function(j,M,s){var O=s(16),h=s(18),E=s(38),x=s(95),k=s(137);O({target:"Object",stat:!0,forced:h(function(){x(1)}),sham:!k},{getPrototypeOf:function(D){return x(E(D))}})},function(j,M,s){var O=s(16),h=s(46),E=s(76),x=s(198),k=s(157),D=s(32),R=s(33),L=s(54),z=s(18),Y=h("Reflect","construct"),X=Object.prototype,te=[].push,re=z(function(){function ye(){}return!(Y(function(){},[],ye)instanceof ye)}),oe=!z(function(){Y(function(){})}),le=re||oe;O({target:"Reflect",stat:!0,forced:le,sham:le},{construct:function(ye,Q){k(ye),D(Q);var ne=arguments.length<3?ye:k(arguments[2]);if(oe&&!re)return Y(ye,Q,ne);if(ye==ne){switch(Q.length){case 0:return new ye;case 1:return new ye(Q[0]);case 2:return new ye(Q[0],Q[1]);case 3:return new ye(Q[0],Q[1],Q[2]);case 4:return new ye(Q[0],Q[1],Q[2],Q[3])}var me=[null];return E(te,me,Q),new(E(x,ye,me))}var q=ne.prototype,ve=L(R(q)?q:X),H=E(ye,ve,Q);return R(H)?H:ve}})},function(j,M){var s=Function.prototype,O=s.bind,h=s.call,E=O&&O.bind(h);j.exports=O?function(x){return x&&E(h,x)}:function(x){return x&&function(){return h.apply(x,arguments)}}},function(j,M,s){var O=s(7),h=s(51).f,E=s(57),x=s(44),k=s(108),D=s(134),R=s(94);j.exports=function(L,z){var Y,X,te,re,oe,le=L.target,ye=L.global,Q=L.stat;if(Y=ye?O:Q?O[le]||k(le,{}):(O[le]||{}).prototype)for(X in z){if(re=z[X],te=L.noTargetGet?(oe=h(Y,X))&&oe.value:Y[X],!R(ye?X:le+(Q?".":"#")+X,L.forced)&&te!==void 0){if(typeof re==typeof te)continue;D(re,te)}(L.sham||te&&te.sham)&&E(re,"sham",!0),x(Y,X,re,L)}}},function(j,M,s){"use strict";var O=s(16),h=s(7),E=s(98),x=s(99),k=s(33),D=s(67),R=s(43),L=s(39),z=s(61),Y=s(27),X=s(75),te=s(100),re=X("slice"),oe=Y("species"),le=h.Array,ye=Math.max;O({target:"Array",proto:!0,forced:!re},{slice:function(Q,ne){var me,q,ve,H=L(this),W=R(H),G=D(Q,W),ee=D(ne===void 0?W:ne,W);if(E(H)&&(me=H.constructor,(x(me)&&(me===le||E(me.prototype))||k(me)&&(me=me[oe])===null)&&(me=void 0),me===le||me===void 0))return te(H,G,ee);for(q=new(me===void 0?le:me)(ye(ee-G,0)),ve=0;G<ee;G++,ve++)G in H&&z(q,ve,H[G]);return q.length=ve,q}})},function(j,M){j.exports=function(s){try{return!!s()}catch(O){return!0}}},function(j,M,s){"use strict";var O=s(16),h=s(101);O({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},function(j,M,s){var O=s(16),h=s(38),E=s(66);O({target:"Object",stat:!0,forced:s(18)(function(){E(1)})},{keys:function(x){return E(h(x))}})},function(j,M,s){var O=s(16),h=s(18),E=s(39),x=s(51).f,k=s(36),D=h(function(){x(1)});O({target:"Object",stat:!0,forced:!k||D,sham:!k},{getOwnPropertyDescriptor:function(R,L){return x(E(R),L)}})},function(j,M,s){"use strict";var O=s(16),h=s(74).filter;O({target:"Array",proto:!0,forced:!s(75)("filter")},{filter:function(E){return h(this,E,arguments.length>1?arguments[1]:void 0)}})},function(j,M,s){var O=s(16),h=s(36),E=s(135),x=s(39),k=s(51),D=s(61);O({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(R){for(var L,z,Y=x(R),X=k.f,te=E(Y),re={},oe=0;te.length>oe;)(z=X(Y,L=te[oe++]))!==void 0&&D(re,L,z);return re}})},function(j,M,s){var O=s(36),h=s(93).EXISTS,E=s(15),x=s(37).f,k=Function.prototype,D=E(k.toString),R=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,L=E(R.exec);O&&!h&&x(k,"name",{configurable:!0,get:function(){try{return L(R,D(this))[1]}catch(z){return""}}})},function(j,M,s){var O=s(16),h=s(181);O({target:"Array",stat:!0,forced:!s(118)(function(E){Array.from(E)})},{from:h})},,function(j,M,s){var O=s(7),h=s(83),E=s(34),x=s(84),k=s(109),D=s(128),R=h("wks"),L=O.Symbol,z=L&&L.for,Y=D?L:L&&L.withoutSetter||x;j.exports=function(X){if(!E(R,X)||!k&&typeof R[X]!="string"){var te="Symbol."+X;k&&E(L,X)?R[X]=L[X]:R[X]=D&&z?z(te):Y(te)}return R[X]}},function(j,M){j.exports=function(s){return typeof s=="function"}},function(j,M,s){"use strict";var O=s(16),h=s(7),E=s(18),x=s(98),k=s(33),D=s(38),R=s(43),L=s(61),z=s(119),Y=s(75),X=s(27),te=s(65),re=X("isConcatSpreadable"),oe=h.TypeError,le=te>=51||!E(function(){var ne=[];return ne[re]=!1,ne.concat()[0]!==ne}),ye=Y("concat"),Q=function(ne){if(!k(ne))return!1;var me=ne[re];return me!==void 0?!!me:x(ne)};O({target:"Array",proto:!0,forced:!le||!ye},{concat:function(ne){var me,q,ve,H,W,G=D(this),ee=z(G,0),be=0;for(me=-1,ve=arguments.length;me<ve;me++)if(Q(W=me===-1?G:arguments[me])){if(be+(H=R(W))>9007199254740991)throw oe("Maximum allowed index exceeded");for(q=0;q<H;q++,be++)q in W&&L(ee,be,W[q])}else{if(be>=9007199254740991)throw oe("Maximum allowed index exceeded");L(ee,be++,W)}return ee.length=be,ee}})},function(j,M,s){"use strict";var O=s(105),h=typeof self=="object"&&self&&self.Object===Object&&self,E=O.a||h||Function("return this")();M.a=E},function(j,M,s){var O=s(16),h=s(200);O({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})},function(j,M,s){var O=s(7),h=s(33),E=O.String,x=O.TypeError;j.exports=function(k){if(h(k))return k;throw x(E(k)+" is not an object")}},function(j,M,s){var O=s(28);j.exports=function(h){return typeof h=="object"?h!==null:O(h)}},function(j,M,s){var O=s(15),h=s(38),E=O({}.hasOwnProperty);j.exports=Object.hasOwn||function(x,k){return E(h(x),k)}},function(j,M){var s=Function.prototype.call;j.exports=s.bind?s.bind(s):function(){return s.apply(s,arguments)}},function(j,M,s){var O=s(18);j.exports=!O(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(j,M,s){var O=s(7),h=s(36),E=s(129),x=s(32),k=s(86),D=O.TypeError,R=Object.defineProperty;M.f=h?R:function(L,z,Y){if(x(L),z=k(z),x(Y),E)try{return R(L,z,Y)}catch(X){}if("get"in Y||"set"in Y)throw D("Accessors not supported");return"value"in Y&&(L[z]=Y.value),L}},function(j,M,s){var O=s(7),h=s(45),E=O.Object;j.exports=function(x){return E(h(x))}},function(j,M,s){var O=s(80),h=s(45);j.exports=function(E){return O(h(E))}},function(j,M,s){var O=s(7),h=s(97),E=O.String;j.exports=function(x){if(h(x)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return E(x)}},function(j,M,s){"use strict";var O=s(16),h=s(74).map;O({target:"Array",proto:!0,forced:!s(75)("map")},{map:function(E){return h(this,E,arguments.length>1?arguments[1]:void 0)}})},function(j,M,s){"use strict";(function(O){s.d(M,"d",function(){return x}),s.d(M,"c",function(){return k}),s.d(M,"b",function(){return D}),s.d(M,"a",function(){return L});var h=s(10),E=function(z,Y){var X=typeof Symbol=="function"&&z[Symbol.iterator];if(!X)return z;var te,re,oe=X.call(z),le=[];try{for(;(Y===void 0||Y-- >0)&&!(te=oe.next()).done;)le.push(te.value)}catch(ye){re={error:ye}}finally{try{te&&!te.done&&(X=oe.return)&&X.call(oe)}finally{if(re)throw re.error}}return le};function x(){var z=E(Object(h.j)(0),2)[1];return Object(h.h)(function(){z(function(Y){return Y+1})},[])}function k(z){if(!z||typeof z!="object")return!1;var Y=Object.getPrototypeOf(z);return!Y||Y===Object.prototype}function D(z){return typeof Symbol=="function"?Symbol.for(z):"__$mobx-react "+z+"__"}var R={};function L(){return typeof window!="undefined"?window:O!==void 0?O:typeof self!="undefined"?self:R}}).call(this,s(81))},function(j,M,s){var O=s(89);j.exports=function(h){return O(h.length)}},function(j,M,s){var O=s(7),h=s(28),E=s(34),x=s(57),k=s(108),D=s(91),R=s(56),L=s(93).CONFIGURABLE,z=R.get,Y=R.enforce,X=String(String).split("String");(j.exports=function(te,re,oe,le){var ye,Q=!!le&&!!le.unsafe,ne=!!le&&!!le.enumerable,me=!!le&&!!le.noTargetGet,q=le&&le.name!==void 0?le.name:re;h(oe)&&(String(q).slice(0,7)==="Symbol("&&(q="["+String(q).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!E(oe,"name")||L&&oe.name!==q)&&x(oe,"name",q),(ye=Y(oe)).source||(ye.source=X.join(typeof q=="string"?q:""))),te!==O?(Q?!me&&te[re]&&(ne=!0):delete te[re],ne?te[re]=oe:x(te,re,oe)):ne?te[re]=oe:k(re,oe)})(Function.prototype,"toString",function(){return h(this)&&z(this).source||D(this)})},function(j,M,s){var O=s(7).TypeError;j.exports=function(h){if(h==null)throw O("Can't call method on "+h);return h}},function(j,M,s){var O=s(7),h=s(28),E=function(x){return h(x)?x:void 0};j.exports=function(x,k){return arguments.length<2?E(O[x]):O[x]&&O[x][k]}},function(j,M,s){var O=s(16),h=s(35),E=s(33),x=s(32),k=s(199),D=s(51),R=s(95);O({target:"Reflect",stat:!0},{get:function L(z,Y){var X,te,re=arguments.length<3?z:arguments[2];return x(z)===re?z[Y]:(X=D.f(z,Y))?k(X)?X.value:X.get===void 0?void 0:h(X.get,re):E(te=R(z))?L(te,Y,re):void 0}})},function(j,M,s){"use strict";(function(O){var h=s(30),E=s(164),x=Lt&&!Lt.nodeType&&Lt,k=x&&typeof O=="object"&&O&&!O.nodeType&&O,D=k&&k.exports===x?h.a.Buffer:void 0,R=(D?D.isBuffer:void 0)||E.a;M.a=R}).call(this,s(121)(j))},function(j,M,s){"use strict";(function(O){var h=s(105),E=Lt&&!Lt.nodeType&&Lt,x=E&&typeof O=="object"&&O&&!O.nodeType&&O,k=x&&x.exports===E&&h.a.process,D=function(){try{var R=x&&x.require&&x.require("util").types;return R||k&&k.binding&&k.binding("util")}catch(L){}}();M.a=D}).call(this,s(121)(j))},function(j,M,s){var O=s(15),h=O({}.toString),E=O("".slice);j.exports=function(x){return E(h(x),8,-1)}},function(j,M,s){var O=s(36),h=s(35),E=s(92),x=s(71),k=s(39),D=s(86),R=s(34),L=s(129),z=Object.getOwnPropertyDescriptor;M.f=O?z:function(Y,X){if(Y=k(Y),X=D(X),L)try{return z(Y,X)}catch(te){}if(R(Y,X))return x(!h(E.f,Y,X),Y[X])}},function(j,M,s){var O=s(16),h=s(213).entries;O({target:"Object",stat:!0},{entries:function(E){return h(E)}})},function(j,M,s){var O=s(46);j.exports=O("navigator","userAgent")||""},function(j,M,s){var O,h=s(32),E=s(167),x=s(110),k=s(69),D=s(133),R=s(85),L=s(90),z=L("IE_PROTO"),Y=function(){},X=function(oe){return"<script>"+oe+"</script>"},te=function(oe){oe.write(X("")),oe.close();var le=oe.parentWindow.Object;return oe=null,le},re=function(){try{O=new ActiveXObject("htmlfile")}catch(Q){}var oe,le;re=typeof document!="undefined"?document.domain&&O?te(O):((le=R("iframe")).style.display="none",D.appendChild(le),le.src=String("javascript:"),(oe=le.contentWindow.document).open(),oe.write(X("document.F=Object")),oe.close(),oe.F):te(O);for(var ye=x.length;ye--;)delete re.prototype[x[ye]];return re()};k[z]=!0,j.exports=Object.create||function(oe,le){var ye;return oe!==null?(Y.prototype=h(oe),ye=new Y,Y.prototype=null,ye[z]=oe):ye=re(),le===void 0?ye:E(ye,le)}},function(j,M,s){var O=s(7),h=s(28),E=s(88),x=O.TypeError;j.exports=function(k){if(h(k))return k;throw x(E(k)+" is not a function")}},function(j,M,s){var O,h,E,x=s(169),k=s(7),D=s(15),R=s(33),L=s(57),z=s(34),Y=s(107),X=s(90),te=s(69),re=k.TypeError,oe=k.WeakMap;if(x||Y.state){var le=Y.state||(Y.state=new oe),ye=D(le.get),Q=D(le.has),ne=D(le.set);O=function(q,ve){if(Q(le,q))throw new re("Object already initialized");return ve.facade=q,ne(le,q,ve),ve},h=function(q){return ye(le,q)||{}},E=function(q){return Q(le,q)}}else{var me=X("state");te[me]=!0,O=function(q,ve){if(z(q,me))throw new re("Object already initialized");return ve.facade=q,L(q,me,ve),ve},h=function(q){return z(q,me)?q[me]:{}},E=function(q){return z(q,me)}}j.exports={set:O,get:h,has:E,enforce:function(q){return E(q)?h(q):O(q,{})},getterFor:function(q){return function(ve){var H;if(!R(ve)||(H=h(ve)).type!==q)throw re("Incompatible receiver, "+q+" required");return H}}}},function(j,M,s){var O=s(36),h=s(37),E=s(71);j.exports=O?function(x,k,D){return h.f(x,k,E(1,D))}:function(x,k,D){return x[k]=D,x}},function(j,M,s){var O=s(15);j.exports=O({}.isPrototypeOf)},function(j,M,s){var O=s(55);j.exports=function(h,E){var x=h[E];return x==null?void 0:O(x)}},function(j,M,s){"use strict";s(172)("Map",function(O){return function(){return O(this,arguments.length?arguments[0]:void 0)}},s(176))},function(j,M,s){"use strict";var O=s(86),h=s(37),E=s(71);j.exports=function(x,k,D){var R=O(k);R in x?h.f(x,R,E(0,D)):x[R]=D}},function(j,M,s){var O=s(15),h=s(55),E=O(O.bind);j.exports=function(x,k){return h(x),k===void 0?x:E?E(x,k):function(){return x.apply(k,arguments)}}},function(j,M,s){var O=s(16),h=s(214),E=s(82);O({target:"Array",proto:!0},{fill:h}),E("fill")},function(j,M){j.exports=!1},function(j,M,s){var O,h,E=s(7),x=s(53),k=E.process,D=E.Deno,R=k&&k.versions||D&&D.version,L=R&&R.v8;L&&(h=(O=L.split("."))[0]>0&&O[0]<4?1:+(O[0]+O[1])),!h&&x&&(!(O=x.match(/Edge\/(\d+)/))||O[1]>=74)&&(O=x.match(/Chrome\/(\d+)/))&&(h=+O[1]),j.exports=h},function(j,M,s){var O=s(131),h=s(110);j.exports=Object.keys||function(E){return O(E,h)}},function(j,M,s){var O=s(68),h=Math.max,E=Math.min;j.exports=function(x,k){var D=O(x);return D<0?h(D+k,0):E(D,k)}},function(j,M){var s=Math.ceil,O=Math.floor;j.exports=function(h){var E=+h;return E!=E||E===0?0:(E>0?O:s)(E)}},function(j,M){j.exports={}},function(j,M){j.exports={}},function(j,M){j.exports=function(s,O){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:O}}},function(j,M,s){var O=s(131),h=s(110).concat("length","prototype");M.f=Object.getOwnPropertyNames||function(E){return O(E,h)}},function(j,M,s){var O=s(37).f,h=s(34),E=s(27)("toStringTag");j.exports=function(x,k,D){x&&!h(x=D?x:x.prototype,E)&&O(x,E,{configurable:!0,value:k})}},function(j,M,s){var O=s(62),h=s(15),E=s(80),x=s(38),k=s(43),D=s(119),R=h([].push),L=function(z){var Y=z==1,X=z==2,te=z==3,re=z==4,oe=z==6,le=z==7,ye=z==5||oe;return function(Q,ne,me,q){for(var ve,H,W=x(Q),G=E(W),ee=O(ne,me),be=k(G),Ne=0,U=q||D,ae=Y?U(Q,be):X||le?U(Q,0):void 0;be>Ne;Ne++)if((ye||Ne in G)&&(H=ee(ve=G[Ne],Ne,W),z))if(Y)ae[Ne]=H;else if(H)switch(z){case 3:return!0;case 5:return ve;case 6:return Ne;case 2:R(ae,ve)}else switch(z){case 4:return!1;case 7:R(ae,ve)}return oe?-1:te||re?re:ae}};j.exports={forEach:L(0),map:L(1),filter:L(2),some:L(3),every:L(4),find:L(5),findIndex:L(6),filterReject:L(7)}},function(j,M,s){var O=s(18),h=s(27),E=s(65),x=h("species");j.exports=function(k){return E>=51||!O(function(){var D=[];return(D.constructor={})[x]=function(){return{foo:1}},D[k](Boolean).foo!==1})}},function(j,M){var s=Function.prototype,O=s.apply,h=s.bind,E=s.call;j.exports=typeof Reflect=="object"&&Reflect.apply||(h?E.bind(O):function(){return E.apply(O,arguments)})},function(j,M,s){"use strict";var O=s(76),h=s(35),E=s(15),x=s(122),k=s(154),D=s(32),R=s(45),L=s(156),z=s(123),Y=s(89),X=s(40),te=s(59),re=s(113),oe=s(124),le=s(101),ye=s(151),Q=s(18),ne=ye.UNSUPPORTED_Y,me=Math.min,q=[].push,ve=E(/./.exec),H=E(q),W=E("".slice);x("split",function(G,ee,be){var Ne;return Ne="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(U,ae){var J=X(R(this)),fe=ae===void 0?4294967295:ae>>>0;if(fe===0)return[];if(U===void 0)return[J];if(!k(U))return h(ee,J,U,fe);for(var Se,Te,Ge,Ze=[],ot=(U.ignoreCase?"i":"")+(U.multiline?"m":"")+(U.unicode?"u":"")+(U.sticky?"y":""),Ue=0,tt=new RegExp(U.source,ot+"g");(Se=h(le,tt,J))&&!((Te=tt.lastIndex)>Ue&&(H(Ze,W(J,Ue,Se.index)),Se.length>1&&Se.index<J.length&&O(q,Ze,re(Se,1)),Ge=Se[0].length,Ue=Te,Ze.length>=fe));)tt.lastIndex===Se.index&&tt.lastIndex++;return Ue===J.length?!Ge&&ve(tt,"")||H(Ze,""):H(Ze,W(J,Ue)),Ze.length>fe?re(Ze,0,fe):Ze}:"0".split(void 0,0).length?function(U,ae){return U===void 0&&ae===0?[]:h(ee,this,U,ae)}:ee,[function(U,ae){var J=R(this),fe=U==null?void 0:te(U,G);return fe?h(fe,U,J,ae):h(Ne,X(J),U,ae)},function(U,ae){var J=D(this),fe=X(U),Se=be(Ne,J,fe,ae,Ne!==ee);if(Se.done)return Se.value;var Te=L(J,RegExp),Ge=J.unicode,Ze=(J.ignoreCase?"i":"")+(J.multiline?"m":"")+(J.unicode?"u":"")+(ne?"g":"y"),ot=new Te(ne?"^(?:"+J.source+")":J,Ze),Ue=ae===void 0?4294967295:ae>>>0;if(Ue===0)return[];if(fe.length===0)return oe(ot,fe)===null?[fe]:[];for(var tt=0,Et=0,ue=[];Et<fe.length;){ot.lastIndex=ne?0:Et;var ce,_e=oe(ot,ne?W(fe,Et):fe);if(_e===null||(ce=me(Y(ot.lastIndex+(ne?Et:0)),fe.length))===tt)Et=z(fe,Et,Ge);else{if(H(ue,W(fe,tt,Et)),ue.length===Ue)return ue;for(var De=1;De<=_e.length-1;De++)if(H(ue,_e[De]),ue.length===Ue)return ue;Et=tt=ce}}return H(ue,W(fe,tt)),ue}]},!!Q(function(){var G=/(?:)/,ee=G.exec;G.exec=function(){return ee.apply(this,arguments)};var be="ab".split(G);return be.length!==2||be[0]!=="a"||be[1]!=="b"}),ne)},function(j,M,s){"use strict";var O=s(36),h=s(7),E=s(15),x=s(94),k=s(44),D=s(34),R=s(143),L=s(58),z=s(87),Y=s(130),X=s(18),te=s(72).f,re=s(51).f,oe=s(37).f,le=s(196),ye=s(158).trim,Q=h.Number,ne=Q.prototype,me=h.TypeError,q=E("".slice),ve=E("".charCodeAt),H=function(U){var ae=Y(U,"number");return typeof ae=="bigint"?ae:W(ae)},W=function(U){var ae,J,fe,Se,Te,Ge,Ze,ot,Ue=Y(U,"number");if(z(Ue))throw me("Cannot convert a Symbol value to a number");if(typeof Ue=="string"&&Ue.length>2){if(Ue=ye(Ue),(ae=ve(Ue,0))===43||ae===45){if((J=ve(Ue,2))===88||J===120)return NaN}else if(ae===48){switch(ve(Ue,1)){case 66:case 98:fe=2,Se=49;break;case 79:case 111:fe=8,Se=55;break;default:return+Ue}for(Ge=(Te=q(Ue,2)).length,Ze=0;Ze<Ge;Ze++)if((ot=ve(Te,Ze))<48||ot>Se)return NaN;return parseInt(Te,fe)}}return+Ue};if(x("Number",!Q(" 0o1")||!Q("0b1")||Q("+0x1"))){for(var G,ee=function(U){var ae=arguments.length<1?0:Q(H(U)),J=this;return L(ne,J)&&X(function(){le(J)})?R(Object(ae),J,ee):ae},be=O?te(Q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Ne=0;be.length>Ne;Ne++)D(Q,G=be[Ne])&&!D(ee,G)&&oe(ee,G,re(Q,G));ee.prototype=ne,ne.constructor=ee,k(h,"Number",ee)}},function(j,M,s){s(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(j,M,s){var O=s(7),h=s(15),E=s(18),x=s(50),k=O.Object,D=h("".split);j.exports=E(function(){return!k("z").propertyIsEnumerable(0)})?function(R){return x(R)=="String"?D(R,""):k(R)}:k},function(j,M){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(O){typeof window=="object"&&(s=window)}j.exports=s},function(j,M,s){var O=s(27),h=s(54),E=s(37),x=O("unscopables"),k=Array.prototype;k[x]==null&&E.f(k,x,{configurable:!0,value:h(null)}),j.exports=function(D){k[x][D]=!0}},function(j,M,s){var O=s(64),h=s(107);(j.exports=function(E,x){return h[E]||(h[E]=x!==void 0?x:{})})("versions",[]).push({version:"3.19.3",mode:O?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(j,M,s){var O=s(15),h=0,E=Math.random(),x=O(1 .toString);j.exports=function(k){return"Symbol("+(k===void 0?"":k)+")_"+x(++h+E,36)}},function(j,M,s){var O=s(7),h=s(33),E=O.document,x=h(E)&&h(E.createElement);j.exports=function(k){return x?E.createElement(k):{}}},function(j,M,s){var O=s(130),h=s(87);j.exports=function(E){var x=O(E,"string");return h(x)?x:x+""}},function(j,M,s){var O=s(7),h=s(46),E=s(28),x=s(58),k=s(128),D=O.Object;j.exports=k?function(R){return typeof R=="symbol"}:function(R){var L=h("Symbol");return E(L)&&x(L.prototype,D(R))}},function(j,M,s){var O=s(7).String;j.exports=function(h){try{return O(h)}catch(E){return"Object"}}},function(j,M,s){var O=s(68),h=Math.min;j.exports=function(E){return E>0?h(O(E),9007199254740991):0}},function(j,M,s){var O=s(83),h=s(84),E=O("keys");j.exports=function(x){return E[x]||(E[x]=h(x))}},function(j,M,s){var O=s(15),h=s(28),E=s(107),x=O(Function.toString);h(E.inspectSource)||(E.inspectSource=function(k){return x(k)}),j.exports=E.inspectSource},function(j,M,s){"use strict";var O={}.propertyIsEnumerable,h=Object.getOwnPropertyDescriptor,E=h&&!O.call({1:2},1);M.f=E?function(x){var k=h(this,x);return!!k&&k.enumerable}:O},function(j,M,s){var O=s(36),h=s(34),E=Function.prototype,x=O&&Object.getOwnPropertyDescriptor,k=h(E,"name"),D=k&&function(){}.name==="something",R=k&&(!O||O&&x(E,"name").configurable);j.exports={EXISTS:k,PROPER:D,CONFIGURABLE:R}},function(j,M,s){var O=s(18),h=s(28),E=/#|\.prototype\./,x=function(z,Y){var X=D[k(z)];return X==L||X!=R&&(h(Y)?O(Y):!!Y)},k=x.normalize=function(z){return String(z).replace(E,".").toLowerCase()},D=x.data={},R=x.NATIVE="N",L=x.POLYFILL="P";j.exports=x},function(j,M,s){var O=s(7),h=s(34),E=s(28),x=s(38),k=s(90),D=s(137),R=k("IE_PROTO"),L=O.Object,z=L.prototype;j.exports=D?L.getPrototypeOf:function(Y){var X=x(Y);if(h(X,R))return X[R];var te=X.constructor;return E(te)&&X instanceof te?te.prototype:X instanceof L?z:null}},function(j,M,s){var O=s(15),h=s(32),E=s(171);j.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var x,k=!1,D={};try{(x=O(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(D,[]),k=D instanceof Array}catch(R){}return function(R,L){return h(R),E(L),k?x(R,L):R.__proto__=L,R}}():void 0)},function(j,M,s){var O=s(7),h=s(116),E=s(28),x=s(50),k=s(27)("toStringTag"),D=O.Object,R=x(function(){return arguments}())=="Arguments";j.exports=h?x:function(L){var z,Y,X;return L===void 0?"Undefined":L===null?"Null":typeof(Y=function(te,re){try{return te[re]}catch(oe){}}(z=D(L),k))=="string"?Y:R?x(z):(X=x(z))=="Object"&&E(z.callee)?"Arguments":X}},function(j,M,s){var O=s(50);j.exports=Array.isArray||function(h){return O(h)=="Array"}},function(j,M,s){var O=s(15),h=s(18),E=s(28),x=s(97),k=s(46),D=s(91),R=function(){},L=[],z=k("Reflect","construct"),Y=/^\s*(?:class|function)\b/,X=O(Y.exec),te=!Y.exec(R),re=function(oe){if(!E(oe))return!1;try{return z(R,L,oe),!0}catch(le){return!1}};j.exports=!z||h(function(){var oe;return re(re.call)||!re(Object)||!re(function(){oe=!0})||oe})?function(oe){if(!E(oe))return!1;switch(x(oe)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return te||!!X(Y,D(oe))}:re},function(j,M,s){var O=s(15);j.exports=O([].slice)},function(j,M,s){"use strict";var O,h,E=s(35),x=s(15),k=s(40),D=s(183),R=s(151),L=s(83),z=s(54),Y=s(56).get,X=s(184),te=s(185),re=L("native-string-replace",String.prototype.replace),oe=RegExp.prototype.exec,le=oe,ye=x("".charAt),Q=x("".indexOf),ne=x("".replace),me=x("".slice),q=(h=/b*/g,E(oe,O=/a/,"a"),E(oe,h,"a"),O.lastIndex!==0||h.lastIndex!==0),ve=R.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(q||H||ve||X||te)&&(le=function(W){var G,ee,be,Ne,U,ae,J,fe=this,Se=Y(fe),Te=k(W),Ge=Se.raw;if(Ge)return Ge.lastIndex=fe.lastIndex,G=E(le,Ge,Te),fe.lastIndex=Ge.lastIndex,G;var Ze=Se.groups,ot=ve&&fe.sticky,Ue=E(D,fe),tt=fe.source,Et=0,ue=Te;if(ot&&(Ue=ne(Ue,"y",""),Q(Ue,"g")===-1&&(Ue+="g"),ue=me(Te,fe.lastIndex),fe.lastIndex>0&&(!fe.multiline||fe.multiline&&ye(Te,fe.lastIndex-1)!==`
`)&&(tt="(?: "+tt+")",ue=" "+ue,Et++),ee=new RegExp("^(?:"+tt+")",Ue)),H&&(ee=new RegExp("^"+tt+"$(?!\\s)",Ue)),q&&(be=fe.lastIndex),Ne=E(oe,ot?ee:fe,ue),ot?Ne?(Ne.input=me(Ne.input,Et),Ne[0]=me(Ne[0],Et),Ne.index=fe.lastIndex,fe.lastIndex+=Ne[0].length):fe.lastIndex=0:q&&Ne&&(fe.lastIndex=fe.global?Ne.index+Ne[0].length:be),H&&Ne&&Ne.length>1&&E(re,Ne[0],ee,function(){for(U=1;U<arguments.length-2;U++)arguments[U]===void 0&&(Ne[U]=void 0)}),Ne&&Ze)for(Ne.groups=ae=z(null),U=0;U<Ze.length;U++)ae[(J=Ze[U])[0]]=Ne[J[1]];return Ne}),j.exports=le},function(j,M,s){"use strict";var O=s(16),h=s(7),E=s(67),x=s(68),k=s(43),D=s(38),R=s(119),L=s(61),z=s(75)("splice"),Y=h.TypeError,X=Math.max,te=Math.min;O({target:"Array",proto:!0,forced:!z},{splice:function(re,oe){var le,ye,Q,ne,me,q,ve=D(this),H=k(ve),W=E(re,H),G=arguments.length;if(G===0?le=ye=0:G===1?(le=0,ye=H-W):(le=G-2,ye=te(X(x(oe),0),H-W)),H+le-ye>9007199254740991)throw Y("Maximum allowed length exceeded");for(Q=R(ve,ye),ne=0;ne<ye;ne++)(me=W+ne)in ve&&L(Q,ne,ve[me]);if(Q.length=ye,le<ye){for(ne=W;ne<H-ye;ne++)q=ne+le,(me=ne+ye)in ve?ve[q]=ve[me]:delete ve[q];for(ne=H;ne>H-ye+le;ne--)delete ve[ne-1]}else if(le>ye)for(ne=H-ye;ne>W;ne--)q=ne+le-1,(me=ne+ye-1)in ve?ve[q]=ve[me]:delete ve[q];for(ne=0;ne<le;ne++)ve[ne+W]=arguments[ne+2];return ve.length=H-ye+le,Q}})},function(j,M,s){"use strict";var O=s(16),h=s(15),E=s(80),x=s(39),k=s(120),D=h([].join),R=E!=Object,L=k("join",",");O({target:"Array",proto:!0,forced:R||!L},{join:function(z){return D(x(this),z===void 0?",":z)}})},function(j,M,s){"use strict";var O=s(16),h=s(201);O({target:"String",proto:!0,forced:s(202)("anchor")},{anchor:function(E){return h(this,"a","name",E)}})},function(j,M,s){"use strict";(function(O){var h=typeof O=="object"&&O&&O.Object===Object&&O;M.a=h}).call(this,s(81))},function(j,M,s){"use strict";(function(O){var h=s(30),E=Lt&&!Lt.nodeType&&Lt,x=E&&typeof O=="object"&&O&&!O.nodeType&&O,k=x&&x.exports===E?h.a.Buffer:void 0,D=k?k.allocUnsafe:void 0;M.a=function(R,L){if(L)return R.slice();var z=R.length,Y=D?D(z):new R.constructor(z);return R.copy(Y),Y}}).call(this,s(121)(j))},function(j,M,s){var O=s(7),h=s(108),E=O["__core-js_shared__"]||h("__core-js_shared__",{});j.exports=E},function(j,M,s){var O=s(7),h=Object.defineProperty;j.exports=function(E,x){try{h(O,E,{value:x,configurable:!0,writable:!0})}catch(k){O[E]=x}return x}},function(j,M,s){var O=s(65),h=s(18);j.exports=!!Object.getOwnPropertySymbols&&!h(function(){var E=Symbol();return!String(E)||!(Object(E)instanceof Symbol)||!Symbol.sham&&O&&O<41})},function(j,M){j.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(j,M,s){"use strict";var O=s(16),h=s(35),E=s(64),x=s(93),k=s(28),D=s(170),R=s(95),L=s(96),z=s(73),Y=s(57),X=s(44),te=s(27),re=s(70),oe=s(136),le=x.PROPER,ye=x.CONFIGURABLE,Q=oe.IteratorPrototype,ne=oe.BUGGY_SAFARI_ITERATORS,me=te("iterator"),q=function(){return this};j.exports=function(ve,H,W,G,ee,be,Ne){D(W,H,G);var U,ae,J,fe=function(tt){if(tt===ee&&ot)return ot;if(!ne&&tt in Ge)return Ge[tt];switch(tt){case"keys":case"values":case"entries":return function(){return new W(this,tt)}}return function(){return new W(this)}},Se=H+" Iterator",Te=!1,Ge=ve.prototype,Ze=Ge[me]||Ge["@@iterator"]||ee&&Ge[ee],ot=!ne&&Ze||fe(ee),Ue=H=="Array"&&Ge.entries||Ze;if(Ue&&(U=R(Ue.call(new ve)))!==Object.prototype&&U.next&&(E||R(U)===Q||(L?L(U,Q):k(U[me])||X(U,me,q)),z(U,Se,!0,!0),E&&(re[Se]=q)),le&&ee=="values"&&Ze&&Ze.name!=="values"&&(!E&&ye?Y(Ge,"name","values"):(Te=!0,ot=function(){return h(Ze,this)})),ee)if(ae={values:fe("values"),keys:be?ot:fe("keys"),entries:fe("entries")},Ne)for(J in ae)(ne||Te||!(J in Ge))&&X(Ge,J,ae[J]);else O({target:H,proto:!0,forced:ne||Te},ae);return E&&!Ne||Ge[me]===ot||X(Ge,me,ot,{name:ee}),re[H]=ot,ae}},function(j,M){M.f=Object.getOwnPropertySymbols},function(j,M,s){var O=s(7),h=s(67),E=s(43),x=s(61),k=O.Array,D=Math.max;j.exports=function(R,L,z){for(var Y=E(R),X=h(L,Y),te=h(z===void 0?Y:z,Y),re=k(D(te-X,0)),oe=0;X<te;X++,oe++)x(re,oe,R[X]);return re.length=oe,re}},function(j,M,s){var O=s(7),h=s(62),E=s(35),x=s(32),k=s(88),D=s(140),R=s(43),L=s(58),z=s(141),Y=s(115),X=s(142),te=O.TypeError,re=function(le,ye){this.stopped=le,this.result=ye},oe=re.prototype;j.exports=function(le,ye,Q){var ne,me,q,ve,H,W,G,ee=Q&&Q.that,be=!(!Q||!Q.AS_ENTRIES),Ne=!(!Q||!Q.IS_ITERATOR),U=!(!Q||!Q.INTERRUPTED),ae=h(ye,ee),J=function(Se){return ne&&X(ne,"normal",Se),new re(!0,Se)},fe=function(Se){return be?(x(Se),U?ae(Se[0],Se[1],J):ae(Se[0],Se[1])):U?ae(Se,J):ae(Se)};if(Ne)ne=le;else{if(!(me=Y(le)))throw te(k(le)+" is not iterable");if(D(me)){for(q=0,ve=R(le);ve>q;q++)if((H=fe(le[q]))&&L(oe,H))return H;return new re(!1)}ne=z(le,me)}for(W=ne.next;!(G=E(W,ne)).done;){try{H=fe(G.value)}catch(Se){X(ne,"throw",Se)}if(typeof H=="object"&&H&&L(oe,H))return H}return new re(!1)}},function(j,M,s){var O=s(97),h=s(59),E=s(70),x=s(27)("iterator");j.exports=function(k){if(k!=null)return h(k,x)||h(k,"@@iterator")||E[O(k)]}},function(j,M,s){var O={};O[s(27)("toStringTag")]="z",j.exports=String(O)==="[object z]"},function(j,M,s){var O=s(7),h=s(58),E=O.TypeError;j.exports=function(x,k){if(h(k,x))return x;throw E("Incorrect invocation")}},function(j,M,s){var O=s(27)("iterator"),h=!1;try{var E=0,x={next:function(){return{done:!!E++}},return:function(){h=!0}};x[O]=function(){return this},Array.from(x,function(){throw 2})}catch(k){}j.exports=function(k,D){if(!D&&!h)return!1;var R=!1;try{var L={};L[O]=function(){return{next:function(){return{done:R=!0}}}},k(L)}catch(z){}return R}},function(j,M,s){var O=s(179);j.exports=function(h,E){return new(O(h))(E===0?0:E)}},function(j,M,s){"use strict";var O=s(18);j.exports=function(h,E){var x=[][h];return!!x&&O(function(){x.call(null,E||function(){throw 1},1)})}},function(j,M){j.exports=function(s){if(!s.webpackPolyfill){var O=Object.create(s);O.children||(O.children=[]),Object.defineProperty(O,"loaded",{enumerable:!0,get:function(){return O.l}}),Object.defineProperty(O,"id",{enumerable:!0,get:function(){return O.i}}),Object.defineProperty(O,"exports",{enumerable:!0}),O.webpackPolyfill=1}return O}},function(j,M,s){"use strict";s(19);var O=s(15),h=s(44),E=s(101),x=s(18),k=s(27),D=s(57),R=k("species"),L=RegExp.prototype;j.exports=function(z,Y,X,te){var re=k(z),oe=!x(function(){var ne={};return ne[re]=function(){return 7},""[z](ne)!=7}),le=oe&&!x(function(){var ne=!1,me=/a/;return z==="split"&&((me={}).constructor={},me.constructor[R]=function(){return me},me.flags="",me[re]=/./[re]),me.exec=function(){return ne=!0,null},me[re](""),!ne});if(!oe||!le||X){var ye=O(/./[re]),Q=Y(re,""[z],function(ne,me,q,ve,H){var W=O(ne),G=me.exec;return G===E||G===L.exec?oe&&!H?{done:!0,value:ye(me,q,ve)}:{done:!0,value:W(q,me,ve)}:{done:!1}});h(String.prototype,z,Q[0]),h(L,re,Q[1])}te&&D(L[re],"sham",!0)}},function(j,M,s){"use strict";var O=s(146).charAt;j.exports=function(h,E,x){return E+(x?O(h,E).length:1)}},function(j,M,s){var O=s(7),h=s(35),E=s(32),x=s(28),k=s(50),D=s(101),R=O.TypeError;j.exports=function(L,z){var Y=L.exec;if(x(Y)){var X=h(Y,L,z);return X!==null&&E(X),X}if(k(L)==="RegExp")return h(D,L,z);throw R("RegExp#exec called on incompatible receiver")}},function(j,M,s){"use strict";var O=s(76),h=s(35),E=s(15),x=s(122),k=s(18),D=s(32),R=s(28),L=s(68),z=s(89),Y=s(40),X=s(45),te=s(123),re=s(59),oe=s(197),le=s(124),ye=s(27)("replace"),Q=Math.max,ne=Math.min,me=E([].concat),q=E([].push),ve=E("".indexOf),H=E("".slice),W="a".replace(/./,"$0")==="$0",G=!!/./[ye]&&/./[ye]("a","$0")==="";x("replace",function(ee,be,Ne){var U=G?"$":"$0";return[function(ae,J){var fe=X(this),Se=ae==null?void 0:re(ae,ye);return Se?h(Se,ae,fe,J):h(be,Y(fe),ae,J)},function(ae,J){var fe=D(this),Se=Y(ae);if(typeof J=="string"&&ve(J,U)===-1&&ve(J,"$<")===-1){var Te=Ne(be,fe,Se,J);if(Te.done)return Te.value}var Ge=R(J);Ge||(J=Y(J));var Ze=fe.global;if(Ze){var ot=fe.unicode;fe.lastIndex=0}for(var Ue=[];;){var tt=le(fe,Se);if(tt===null||(q(Ue,tt),!Ze))break;Y(tt[0])===""&&(fe.lastIndex=te(Se,z(fe.lastIndex),ot))}for(var Et,ue="",ce=0,_e=0;_e<Ue.length;_e++){for(var De=Y((tt=Ue[_e])[0]),Ye=Q(ne(L(tt.index),Se.length),0),Re=[],lt=1;lt<tt.length;lt++)q(Re,(Et=tt[lt])===void 0?Et:String(Et));var at=tt.groups;if(Ge){var vt=me([De],Re,Ye,Se);at!==void 0&&q(vt,at);var ft=Y(O(J,void 0,vt))}else ft=oe(De,Se,Ye,Re,at,J);Ye>=ce&&(ue+=H(Se,ce,Ye)+ft,ce=Ye+De.length)}return ue+H(Se,ce)}]},!!k(function(){var ee=/./;return ee.exec=function(){var be=[];return be.groups={a:"7"},be},"".replace(ee,"$<a>")!=="7"})||!W||G)},function(j,M,s){var O=s(50),h=s(7);j.exports=O(h.process)=="process"},function(j,M,s){s(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(j,M,s){var O=s(109);j.exports=O&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(j,M,s){var O=s(36),h=s(18),E=s(85);j.exports=!O&&!h(function(){return Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a!=7})},function(j,M,s){var O=s(7),h=s(35),E=s(33),x=s(87),k=s(59),D=s(168),R=s(27),L=O.TypeError,z=R("toPrimitive");j.exports=function(Y,X){if(!E(Y)||x(Y))return Y;var te,re=k(Y,z);if(re){if(X===void 0&&(X="default"),te=h(re,Y,X),!E(te)||x(te))return te;throw L("Can't convert object to primitive value")}return X===void 0&&(X="number"),D(Y,X)}},function(j,M,s){var O=s(15),h=s(34),E=s(39),x=s(132).indexOf,k=s(69),D=O([].push);j.exports=function(R,L){var z,Y=E(R),X=0,te=[];for(z in Y)!h(k,z)&&h(Y,z)&&D(te,z);for(;L.length>X;)h(Y,z=L[X++])&&(~x(te,z)||D(te,z));return te}},function(j,M,s){var O=s(39),h=s(67),E=s(43),x=function(k){return function(D,R,L){var z,Y=O(D),X=E(Y),te=h(L,X);if(k&&R!=R){for(;X>te;)if((z=Y[te++])!=z)return!0}else for(;X>te;te++)if((k||te in Y)&&Y[te]===R)return k||te||0;return!k&&-1}};j.exports={includes:x(!0),indexOf:x(!1)}},function(j,M,s){var O=s(46);j.exports=O("document","documentElement")},function(j,M,s){var O=s(34),h=s(135),E=s(51),x=s(37);j.exports=function(k,D){for(var R=h(D),L=x.f,z=E.f,Y=0;Y<R.length;Y++){var X=R[Y];O(k,X)||L(k,X,z(D,X))}}},function(j,M,s){var O=s(46),h=s(15),E=s(72),x=s(112),k=s(32),D=h([].concat);j.exports=O("Reflect","ownKeys")||function(R){var L=E.f(k(R)),z=x.f;return z?D(L,z(R)):L}},function(j,M,s){"use strict";var O,h,E,x=s(18),k=s(28),D=s(54),R=s(95),L=s(44),z=s(27),Y=s(64),X=z("iterator"),te=!1;[].keys&&("next"in(E=[].keys())?(h=R(R(E)))!==Object.prototype&&(O=h):te=!0),O==null||x(function(){var re={};return O[X].call(re)!==re})?O={}:Y&&(O=D(O)),k(O[X])||L(O,X,function(){return this}),j.exports={IteratorPrototype:O,BUGGY_SAFARI_ITERATORS:te}},function(j,M,s){var O=s(18);j.exports=!O(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},function(j,M,s){var O=s(16),h=s(15),E=s(69),x=s(33),k=s(34),D=s(37).f,R=s(72),L=s(139),z=s(173),Y=s(84),X=s(175),te=!1,re=Y("meta"),oe=0,le=function(Q){D(Q,re,{value:{objectID:"O"+oe++,weakData:{}}})},ye=j.exports={enable:function(){ye.enable=function(){},te=!0;var Q=R.f,ne=h([].splice),me={};me[re]=1,Q(me).length&&(R.f=function(q){for(var ve=Q(q),H=0,W=ve.length;H<W;H++)if(ve[H]===re){ne(ve,H,1);break}return ve},O({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:L.f}))},fastKey:function(Q,ne){if(!x(Q))return typeof Q=="symbol"?Q:(typeof Q=="string"?"S":"P")+Q;if(!k(Q,re)){if(!z(Q))return"F";if(!ne)return"E";le(Q)}return Q[re].objectID},getWeakData:function(Q,ne){if(!k(Q,re)){if(!z(Q))return!0;if(!ne)return!1;le(Q)}return Q[re].weakData},onFreeze:function(Q){return X&&te&&z(Q)&&!k(Q,re)&&le(Q),Q}};E[re]=!0},function(j,M,s){var O=s(50),h=s(39),E=s(72).f,x=s(113),k=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];j.exports.f=function(D){return k&&O(D)=="Window"?function(R){try{return E(R)}catch(L){return x(k)}}(D):E(h(D))}},function(j,M,s){var O=s(27),h=s(70),E=O("iterator"),x=Array.prototype;j.exports=function(k){return k!==void 0&&(h.Array===k||x[E]===k)}},function(j,M,s){var O=s(7),h=s(35),E=s(55),x=s(32),k=s(88),D=s(115),R=O.TypeError;j.exports=function(L,z){var Y=arguments.length<2?D(L):z;if(E(Y))return x(h(Y,L));throw R(k(L)+" is not iterable")}},function(j,M,s){var O=s(35),h=s(32),E=s(59);j.exports=function(x,k,D){var R,L;h(x);try{if(!(R=E(x,"return"))){if(k==="throw")throw D;return D}R=O(R,x)}catch(z){L=!0,R=z}if(k==="throw")throw D;if(L)throw R;return h(R),D}},function(j,M,s){var O=s(28),h=s(33),E=s(96);j.exports=function(x,k,D){var R,L;return E&&O(R=k.constructor)&&R!==D&&h(L=R.prototype)&&L!==D.prototype&&E(x,L),x}},function(j,M,s){var O=s(44);j.exports=function(h,E,x){for(var k in E)O(h,k,E[k],x);return h}},function(j,M,s){"use strict";var O=s(46),h=s(37),E=s(27),x=s(36),k=E("species");j.exports=function(D){var R=O(D),L=h.f;x&&R&&!R[k]&&L(R,k,{configurable:!0,get:function(){return this}})}},function(j,M,s){var O=s(15),h=s(68),E=s(40),x=s(45),k=O("".charAt),D=O("".charCodeAt),R=O("".slice),L=function(z){return function(Y,X){var te,re,oe=E(x(Y)),le=h(X),ye=oe.length;return le<0||le>=ye?z?"":void 0:(te=D(oe,le))<55296||te>56319||le+1===ye||(re=D(oe,le+1))<56320||re>57343?z?k(oe,le):te:z?R(oe,le,le+2):re-56320+(te-55296<<10)+65536}};j.exports={codeAt:L(!1),charAt:L(!0)}},function(j,M){j.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(j,M,s){var O=s(85)("span").classList,h=O&&O.constructor&&O.constructor.prototype;j.exports=h===Object.prototype?void 0:h},function(j,M,s){var O=s(27);M.f=O},function(j,M,s){var O=s(180),h=s(34),E=s(149),x=s(37).f;j.exports=function(k){var D=O.Symbol||(O.Symbol={});h(D,k)||x(D,k,{value:E.f(k)})}},function(j,M,s){var O=s(18),h=s(7).RegExp,E=O(function(){var D=h("a","y");return D.lastIndex=2,D.exec("abcd")!=null}),x=E||O(function(){return!h("a","y").sticky}),k=E||O(function(){var D=h("^r","gy");return D.lastIndex=2,D.exec("str")!=null});j.exports={BROKEN_CARET:k,MISSED_STICKY:x,UNSUPPORTED_Y:E}},function(j,M,s){"use strict";var O=s(16),h=s(132).includes,E=s(82);O({target:"Array",proto:!0},{includes:function(x){return h(this,x,arguments.length>1?arguments[1]:void 0)}}),E("includes")},function(j,M,s){"use strict";var O=s(16),h=s(15),E=s(192),x=s(45),k=s(40),D=s(193),R=h("".indexOf);O({target:"String",proto:!0,forced:!D("includes")},{includes:function(L){return!!~R(k(x(this)),k(E(L)),arguments.length>1?arguments[1]:void 0)}})},function(j,M,s){var O=s(33),h=s(50),E=s(27)("match");j.exports=function(x){var k;return O(x)&&((k=x[E])!==void 0?!!k:h(x)=="RegExp")}},function(j,M){var s,O,h=j.exports={};function E(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function k(oe){if(s===setTimeout)return setTimeout(oe,0);if((s===E||!s)&&setTimeout)return s=setTimeout,setTimeout(oe,0);try{return s(oe,0)}catch(le){try{return s.call(null,oe,0)}catch(ye){return s.call(this,oe,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:E}catch(oe){s=E}try{O=typeof clearTimeout=="function"?clearTimeout:x}catch(oe){O=x}})();var D,R=[],L=!1,z=-1;function Y(){L&&D&&(L=!1,D.length?R=D.concat(R):z=-1,R.length&&X())}function X(){if(!L){var oe=k(Y);L=!0;for(var le=R.length;le;){for(D=R,R=[];++z<le;)D&&D[z].run();z=-1,le=R.length}D=null,L=!1,function(ye){if(O===clearTimeout)return clearTimeout(ye);if((O===x||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(ye);try{O(ye)}catch(Q){try{return O.call(null,ye)}catch(ne){return O.call(this,ye)}}}(oe)}}function te(oe,le){this.fun=oe,this.array=le}function re(){}h.nextTick=function(oe){var le=new Array(arguments.length-1);if(arguments.length>1)for(var ye=1;ye<arguments.length;ye++)le[ye-1]=arguments[ye];R.push(new te(oe,le)),R.length!==1||L||k(X)},te.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=re,h.addListener=re,h.once=re,h.off=re,h.removeListener=re,h.removeAllListeners=re,h.emit=re,h.prependListener=re,h.prependOnceListener=re,h.listeners=function(oe){return[]},h.binding=function(oe){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(oe){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(j,M,s){var O=s(32),h=s(157),E=s(27)("species");j.exports=function(x,k){var D,R=O(x).constructor;return R===void 0||(D=O(R)[E])==null?k:h(D)}},function(j,M,s){var O=s(7),h=s(99),E=s(88),x=O.TypeError;j.exports=function(k){if(h(k))return k;throw x(E(k)+" is not a constructor")}},function(j,M,s){var O=s(15),h=s(45),E=s(40),x=s(159),k=O("".replace),D="["+x+"]",R=RegExp("^"+D+D+"*"),L=RegExp(D+D+"*$"),z=function(Y){return function(X){var te=E(h(X));return 1&Y&&(te=k(te,R,"")),2&Y&&(te=k(te,L,"")),te}};j.exports={start:z(1),end:z(2),trim:z(3)}},function(j,M){j.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(j,M,s){"use strict";var O=s(35),h=s(122),E=s(32),x=s(89),k=s(40),D=s(45),R=s(59),L=s(123),z=s(124);h("match",function(Y,X,te){return[function(re){var oe=D(this),le=re==null?void 0:R(re,Y);return le?O(le,re,oe):new RegExp(re)[Y](k(oe))},function(re){var oe=E(this),le=k(re),ye=te(X,oe,le);if(ye.done)return ye.value;if(!oe.global)return z(oe,le);var Q=oe.unicode;oe.lastIndex=0;for(var ne,me=[],q=0;(ne=z(oe,le))!==null;){var ve=k(ne[0]);me[q]=ve,ve===""&&(oe.lastIndex=L(le,x(oe.lastIndex),Q)),q++}return q===0?null:me}]})},function(j,M,s){var O,h,E,x,k=s(7),D=s(76),R=s(62),L=s(28),z=s(34),Y=s(18),X=s(133),te=s(100),re=s(85),oe=s(162),le=s(126),ye=k.setImmediate,Q=k.clearImmediate,ne=k.process,me=k.Dispatch,q=k.Function,ve=k.MessageChannel,H=k.String,W=0,G={};try{O=k.location}catch(ae){}var ee=function(ae){if(z(G,ae)){var J=G[ae];delete G[ae],J()}},be=function(ae){return function(){ee(ae)}},Ne=function(ae){ee(ae.data)},U=function(ae){k.postMessage(H(ae),O.protocol+"//"+O.host)};ye&&Q||(ye=function(ae){var J=te(arguments,1);return G[++W]=function(){D(L(ae)?ae:q(ae),void 0,J)},h(W),W},Q=function(ae){delete G[ae]},le?h=function(ae){ne.nextTick(be(ae))}:me&&me.now?h=function(ae){me.now(be(ae))}:ve&&!oe?(x=(E=new ve).port2,E.port1.onmessage=Ne,h=R(x.postMessage,x)):k.addEventListener&&L(k.postMessage)&&!k.importScripts&&O&&O.protocol!=="file:"&&!Y(U)?(h=U,k.addEventListener("message",Ne,!1)):h="onreadystatechange"in re("script")?function(ae){X.appendChild(re("script")).onreadystatechange=function(){X.removeChild(this),ee(ae)}}:function(ae){setTimeout(be(ae),0)}),j.exports={set:ye,clear:Q}},function(j,M,s){var O=s(53);j.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(O)},function(j,M,s){"use strict";var O=s(55),h=function(E){var x,k;this.promise=new E(function(D,R){if(x!==void 0||k!==void 0)throw TypeError("Bad Promise constructor");x=D,k=R}),this.resolve=O(x),this.reject=O(k)};j.exports.f=function(E){return new h(E)}},function(j,M,s){"use strict";M.a=function(){return!1}},function(j,M,s){"use strict";(function(O){s.d(M,"a",function(){return le});var h=s(0);function E(H){throw new Error("[mobx-utils] "+H)}function x(H,W){W===void 0&&(W="Illegal state"),H||E(W)}var k=function(H){return H&&H!==Object.prototype&&Object.getOwnPropertyNames(H).concat(k(Object.getPrototypeOf(H))||[])},D=function(H){return function(W){var G=k(W);return G.filter(function(ee,be){return G.indexOf(ee)===be})}(H).filter(function(W){return W!=="constructor"&&!~W.indexOf("__")})};function R(H){switch(this.state){case"pending":return H.pending&&H.pending(this.value);case"rejected":return H.rejected&&H.rejected(this.value);case"fulfilled":return H.fulfilled?H.fulfilled(this.value):this.value}}function L(H,W){if(x(arguments.length<=2,"fromPromise expects up to two arguments"),x(typeof H=="function"||typeof H=="object"&&H&&typeof H.then=="function","Please pass a promise or function to fromPromise"),H.isPromiseBasedObservable===!0)return H;typeof H=="function"&&(H=new Promise(H));var G=H;H.then(Object(h.k)("observableFromPromise-resolve",function(be){G.value=be,G.state="fulfilled"}),Object(h.k)("observableFromPromise-reject",function(be){G.value=be,G.state="rejected"})),G.isPromiseBasedObservable=!0,G.case=R;var ee=W&&W.state==="fulfilled"?W.value:void 0;return Object(h.q)(G,{value:ee,state:"pending"},{},{deep:!1}),G}(function(H){H.reject=Object(h.k)("fromPromise.reject",function(W){var G=H(Promise.reject(W));return G.state="rejected",G.value=W,G}),H.resolve=Object(h.k)("fromPromise.resolve",function(W){W===void 0&&(W=void 0);var G=H(Promise.resolve(W));return G.state="fulfilled",G.value=W,G})})(L||(L={}));var z=function(H,W,G,ee){var be,Ne=arguments.length,U=Ne<3?W:ee===null?ee=Object.getOwnPropertyDescriptor(W,G):ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(H,W,G,ee);else for(var ae=H.length-1;ae>=0;ae--)(be=H[ae])&&(U=(Ne<3?be(U):Ne>3?be(W,G,U):be(W,G))||U);return Ne>3&&U&&Object.defineProperty(W,G,U),U};(function(){function H(W,G){var ee=this;Object(h.G)(function(){ee.current=G,ee.subscription=W.subscribe(ee)})}H.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},H.prototype.next=function(W){this.current=W},H.prototype.complete=function(){this.dispose()},H.prototype.error=function(W){this.current=W,this.dispose()},z([h.C.ref],H.prototype,"current",void 0),z([h.k.bound],H.prototype,"next",null),z([h.k.bound],H.prototype,"complete",null),z([h.k.bound],H.prototype,"error",null)})();var Y=function(){return(Y=Object.assign||function(H){for(var W,G=1,ee=arguments.length;G<ee;G++)for(var be in W=arguments[G])Object.prototype.hasOwnProperty.call(W,be)&&(H[be]=W[be]);return H}).apply(this,arguments)},X=function(H,W,G,ee){var be,Ne=arguments.length,U=Ne<3?W:ee===null?ee=Object.getOwnPropertyDescriptor(W,G):ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(H,W,G,ee);else for(var ae=H.length-1;ae>=0;ae--)(be=H[ae])&&(U=(Ne<3?be(U):Ne>3?be(W,G,U):be(W,G))||U);return Ne>3&&U&&Object.defineProperty(W,G,U),U},te=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function H(W){var G=this;this.model=W,this.localValues=h.C.map({}),this.localComputedValues=h.C.map({}),this.isPropertyDirty=function(ee){return G.localValues.has(ee)},x(Object(h.A)(W),"createViewModel expects an observable object"),D(W).forEach(function(ee){if(ee!==h.a&&ee!=="__mobxDidRunLazyInitializers"){if(x(te.indexOf(ee)===-1,"The propertyname "+ee+" is reserved and cannot be used with viewModels"),Object(h.w)(W,ee)){var be=Object(h.h)(W,ee).derivation;G.localComputedValues.set(ee,Object(h.m)(be.bind(G)))}var Ne=Object.getOwnPropertyDescriptor(W,ee),U=Ne?{enumerable:Ne.enumerable}:{};Object.defineProperty(G,ee,Y(Y({},U),{configurable:!0,get:function(){return Object(h.w)(W,ee)?G.localComputedValues.get(ee).get():G.isPropertyDirty(ee)?G.localValues.get(ee):G.model[ee]},set:Object(h.k)(function(ae){ae!==G.model[ee]?G.localValues.set(ee,ae):G.localValues.delete(ee)})}))}})}Object.defineProperty(H.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(H.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),H.prototype.submit=function(){var W=this;Object(h.B)(this.localValues).forEach(function(G){var ee=W.localValues.get(G),be=W.model[G];Object(h.y)(be)?be.replace(ee):Object(h.z)(be)?(be.clear(),be.merge(ee)):Object(h.v)(ee)||(W.model[G]=ee)}),this.localValues.clear()},H.prototype.reset=function(){this.localValues.clear()},H.prototype.resetProperty=function(W){this.localValues.delete(W)},X([h.m],H.prototype,"isDirty",null),X([h.m],H.prototype,"changedValues",null),X([h.k.bound],H.prototype,"submit",null),X([h.k.bound],H.prototype,"reset",null),X([h.k.bound],H.prototype,"resetProperty",null)})();function re(H){if(!H)return"ROOT";for(var W=[];H.parent;)W.push(H.path),H=H.parent;return W.reverse().join("/")}function oe(H){return Object(h.A)(H)||Object(h.y)(H)||Object(h.z)(H)}function le(H,W){var G=new WeakMap;function ee(U){var ae=G.get(U.object);(function(J,fe){switch(J.type){case"add":be(J.newValue,fe,J.name);break;case"update":Ne(J.oldValue),be(J.newValue,fe,J.name||""+J.index);break;case"remove":case"delete":Ne(J.oldValue);break;case"splice":J.removed.map(Ne),J.added.forEach(function(Ge,Ze){return be(Ge,fe,""+(J.index+Ze))});for(var Se=J.index+J.addedCount;Se<J.object.length;Se++)if(oe(J.object[Se])){var Te=G.get(J.object[Se]);Te&&(Te.path=""+Se)}}})(U,ae),W(U,re(ae),H)}function be(U,ae,J){if(oe(U)){var fe=G.get(U);if(fe){if(fe.parent!==ae||fe.path!==J)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+re(ae)+"/"+J+"', but it already exists at '"+re(fe.parent)+"/"+fe.path+"'")}else{var Se={parent:ae,path:J,dispose:Object(h.D)(U,ee)};G.set(U,Se),Object(h.p)(U).forEach(function(Te){var Ge=Te[0];return be(Te[1],Se,Ge)})}}}function Ne(U){if(oe(U)){var ae=G.get(U);if(!ae)return;G.delete(U),ae.dispose(),Object(h.L)(U).forEach(Ne)}}return be(H,void 0,""),function(){Ne(H)}}var ye,Q=(ye=function(H,W){return(ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,ee){G.__proto__=ee}||function(G,ee){for(var be in ee)ee.hasOwnProperty(be)&&(G[be]=ee[be])})(H,W)},function(H,W){function G(){this.constructor=H}ye(H,W),H.prototype=W===null?Object.create(W):(G.prototype=W.prototype,new G)}),ne=(function(H){function W(G,ee,be){var Ne=be===void 0?{}:be,U=Ne.name,ae=U===void 0?"ogm"+(1e3*Math.random()|0):U,J=Ne.keyToName,fe=J===void 0?function(Ge){return""+Ge}:J,Se=H.call(this)||this;Se._keyToName=fe,Se._groupBy=ee,Se._ogmInfoKey=Symbol("ogmInfo"+ae),Se._base=G;for(var Te=0;Te<G.length;Te++)Se._addItem(G[Te]);return Se._disposeBaseObserver=Object(h.D)(Se._base,function(Ge){if(Ge.type==="splice")Object(h.J)(function(){for(var Ze=0,ot=Ge.removed;Ze<ot.length;Ze++){var Ue=ot[Ze];Se._removeItem(Ue)}for(var tt=0,Et=Ge.added;tt<Et.length;tt++){var ue=Et[tt];Se._addItem(ue)}});else{if(Ge.type!=="update")throw new Error("illegal state");Object(h.J)(function(){Se._removeItem(Ge.oldValue),Se._addItem(Ge.newValue)})}}),Se}Q(W,H),W.prototype.clear=function(){throw new Error("not supported")},W.prototype.delete=function(G){throw new Error("not supported")},W.prototype.set=function(G,ee){throw new Error("not supported")},W.prototype.dispose=function(){this._disposeBaseObserver();for(var G=0;G<this._base.length;G++){var ee=this._base[G];ee[this._ogmInfoKey].reaction(),delete ee[this._ogmInfoKey]}},W.prototype._getGroupArr=function(G){var ee=H.prototype.get.call(this,G);return ee===void 0&&(ee=Object(h.C)([],{name:"GroupArray["+this._keyToName(G)+"]",deep:!1}),H.prototype.set.call(this,G,ee)),ee},W.prototype._removeFromGroupArr=function(G,ee){var be=H.prototype.get.call(this,G);be.length===1?H.prototype.delete.call(this,G):(ee===be.length-1||(be[ee]=be[be.length-1],be[ee][this._ogmInfoKey].groupArrIndex=ee),be.length--)},W.prototype._addItem=function(G){var ee=this,be=this._groupBy(G),Ne=this._getGroupArr(be),U={groupByValue:be,groupArrIndex:Ne.length,reaction:Object(h.F)(function(){return ee._groupBy(G)},function(ae,J){var fe=G[ee._ogmInfoKey];ee._removeFromGroupArr(fe.groupByValue,fe.groupArrIndex);var Se=ee._getGroupArr(ae),Te=Se.length;Se.push(G),fe.groupByValue=ae,fe.groupArrIndex=Te})};Object.defineProperty(G,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:U}),Ne.push(G)},W.prototype._removeItem=function(G){var ee=G[this._ogmInfoKey];this._removeFromGroupArr(ee.groupByValue,ee.groupArrIndex),ee.reaction(),delete G[this._ogmInfoKey]}}(h.b),function(){function H(W,G){this.base=W,this.args=G,this.closestIdx=0,this.isDisposed=!1;for(var ee=this.closest=this.root=W,be=0;be<this.args.length-1&&(ee=ee.get(G[be]));be++)this.closest=ee;this.closestIdx=be}return H.prototype.exists=function(){this.assertNotDisposed();var W=this.args.length;return this.closestIdx>=W-1&&this.closest.has(this.args[W-1])},H.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},H.prototype.set=function(W){this.assertNotDisposed();for(var G=this.args.length,ee=this.closest,be=this.closestIdx;be<G-1;be++){var Ne=new Map;ee.set(this.args[be],Ne),ee=Ne}this.closestIdx=G-1,this.closest=ee,ee.set(this.args[G-1],W)},H.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var W=this.args.length;this.closest.delete(this.args[W-1]);for(var G=this.root,ee=[G],be=0;be<W-1;be++)G=G.get(this.args[be]),ee.push(G);for(be=ee.length-1;be>0;be--)ee[be].size===0&&ee[be-1].delete(this.args[be-1]);this.isDisposed=!0},H.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},H}());(function(){function H(){this.store=new Map,this.argsLength=-1}H.prototype.entry=function(W){if(this.argsLength===-1)this.argsLength=W.length;else if(this.argsLength!==W.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+W.length);return this.last&&(this.last.isDisposed=!0),this.last=new ne(this.store,W)}})(),new Set,new Set;var me,q=Promise.resolve();me=typeof queueMicrotask!="undefined"?queueMicrotask:O!==void 0&&O.nextTick?function(H){O.nextTick(H)}:function(H){setTimeout(H,0)};var ve=function(){return new Promise(function(H){me(H)})}}).call(this,s(155))},function(j,M,s){var O;(function(h,E,x){if(h){for(var k,D={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},R={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},L={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},z={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},Y=1;Y<20;++Y)D[111+Y]="f"+Y;for(Y=0;Y<=9;++Y)D[Y+96]=Y.toString();ye.prototype.bind=function(Q,ne,me){return Q=Q instanceof Array?Q:[Q],this._bindMultiple.call(this,Q,ne,me),this},ye.prototype.unbind=function(Q,ne){return this.bind.call(this,Q,function(){},ne)},ye.prototype.trigger=function(Q,ne){return this._directMap[Q+":"+ne]&&this._directMap[Q+":"+ne]({},Q),this},ye.prototype.reset=function(){return this._callbacks={},this._directMap={},this},ye.prototype.stopCallback=function(Q,ne){if((" "+ne.className+" ").indexOf(" mousetrap ")>-1||function q(ve,H){return ve!==null&&ve!==E&&(ve===H||q(ve.parentNode,H))}(ne,this.target))return!1;if("composedPath"in Q&&typeof Q.composedPath=="function"){var me=Q.composedPath()[0];me!==Q.target&&(ne=me)}return ne.tagName=="INPUT"||ne.tagName=="SELECT"||ne.tagName=="TEXTAREA"||ne.isContentEditable},ye.prototype.handleKey=function(){var Q=this;return Q._handleKey.apply(Q,arguments)},ye.addKeycodes=function(Q){for(var ne in Q)Q.hasOwnProperty(ne)&&(D[ne]=Q[ne]);k=null},ye.init=function(){var Q=ye(E);for(var ne in Q)ne.charAt(0)!=="_"&&(ye[ne]=function(me){return function(){return Q[me].apply(Q,arguments)}}(ne))},ye.init(),h.Mousetrap=ye,j.exports&&(j.exports=ye),(O=function(){return ye}.call(M,s,M,j))===void 0||(j.exports=O)}function X(Q,ne,me){Q.addEventListener?Q.addEventListener(ne,me,!1):Q.attachEvent("on"+ne,me)}function te(Q){if(Q.type=="keypress"){var ne=String.fromCharCode(Q.which);return Q.shiftKey||(ne=ne.toLowerCase()),ne}return D[Q.which]?D[Q.which]:R[Q.which]?R[Q.which]:String.fromCharCode(Q.which).toLowerCase()}function re(Q){return Q=="shift"||Q=="ctrl"||Q=="alt"||Q=="meta"}function oe(Q,ne,me){return me||(me=function(){if(!k)for(var q in k={},D)q>95&&q<112||D.hasOwnProperty(q)&&(k[D[q]]=q);return k}()[Q]?"keydown":"keypress"),me=="keypress"&&ne.length&&(me="keydown"),me}function le(Q,ne){var me,q,ve,H=[];for(me=function(W){return W==="+"?["+"]:(W=W.replace(/\+{2}/g,"+plus")).split("+")}(Q),ve=0;ve<me.length;++ve)q=me[ve],z[q]&&(q=z[q]),ne&&ne!="keypress"&&L[q]&&(q=L[q],H.push("shift")),re(q)&&H.push(q);return{key:q,modifiers:H,action:ne=oe(q,H,ne)}}function ye(Q){var ne=this;if(Q=Q||E,!(ne instanceof ye))return new ye(Q);ne.target=Q,ne._callbacks={},ne._directMap={};var me,q={},ve=!1,H=!1,W=!1;function G(J){J=J||{};var fe,Se=!1;for(fe in q)J[fe]?Se=!0:q[fe]=0;Se||(W=!1)}function ee(J,fe,Se,Te,Ge,Ze){var ot,Ue,tt,Et,ue=[],ce=Se.type;if(!ne._callbacks[J])return[];for(ce=="keyup"&&re(J)&&(fe=[J]),ot=0;ot<ne._callbacks[J].length;++ot)if(Ue=ne._callbacks[J][ot],(Te||!Ue.seq||q[Ue.seq]==Ue.level)&&ce==Ue.action&&(ce=="keypress"&&!Se.metaKey&&!Se.ctrlKey||(tt=fe,Et=Ue.modifiers,tt.sort().join(",")===Et.sort().join(",")))){var _e=!Te&&Ue.combo==Ge,De=Te&&Ue.seq==Te&&Ue.level==Ze;(_e||De)&&ne._callbacks[J].splice(ot,1),ue.push(Ue)}return ue}function be(J,fe,Se,Te){ne.stopCallback(fe,fe.target||fe.srcElement,Se,Te)||J(fe,Se)===!1&&(function(Ge){Ge.preventDefault?Ge.preventDefault():Ge.returnValue=!1}(fe),function(Ge){Ge.stopPropagation?Ge.stopPropagation():Ge.cancelBubble=!0}(fe))}function Ne(J){typeof J.which!="number"&&(J.which=J.keyCode);var fe=te(J);fe&&(J.type!="keyup"||ve!==fe?ne.handleKey(fe,function(Se){var Te=[];return Se.shiftKey&&Te.push("shift"),Se.altKey&&Te.push("alt"),Se.ctrlKey&&Te.push("ctrl"),Se.metaKey&&Te.push("meta"),Te}(J),J):ve=!1)}function U(J,fe,Se,Te){function Ge(tt){return function(){W=tt,++q[J],clearTimeout(me),me=setTimeout(G,1e3)}}function Ze(tt){be(Se,tt,J),Te!=="keyup"&&(ve=te(tt)),setTimeout(G,10)}q[J]=0;for(var ot=0;ot<fe.length;++ot){var Ue=ot+1===fe.length?Ze:Ge(Te||le(fe[ot+1]).action);ae(fe[ot],Ue,Te,J,ot)}}function ae(J,fe,Se,Te,Ge){ne._directMap[J+":"+Se]=fe;var Ze,ot=(J=J.replace(/\s+/g," ")).split(" ");ot.length>1?U(J,ot,fe,Se):(Ze=le(J,Se),ne._callbacks[Ze.key]=ne._callbacks[Ze.key]||[],ee(Ze.key,Ze.modifiers,{type:Ze.action},Te,J,Ge),ne._callbacks[Ze.key][Te?"unshift":"push"]({callback:fe,modifiers:Ze.modifiers,action:Ze.action,seq:Te,level:Ge,combo:J}))}ne._handleKey=function(J,fe,Se){var Te,Ge=ee(J,fe,Se),Ze={},ot=0,Ue=!1;for(Te=0;Te<Ge.length;++Te)Ge[Te].seq&&(ot=Math.max(ot,Ge[Te].level));for(Te=0;Te<Ge.length;++Te)if(Ge[Te].seq){if(Ge[Te].level!=ot)continue;Ue=!0,Ze[Ge[Te].seq]=1,be(Ge[Te].callback,Se,Ge[Te].combo,Ge[Te].seq)}else Ue||be(Ge[Te].callback,Se,Ge[Te].combo);var tt=Se.type=="keypress"&&H;Se.type!=W||re(J)||tt||G(Ze),H=Ue&&Se.type=="keydown"},ne._bindMultiple=function(J,fe,Se){for(var Te=0;Te<J.length;++Te)ae(J[Te],fe,Se)},X(Q,"keypress",Ne),X(Q,"keydown",Ne),X(Q,"keyup",Ne)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(j,M,s){var O=s(36),h=s(37),E=s(32),x=s(39),k=s(66);j.exports=O?Object.defineProperties:function(D,R){E(D);for(var L,z=x(R),Y=k(R),X=Y.length,te=0;X>te;)h.f(D,L=Y[te++],z[L]);return D}},function(j,M,s){var O=s(7),h=s(35),E=s(28),x=s(33),k=O.TypeError;j.exports=function(D,R){var L,z;if(R==="string"&&E(L=D.toString)&&!x(z=h(L,D))||E(L=D.valueOf)&&!x(z=h(L,D))||R!=="string"&&E(L=D.toString)&&!x(z=h(L,D)))return z;throw k("Can't convert object to primitive value")}},function(j,M,s){var O=s(7),h=s(28),E=s(91),x=O.WeakMap;j.exports=h(x)&&/native code/.test(E(x))},function(j,M,s){"use strict";var O=s(136).IteratorPrototype,h=s(54),E=s(71),x=s(73),k=s(70),D=function(){return this};j.exports=function(R,L,z,Y){var X=L+" Iterator";return R.prototype=h(O,{next:E(+!Y,z)}),x(R,X,!1,!0),k[X]=D,R}},function(j,M,s){var O=s(7),h=s(28),E=O.String,x=O.TypeError;j.exports=function(k){if(typeof k=="object"||h(k))return k;throw x("Can't set "+E(k)+" as a prototype")}},function(j,M,s){"use strict";var O=s(16),h=s(7),E=s(15),x=s(94),k=s(44),D=s(138),R=s(114),L=s(117),z=s(28),Y=s(33),X=s(18),te=s(118),re=s(73),oe=s(143);j.exports=function(le,ye,Q){var ne=le.indexOf("Map")!==-1,me=le.indexOf("Weak")!==-1,q=ne?"set":"add",ve=h[le],H=ve&&ve.prototype,W=ve,G={},ee=function(fe){var Se=E(H[fe]);k(H,fe,fe=="add"?function(Te){return Se(this,Te===0?0:Te),this}:fe=="delete"?function(Te){return!(me&&!Y(Te))&&Se(this,Te===0?0:Te)}:fe=="get"?function(Te){return me&&!Y(Te)?void 0:Se(this,Te===0?0:Te)}:fe=="has"?function(Te){return!(me&&!Y(Te))&&Se(this,Te===0?0:Te)}:function(Te,Ge){return Se(this,Te===0?0:Te,Ge),this})};if(x(le,!z(ve)||!(me||H.forEach&&!X(function(){new ve().entries().next()}))))W=Q.getConstructor(ye,le,ne,q),D.enable();else if(x(le,!0)){var be=new W,Ne=be[q](me?{}:-0,1)!=be,U=X(function(){be.has(1)}),ae=te(function(fe){new ve(fe)}),J=!me&&X(function(){for(var fe=new ve,Se=5;Se--;)fe[q](Se,Se);return!fe.has(-0)});ae||((W=ye(function(fe,Se){L(fe,H);var Te=oe(new ve,fe,W);return Se!=null&&R(Se,Te[q],{that:Te,AS_ENTRIES:ne}),Te})).prototype=H,H.constructor=W),(U||J)&&(ee("delete"),ee("has"),ne&&ee("get")),(J||Ne)&&ee(q),me&&H.clear&&delete H.clear}return G[le]=W,O({global:!0,forced:W!=ve},G),re(W,le),me||Q.setStrong(W,le,ne),W}},function(j,M,s){var O=s(18),h=s(33),E=s(50),x=s(174),k=Object.isExtensible,D=O(function(){k(1)});j.exports=D||x?function(R){return!!h(R)&&(!x||E(R)!="ArrayBuffer")&&(!k||k(R))}:k},function(j,M,s){var O=s(18);j.exports=O(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},function(j,M,s){var O=s(18);j.exports=!O(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(j,M,s){"use strict";var O=s(37).f,h=s(54),E=s(144),x=s(62),k=s(117),D=s(114),R=s(111),L=s(145),z=s(36),Y=s(138).fastKey,X=s(56),te=X.set,re=X.getterFor;j.exports={getConstructor:function(oe,le,ye,Q){var ne=oe(function(W,G){k(W,me),te(W,{type:le,index:h(null),first:void 0,last:void 0,size:0}),z||(W.size=0),G!=null&&D(G,W[Q],{that:W,AS_ENTRIES:ye})}),me=ne.prototype,q=re(le),ve=function(W,G,ee){var be,Ne,U=q(W),ae=H(W,G);return ae?ae.value=ee:(U.last=ae={index:Ne=Y(G,!0),key:G,value:ee,previous:be=U.last,next:void 0,removed:!1},U.first||(U.first=ae),be&&(be.next=ae),z?U.size++:W.size++,Ne!=="F"&&(U.index[Ne]=ae)),W},H=function(W,G){var ee,be=q(W),Ne=Y(G);if(Ne!=="F")return be.index[Ne];for(ee=be.first;ee;ee=ee.next)if(ee.key==G)return ee};return E(me,{clear:function(){for(var W=q(this),G=W.index,ee=W.first;ee;)ee.removed=!0,ee.previous&&(ee.previous=ee.previous.next=void 0),delete G[ee.index],ee=ee.next;W.first=W.last=void 0,z?W.size=0:this.size=0},delete:function(W){var G=q(this),ee=H(this,W);if(ee){var be=ee.next,Ne=ee.previous;delete G.index[ee.index],ee.removed=!0,Ne&&(Ne.next=be),be&&(be.previous=Ne),G.first==ee&&(G.first=be),G.last==ee&&(G.last=Ne),z?G.size--:this.size--}return!!ee},forEach:function(W){for(var G,ee=q(this),be=x(W,arguments.length>1?arguments[1]:void 0);G=G?G.next:ee.first;)for(be(G.value,G.key,this);G&&G.removed;)G=G.previous},has:function(W){return!!H(this,W)}}),E(me,ye?{get:function(W){var G=H(this,W);return G&&G.value},set:function(W,G){return ve(this,W===0?0:W,G)}}:{add:function(W){return ve(this,W=W===0?0:W,W)}}),z&&O(me,"size",{get:function(){return q(this).size}}),ne},setStrong:function(oe,le,ye){var Q=le+" Iterator",ne=re(le),me=re(Q);R(oe,le,function(q,ve){te(this,{type:Q,target:q,state:ne(q),kind:ve,last:void 0})},function(){for(var q=me(this),ve=q.kind,H=q.last;H&&H.removed;)H=H.previous;return q.target&&(q.last=H=H?H.next:q.state.first)?ve=="keys"?{value:H.key,done:!1}:ve=="values"?{value:H.value,done:!1}:{value:[H.key,H.value],done:!1}:(q.target=void 0,{value:void 0,done:!0})},ye?"entries":"values",!ye,!0),L(le)}}},function(j,M,s){"use strict";var O=s(116),h=s(97);j.exports=O?{}.toString:function(){return"[object "+h(this)+"]"}},function(j,M,s){"use strict";var O=s(74).forEach,h=s(120)("forEach");j.exports=h?[].forEach:function(E){return O(this,E,arguments.length>1?arguments[1]:void 0)}},function(j,M,s){var O=s(7),h=s(98),E=s(99),x=s(33),k=s(27)("species"),D=O.Array;j.exports=function(R){var L;return h(R)&&(L=R.constructor,(E(L)&&(L===D||h(L.prototype))||x(L)&&(L=L[k])===null)&&(L=void 0)),L===void 0?D:L}},function(j,M,s){var O=s(7);j.exports=O},function(j,M,s){"use strict";var O=s(7),h=s(62),E=s(35),x=s(38),k=s(182),D=s(140),R=s(99),L=s(43),z=s(61),Y=s(141),X=s(115),te=O.Array;j.exports=function(re){var oe=x(re),le=R(this),ye=arguments.length,Q=ye>1?arguments[1]:void 0,ne=Q!==void 0;ne&&(Q=h(Q,ye>2?arguments[2]:void 0));var me,q,ve,H,W,G,ee=X(oe),be=0;if(!ee||this==te&&D(ee))for(me=L(oe),q=le?new this(me):te(me);me>be;be++)G=ne?Q(oe[be],be):oe[be],z(q,be,G);else for(W=(H=Y(oe,ee)).next,q=le?new this:[];!(ve=E(W,H)).done;be++)G=ne?k(H,Q,[ve.value,be],!0):ve.value,z(q,be,G);return q.length=be,q}},function(j,M,s){var O=s(32),h=s(142);j.exports=function(E,x,k,D){try{return D?x(O(k)[0],k[1]):x(k)}catch(R){h(E,"throw",R)}}},function(j,M,s){"use strict";var O=s(32);j.exports=function(){var h=O(this),E="";return h.global&&(E+="g"),h.ignoreCase&&(E+="i"),h.multiline&&(E+="m"),h.dotAll&&(E+="s"),h.unicode&&(E+="u"),h.sticky&&(E+="y"),E}},function(j,M,s){var O=s(18),h=s(7).RegExp;j.exports=O(function(){var E=h(".","s");return!(E.dotAll&&E.exec(`
`)&&E.flags==="s")})},function(j,M,s){var O=s(18),h=s(7).RegExp;j.exports=O(function(){var E=h("(?<a>b)","g");return E.exec("b").groups.a!=="b"||"b".replace(E,"$<a>c")!=="bc"})},function(j,M,s){"use strict";var O=s(16),h=s(15),E=s(55),x=s(38),k=s(43),D=s(40),R=s(18),L=s(187),z=s(120),Y=s(188),X=s(189),te=s(65),re=s(190),oe=[],le=h(oe.sort),ye=h(oe.push),Q=R(function(){oe.sort(void 0)}),ne=R(function(){oe.sort(null)}),me=z("sort"),q=!R(function(){if(te)return te<70;if(!(Y&&Y>3)){if(X)return!0;if(re)return re<603;var ve,H,W,G,ee="";for(ve=65;ve<76;ve++){switch(H=String.fromCharCode(ve),ve){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(G=0;G<47;G++)oe.push({k:H+G,v:W})}for(oe.sort(function(be,Ne){return Ne.v-be.v}),G=0;G<oe.length;G++)H=oe[G].k.charAt(0),ee.charAt(ee.length-1)!==H&&(ee+=H);return ee!=="DGBEFHACIJK"}});O({target:"Array",proto:!0,forced:Q||!ne||!me||!q},{sort:function(ve){ve!==void 0&&E(ve);var H=x(this);if(q)return ve===void 0?le(H):le(H,ve);var W,G,ee=[],be=k(H);for(G=0;G<be;G++)G in H&&ye(ee,H[G]);for(L(ee,function(Ne){return function(U,ae){return ae===void 0?-1:U===void 0?1:Ne!==void 0?+Ne(U,ae)||0:D(U)>D(ae)?1:-1}}(ve)),W=ee.length,G=0;G<W;)H[G]=ee[G++];for(;G<be;)delete H[G++];return H}})},function(j,M,s){var O=s(113),h=Math.floor,E=function(D,R){var L=D.length,z=h(L/2);return L<8?x(D,R):k(D,E(O(D,0,z),R),E(O(D,z),R),R)},x=function(D,R){for(var L,z,Y=D.length,X=1;X<Y;){for(z=X,L=D[X];z&&R(D[z-1],L)>0;)D[z]=D[--z];z!==X++&&(D[z]=L)}return D},k=function(D,R,L,z){for(var Y=R.length,X=L.length,te=0,re=0;te<Y||re<X;)D[te+re]=te<Y&&re<X?z(R[te],L[re])<=0?R[te++]:L[re++]:te<Y?R[te++]:L[re++];return D};j.exports=E},function(j,M,s){var O=s(53).match(/firefox\/(\d+)/i);j.exports=!!O&&+O[1]},function(j,M,s){var O=s(53);j.exports=/MSIE|Trident/.test(O)},function(j,M,s){var O=s(53).match(/AppleWebKit\/(\d+)\./);j.exports=!!O&&+O[1]},function(j,M,s){"use strict";var O=s(16),h=s(74).find,E=s(82),x=!0;"find"in[]&&Array(1).find(function(){x=!1}),O({target:"Array",proto:!0,forced:x},{find:function(k){return h(this,k,arguments.length>1?arguments[1]:void 0)}}),E("find")},function(j,M,s){var O=s(7),h=s(154),E=O.TypeError;j.exports=function(x){if(h(x))throw E("The method doesn't accept regular expressions");return x}},function(j,M,s){var O=s(27)("match");j.exports=function(h){var E=/./;try{"/./"[h](E)}catch(x){try{return E[O]=!1,"/./"[h](E)}catch(k){}}return!1}},function(j,M,s){"use strict";var O=s(16),h=s(158).trim;O({target:"String",proto:!0,forced:s(195)("trim")},{trim:function(){return h(this)}})},function(j,M,s){var O=s(93).PROPER,h=s(18),E=s(159);j.exports=function(x){return h(function(){return!!E[x]()||"\u200B\x85\u180E"[x]()!=="\u200B\x85\u180E"||O&&E[x].name!==x})}},function(j,M,s){var O=s(15);j.exports=O(1 .valueOf)},function(j,M,s){var O=s(15),h=s(38),E=Math.floor,x=O("".charAt),k=O("".replace),D=O("".slice),R=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,L=/\$([$&'`]|\d{1,2})/g;j.exports=function(z,Y,X,te,re,oe){var le=X+z.length,ye=te.length,Q=L;return re!==void 0&&(re=h(re),Q=R),k(oe,Q,function(ne,me){var q;switch(x(me,0)){case"$":return"$";case"&":return z;case"`":return D(Y,0,X);case"'":return D(Y,le);case"<":q=re[D(me,1,-1)];break;default:var ve=+me;if(ve===0)return ne;if(ve>ye){var H=E(ve/10);return H===0?ne:H<=ye?te[H-1]===void 0?x(me,1):te[H-1]+x(me,1):ne}q=te[ve-1]}return q===void 0?"":q})}},function(j,M,s){"use strict";var O=s(7),h=s(15),E=s(55),x=s(33),k=s(34),D=s(100),R=O.Function,L=h([].concat),z=h([].join),Y={},X=function(te,re,oe){if(!k(Y,re)){for(var le=[],ye=0;ye<re;ye++)le[ye]="a["+ye+"]";Y[re]=R("C,a","return new C("+z(le,",")+")")}return Y[re](te,oe)};j.exports=R.bind||function(te){var re=E(this),oe=re.prototype,le=D(arguments,1),ye=function(){var Q=L(le,D(arguments));return this instanceof ye?X(re,Q.length,Q):re.apply(te,Q)};return x(oe)&&(ye.prototype=oe),ye}},function(j,M,s){var O=s(34);j.exports=function(h){return h!==void 0&&(O(h,"value")||O(h,"writable"))}},function(j,M,s){"use strict";var O=s(36),h=s(15),E=s(35),x=s(18),k=s(66),D=s(112),R=s(92),L=s(38),z=s(80),Y=Object.assign,X=Object.defineProperty,te=h([].concat);j.exports=!Y||x(function(){if(O&&Y({b:1},Y(X({},"a",{enumerable:!0,get:function(){X(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var re={},oe={},le=Symbol();return re[le]=7,"abcdefghijklmnopqrst".split("").forEach(function(ye){oe[ye]=ye}),Y({},re)[le]!=7||k(Y({},oe)).join("")!="abcdefghijklmnopqrst"})?function(re,oe){for(var le=L(re),ye=arguments.length,Q=1,ne=D.f,me=R.f;ye>Q;)for(var q,ve=z(arguments[Q++]),H=ne?te(k(ve),ne(ve)):k(ve),W=H.length,G=0;W>G;)q=H[G++],O&&!E(me,ve,q)||(le[q]=ve[q]);return le}:Y},function(j,M,s){var O=s(15),h=s(45),E=s(40),x=/"/g,k=O("".replace);j.exports=function(D,R,L,z){var Y=E(h(D)),X="<"+R;return L!==""&&(X+=" "+L+'="'+k(E(z),x,"&quot;")+'"'),X+">"+Y+"</"+R+">"}},function(j,M,s){var O=s(18);j.exports=function(h){return O(function(){var E=""[h]('"');return E!==E.toLowerCase()||E.split('"').length>3})}},function(j,M,s){var O=s(16),h=Math.hypot,E=Math.abs,x=Math.sqrt;O({target:"Math",stat:!0,forced:!!h&&h(1/0,NaN)!==1/0},{hypot:function(k,D){for(var R,L,z=0,Y=0,X=arguments.length,te=0;Y<X;)te<(R=E(arguments[Y++]))?(z=z*(L=te/R)*L+1,te=R):z+=R>0?(L=R/te)*L:R;return te===1/0?1/0:te*x(z)}})},function(j,M,s){"use strict";var O,h,E,x,k=s(16),D=s(64),R=s(7),L=s(46),z=s(35),Y=s(205),X=s(44),te=s(144),re=s(96),oe=s(73),le=s(145),ye=s(55),Q=s(28),ne=s(33),me=s(117),q=s(91),ve=s(114),H=s(118),W=s(156),G=s(161).set,ee=s(206),be=s(209),Ne=s(210),U=s(163),ae=s(211),J=s(56),fe=s(94),Se=s(27),Te=s(212),Ge=s(126),Ze=s(65),ot=Se("species"),Ue="Promise",tt=J.getterFor(Ue),Et=J.set,ue=J.getterFor(Ue),ce=Y&&Y.prototype,_e=Y,De=ce,Ye=R.TypeError,Re=R.document,lt=R.process,at=U.f,vt=at,ft=!!(Re&&Re.createEvent&&R.dispatchEvent),Ae=Q(R.PromiseRejectionEvent),ie=!1,Qe=fe(Ue,function(){var de=q(_e),ze=de!==String(_e);if(!ze&&Ze===66||D&&!De.finally)return!0;if(Ze>=51&&/native code/.test(de))return!1;var Be=new _e(function(rt){rt(1)}),We=function(rt){rt(function(){},function(){})};return(Be.constructor={})[ot]=We,!(ie=Be.then(function(){})instanceof We)||!ze&&Te&&!Ae}),nt=Qe||!H(function(de){_e.all(de).catch(function(){})}),qe=function(de){var ze;return!(!ne(de)||!Q(ze=de.then))&&ze},Vt=function(de,ze){if(!de.notified){de.notified=!0;var Be=de.reactions;ee(function(){for(var We=de.value,rt=de.state==1,St=0;Be.length>St;){var Xt,bn,nn,Pt=Be[St++],Ve=rt?Pt.ok:Pt.fail,it=Pt.resolve,pt=Pt.reject,bt=Pt.domain;try{Ve?(rt||(de.rejection===2&&Jt(de),de.rejection=1),Ve===!0?Xt=We:(bt&&bt.enter(),Xt=Ve(We),bt&&(bt.exit(),nn=!0)),Xt===Pt.promise?pt(Ye("Promise-chain cycle")):(bn=qe(Xt))?z(bn,Xt,it,pt):it(Xt)):pt(We)}catch(Bt){bt&&!nn&&bt.exit(),pt(Bt)}}de.reactions=[],de.notified=!1,ze&&!de.rejection&&gt(de)})}},mt=function(de,ze,Be){var We,rt;ft?((We=Re.createEvent("Event")).promise=ze,We.reason=Be,We.initEvent(de,!1,!0),R.dispatchEvent(We)):We={promise:ze,reason:Be},!Ae&&(rt=R["on"+de])?rt(We):de==="unhandledrejection"&&Ne("Unhandled promise rejection",Be)},gt=function(de){z(G,R,function(){var ze,Be=de.facade,We=de.value;if(Tt(de)&&(ze=ae(function(){Ge?lt.emit("unhandledRejection",We,Be):mt("unhandledrejection",Be,We)}),de.rejection=Ge||Tt(de)?2:1,ze.error))throw ze.value})},Tt=function(de){return de.rejection!==1&&!de.parent},Jt=function(de){z(G,R,function(){var ze=de.facade;Ge?lt.emit("rejectionHandled",ze):mt("rejectionhandled",ze,de.value)})},V=function(de,ze,Be){return function(We){de(ze,We,Be)}},pe=function(de,ze,Be){de.done||(de.done=!0,Be&&(de=Be),de.value=ze,de.state=2,Vt(de,!0))},ke=function(de,ze,Be){if(!de.done){de.done=!0,Be&&(de=Be);try{if(de.facade===ze)throw Ye("Promise can't be resolved itself");var We=qe(ze);We?ee(function(){var rt={done:!1};try{z(We,ze,V(ke,rt,de),V(pe,rt,de))}catch(St){pe(rt,St,de)}}):(de.value=ze,de.state=1,Vt(de,!1))}catch(rt){pe({done:!1},rt,de)}}};if(Qe&&(De=(_e=function(de){me(this,De),ye(de),z(O,this);var ze=tt(this);try{de(V(ke,ze),V(pe,ze))}catch(Be){pe(ze,Be)}}).prototype,(O=function(de){Et(this,{type:Ue,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=te(De,{then:function(de,ze){var Be=ue(this),We=Be.reactions,rt=at(W(this,_e));return rt.ok=!Q(de)||de,rt.fail=Q(ze)&&ze,rt.domain=Ge?lt.domain:void 0,Be.parent=!0,We[We.length]=rt,Be.state!=0&&Vt(Be,!1),rt.promise},catch:function(de){return this.then(void 0,de)}}),h=function(){var de=new O,ze=tt(de);this.promise=de,this.resolve=V(ke,ze),this.reject=V(pe,ze)},U.f=at=function(de){return de===_e||de===E?new h(de):vt(de)},!D&&Q(Y)&&ce!==Object.prototype)){x=ce.then,ie||(X(ce,"then",function(de,ze){var Be=this;return new _e(function(We,rt){z(x,Be,We,rt)}).then(de,ze)},{unsafe:!0}),X(ce,"catch",De.catch,{unsafe:!0}));try{delete ce.constructor}catch(de){}re&&re(ce,De)}k({global:!0,wrap:!0,forced:Qe},{Promise:_e}),oe(_e,Ue,!1,!0),le(Ue),E=L(Ue),k({target:Ue,stat:!0,forced:Qe},{reject:function(de){var ze=at(this);return z(ze.reject,void 0,de),ze.promise}}),k({target:Ue,stat:!0,forced:D||Qe},{resolve:function(de){return be(D&&this===E?_e:this,de)}}),k({target:Ue,stat:!0,forced:nt},{all:function(de){var ze=this,Be=at(ze),We=Be.resolve,rt=Be.reject,St=ae(function(){var Xt=ye(ze.resolve),bn=[],nn=0,Pt=1;ve(de,function(Ve){var it=nn++,pt=!1;Pt++,z(Xt,ze,Ve).then(function(bt){pt||(pt=!0,bn[it]=bt,--Pt||We(bn))},rt)}),--Pt||We(bn)});return St.error&&rt(St.value),Be.promise},race:function(de){var ze=this,Be=at(ze),We=Be.reject,rt=ae(function(){var St=ye(ze.resolve);ve(de,function(Xt){z(St,ze,Xt).then(Be.resolve,We)})});return rt.error&&We(rt.value),Be.promise}})},function(j,M,s){var O=s(7);j.exports=O.Promise},function(j,M,s){var O,h,E,x,k,D,R,L,z=s(7),Y=s(62),X=s(51).f,te=s(161).set,re=s(162),oe=s(207),le=s(208),ye=s(126),Q=z.MutationObserver||z.WebKitMutationObserver,ne=z.document,me=z.process,q=z.Promise,ve=X(z,"queueMicrotask"),H=ve&&ve.value;H||(O=function(){var W,G;for(ye&&(W=me.domain)&&W.exit();h;){G=h.fn,h=h.next;try{G()}catch(ee){throw h?x():E=void 0,ee}}E=void 0,W&&W.enter()},re||ye||le||!Q||!ne?!oe&&q&&q.resolve?((R=q.resolve(void 0)).constructor=q,L=Y(R.then,R),x=function(){L(O)}):ye?x=function(){me.nextTick(O)}:(te=Y(te,z),x=function(){te(O)}):(k=!0,D=ne.createTextNode(""),new Q(O).observe(D,{characterData:!0}),x=function(){D.data=k=!k})),j.exports=H||function(W){var G={fn:W,next:void 0};E&&(E.next=G),h||(h=G,x()),E=G}},function(j,M,s){var O=s(53),h=s(7);j.exports=/ipad|iphone|ipod/i.test(O)&&h.Pebble!==void 0},function(j,M,s){var O=s(53);j.exports=/web0s(?!.*chrome)/i.test(O)},function(j,M,s){var O=s(32),h=s(33),E=s(163);j.exports=function(x,k){if(O(x),h(k)&&k.constructor===x)return k;var D=E.f(x);return(0,D.resolve)(k),D.promise}},function(j,M,s){var O=s(7);j.exports=function(h,E){var x=O.console;x&&x.error&&(arguments.length==1?x.error(h):x.error(h,E))}},function(j,M){j.exports=function(s){try{return{error:!1,value:s()}}catch(O){return{error:!0,value:O}}}},function(j,M){j.exports=typeof window=="object"},function(j,M,s){var O=s(36),h=s(15),E=s(66),x=s(39),k=h(s(92).f),D=h([].push),R=function(L){return function(z){for(var Y,X=x(z),te=E(X),re=te.length,oe=0,le=[];re>oe;)Y=te[oe++],O&&!k(X,Y)||D(le,L?[Y,X[Y]]:X[Y]);return le}};j.exports={entries:R(!0),values:R(!1)}},function(j,M,s){"use strict";var O=s(38),h=s(67),E=s(43);j.exports=function(x){for(var k=O(this),D=E(k),R=arguments.length,L=h(R>1?arguments[1]:void 0,D),z=R>2?arguments[2]:void 0,Y=z===void 0?D:h(z,D);Y>L;)k[L++]=x;return k}},function(j,M,s){"use strict";s.r(M),s.d(M,"observer",function(){return Pr}),s.d(M,"LogicFlow",function(){return Ws}),s.d(M,"h",function(){return ie.g}),s.d(M,"LogicFlowUtil",function(){return O}),s.d(M,"BaseNode",function(){return Eo}),s.d(M,"RectNode",function(){return ls}),s.d(M,"CircleNode",function(){return ps}),s.d(M,"PolygonNode",function(){return hs}),s.d(M,"DiamondNode",function(){return vs}),s.d(M,"EllipseNode",function(){return ms}),s.d(M,"TextNode",function(){return _s}),s.d(M,"HtmlNode",function(){return ws}),s.d(M,"BaseEdge",function(){return fa}),s.d(M,"LineEdge",function(){return Ts}),s.d(M,"PolylineEdge",function(){return Rs}),s.d(M,"BezierEdge",function(){return zs}),s.d(M,"Arrow",function(){return qh}),s.d(M,"BaseEdgeModel",function(){return xu}),s.d(M,"BezierEdgeModel",function(){return Wu}),s.d(M,"LineEdgeModel",function(){return Su}),s.d(M,"PolylineEdgeModel",function(){return Pu}),s.d(M,"BaseNodeModel",function(){return wo}),s.d(M,"CircleNodeModel",function(){return Zu}),s.d(M,"DiamondNodeModel",function(){return qu}),s.d(M,"EllipseNodeModel",function(){return Ju}),s.d(M,"PolygonNodeModel",function(){return es}),s.d(M,"RectNodeModel",function(){return ts}),s.d(M,"TextNodeModel",function(){return ns}),s.d(M,"HtmlNodeModel",function(){return os}),s.d(M,"EditConfigModel",function(){return nc}),s.d(M,"GraphModel",function(){return Jl}),s.d(M,"SnaplineModel",function(){return Ud}),s.d(M,"Keyboard",function(){return qy}),s.d(M,"get",function(){return np}),s.d(M,"defaults",function(){return op});var O={};s.r(O),s.d(O,"createUuid",function(){return ei}),s.d(O,"refreshGraphId",function(){return Uv}),s.d(O,"createDrag",function(){return Du}),s.d(O,"StepDrag",function(){return ni});var h=s(0),E=s(10);if(!E.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!h.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var x=s(42),k=Object(x.b)("observerBatching");function D(t){t()}var R=!1;function L(){return R}function z(t){return Object(h.t)(t)}var Y,X=1e4,te=new Set;function re(){Y===void 0&&(Y=setTimeout(oe,1e4))}function oe(){Y=void 0;var t=Date.now();te.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,te.delete(e))}),te.size>0&&re()}var le=!1,ye=[],Q={};function ne(t){return"observer"+t}function me(t,e,n){if(e===void 0&&(e="observed"),n===void 0&&(n=Q),L())return t();var r,o=function(v){return function(){le?ye.push(v):v()}}((n.useForceUpdate||x.d)()),u=E.d.useRef(null);if(!u.current){var i=new h.c(ne(e),function(){a.mounted?o():(i.dispose(),u.current=null)}),a=function(v){return{cleanAt:Date.now()+X,reaction:v}}(i);u.current=a,r=u,te.add(r),re()}var f=u.current.reaction;return E.d.useDebugValue(f,z),E.d.useEffect(function(){var v;return v=u,te.delete(v),u.current?u.current.mounted=!0:(u.current={reaction:new h.c(ne(e),function(){o()}),cleanAt:1/0},o()),function(){u.current.reaction.dispose(),u.current=null}},[]),function(v){le=!0,ye=[];try{var _=v();le=!1;var P=ye.length>0?ye:void 0;return E.d.useLayoutEffect(function(){P&&P.forEach(function(N){return N()})},[P]),_}finally{le=!1}}(function(){var v,_;if(f.track(function(){try{v=t()}catch(P){_=P}}),_)throw _;return v})}var q=function(){return(q=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function ve(t,e){if(L())return t;var n,r,o,u=q({forwardRef:!1},e),i=t.displayName||t.name,a=function(f,v){return me(function(){return t(f,v)},i)};return a.displayName=i,n=u.forwardRef?Object(E.f)(Object(E.e)(a)):Object(E.f)(a),r=t,o=n,Object.keys(r).forEach(function(f){H[f]||Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(r,f))}),n.displayName=i,n}var H={$$typeof:!0,render:!0,compare:!0,type:!0};function W(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:me(r)}function G(t,e,n,r,o){var u=e==="children"?"render":"children",i=typeof t[e]=="function",a=typeof t[u]=="function";return i&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):i||a?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}W.propTypes={children:G,render:G},W.displayName="Observer";var ee;(ee=E.g)||(ee=D),Object(h.n)({reactionScheduler:ee}),Object(x.a)()[k]=!0;var be=0,Ne={};function U(t){return Ne[t]||(Ne[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+be+")";return be++,n}(t)),Ne[t]}function ae(t,e){if(J(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!J(t[n[o]],e[n[o]]))return!1;return!0}function J(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function fe(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Se=U("patchMixins"),Te=U("patchedDefinition");function Ge(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];e.locks++;try{var i;return t!=null&&(i=t.apply(this,o)),i}finally{e.locks--,e.locks===0&&e.methods.forEach(function(a){a.apply(n,o)})}}function Ze(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Ge.call.apply(Ge,[this,t,e].concat(r))}}function ot(t,e,n){var r=function(a,f){var v=a[Se]=a[Se]||{},_=v[f]=v[f]||{};return _.locks=_.locks||0,_.methods=_.methods||[],_}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[Te]){var u=t[e],i=function a(f,v,_,P,N){var I,Z=Ze(N,P);return(I={})[Te]=!0,I.get=function(){return Z},I.set=function(se){if(this===f)Z=Ze(se,P);else{var he=a(this,v,_,P,se);Object.defineProperty(this,v,he)}},I.configurable=!0,I.enumerable=_,I}(t,e,o?o.enumerable:void 0,r,u);Object.defineProperty(t,e,i)}}var Ue=h.a||"$mobx",tt=U("isMobXReactObserver"),Et=U("isUnmounted"),ue=U("skipRender"),ce=U("isForcingUpdate");function _e(t){var e=t.prototype;if(t[tt]){var n=De(e);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else t[tt]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==E.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Re)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Re;lt(e,"props"),lt(e,"state");var r=e.render;return e.render=function(){return Ye.call(this,r)},ot(e,"componentWillUnmount",function(){var o;if(L()!==!0&&((o=this.render[Ue])===null||o===void 0||o.dispose(),this[Et]=!0,!this.render[Ue])){var u=De(this);console.warn("The reactive render of an observer class component ("+u+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),t}function De(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Ye(t){var e=this;if(L()===!0)return t.call(this);fe(this,ue,!1),fe(this,ce,!1);var n=De(this),r=t.bind(this),o=!1,u=new h.c(n+".render()",function(){if(!o&&(o=!0,e[Et]!==!0)){var a=!0;try{fe(e,ce,!0),e[ue]||E.a.prototype.forceUpdate.call(e),a=!1}finally{fe(e,ce,!1),a&&u.dispose()}}});function i(){o=!1;var a=void 0,f=void 0;if(u.track(function(){try{f=Object(h.d)(!1,r)}catch(v){a=v}}),a)throw a;return f}return u.reactComponent=this,i[Ue]=u,this.render=i,i.call(this)}function Re(t,e){return L()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!ae(this.props,t)}function lt(t,e){var n=U("reactProp_"+e+"_valueHolder"),r=U("reactProp_"+e+"_atomHolder");function o(){return this[r]||fe(this,r,Object(h.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var u=!1;return h.f&&h.e&&(u=Object(h.f)(!0)),o.call(this).reportObserved(),h.f&&h.e&&Object(h.e)(u),this[n]},set:function(u){this[ce]||ae(this[n],u)?fe(this,n,u):(fe(this,n,u),fe(this,ue,!0),o.call(this).reportChanged(),fe(this,ue,!1))}})}var at=typeof Symbol=="function"&&Symbol.for,vt=at?Symbol.for("react.forward_ref"):typeof E.e=="function"&&Object(E.e)(function(t){return null}).$$typeof,ft=at?Symbol.for("react.memo"):typeof E.f=="function"&&Object(E.f)(function(t){return null}).$$typeof;function Ae(t){if(t.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),ft&&t.$$typeof===ft)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(vt&&t.$$typeof===vt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(E.e)(function(){var n=arguments;return Object(E.c)(W,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(E.a,t)?_e(t):ve(t)}if(!E.a)throw new Error("mobx-react requires React to be available");if(!h.C)throw new Error("mobx-react requires mobx to be available");var ie=s(1);s(3),s(60),s(2),s(6),s(4),s(11),s(41),s(24),s(20),s(5),s(22),s(21),s(23),s(8),s(9),s(17),s(25),s(19),s(29),s(186),s(191),s(102),s(152),s(153);var Qe=function(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},nt=function(){this.__data__=[],this.size=0},qe=function(t,e){return t===e||t!=t&&e!=e},Vt=function(t,e){for(var n=t.length;n--;)if(qe(t[n][0],e))return n;return-1},mt=Array.prototype.splice,gt=function(t){var e=this.__data__,n=Vt(e,t);return!(n<0)&&(n==e.length-1?e.pop():mt.call(e,n,1),--this.size,!0)},Tt=function(t){var e=this.__data__,n=Vt(e,t);return n<0?void 0:e[n][1]},Jt=function(t){return Vt(this.__data__,t)>-1},V=function(t,e){var n=this.__data__,r=Vt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function pe(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pe.prototype.clear=nt,pe.prototype.delete=gt,pe.prototype.get=Tt,pe.prototype.has=Jt,pe.prototype.set=V;var ke=pe,de=function(){this.__data__=new ke,this.size=0},ze=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Be=function(t){return this.__data__.get(t)},We=function(t){return this.__data__.has(t)},rt=s(30),St=rt.a.Symbol,Xt=Object.prototype,bn=Xt.hasOwnProperty,nn=Xt.toString,Pt=St?St.toStringTag:void 0,Ve=function(t){var e=bn.call(t,Pt),n=t[Pt];try{t[Pt]=void 0;var r=!0}catch(u){}var o=nn.call(t);return r&&(e?t[Pt]=n:delete t[Pt]),o},it=Object.prototype.toString,pt=function(t){return it.call(t)},bt=St?St.toStringTag:void 0,Bt=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":bt&&bt in Object(t)?Ve(t):pt(t)},Qt=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},_n,Ho=function(t){if(!Qt(t))return!1;var e=Bt(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},ir=rt.a["__core-js_shared__"],Mr=(_n=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||""))?"Symbol(src)_1."+_n:"",Go=function(t){return!!Mr&&Mr in t},kr=Function.prototype.toString,qn=function(t){if(t!=null){try{return kr.call(t)}catch(e){}try{return t+""}catch(e){}}return""},ko=/^\[object .+?Constructor\]$/,ci=Function.prototype,et=Object.prototype,Hi=ci.toString,li=et.hasOwnProperty,Fo=RegExp("^"+Hi.call(li).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vn=function(t){return!(!Qt(t)||Go(t))&&(Ho(t)?Fo:ko).test(qn(t))},Wn=function(t,e){return t==null?void 0:t[e]},ar=function(t,e){var n=Wn(t,e);return Vn(n)?n:void 0},Nr=ar(rt.a,"Map"),ur=ar(Object,"create"),fi=function(){this.__data__=ur?ur(null):{},this.size=0},pi=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gi=Object.prototype.hasOwnProperty,sr=function(t){var e=this.__data__;if(ur){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Gi.call(e,t)?e[t]:void 0},ro=Object.prototype.hasOwnProperty,Ar=function(t){var e=this.__data__;return ur?e[t]!==void 0:ro.call(e,t)},di=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ur&&e===void 0?"__lodash_hash_undefined__":e,this};function yr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yr.prototype.clear=fi,yr.prototype.delete=pi,yr.prototype.get=sr,yr.prototype.has=Ar,yr.prototype.set=di;var Fi=yr,cr=function(){this.size=0,this.__data__={hash:new Fi,map:new(Nr||ke),string:new Fi}},Xo=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},oo=function(t,e){var n=t.__data__;return Xo(e)?n[typeof e=="string"?"string":"hash"]:n.map},Uo=function(t){var e=oo(this,t).delete(t);return this.size-=e?1:0,e},Yo=function(t){return oo(this,t).get(t)},ya=function(t){return oo(this,t).has(t)},hi=function(t,e){var n=oo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Tr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tr.prototype.clear=cr,Tr.prototype.delete=Uo,Tr.prototype.get=Yo,Tr.prototype.has=ya,Tr.prototype.set=hi;var Dr=Tr,yi=function(t,e){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!Nr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dr(r)}return n.set(t,e),this.size=n.size,this};function io(t){var e=this.__data__=new ke(t);this.size=e.size}io.prototype.clear=de,io.prototype.delete=ze,io.prototype.get=Be,io.prototype.has=We,io.prototype.set=yi;var Jn=io,Cr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},vi=function(t){return this.__data__.has(t)};function ao(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Dr;++e<n;)this.add(t[e])}ao.prototype.add=ao.prototype.push=Cr,ao.prototype.has=vi;var gi=ao,va=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Rr=function(t,e){return t.has(e)},Wt=function(t,e,n,r,o,u){var i=1&n,a=t.length,f=e.length;if(a!=f&&!(i&&f>a))return!1;var v=u.get(t),_=u.get(e);if(v&&_)return v==e&&_==t;var P=-1,N=!0,I=2&n?new gi:void 0;for(u.set(t,e),u.set(e,t);++P<a;){var Z=t[P],se=e[P];if(r)var he=i?r(se,Z,P,e,t,u):r(Z,se,P,t,e,u);if(he!==void 0){if(he)continue;N=!1;break}if(I){if(!va(e,function(je,Oe){if(!Rr(I,Oe)&&(Z===je||o(Z,je,n,r,u)))return I.push(Oe)})){N=!1;break}}else if(Z!==se&&!o(Z,se,n,r,u)){N=!1;break}}return u.delete(t),u.delete(e),N},Ir=rt.a.Uint8Array,mi=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n},uo=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Vo=St?St.prototype:void 0,No=Vo?Vo.valueOf:void 0,Lr=function(t,e,n,r,o,u,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!u(new Ir(t),new Ir(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return qe(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=mi;case"[object Set]":var f=1&r;if(a||(a=uo),t.size!=e.size&&!f)return!1;var v=i.get(t);if(v)return v==e;r|=2,i.set(t,e);var _=Wt(a(t),a(e),r,o,u,i);return i.delete(t),_;case"[object Symbol]":if(No)return No.call(t)==No.call(e)}return!1},Ln=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},cn=Array.isArray,bi=function(t,e,n){var r=e(t);return cn(t)?r:Ln(r,n(t))},Qn=function(t,e){for(var n=-1,r=t==null?0:t.length,o=0,u=[];++n<r;){var i=t[n];e(i,n,t)&&(u[o++]=i)}return u},Wo=function(){return[]},zn=Object.prototype.propertyIsEnumerable,zr=Object.getOwnPropertySymbols,_i=zr?function(t){return t==null?[]:(t=Object(t),Qn(zr(t),function(e){return zn.call(t,e)}))}:Wo,On=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},dn=function(t){return t!=null&&typeof t=="object"},lr=function(t){return dn(t)&&Bt(t)=="[object Arguments]"},Ko=Object.prototype,Br=Ko.hasOwnProperty,vr=Ko.propertyIsEnumerable,Hr=lr(function(){return arguments}())?lr:function(t){return dn(t)&&Br.call(t,"callee")&&!vr.call(t,"callee")},Gr=s(48),Kn=/^(?:0|[1-9]\d*)$/,er=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Kn.test(t))&&t>-1&&t%1==0&&t<e},Pn=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},At={};At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At["[object Arguments]"]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At["[object Function]"]=At["[object Map]"]=At["[object Number]"]=At["[object Object]"]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;var fr=function(t){return dn(t)&&Pn(t.length)&&!!At[Bt(t)]},yn=function(t){return function(e){return t(e)}},gr=s(49),Ao=gr.a&&gr.a.isTypedArray,so=Ao?yn(Ao):fr,tr=Object.prototype.hasOwnProperty,To=function(t,e){var n=cn(t),r=!n&&Hr(t),o=!n&&!r&&Object(Gr.a)(t),u=!n&&!r&&!o&&so(t),i=n||r||o||u,a=i?On(t.length,String):[],f=a.length;for(var v in t)!e&&!tr.call(t,v)||i&&(v=="length"||o&&(v=="offset"||v=="parent")||u&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||er(v,f))||a.push(v);return a},Oi=Object.prototype,Mn=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Oi)},Zo=function(t,e){return function(n){return t(e(n))}},Xi=Zo(Object.keys,Object),wi=Object.prototype.hasOwnProperty,kn=function(t){if(!Mn(t))return Xi(t);var e=[];for(var n in Object(t))wi.call(t,n)&&n!="constructor"&&e.push(n);return e},Bn=function(t){return t!=null&&Pn(t.length)&&!Ho(t)},nr=function(t){return Bn(t)?To(t):kn(t)},tn=function(t){return bi(t,nr,_i)},co=Object.prototype.hasOwnProperty,Do=function(t,e,n,r,o,u){var i=1&n,a=tn(t),f=a.length;if(f!=tn(e).length&&!i)return!1;for(var v=f;v--;){var _=a[v];if(!(i?_ in e:co.call(e,_)))return!1}var P=u.get(t),N=u.get(e);if(P&&N)return P==e&&N==t;var I=!0;u.set(t,e),u.set(e,t);for(var Z=i;++v<f;){var se=t[_=a[v]],he=e[_];if(r)var je=i?r(he,se,_,e,t,u):r(se,he,_,t,e,u);if(!(je===void 0?se===he||o(se,he,n,r,u):je)){I=!1;break}Z||(Z=_=="constructor")}if(I&&!Z){var Oe=t.constructor,we=e.constructor;Oe==we||!("constructor"in t)||!("constructor"in e)||typeof Oe=="function"&&Oe instanceof Oe&&typeof we=="function"&&we instanceof we||(I=!1)}return u.delete(t),u.delete(e),I},lo=ar(rt.a,"DataView"),fo=ar(rt.a,"Promise"),po=ar(rt.a,"Set"),$o=ar(rt.a,"WeakMap"),on=qn(lo),Zn=qn(Nr),ho=qn(fo),xi=qn(po),qo=qn($o),Hn=Bt;(lo&&Hn(new lo(new ArrayBuffer(1)))!="[object DataView]"||Nr&&Hn(new Nr)!="[object Map]"||fo&&Hn(fo.resolve())!="[object Promise]"||po&&Hn(new po)!="[object Set]"||$o&&Hn(new $o)!="[object WeakMap]")&&(Hn=function(t){var e=Bt(t),n=e=="[object Object]"?t.constructor:void 0,r=n?qn(n):"";if(r)switch(r){case on:return"[object DataView]";case Zn:return"[object Map]";case ho:return"[object Promise]";case xi:return"[object Set]";case qo:return"[object WeakMap]"}return e});var yo=Hn,pr=Object.prototype.hasOwnProperty,Ei=function(t,e,n,r,o,u){var i=cn(t),a=cn(e),f=i?"[object Array]":yo(t),v=a?"[object Array]":yo(e),_=(f=f=="[object Arguments]"?"[object Object]":f)=="[object Object]",P=(v=v=="[object Arguments]"?"[object Object]":v)=="[object Object]",N=f==v;if(N&&Object(Gr.a)(t)){if(!Object(Gr.a)(e))return!1;i=!0,_=!1}if(N&&!_)return u||(u=new Jn),i||so(t)?Wt(t,e,n,r,o,u):Lr(t,e,f,n,r,o,u);if(!(1&n)){var I=_&&pr.call(t,"__wrapped__"),Z=P&&pr.call(e,"__wrapped__");if(I||Z){var se=I?t.value():t,he=Z?e.value():e;return u||(u=new Jn),o(se,he,n,r,u)}}return!!N&&(u||(u=new Jn),Do(t,e,n,r,o,u))},g=function t(e,n,r,o,u){return e===n||(e==null||n==null||!dn(e)&&!dn(n)?e!=e&&n!=n:Ei(e,n,r,o,t,u))},m=function(t,e,n,r){var o=n.length,u=o,i=!r;if(t==null)return!u;for(t=Object(t);o--;){var a=n[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){var f=(a=n[o])[0],v=t[f],_=a[1];if(i&&a[2]){if(v===void 0&&!(f in t))return!1}else{var P=new Jn;if(r)var N=r(v,_,f,t,e,P);if(!(N===void 0?g(_,v,3,r,P):N))return!1}}return!0},w=function(t){return t==t&&!Qt(t)},T=function(t){for(var e=nr(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,w(o)]}return e},C=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},K=function(t){var e=T(t);return e.length==1&&e[0][2]?C(e[0][0],e[0][1]):function(n){return n===t||m(n,t,e)}},ge=function(t){return typeof t=="symbol"||dn(t)&&Bt(t)=="[object Symbol]"},Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$e=/^\w*$/,_t=function(t,e){if(cn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!ge(t))||$e.test(t)||!Ce.test(t)||e!=null&&t in Object(e)};function Ot(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var i=t.apply(this,r);return n.cache=u.set(o,i)||u,i};return n.cache=new(Ot.Cache||Dr),n}Ot.Cache=Dr;var zt=Ot,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/\\(\\)?/g,Ut=function(t){var e=zt(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Rt,function(n,r,o,u){e.push(o?u.replace(Dt,"$1"):r||n)}),e}),Ht=St?St.prototype:void 0,It=Ht?Ht.toString:void 0,$n=function t(e){if(typeof e=="string")return e;if(cn(e))return Qe(e,t)+"";if(ge(e))return It?It.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ui=function(t){return t==null?"":$n(t)},vo=function(t,e){return cn(t)?t:_t(t,e)?[t]:Ut(Ui(t))},Fr=function(t){if(typeof t=="string"||ge(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},mr=function(t,e){for(var n=0,r=(e=vo(e,t)).length;t!=null&&n<r;)t=t[Fr(e[n++])];return n&&n==r?t:void 0},Si=function(t,e,n){var r=t==null?void 0:mr(t,e);return r===void 0?n:r},Nn=function(t,e){return t!=null&&e in Object(t)},Jo=function(t,e,n){for(var r=-1,o=(e=vo(e,t)).length,u=!1;++r<o;){var i=Fr(e[r]);if(!(u=t!=null&&n(t,i)))break;t=t[i]}return u||++r!=o?u:!!(o=t==null?0:t.length)&&Pn(o)&&er(i,o)&&(cn(t)||Hr(t))},Xr=function(t,e){return t!=null&&Jo(t,e,Nn)},tu=function(t,e){return _t(t)&&w(e)?C(Fr(t),e):function(n){var r=Si(n,t);return r===void 0&&r===e?Xr(n,t):g(e,r,3)}},ji=function(t){return t},ga=function(t){return function(e){return e==null?void 0:e[t]}},ma=function(t){return function(e){return mr(e,t)}},nu=function(t){return _t(t)?ga(Fr(t)):ma(t)},ru=function(t){return typeof t=="function"?t:t==null?ji:typeof t=="object"?cn(t)?tu(t[0],t[1]):K(t):nu(t)},ba=function(t){return function(e,n,r){for(var o=-1,u=Object(e),i=r(e),a=i.length;a--;){var f=i[t?a:++o];if(n(u[f],f,u)===!1)break}return e}}(),ou=function(t,e){return function(n,r){if(n==null)return n;if(!Bn(n))return t(n,r);for(var o=n.length,u=e?o:-1,i=Object(n);(e?u--:++u<o)&&r(i[u],u,i)!==!1;);return n}}(function(t,e){return t&&ba(t,e,nr)}),iu=function(t,e){var n=-1,r=Bn(t)?Array(t.length):[];return ou(t,function(o,u,i){r[++n]=e(o,u,i)}),r},Yi=function(t,e){return(cn(t)?Qe:iu)(t,ru(e,3))},Pi=function(){try{var t=ar(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),go=function(t,e,n){e=="__proto__"&&Pi?Pi(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},au=Object.prototype.hasOwnProperty,Ur=function(t,e,n){var r=t[e];au.call(t,e)&&qe(r,n)&&(n!==void 0||e in t)||go(t,e,n)},Yr=function(t,e,n,r){var o=!n;n||(n={});for(var u=-1,i=e.length;++u<i;){var a=e[u],f=r?r(n[a],t[a],a,n,t):void 0;f===void 0&&(f=t[a]),o?go(n,a,f):Ur(n,a,f)}return n},uu=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},p=Math.max,l=function(t,e,n){return e=p(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,u=p(r.length-e,0),i=Array(u);++o<u;)i[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(i),uu(t,this,a)}},c=function(t){return function(){return t}},d=Pi?function(t,e){return Pi(t,"toString",{configurable:!0,enumerable:!1,value:c(e),writable:!0})}:ji,y=Date.now,b=function(t){var e=0,n=0;return function(){var r=y(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(d),S=function(t,e){return b(l(t,e,ji),t+"")},A=function(t,e,n){if(!Qt(n))return!1;var r=typeof e;return!!(r=="number"?Bn(n)&&er(e,n.length):r=="string"&&e in n)&&qe(n[e],t)},B=function(t){return S(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(u=t.length>3&&typeof u=="function"?(o--,u):void 0,i&&A(n[0],n[1],i)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,u)}return e})},$=Object.prototype.hasOwnProperty,F=B(function(t,e){if(Mn(e)||Bn(e))Yr(e,nr(e),t);else for(var n in e)$.call(e,n)&&Ur(t,n,e[n])}),xe=function(t,e,n,r){if(!Qt(t))return t;for(var o=-1,u=(e=vo(e,t)).length,i=u-1,a=t;a!=null&&++o<u;){var f=Fr(e[o]),v=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(o!=i){var _=a[f];(v=r?r(_,f,a):void 0)===void 0&&(v=Qt(_)?_:er(e[o+1])?[]:{})}Ur(a,f,v),a=a[f]}return t},Ee=function(t,e,n){for(var r=-1,o=e.length,u={};++r<o;){var i=e[r],a=mr(t,i);n(a,i)&&xe(u,vo(i,t),a)}return u},Pe=function(t,e){return Ee(t,e,function(n,r){return Xr(t,r)})},Ie=St?St.isConcatSpreadable:void 0,ut=function(t){return cn(t)||Hr(t)||!!(Ie&&t&&t[Ie])},st=function t(e,n,r,o,u){var i=-1,a=e.length;for(r||(r=ut),u||(u=[]);++i<a;){var f=e[i];n>0&&r(f)?n>1?t(f,n-1,r,o,u):Ln(u,f):o||(u[u.length]=f)}return u},dt=function(t){return(t==null?0:t.length)?st(t,1):[]},Xe,Mt,Kt,en,An,Tn,vn,gn,an,un,mn,Dn,Ks,Zs,$s,qs,Js,Vi=function(t){return b(l(t,void 0,dt),t+"")}(function(t,e){return t==null?{}:Pe(t,e)});function Cn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ec(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Yt,tc,Ct,hn,wt,qt,ov={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},su=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],nc=(Mt=wn((Xe=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Cn(this,"isSilentMode",Mt,this),Cn(this,"stopZoomGraph",Kt,this),Cn(this,"stopScrollGraph",en,this),Cn(this,"stopMoveGraph",An,this),Cn(this,"adjustEdge",Tn,this),Cn(this,"adjustEdgeMiddle",vn,this),Cn(this,"adjustEdgeStartAndEnd",gn,this),Cn(this,"adjustNodePosition",an,this),Cn(this,"hideAnchors",un,this),Cn(this,"hoverOutline",mn,this),Cn(this,"nodeSelectedOutline",Dn,this),Cn(this,"edgeSelectedOutline",Ks,this),Cn(this,"nodeTextEdit",Zs,this),Cn(this,"edgeTextEdit",$s,this),Cn(this,"nodeTextDraggable",qs,this),Cn(this,"edgeTextDraggable",Js,this),ec(this,"multipleSelectKey",""),ec(this,"defaultConfig",{}),F(this,this.getConfigDetail(o))}var e,n,r;return e=t,(n=[{key:"updateEditConfig",value:function(o){var u=this.getConfigDetail(o);F(this,u)}},{key:"getConfigDetail",value:function(o){var u=o.isSilentMode,i=o.textEdit,a={};if(u===!1&&F(a,this.defaultConfig),u===!0){var f=Vi(ov,su);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},F(a,f)}i===!1&&F(a,{nodeTextEdit:!1,edgeTextEdit:!1});var v=Vi(o,su);return F(a,v)}},{key:"getConfig",value:function(){return Vi(this,su)}}])&&Qs(e.prototype,n),r&&Qs(e,r),t}()).prototype,"isSilentMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kt=wn(Xe.prototype,"stopZoomGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),en=wn(Xe.prototype,"stopScrollGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),An=wn(Xe.prototype,"stopMoveGraph",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tn=wn(Xe.prototype,"adjustEdge",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vn=wn(Xe.prototype,"adjustEdgeMiddle",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gn=wn(Xe.prototype,"adjustEdgeStartAndEnd",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),an=wn(Xe.prototype,"adjustNodePosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),un=wn(Xe.prototype,"hideAnchors",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mn=wn(Xe.prototype,"hoverOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dn=wn(Xe.prototype,"nodeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ks=wn(Xe.prototype,"edgeSelectedOutline",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zs=wn(Xe.prototype,"nodeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$s=wn(Xe.prototype,"edgeTextEdit",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qs=wn(Xe.prototype,"nodeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Js=wn(Xe.prototype,"edgeTextDraggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wn(Xe.prototype,"updateEditConfig",[h.k],Object.getOwnPropertyDescriptor(Xe.prototype,"updateEditConfig"),Xe.prototype),Xe);s(103),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Yt||(Yt={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(tc||(tc={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Ct||(Ct={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(hn||(hn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(wt||(wt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(qt||(qt={}));var rr,ln,rc,oc,ic,ac,uc,sc,cc;function _a(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return lc(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return lc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function br(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(rr||(rr={}));var iv=(rc=br((ln=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),cu(this,"MINI_SCALE_SIZE",.2),cu(this,"MAX_SCALE_SIZE",16),Qo(this,"SCALE_X",rc,this),Qo(this,"SKEW_Y",oc,this),Qo(this,"SKEW_X",ic,this),Qo(this,"SCALE_Y",ac,this),Qo(this,"TRANSLATE_X",uc,this),Qo(this,"TRANSLATE_Y",sc,this),Qo(this,"ZOOM_SIZE",cc,this),cu(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,(n=[{key:"setZoomMiniSize",value:function(o){this.MINI_SCALE_SIZE=o}},{key:"setZoomMaxSize",value:function(o){this.MAX_SCALE_SIZE=o}},{key:"HtmlPointToCanvasPoint",value:function(o){var u=_a(o,2),i=u[0],a=u[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(o){var u=_a(o,2),i=u[0],a=u[1];return[i*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(o,u,i){var a=_a(o,2),f=a[0],v=a[1];return[f+u/this.SCALE_X,v+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(o,u){return[o/this.SCALE_X,u/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var o=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(o,")")}}},{key:"zoom",value:function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0],u=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,a=this.SCALE_Y;return o===!0?(i+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):o===!1?(i-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof o=="number"&&(i=o,a=o),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(u&&(this.TRANSLATE_X-=(i-this.SCALE_X)*u[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*u[1]),this.SCALE_X=i,this.SCALE_Y=a,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(o){this.eventCenter.emit(wt.GRAPH_TRANSFORM,{type:o,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(o,u){this.TRANSLATE_X+=o,this.TRANSLATE_Y+=u,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(o,u,i,a){var f=_a(this.CanvasPointToHtmlPoint([o,u]),2),v=i/2-f[0],_=a/2-f[1];this.TRANSLATE_X+=v,this.TRANSLATE_Y+=_,this.emitGraphTransform("focusOn")}}])&&fc(e.prototype,n),r&&fc(e,r),t}()).prototype,"SCALE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),oc=br(ln.prototype,"SKEW_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ic=br(ln.prototype,"SKEW_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ac=br(ln.prototype,"SCALE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),uc=br(ln.prototype,"TRANSLATE_X",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sc=br(ln.prototype,"TRANSLATE_Y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cc=br(ln.prototype,"ZOOM_SIZE",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),br(ln.prototype,"zoom",[h.k],Object.getOwnPropertyDescriptor(ln.prototype,"zoom"),ln.prototype),br(ln.prototype,"resetZoom",[h.k],Object.getOwnPropertyDescriptor(ln.prototype,"resetZoom"),ln.prototype),br(ln.prototype,"translate",[h.k],Object.getOwnPropertyDescriptor(ln.prototype,"translate"),ln.prototype),br(ln.prototype,"focusOn",[h.k],Object.getOwnPropertyDescriptor(ln.prototype,"focusOn"),ln.prototype),ln),av=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},uv=function(t,e){return t&&Yr(e,nr(e),t)},sv=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},cv=Object.prototype.hasOwnProperty,lv=function(t){if(!Qt(t))return sv(t);var e=Mn(t),n=[];for(var r in t)(r!="constructor"||!e&&cv.call(t,r))&&n.push(r);return n},Wi=function(t){return Bn(t)?To(t,!0):lv(t)},fv=function(t,e){return t&&Yr(e,Wi(e),t)},pc=s(106),dc=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},pv=function(t,e){return Yr(t,_i(t),e)},lu=Zo(Object.getPrototypeOf,Object),hc=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Ln(e,_i(t)),t=lu(t);return e}:Wo,dv=function(t,e){return Yr(t,hc(t),e)},hv=function(t){return bi(t,Wi,hc)},yv=Object.prototype.hasOwnProperty,vv=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&yv.call(t,"index")&&(n.index=t.index,n.input=t.input),n},fu=function(t){var e=new t.constructor(t.byteLength);return new Ir(e).set(new Ir(t)),e},gv=function(t,e){var n=e?fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},mv=/\w*$/,bv=function(t){var e=new t.constructor(t.source,mv.exec(t));return e.lastIndex=t.lastIndex,e},yc=St?St.prototype:void 0,vc=yc?yc.valueOf:void 0,_v=function(t){return vc?Object(vc.call(t)):{}},gc=function(t,e){var n=e?fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Ov=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return fu(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return gv(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gc(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return bv(t);case"[object Set]":return new r;case"[object Symbol]":return _v(t)}},mc=Object.create,wv=function(){function t(){}return function(e){if(!Qt(e))return{};if(mc)return mc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),bc=function(t){return typeof t.constructor!="function"||Mn(t)?{}:wv(lu(t))},xv=function(t){return dn(t)&&yo(t)=="[object Map]"},_c=gr.a&&gr.a.isMap,Ev=_c?yn(_c):xv,Sv=function(t){return dn(t)&&yo(t)=="[object Set]"},Oc=gr.a&&gr.a.isSet,jv=Oc?yn(Oc):Sv,Zt={};Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object DataView]"]=Zt["[object Boolean]"]=Zt["[object Date]"]=Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object Symbol]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object WeakMap]"]=!1;var Pv=function t(e,n,r,o,u,i){var a,f=1&n,v=2&n,_=4&n;if(r&&(a=u?r(e,o,u,i):r(e)),a!==void 0)return a;if(!Qt(e))return e;var P=cn(e);if(P){if(a=vv(e),!f)return dc(e,a)}else{var N=yo(e),I=N=="[object Function]"||N=="[object GeneratorFunction]";if(Object(Gr.a)(e))return Object(pc.a)(e,f);if(N=="[object Object]"||N=="[object Arguments]"||I&&!u){if(a=v||I?{}:bc(e),!f)return v?dv(e,fv(a,e)):pv(e,uv(a,e))}else{if(!Zt[N])return u?e:{};a=Ov(e,N,f)}}i||(i=new Jn);var Z=i.get(e);if(Z)return Z;i.set(e,a),jv(e)?e.forEach(function(he){a.add(t(he,n,r,he,e,i))}):Ev(e)&&e.forEach(function(he,je){a.set(je,t(he,n,r,je,e,i))});var se=P?void 0:(_?v?hv:tn:v?Wi:nr)(e);return av(se||e,function(he,je){se&&(he=e[je=he]),Ur(a,je,t(he,n,r,je,e,i))}),a},rn=function(t){return Pv(t,5)},pu=function(t,e,n){(n!==void 0&&!qe(t[e],n)||n===void 0&&!(e in t))&&go(t,e,n)},Mv=function(t){return dn(t)&&Bn(t)},kv=Function.prototype,Nv=Object.prototype,wc=kv.toString,Av=Nv.hasOwnProperty,Tv=wc.call(Object),Dv=function(t){if(!dn(t)||Bt(t)!="[object Object]")return!1;var e=lu(t);if(e===null)return!0;var n=Av.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&wc.call(n)==Tv},du=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Cv=function(t){return Yr(t,Wi(t))},Rv=function(t,e,n,r,o,u,i){var a=du(t,n),f=du(e,n),v=i.get(f);if(v)pu(t,n,v);else{var _=u?u(a,f,n+"",t,e,i):void 0,P=_===void 0;if(P){var N=cn(f),I=!N&&Object(Gr.a)(f),Z=!N&&!I&&so(f);_=f,N||I||Z?cn(a)?_=a:Mv(a)?_=dc(a):I?(P=!1,_=Object(pc.a)(f,!0)):Z?(P=!1,_=gc(f,!0)):_=[]:Dv(f)||Hr(f)?(_=a,Hr(a)?_=Cv(a):Qt(a)&&!Ho(a)||(_=bc(f))):P=!1}P&&(i.set(f,_),o(_,f,r,u,i),i.delete(f)),pu(t,n,_)}},Iv=function t(e,n,r,o,u){e!==n&&ba(n,function(i,a){if(u||(u=new Jn),Qt(i))Rv(e,n,a,r,t,o,u);else{var f=o?o(du(e,a),i,a+"",e,n,u):void 0;f===void 0&&(f=i),pu(e,a,f)}},Wi)},xc=B(function(t,e,n){Iv(t,e,n)}),Lv={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},Ec=function(t){var e=rn(Lv);return t&&(e=xc(e,t)),e};s(77),s(194);function Sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zv=function(){function t(){var o,u,i;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(u="_events")in(o=this)?Object.defineProperty(o,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[u]=i}var e,n,r;return e=t,(n=[{key:"on",value:function(o,u,i){var a=this;return o==null||o.split(",").forEach(function(f){f=f.trim(),a._events[f]||(a._events[f]=[]),a._events[f].push({callback:u,once:!!i})}),this}},{key:"once",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){return a=a.trim(),i.on(a,u,!0)})}},{key:"emit",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){var f=i._events[a]||[],v=i._events["*"]||[],_=function(P){for(var N=P.length,I=0;I<N;I++)if(P[I]){var Z=P[I],se=Z.callback;Z.once&&(P.splice(I,1),P.length===0&&delete i._events[a],N--,I--),se.apply(i,[u])}};_(f),_(v)})}},{key:"off",value:function(o,u){var i=this;return o||(this._events={}),o.split(",").forEach(function(a){if(u){for(var f=i._events[a]||[],v=f.length,_=0;_<v;_++)f[_].callback===u&&(f.splice(_,1),v--,_--);f.length===0&&delete i._events[a]}else delete i._events[a]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Sc(e.prototype,n),r&&Sc(e,r),t}();function Mi(t,e){return e*Math.round(t/e)||t}function jc(t,e){return t%e}function hu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Pc(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Pc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yu,vu=function(t,e,n){var r=hu(t,2),o=r[0],u=r[1],i=hu(e,2),a=i[0],f=i[1],v=hu(n,2),_=v[0],P=v[1];return o>a&&o<_&&u>f&&u<P},Mc=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;default:n=!1}return n},Bv=(s(78),s(160),s(125),s(79),s(12),s(13),s(14),s(47),s(31),new Uint8Array(16));function Hv(){if(!yu&&!(yu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yu(Bv)}for(var Gv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Fv=function(t){return typeof t=="string"&&Gv.test(t)},xn=[],gu=0;gu<256;++gu)xn.push((gu+256).toString(16).substr(1));var Xv=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(xn[t[e+0]]+xn[t[e+1]]+xn[t[e+2]]+xn[t[e+3]]+"-"+xn[t[e+4]]+xn[t[e+5]]+"-"+xn[t[e+6]]+xn[t[e+7]]+"-"+xn[t[e+8]]+xn[t[e+9]]+"-"+xn[t[e+10]]+xn[t[e+11]]+xn[t[e+12]]+xn[t[e+13]]+xn[t[e+14]]+xn[t[e+15]]).toLowerCase();if(!Fv(n))throw TypeError("Stringified UUID is invalid");return n},mu=function(t,e,n){var r=(t=t||{}).random||(t.rng||Hv)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return Xv(r)},ei=function(){return mu()},Uv=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,o){return r[o.id]=e+mu(),o.id=r[o.id],r},{});return t.edges.forEach(function(r){r.id=e+mu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Ki=(s(104),s(203),function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0});function kc(t){return(kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Nc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nc(Object(n),!0).forEach(function(r){Yv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var He,Tc,Dc,Cc,Rc,Ic,Lc,zc,Bc,Hc,Gc,Fc,Xc,Uc,Yc,Vc,Wc,bu=function(t){return t.anchors},Oa=function(t,e){for(var n,r=e.nodes,o=r.length-1;o>=0;o--){var u=r[o];if(Kv(t,u)){var i=Wv(t,u);if(i){var a={node:u,anchorIndex:i.index,anchor:i.anchor};n&&!Vv(u,n.node,e)||(n=a)}}}return n},Vv=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Wv=function(t,e){for(var n,r=bu(e),o=Number.MAX_SAFE_INTEGER,u=0;u<r.length;u++){var i=Vr(t.x,t.y,r[u].x,r[u].y);i<o&&(o=i,n={index:u,anchor:Ac(Ac({},r[u]),{},{x:r[u].x,y:r[u].y,id:r[u].id})})}return n},Vr=function(t,e,n,r){return Math.hypot(t-n,e-r)},Co=function(t,e){var n=!1,r=or(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Kv=function(t,e){var n=!1,r=or(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},or=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},Kc=function(t,e,n){var r,o=function(i){var a=i,f=a.x,v=a.y,_=a.width,P=a.height,N=a.radius;return[{x:f-_/2+N,y:v-P/2+N,r:N},{x:f+_/2-N,y:v-P/2+N,r:N},{x:f-_/2+N,y:v+P/2-N,r:N},{x:f+_/2-N,y:v+P/2-N,r:N}]}(n),u=Number.MAX_SAFE_INTEGER;return o.forEach(function(i){var a=Vr(t.x,t.y,i.x,i.y);a<u&&(u=a,r=i)}),_u(t,e,r)},_u=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.r;if(e===qt.HORIZONTAL){var f=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)),v=u+Math.sqrt(a*a-(t.y-i)*(t.y-i));r={x:Math.abs(f-t.x)<Math.abs(v-t.x)?f:v,y:t.y}}else if(e===qt.VERTICAL){var _=i-Math.sqrt(a*a-(t.x-u)*(t.x-u)),P=i+Math.sqrt(a*a-(t.x-u)*(t.x-u)),N=Math.abs(_-t.y)<Math.abs(P-t.y)?_:P;r={x:t.x,y:N}}return r},Zc=function(t,e){var n=e,r=!1,o=n.x-n.width/2+n.radius,u=n.x+n.width/2-n.radius,i=n.y-n.height/2+n.radius,a=n.y+n.height/2-n.radius,f=n.x,v=n.y,_=n.width,P=n.height;return t.y===v+P/2||t.y===v-P/2?r=t.x>o&&t.x<u:t.x!==f+_/2&&t.x!==f-_/2||(r=t.y>i&&t.y<a),r},$c=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.rx,f=o.ry;if(e===qt.HORIZONTAL){var v=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f)),_=u+Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f));r={x:Math.abs(v-t.x)<Math.abs(_-t.x)?v:_,y:t.y}}else if(e===qt.VERTICAL){var P=i-Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),N=i+Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),I=Math.abs(P-t.y)<Math.abs(N-t.y)?P:N;r={x:t.x,y:I}}return r},qc=function(t,e,n){for(var r,o=n.pointsPosition,u=Number.MAX_SAFE_INTEGER,i=[],a=0;a<o.length;a++)i.push({start:o[a],end:o[(a+1)%o.length]});return i.forEach(function(f){var v=f.start,_=f.end,P=v,N=_;v.x>_.x&&(P=_,N=v);var I={x:t.x,y:t.y};if(P.x===N.x&&e===qt.HORIZONTAL&&(I={x:P.x,y:t.y}),P.y===N.y&&e===qt.VERTICAL&&(I={x:t.x,y:P.y}),P.x!==N.x&&P.y!==N.y){var Z=(N.y-P.y)/(N.x-P.x),se=(P.x*N.y-N.x*P.y)/(P.x-N.x);e===qt.HORIZONTAL?I={x:(t.y-se)/Z,y:t.y}:e===qt.VERTICAL&&(I={x:t.x,y:Z*t.x+se})}if(Ki(I,v,_)){var he=Vr(I.x,I.y,t.x,t.y);he<u&&(u=he,r=I)}}),r},Jc=function(t,e,n,r){var o=t.x,u=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?u=t.y+r/2:e.y<t.y&&(u=t.y-r/2),{x:o,y:u}},Qc=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,u=document.createElement("div");u.style.fontSize=n.fontSize,u.style.width=n.width,u.className=o,u.style.lineHeight=n.lineHeight,u.style.padding=n.padding,n.fontFamily&&(u.style.fontFamily=n.fontFamily),r>1?e.forEach(function(a){var f=document.createElement("div");f.textContent=a,u.appendChild(f)}):u.textContent=e,document.body.appendChild(u);var i=u.clientHeight;return document.body.removeChild(u),i},Ou=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach(function(u){var i=Nl(u);o=i>o?i:o}),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},wa=function(t){return kc(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},el={node:!1,edge:!1},Zv={node:!0,edge:!0},$v={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Wr=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},qv=1e3,Jv=999,wu=function(){return++qv};function tl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tl(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var xu=(Tc=Nt((He=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),_r(this,"id",ei()),Rn(this,"type",Tc,this),Rn(this,"sourceNodeId",Dc,this),Rn(this,"targetNodeId",Cc,this),Rn(this,"startPoint",Rc,this),Rn(this,"endPoint",Ic,this),Rn(this,"text",Lc,this),Rn(this,"properties",zc,this),Rn(this,"points",Bc,this),Rn(this,"pointsList",Hc,this),Rn(this,"isSelected",Gc,this),Rn(this,"isHovered",Fc,this),Rn(this,"isHitable",Xc,this),Rn(this,"draggable",Uc,this),Rn(this,"visible",Yc,this),_r(this,"graphModel",void 0),Rn(this,"zIndex",Vc,this),_r(this,"BaseType",hn.EDGE),_r(this,"modelType",Ct.EDGE),Rn(this,"state",Wc,this),_r(this,"additionStateData",void 0),_r(this,"sourceAnchorId",""),_r(this,"targetAnchorId",""),_r(this,"menu",void 0),_r(this,"customTextPosition",!1),_r(this,"animationData",$v),this.graphModel=u,this.initEdgeData(o),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(o)}var e,n,r;return e=t,(n=[{key:"initEdgeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}F(this,hg(o)),this.graphModel.overlapMode===rr.INCREASE&&(this.zIndex=o.zIndex||wu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.baseEdge;return rn(o)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.edgeText;return rn(o)}},{key:"getAnimation",value:function(){var o=this.animationData;return rn(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return rn(o)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.sourceNodeId])===null||u===void 0?void 0:u.model}},{key:"targetNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.targetNodeId])===null||u===void 0?void 0:u.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(o,u){var i,a;return bu(o).forEach(function(f){var v=Dl(f,u);a?v<a&&(a=v,i=f):(a=v,i=f)}),i}},{key:"getEndAnchor",value:function(o){var u,i,a=this;return bu(o).forEach(function(f){var v=Dl(f,a.startPoint);i?v<i&&(i=v,u=f):(i=v,u=f)}),u}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(h.I)(this.properties)};return a&&(f.text={x:u,y:i,value:a}),this.graphModel.overlapMode===rr.INCREASE&&(f.zIndex=this.zIndex),f}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(o,u){this.properties[o]=Wr(u),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=xa(xa({},this.properties),Wr(o)),this.setAttributes()}},{key:"formatText",value:function(o){var u=this.textPosition,i=u.x,a=u.y;o.text&&typeof o.text!="string"?Object.prototype.toString.call(o.text)==="[object Object]"&&(this.text={x:o.text.x||i,y:o.text.y||a,value:o.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:o.text||"",x:i,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var o=this.textPosition,u=o.x,i=o.y;this.text.x=u,this.text.y=i}},{key:"moveText",value:function(o,u){if(this.text){var i=this.text,a=i.x,f=i.y,v=i.value,_=i.draggable,P=i.editable;this.text={value:v,draggable:_,x:a+o,y:f+u,editable:P}}}},{key:"setText",value:function(o){o&&F(this.text,o)}},{key:"updateText",value:function(o){this.text=xa(xa({},this.text),{},{value:o})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var o=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:o.x,y:o.y}),this.sourceAnchorId||(this.sourceAnchorId=o.id)}if(!this.targetAnchorId||!this.endPoint){var u=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:u.x,y:u.y}),this.targetAnchorId||(this.targetAnchorId=u.id)}}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"updateStartPoint",value:function(o){this.startPoint=o}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u}},{key:"updateEndPoint",value:function(o){this.endPoint=o}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=o}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(o){F(this,o)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,i=o.endPoint;this.updateStartPoint({x:u.x,y:u.y}),this.updateEndPoint({x:i.x,y:i.y})}}])&&nl(e.prototype,n),r&&nl(e,r),t}()).prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dc=Nt(He.prototype,"sourceNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Cc=Nt(He.prototype,"targetNodeId",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rc=Nt(He.prototype,"startPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ic=Nt(He.prototype,"endPoint",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lc=Nt(He.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),zc=Nt(He.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Bc=Nt(He.prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hc=Nt(He.prototype,"pointsList",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gc=Nt(He.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fc=Nt(He.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xc=Nt(He.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Uc=Nt(He.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yc=Nt(He.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vc=Nt(He.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wc=Nt(He.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Nt(He.prototype,"sourceNode",[h.m],Object.getOwnPropertyDescriptor(He.prototype,"sourceNode"),He.prototype),Nt(He.prototype,"targetNode",[h.m],Object.getOwnPropertyDescriptor(He.prototype,"targetNode"),He.prototype),Nt(He.prototype,"textPosition",[h.m],Object.getOwnPropertyDescriptor(He.prototype,"textPosition"),He.prototype),Nt(He.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperty"),He.prototype),Nt(He.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setProperties"),He.prototype),Nt(He.prototype,"formatText",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"formatText"),He.prototype),Nt(He.prototype,"resetTextPosition",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"resetTextPosition"),He.prototype),Nt(He.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"moveText"),He.prototype),Nt(He.prototype,"setText",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setText"),He.prototype),Nt(He.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"updateText"),He.prototype),Nt(He.prototype,"setAnchors",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setAnchors"),He.prototype),Nt(He.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setSelected"),He.prototype),Nt(He.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setHovered"),He.prototype),Nt(He.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setHitable"),He.prototype),Nt(He.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setElementState"),He.prototype),Nt(He.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"updateStartPoint"),He.prototype),Nt(He.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"moveStartPoint"),He.prototype),Nt(He.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"updateEndPoint"),He.prototype),Nt(He.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"moveEndPoint"),He.prototype),Nt(He.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"setZIndex"),He.prototype),Nt(He.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"initPoints"),He.prototype),Nt(He.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"updateAttributes"),He.prototype),Nt(He.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"getAdjustStart"),He.prototype),Nt(He.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"getAdjustEnd"),He.prototype),Nt(He.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(He.prototype,"updateAfterAdjustStartAndEnd"),He.prototype),He),Eu=xu;function rl(t){return(rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ol(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ol(Object(n),!0).forEach(function(r){ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function al(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ul(){return(ul=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=eg(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function eg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Zi(t))!==null;);return t}function sl(t,e){return(sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function tg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Zi(t);if(e){var o=Zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ng(this,n)}}function ng(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cl(t)}function cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zi(t){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ll(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jt,fl,Su=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&sl(i,a)})(u,t);var e,n,r,o=tg(u);function u(){var i;Qv(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return ll(cl(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.LINE_EDGE),i}return e=u,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return il(il({},ul(Zi(u.prototype),"getEdgeStyle",this).call(this)),rn(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&al(e.prototype,n),r&&al(e,r),u}(Eu);function pl(t){return(pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return dl(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return dl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hl(Object(n),!0).forEach(function(r){ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function og(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ig(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ea(){return(Ea=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=ag(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ag(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ti(t))!==null;);return t}function gl(t,e){return(gl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ug(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ti(t);if(e){var o=ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sg(this,n)}}function sg(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $i(t)}function $i(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ju(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Pu=(fl=Gn((jt=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&gl(i,a)})(u,t);var e,n,r,o=ug(u);function u(){var i;ig(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return ju($i(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.POLYLINE_EDGE),ju($i(i),"draginngPointList",void 0),og($i(i),"dbClickPosition",fl,$i(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Ea(ti(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return yl(yl({},Ea(ti(u.prototype),"getEdgeStyle",this).call(this)),rn(i))}},{key:"getTextPosition",value:function(){var i,a=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!a){var f=this.dbClickPosition;return{x:f.x,y:f.y}}var v=ki(this.points),_=rg(pg(v),2),P=_[0],N=_[1];return{x:(P.x+N.x)/2,y:(P.y+N.y)/2}}},{key:"getAfterAnchor",value:function(i,a,f){var v,_;return f.forEach(function(P){var N;i===qt.HORIZONTAL?N=Math.abs(a.y-P.y):i===qt.VERTICAL&&(N=Math.abs(a.x-P.x)),(!_||_>N)&&(_=N,v=P)}),v}},{key:"getCorssPoint",value:function(i,a,f){var v;return i===qt.HORIZONTAL?v={x:f.x,y:a.y}:i===qt.VERTICAL&&(v={x:a.x,y:f.y}),v}},{key:"removeCrossPoints",value:function(i,a,f){var v=f.map(function(Oe){return Oe});if(i===1){var _=v[i],P=v[a],N=v[i-1];if(jl(N,_,this.sourceNode)){if(Pl(_,P,this.sourceNode)){var I=Ml(_,P,this.sourceNode);I&&(v[i]=I,v.splice(i-1,1),i--,a--)}}else this.sourceNode.anchors.forEach(function(Oe){(Oe.x===N.x&&Oe.x===_.x||Oe.y===N.y&&Oe.y===_.y)&&Vr(Oe.x,Oe.y,_.x,_.y)<Vr(N.x,N.y,_.x,_.y)&&(v[i-1]=Oe)})}if(a===f.length-2){var Z=v[i],se=v[a],he=v[a+1];if(jl(se,he,this.targetNode)){if(Pl(Z,se,this.targetNode)){var je=Ml(Z,se,this.targetNode);je&&(v[a]=je,v.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(Oe){(Oe.x===he.x&&Oe.x===se.x||Oe.y===he.y&&Oe.y===se.y)&&Vr(Oe.x,Oe.y,se.x,se.y)<Vr(he.x,he.y,se.x,se.y)&&(v[a+1]=Oe)})}return v}},{key:"getDragingPoints",value:function(i,a,f,v,_){var P=_.map(function(Z){return Z}),N=this.getAfterAnchor(i,f,v),I=this.getCorssPoint(i,f,N);return a==="start"?(P.unshift(I),P.unshift(N)):(P.push(I),P.push(N)),P}},{key:"updateCrossPoints",value:function(i){var a=i.map(function(Le){return Le}),f=i[0],v=i[1],_=i[a.length-2],P=i[a.length-1],N=this.sourceNode,I=this.targetNode,Z=N.modelType,se=I.modelType,he=Na(f,v),je=a[0];switch(Z){case Ct.RECT_NODE:N.radius!==0&&(Zc(f,N)||(je=Kc(f,he,N)));break;case Ct.CIRCLE_NODE:je=_u(f,he,N);break;case Ct.ELLIPSE_NODE:je=$c(f,he,N);break;case Ct.DIAMOND_NODE:case Ct.POLYGON_NODE:je=qc(f,he,N)}a[0]=je;var Oe=Na(_,P),we=a[a.length-1];switch(se){case Ct.RECT_NODE:I.radius!==0&&(Zc(P,I)||(we=Kc(P,Oe,I)));break;case Ct.CIRCLE_NODE:we=_u(P,Oe,I);break;case Ct.ELLIPSE_NODE:we=$c(P,Oe,I);break;case Ct.DIAMOND_NODE:case Ct.POLYGON_NODE:we=qc(P,Oe,I)}return a[a.length-1]=we,a}},{key:"getData",value:function(){var i=Ea(ti(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return Object.assign({},i,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Sl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,a){this.isDragging=!0;var f=i.start,v=i.end,_=i.startIndex,P=i.endIndex,N=i.direction,I=this.pointsList,Z=I;return N===qt.HORIZONTAL?(I[_]={x:f.x,y:f.y+a.y},I[P]={x:v.x,y:v.y+a.y},Z=this.pointsList.map(function(se){return se})):N===qt.VERTICAL&&(I[_]={x:f.x+a.x,y:f.y},I[P]={x:v.x+a.x,y:v.y},Z=this.pointsList.map(function(se){return se})),this.updatePointsAfterDrage(Z),this.draginngPointList=Z,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[_]),end:Object.assign({},I[P]),startIndex:_,endIndex:P,direction:N}}},{key:"dragAppend",value:function(i,a){this.isDragging=!0;var f=i.start,v=i.end,_=i.startIndex,P=i.endIndex,N=i.direction,I=this.pointsList;if(N===qt.HORIZONTAL){I[_]={x:f.x,y:f.y+a.y},I[P]={x:v.x,y:v.y+a.y};var Z=this.pointsList.map(function(ht){return ht});if(_!==0&&P!==this.pointsList.length-1&&(Z=this.removeCrossPoints(_,P,Z)),_===0){var se={x:f.x,y:f.y+a.y};if(!Co(se,this.sourceNode)){var he=this.sourceNode.anchors;Z=this.getDragingPoints(N,"start",se,he,Z)}}if(P===this.pointsList.length-1){var je={x:v.x,y:v.y+a.y};if(!Co(je,this.targetNode)){var Oe=this.targetNode.anchors;Z=this.getDragingPoints(N,"end",je,Oe,Z)}}Z=Tu(Z),this.updatePointsAfterDrage(Z),this.draginngPointList=Z}else if(N===qt.VERTICAL){I[_]={x:f.x+a.x,y:f.y},I[P]={x:v.x+a.x,y:v.y};var we=this.pointsList.map(function(ht){return ht});if(_!==0&&P!==this.pointsList.length-1&&(we=this.removeCrossPoints(_,P,we)),_===0){var Le={x:f.x+a.x,y:f.y};if(!Co(Le,this.sourceNode)){var Ke=this.sourceNode.anchors;we=this.getDragingPoints(N,"start",Le,Ke,we)}}if(P===this.pointsList.length-1){var Fe={x:v.x+a.x,y:v.y};if(!Co(Fe,this.targetNode)){var Je=this.targetNode.anchors;we=this.getDragingPoints(N,"end",Fe,Je,we)}}we=Tu(we),this.updatePointsAfterDrage(we),this.draginngPointList=we}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[_]),end:Object.assign({},I[P]),startIndex:_,endIndex:P,direction:N}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var i=ki(this.points);this.pointsList=i.map(function(v){return v}),this.draginngPointList=[];var a=i[0];this.startPoint=Object.assign({},a);var f=i[i.length-1];this.endPoint=Object.assign({},f)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(i){var a=this.updateCrossPoints(i);this.points=a.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,v=i.sourceNode,_=i.targetNode,P=Sl({x:a.x,y:a.y},{x:f.x,y:f.y},v,_,this.offset||0);this.pointsList=P,this.initPoints()}}])&&vl(e.prototype,n),r&&vl(e,r),u}(Eu)).prototype,"dbClickPosition",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gn(jt.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"initPoints"),jt.prototype),Gn(jt.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"updatePoints"),jt.prototype),Gn(jt.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateStartPoint"),jt.prototype),Gn(jt.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"moveStartPoint"),jt.prototype),Gn(jt.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateEndPoint"),jt.prototype),Gn(jt.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"moveEndPoint"),jt.prototype),Gn(jt.prototype,"dragAppendStart",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"dragAppendStart"),jt.prototype),Gn(jt.prototype,"dragAppendSimple",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"dragAppendSimple"),jt.prototype),Gn(jt.prototype,"dragAppend",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"dragAppend"),jt.prototype),Gn(jt.prototype,"dragAppendEnd",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"dragAppendEnd"),jt.prototype),Gn(jt.prototype,"updatePointsAfterDrage",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"updatePointsAfterDrage"),jt.prototype),Gn(jt.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"getAdjustStart"),jt.prototype),Gn(jt.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"getAdjustEnd"),jt.prototype),Gn(jt.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateAfterAdjustStartAndEnd"),jt.prototype),jt),qi=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,u=t.type,i={leftX:0,leftY:0,rightX:0,rightY:0},a=Math.atan((n.y-e.y)/(n.x-e.x)),f=Math.atan(r/o),v=Math.sqrt(o*o+r*r);return u==="start"?n.x>=e.x?(i.leftX=e.x+v*Math.sin(a+f),i.leftY=e.y-v*Math.cos(a+f),i.rightX=e.x-v*Math.sin(a-f),i.rightY=e.y+v*Math.cos(a-f)):(i.leftX=e.x-v*Math.sin(a+f),i.leftY=e.y+v*Math.cos(a+f),i.rightX=e.x+v*Math.sin(a-f),i.rightY=e.y-v*Math.cos(a-f)):u==="end"&&(n.x>=e.x?(i.leftX=n.x+v*Math.sin(a-f),i.leftY=n.y-v*Math.cos(a-f),i.rightX=n.x-v*Math.sin(a+f),i.rightY=n.y+v*Math.cos(a+f)):(i.leftX=n.x-v*Math.sin(a-f),i.leftY=n.y+v*Math.cos(a-f),i.rightX=n.x+v*Math.sin(a+f),i.rightY=n.y-v*Math.cos(a+f))),i};function ml(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ml(Object(n),!0).forEach(function(r){cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lg(t){return function(e){if(Array.isArray(e))return ku(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||_l(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bl(t){return(bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||_l(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _l(t,e){if(t){if(typeof t=="string")return ku(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ku(t,e):void 0}}function ku(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Nu=function(t){var e=[],n={};return t.forEach(function(r){var o="".concat(r.x,"-").concat(r.y);r.id=o,n[o]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},ja=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Pa=function(t,e){return function(n,r){var o=Math.abs(n.x-r.centerX),u=Math.abs(n.y-r.centerY);return o/r.width>u/r.height?qt.HORIZONTAL:qt.VERTICAL}(e,t)===qt.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Ol=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),u=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+u)/2,minX:n,minY:r,maxX:o,maxY:u,height:u-r,width:o-n}},Ji=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(_){n.push(_.x),r.push(_.y)});var o=Math.min.apply(Math,n),u=Math.max.apply(Math,n),i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),f=u-o,v=a-i;return e&&(f+=e,v+=e),{centerX:(o+u)/2,centerY:(i+a)/2,maxX:u,maxY:a,minX:o,minY:i,x:(o+u)/2,y:(i+a)/2,height:v,width:f}},Ma=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},ka=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Au=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},wl=function(t,e,n,r,o){return Au(t,e)+Au(t,n)+function(u,i){var a=0;return i.forEach(function(f){f&&(u.x===f.x&&(a+=-2),u.y===f.y&&(a+=-2))}),a}(t,[e,n,r,o])},Qi=function(t,e,n,r){var o=e.x-t.x,u=e.y-t.y,i=r.x-n.x,a=r.y-n.y,f=(-u*(t.x-n.x)+o*(t.y-n.y))/(-i*u+o*a),v=(i*(t.y-n.y)-a*(t.x-n.x))/(-i*u+o*a);return f>=0&&f<=1&&v>=0&&v<=1},xl=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Mu(Ma(n),4),o=r[0],u=r[1],i=r[2],a=r[3];return Qi(t,e,o,u)||Qi(t,e,o,a)||Qi(t,e,u,i)||Qi(t,e,i,a)},fg=function(t,e,n,r,o,u,i){var a=[],f=[e],v={},_={},P={};_[e.id]=0,P[e.id]=wl(e,n,e);var N={};t.forEach(function(se){N[se.id]=se});for(var I=function(){var se,he,je,Oe=void 0,we=1/0;if(f.forEach(function(Ke){P[Ke.id]<we&&(we=P[Ke.id],Oe=Ke)}),Oe===n){var Le=[];return function Ke(Fe,Je,ht,xt,kt){kt||(kt=0),Fe.unshift(Je[xt]),ht[xt]&&ht[xt]!==xt&&kt<=100&&Ke(Fe,Je,ht,ht[xt],kt+1)}(Le,N,v,n.id),{v:Le}}he=Oe,(je=(se=f).indexOf(he))>-1&&se.splice(je,1),a.push(Oe),function(Ke,Fe,Je,ht){var xt=[];return Ke.forEach(function(kt){kt!==Fe&&(kt.x!==Fe.x&&kt.y!==Fe.y||xl(kt,Fe,Je)||xl(kt,Fe,ht)||xt.push(kt))}),Nu(xt)}(t,Oe,r,o).forEach(function(Ke){if(a.indexOf(Ke)===-1){f.indexOf(Ke)===-1&&f.push(Ke);var Fe=P[Oe.id]+Au(Oe,Ke);_[Ke.id]&&Fe>=_[Ke.id]||(v[Ke.id]=Oe.id,_[Ke.id]=Fe,P[Ke.id]=_[Ke.id]+wl(Ke,n,e,u,i))}})};f.length;){var Z=I();if(bl(Z)==="object")return Z.v}return[e,n]},El=function(t){return or(t)},Tu=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],o=e[n],u=e[n+1];r.x===o.x&&o.x===u.x||r.y===o.y&&o.y===u.y?e.splice(n,1):n++}return e},Sl=function(t,e,n,r,o){var u,i,a=El(n),f=El(r),v=ja(a,o),_=ja(f,o),P=Pa(v,t),N=Pa(_,e);if(u=v,i=_,2*Math.abs(u.centerX-i.centerX)<u.width+i.width&&2*Math.abs(u.centerY-i.centerY)<u.height+i.height){var I=dg(t,e,P,N);return[t,P].concat(lg(I),[N,e])}var Z=Ji([P,N]),se=Ol(v,Z),he=Ol(_,Z),je=[];je=(je=je.concat(Ma(se))).concat(Ma(he));var Oe={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[Z,se,he].forEach(function(Le){je=je.concat(function(Ke,Fe){return function(Je,ht){return ht<Je.minX||ht>Je.maxX?[]:[{x:ht,y:Je.minY},{x:ht,y:Je.maxY}]}(Ke,Fe.x).concat(function(Je,ht){return ht<Je.minY||ht>Je.maxY?[]:[{x:Je.minX,y:ht},{x:Je.maxX,y:ht}]}(Ke,Fe.y))}(Le,Oe).filter(function(Ke){return ka(Ke,v)&&ka(Ke,_)}))}),[{x:P.x,y:N.y},{x:N.x,y:P.y}].forEach(function(Le){ka(Le,v)&&ka(Le,_)&&je.push(Le)}),je.unshift(P),je.push(N),je=Nu(je);var we=fg(je,P,N,a,f,t,e);return we.unshift(t),we.push(e),we.length>2&&(we=Tu(we)),Nu(we)},pg=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Vr(n.x,n.y,r.x,r.y),u=1;u<t.length-1;u++){var i=t[u],a=t[u+1],f=Vr(i.x,i.y,a.x,a.y);f>o&&(o=f,n=i,r=a)}e=[n,r]}return e},jl=function(t,e,n){var r=Co(t,n),o=Co(e,n);return r&&o},Pl=function(t,e,n){var r=Co(t,n),o=Co(e,n);return!(r&&o)&&(r||o)},Ml=function(t,e,n){for(var r,o,u=or(n),i=Ma(u),a=0;a<i.length;a++)Qi(t,e,i[a],i[(a+1)%i.length])&&(o=[i[a],i[(a+1)%i.length]]);return o&&(r=function(f,v,_,P){var N=(v.y-f.y)*(P.x-_.x)-(f.x-v.x)*(_.y-P.y);if(N===0)return!1;var I=((v.x-f.x)*(P.x-_.x)*(_.y-f.y)+(v.y-f.y)*(P.x-_.x)*f.x-(P.y-_.y)*(v.x-f.x)*_.x)/N,Z=-((v.y-f.y)*(P.y-_.y)*(_.x-f.x)+(v.x-f.x)*(P.y-_.y)*f.y-(P.x-_.x)*(v.y-f.y)*_.y)/N;return(I-f.x)*(I-v.x)<=0&&(Z-f.y)*(Z-v.y)<=0&&(I-_.x)*(I-P.x)<=0&&(Z-_.y)*(Z-P.y)<=0&&{x:I,y:Z}}(t,e,o[0],o[1])),r},Na=function(t,e){var n;return t.x===e.x?n=qt.VERTICAL:t.y===e.y&&(n=qt.HORIZONTAL),n},ki=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var o=Mu(r.split(","),2),u=o[0],i=o[1];n.push({x:Number(u),y:Number(i)})}),n},dg=function(t,e,n,r){var o=[];if(Na(t,n)===Na(e,r))t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var u={x:n.x,y:r.y},i=Ki(u,t,n),a=Ki(u,e,r);if(i||a)u={x:r.x,y:n.y};else{var f=kl(u,t,n),v=kl(u,e,r);f&&v&&(u={x:r.x,y:n.y})}o.push(u)}return o},kl=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Nl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Al=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,u=t.offset,i=or(r),a=or(o),f=ja(i,u),v=ja(a,u);return{sNext:Pa(f,e),ePre:Pa(v,n)}},Aa=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ta(e[0]),Ta(e[1]),Ta(e[2]),Ta(e[3])]},Ta=function(t){var e=Mu(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Tl=function(t,e){for(var n,r=t.x,o=t.y,u=ki(e),i=Number.MAX_SAFE_INTEGER,a=[],f=0;f<u.length;f++)a.push({start:u[f],end:u[(f+1)%u.length]});if(a.forEach(function(N){var I=N.start,Z=N.end;if(I.x===Z.x){var se={x:I.x,y:o};if(Ki(se,I,Z)){var he=Math.abs(I.x-r);he<i&&(i=he,n=se)}}else if(I.y===Z.y){var je={x:r,y:I.y};if(Ki(je,I,Z)){var Oe=Math.abs(I.y-o);Oe<i&&(i=Oe,n=je)}}}),!n){var v=a[0],_=v.start,P=v.end;n={x:_.x+(P.x-_.x)/2,y:_.y+(P.y-_.y)/2}}return n},hg=function(t){return Vi(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Dl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};s(204);var Ni=function(){};function Cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kr=window.document;function Du(t){var e=t.onDragStart,n=e===void 0?Ni:e,r=t.onDraging,o=r===void 0?Ni:r,u=t.onDragEnd,i=u===void 0?Ni:u,a=t.step,f=a===void 0?1:a,v=t.isStopPropagation,_=v===void 0||v,P=!1,N=!1,I=0,Z=0,se=0,he=0;function je(we){if(_&&we.stopPropagation(),N&&(P=!0,se+=we.clientX-I,he+=we.clientY-Z,I=we.clientX,Z=we.clientY,Math.abs(se)>f||Math.abs(he)>f)){var Le=se%f,Ke=he%f,Fe=se-Le,Je=he-Ke;se=Le,he=Ke,o({deltaX:Fe,deltaY:Je,event:we})}}function Oe(we){if(_&&we.stopPropagation(),N=!1,Kr.removeEventListener("mousemove",je,!1),Kr.removeEventListener("mouseup",Oe,!1),P)return P=!1,i({event:we})}return function(we){if(we.button===0)return _&&we.stopPropagation(),N=!0,I=we.clientX,Z=we.clientY,Kr.addEventListener("mousemove",je,!1),Kr.addEventListener("mouseup",Oe,!1),n({event:we})}}var Me,Rl,Il,Ll,zl,Bl,Hl,Gl,Fl,Xl,Ul,Yl,Vl,ni=function(){function t(o){var u=this,i=o.onDragStart,a=i===void 0?Ni:i,f=o.onDraging,v=f===void 0?Ni:f,_=o.onDragEnd,P=_===void 0?Ni:_,N=o.eventType,I=N===void 0?"":N,Z=o.eventCenter,se=Z===void 0?null:Z,he=o.step,je=he===void 0?1:he,Oe=o.isStopPropagation,we=Oe===void 0||Oe,Le=o.model,Ke=Le===void 0?null:Le;(function(Fe,Je){if(!(Fe instanceof Je))throw new TypeError("Cannot call a class as a function")})(this,t),fn(this,"onDragStart",void 0),fn(this,"onDraging",void 0),fn(this,"onDragEnd",void 0),fn(this,"step",void 0),fn(this,"isStopPropagation",void 0),fn(this,"isDraging",!1),fn(this,"isStartDraging",!1),fn(this,"startX",0),fn(this,"startY",0),fn(this,"sumDeltaX",0),fn(this,"sumDeltaY",0),fn(this,"eventType",void 0),fn(this,"eventCenter",void 0),fn(this,"model",void 0),fn(this,"startTime",void 0),fn(this,"isGrag",void 0),fn(this,"handleMouseDown",function(Fe){var Je,ht;if(Fe.button===0){u.isStopPropagation&&Fe.stopPropagation(),u.isStartDraging=!0,u.startX=Fe.clientX,u.startY=Fe.clientY,Kr.addEventListener("mousemove",u.handleMouseMove,!1),Kr.addEventListener("mouseup",u.handleMouseUp,!1);var xt=(Je=u.model)===null||Je===void 0?void 0:Je.getData();(ht=u.eventCenter)===null||ht===void 0||ht.emit(wt["".concat(u.eventType,"_MOUSEDOWN")],{e:Fe,data:xt}),u.startTime=new Date().getTime()}}),fn(this,"handleMouseMove",function(Fe){if(u.isStopPropagation&&Fe.stopPropagation(),u.isStartDraging&&(u.sumDeltaX+=Fe.clientX-u.startX,u.sumDeltaY+=Fe.clientY-u.startY,u.startX=Fe.clientX,u.startY=Fe.clientY,u.step<=1||Math.abs(u.sumDeltaX)>u.step||Math.abs(u.sumDeltaY)>u.step)){var Je,ht=u.sumDeltaX%u.step,xt=u.sumDeltaY%u.step,kt=u.sumDeltaX-ht,$t=u.sumDeltaY-xt;u.sumDeltaX=ht,u.sumDeltaY=xt;var pn,Sn=(Je=u.model)===null||Je===void 0?void 0:Je.getData();u.isDraging||((pn=u.eventCenter)===null||pn===void 0||pn.emit(wt["".concat(u.eventType,"_DRAGSTART")],{e:Fe,data:Sn}),u.onDragStart({event:Fe})),u.isDraging=!0,Promise.resolve().then(function(){var Un,jn;u.onDraging({deltaX:kt,deltaY:$t,event:Fe}),(Un=u.eventCenter)===null||Un===void 0||Un.emit(wt["".concat(u.eventType,"_MOUSEMOVE")],{e:Fe,data:Sn}),(jn=u.eventCenter)===null||jn===void 0||jn.emit(wt["".concat(u.eventType,"_DRAG")],{e:Fe,data:Sn})})}}),fn(this,"handleMouseUp",function(Fe){u.isStartDraging=!1,u.isStopPropagation&&Fe.stopPropagation(),Promise.resolve().then(function(){var Je,ht,xt;Kr.removeEventListener("mousemove",u.handleMouseMove,!1),Kr.removeEventListener("mouseup",u.handleMouseUp,!1);var kt=(Je=u.model)===null||Je===void 0?void 0:Je.getData();(ht=u.eventCenter)===null||ht===void 0||ht.emit(wt["".concat(u.eventType,"_MOUSEUP")],{e:Fe,data:kt}),u.isDraging&&(u.isDraging=!1,u.onDragEnd({event:Fe}),(xt=u.eventCenter)===null||xt===void 0||xt.emit(wt["".concat(u.eventType,"_DROP")],{e:Fe,data:kt}))})}),fn(this,"cancelDrag",function(){Kr.removeEventListener("mousemove",u.handleMouseMove,!1),Kr.removeEventListener("mouseup",u.handleMouseUp,!1),u.isDraging=!1}),this.onDragStart=a,this.onDraging=v,this.onDragEnd=P,this.step=je,this.isStopPropagation=we,this.eventType=I,this.eventCenter=se,this.model=Ke}var e,n,r;return e=t,(n=[{key:"setStep",value:function(o){this.step=o}}])&&Cl(e.prototype,n),r&&Cl(e,r),t}();function Wl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wl(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||Zl(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ai(t){return function(e){if(Array.isArray(e))return Cu(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Zl(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zl(t,e){if(t){if(typeof t=="string")return Cu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cu(t,e):void 0}}function Cu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ru(t){return(Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var ql,Jl=(Rl=yt((Me=function(){function t(o){(function(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")})(this,t),mo(this,"rootEl",void 0),dr(this,"width",Rl,this),dr(this,"height",Il,this),mo(this,"theme",void 0),mo(this,"eventCenter",void 0),mo(this,"modelMap",new Map),mo(this,"topElement",void 0),mo(this,"animation",void 0),mo(this,"idGenerator",void 0),mo(this,"nodeMoveRules",[]),dr(this,"edgeType",Ll,this),dr(this,"nodes",zl,this),dr(this,"edges",Bl,this),dr(this,"overlapMode",Hl,this),dr(this,"background",Gl,this),dr(this,"transformModel",Fl,this),dr(this,"editConfigModel",Xl,this),dr(this,"gridSize",Ul,this),dr(this,"partial",Yl,this),dr(this,"fakerNode",Vl,this);var u,i=o.container,a=o.background,f=a===void 0?{}:a,v=o.grid,_=o.idGenerator,P=o.animation;this.background=f,Ru(v)==="object"&&(this.gridSize=v.size),this.rootEl=i,this.editConfigModel=new nc(o),this.eventCenter=new zv,this.transformModel=new iv(this.eventCenter),this.theme=Ec(o.style),this.edgeType=o.edgeType||"polyline",o.width||(o.width=i.getBoundingClientRect().width),o.height||(o.height=i.getBoundingClientRect().height),this.width=o.width,this.height=o.height,this.animation=(u=P)&&typeof u!="boolean"?xc(rn(el),u):rn(u===!0?Zv:el),this.partial=o.partial,this.overlapMode=o.overlapMode||0,this.idGenerator=_}var e,n,r;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"modelsMap",get:function(){return[].concat(Ai(this.nodes),Ai(this.edges)).reduce(function(o,u){return o[u.id]=u,o},{})}},{key:"sortElements",get:function(){var o=[];this.nodes.forEach(function(N){return o.push(N)}),this.edges.forEach(function(N){return o.push(N)}),o=o.sort(function(N,I){return N.zIndex-I.zIndex});for(var u=[],i=-1,a=[-200,-200],f=[this.width+200,this.height+200],v=0;v<o.length;v++){var _=o[v];_.visible&&(!this.partial||_.isSelected||this.isElementInArea(_,a,f,!1,!1))&&(_.zIndex===9999&&(i=u.length),u.push(_))}if(i!==-1){var P=u[u.length-1];u[u.length-1]=u[i],u[i]=P}return u}},{key:"textEditElement",get:function(){var o=this.nodes.find(function(i){return i.state===Yt.TEXT_EDIT}),u=this.edges.find(function(i){return i.state===Yt.TEXT_EDIT});return o||u}},{key:"selectElements",get:function(){var o=new Map;return this.nodes.forEach(function(u){u.isSelected&&o.set(u.id,u)}),this.edges.forEach(function(u){u.isSelected&&o.set(u.id,u)}),o}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=[],v=[];this.nodes.forEach(function(N){return v.push(N)}),this.edges.forEach(function(N){return v.push(N)});for(var _=0;_<v.length;_++){var P=v[_];this.isElementInArea(P,o,u,i,a)&&f.push(P)}return f}},{key:"getModel",value:function(o){return this.modelMap.get(o)}},{key:"getNodeModelById",value:function(o){var u;return this.fakerNode&&o===this.fakerNode.id?this.fakerNode:(u=this.nodesMap[o])===null||u===void 0?void 0:u.model}},{key:"getPointByClient",value:function(o){var u=o.x,i=o.y,a=this.rootEl.getBoundingClientRect(),f={x:u-a.left,y:i-a.top},v=Kl(this.transformModel.HtmlPointToCanvasPoint([f.x,f.y]),2);return{domOverlayPosition:f,canvasOverlayPosition:{x:v[0],y:v[1]}}}},{key:"isElementInArea",value:function(o,u,i){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(o.BaseType===hn.NODE){for(var v=or(o=o),_=v.minX,P=v.minY,N=v.maxX,I=v.maxY,Z=[{x:_,y:P},{x:N,y:P},{x:N,y:I},{x:_,y:I}],se=f,he=0;he<Z.length;he++){var je=Z[he],Oe=je.x,we=je.y,Le=this.transformModel.CanvasPointToHtmlPoint([Oe,we]),Ke=Kl(Le,2);if(Oe=Ke[0],we=Ke[1],vu([Oe,we],u,i)!==f){se=!f;break}}return se}if(o.BaseType===hn.EDGE){var Fe=o=o,Je=Fe.startPoint,ht=Fe.endPoint,xt=this.transformModel.CanvasPointToHtmlPoint([Je.x,Je.y]),kt=this.transformModel.CanvasPointToHtmlPoint([ht.x,ht.y]),$t=vu(xt,u,i),pn=vu(kt,u,i);return a?$t&&pn:$t||pn}return!1}},{key:"graphDataToModel",value:function(o){var u=this;this.nodes=Yi(o.nodes,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var f=i.x,v=i.y;return f&&v&&(i.x=Mi(f,u.gridSize),i.y=Mi(v,u.gridSize),Ru(i.text)==="object"&&(i.text.x-=jc(f,u.gridSize),i.text.y-=jc(v,u.gridSize))),new a(i,u)}),this.edges=Yi(o.edges,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(i,u)})}},{key:"modelToGraphData",value:function(){var o=[];this.edges.forEach(function(i){var a=i.getData();a&&o.push(a)});var u=[];return this.nodes.forEach(function(i){var a=i.getData();a&&u.push(a)}),{nodes:u,edges:o}}},{key:"modelToHistoryData",value:function(){for(var o=!1,u=[],i=0;i<this.nodes.length;i++){var a=this.nodes[i];if(a.isDragging){o=!0;break}u.push(a.getHistoryData())}if(o)return!1;for(var f=!1,v=[],_=0;_<this.edges.length;_++){var P=this.edges[_];if(P.isDragging){f=!0;break}v.push(P.getHistoryData())}return!f&&{nodes:u,edges:v}}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getElement",value:function(o){return this.modelsMap[o]}},{key:"getNodeEdges",value:function(o){for(var u=[],i=0;i<this.edges.length;i++){var a=this.edges[i],f=this.edges[i].sourceNodeId===o,v=this.edges[i].targetNodeId===o;(f||v)&&u.push(a)}return u}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],u=this.selectElements,i={nodes:[],edges:[]};return u.forEach(function(a){if(a.BaseType===hn.NODE&&i.nodes.push(a.getData()),a.BaseType===hn.EDGE){var f=a.getData(),v=u.get(f.sourceNodeId)&&u.get(f.targetNodeId);(o||v)&&i.edges.push(f)}}),i}},{key:"updateAttributes",value:function(o,u){this.getElement(o).updateAttributes(u)}},{key:"changeNodeId",value:function(o,u){return u||(u=ei()),this.nodesMap[u]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(u,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[o]?(this.edges.forEach(function(i){i.sourceNodeId===o&&(i.sourceNodeId=u),i.targetNodeId===o&&(i.targetNodeId=u)}),this.nodesMap[o].model.id=u,u):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(u,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(o,u){return u||(u=ei()),this.edgesMap[u]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(u,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[o]?(this.edges.forEach(function(i){i.id===o&&(i.id=u)}),u):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(u,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(o){this.fakerNode=o}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(o,u){return this.modelMap.set(o,u)}},{key:"toFront",value:function(o){var u,i,a,f=((u=this.nodesMap[o])===null||u===void 0?void 0:u.model)||((i=this.edgesMap[o])===null||i===void 0?void 0:i.model);f&&(this.overlapMode===rr.DEFAULT&&((a=this.topElement)===null||a===void 0||a.setZIndex(),f.setZIndex(9999),this.topElement=f),this.overlapMode===rr.INCREASE&&this.setElementZIndex(o,"top"))}},{key:"setElementZIndex",value:function(o,u){var i,a,f,v=((i=this.nodesMap[o])===null||i===void 0?void 0:i.model)||((a=this.edgesMap[o])===null||a===void 0?void 0:a.model);v&&(typeof u=="number"&&(f=u),u==="top"&&(f=wu()),u==="bottom"&&(f=--Jv),v.setZIndex(f))}},{key:"deleteNode",value:function(o){var u=this.nodesMap[o].model.getData();this.deleteEdgeBySource(o),this.deleteEdgeByTarget(o),this.nodes.splice(this.nodesMap[o].index,1),this.eventCenter.emit(wt.NODE_DELETE,{data:u})}},{key:"addNode",value:function(o){var u=Wr(o);u.id&&this.nodesMap[o.id]&&delete u.id;var i=this.getModel(u.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(u.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new i(u,this);this.nodes.push(a);var f=a.getData();return this.eventCenter.emit(wt.NODE_ADD,{data:f}),a}},{key:"cloneNode",value:function(o){var u=this.getNodeModelById(o),i=u.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var a=this.addNode(i);return a.setSelected(!0),u.setSelected(!1),a.getData()}},{key:"moveNode",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var v=f.model,_=v.move(u,i,a);_&&this.moveEdge(o,u,i)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(o,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var v=f.model,_=v.x,P=v.y,N=u-_,I=i-P;this.moveNode(o,N,I,a)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(o,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(o){this.setElementStateById(o,Yt.TEXT_EDIT)}},{key:"addEdge",value:function(o){var u=Wr(o),i=u.type;i||(i=this.edgeType),u.id&&this.edgesMap[u.id]&&delete u.id;var a=this.getModel(i);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var f=new a(Da(Da({},u),{},{type:i}),this),v=f.getData();return this.edges.push(f),this.eventCenter.emit(wt.EDGE_ADD,{data:v}),f}},{key:"moveEdge",value:function(o,u,i){for(var a=0;a<this.edges.length;a++){var f,v=this.edges[a],_=v.textPosition,P=_.x,N=_.y,I=this.edges[a].sourceNodeId===o,Z=this.edges[a].targetNodeId===o;if(I&&v.moveStartPoint(u,i),Z&&v.moveEndPoint(u,i),I||Z)if(v.customTextPosition===!0)v.resetTextPosition();else if(v.modelType===Ct.POLYLINE_EDGE&&(f=v.text)!==null&&f!==void 0&&f.value){var se=v.text,he=Tl(se,v.points);v.moveText(he.x-se.x,he.y-se.y)}else{var je=v.textPosition,Oe=je.x,we=je.y;v.moveText(Oe-P,we-N)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(o,u){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===o&&this.edges[i].targetNodeId===u){var a=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(wt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(o){if(this.edgesMap[o]){var u=this.edgesMap[o].index,i=this.edgesMap[o].model.getData();this.edges.splice(u,1),this.eventCenter.emit(wt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].sourceNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(wt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].targetNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(wt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(o,u,i){this.nodes.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Yt.DEFAULT)}),this.edges.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Yt.DEFAULT)})}},{key:"updateText",value:function(o,u){this.nodes.forEach(function(i){i.id===o&&i.updateText(u)}),this.edges.forEach(function(i){i.id===o&&i.updateText(u)})}},{key:"selectNodeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.nodesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.edgesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||this.clearSelectElements();var i=this.getElement(o);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var o;this.selectElements.forEach(function(u){u==null||u.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===rr.DEFAULT&&((o=this.topElement)===null||o===void 0||o.setZIndex())}},{key:"moveNodes",value:function(o,u,i){var a=this,f=arguments.length>3&&arguments[3]!==void 0&&arguments[3];o.forEach(function(v){return a.moveNode(v,u,i,f)})}},{key:"addNodeMoveRules",value:function(o){this.nodeMoveRules.includes(o)||this.nodeMoveRules.push(o)}},{key:"setDefaultEdgeType",value:function(o){this.edgeType=o}},{key:"changeNodeType",value:function(o,u){var i=this.getNodeModelById(o);if(i){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var v=new f(a,this);this.nodes.splice(this.nodesMap[o].index,1,v),this.getNodeEdges(o).forEach(function(_){if(_.sourceNodeId===o){var P=Jc(v,_.startPoint,v.width,v.height);_.updateStartPoint(P)}if(_.targetNodeId===o){var N=Jc(v,_.endPoint,v.width,v.height);_.updateEndPoint(N)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(o,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(o,u){var i=this.getEdgeModelById(o);if(i){if(i.type!==u){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var v=new f(a,this);this.edges.splice(this.edgesMap[o].index,1,v)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(o,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.targetNodeId===o&&u.push(i)}),u}},{key:"getNodeOutgoingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.sourceNodeId===o&&u.push(i)}),u}},{key:"getNodeIncomingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.targetNodeId===o&&i.push(u.nodesMap[a.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.sourceNodeId===o&&i.push(u.nodesMap[a.targetNodeId].model)}),i}},{key:"setTheme",value:function(o){this.theme=Ec(Da(Da({},this.theme),o))}},{key:"resize",value:function(o,u){this.width=o!=null?o:this.width,this.height=u!=null?u:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var o=this.nodes,u=[],i=[];o.forEach(function(N){var I=N.x,Z=N.y,se=N.width,he=N.height,je=N.getNodeStyle().strokeWidth,Oe=je===void 0?0:je;u=u.concat([I+se/2+Oe,I-se/2-Oe]),i=i.concat([Z+he/2+Oe,Z-he/2-Oe])});var a=Math.min.apply(Math,Ai(u)),f=Math.max.apply(Math,Ai(u)),v=Math.min.apply(Math,Ai(i)),_=f-a||0,P=Math.max.apply(Math,Ai(i))-v||0;return{virtualRectWidth:_,virtualRectHeight:P,virtualRectCenterPositionX:a+_/2,virtualRectCenterPositionY:v+P/2}}},{key:"translateCenter",value:function(){var o=this.nodes,u=this.width,i=this.height,a=this.rootEl,f=this.transformModel;if(o.length){var v=u||a.clientWidth,_=i||a.clientHeight,P=this.getVirtualRectSize(),N=P.virtualRectCenterPositionX,I=P.virtualRectCenterPositionY;f.focusOn(N,I,v,_)}}},{key:"fitView",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,u=this.nodes,i=this.width,a=this.height,f=this.rootEl,v=this.transformModel;if(u.length){var _=i||f.clientWidth,P=a||f.clientHeight,N=this.getVirtualRectSize(),I=N.virtualRectWidth,Z=N.virtualRectHeight,se=N.virtualRectCenterPositionX,he=N.virtualRectCenterPositionY,je=(I+o)/_,Oe=(Z+o)/P,we=0;we=1/Math.max(je,Oe);var Le=[_/2,P/2];v.zoom(we,Le),v.focusOn(se,he,_,P)}}}])&&$l(e.prototype,n),r&&$l(e,r),t}()).prototype,"width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Il=yt(Me.prototype,"height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ll=yt(Me.prototype,"edgeType",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zl=yt(Me.prototype,"nodes",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bl=yt(Me.prototype,"edges",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hl=yt(Me.prototype,"overlapMode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rr.DEFAULT}}),Gl=yt(Me.prototype,"background",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fl=yt(Me.prototype,"transformModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xl=yt(Me.prototype,"editConfigModel",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ul=yt(Me.prototype,"gridSize",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Yl=yt(Me.prototype,"partial",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vl=yt(Me.prototype,"fakerNode",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt(Me.prototype,"nodesMap",[h.m],Object.getOwnPropertyDescriptor(Me.prototype,"nodesMap"),Me.prototype),yt(Me.prototype,"edgesMap",[h.m],Object.getOwnPropertyDescriptor(Me.prototype,"edgesMap"),Me.prototype),yt(Me.prototype,"modelsMap",[h.m],Object.getOwnPropertyDescriptor(Me.prototype,"modelsMap"),Me.prototype),yt(Me.prototype,"sortElements",[h.m],Object.getOwnPropertyDescriptor(Me.prototype,"sortElements"),Me.prototype),yt(Me.prototype,"textEditElement",[h.m],Object.getOwnPropertyDescriptor(Me.prototype,"textEditElement"),Me.prototype),yt(Me.prototype,"selectElements",[h.m],Object.getOwnPropertyDescriptor(Me.prototype,"selectElements"),Me.prototype),yt(Me.prototype,"setFakerNode",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"setFakerNode"),Me.prototype),yt(Me.prototype,"removeFakerNode",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"removeFakerNode"),Me.prototype),yt(Me.prototype,"setModel",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"setModel"),Me.prototype),yt(Me.prototype,"toFront",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"toFront"),Me.prototype),yt(Me.prototype,"setElementZIndex",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"setElementZIndex"),Me.prototype),yt(Me.prototype,"deleteNode",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"deleteNode"),Me.prototype),yt(Me.prototype,"addNode",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"addNode"),Me.prototype),yt(Me.prototype,"cloneNode",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"cloneNode"),Me.prototype),yt(Me.prototype,"moveNode",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"moveNode"),Me.prototype),yt(Me.prototype,"moveNode2Coordinate",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"moveNode2Coordinate"),Me.prototype),yt(Me.prototype,"editText",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"editText"),Me.prototype),yt(Me.prototype,"addEdge",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"addEdge"),Me.prototype),yt(Me.prototype,"moveEdge",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"moveEdge"),Me.prototype),yt(Me.prototype,"deleteEdgeBySourceAndTarget",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"deleteEdgeBySourceAndTarget"),Me.prototype),yt(Me.prototype,"deleteEdgeById",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"deleteEdgeById"),Me.prototype),yt(Me.prototype,"deleteEdgeBySource",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"deleteEdgeBySource"),Me.prototype),yt(Me.prototype,"deleteEdgeByTarget",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"deleteEdgeByTarget"),Me.prototype),yt(Me.prototype,"setElementStateById",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"setElementStateById"),Me.prototype),yt(Me.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"updateText"),Me.prototype),yt(Me.prototype,"selectNodeById",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"selectNodeById"),Me.prototype),yt(Me.prototype,"selectEdgeById",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"selectEdgeById"),Me.prototype),yt(Me.prototype,"selectElementById",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"selectElementById"),Me.prototype),yt(Me.prototype,"clearSelectElements",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"clearSelectElements"),Me.prototype),yt(Me.prototype,"moveNodes",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"moveNodes"),Me.prototype),yt(Me.prototype,"setDefaultEdgeType",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"setDefaultEdgeType"),Me.prototype),yt(Me.prototype,"changeNodeType",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"changeNodeType"),Me.prototype),yt(Me.prototype,"changeEdgeType",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"changeEdgeType"),Me.prototype),yt(Me.prototype,"getNodeIncomingEdge",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"getNodeIncomingEdge"),Me.prototype),yt(Me.prototype,"getNodeOutgoingEdge",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"getNodeOutgoingEdge"),Me.prototype),yt(Me.prototype,"getNodeIncomingNode",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"getNodeIncomingNode"),Me.prototype),yt(Me.prototype,"getNodeOutgoingNode",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"getNodeOutgoingNode"),Me.prototype),yt(Me.prototype,"setTheme",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"setTheme"),Me.prototype),yt(Me.prototype,"resize",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"resize"),Me.prototype),yt(Me.prototype,"clearData",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"clearData"),Me.prototype),yt(Me.prototype,"translateCenter",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"translateCenter"),Me.prototype),yt(Me.prototype,"fitView",[h.k],Object.getOwnPropertyDescriptor(Me.prototype,"fitView"),Me.prototype),Me),yg=Jl;function Ql(t){return(Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ef(){return(ef=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nf(t,e){return(nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function vg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Iu(t);if(e){var o=Iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gg(this,n)}}function gg(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(t)}function Zr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iu(t){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rf,mg=Pr(ql=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&nf(i,a)})(u,t);var e,n,r,o=vg(u);function u(i){var a;(function(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")})(this,u),bo(Zr(a=o.call(this)),"stepDrag",void 0),bo(Zr(a),"stepScrollX",0),bo(Zr(a),"stepScrollY",0),bo(Zr(a),"onDraging",function(P){var N=P.deltaX,I=P.deltaY;a.setState({isDraging:!0});var Z=a.props.graphModel,se=Z.transformModel;Z.editConfigModel.stopMoveGraph||se.translate(N,I)}),bo(Zr(a),"onDragEnd",function(){a.setState({isDraging:!1})}),bo(Zr(a),"zoomHandler",function(P){var N=a.props,I=N.graphModel,Z=I.editConfigModel,se=I.transformModel,he=I.gridSize,je=N.graphModel,Oe=P.deltaX,we=P.deltaY;if(Z.stopScrollGraph||P.ctrlKey===!0){if(!Z.stopZoomGraph){P.preventDefault();var Le=je.getPointByClient({x:P.clientX,y:P.clientY}).canvasOverlayPosition,Ke=Le.x,Fe=Le.y;se.zoom(P.deltaY<0,[Ke,Fe])}}else{if(P.preventDefault(),a.stepScrollX+=Oe,a.stepScrollY+=we,Math.abs(a.stepScrollX)>=he){var Je=a.stepScrollX%he,ht=a.stepScrollX-Je;se.translate(-ht*se.SCALE_X,0),a.stepScrollX=Je}if(Math.abs(a.stepScrollY)>=he){var xt=a.stepScrollY%he,kt=a.stepScrollY-xt;se.translate(0,-kt*se.SCALE_Y),a.stepScrollY=xt}}}),bo(Zr(a),"clickHandler",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){var N=a.props.graphModel;N.selectElements.size>0&&N.clearSelectElements(),N.eventCenter.emit(wt.BLANK_CLICK,{e:P})}}),bo(Zr(a),"handleContextMenu",function(P){if(P.target.getAttribute("name")==="canvas-overlay"){P.preventDefault();var N=a.props.graphModel,I=N.getPointByClient({x:P.clientX,y:P.clientY});N.eventCenter.emit(wt.BLANK_CONTEXTMENU,{e:P,position:I})}}),bo(Zr(a),"mouseDownHandler",function(P){var N=a.props.graphModel,I=N.eventCenter,Z=N.editConfigModel,se=N.transformModel.SCALE_X,he=N.gridSize,je=P.target,Oe=!Z.adjustEdge&&!Z.adjustNodePosition;(je.getAttribute("name")==="canvas-overlay"||Oe)&&(Z.stopMoveGraph?I.emit(wt.BLANK_MOUSEDOWN,{e:P}):(a.stepDrag.setStep(he*se),a.stepDrag.handleMouseDown(P)),a.clickHandler(P))});var f=i.graphModel,v=f.gridSize,_=f.eventCenter;return a.stepDrag=new ni({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:v,eventType:"BLANK",isStopPropagation:!1,eventCenter:_,model:null}),a.state={isDraging:!1},a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props,f=a.children,v=a.dnd,_=this.state.isDraging;return Object(ie.g)("svg",ef({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:_?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},v.eventMap()),Object(ie.g)("g",{transform:i},f))}}])&&tf(e.prototype,n),r&&tf(e,r),u}(ie.a))||ql;function of(t){return(of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uf(t,e){return(uf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function _g(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lu(t);if(e){var o=Lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Og(this,n)}}function Og(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sf(t)}function sf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lu(t){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function wg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xg=Pr(rf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&uf(i,a)})(u,t);var e,n,r,o=_g(u);function u(){var i;bg(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return wg(sf(i=o.call.apply(o,[this].concat(f))),"setToolOverlayRef",function(_){var P=i.props.tool.getInstance();P.components.forEach(function(N){return N(P,_)}),P.components=[]}),i}return e=u,(n=[{key:"getTools",value:function(){var i=this.props,a=i.tool,f=i.graphModel,v=a.getTools().map(function(_){return Object(ie.g)(_,{graphModel:f,logicFlow:a.instance})});return a.components=v,v}},{key:"render",value:function(){return Object(ie.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&af(e.prototype,n),r&&af(e,r),u}(ie.a))||rf;function cf(t){return(cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Eg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ff(t,e){return(ff=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Sg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zu(t);if(e){var o=zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jg(this,n)}}function jg(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function zu(t){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var pf,Pg=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ff(i,a)})(u,t);var e,n,r,o=Sg(u);function u(){return Eg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.background;return Object(ie.g)("div",{className:"lf-background"},Object(ie.g)("div",{style:i,className:"lf-background-area"}))}}])&&lf(e.prototype,n),r&&lf(e,r),u}(ie.a);function df(t){return(df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yf(t,e){return(yf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function kg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bu(t);if(e){var o=Bu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ng(this,n)}}function Ng(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vf(t)}function vf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bu(t){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ag(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gf=Pr(pf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&yf(i,a)})(u,t);var e,n,r,o=kg(u);function u(){var i;Mg(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Ag(vf(i=o.call.apply(o,[this].concat(f))),"id",ei()),i}return e=u,(n=[{key:"renderDot",value:function(){var i=this.props,a=i.config,f=a.color,v=a.thickness,_=v===void 0?2:v,P=i.size,N=i.visible,I=Math.min(Math.max(2,_),P/2),Z=1;return N||(Z=0),Object(ie.g)("rect",{width:I,height:I,rx:I/2,ry:I/2,fill:f,opacity:Z})}},{key:"renderMesh",value:function(){var i=this.props,a=i.config,f=a.color,v=a.thickness,_=v===void 0?1:v,P=i.size,N=i.visible,I=Math.min(Math.max(1,_),P/2),Z="M ".concat(P," 0 H0 M0 0 V0 ").concat(P),se=1;return N||(se=0),Object(ie.g)("path",{d:Z,stroke:f,strokeWidth:I,opacity:se})}},{key:"render",value:function(){var i=this.props,a=i.type,f=i.size,v=i.graphModel.transformModel,_=[v.SCALE_X,v.SKEW_Y,v.SKEW_X,v.SCALE_Y,v.TRANSLATE_X,v.TRANSLATE_Y].join(","),P="matrix(".concat(_,")");return Object(ie.g)("div",{className:"lf-grid"},Object(ie.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ie.g)("defs",null,Object(ie.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:P,x:"0",y:"0",width:f,height:f},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ie.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&hf(e.prototype,n),r&&hf(e,r),u}(ie.a))||pf;gf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},s(52);function mf(t){return(mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Tg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return bf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return bf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _f,ri=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=Tg(n,2),o=r[0],u=r[1];mf(u)!=="object"&&(e[o]=u)}),Object(ie.g)("line",e)};function Of(t){return(Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wf(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ef(t,e){return(Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Rg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hu(t);if(e){var o=Hu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ig(this,n)}}function Ig(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hu(t){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Sf,Lg=Pr(_f=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ef(i,a)})(u,t);var e,n,r,o=Rg(u);function u(){return Cg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,a=i.position,f=i.isShowHorizontal,v=i.isShowVertical,_=i.getStyle(),P=a.x,N=P===void 0?0:P,I=a.y,Z=I===void 0?0:I,se=Ca(Ca({x1:-1e5,y1:Z,x2:1e5,y2:Z},_),{},{stroke:f?_.stroke:"none"}),he=Ca(Ca({x1:N,y1:-1e5,x2:N,y2:1e5},_),{},{stroke:v?_.stroke:"none"});return Object(ie.g)("g",{className:"lf-snapline"},Object(ie.g)(ri,se),Object(ie.g)(ri,he))}}])&&xf(e.prototype,n),r&&xf(e,r),u}(ie.a))||_f;function jf(t){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Pf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Pf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ro(t){var e=t.x,n=t.y,r=t.width,o=t.height,u=t.className,i=t.radius,a=e-r/2,f=n-o/2,v={};return Object.entries(t).forEach(function(_){var P=zg(_,2),N=P[0],I=P[1];jf(I)!=="object"&&(v[N]=I)}),v.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",i&&(v.rx=i,v.ry=i),v.x=a,v.y=f,Object(ie.g)("rect",v)}function Mf(t){return(Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ea(){return(ea=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function kf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kf(Object(n),!0).forEach(function(r){Bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tf(t,e){return(Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Gg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gu(t);if(e){var o=Gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fg(this,n)}}function Fg(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gu(t){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}Ro.defaultProps={className:"",radius:""};var Df,Xg=Pr(Sf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Tf(i,a)})(u,t);var e,n,r,o=Gg(u);function u(){return Hg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,a=i.nodes,f=i.editConfigModel,v=f.hoverOutline,_=f.nodeSelectedOutline,P=[];return a.forEach(function(N){if(N.isHovered||N.isSelected){var I=N.isHovered,Z=N.isSelected,se=N.x,he=N.y,je=N.width,Oe=N.height;if(_&&Z||v&&I){var we=N.getOutlineStyle(),Le={};if(Object.keys(we).forEach(function(Fe){Fe!=="hover"&&(Le[Fe]=we[Fe])}),I){var Ke=we.hover;Le=Nf(Nf({},Le),Ke)}P.push(Object(ie.g)(Ro,ea({className:"lf-outline-node",x:se,y:he,width:je+10,height:Oe+10},Le)))}}}),P}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,a=i.edges,f=i.editConfigModel,v=f.edgeSelectedOutline,_=f.hoverOutline,P=[],N=0;N<a.length;N++){var I=a[N];(v&&I.isSelected||_&&I.isHovered)&&(I.modelType===Ct.LINE_EDGE?P.push(this.getLineOutline(I)):I.modelType===Ct.POLYLINE_EDGE?P.push(this.getPolylineOutline(I)):I.modelType===Ct.BEZIER_EDGE&&P.push(this.getBezierOutline(I)))}return P}},{key:"getLineOutline",value:function(i){var a=i.startPoint,f=i.endPoint,v=(a.x+f.x)/2,_=(a.y+f.y)/2,P=Math.abs(a.x-f.x)+10,N=Math.abs(a.y-f.y)+10,I=i.getOutlineStyle();return Object(ie.g)(Ro,ea({className:"lf-outline-edge",x:v,y:_,width:P,height:N},I))}},{key:"getPolylineOutline",value:function(i){var a=i.points,f=ki(a),v=Ji(f,8),_=v.x,P=v.y,N=v.width,I=v.height,Z=i.getOutlineStyle();return Object(ie.g)(Ro,ea({className:"lf-outline",x:_,y:P,width:N,height:I},Z))}},{key:"getBezierOutline",value:function(i){var a=i.path,f=Aa(a),v=Ji(f,8),_=v.x,P=v.y,N=v.width,I=v.height,Z=i.getOutlineStyle();return Object(ie.g)(Ro,ea({className:"lf-outline",x:_,y:P,width:N,height:I},Z))}},{key:"render",value:function(){return Object(ie.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Af(e.prototype,n),r&&Af(e,r),u}(ie.a))||Sf;function Cf(t){return(Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ug(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Rf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Rf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ta(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.r,i=u===void 0?4:u,a=t.className,f={cx:n,cy:o,r:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(v){var _=Ug(v,2),P=_[0],N=_[1];Cf(N)!=="object"&&(f[P]=N)}),f.className=a?"lf-basic-shape ".concat(a):"lf-basic-shape",Object(ie.g)("circle",f)}function If(t){return(If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Yg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Lf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Lf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ra(){return(Ra=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function zf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hf(t,e,n){return e&&Bf(t.prototype,e),n&&Bf(t,n),t}function Gf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ff(t,e)}function Ff(t,e){return(Ff=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Xf(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fu(t);if(e){var o=Fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vg(this,n)}}function Vg(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ia(t)}function Ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fu(t){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Uf,Yf=function(t){Gf(n,t);var e=Xf(n);function n(){var r;return zf(this,n),Xu(Ia(r=e.call(this)),"dragHandler",void 0),Xu(Ia(r),"onDraging",function(o){var u=o.event,i=r.props,a=i.graphModel,f=i.bezierModel,v=i.type,_=a.getPointByClient({x:u.clientX,y:u.clientY}).canvasOverlayPosition,P=_.x,N=_.y;f.updateAdjustAnchor({x:P,y:N},v)}),Xu(Ia(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new ni({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return Hf(n,[{key:"render",value:function(){var r=this,o=this.props.position,u=o.x,i=o.y,a=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ie.g)(ta,Ra({className:"lf-bezier-adjust-anchor",x:u,y:i},a,{onMouseDown:function(f){r.dragHandler.handleMouseDown(f)}}))}}]),n}(ie.a),Wg=Pr(Df=function(t){Gf(n,t);var e=Xf(n);function n(){return zf(this,n),e.apply(this,arguments)}return Hf(n,[{key:"getBezierAdjust",value:function(r,o){var u=r.path,i=r.id,a=Yg(Aa(u),4),f=a[0],v=a[1],_=a[2],P=a[3],N=r.getEdgeStyle().adjustLine,I=[];return I.push(Object(ie.g)(ri,Ra({x1:f.x,y1:f.y,x2:v.x,y2:v.y},N))),I.push(Object(ie.g)(Yf,{position:v,bezierModel:r,graphModel:o,key:"".concat(i,"_ePre"),type:"sNext"})),I.push(Object(ie.g)(ri,Ra({x1:P.x,y1:P.y,x2:_.x,y2:_.y},N))),I.push(Object(ie.g)(Yf,{position:_,bezierModel:r,graphModel:o,key:"".concat(i,"_sNext"),type:"ePre"})),I}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,o=r.edges,u=[],i=0;i<o.length;i++){var a=o[i];a.isSelected&&a.modelType===Ct.BEZIER_EDGE&&a.draggable&&u.push(this.getBezierAdjust(a,r))}return u}},{key:"render",value:function(){return Object(ie.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ie.a))||Df;function Vf(t){return(Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Kg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kf(t,e){return(Kf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Zg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Uu(t);if(e){var o=Uu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $g(this,n)}}function $g(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Uu(t){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Zf,qg=Pr(Uf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Kf(i,a)})(u,t);var e,n,r,o=Zg(u);function u(){return Kg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props.children;return Object(ie.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ie.g)("g",{transform:i},a))}}])&&Wf(e.prototype,n),r&&Wf(e,r),u}(ie.a))||Uf;function $f(t){return($f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qf(){return(qf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Jg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qf(t,e){return(Qf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Qg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yu(t);if(e){var o=Yu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return em(this,n)}}function em(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Yu(t){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var tm=Pr(Zf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Qf(i,a)})(u,t);var e,n,r,o=Qg(u);function u(){return Jg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getComponent",value:function(i,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",v=this.props.getView,_=v(i.type);return Object(ie.g)(_,{key:i.id,model:i,graphModel:a,overlay:f})}},{key:"render",value:function(){var i=this,a=this.props,f=a.graphModel,v=a.tool,_=a.options,P=a.dnd,N=a.snaplineModel,I={};_.width&&(I.width="".concat(f.width,"px")),_.height&&(I.height="".concat(f.height,"px"));var Z=f.fakerNode,se=f.editConfigModel.adjustEdge;return Object(ie.g)("div",{className:"lf-graph",style:I},Object(ie.g)(mg,{graphModel:f,dnd:P},Object(ie.g)("g",{className:"lf-base"},Yi(f.sortElements,function(he){return i.getComponent(he,f)})),Z?this.getComponent(Z,f):""),Object(ie.g)(qg,{graphModel:f},Object(ie.g)(Xg,{graphModel:f}),se?Object(ie.g)(Wg,{graphModel:f}):"",_.isSilentMode||_.snapline===!1?"":Object(ie.g)(Lg,{snaplineModel:N})),Object(ie.g)(xg,{graphModel:f,tool:v}),_.background&&Object(ie.g)(Pg,{background:_.background}),_.grid&&Object(ie.g)(gf,qf({},_.grid,{graphModel:f})))}}])&&Jf(e.prototype,n),r&&Jf(e,r),u}(ie.a))||Zf;function ep(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ep(Object(n),!0).forEach(function(r){_o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nm=function(){function t(o){var u=this;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),_o(this,"nodeConfig",void 0),_o(this,"lf",void 0),_o(this,"fakerNode",void 0),_o(this,"stopDrag",function(){u.nodeConfig=null,window.document.removeEventListener("mouseup",u.stopDrag)}),_o(this,"dragEnter",function(a){u.nodeConfig&&!u.fakerNode&&(u.fakerNode=u.lf.createFakerNode(La(La({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY}))))}),_o(this,"onDragOver",function(a){if(a.preventDefault(),u.fakerNode){var f=u.clientToLocalPoint({x:a.clientX,y:a.clientY}),v=f.x,_=f.y;u.fakerNode.moveTo(v,_);var P=u.fakerNode.getData();u.lf.setNodeSnapLine(P),u.lf.graphModel.eventCenter.emit(wt.NODE_DND_DRAG,{data:P})}return!1}),_o(this,"onDragLeave",function(){u.fakerNode&&(u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)}),_o(this,"onDrop",function(a){if(u.lf.graphModel&&a&&u.nodeConfig){var f=u.lf.addNode(La(La({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY})));a.preventDefault(),a.stopPropagation(),u.nodeConfig=null,u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null;var v=f.getData();u.lf.graphModel.eventCenter.emit(wt.NODE_DND_ADD,{data:v})}});var i=o.lf;this.lf=i}var e,n,r;return e=t,(n=[{key:"clientToLocalPoint",value:function(o){var u=o.x,i=o.y,a=Si(this.lf.options,["grid","size"]),f=this.lf.graphModel.getPointByClient({x:u,y:i}).canvasOverlayPosition,v=f.x,_=f.y;return{x:Mi(v,a),y:Mi(_,a)}}},{key:"startDrag",value:function(o){this.nodeConfig=o,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&tp(e.prototype,n),r&&tp(e,r),t}();function np(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(t.grid=F({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),F({},op,t)}var Gt,rp,op={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function ip(t){return(ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Vu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ap(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ap(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ap(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function up(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?up(Object(n),!0).forEach(function(r){lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function om(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ba(){return(Ba=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=im(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function im(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=oi(t))!==null;);return t}function cp(t,e){return(cp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function am(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oi(t);if(e){var o=oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return um(this,n)}}function um(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ha(t)}function Ha(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oi(t){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function lp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Or(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Wu=(rp=Or((Gt=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&cp(i,a)})(u,t);var e,n,r,o=am(u);function u(){var i;om(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return lp(Ha(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.BEZIER_EDGE),rm(Ha(i),"path",rp,Ha(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=100,Ba(oi(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return za(za({},Ba(oi(u.prototype),"getEdgeStyle",this).call(this)),rn(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,a=0;return this.pointsList.forEach(function(f){var v=f.x,_=f.y;i+=v,a+=_}),{x:i/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=Ba(oi(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return za(za({},i),{},{pointsList:a})}},{key:"getControls",value:function(){var i=this.startPoint,a=this.endPoint;return Al({start:i,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var a=Vu(i,4),f=a[0],v=a[1],_=a[2],P=a[3];return"M ".concat(f.x," ").concat(f.y,`
    C `).concat(v.x," ").concat(v.y,`,
    `).concat(_.x," ").concat(_.y,`,
    `).concat(P.x," ").concat(P.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),a=i.sNext,f=i.ePre;this.updatePath(a,f)}},{key:"updatePath",value:function(i,a){var f={x:this.startPoint.x,y:this.startPoint.y},v={x:this.endPoint.x,y:this.endPoint.y};if(!i||!a){var _=this.getControls();i=_.sNext,a=_.ePre}this.pointsList=[f,i,a,v],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a;var f=Vu(this.pointsList,3),v=f[1],_=f[2];v.x+=i,v.y+=a,this.updatePath(v,_)}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a;var f=Vu(this.pointsList,3),v=f[1],_=f[2];_.x+=i,_.y+=a,this.updatePath(v,_)}},{key:"updateAdjustAnchor",value:function(i,a){a==="sNext"?this.pointsList[1]=i:a==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,v=i.sourceNode,_=i.targetNode,P=Al({start:a,end:f,sourceNode:v,targetNode:_,offset:this.offset}),N=P.sNext,I=P.ePre;this.pointsList=[a,N,I,f],this.initPoints()}}])&&sp(e.prototype,n),r&&sp(e,r),u}(Eu)).prototype,"path",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Or(Gt.prototype,"initPoints",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"initPoints"),Gt.prototype),Or(Gt.prototype,"updatePoints",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updatePoints"),Gt.prototype),Or(Gt.prototype,"updateStartPoint",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateStartPoint"),Gt.prototype),Or(Gt.prototype,"updateEndPoint",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateEndPoint"),Gt.prototype),Or(Gt.prototype,"moveStartPoint",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"moveStartPoint"),Gt.prototype),Or(Gt.prototype,"moveEndPoint",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"moveEndPoint"),Gt.prototype),Or(Gt.prototype,"updateAdjustAnchor",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateAdjustAnchor"),Gt.prototype),Or(Gt.prototype,"getAdjustStart",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"getAdjustStart"),Gt.prototype),Or(Gt.prototype,"getAdjustEnd",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"getAdjustEnd"),Gt.prototype),Or(Gt.prototype,"updateAfterAdjustStartAndEnd",[h.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateAfterAdjustStartAndEnd"),Gt.prototype),Gt),ct,fp,pp,dp,hp,yp,vp,gp,mp,bp,_p,Op,wp,xp,Ep,Sp,jp,Pp,sm=function(t){return t==null};function Mp(t){return(Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cm(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(f,v){if(!!f){if(typeof f=="string")return kp(f,v);var _=Object.prototype.toString.call(f).slice(8,-1);if(_==="Object"&&f.constructor&&(_=f.constructor.name),_==="Map"||_==="Set")return Array.from(f);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return kp(f,v)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return i=f.done,f},e:function(f){a=!0,u=f},f:function(){try{i||n.return==null||n.return()}finally{if(a)throw u}}}}function kp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Np(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Np(Object(n),!0).forEach(function(r){hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Np(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function En(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ap(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ft(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Io,Tp,wo=(fp=Ft((ct=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),hr(this,"id",ei()),En(this,"type",fp,this),En(this,"x",pp,this),En(this,"y",dp,this),En(this,"text",hp,this),En(this,"properties",yp,this),En(this,"_width",vp,this),En(this,"_height",gp,this),En(this,"anchorsOffset",mp,this),En(this,"isSelected",bp,this),En(this,"isHovered",_p,this),En(this,"isDragging",Op,this),En(this,"isHitable",wp,this),En(this,"draggable",xp,this),En(this,"visible",Ep,this),hr(this,"graphModel",void 0),En(this,"zIndex",Sp,this),En(this,"state",jp,this),En(this,"autoToFront",Pp,this),hr(this,"BaseType",hn.NODE),hr(this,"modelType",Ct.NODE),hr(this,"additionStateData",void 0),hr(this,"targetRules",[]),hr(this,"sourceRules",[]),hr(this,"moveRules",[]),hr(this,"hasSetTargetRules",!1),hr(this,"hasSetSourceRules",!1),this.graphModel=u,this.initNodeData(o),this.setAttributes()}var e,n,r;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(o){this._width=o}},{key:"height",get:function(){return this._height},set:function(o){this._height=o}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}this.formatText(o),F(this,function(f){return Vi(f,["id","type","x","y","text","properties"])}(o)),this.graphModel.overlapMode===rr.INCREASE&&(this.zIndex=o.zIndex||wu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(o){o.text||(o.text={value:"",x:o.x,y:o.y,draggable:!1,editable:!0}),o.text&&typeof o.text=="string"?o.text={value:o.text,x:o.x,y:o.y,draggable:!1,editable:!0}:o.text&&o.text.editable===void 0&&(o.text.editable=!0)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f=this.properties;Object(h.x)(f)&&(f=Object(h.I)(f));var v={id:this.id,type:this.type,x:this.x,y:this.y,properties:f};return this.graphModel.overlapMode===rr.INCREASE&&(v.zIndex=this.zIndex),a&&(v.text={x:u,y:i,value:a}),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(h.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Oo({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.nodeText;return rn(o)}},{key:"getAnchorStyle",value:function(o){var u=this.graphModel.theme.anchor;return rn(u)}},{key:"getAnchorLineStyle",value:function(){var o=this.graphModel.theme.anchorLine;return rn(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return rn(o)}},{key:"isAllowConnectedAsSource",value:function(o,u,i){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var f,v=!0,_=0;_<a.length;_++){var P=a[_];if(!P.validate.call(this,this,o,u,i)){v=!1,f=P.message;break}}return{isAllPass:v,msg:f}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(o,u,i){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var f,v=!0,_=0;_<a.length;_++){var P=a[_];if(!P.validate.call(this,o,this,u,i)){v=!1,f=P.message;break}}return{isAllPass:v,msg:f}}},{key:"isAllowMoveNode",value:function(o,u){var i,a=!0,f=!0,v=cm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(v.s();!(i=v.n()).done;){var _=(0,i.value)(this,o,u);if(!_)return!1;if(Mp(_)==="object"){var P=_;if(P.x===!1&&P.y===!1)return!1;a=a&&P.x,f=f&&P.y}}}catch(N){v.e(N)}finally{v.f()}return{x:a,y:f}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var o=this.anchorsOffset,u=this.id,i=this.x,a=this.y;return o&&o.length>0?o.map(function(f,v){return f.length?(f=f,{id:"".concat(u,"_").concat(v),x:i+f[0],y:a+f[1]}):Oo(Oo({},f=f),{},{x:i+f.x,y:a+f.y,id:f.id||"".concat(u,"_").concat(v)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(o){if(!sm(o))for(var u=0;u<this.anchors.length;u++){var i=this.anchors[u];if(i.id===o)return i}}},{key:"addNodeMoveRules",value:function(o){this.moveRules.includes(o)||this.moveRules.push(o)}},{key:"move",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=!1,f=!1;if(i)a=!0,f=!0;else{var v=this.isAllowMoveNode(o,u);typeof v=="boolean"?(a=v,f=v):(a=v.x,f=v.y)}if(a){var _=this.x+o;this.x=_,this.text&&this.moveText(o,0)}if(f){var P=this.y+u;this.y=P,this.text&&this.moveText(0,u)}return a||f}},{key:"moveTo",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=o-this.x,f=u-this.y;return!(!i&&!this.isAllowMoveNode(a,f)||(this.text&&this.text&&this.moveText(a,f),this.x=o,this.y=u,0))}},{key:"moveText",value:function(o,u){var i=this.text,a=i.x,f=i.y,v=i.value,_=i.draggable,P=i.editable;this.text={value:v,editable:P,draggable:_,x:a+o,y:f+u}}},{key:"updateText",value:function(o){this.text=Oo(Oo({},this.text),{},{value:o})}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"setProperty",value:function(o,u){this.properties=Oo(Oo({},this.properties),{},hr({},o,Wr(u))),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=Oo(Oo({},this.properties),Wr(o)),this.setAttributes()}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=o}},{key:"updateAttributes",value:function(o){F(this,o)}}])&&Ap(e.prototype,n),r&&Ap(e,r),t}()).prototype,"type",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pp=Ft(ct.prototype,"x",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dp=Ft(ct.prototype,"y",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Ft(ct.prototype,"text",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),yp=Ft(ct.prototype,"properties",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vp=Ft(ct.prototype,"_width",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),gp=Ft(ct.prototype,"_height",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),mp=Ft(ct.prototype,"anchorsOffset",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bp=Ft(ct.prototype,"isSelected",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_p=Ft(ct.prototype,"isHovered",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Op=Ft(ct.prototype,"isDragging",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wp=Ft(ct.prototype,"isHitable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xp=Ft(ct.prototype,"draggable",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ep=Ft(ct.prototype,"visible",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sp=Ft(ct.prototype,"zIndex",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),jp=Ft(ct.prototype,"state",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pp=Ft(ct.prototype,"autoToFront",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ft(ct.prototype,"incoming",[h.m],Object.getOwnPropertyDescriptor(ct.prototype,"incoming"),ct.prototype),Ft(ct.prototype,"outgoing",[h.m],Object.getOwnPropertyDescriptor(ct.prototype,"outgoing"),ct.prototype),Ft(ct.prototype,"addNodeMoveRules",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"addNodeMoveRules"),ct.prototype),Ft(ct.prototype,"move",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"move"),ct.prototype),Ft(ct.prototype,"moveTo",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"moveTo"),ct.prototype),Ft(ct.prototype,"moveText",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"moveText"),ct.prototype),Ft(ct.prototype,"updateText",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"updateText"),ct.prototype),Ft(ct.prototype,"setSelected",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"setSelected"),ct.prototype),Ft(ct.prototype,"setHovered",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"setHovered"),ct.prototype),Ft(ct.prototype,"setHitable",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"setHitable"),ct.prototype),Ft(ct.prototype,"setElementState",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"setElementState"),ct.prototype),Ft(ct.prototype,"setProperty",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"setProperty"),ct.prototype),Ft(ct.prototype,"setProperties",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"setProperties"),ct.prototype),Ft(ct.prototype,"setZIndex",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"setZIndex"),ct.prototype),Ft(ct.prototype,"updateAttributes",[h.k],Object.getOwnPropertyDescriptor(ct.prototype,"updateAttributes"),ct.prototype),ct);function Dp(t){return(Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Cp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cp(Object(n),!0).forEach(function(r){Bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ip(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lp(){return(Lp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=pm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function pm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=na(t))!==null;);return t}function zp(t,e){return(zp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function dm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=na(t);if(e){var o=na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hm(this,n)}}function hm(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ga(t)}function Ga(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function na(t){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Bp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ku(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Fn,Hp,Gp,Zu=(Tp=Ku((Io=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&zp(i,a)})(u,t);var e,n,r,o=dm(u);function u(){var i;fm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Bp(Ga(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.CIRCLE_NODE),lm(Ga(i),"r",Tp,Ga(i)),i}return e=u,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Lp(na(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return Rp(Rp({},i),rn(a))}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.r;return[{x:i,y:a-f,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+f,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&Ip(e.prototype,n),r&&Ip(e,r),u}(wo)).prototype,"r",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Ku(Io.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Io.prototype,"width"),Io.prototype),Ku(Io.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Io.prototype,"height"),Io.prototype),Io);s(127);function Fp(t){return(Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $u(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Xp(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Xp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Up(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Up(Object(n),!0).forEach(function(r){$p(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ym(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kp(){return(Kp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=vm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function vm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ra(t))!==null;);return t}function Zp(t,e){return(Zp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function gm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ra(t);if(e){var o=ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mm(this,n)}}function mm(t,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(t)}function Ti(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ra(t){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function $p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Di(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var xo,qp,Jp,qu=(Hp=Di((Fn=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Zp(i,a)})(u,t);var e,n,r,o=gm(u);function u(){var i;ym(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return $p(Ti(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.DIAMOND_NODE),Vp(Ti(i),"rx",Hp,Ti(i)),Vp(Ti(i),"ry",Gp,Ti(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=Kp(ra(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Yp(Yp({},i),rn(a))}},{key:"points",get:function(){var i=this.x,a=this.y,f=this.rx,v=this.ry;return[[i,a-v],[i+f,a],[i,a+v],[i-f,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=$u(f,1)[0];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=$u(f,2)[1];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(a,f){var v=$u(a,2);return{x:v[0],y:v[1],id:"".concat(i.id,"_").concat(f)}})}}])&&Wp(e.prototype,n),r&&Wp(e,r),u}(wo)).prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Gp=Di(Fn.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Di(Fn.prototype,"points",[h.m],Object.getOwnPropertyDescriptor(Fn.prototype,"points"),Fn.prototype),Di(Fn.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(Fn.prototype,"pointsPosition"),Fn.prototype),Di(Fn.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(Fn.prototype,"width"),Fn.prototype),Di(Fn.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(Fn.prototype,"height"),Fn.prototype),Fn);function Qp(t){return(Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ed(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ed(Object(n),!0).forEach(function(r){ad(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function od(){return(od=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=_m(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function _m(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=oa(t))!==null;);return t}function id(t,e){return(id=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Om(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oa(t);if(e){var o=oa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wm(this,n)}}function wm(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(t)}function Ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oa(t){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ad(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fa(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var wr,ud,Ju=(qp=Fa((xo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&id(i,a)})(u,t);var e,n,r,o=Om(u);function u(){var i;bm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return ad(Ci(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.ELLIPSE_NODE),nd(Ci(i),"rx",qp,Ci(i)),nd(Ci(i),"ry",Jp,Ci(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=od(oa(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return td(td({},i),rn(a))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.rx,v=this.ry;return[{x:i,y:a-v,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+v,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&rd(e.prototype,n),r&&rd(e,r),u}(wo)).prototype,"rx",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Jp=Fa(xo.prototype,"ry",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Fa(xo.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(xo.prototype,"width"),xo.prototype),Fa(xo.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(xo.prototype,"height"),xo.prototype),xo);function sd(t){return(sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Qu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return cd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return cd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ld(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ld(Object(n),!0).forEach(function(r){yd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Em(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dd(){return(dd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Sm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Sm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ia(t))!==null;);return t}function hd(t,e){return(hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function jm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ia(t);if(e){var o=ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xa(t)}function Xa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function yd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ua(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var vd,gd,es=(ud=Ua((wr=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&hd(i,a)})(u,t);var e,n,r,o=jm(u);function u(){var i;Em(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return yd(Xa(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.POLYGON_NODE),xm(Xa(i),"points",ud,Xa(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=dd(ia(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return fd(fd({},i),rn(a))}},{key:"pointsPosition",get:function(){var i=this.x,a=this.y,f=this.width,v=this.height;return this.points.map(function(_){return{x:_[0]+i-f/2,y:_[1]+a-v/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=Qu(f,1)[0];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=Qu(f,2)[1];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this,a=this.x,f=this.y,v=this.width,_=this.height;return this.points.map(function(P,N){var I=Qu(P,2),Z=I[0],se=I[1];return{x:a+Z-v/2,y:f+se-_/2,id:"".concat(i.id,"_").concat(N)}})}}])&&pd(e.prototype,n),r&&pd(e,r),u}(wo)).prototype,"points",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ua(wr.prototype,"pointsPosition",[h.m],Object.getOwnPropertyDescriptor(wr.prototype,"pointsPosition"),wr.prototype),Ua(wr.prototype,"width",[h.m],Object.getOwnPropertyDescriptor(wr.prototype,"width"),wr.prototype),Ua(wr.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(wr.prototype,"height"),wr.prototype),wr);function md(t){return(md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bd(Object(n),!0).forEach(function(r){Ed(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function km(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wd(){return(wd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Nm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Nm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=aa(t))!==null;);return t}function xd(t,e){return(xd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Am(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=aa(t);if(e){var o=aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tm(this,n)}}function Tm(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ya(t)}function Ya(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aa(t){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ii,ts=(gd=function(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}((vd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&xd(i,a)})(u,t);var e,n,r,o=Am(u);function u(){var i;km(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Ed(Ya(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.RECT_NODE),Mm(Ya(i),"radius",gd,Ya(i)),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,v=this.height;return[{x:i,y:a-v/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+v/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=wd(aa(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return _d(_d({},i),rn(a))}}])&&Od(e.prototype,n),r&&Od(e,r),u}(wo)).prototype,"radius",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vd);function Sd(t){return(Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jd(Object(n),!0).forEach(function(r){Td(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Md(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kd(){return(kd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Cm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Cm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ua(t))!==null;);return t}function Nd(t,e){return(Nd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Rm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ua(t);if(e){var o=ua(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Im(this,n)}}function Im(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ad(t)}function Ad(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ua(t){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Td(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dd(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var ns=(Dd((ii=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Nd(i,a)})(u,t);var e,n,r,o=Rm(u);function u(){var i;Dm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Td(Ad(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.TEXT_NODE),i}return e=u,(n=[{key:"getTextStyle",value:function(){var i=kd(ua(u.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Pd(Pd({},i),rn(a))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return Ou({rows:i,fontSize:a,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return Ou({rows:i,fontSize:a,rowsLength:i.length}).height}}])&&Md(e.prototype,n),r&&Md(e,r),u}(wo)).prototype,"width",[h.m],Object.getOwnPropertyDescriptor(ii.prototype,"width"),ii.prototype),Dd(ii.prototype,"height",[h.m],Object.getOwnPropertyDescriptor(ii.prototype,"height"),ii.prototype),ii);function Cd(t){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Lm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Id(t,e){return(Id=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function zm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rs(t);if(e){var o=rs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ld(t)}function Ld(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Hm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $r,zd,Bd,Hd,os=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Id(i,a)})(u,t);var e,n,r,o=zm(u);function u(){var i;Lm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Hm(Ld(i=o.call.apply(o,[this].concat(f))),"modelType",Ct.HTML_NODE),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,v=this.height;return[{x:i,y:a-v/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+v/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}}])&&Rd(e.prototype,n),r&&Rd(e,r),u}(wo);function Gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function is(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sa(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Ud=(zd=sa(($r=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Xd(this,"graphModel",void 0),is(this,"isShowHorizontal",zd,this),is(this,"isShowVertical",Bd,this),is(this,"position",Hd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=o}var e,n,r;return e=t,(n=[{key:"getStyle",value:function(){return function(o){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?Gd(Object(i),!0).forEach(function(a){Xd(o,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Gd(Object(i)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(i,a))})}return o}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(o,u){for(var i=o.x,a=o.y,f=!1,v=!1,_=0;_<u.length;_++){var P=u[_];if(P.id!==o.id&&(i===P.x&&(f=!0),a===P.y&&(v=!0),f&&v))break}return{isShowVertical:f,isShowHorizontal:v,position:{x:i,y:a}}}},{key:"getHorizontalSnapline",value:function(o,u){var i,a,f=!1,v=o.id;if(v){var _=this.graphModel.fakerNode;if(_&&_.id===v)a=or(_);else{var P=this.graphModel.getNodeModelById(v);a=or(P)}}for(var N=0;N<u.length;N++){var I=u[N];if(I.id!==o.id){var Z=or(I);if(Z.minY===a.minY||Z.maxY===a.minY){f=!0,i=a.minY;break}if(Z.minY===a.maxY||Z.maxY===a.maxY){f=!0,i=a.maxY;break}}}return F({isShowHorizontal:f,position:{y:i}})}},{key:"getVerticalSnapline",value:function(o,u){var i,a,f=!1,v=o.id;if(v){var _=this.graphModel.fakerNode;if(_&&_.id===v)a=or(_);else{var P=this.graphModel.getNodeModelById(v);a=or(P)}}for(var N=0;N<u.length;N++){var I=u[N];if(I.id!==o.id){var Z=or(I);if(Z.minX===a.minX||Z.maxX===a.minX){f=!0,i=a.minX;break}if(Z.minX===a.maxX||Z.maxX===a.maxX){f=!0,i=a.maxX;break}}}return F({isShowVertical:f,position:{x:i}})}},{key:"getSnapLinePosition",value:function(o,u){var i=this.getCenterSnapLine(o,u),a=i.isShowHorizontal,f=i.isShowVertical;if(!a){var v=this.getHorizontalSnapline(o,u);v.isShowHorizontal&&(i.isShowHorizontal=v.isShowHorizontal,i.position.y=v.position.y)}if(!f){var _=this.getVerticalSnapline(o,u);_.isShowVertical&&(i.isShowVertical=_.isShowVertical,i.position.x=_.position.x)}return i}},{key:"setSnaplineInfo",value:function(o){var u=o.isShowHorizontal,i=o.isShowVertical,a=o.position;this.position=a,this.isShowHorizontal=u,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(o){var u=this.graphModel.nodes,i=this.getSnapLinePosition(o,u);this.setSnaplineInfo(i)}}])&&Fd(e.prototype,n),r&&Fd(e,r),t}()).prototype,"isShowHorizontal",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd=sa($r.prototype,"isShowVertical",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hd=sa($r.prototype,"position",[h.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sa($r.prototype,"clearSnapline",[h.k],Object.getOwnPropertyDescriptor($r.prototype,"clearSnapline"),$r.prototype),sa($r.prototype,"setNodeSnapLine",[h.k],Object.getOwnPropertyDescriptor($r.prototype,"setNodeSnapLine"),$r.prototype),$r);function Yd(t){return(Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Va(){return(Va=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Vd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vd(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Kd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Kd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $d(t,e){return($d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Fm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=as(t);if(e){var o=as(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xm(this,n)}}function Xm(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(t)}function qr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t){return(as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Um=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&$d(i,a)})(u,t);var e,n,r,o=Fm(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Jr(qr(i=o.call(this)),"preTargetNode",void 0),Jr(qr(i),"sourceRuleResults",void 0),Jr(qr(i),"targetRuleResults",void 0),Jr(qr(i),"dragHandler",void 0),Jr(qr(i),"t",void 0),Jr(qr(i),"onDragStart",function(a){var f=a.event,v=i.props,_=v.anchorData,P=v.nodeModel,N=v.graphModel,I=N.overlapMode;N.selectNodeById(P.id),I!==rr.INCREASE&&P.autoToFront&&N.toFront(P.id),N.eventCenter.emit(wt.ANCHOR_DRAGSTART,{data:_,e:f,nodeModel:P}),i.setState({startX:_.x,startY:_.y,endX:_.x,endY:_.y})}),Jr(qr(i),"onDraging",function(a){var f=a.event,v=i.props,_=v.graphModel,P=v.nodeModel,N=v.anchorData,I=_.transformModel,Z=_.eventCenter,se=_.width,he=_.height,je=_.editConfigModel,Oe=f.clientX,we=f.clientY,Le=_.getPointByClient({x:Oe,y:we}),Ke=Le.domOverlayPosition,Fe=Ke.x,Je=Ke.y,ht=Le.canvasOverlayPosition,xt=ht.x,kt=ht.y;i.t&&clearInterval(i.t);var $t=[];Fe<10?$t=[10,0]:Fe+10>se?$t=[-10,0]:Je<10?$t=[0,10]:Je+10>he&&($t=[0,-10]),i.setState({endX:xt,endY:kt,draging:!0}),i.moveAnchorEnd(xt,kt),$t.length>0&&!je.stopMoveGraph&&(i.t=setInterval(function(){var pn=Gm($t,2),Sn=pn[0],Un=pn[1];I.translate(Sn,Un);var jn=i.state,Po=jn.endX,no=jn.endY;i.setState({endX:Po-Sn,endY:no-Un}),i.moveAnchorEnd(Po-Sn,no-Un)},50)),Z.emit(wt.ANCHOR_DRAG,{data:N,e:f,nodeModel:P})}),Jr(qr(i),"onDragEnd",function(a){i.t&&clearInterval(i.t),i.checkEnd(),i.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var f=i.props,v=f.graphModel,_=f.nodeModel,P=f.anchorData;v.eventCenter.emit(wt.ANCHOR_DROP,{data:P,e:a,nodeModel:_})}),Jr(qr(i),"checkEnd",function(){var a=i.props,f=a.graphModel,v=a.nodeModel,_=a.anchorData,P=_.x,N=_.y,I=_.id,Z=f.edgeType,se=i.state,he=se.endX,je=se.endY,Oe=se.draging,we=Oa({x:he,y:je},f);if(i.preTargetNode&&i.preTargetNode.state!==Yt.DEFAULT&&i.preTargetNode.setElementState(Yt.DEFAULT),Oe&&we&&we.node){var Le=we.node,Ke=we.anchor.id,Fe="".concat(v.id,"_").concat(Le.id,"_").concat(Ke,"_").concat(I),Je=i.sourceRuleResults.get(Fe)||{},ht=Je.isAllPass,xt=Je.msg,kt=i.targetRuleResults.get(Fe)||{},$t=kt.isAllPass,pn=kt.msg;if(ht&&$t)Le.setElementState(Yt.DEFAULT),f.addEdge({type:Z,sourceNodeId:v.id,sourceAnchorId:I,startPoint:{x:P,y:N},targetNodeId:we.node.id,targetAnchorId:we.anchor.id,endPoint:{x:we.anchor.x,y:we.anchor.y}});else{var Sn=Le.getData();f.eventCenter.emit(wt.CONNECTION_NOT_ALLOWED,{data:Sn,msg:pn||xt})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,draging:!1},i.dragHandler=new ni({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"getAnchorShape",value:function(){var i=this.props,a=i.anchorData,f=i.style,v=i.node.getAnchorShape(a);if(v)return v;var _=a.x,P=a.y,N=Wd(Wd({},f),f.hover);return Object(ie.g)("g",null,Object(ie.g)(ta,Va({className:"lf-node-anchor-hover"},N,{x:_,y:P})),Object(ie.g)(ta,Va({className:"lf-node-anchor"},f,{x:_,y:P})))}},{key:"moveAnchorEnd",value:function(i,a){var f=this.props,v=f.graphModel,_=f.nodeModel,P=f.anchorData,N=Oa({x:i,y:a},v);if(N){var I=N.node,Z=N.anchor.id;if(this.preTargetNode&&this.preTargetNode!==N.node&&this.preTargetNode.setElementState(Yt.DEFAULT),P.id===Z)return;this.preTargetNode=I;var se="".concat(_.id,"_").concat(I.id,"_").concat(Z,"_").concat(P.id);if(!this.targetRuleResults.has(se)){var he=N.anchor,je=_.isAllowConnectedAsSource(I,P,he),Oe=I.isAllowConnectedAsTarget(_,P,he);this.sourceRuleResults.set(se,wa(je)),this.targetRuleResults.set(se,wa(Oe))}var we=this.sourceRuleResults.get(se).isAllPass,Le=this.targetRuleResults.get(se).isAllPass;we&&Le?I.setElementState(Yt.ALLOW_CONNECT):I.setElementState(Yt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Yt.DEFAULT&&this.preTargetNode.setElementState(Yt.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,a=i.startX,f=i.startY,v=i.endX,_=i.endY;return Vr(a,f,v,_)>10}},{key:"render",value:function(){var i=this,a=this.state,f=a.startX,v=a.startY,_=a.endX,P=a.endY,N=this.props,I=N.anchorData.edgeAddable,Z=N.edgeStyle;return Object(ie.g)("g",{className:"lf-anchor"},Object(ie.g)("g",{onMouseDown:function(se){I!==!1&&i.dragHandler.handleMouseDown(se)}},this.getAnchorShape()),this.isShowLine()&&Object(ie.g)(ri,Va({x1:f,y1:v,x2:_,y2:P},Z,{"pointer-events":"none"})))}}])&&Zd(e.prototype,n),r&&Zd(e,r),u}(ie.a);s(63);function qd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qd(Object(n),!0).forEach(function(r){Vm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jd(t){return(Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Qd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Qd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eh(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.value,i=t.fontSize,a=t.fill,f=a===void 0?"currentColor":a,v=t.overflowMode,_=v===void 0?"default":v,P=t.textWidth,N=P===void 0?"":P,I=t.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:f};if(Object.entries(t).forEach(function(Le){var Ke=Wm(Le,2),Fe=Ke[0],Je=Ke[1];Jd(Je)!=="object"&&(Z[Fe]=Je)}),u){var se=String(u).split(/[\r\n]/g),he=se.length;if(_!=="default"){var je=I.BaseType,Oe=I.modelType;if(je===hn.NODE&&Oe!==Ct.TEXT_NODE||je===hn.EDGE&&N)return function(Le){var Ke=Le.value,Fe=Le.fontSize,Je=Le.model,ht=Le.fontFamily,xt=ht===void 0?"":ht,kt=Le.lineHeight,$t=Le.wrapPadding,pn=$t===void 0?"0, 0":$t,Sn=Le.overflowMode,Un=Le.x,jn=Le.y,Po=Je.width,no=Je.textHeight,Mo=Le.textWidth||Po,ha=String(Ke).split(/[\r\n]/g),qa=ha.length,Ja=Qc({rows:ha,style:{fontSize:"".concat(Fe,"px"),width:"".concat(Mo,"px"),fontFamily:xt,lineHeight:kt,padding:pn},rowsLength:qa,className:"lf-get-text-height"}),zi=Je.height>Ja?Je.height:Ja;no&&(zi=no);var Bi=Sn==="ellipsis";return Object(ie.g)("g",null,Object(ie.g)("foreignObject",{width:Mo,height:zi,x:Un-Mo/2,y:jn-zi/2},Object(ie.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:zi,width:Mo,padding:pn}},Object(ie.g)("div",{className:Bi?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:Ym({},Le)},ha.map(function(Bo){return Object(ie.g)("div",{className:"lf-node-text--auto-wrap-inner"},Bo)})))))}(t)}if(he>1){var we=se.map(function(Le,Ke){var Fe=(Ke-(he-1)/2)*(i+2);return Object(ie.g)("tspan",{className:"lf-text-tspan",x:n,y:o+Fe},Le)});return Object(ie.g)("text",Z,we)}return Object(ie.g)("text",Z,u)}}function th(t){return(th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nh(){return(nh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Km(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return rh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return rh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ih(t,e){return(ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Zm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=us(t);if(e){var o=us(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $m(this,n)}}function $m(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lo(t)}function Lo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function us(t){return(us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ai(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ah=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ih(i,a)})(u,t);var e,n,r,o=Zm(u);function u(i){var a;(function(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")})(this,u),ai(Lo(a=o.call(this)),"dragHandler",void 0),ai(Lo(a),"sumDeltaX",0),ai(Lo(a),"sumDeltaY",0),ai(Lo(a),"stepDrag",void 0),ai(Lo(a),"onDraging",function(_){var P=_.deltaX,N=_.deltaY,I=a.props,Z=I.model,se=Km(I.graphModel.transformModel.fixDeltaXY(P,N),2),he=se[0],je=se[1];Z.moveText(he,je)}),ai(Lo(a),"dblClickHandler",function(){a.props.editable&&a.props.model.setElementState(Yt.TEXT_EDIT)}),ai(Lo(a),"mouseDownHandle",function(_){var P=a.props,N=P.draggable,I=P.graphModel.editConfigModel.nodeTextDraggable;(N||I)&&a.stepDrag.handleMouseDown(_)});var f=i.model,v=i.draggable;return a.stepDrag=new ni({onDraging:a.onDraging,step:1,model:f,isStopPropagation:v}),a}return e=u,(n=[{key:"getShape",value:function(){var i=this.props,a=i.model,f=i.graphModel,v=a.text,_=f.editConfigModel,P=v.value,N=v.x,I=v.y,Z=v.editable,se=v.draggable,he={x:N,y:I,className:"",value:P};Z?he.className="lf-element-text":se||_.nodeTextDraggable?he.className="lf-text-draggable":he.className="lf-text-disabled";var je=a.getTextStyle();return Object(ie.g)(eh,nh({},he,je,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ie.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&oh(e.prototype,n),r&&oh(e,r),u}(ie.a),qm=window.navigator.userAgent.match(/MSIE|Trident/)!==null,ca=new Map,uh=function(t){var e=ca.get(t);e&&(window.cancelAnimationFrame(e),ca.delete(t))};function sh(t){return(sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ch(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ch(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fh(t,e){return(fh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Jm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ss(t);if(e){var o=ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}function In(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ss(t){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Eo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&fh(i,a)})(u,t);var e,n,r,o=Jm(u);function u(i){var a;(function(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")})(this,u),Xn(In(a=o.call(this)),"t",void 0),Xn(In(a),"moveOffset",void 0),Xn(In(a),"stepDrag",void 0),Xn(In(a),"contextMenuTime",void 0),Xn(In(a),"startTime",void 0),Xn(In(a),"clickTimer",void 0),Xn(In(a),"onDragStart",function(N){var I=N.event,Z=I.clientX,se=I.clientY,he=a.props,je=he.model,Oe=he.graphModel.getPointByClient({x:Z,y:se}).canvasOverlayPosition,we=Oe.x,Le=Oe.y;a.moveOffset={x:je.x-we,y:je.y-Le}}),Xn(In(a),"onDraging",function(N){var I=N.event,Z=a.props,se=Z.model,he=Z.graphModel,je=he.editConfigModel,Oe=he.transformModel,we=he.width,Le=he.height,Ke=he.gridSize;se.isDragging=!0;var Fe=I.clientX,Je=I.clientY,ht=he.getPointByClient({x:Fe,y:Je}).canvasOverlayPosition,xt=ht.x,kt=ht.y,$t=Wa(Oe.CanvasPointToHtmlPoint([xt,kt]),2),pn=$t[0],Sn=$t[1];if(!(pn<0||Sn<0||pn>we||Sn>Le)){xt+=a.moveOffset.x,kt+=a.moveOffset.y,xt=Mi(xt,Ke),kt=Mi(kt,Ke);var Un,jn,Po,no=Wa(Oe.CanvasPointToHtmlPoint([xt-se.width/2,kt-se.height/2]),2),Mo=no[0],ha=no[1],qa=Wa(Oe.CanvasPointToHtmlPoint([xt+se.width/2,kt+se.height/2]),2),Ja=qa[0],zi=qa[1],Bi=Math.max(Ke,20),Bo=[];Mo<0?Bo=[Bi,0]:Ja>he.width?Bo=[-Bi,0]:ha<0?Bo=[0,Bi]:zi>he.height&&(Bo=[0,-Bi]),a.t&&uh(a.t),Bo.length>0&&!je.stopMoveGraph?a.t=(Un=function(){var Qa=Wa(Bo,2),eu=Qa[0],rv=Qa[1];Oe.translate(eu,rv),he.moveNode(se.id,-eu/Oe.SCALE_X,-rv/Oe.SCALE_X)},jn=ei(),Po=window.requestAnimationFrame(function Qa(){if(Un(),ca.get(jn)){var eu=window.requestAnimationFrame(Qa);ca.set(jn,eu)}}),ca.set(jn,Po),jn):he.moveNode2Coordinate(se.id,xt,kt)}}),Xn(In(a),"onDragEnd",function(){a.t&&uh(a.t),a.props.model.isDragging=!1}),Xn(In(a),"handleClick",function(N){if(a.startTime&&!(new Date().getTime()-a.startTime>200)){var I=a.props,Z=I.model,se=I.graphModel,he={data:Z.getData(),e:N,position:se.getPointByClient({x:N.clientX,y:N.clientY})},je=N.button===2,Oe=N.detail===2;if(!je){var we=se.editConfigModel;se.selectNodeById(Z.id,Mc(N,we)),a.toFront(),Oe?(we.nodeTextEdit&&Z.text.editable&&(Z.setSelected(!1),se.setElementStateById(Z.id,Yt.TEXT_EDIT)),se.eventCenter.emit(wt.NODE_DBCLICK,he)):(se.eventCenter.emit(wt.ELEMENT_CLICK,he),se.eventCenter.emit(wt.NODE_CLICK,he))}}}),Xn(In(a),"handleContextMenu",function(N){N.preventDefault();var I=a.props,Z=I.model,se=I.graphModel,he=Z.getData(),je=se.getPointByClient({x:N.clientX,y:N.clientY});se.setElementStateById(Z.id,Yt.SHOW_MENU,je.domOverlayPosition),se.selectNodeById(Z.id),se.eventCenter.emit(wt.NODE_CONTEXTMENU,{data:he,e:N,position:je}),a.toFront()}),Xn(In(a),"handleMouseDown",function(N){var I=a.props,Z=I.model,se=I.graphModel;a.toFront(),a.startTime=new Date().getTime(),se.editConfigModel.adjustNodePosition&&Z.draggable&&a.stepDrag&&a.stepDrag.handleMouseDown(N)}),Xn(In(a),"setHoverON",function(N){if(!a.state.isHovered){a.setState({isHovered:!0});var I=a.props,Z=I.model,se=I.graphModel,he=Z.getData();Z.setHovered(!0),se.eventCenter.emit(wt.NODE_MOUSEENTER,{data:he,e:N})}}),Xn(In(a),"setHoverOFF",function(N){a.setState({isHovered:!1});var I=a.props,Z=I.model,se=I.graphModel,he=Z.getData();Z.setHovered(!1),se.eventCenter.emit(wt.NODE_MOUSELEAVE,{data:he,e:N})}),Xn(In(a),"onMouseOut",function(N){qm&&a.setHoverOFF(N)});var f=i.graphModel,v=f.gridSize,_=f.eventCenter,P=i.model;return a.stepDrag=new ni({onDragStart:a.onDragStart,onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:v,eventType:"NODE",isStopPropagation:!1,eventCenter:_,model:P}),a.state={isHovered:!1},a}return e=u,r=[{key:"getModel",value:function(i){return i}}],(n=[{key:"getAnchorShape",value:function(i){return null}},{key:"getAnchors",value:function(){var i=this,a=this.props,f=a.model,v=a.graphModel,_=f.isSelected,P=f.isHitable,N=f.isDragging,I=this.state.isHovered;if(P&&(_||I)&&!N){var Z=f.getAnchorLineStyle();return Yi(f.anchors,function(se,he){var je=f.getAnchorStyle(se);return Object(ie.g)(Um,{anchorData:se,node:i,style:je,edgeStyle:Z,anchorIndex:he,nodeModel:f,graphModel:v,setHoverOFF:i.setHoverOFF})})}return[]}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Yt.TEXT_EDIT)return"";if(a.text){var v=f.editConfigModel,_=!1;return(a.text.draggable||v.nodeTextDraggable)&&(_=!0),Object(ie.g)(ah,{editable:v.nodeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:_})}}},{key:"getStateClassName",value:function(){var i=this.props.model,a=i.state,f=i.isDraging,v="lf-node";switch(a){case Yt.ALLOW_CONNECT:v+=" lf-node-allow";break;case Yt.NOT_ALLOW_CONNECT:v+=" lf-node-not-allow";break;default:v+=" lf-node-default"}return f&&(v+=" lf-isDragging"),v}},{key:"toFront",value:function(){var i=this.props,a=i.model,f=i.graphModel;f.overlapMode!==rr.INCREASE&&a.autoToFront&&f.toFront(a.id)}},{key:"render",value:function(){var i,a=this.props,f=a.model,v=a.graphModel,_=v.editConfigModel,P=_.hideAnchors,N=_.adjustNodePosition,I=v.gridSize,Z=v.transformModel.SCALE_X,se=f.isHitable,he=f.draggable,je=Object(ie.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),P?null:this.getAnchors());return se?(N&&he&&this.stepDrag.setStep(I*Z),i=Object(ie.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},je)):i=Object(ie.g)("g",{className:this.getStateClassName()},je),i}}])&&lh(e.prototype,n),r&&lh(e,r),u}(ie.a);function ph(t){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dh(){return(dh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function eb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yh(t,e){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function tb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cs(t);if(e){var o=cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nb(this,n)}}function nb(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function cs(t){return(cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ls=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&yh(i,a)})(u,t);var e,n,r,o=tb(u);function u(){return eb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(ie.g)(Ro,dh({},a,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&hh(e.prototype,n),r&&hh(e,r),u}(Eo);function vh(t){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gh(){return(gh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function rb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bh(t,e){return(bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ob(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fs(t);if(e){var o=fs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ib(this,n)}}function ib(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ps=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&bh(i,a)})(u,t);var e,n,r,o=ob(u);function u(){return rb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,v=i.r,_=i.getNodeStyle();return Object(ie.g)(ta,gh({},_,{x:a,y:f,r:v}))}}])&&mh(e.prototype,n),r&&mh(e,r),u}(Eo);function _h(t){return(_h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ab(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Oh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Oh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wh(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(o){var u=ab(o,2),i=u[0],a=u[1];_h(a)!=="object"&&(r[i]=a)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(o){return o.join(",")}).join(" "),Object(ie.g)("polygon",r)}function xh(t){return(xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Eh(){return(Eh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ub(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return(jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function sb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ds(t);if(e){var o=ds(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cb(this,n)}}function cb(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ds(t){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var hs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&jh(i,a)})(u,t);var e,n,r,o=sb(u);function u(){return ub(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,v=i.width,_=i.height,P=i.points,N=i.getNodeStyle(),I={transform:"matrix(1 0 0 1 ".concat(a-v/2," ").concat(f-_/2,")")};return Object(ie.g)("g",I,Object(ie.g)(wh,Eh({},N,{points:P,x:a,y:f})))}}])&&Sh(e.prototype,n),r&&Sh(e,r),u}(Eo);function Ph(t){return(Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mh(){return(Mh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nh(t,e){return(Nh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function fb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ys(t);if(e){var o=ys(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pb(this,n)}}function pb(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var vs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Nh(i,a)})(u,t);var e,n,r,o=fb(u);function u(){return lb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(ie.g)("g",null,Object(ie.g)(wh,Mh({},a,{points:i.points,x:i.x,y:i.y})))}}])&&kh(e.prototype,n),r&&kh(e,r),u}(Eo);function Ah(t){return(Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function db(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Th(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Th(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Th(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hb(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.rx,i=u===void 0?4:u,a=t.ry,f=a===void 0?4:a,v=t.className,_={cx:n,cy:o,rx:i,ry:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(P){var N=db(P,2),I=N[0],Z=N[1];Ah(Z)!=="object"&&(_[I]=Z)}),_.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(ie.g)("ellipse",_)}function Dh(t){return(Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ch(){return(Ch=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function yb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ih(t,e){return(Ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function vb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gs(t);if(e){var o=gs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gb(this,n)}}function gb(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ms=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ih(i,a)})(u,t);var e,n,r,o=vb(u);function u(){return yb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(ie.g)(hb,Ch({},a,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&Rh(e.prototype,n),r&&Rh(e,r),u}(Eo);function Lh(t){return(Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zh(Object(n),!0).forEach(function(r){mb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gh(t,e){return(Gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function _b(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bs(t);if(e){var o=bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ob(this,n)}}function Ob(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var _s=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Gh(i,a)})(u,t);var e,n,r,o=_b(u);function u(){return bb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text;if(f&&f.value&&a.background&&a.background.fill!=="transparnet"){var v=f.x,_=f.y,P=i.width,N=i.height,I=Bh(Bh({},a.background),{},{x:v,y:_-1,width:P,height:N});return Object(ie.g)(Ro,I)}}},{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getBackgroud())}}])&&Hh(e.prototype,n),r&&Hh(e,r),u}(Eo);function Fh(t){return(Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uh(t,e){return(Uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function xb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Os(t);if(e){var o=Os(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eb(this,n)}}function Eb(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(t)}function la(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Os(t){return(Os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ka(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ws=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Uh(i,a)})(u,t);var e,n,r,o=xb(u);function u(){var i;wb(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Ka(la(i=o.call.apply(o,[this].concat(f))),"ref",void 0),Ka(la(i),"currrentProperties",void 0),Ka(la(i),"preProperties",void 0),Ka(la(i),"setRef",function(_){i.ref=_}),i}return e=u,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,v=i.height,_=i.width;return this.currrentProperties=JSON.stringify(i.properties),Object(ie.g)("foreignObject",{x:a-_/2,y:f-v/2,width:_,height:v,ref:this.setRef})}}])&&Xh(e.prototype,n),r&&Xh(e,r),u}(Eo);function Yh(t){return(Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Sb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Vh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ri=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=Sb(n,2),o=r[0],u=r[1];Yh(u)!=="object"&&(e[o]=u)}),Object(ie.g)("path",e)};function Wh(t){return(Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Kh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function jb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $h(t,e){return($h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Mb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xs(t);if(e){var o=xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kb(this,n)}}function kb(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function xs(t){return(xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var qh=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&$h(i,a)})(u,t);var e,n,r,o=Mb(u);function u(){return Pb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getArrowAttributes",value:function(){var i=this.props,a=i.arrowInfo,f=i.style,v=a.start,_=a.end,P={start:v,end:_,offset:f.offset,verticalLength:f.verticalLength,type:"end"},N=qi(P),I=N.leftX,Z=N.leftY,se=N.rightX,he=N.rightY;return function(je){for(var Oe=1;Oe<arguments.length;Oe++){var we=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Kh(Object(we),!0).forEach(function(Le){jb(je,Le,we[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(je,Object.getOwnPropertyDescriptors(we)):Kh(Object(we)).forEach(function(Le){Object.defineProperty(je,Le,Object.getOwnPropertyDescriptor(we,Le))})}return je}({d:"M".concat(I," ").concat(Z," L").concat(_.x," ").concat(_.y," L").concat(se," ").concat(he," z")},f)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),a=i.d,f=i.strokeWidth,v=i.stroke,_=i.fill;return Object(ie.g)(Ri,{d:a,fill:_,strokeWidth:f,stroke:v})}},{key:"render",value:function(){return Object(ie.g)("g",{className:"lf-arrow"},this.getShape())}}])&&Zh(e.prototype,n),r&&Zh(e,r),u}(ie.a);function Jh(t){return(Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Qh(){return(Qh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ey(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(n),!0).forEach(function(r){js(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ny(t,e){return(ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Nb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ss(t);if(e){var o=Ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ab(this,n)}}function Ab(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Es(t)}function Es(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ss(t){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function js(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qr,Tb=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ny(i,a)})(u,t);var e,n,r,o=Nb(u);function u(i){var a;return function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),js(Es(a=o.call(this,i)),"setHoverON",function(){a.setState({isHoverd:!0})}),js(Es(a),"setHoverOFF",function(){a.setState({isHoverd:!1})}),a.state={isHoverd:!1},a}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text,v=a.background||{};if(this.state.isHoverd&&a.hover&&a.hover.background&&(v=ui(ui({},v),a.hover.background)),f&&f.value&&v.fill!=="transparnet"){var _,P=a.fontSize,N=a.overflowMode,I=a.lineHeight,Z=a.wrapPadding,se=a.textWidth,he=f.value,je=f.x,Oe=f.y,we=String(he).split(/[\r\n]/g),Le=we.length;if(N==="autoWrap"&&se){var Ke=Qc({rows:we,style:{fontSize:"".concat(P,"px"),width:"".concat(se,"px"),lineHeight:I,padding:Z},rowsLength:Le,className:"lf-get-text-height"});_=ui(ui({},v),{},{x:je-1,y:Oe-1,width:se,height:Ke})}else{var Fe=0;we&&we.forEach(function(kt){var $t=Nl(kt);Fe=$t>Fe?$t:Fe});var Je=Ou({rows:we,fontSize:P,rowsLength:Le}),ht=Je.width,xt=Je.height;_=ui(ui({},v),{},{x:je-1,y:Oe-1,width:ht,height:xt})}return Object(ie.g)(Ro,_)}}},{key:"getShape",value:function(){var i=this.props.model,a=i.text,f=a.value,v=a.x,_=a.y;if(f){var P=ui({x:v,y:_,className:"lf-element-text",value:f},i.getTextStyle());return Object(ie.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(ie.g)(eh,Qh({},P,{model:i})))}}}])&&ty(e.prototype,n),r&&ty(e,r),u}(ah);function ry(t){return(ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function oy(){return(oy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iy(Object(n),!0).forEach(function(r){Er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Db(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ay(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ay(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sy(t,e){return(sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Cb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ps(t);if(e){var o=Ps(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rb(this,n)}}function Rb(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xr(t)}function xr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Qr||(Qr={}));var cy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&sy(i,a)})(u,t);var e,n,r,o=Cb(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Er(xr(i=o.call(this)),"dragHandler",void 0),Er(xr(i),"oldEdge",void 0),Er(xr(i),"preTargetNode",void 0),Er(xr(i),"targetRuleResults",void 0),Er(xr(i),"sourceRuleResults",void 0),Er(xr(i),"onDragStart",function(){var a=i.props,f=a.x,v=a.y,_=a.edgeModel,P=_.startPoint,N=_.endPoint,I=_.pointsList;i.oldEdge={startPoint:P,endPoint:N,pointsList:I},i.setState({endX:f,endY:v,draging:!0}),_.isHitable=!1}),Er(xr(i),"onDraging",function(a){var f=a.deltaX,v=a.deltaY,_=i.state,P=_.endX,N=_.endY,I=i.props,Z=I.graphModel,se=I.type,he=Db(Z.transformModel.moveCanvasPointByHtml([P,N],f,v),2),je=he[0],Oe=he[1];i.setState({endX:je,endY:Oe,draging:!0});var we=i.props.edgeModel,Le=Oa({x:P,y:N},Z);if(Le&&Le.node&&i.isAllowAdjust(Le)){var Ke,Fe=we.startPoint,Je=we.endPoint,ht=we.sourceNode,xt=we.targetNode;se===Qr.SOURCE?Ke={startPoint:{x:Le.anchor.x,y:Le.anchor.y},endPoint:{x:Je.x,y:Je.y},sourceNode:Le.node,targetNode:xt}:se===Qr.TARGET&&(Ke={startPoint:{x:Fe.x,y:Fe.y},endPoint:{x:Le.anchor.x,y:Le.anchor.y},sourceNode:ht,targetNode:Le.node}),we.updateAfterAdjustStartAndEnd(Ke)}else se===Qr.SOURCE?we.updateStartPoint({x:je,y:Oe}):se===Qr.TARGET&&we.updateEndPoint({x:je,y:Oe})}),Er(xr(i),"onDragEnd",function(){var a;i.setState({draging:!1});var f=i.props,v=f.graphModel,_=f.edgeModel,P=f.type;_.isHitable=!0;var N=i.state,I=N.endX,Z=N.endY,se=N.draging,he=Oa({x:I,y:Z},v);if(se){if(he&&he.node&&i.isAllowAdjust(he)){var je,Oe=_.getData(),we=So(So({},Oe),{},{sourceAnchorId:"",targetAnchorId:"",text:(Oe==null||(je=Oe.text)===null||je===void 0?void 0:je.value)||""});P===Qr.SOURCE?we=So(So({},we),{},{sourceNodeId:he.node.id,sourceAnchorId:he.anchor.id,startPoint:{x:he.anchor.x,y:he.anchor.y},targetNodeId:_.targetNodeId,endPoint:So({},_.endPoint)}):P===Qr.TARGET&&(we=So(So({},we),{},{sourceNodeId:_.sourceNodeId,startPoint:So({},_.startPoint),targetNodeId:he.node.id,targetAnchorId:he.anchor.id,endPoint:{x:he.anchor.x,y:he.anchor.y}})),v.deleteEdgeById(_.id);var Le=v.addEdge(So({},we));v.eventCenter.emit(wt.EDGE_EXCHANGE_NODE,{data:{newEdge:Le.getData(),oldEdge:_.getData()}})}else i.recoveryEdge();(a=i.preTargetNode)===null||a===void 0||a.setElementState(Yt.DEFAULT)}}),Er(xr(i),"recoveryEdge",function(){var a=i.props.edgeModel,f=i.oldEdge,v=f.startPoint,_=f.endPoint,P=f.pointsList;a.updateStartPoint(v),a.updateEndPoint(_),a.modelType!==Ct.LINE_EDGE&&(a.pointsList=P,a.initPoints())}),Er(xr(i),"getAdjustPointStyle",function(){return i.props.graphModel.theme.edgeAdjust}),i.state={draging:!1,endX:0,endY:0},i.targetRuleResults=new Map,i.sourceRuleResults=new Map,i.dragHandler=Du({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"isAllowAdjust",value:function(i){var a=this.props,f=a.edgeModel,v=(f.id,f.sourceNode),_=f.targetNode,P=f.sourceAnchorId,N=f.targetAnchorId,I=a.type,Z=null,se=null,he=null,je=null;if(I===Qr.SOURCE?(Z=i.node,se=_,he=i.anchor,je=_.getAnchorInfo(N)):(Z=v,se=i.node,je=i.anchor,he=v.getAnchorInfo(P)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(Yt.DEFAULT),this.preTargetNode=i.node,je.id===he.id)return!1;var Oe="".concat(Z.id,"_").concat(se.id,"_").concat(he.id,"_").concat(je.id);if(!this.targetRuleResults.has(Oe)){var we=Z.isAllowConnectedAsSource(se,he,je),Le=se.isAllowConnectedAsTarget(Z,he,je);this.sourceRuleResults.set(Oe,wa(we)),this.targetRuleResults.set(Oe,wa(Le))}var Ke=this.sourceRuleResults.get(Oe).isAllPass,Fe=this.targetRuleResults.get(Oe).isAllPass,Je=Ke&&Fe?Yt.ALLOW_CONNECT:Yt.NOT_ALLOW_CONNECT;return I===Qr.SOURCE?Z.setElementState(Je):se.setElementState(Je),Ke&&Fe}},{key:"render",value:function(){var i=this.props,a=i.x,f=i.y,v=this.state.draging,_=this.getAdjustPointStyle();return Object(ie.g)("g",null,Object(ie.g)(ta,oy({className:"lf-edge-adjust-point"},_,{x:a,y:f,onMouseDown:this.dragHandler,"pointer-events":v?"none":""})))}}])&&uy(e.prototype,n),r&&uy(e,r),u}(ie.a);function ly(t){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ms(){return(Ms=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function fy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fy(Object(n),!0).forEach(function(r){jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(t,e){return(hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Lb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ks(t);if(e){var o=ks(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zb(this,n)}}function zb(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sr(t)}function Sr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ks(t){return(ks=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fa=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&hy(i,a)})(u,t);var e,n,r,o=Lb(u);function u(){var i;Ib(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return jr(Sr(i=o.call.apply(o,[this].concat(f))),"startTime",void 0),jr(Sr(i),"contextMenuTime",void 0),jr(Sr(i),"clickTimer",void 0),jr(Sr(i),"handleHover",function(_,P){var N=i.props,I=N.model,Z=N.graphModel.eventCenter;I.setHovered(_);var se=_?wt.EDGE_MOUSEENTER:wt.EDGE_MOUSELEAVE,he=I.getData();Z.emit(se,{data:he,e:P})}),jr(Sr(i),"setHoverON",function(_){i.handleHover(!0,_)}),jr(Sr(i),"setHoverOFF",function(_){i.handleHover(!1,_)}),jr(Sr(i),"handleContextMenu",function(_){_.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var P=i.props,N=P.model,I=P.graphModel,Z=I.getPointByClient({x:_.clientX,y:_.clientY});I.setElementStateById(N.id,Yt.SHOW_MENU,Z.domOverlayPosition),i.toFront(),I.selectEdgeById(N.id);var se=N==null?void 0:N.getData();I.eventCenter.emit(wt.EDGE_CONTEXTMENU,{data:se,e:_,position:Z})}),jr(Sr(i),"handleMouseDown",function(_){_.stopPropagation(),i.startTime=new Date().getTime()}),jr(Sr(i),"handleMouseUp",function(_){if(i.startTime&&!(new Date().getTime()-i.startTime>200||_.button===2)){var P=_.detail===2,N=i.props,I=N.model,Z=N.graphModel,se=I==null?void 0:I.getData(),he=Z.getPointByClient({x:_.clientX,y:_.clientY});if(P){var je=Z.editConfigModel,Oe=Z.textEditElement;if(Oe&&Oe.id===I.id&&Z.setElementStateById(I.id,Yt.DEFAULT),je.edgeTextEdit&&I.text.editable&&Z.setElementStateById(I.id,Yt.TEXT_EDIT),I.modelType===Ct.POLYLINE_EDGE){var we=I,Le=Z.getPointByClient({x:_.x,y:_.y}).canvasOverlayPosition,Ke=Le.x,Fe=Le.y,Je=Tl({x:Ke,y:Fe},we.points);we.dbClickPosition=Je}Z.eventCenter.emit(wt.EDGE_DBCLICK,{data:se,e:_,position:he})}else Z.eventCenter.emit(wt.ELEMENT_CLICK,{data:se,e:_,position:he}),Z.eventCenter.emit(wt.EDGE_CLICK,{data:se,e:_,position:he});var ht=Z.editConfigModel;Z.selectEdgeById(I.id,Mc(_,ht)),i.toFront()}}),jr(Sr(i),"getIsDraging",function(){return!1}),i}return e=u,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Yt.TEXT_EDIT)return"";var v=!1,_=f.editConfigModel;return(a.text.draggable||_.edgeTextDraggable)&&(v=!0),Object(ie.g)(Tb,{editable:_.edgeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:v})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,v=i.isSelected;return{start:a,end:f,hover:this.state.hover,isSelected:v}}},{key:"getArrowStyle",value:function(){var i=this.props,a=i.model,f=i.graphModel,v=a.getEdgeStyle(),_=f.theme.arrow;return py(py({},v),{},{fill:v.stroke},_)}},{key:"getArrow",value:function(){var i=this.getArrowInfo(),a=i.start,f=i.end;if(a&&f&&(a.x!==f.x||a.y!==f.y)){var v=this.getArrowStyle();return Object(ie.g)(qh,{arrowInfo:i,style:v})}}},{key:"getAdjustPoints",value:function(){var i=this.props,a=i.model,f=i.graphModel,v=a.getAdjustStart(),_=a.getAdjustEnd();return Object(ie.g)("g",null,Object(ie.g)(cy,Ms({type:"SOURCE"},v,{edgeModel:a,graphModel:f})),Object(ie.g)(cy,Ms({type:"TARGET"},_,{edgeModel:a,graphModel:f})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ie.g)("g",null)}},{key:"getAppend",value:function(){return Object(ie.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var i=this.props,a=i.graphModel,f=i.model;a.overlapMode!==rr.INCREASE&&a.toFront(f.id)}},{key:"render",value:function(){var i=this.props,a=i.model,f=a.isSelected,v=a.isHitable,_=i.graphModel,P=this.getIsDraging(),N=_.editConfigModel.adjustEdgeStartAndEnd,I=_.animation,Z=f&&I.edge&&_.getSelectElements().edges.length===1;return Object(ie.g)("g",null,Object(ie.g)("g",{className:v?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),Z&&this.getAnimation(),this.getText(),this.getArrow()),N&&f&&!P?this.getAdjustPoints():"")}}])&&dy(e.prototype,n),r&&dy(e,r),u}(ie.a);function yy(t){return(yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ns(){return(Ns=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gy(t,e){return(gy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Hb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=As(t);if(e){var o=As(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(t,e){if(e&&(yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function As(t){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ts=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&gy(i,a)})(u,t);var e,n,r,o=Hb(u);function u(){return Bb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,v=i.getEdgeStyle();return Object(ie.g)(ri,Ns({},v,{x1:a.x,y1:a.y,x2:f.x,y2:f.y}))}},{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,v=a.className,_=a.strokeDasharray,P=i.startPoint,N=i.endPoint,I=i.getEdgeStyle();return Object(ie.g)("g",null,Object(ie.g)(ri,Ns({},I,{x1:P.x,y1:P.y,x2:N.x,y2:N.y,className:v,strokeDasharray:_,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model,a=function(I){var Z,se=I.start,he=I.end;if(se.x===he.x&&se.y===he.y)Z="";else{var je={start:se,end:he,offset:10,verticalLength:5},Oe=qi(Sa(Sa({},je),{},{type:"start"})),we=qi(Sa(Sa({},je),{},{type:"end"}));Z="M".concat(Oe.leftX," ").concat(Oe.leftY,` 
    L`).concat(Oe.rightX," ").concat(Oe.rightY,` 
    L`).concat(we.rightX," ").concat(we.rightY,`
    L`).concat(we.leftX," ").concat(we.leftY," z")}return{d:Z,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:i.startPoint,end:i.endPoint}),f=a.d,v=a.strokeWidth,_=a.fill,P=a.strokeDasharray,N=a.stroke;return Object(ie.g)(Ri,{d:f,fill:_,strokeWidth:v,stroke:N,strokeDasharray:P})}}])&&vy(e.prototype,n),r&&vy(e,r),u}(fa);function my(t){return(my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Fb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return by(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _y=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=Fb(n,2),o=r[0],u=r[1];my(u)!=="object"&&(e[o]=u)}),Object(ie.g)("polyline",e)};function Oy(t){return(Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wy(Object(n),!0).forEach(function(r){to(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ds(){return(Ds=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Xb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ey(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sy(t,e){return(Sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ub(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cs(t);if(e){var o=Cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yb(this,n)}}function Yb(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eo(t)}function eo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function to(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Sy(i,a)})(u,t);var e,n,r,o=Ub(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),to(eo(i=o.call(this)),"drag",void 0),to(eo(i),"isDraging",void 0),to(eo(i),"appendInfo",void 0),to(eo(i),"dragHandler",void 0),to(eo(i),"onDragStart",function(){i.props.model.dragAppendStart()}),to(eo(i),"onDraging",function(a){var f=a.deltaX,v=a.deltaY,_=i.props,P=_.model,N=_.graphModel;i.isDraging=!0;var I=N.transformModel,Z=N.editConfigModel,se=Xb(I.fixDeltaXY(f,v),2),he=se[0],je=se[1],Oe=P,we=Z.adjustEdgeMiddle;i.appendInfo=we?Oe.dragAppendSimple(i.appendInfo,{x:he,y:je}):Oe.dragAppend(i.appendInfo,{x:he,y:je})}),to(eo(i),"onDragEnd",function(){var a=i.props,f=a.model,v=a.graphModel.eventCenter,_=f;_.dragAppendEnd(),i.isDraging=!1,i.appendInfo=void 0,v.emit(wt.EDGE_ADJUST,{data:_.getData()})}),to(eo(i),"beforeDragStart",function(a,f){f.dragAble&&i.dragHandler(a),i.appendInfo=f}),to(eo(i),"getIsDraging",function(){return i.isDraging}),i.drag=Du({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle();return Object(ie.g)(_y,Ds({points:i.points},a))}},{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,v=a.className,_=a.strokeDasharray,P=i.getEdgeStyle();return Object(ie.g)("g",null,Object(ie.g)(_y,Ds({points:i.points},P,{className:v,strokeDasharray:_,stroke:f})))}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.points,f=i.isSelected,v={start:null,end:null,hover:this.state.hover,isSelected:f},_=ki(a);return _.length>=2&&(v.start=_[_.length-2],v.end=_[_.length-1]),v}},{key:"getAppendAttributes",value:function(i){var a,f=i.start,v=i.end;if(f.x===v.x&&f.y===v.y)a="";else{var _={start:f,end:v,offset:10,verticalLength:5},P=qi(Za(Za({},_),{},{type:"start"})),N=qi(Za(Za({},_),{},{type:"end"}));a="M".concat(P.leftX," ").concat(P.leftY,` 
      L`).concat(P.rightX," ").concat(P.rightY,` 
      L`).concat(N.rightX," ").concat(N.rightY,`
      L`).concat(N.leftX," ").concat(N.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var a=this.getAppendAttributes(i),f=a.d,v=a.strokeWidth,_=a.fill,P=a.strokeDasharray,N=a.stroke;return Object(ie.g)(Ri,{d:f,fill:_,strokeWidth:v,stroke:N,strokeDasharray:P})}},{key:"getAppendWidth",value:function(){for(var i=this,a=this.props,f=a.model,v=a.graphModel,_=f.pointsList,P=f.draggable,N=[],I=_.length,Z=function(he){var je="lf-polyline-append",Oe={start:{x:_[he].x,y:_[he].y},end:{x:_[he+1].x,y:_[he+1].y},startIndex:he,endIndex:he+1,direction:"",dragAble:!0},we=Object(ie.g)("g",{className:je},i.getAppendShape(Oe)),Le=v.editConfigModel,Ke=Le.adjustEdge,Fe=Le.adjustEdgeMiddle;if(Ke&&P){i.dragHandler=i.drag;var Je=Oe.startIndex,ht=Oe.endIndex,xt=Fe&&(Je===0||ht===I-1);Oe.dragAble=!xt,Oe.start.x===Oe.end.x?(Oe.dragAble&&(je+="-ew-resize"),Oe.direction=qt.VERTICAL):Oe.start.y===Oe.end.y&&(Oe.dragAble&&(je+="-ns-resize"),Oe.direction=qt.HORIZONTAL),we=Object(ie.g)("g",{className:i.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(kt){return i.beforeDragStart(kt,Oe)}},Object(ie.g)("g",{className:je},i.getAppendShape(Oe)))}else i.dragHandler=function(){};N.push(we)},se=0;se<I-1;se++)Z(se);return Object(ie.g)("g",null,N)}}])&&Ey(e.prototype,n),r&&Ey(e,r),u}(fa);function jy(t){return(jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Vb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Py(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Py(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Is(){return(Is=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Wb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function My(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e){return(ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Kb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ls(t);if(e){var o=Ls(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zb(this,n)}}function Zb(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ls(t){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var zs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ky(i,a)})(u,t);var e,n,r,o=Kb(u);function u(){return Wb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle();return Object(ie.g)(Ri,Is({d:i.path},a))}},{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,v=a.className,_=a.strokeDasharray,P=i.getEdgeStyle();return Object(ie.g)("g",null,Object(ie.g)(Ri,Is({d:i.path},P,{className:v,strokeDasharray:_,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(ie.g)(Ri,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=this.state.hover,f=i,v=f.path,_=f.isSelected,P=Vb(function(N){var I=Aa(N);return[I[2],I[3]]}(v),2);return{start:P[0],end:P[1],hover:a,isSelected:_}}}])&&My(e.prototype,n),r&&My(e,r),u}(fa),Ny=function(t,e){return g(t,e)},$b=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Bs=function(){return rt.a.Date.now()},qb=/\s/,Jb=function(t){for(var e=t.length;e--&&qb.test(t.charAt(e)););return e},Qb=/^\s+/,e0=function(t){return t&&t.slice(0,Jb(t)+1).replace(Qb,"")},t0=/^[-+]0x[0-9a-f]+$/i,n0=/^0b[01]+$/i,r0=/^0o[0-7]+$/i,o0=parseInt,Ay=function(t){if(typeof t=="number")return t;if(ge(t))return NaN;if(Qt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Qt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=e0(t);var n=n0.test(t);return n||r0.test(t)?o0(t.slice(2),n?2:8):t0.test(t)?NaN:+t},i0=Math.max,a0=Math.min,u0=function(t,e,n){var r,o,u,i,a,f,v=0,_=!1,P=!1,N=!0;if(typeof t!="function")throw new TypeError("Expected a function");function I(we){var Le=r,Ke=o;return r=o=void 0,v=we,i=t.apply(Ke,Le)}function Z(we){return v=we,a=setTimeout(he,e),_?I(we):i}function se(we){var Le=we-f;return f===void 0||Le>=e||Le<0||P&&we-v>=u}function he(){var we=Bs();if(se(we))return je(we);a=setTimeout(he,function(Le){var Ke=e-(Le-f);return P?a0(Ke,u-(Le-v)):Ke}(we))}function je(we){return a=void 0,N&&r?I(we):(r=o=void 0,i)}function Oe(){var we=Bs(),Le=se(we);if(r=arguments,o=this,f=we,Le){if(a===void 0)return Z(f);if(P)return clearTimeout(a),a=setTimeout(he,e),I(f)}return a===void 0&&(a=setTimeout(he,e)),i}return e=Ay(e)||0,Qt(n)&&(_=!!n.leading,u=(P="maxWait"in n)?i0(Ay(n.maxWait)||0,e):u,N="trailing"in n?!!n.trailing:N),Oe.cancel=function(){a!==void 0&&clearTimeout(a),v=0,r=f=o=a=void 0},Oe.flush=function(){return a===void 0?i:je(Bs())},Oe},s0=s(165);function Ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dy,Cy,Ry,c0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),zo(this,"undos",[]),zo(this,"redos",[]),zo(this,"callbacks",[]),zo(this,"stopWatch",null),zo(this,"curData",null),zo(this,"maxSize",50),zo(this,"waitTime",100),zo(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,(n=[{key:"add",value:function(o){Ny($b(this.undos),o)||(this.undos.push(o),Ny(this.curData,o)||(this.redos=[]),this.eventCenter.emit(wt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var o=this.undos.pop();this.redos.push(o);var u=this.undos.pop();return this.curData=rn(u),u}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var o=this.redos.pop();return this.curData=rn(o),o}}},{key:"watch",value:function(o){var u=this;this.stopWatch&&this.stopWatch(),this.undos.push(o.modelToGraphData()),this.stopWatch=Object(s0.a)(o,u0(function(){var i=o.modelToHistoryData();i&&u.add(i)},this.waitTime))}}])&&Ty(e.prototype,n),r&&Ty(e,r),t}();function Iy(t){return(Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function l0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ly(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ly(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zy(Object(n),!0).forEach(function(r){si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function By(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e){return(Hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function f0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hs(t);if(e){var o=Hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Li(t)}function Li(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function si(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gy,Fy,Xy,Gs=Pr((Ry=Cy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Hy(i,a)})(u,t);var e,n,r,o=f0(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),si(Li(i=o.call(this)),"ref",Object(ie.f)()),si(Li(i),"__prevText",{type:"",text:"",id:""}),si(Li(i),"keyupHandler",function(a){var f=i.props.graphModel.textEditElement;a.key==="Enter"&&a.altKey&&f.setElementState(0)}),si(Li(i),"inputHandler",function(a){var f=a.target.innerText,v=i.props.graphModel.textEditElement;i.__prevText={type:v.type,text:f.replace(/(\r\n)+$|(\n)+$/,""),id:v.id}}),si(Li(i),"keydownHandler",function(a){a.stopPropagation()}),i.state={style:{left:0,top:0}},i}return e=u,r=[{key:"getDerivedStateFromProps",value:function(i){var a,f=i.graphModel,v=f.transformModel,_=f.theme,P=f.textEditElement;if(P){var N;if((N=P.text)===null||N===void 0||!N.value)if(P.BaseType===hn.EDGE){var I=(P=P).text,Z=P.textPosition,se=Z.x,he=Z.y;I.x=se,I.y=he,P.setText(I)}else P=P;var je={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(P.BaseType===hn.EDGE){var Oe=_.edgeText,we=Oe.overflowMode,Le=Oe.lineHeight,Ke=Oe.wrapPadding,Fe=Oe.textWidth;Fe&&we==="autoWrap"&&(a=Ii(Ii({},je),{},{width:Fe,minWidth:Fe,lineHeight:Le,padding:Ke}))}else if(P.BaseType===hn.NODE){var Je=_.nodeText,ht=Je.overflowMode,xt=Je.lineHeight,kt=Je.wrapPadding,$t=Je.textWidth,pn=P,Sn=pn.width,Un=pn.modelType;(Un!==Ct.TEXT_NODE&&ht==="autoWrap"||Un===Ct.TEXT_NODE&&$t)&&(a=Ii(Ii({},je),{},{width:$t||Sn,minWidth:$t||Sn,lineHeight:xt,padding:kt}))}var jn=P.text,Po=jn.x,no=jn.y,Mo=l0(v.CanvasPointToHtmlPoint([Po,no]),2);return{style:Ii({left:Mo[0],top:Mo[1]},a)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var i=this.props.graphModel,a=i.eventCenter,f=i.editConfigModel,v=f.edgeTextEdit,_=f.nodeTextEdit;(v||_)&&a.on("".concat(wt.GRAPH_TRANSFORM,",").concat(wt.NODE_CLICK,",").concat(wt.BLANK_CLICK," "),function(){i.textEditElement&&i.textEditElement.setElementState(Yt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var i=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,f=a.text,v=a.id;i.updateText(v,f),i.eventCenter.emit(wt.TEXT_UPDATE,Ii({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(i){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(i),a.collapse(!1);var f=window.getSelection();f.removeAllRanges(),f.addRange(a)}}},{key:"render",value:function(){var i,a=this.props.graphModel.textEditElement,f=this.state.style;return a?Object(ie.g)("div",{contentEditable:!0,className:"lf-text-input",style:f,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(i=a.text)===null||i===void 0?void 0:i.value):null}}])&&By(e.prototype,n),r&&By(e,r),u}(ie.a),si(Cy,"toolName","textEdit"),Dy=Ry))||Dy,d0=function(t){return t.modelType===Ct.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,o=(n.x+r.x)/2,u=(n.y+r.y)/2,i=Math.abs(n.x-r.x)+10,a=Math.abs(n.y-r.y)+10;return{x:o-i/2,y:u-a/2,x1:o+i/2,y1:u+a/2}}(t):t.modelType===Ct.POLYLINE_EDGE?function(e){var n=e.points,r=ki(n),o=Ji(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):t.modelType===Ct.BEZIER_EDGE?function(e){var n=e.path,r=Aa(n),o=Ji(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):void 0};function Uy(t){return(Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Yy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(_){v=!0,i=_}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||Vy(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h0(t){return function(e){if(Array.isArray(e))return Fs(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Vy(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vy(t,e){if(t){if(typeof t=="string")return Fs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(t,e):void 0}}function Fs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ky(t,e){return(Ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function y0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xs(t);if(e){var o=Xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v0(this,n)}}function v0(t,e){if(e&&(Uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pa(t)}function pa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xs(t){return(Xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function da(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Us=Pr((Xy=Fy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ky(i,a)})(u,t);var e,n,r,o=y0(u);function u(i){var a;(function(P,N){if(!(P instanceof N))throw new TypeError("Cannot call a class as a function")})(this,u),da(pa(a=o.call(this)),"stepDrag",void 0),da(pa(a),"handleMouseDown",function(P){a.stepDrag.handleMouseDown(P)}),da(pa(a),"onDraging",function(P){var N=P.deltaX,I=P.deltaY,Z=a.props.graphModel,se=Z.getSelectElements(!0);Z.moveNodes(se.nodes.map(function(he){return he.id}),N,I)}),da(pa(a),"handleContextMenu",function(P){P.preventDefault();var N=a.props,I=N.graphModel,Z=N.graphModel,se=Z.eventCenter,he=Z.selectElements,je=I.getPointByClient({x:P.clientX,y:P.clientY}),Oe={nodes:[],edges:[]};h0(he.values()).forEach(function(we){we.BaseType===hn.NODE&&Oe.nodes.push(we.getData()),we.BaseType===hn.EDGE&&Oe.edges.push(we.getData())}),se.emit(wt.SELECTION_CONTEXTMENU,{data:Oe,e:P,position:je})});var f=i.graphModel,v=f.gridSize,_=f.eventCenter;return a.stepDrag=new ni({onDraging:a.onDraging,step:v,eventType:"SELECTION",eventCenter:_}),a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel,a=i.selectElements,f=i.transformModel;if(!(a.size<=1)){var v=Number.MAX_SAFE_INTEGER,_=Number.MAX_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER;a.forEach(function(he){var je={x:0,y:0,x1:0,y1:0};he.BaseType===hn.NODE&&(je=function(Oe){var we=Oe.x,Le=Oe.y,Ke=Oe.width,Fe=Oe.height;return{x:we-Ke/2,y:Le-Fe/2,x1:we+Ke/2,y1:Le+Fe/2}}(he)),he.BaseType===hn.EDGE&&(je=d0(he)),v=Math.min(v,je.x),_=Math.min(_,je.y),P=Math.max(P,je.x1),N=Math.max(N,je.y1)});var I=Yy(f.CanvasPointToHtmlPoint([v,_]),2);v=I[0],_=I[1];var Z=Yy(f.CanvasPointToHtmlPoint([P,N]),2);P=Z[0],N=Z[1];var se={left:"".concat(v-10,"px"),top:"".concat(_-10,"px"),width:"".concat(P-v+20,"px"),height:"".concat(N-_+20,"px")};return Object(ie.g)("div",{className:"lf-multiple-select",style:se,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Wy(e.prototype,n),r&&Wy(e,r),u}(ie.a),da(Fy,"toolName","multipleSelect"),Gy=Xy))||Gy;function Zy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),$a(this,"tools",void 0),$a(this,"components",void 0),$a(this,"toolMap",new Map),$a(this,"instance",void 0),this.instance=o,this.isDisabledTool(Gs.toolName)||this.registerTool(Gs.toolName,Gs),this.isDisabledTool(Us.toolName)||this.registerTool(Us.toolName,Us)}var e,n,r;return e=t,(n=[{key:"isDisabledTool",value:function(o){return this.instance.options.disabledTools.indexOf(o)!==-1}},{key:"registerTool",value:function(o,u){this.toolMap.set(o,u)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Zy(e.prototype,n),r&&Zy(e,r),t}(),m0=s(166),b0=s.n(m0);function $y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ys(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qy=function(){function t(o){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),Ys(this,"mousetrap",void 0),Ys(this,"options",void 0),Ys(this,"target",void 0),o.keyboard||(o.keyboard={enabled:!1}),this.options=o;var u=o.lf;this.target=u.container,this.mousetrap=new b0.a(this.target),o.keyboard.enabled&&this.enable(!0)}var e,n,r;return e=t,(n=[{key:"initShortcuts",value:function(){var o=this,u=this.options.keyboard.shortcuts;if(u)if(cn(u))u.forEach(function(v){var _=v.keys,P=v.callback,N=v.action;return o.on(_,P,N)});else{var i=u.keys,a=u.callback,f=u.action;this.on(i,a,f)}}},{key:"on",value:function(o,u,i){this.mousetrap.bind(this.getKeys(o),u,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(o,u){this.mousetrap.unbind(this.getKeys(o),u)}},{key:"enable",value:function(o){(this.disabled||o)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(o){var u=this;return(Array.isArray(o)?o:[o]).map(function(i){return u.formatkey(i)})}},{key:"formatkey",value:function(o){return o.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&$y(e.prototype,n),r&&$y(e,r),t}(),_0=qy,jo=null;function Jy(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Qy(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function ev(t){return(ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function tv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tv(Object(n),!0).forEach(function(r){sn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ws=function(){function t(o){var u,i,a=this;(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),sn(this,"container",void 0),sn(this,"width",void 0),sn(this,"height",void 0),sn(this,"graphModel",void 0),sn(this,"history",void 0),sn(this,"viewMap",new Map),sn(this,"tool",void 0),sn(this,"keyboard",void 0),sn(this,"dnd",void 0),sn(this,"options",void 0),sn(this,"snaplineModel",void 0),sn(this,"components",[]),sn(this,"plugins",void 0),sn(this,"extension",{}),sn(this,"adapterIn",void 0),sn(this,"adapterOut",void 0),sn(this,"getView",function(f){return a.viewMap.get(f)}),o=np(o),this.options=o,this.container=o.container,this.plugins=o.plugins,this.graphModel=new yg(Vs({},o)),this.tool=new g0(this),this.history=new c0(this.graphModel.eventCenter),this.dnd=new nm({lf:this}),this.keyboard=new _0({lf:this,keyboard:o.keyboard}),o.isSilentMode||o.snapline===!1||(this.snaplineModel=new Ud(this.graphModel),u=this.graphModel.eventCenter,i=this.snaplineModel,u.on("node:mousemove",function(f){var v=f.data;i.setNodeSnapLine(v)}),u.on("node:mouseup",function(){i.clearSnapline()})),function(f,v){var _=f.keyboard,P=_.options.keyboard;_.on(["cmd + c","ctrl + c"],function(){if(P.enabled&&!v.textEditElement){var N=f.options.guards,I=v.getSelectElements(!1);return N&&N.beforeClone&&!N.beforeClone(I)?(jo=null,!1):((jo=I).nodes.forEach(function(Z){return Jy(Z,40)}),jo.edges.forEach(function(Z){return Qy(Z,40)}),!1)}}),_.on(["cmd + v","ctrl + v"],function(){if(P.enabled&&!v.textEditElement){if(jo&&(jo.nodes||jo.edges)){f.clearSelectElements();var N=f.addElements(jo);if(!N)return;N.nodes.forEach(function(I){return f.selectElementById(I.id,!0)}),N.edges.forEach(function(I){return f.selectElementById(I.id,!0)}),jo.nodes.forEach(function(I){return Jy(I,40)}),jo.edges.forEach(function(I){return Qy(I,40)})}return!1}}),_.on(["cmd + z","ctrl + z"],function(){if(P.enabled&&!v.textEditElement)return f.undo(),!1}),_.on(["cmd + y","ctrl + y"],function(){if(P.enabled&&!v.textEditElement)return f.redo(),!1}),_.on(["backspace"],function(){if(P.enabled&&!v.textEditElement){var N=v.getSelectElements(!0);return f.clearSelectElements(),N.edges.forEach(function(I){return f.deleteEdge(I.id)}),N.nodes.forEach(function(I){return f.deleteNode(I.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(o.disabledPlugins)}var e,n,r;return e=t,r=[{key:"use",value:function(o){var u=o.pluginName;u||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(o.name||o.constructor.name,"\u6307\u5B9ApluginName!")),u=o.name);var i=this.extensions.get(u);i&&i.destroy&&i.destroy(),this.extensions.set(u,o)}}],(n=[{key:"register",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof o=="string"){var a={BaseEdge:fa,BaseEdgeModel:xu,BaseNode:Eo,BaseNodeModel:wo,RectNode:ls,RectNodeModel:ts,CircleNode:ps,CircleNodeModel:Zu,PolygonNode:hs,PolygonNodeModel:es,TextNode:_s,TextNodeModel:ns,LineEdge:Ts,LineEdgeModel:Su,DiamondNode:vs,DiamondNodeModel:qu,PolylineEdge:Rs,PolylineEdgeModel:Pu,BezierEdge:zs,BezierEdgeModel:Wu,EllipseNode:ms,EllipseNodeModel:Ju,HtmlNode:ws,HtmlNodeModel:os,h:ie.g,type:o};this.viewMap.forEach(function(N){var I=N.extendKey;I&&(a[I]=N)}),this.graphModel.modelMap.forEach(function(N){var I=N.extendKey;I&&(a[I]=N)});var f=u(a),v=f.view,_=f.model,P=v;i&&!P.isObervered&&(P.isObervered=!0,P=Ae(P)),this.setView(o,P),this.graphModel.setModel(o,_)}else this.registerElement(o)}},{key:"registerElement",value:function(o){var u=o.view;o.isObserverView===!1||u.isObervered||(u.isObervered=!0,u=Ae(u)),this.setView(o.type,u),this.graphModel.setModel(o.type,o.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:ls,model:ts,type:"rect"}),this.registerElement({type:"circle",view:ps,model:Zu}),this.registerElement({type:"polygon",view:hs,model:es}),this.registerElement({type:"line",view:Ts,model:Su}),this.registerElement({type:"polyline",view:Rs,model:Pu}),this.registerElement({type:"bezier",view:zs,model:Wu}),this.registerElement({type:"text",view:_s,model:ns}),this.registerElement({type:"ellipse",view:ms,model:Ju}),this.registerElement({type:"diamond",view:vs,model:qu}),this.registerElement({type:"html",view:ws,model:os})}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(o,u),u||this.graphModel.toFront(o)}},{key:"focusOn",value:function(o){var u=this.graphModel.transformModel,i=o.coordinate,a=o.id;if(!i){var f=this.getNodeModelById(a);f&&(i=f.getData());var v=this.getEdgeModelById(a);v&&(i=v.textPosition)}var _=i,P=_.x,N=_.y;u.focusOn(P,N,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(o){this.graphModel.setTheme(o)}},{key:"resize",value:function(o,u){this.options.width=o!=null?o:this.options.width,this.options.height=u!=null?u:this.options.height,this.graphModel.resize(o,u)}},{key:"setDefaultEdgeType",value:function(o){this.graphModel.setDefaultEdgeType(o)}},{key:"updateText",value:function(o,u){this.graphModel.updateText(o,u)}},{key:"deleteElement",value:function(o){var u,i,a,f=this.getModelById(o);return!!f&&(i=(a=(sn(u={},hn.NODE,this.deleteNode),sn(u,hn.EDGE,this.deleteEdge),u)[f.BaseType])===null||a===void 0?void 0:a.call(this,o))!==null&&i!==void 0&&i}},{key:"getModelById",value:function(o){return this.graphModel.getElement(o)}},{key:"getDataById",value:function(o){return this.graphModel.getElement(o).getData()}},{key:"changeNodeType",value:function(o,u){this.graphModel.changeNodeType(o,u)}},{key:"changeEdgeType",value:function(o,u){this.graphModel.changeEdgeType(o,u)}},{key:"getNodeEdges",value:function(o){return this.graphModel.getNodeEdges(o)}},{key:"addNode",value:function(o){return this.graphModel.addNode(o)}},{key:"deleteNode",value:function(o){var u=this.graphModel.getNodeModelById(o);if(!u)return!1;var i=u.getData(),a=this.options.guards,f=!a||!a.beforeDelete||a.beforeDelete(i);return f&&this.graphModel.deleteNode(o),f}},{key:"cloneNode",value:function(o){var u=this.graphModel.getNodeModelById(o).getData(),i=this.options.guards;if(!i||!i.beforeClone||i.beforeClone(u))return this.graphModel.cloneNode(o)}},{key:"changeNodeId",value:function(o,u){return this.graphModel.changeNodeId(o,u)}},{key:"getNodeModelById",value:function(o){return this.graphModel.getNodeModelById(o)}},{key:"getNodeDataById",value:function(o){return this.graphModel.getNodeModelById(o).getData()}},{key:"addEdge",value:function(o){return this.graphModel.addEdge(o)}},{key:"deleteEdge",value:function(o){var u=this.options.guards,i=this.graphModel.edgesMap[o];if(!i)return!1;var a=i.model.getData(),f=!u||!u.beforeDelete||u.beforeDelete(a);return f&&this.graphModel.deleteEdgeById(o),f}},{key:"deleteEdgeByNodeId",value:function(o){var u=o.sourceNodeId,i=o.targetNodeId;u&&i?this.graphModel.deleteEdgeBySourceAndTarget(u,i):u?this.graphModel.deleteEdgeBySource(u):i&&this.graphModel.deleteEdgeByTarget(i)}},{key:"changeEdgeId",value:function(o,u){return this.graphModel.changeEdgeId(o,u)}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.graphModel.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getEdgeModels",value:function(o){var u=this.graphModel.edges,i=o.sourceNodeId,a=o.targetNodeId;if(i&&a){var f=[];return u.forEach(function(P){P.sourceNodeId===i&&P.targetNodeId===a&&f.push(P)}),f}if(i){var v=[];return u.forEach(function(P){P.sourceNodeId===i&&v.push(P)}),v}if(a){var _=[];return u.forEach(function(P){P.targetNodeId===a&&_.push(P)}),_}return[]}},{key:"getEdgeDataById",value:function(o){var u;return(u=this.getEdgeModelById(o))===null||u===void 0?void 0:u.getData()}},{key:"getNodeIncomingEdge",value:function(o){return this.graphModel.getNodeIncomingEdge(o)}},{key:"getNodeOutgoingEdge",value:function(o){return this.graphModel.getNodeOutgoingEdge(o)}},{key:"getNodeIncomingNode",value:function(o){return this.graphModel.getNodeIncomingNode(o)}},{key:"getNodeOutgoingNode",value:function(o){return this.graphModel.getNodeOutgoingNode(o)}},{key:"editText",value:function(o){this.graphModel.editText(o)}},{key:"setProperties",value:function(o,u){var i;(i=this.graphModel.getElement(o))===null||i===void 0||i.setProperties(Wr(u))}},{key:"getProperties",value:function(o){var u;return(u=this.graphModel.getElement(o))===null||u===void 0?void 0:u.getProperties()}},{key:"toFront",value:function(o){this.graphModel.toFront(o)}},{key:"setElementZIndex",value:function(o,u){return this.graphModel.setElementZIndex(o,u)}},{key:"addElements",value:function(o){for(var u=this,i=o.nodes,a=o.edges,f={},v={nodes:[],edges:[]},_=0;_<i.length;_++){var P=i[_],N=P.id,I=this.addNode(P);if(!I)return;N&&(f[N]=I.id),v.nodes.push(I)}return a.forEach(function(Z){var se=Z.sourceNodeId,he=Z.targetNodeId;f[se]&&(Z.sourceNodeId=f[se]),f[he]&&(Z.targetNodeId=f[he]);var je=u.graphModel.addEdge(Z);v.edges.push(je)}),v}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(o,u,i,a).map(function(f){return f.getData()})}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(o)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var o=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(o):o}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(o){this.graphModel.editConfigModel.updateEditConfig(o)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(o,u){return this.graphModel.getPointByClient({x:o,y:u})}},{key:"undo",value:function(){if(this.history.undoAble()){var o=Wr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"redo",value:function(){if(this.history.redoAble()){var o=Wr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"zoom",value:function(o,u){return this.graphModel.transformModel.zoom(o,u)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(o){this.graphModel.transformModel.setZoomMiniSize(o)}},{key:"setZoomMaxSize",value:function(o){this.graphModel.transformModel.setZoomMaxSize(o)}},{key:"getTransform",value:function(){var o=this.graphModel.transformModel;return{SCALE_X:o.SCALE_X,SCALE_Y:o.SCALE_Y,TRANSLATE_X:o.TRANSLATE_X,TRANSLATE_Y:o.TRANSLATE_Y}}},{key:"translate",value:function(o,u){this.graphModel.transformModel.translate(o,u)}},{key:"resetTranslate",value:function(){var o=this.graphModel.transformModel,u=o.TRANSLATE_X,i=o.TRANSLATE_Y;this.translate(-u,-i)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(o){this.graphModel.fitView(o)}},{key:"on",value:function(o,u){this.graphModel.eventCenter.on(o,u)}},{key:"off",value:function(o,u){this.graphModel.eventCenter.off(o,u)}},{key:"once",value:function(o,u){this.graphModel.eventCenter.once(o,u)}},{key:"emit",value:function(o,u){this.graphModel.eventCenter.emit(o,u)}},{key:"installPlugins",value:function(){var o,u=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(o=this.plugins)!==null&&o!==void 0?o:t.extensions;a.forEach(function(f){var v=f.pluginName||f.name;i.indexOf(v)===-1&&u.installPlugin(f)})}},{key:"installPlugin",value:function(o){if(ev(o)==="object"){var u=o.install,i=o.render;return u&&u.call(o,this,t),i&&this.components.push(i.bind(o)),void(this.extension[o.pluginName]=o)}var a=o,f=new a({lf:this,LogicFlow:t});f.render&&this.components.push(f.render.bind(f)),this.extension[a.pluginName]=f}},{key:"updateAttributes",value:function(o,u){this.graphModel.updateAttributes(o,u)}},{key:"createFakerNode",value:function(o){var u=this.graphModel.modelMap.get(o.type);if(u){var i=new u(Vs(Vs({},o),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(i),i}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(o.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(o){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(o)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(o,u){this.viewMap.set(o,u)}},{key:"renderRawData",value:function(o){this.graphModel.graphDataToModel(Wr(o)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(ie.j)(Object(ie.g)(tm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(wt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(o=this.adapterIn(o)),this.renderRawData(o)}}])&&nv(e.prototype,n),r&&nv(e,r),t}();function Pr(t){return Ae(t)}sn(Ws,"extensions",new Map),M.default=Ws}])})},86319:function(Yn,Lt,j){"use strict";j.d(Lt,{jX:function(){return uu},xV:function(){return Yo},Ou:function(){return hi},Qs:function(){return au},v2:function(){return yr},a9:function(){return yi},Ju:function(){return Tr},aC:function(){return at}});var M=j(59782);function s(p,l){return l={exports:{}},p(l,l.exports),l.exports}var O=s(function(p){var l=p.exports=function(c,d){if(d||(d=16),c===void 0&&(c=128),c<=0)return"0";for(var y=Math.log(Math.pow(2,c))/Math.log(d),b=2;y===Infinity;b*=2)y=Math.log(Math.pow(2,c/b))/Math.log(d)*b;for(var S=y-Math.floor(y),A="",b=0;b<Math.floor(y);b++){var B=Math.floor(Math.random()*d).toString(d);A=B+A}if(S){var $=Math.pow(d,S),B=Math.floor(Math.random()*$).toString(d);A=B+A}var F=parseInt(A,d);return F!==Infinity&&F>=Math.pow(2,c)?l(c,d):A};l.rack=function(c,d,y){var b=function(A){var B=0;do{if(B++>10)if(y)c+=y;else throw new Error("too many ID collisions, use more bits");var $=l(c,d)}while(Object.hasOwnProperty.call(S,$));return S[$]=A,$},S=b.hats={};return b.get=function(A){return b.hats[A]},b.set=function(A,B){return b.hats[A]=B,b},b.bits=c||128,b.base=d||16,b}});function h(p){if(!(this instanceof h))return new h(p);p=p||[128,36,1],this._seed=p.length?O.rack(p[0],p[1],p[2]):p}h.prototype.next=function(p){return this._seed(p||!0)},h.prototype.nextPrefixed=function(p,l){var c;do c=p+this.next(!0);while(this.assigned(c));return this.claim(c,l),c},h.prototype.claim=function(p,l){this._seed.set(p,l||!0)},h.prototype.assigned=function(p){return this._seed.get(p)||!1},h.prototype.unclaim=function(p){delete this._seed.hats[p]},h.prototype.clear=function(){var p=this._seed.hats,l;for(l in p)this.unclaim(l)};var E=h,x=new E([32,32,1]);function k(){return x.next()}var D=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),R=function(p){D(l,p);function l(c,d){var y=this;return c.id||(c.id="Event_"+k()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),y=p.call(this,c,d)||this,y}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedTargetRules=function(){var c=p.prototype.getConnectedTargetRules.call(this),d={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(d),c},l.extendKey="StartEventModel",l}(M.CircleNodeModel),L=function(p){D(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.extendKey="StartEventNode",l}(M.CircleNode),z={type:"bpmn:startEvent",view:L,model:R},Y=z,X=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),te=function(){return te=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},te.apply(this,arguments)},re=function(p){X(l,p);function l(c,d){var y=this;return c.id||(c.id="Event_"+k()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),y=p.call(this,c,d)||this,y}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedSourceRules=function(){var c=p.prototype.getConnectedSourceRules.call(this),d={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(d),c},l.extendKey="EndEventModel",l}(M.CircleNodeModel),oe=function(p){X(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},l.prototype.getShape=function(){var c=this.props.model,d=c.getNodeStyle(),y=c.x,b=c.y,S=c.r,A=p.prototype.getShape.call(this);return(0,M.h)("g",{},A,(0,M.h)("circle",te(te({},d),{cx:y,cy:b,r:S-5})))},l.extendKey="EndEventView",l}(M.CircleNode),le={type:"bpmn:endEvent",view:oe,model:re},ye=le,Q=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),ne=function(){return ne=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},ne.apply(this,arguments)},me=function(p){Q(l,p);function l(c,d){var y=this;return c.id||(c.id="Gateway_"+k()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),y=p.call(this,c,d)||this,y.points=[[25,0],[50,25],[25,50],[0,25]],y}return l.extendKey="ExclusiveGatewayModel",l}(M.PolygonNodeModel),q=function(p){Q(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getShape=function(){var c=this.props.model,d=c.x,y=c.y,b=c.width,S=c.height,A=c.points,B=c.getNodeStyle();return(0,M.h)("g",{transform:"matrix(1 0 0 1 "+(d-b/2)+" "+(y-S/2)+")"},(0,M.h)("polygon",ne(ne({},B),{x:d,y,points:A})),(0,M.h)("path",ne({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},B)))},l.extendKey="ExclusiveGatewayNode",l}(M.PolygonNode),ve={type:"bpmn:exclusiveGateway",view:q,model:me},H=ve,W=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),G=function(){return G=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},G.apply(this,arguments)},ee=function(p){W(l,p);function l(c,d){var y=this;return c.id||(c.id="Activity_"+k()),y=p.call(this,c,d)||this,y}return l.extendKey="UserTaskModel",l}(M.RectNodeModel),be=function(p){W(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,d=c.x,y=c.y,b=c.width,S=c.height,A=c.getNodeStyle();return(0,M.h)("svg",{x:d-b/2+5,y:y-S/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,M.h)("path",{fill:A.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},l.prototype.getShape=function(){var c=this.props.model,d=c.x,y=c.y,b=c.width,S=c.height,A=c.radius,B=c.getNodeStyle();return(0,M.h)("g",{},[(0,M.h)("rect",G(G({},B),{x:d-b/2,y:y-S/2,rx:A,ry:A,width:b,height:S})),this.getLabelShape()])},l.extendKey="UserTaskNode",l}(M.RectNode),Ne={type:"bpmn:userTask",view:be,model:ee},U=Ne,ae=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),J=function(){return J=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},J.apply(this,arguments)},fe=function(p){ae(l,p);function l(c,d){var y=this;return c.id||(c.id="Activity_"+k()),y=p.call(this,c,d)||this,y}return l.extendKey="ServiceTaskModel",l}(M.RectNodeModel),Se=function(p){ae(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,d=c.x,y=c.y,b=c.width,S=c.height,A=c.getNodeStyle();return(0,M.h)("svg",{x:d-b/2+5,y:y-S/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,M.h)("path",{fill:A.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},l.prototype.getShape=function(){var c=this.props.model,d=c.x,y=c.y,b=c.width,S=c.height,A=c.radius,B=c.getNodeStyle();return(0,M.h)("g",{},[(0,M.h)("rect",J({x:d-b/2,y:y-S/2,rx:A,ry:A,width:b,height:S},B)),this.getLabelShape()])},l.extendKey="ServiceTaskNode",l}(M.RectNode),Te={type:"bpmn:serviceTask",view:Se,model:fe},Ge=Te,Ze=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),ot=function(p){Ze(l,p);function l(c,d){var y=this;return c.id||(c.id="Flow_"+k()),y=p.call(this,c,d)||this,y}return l.extendKey="SequenceFlowModel",l}(M.PolylineEdgeModel),Ue=function(p){Ze(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.extendKey="SequenceFlowEdge",l}(M.PolylineEdge),tt={type:"bpmn:sequenceFlow",view:Ue,model:ot},Et=tt,ue={width:40,height:40},ce={width:40,height:40},_e={width:40,height:40},De={width:100,height:80},Ye={width:100,height:80},Re={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},lt=function(){function p(l){var c=l.lf;c.setTheme(Re),c.register(Y),c.register(ye),c.register(H),c.register(U),c.register(Ge),c.options.customBpmnEdge||(c.register(Et),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return p.pluginName="bpmnElement",p}(),at=function(){function p(l){var c=this,d=l.lf;this.lf=d,this.customCssRules="",this.useGlobalRules=!0,d.getSnapshot=function(y,b){c.getSnapshot(y,b)},d.getSnapshotBlob=function(y){return c.getSnapshotBlob(y)},d.getSnapshotBase64=function(y){return c.getSnapshotBase64(y)}}return p.prototype.getSvgRootElement=function(l){var c=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,l.graphModel.nodes.forEach(function(y){var b=y.x,S=y.width,A=y.y,B=y.height,$=b-S/2,F=A-B/2;$<c.offsetX&&(c.offsetX=$-5),F<c.offsetY&&(c.offsetY=F-5)}),l.graphModel.edges.forEach(function(y){y.pointsList&&y.pointsList.forEach(function(b){var S=b.x,A=b.y;S<c.offsetX&&(c.offsetX=S-5),A<c.offsetY&&(c.offsetY=A-5)})});var d=l.container.querySelector(".lf-canvas-overlay");return d},p.prototype.triggerDownload=function(l){var c=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),d=document.createElement("a");d.setAttribute("download",this.fileName),d.setAttribute("href",l),d.setAttribute("target","_blank"),d.dispatchEvent(c)},p.prototype.removeAnchor=function(l){for(var c=l.childNodes,d=l.childNodes&&l.childNodes.length,y=0;y<d;y++){var b=c[y],S=b.classList&&Array.from(b.classList)||[];S.indexOf("lf-anchor")>-1&&(l.removeChild(l.childNodes[y]),d--,y--)}},p.prototype.getSnapshot=function(l,c){var d=this;this.fileName=l||"logic-flow."+Date.now()+".png";var y=this.getSvgRootElement(this.lf);this.getCanvasData(y,c).then(function(b){var S=b.toDataURL("image/png").replace("image/png","image/octet-stream");d.triggerDownload(S)})},p.prototype.getSnapshotBase64=function(l){var c=this,d=this.getSvgRootElement(this.lf);return new Promise(function(y){c.getCanvasData(d,l).then(function(b){var S=b.toDataURL("image/png");y({data:S,width:b.width,height:b.height})})})},p.prototype.getSnapshotBlob=function(l){var c=this,d=this.getSvgRootElement(this.lf);return new Promise(function(y){c.getCanvasData(d,l).then(function(b){b.toBlob(function(S){y({data:S,width:b.width,height:b.height})},"image/png")})})},p.prototype.getClassRules=function(){var l="";if(this.useGlobalRules)for(var c=document.styleSheets,d=0;d<c.length;d++)for(var y=c[d],b=0;b<y.cssRules.length;b++)l+=y.cssRules[b].cssText;return this.customCssRules&&(l+=this.customCssRules),l},p.prototype.getCanvasData=function(l,c){var d=this,y=l.cloneNode(!0),b=y.lastChild,S=b.childNodes&&b.childNodes.length;if(S)for(var A=0;A<S;A++){var B=b.childNodes[A],$=B.classList&&Array.from(B.classList);if($&&$.indexOf("lf-base")<0)b.removeChild(b.childNodes[A]),S--,A--;else{var F=b.childNodes[A];F&&F.childNodes.forEach(function(gn){var an=gn;d.removeAnchor(an.firstChild)})}}y.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var xe=window.devicePixelRatio||1,Ee=document.createElement("canvas"),Pe=document.getElementsByClassName("lf-base")[0],Ie=Pe.getBoundingClientRect(),ut=this.lf.graphModel,st=ut.transformModel,dt=st.SCALE_X,Xe=st.SCALE_Y,Mt=Math.ceil(Ie.width/dt),Kt=Math.ceil(Ie.height/Xe);Ee.style.width=Mt+"px",Ee.style.height=Kt+"px",Ee.width=Mt*xe+80,Ee.height=Kt*xe+80;var en=Ee.getContext("2d");en.clearRect(0,0,Ee.width,Ee.height),en.scale(xe,xe),c?(en.fillStyle=c,en.fillRect(0,0,Mt*xe+80,Kt*xe+80)):en.clearRect(0,0,Mt,Kt);var An=new Image,Tn=document.createElement("style");Tn.innerHTML=this.getClassRules();var vn=document.createElement("foreignObject");return vn.appendChild(Tn),y.appendChild(vn),new Promise(function(gn){An.onload=function(){en.drawImage(An,0,0),gn(Ee)};var an="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(y),un=an.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");An.src=un})},p.pluginName="snapshot",p}(),vt=null,ft=new E([32,32,1]);function Ae(){return ft.next()}function ie(p,l){for(var c=0;c<l;c++)p+="  ";return p}function Qe(p,l,c,d){var y="";if(p instanceof Array)for(var b=0,S=p.length;b<S;b++)y+=ie(c,d)+Qe(p[b],l,c,d+1);else if(typeof p=="object"){var A=!1;y+=ie(c,d)+"<"+l;for(var B in p)B.charAt(0)=="-"?y+=" "+B.substr(1)+'="'+p[B].toString()+'"':A=!0;if(y+=A?">":" />",A){for(var B in p)B=="#text"?y+=p[B]:B=="#cdata"?y+="<![CDATA["+p[B]+"]]>":B.charAt(0)!="-"&&(y+=Qe(p[B],B,c,d+1));y+=ie(c,d)+"</"+l+">"}}else y+=ie(c,d)+"<"+l+">"+p.toString()+"</"+l+">";return y}function nt(p){var l="";for(var c in p)l+=Qe(p[c],c,`	
`,0);return l}var qe=function(){};qe.ObjTree=function(){return this},qe.ObjTree.VERSION="0.23",qe.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`,qe.ObjTree.prototype.attr_prefix="-",qe.ObjTree.prototype.parseXML=function(p){var l;if(window.DOMParser){var c=new DOMParser,d=c.parseFromString(p,"application/xml");if(!d)return;l=d.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(p),l=c.documentElement);if(!!l)return this.parseDOM(l)},qe.ObjTree.prototype.parseHTTP=function(p,l,c){var d={};for(var y in l)d[y]=l[y];if(d.method||(typeof d.postBody=="undefined"&&typeof d.postbody=="undefined"&&typeof d.parameters=="undefined"?d.method="get":d.method="post"),c){d.asynchronous=!0;var b=this,S=c,A=d.onComplete;d.onComplete=function(F){var xe;F&&F.responseXML&&F.responseXML.documentElement&&(xe=b.parseDOM(F.responseXML.documentElement)),S(xe,F),A&&A(F)}}else d.asynchronous=!1;var B;if(typeof HTTP!="undefined"&&HTTP.Request){d.uri=p;var $=new HTTP.Request(d);$&&(B=$.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var $=new Ajax.Request(p,d);$&&(B=$.transport)}if(c)return B;if(B&&B.responseXML&&B.responseXML.documentElement)return this.parseDOM(B.responseXML.documentElement)},qe.ObjTree.prototype.parseDOM=function(p){if(!!p){if(this.__force_array={},this.force_array)for(var l=0;l<this.force_array.length;l++)this.__force_array[this.force_array[l]]=1;var c=this.parseElement(p);if(this.__force_array[p.nodeName]&&(c=[c]),p.nodeType!=11){var d={};d[p.nodeName]=c,c=d}return c}},qe.ObjTree.prototype.parseElement=function(p){if(p.nodeType!=7){if(p.nodeType==3||p.nodeType==4){var l=p.nodeValue.match(/[^\x00-\x20]/);return l==null?void 0:p.nodeValue}var c,d={};if(p.attributes&&p.attributes.length){c={};for(var y=0;y<p.attributes.length;y++){var b=p.attributes[y].nodeName;if(typeof b=="string"){var S=p.attributes[y].nodeValue;!S||(b=this.attr_prefix+b,typeof d[b]=="undefined"&&(d[b]=0),d[b]++,this.addNode(c,b,d[b],S))}}}if(p.childNodes&&p.childNodes.length){var A=!0;c&&(A=!1);for(var y=0;y<p.childNodes.length&&A;y++){var B=p.childNodes[y].nodeType;B==3||B==4||(A=!1)}if(A){c||(c="");for(var y=0;y<p.childNodes.length;y++)c+=p.childNodes[y].nodeValue}else{c||(c={});for(var y=0;y<p.childNodes.length;y++){var b=p.childNodes[y].nodeName;if(typeof b=="string"){var S=this.parseElement(p.childNodes[y]);!S||(typeof d[b]=="undefined"&&(d[b]=0),d[b]++,this.addNode(c,b,d[b],S))}}}}return c}},qe.ObjTree.prototype.addNode=function(p,l,c,d){this.__force_array[l]?(c==1&&(p[l]=[]),p[l][p[l].length]=d):c==1?p[l]=d:c==2?p[l]=[p[l],d]:p[l][p[l].length]=d},qe.ObjTree.prototype.writeXML=function(p){var l=this.hash_to_xml(null,p);return this.xmlDecl+l},qe.ObjTree.prototype.hash_to_xml=function(p,l){var c=[],d=[];for(var y in l)if(!!l.hasOwnProperty(y)){var b=l[y];y.charAt(0)!=this.attr_prefix?typeof b=="undefined"||b==null?c[c.length]="<"+y+" />":typeof b=="object"&&b.constructor==Array?c[c.length]=this.array_to_xml(y,b):typeof b=="object"?c[c.length]=this.hash_to_xml(y,b):c[c.length]=this.scalar_to_xml(y,b):d[d.length]=" "+y.substring(1)+'="'+this.xml_escape(b)+'"'}var S=d.join(""),A=c.join("");return typeof p=="undefined"||p==null||(c.length>0?A.match(/\n/)?A="<"+p+S+`>
`+A+"</"+p+`>
`:A="<"+p+S+">"+A+"</"+p+`>
`:A="<"+p+S+` />
`),A},qe.ObjTree.prototype.array_to_xml=function(p,l){for(var c=[],d=0;d<l.length;d++){var y=l[d];typeof y=="undefined"||y==null?c[c.length]="<"+p+" />":typeof y=="object"&&y.constructor==Array?c[c.length]=this.array_to_xml(p,y):typeof y=="object"?c[c.length]=this.hash_to_xml(p,y):c[c.length]=this.scalar_to_xml(p,y)}return c.join("")},qe.ObjTree.prototype.scalar_to_xml=function(p,l){return p=="#text"?this.xml_escape(l):"<"+p+">"+this.xml_escape(l)+"</"+p+`>
`},qe.ObjTree.prototype.xml_escape=function(p){return p.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Vt=function(p){return new qe.ObjTree().parseXML(p)},mt=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},gt;(function(p){p.START="bpmn:startEvent",p.END="bpmn:endEvent",p.GATEWAY="bpmn:exclusiveGateway",p.USER="bpmn:userTask",p.SYSTEM="bpmn:serviceTask",p.FLOW="bpmn:sequenceFlow"})(gt||(gt={}));var Tt=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Jt(p){var l={};return Object.entries(p).forEach(function(c){var d=mt(c,2),y=d[0],b=d[1];typeof b!="object"?y.indexOf("-")===0?l[y]=b:l["-"+y]=b:l[y]=Jt(b)}),l}function V(p){var l={};return Object.entries(p).forEach(function(c){var d=mt(c,2),y=d[0],b=d[1];typeof b=="string"?y.indexOf("-")===0?l[y.substr(1)]=b:l[y]=b:typeof b=="object"?l[y]=V(b):l[y]=b}),l}function pe(p,l){var c=new Map;l.nodes.forEach(function(y){var b,S={"-id":y.id};if(((b=y.text)===null||b===void 0?void 0:b.value)&&(S["-name"]=y.text.value),y.properties){var A=Jt(y.properties);Object.assign(S,A)}c.set(y.id,S),p[y.type]?Array.isArray(p[y.type])?p[y.type].push(S):p[y.type]=[p[y.type],S]:p[y.type]=S});var d=l.edges.map(function(y){var b,S,A=c.get(y.targetNodeId);A["bpmn:incoming"]?Array.isArray(A["bpmn:incoming"])?A["bpmn:incoming"].push(y.id):A["bpmn:incoming"]=[A["bpmn:incoming"],y.id]:A["bpmn:incoming"]=y.id;var B=c.get(y.sourceNodeId);B["bpmn:outgoing"]?Array.isArray(B["bpmn:outgoing"])?B["bpmn:outgoing"].push(y.id):B["bpmn:outgoing"]=[B["bpmn:outgoing"],y.id]:B["bpmn:outgoing"]=y.id;var $={"-id":y.id,"-sourceRef":y.sourceNodeId,"-targetRef":y.targetNodeId};if(((b=y.text)===null||b===void 0?void 0:b.value)&&($["-name"]=(S=y.text)===null||S===void 0?void 0:S.value),y.properties){var F=Jt(y.properties);Object.assign($,F)}return $});p[gt.FLOW]=d}function ke(p,l){p["bpmndi:BPMNEdge"]=l.edges.map(function(c){var d,y=c.id,b=c.pointsList.map(function(A){var B=A.x,$=A.y;return{"-x":B,"-y":$}}),S={"-id":y+"_di","-bpmnElement":y,"di:waypoint":b};return((d=c.text)===null||d===void 0?void 0:d.value)&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),S}),p["bpmndi:BPMNShape"]=l.nodes.map(function(c){var d,y=c.id,b=100,S=80,A=c.x,B=c.y,$=St.shapeConfigMap.get(c.type);$&&(b=$.width,S=$.height),A-=b/2,B-=S/2;var F={"-id":y+"_di","-bpmnElement":y,"dc:Bounds":{"-x":A,"-y":B,"-width":b,"-height":S}};return((d=c.text)===null||d===void 0?void 0:d.value)&&(F["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),F})}function de(p){var l=[],c=[],d=p["bpmn:definitions"];if(d){var y=d["bpmn:process"];Object.keys(y).forEach(function(b){if(b.indexOf("bpmn:")===0){var S=y[b];if(b===gt.FLOW){var A=d["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=We(S,A)}else{var B=d["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];l=l.concat(ze(S,B,b))}}})}return{nodes:l,edges:c}}function ze(p,l,c){var d=[];if(Array.isArray(p))p.forEach(function(S){var A;Array.isArray(l)?A=l.find(function($){return $["-bpmnElement"]===S["-id"]}):A=l;var B=Be(A,c,S);d.push(B)});else{var y=void 0;Array.isArray(l)?y=l.find(function(S){return S["-bpmnElement"]===p["-id"]}):y=l;var b=Be(y,c,p);d.push(b)}return d}function Be(p,l,c){var d=Number(p["dc:Bounds"]["-x"]),y=Number(p["dc:Bounds"]["-y"]),b=c["-name"],S=St.shapeConfigMap.get(l);S&&(d+=S.width/2,y+=S.height/2);var A;Object.entries(c).forEach(function(xe){var Ee=mt(xe,2),Pe=Ee[0],Ie=Ee[1];Tt.indexOf(Pe)===-1&&(A||(A={}),A[Pe]=Ie)}),A&&(A=V(A));var B;if(b&&(B={x:d,y,value:b},p["bpmndi:BPMNLabel"]&&p["bpmndi:BPMNLabel"]["dc:Bounds"])){var $=p["bpmndi:BPMNLabel"]["dc:Bounds"];B.x=Number($["-x"])+Number($["-width"])/2,B.y=Number($["-y"])+Number($["-height"])/2}var F={id:p["-bpmnElement"],type:l,x:d,y,properties:A};return B&&(F.text=B),F}function We(p,l){var c=[];if(Array.isArray(p))p.forEach(function(y){var b;Array.isArray(l)?b=l.find(function(S){return S["-bpmnElement"]===y["-id"]}):b=l,c.push(rt(b,y))});else{var d=void 0;Array.isArray(l)?d=l.find(function(y){return y["-bpmnElement"]===p["-id"]}):d=l,c.push(rt(d,p))}return c}function rt(p,l){var c,d=l["-name"];if(d){var y=p["bpmndi:BPMNLabel"]["dc:Bounds"],b=0;d.split(`
`).forEach(function(B){b<B.length&&(b=B.length)}),c={value:d,x:Number(y["-x"])+b*10/2,y:Number(y["-y"])+7}}var S;Object.entries(l).forEach(function(B){var $=mt(B,2),F=$[0],xe=$[1];Tt.indexOf(F)===-1&&(S||(S={}),S[F]=xe)}),S&&(S=V(S));var A={id:l["-id"],type:gt.FLOW,pointsList:p["di:waypoint"].map(function(B){return{x:Number(B["-x"]),y:Number(B["-y"])}}),sourceNodeId:l["-sourceRef"],targetNodeId:l["-targetRef"],properties:S};return c&&(A.text=c),A}var St={pluginName:"bpmn-adapter",install:function(p){p.adapterIn=this.adapterIn,p.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(p,l){this.shapeConfigMap.set(p,l)},adapterOut:function(p){var l={"-id":"Process_"+Ae(),"-isExecutable":"false"};pe(l,p);var c={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};ke(c,p);var d={"bpmn:definitions":{"-id":"Definitions_"+Ae(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":l,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return d},adapterIn:function(p){if(p)return de(p)}};St.shapeConfigMap.set(gt.START,{width:ue.width,height:ue.height}),St.shapeConfigMap.set(gt.END,{width:ce.width,height:ce.height}),St.shapeConfigMap.set(gt.GATEWAY,{width:_e.width,height:_e.height}),St.shapeConfigMap.set(gt.SYSTEM,{width:De.width,height:De.height}),St.shapeConfigMap.set(gt.USER,{width:Ye.width,height:Ye.height});var Xt={pluginName:"bpmnXmlAdapter",install:function(p){p.adapterIn=this.adapterXmlIn,p.adapterOut=this.adapterXmlOut},adapterXmlIn:function(p){var l=Vt(p);return St.adapterIn(l)},adapterXmlOut:function(p){var l=St.adapterOut(p);return nt(l)}},bn=null,nn=function(){return nn=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},nn.apply(this,arguments)},Pt=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},Ve={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},it={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function pt(p){switch(p){case"bpmn:sequenceFlow":return Ve.SEQUENCE_FLOW;case"bpmn:startEvent":return Ve.START_EVENT;case"bpmn:endEvent":return Ve.END_EVENT;case"bpmn:userTask":return Ve.USER_TASK;case"bpmn:exclusiveGateway":return Ve.EXCLUSIVE_GATEWAY;default:return p}}function bt(p){var l=p.id,c=p.type,d=p.x,y=p.y,b=p.text,S=b===void 0?"":b,A=p.properties;return{incoming:[],outgoing:[],dockers:[],type:pt(p.type),properties:nn(nn({},A),{name:S&&S.value||"",x:d,y,text:S}),key:l}}function Bt(p){var l=p.id,c=p.type,d=p.sourceNodeId,y=p.targetNodeId,b=p.startPoint,S=p.endPoint,A=p.pointsList,B=p.text,$=B===void 0?"":B,F=p.properties;return{incoming:[d],outgoing:[y],type:pt(c),dockers:[],properties:nn(nn({},F),{name:$&&$.value||"",text:$,startPoint:JSON.stringify(b),endPoint:JSON.stringify(S),pointsList:JSON.stringify($)}),key:l}}function Qt(p){var l=new Map,c={flowElementList:[]};return p.nodes.forEach(function(d){var y=bt(d);c.flowElementList.push(y),l.set(d.id,y)}),p.edges.forEach(function(d){var y=Bt(d),b=l.get(d.sourceNodeId);b.outgoing.push(y.key);var S=l.get(d.targetNodeId);S.incoming.push(y.key),c.flowElementList.push(y)}),c}function _n(p){var l=p.incoming,c=p.outgoing,d=p.properties,y=p.key,b=p.type,S=d.text,A=d.name,B=d.startPoint,$=d.endPoint,F=d.pointsList,xe={id:y,type:it[b],sourceNodeId:l[0],targetNodeId:c[0],text:S||A,properties:{}};B&&(xe.startPoint=JSON.parse(B)),$&&(xe.endPoint=JSON.parse($)),F&&(xe.endPoint=JSON.parse(F));var Ee=["startPoint","endPoint","pointsList","text"];return Object.keys(p.properties).forEach(function(Pe){Ee.indexOf(Pe)===-1&&(xe.properties[Pe]=p.properties[Pe])}),xe}function Ho(p){var l=p.properties,c=p.key,d=p.type,y=p.bounds,b=l.x,S=l.y;if(b===void 0){var A=Pt(y,2),B=A[0],$=B.x,F=B.y,xe=A[1],Ee=xe.x,Pe=xe.y;b=($+Ee)/2,S=(F+Pe)/2}var Ie={id:c,type:it[d],x:b,y:S,text:l.text,properties:{}},ut=["x","y","text"];return Object.keys(p.properties).forEach(function(st){ut.indexOf(st)===-1&&(Ie.properties[st]=p.properties[st])}),Ie}function ir(p){var l={nodes:[],edges:[]},c=p.flowElementList;return c&&c.length>0&&c.forEach(function(d){if(d.type===Ve.SEQUENCE_FLOW){var y=_n(d);l.edges.push(y)}else{var b=Ho(d);l.nodes.push(b)}}),l}var Mr=function(){function p(l){var c=l.lf;c.adapterIn=this.adapterIn,c.adapterOut=this.adapterOut}return p.prototype.adapterOut=function(l){if(l)return Qt(l)},p.prototype.adapterIn=function(l){if(l)return ir(l)},p.pluginName="turboAdapter",p}(),Go=null,kr;(function(p){p.HORIZONTAL="horizontal",p.VERTICAL="vertical"})(kr||(kr={}));var qn=function(p,l,c){var d=p.x,y=p.y;return(d-l.x)*(d-c.x)<=0&&(y-l.y)*(y-c.y)<=0},ko=function(p){var l=p.x,c=p.y,d=p.width,y=p.height,b={minX:l-d/2,minY:c-y/2,maxX:l+d/2,maxY:c+y/2,x:l,y:c,width:d,height:y,centerX:l,centerY:c};return b},ci=function(p,l){var c;return p.x===l.x?c=kr.VERTICAL:p.y===l.y&&(c=kr.HORIZONTAL),c},et=function(p,l,c){var d=ko(p),y=ci(l,c),b=Math.max(l.x,c.x),S=Math.min(l.x,c.x),A=Math.max(l.y,c.y),B=Math.min(l.y,c.y),$=p.x,F=p.y,xe=p.width,Ee=p.height;if(y===kr.HORIZONTAL){if(l.y===F&&b>=d.maxX&&S<=d.minX)return{startCrossPoint:{x:l.x>c.x?$+xe/2:$-xe/2,y:F},endCrossPoint:{x:l.x>c.x?$-xe/2:$+xe/2,y:F}}}else if(y===kr.VERTICAL&&l.x===p.x&&A>=d.maxY&&B<=d.minY)return{startCrossPoint:{x:$,y:l.y>c.y?F+Ee/2:F-Ee/2},endCrossPoint:{x:$,y:l.y>c.y?F-Ee/2:F+Ee/2}}},Hi=function(p,l){for(var c=p.x,d=p.y,y=l.pointsList,b=0;b<y.length-1;b++)if(qn({x:c,y:d},y[b],y[b+1])){var S=et(p,y[b],y[b+1]);if(S)return{crossIndex:b+1,crossPoints:S}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},li=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},Fo=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(li(arguments[l]));return p},Vn=function(){function p(l){var c=l.lf;this._lf=c,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return p.prototype.eventHandler=function(){var l=this;this.dndAdd&&this._lf.on("node:dnd-add",function(c){var d=c.data;l.insetNode(d)}),this.dropAdd&&this._lf.on("node:drop",function(c){for(var d=c.data,y=l._lf.graphModel.edges,b=d.id,S=!0,A=0;A<y.length;A++)if(y[A].sourceNodeId===b||y[A].targetNodeId===b){S=!1;break}S&&l.insetNode(d)})},p.prototype.insetNode=function(l){for(var c=this._lf.graphModel.edges,d=this._lf.getNodeModelById(l.id),y=0;y<c.length;y++){var b=Hi(d,c[y]),S=b.crossIndex,A=b.crossPoints;if(S>=0){var B=c[y],$=B.sourceNodeId,F=B.targetNodeId,xe=B.id,Ee=B.type,Pe=B.pointsList;this._lf.addEdge({type:Ee,sourceNodeId:$,targetNodeId:l.id,pointsList:Fo(Pe.slice(0,S),[A.startCrossPoint])}),this._lf.addEdge({type:Ee,sourceNodeId:l.id,targetNodeId:F,pointsList:Fo([A.endCrossPoint],Pe.slice(S))}),this._lf.deleteEdge(xe);break}}},p.pluginName="insertNodeInPolyline",p}(),Wn=null,ar=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},Nr=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(ar(arguments[l]));return p},ur=function(){function p(l){var c=this,d=l.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){c.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){c.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){c.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){c.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){c.lf.redo()}}],this.lf=d}return p.prototype.render=function(l,c){this.destroy();var d=this.getControlTool();this.toolEl=d,c.appendChild(d),this.domContainer=c},p.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},p.prototype.addItem=function(l){this.controlItems.push(l)},p.prototype.removeItem=function(l){var c=this.controlItems.findIndex(function(d){return d.key===l});return this.controlItems.splice(c,1)[0]},p.prototype.getControlTool=function(){var l=this,c="lf-control-item",d="lf-control-item disabled",y=document.createElement("div"),b=[];return y.className="lf-control",this.controlItems.forEach(function(S){var A=document.createElement("div"),B=document.createElement("i"),$=document.createElement("span");switch(A.className=d,S.onClick&&(A.onclick=S.onClick.bind(null,l.lf)),S.onMouseEnter&&(A.onmouseenter=S.onMouseEnter.bind(null,l.lf)),S.onMouseLeave&&(A.onmouseleave=S.onMouseLeave.bind(null,l.lf)),B.className=S.iconClass,$.className="lf-control-text",$.title=S.title,$.innerText=S.text,A.append(B,$),S.text){case"\u4E0A\u4E00\u6B65":l.lf.on("history:change",function(F){var xe=F.data.undoAble;A.className=xe?c:d});break;case"\u4E0B\u4E00\u6B65":l.lf.on("history:change",function(F){var xe=F.data.redoAble;A.className=xe?c:d});break;default:A.className=c;break}b.push(A)}),y.append.apply(y,Nr(b)),y},p.pluginName="control",p}(),fi=null,pi=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},Gi=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(pi(arguments[l]));return p},sr="lf:defaultNodeMenu",ro="lf:defaultEdgeMenu",Ar="lf:defaultGraphMenu",di="lf:defaultSelectionMenu",yr=function(){function p(l){var c=this,d=l.lf;this.__menuDOM=document.createElement("ul"),this.lf=d,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(y){c.setMenuConfig(y)},this.lf.addMenuConfig=function(y){c.addMenuConfig(y)},this.lf.setMenuByType=function(y){c.setMenuByType(y)}}return p.prototype.init=function(){var l=this,c=[{text:"\u5220\u9664",callback:function(b){l.lf.deleteNode(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){l.lf.graphModel.editText(b.id)}},{text:"\u590D\u5236",callback:function(b){l.lf.cloneNode(b.id)}}];this.menuTypeMap.set(sr,c);var d=[{text:"\u5220\u9664",callback:function(b){l.lf.deleteEdge(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){l.lf.graphModel.editText(b.id)}}];this.menuTypeMap.set(ro,d),this.menuTypeMap.set(Ar,[]);var y=[{text:"\u5220\u9664",callback:function(b){l.lf.clearSelectElements(),b.edges.forEach(function(S){return l.lf.deleteEdge(S.id)}),b.nodes.forEach(function(S){return l.lf.deleteNode(S.id)})}}];this.menuTypeMap.set(di,y)},p.prototype.render=function(l,c){var d=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(y){y.stopPropagation();for(var b=y.target;Array.from(b.classList).indexOf("lf-menu-item")===-1&&Array.from(b.classList).indexOf("lf-menu")===-1;)b=b.parentElement;Array.from(b.classList).indexOf("lf-menu-item")>-1?(b.onclickCallback(d.__currentData),d.__menuDOM.style.display="none",d.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(y){var b=y.data,S=y.position,A=S.domOverlayPosition,B=A.x,$=A.y,F=b.id,xe=d.lf.graphModel.getNodeModelById(F),Ee=[],Pe=d.menuTypeMap.get(xe.type);xe&&xe.menu&&Array.isArray(xe.menu)?Ee=xe.menu:Pe?Ee=Pe:Ee=d.menuTypeMap.get(sr),d.__currentData=b,d.showMenu(B,$,Ee)}),this.lf.on("edge:contextmenu",function(y){var b=y.data,S=y.position,A=S.domOverlayPosition,B=A.x,$=A.y,F=b.id,xe=d.lf.graphModel.getEdgeModelById(F),Ee=[],Pe=d.menuTypeMap.get(xe.type);xe&&xe.menu&&Array.isArray(xe.menu)?Ee=xe.menu:Pe?Ee=Pe:Ee=d.menuTypeMap.get(ro),d.__currentData=b,d.showMenu(B,$,Ee)}),this.lf.on("blank:contextmenu",function(y){var b=y.position,S=d.menuTypeMap.get(Ar),A=b.domOverlayPosition,B=A.x,$=A.y;d.showMenu(B,$,S)}),this.lf.on("selection:contextmenu",function(y){var b=y.data,S=y.position,A=d.menuTypeMap.get(di),B=S.domOverlayPosition,$=B.x,F=B.y;d.__currentData=b,d.showMenu($,F,A)}),this.lf.on("node:mousedown",function(){d.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){d.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){d.__menuDOM.style.display="none"})},p.prototype.destroy=function(){var l;(l=this===null||this===void 0?void 0:this.__container)===null||l===void 0||l.removeChild(this.__menuDOM),this.__menuDOM=null},p.prototype.showMenu=function(l,c,d){if(!(!d||!d.length)){var y=this.__menuDOM;y.innerHTML="",y.append.apply(y,Gi(this.__getMenuDom(d))),!!y.children.length&&(y.style.display="block",y.style.top=c+"px",y.style.left=l+"px")}},p.prototype.setMenuByType=function(l){!l.type||!l.menu||this.menuTypeMap.set(l.type,l.menu)},p.prototype.__getMenuDom=function(l){var c=[];return l&&l.length>0&&l.forEach(function(d){var y=document.createElement("li");if(d.className?y.className="lf-menu-item "+d.className:y.className="lf-menu-item",d.icon===!0){var b=document.createElement("span");b.className="lf-menu-item-icon",y.appendChild(b)}var S=document.createElement("span");S.className="lf-menu-item-text",d.text&&(S.innerText=d.text),y.appendChild(S),y.onclickCallback=d.callback,c.push(y)}),c},p.prototype.setMenuConfig=function(l){!l||(l.nodeMenu!==void 0&&this.menuTypeMap.set(sr,l.nodeMenu?l.nodeMenu:[]),l.edgeMenu!==void 0&&this.menuTypeMap.set(ro,l.edgeMenu?l.edgeMenu:[]),l.graphMenu!==void 0&&this.menuTypeMap.set(Ar,l.graphMenu?l.graphMenu:[]))},p.prototype.addMenuConfig=function(l){if(!!l){if(Array.isArray(l.nodeMenu)){var c=this.menuTypeMap.get(sr);this.menuTypeMap.set(sr,c.concat(l.nodeMenu))}if(Array.isArray(l.edgeMenu)){var c=this.menuTypeMap.get(ro);this.menuTypeMap.set(ro,c.concat(l.edgeMenu))}if(Array.isArray(l.graphMenu)){var c=this.menuTypeMap.get(Ar);this.menuTypeMap.set(Ar,c.concat(l.graphMenu))}}},p.prototype.changeMenuItem=function(l,c){if(l==="add")this.addMenuConfig(c);else if(l==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},p.pluginName="menu",p}(),Fi=null,cr=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},Xo="menu-common",oo=200,Uo=100,Yo=function(){function p(l){var c=this,d=l.lf;this.menuTypeMap=new Map,this.listenDelete=function(){c.hideContextMenu()},this.lf=d,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(Xo,[]),this.lf.setContextMenuByType=function(y,b){c.setContextMenuByType(y,b)},this.lf.setContextMenuItems=function(y){c.setContextMenuItems(y)},this.lf.showContextMenu=function(y){c.showContextMenu(y)},this.lf.hideContextMenu=function(){c.hideContextMenu()}}return p.prototype.render=function(l,c){var d=this;this.container=c,l.on("node:click",function(y){var b=y.data;d._activeData=b,d.createContextMenu()}),l.on("edge:click",function(y){var b=y.data;d._activeData=b,d.createContextMenu()}),l.on("blank:click",function(){d.hideContextMenu()})},p.prototype.setContextMenuByType=function(l,c){this.menuTypeMap.set(l,c)},p.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},p.prototype.showContextMenu=function(l){if(!l||!l.id){console.warn("\u8BF7\u68C0\u67E5\u4F20\u5165\u7684\u53C2\u6570");return}this._activeData=l,this.createContextMenu()},p.prototype.setContextMenuItems=function(l){this.menuTypeMap.set(Xo,l)},p.prototype.getContextMenuPosition=function(){var l=this._activeData,c=this.lf.graphModel.getElement(l.id);if(!c){console.warn("\u627E\u4E0D\u5230\u5143\u7D20"+l.id);return}var d,y;if(c.BaseType==="edge"){d=Number.MIN_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER;var b=c.getData();d=Math.max(b.startPoint.x,d),y=Math.min(b.startPoint.y,y),d=Math.max(b.endPoint.x,d),y=Math.min(b.endPoint.y,y),b.pointsList&&b.pointsList.forEach(function(S){d=Math.max(S.x,d),y=Math.min(S.y,y)})}return c.BaseType==="node"&&(d=l.x+c.width/2,y=l.y-c.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([d,y])},p.prototype.createContextMenu=function(){var l=this,c=this.lf.options.isSilentMode;if(!c){var d=this.menuTypeMap.get(this._activeData.type)||[];d=d.concat(this.menuTypeMap.get(Xo));var y=document.createDocumentFragment();d.forEach(function(b){var S=document.createElement("div");S.className="lf-context-item";var A=document.createElement("img");A.src=b.icon,A.className="lf-context-img",b.className&&(S.className=S.className+" "+b.className),A.addEventListener("click",function(){l.hideContextMenu(),b.callback?b.callback(l._activeData):l.addNode({sourceId:l._activeData.id,x:l._activeData.x,y:l._activeData.y,properties:b.properties,type:b.type})}),S.appendChild(A),y.appendChild(S)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(y),this.showMenu()}},p.prototype.addNode=function(l,c){var d=c!==void 0;c===void 0&&(c=l.y);var y=this.lf.getNodeModelById(l.sourceId),b=l.x-y.width+oo,S=c-l.y/2-20,A=l.x+y.width+oo,B=c+l.y/2+20,$=this.lf.getAreaElement([b,S],[A,B]);if($.length){c=c+Uo,this.addNode(l,c);return}var F=this.lf.addNode({type:l.type,x:l.x+200,y:c,properties:l.properties}),xe,Ee;d&&(xe={x:l.x,y:l.y+y.height/2},Ee={x:F.x-F.width/2,y:F.y}),this.lf.addEdge({sourceNodeId:l.sourceId,targetNodeId:F.id,startPoint:xe,endPoint:Ee})},p.prototype.showMenu=function(){var l=cr(this.getContextMenuPosition(),2),c=l[0],d=l[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=d+"px",this.__menuDOM.style.left=c+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},p.pluginName="contextMenu",p}(),ya=null,hi=function(){function p(l){var c=this,d=l.lf;this.lf=d,this.lf.setPatternItems=function(y){c.setPatternItems(y)}}return p.prototype.render=function(l,c){var d=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(y){d.panelEl.appendChild(d.createDndItem(y))}),c.appendChild(this.panelEl),this.domContainer=c},p.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},p.prototype.setPatternItems=function(l){this.shapeList=l,this.domContainer&&this.render(this.lf,this.domContainer)},p.prototype.createDndItem=function(l){var c=this,d=document.createElement("div");d.className=l.className?"lf-dnd-item "+l.className:"lf-dnd-item";var y=document.createElement("div");if(y.className="lf-dnd-shape",l.icon&&(y.style.backgroundImage="url("+l.icon+")"),d.appendChild(y),l.label){var b=document.createElement("div");b.innerText=l.label,b.className="lf-dnd-text",d.appendChild(b)}return d.onmousedown=function(){l.type&&c.lf.dnd.startDrag({type:l.type,properties:l.properties,text:l.text}),l.callback&&l.callback(c.lf,c.domContainer)},d},p.pluginName="dndPanel",p}(),Tr=function(){function p(l){var c=this,d=l.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(b){var S=c.lf.getPointByClient(b.clientX,b.clientY).domOverlayPosition,A=S.x,B=S.y;c.endPoint={x:A,y:B};var $=c.startPoint,F=$.x,xe=$.y,Ee=c.wrapper.style,Pe=F,Ie=xe,ut=A-F,st=B-xe;A<F&&(Pe=A,ut=F-A),B<xe&&(Ie=B,st=xe-B),Ee.left=Pe+"px",Ee.top=Ie+"px",Ee.width=ut+"px",Ee.height=st+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var b=c.startPoint,S=b.x,A=b.y,B=c.endPoint,$=B.x,F=B.y;if(!(Math.abs($-S)<10&&Math.abs(F-A)<10)){var xe=[Math.min(S,$),Math.min(A,F)],Ee=[Math.max(S,$),Math.max(A,F)],Pe=c.lf.getAreaElement(xe,Ee,c.isWholeEdge,c.isWholeNode);Pe.forEach(function(Ie){c.lf.selectElementById(Ie.id,!0)}),c.lf.emit("selection:selected",Pe)}},this.lf=d;var y=d.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=y,d.openSelectionSelect=function(){c.openSelectionSelect()},d.closeSelectionSelect=function(){c.closeSelectionSelect()}}return p.prototype.render=function(l,c){var d=this;this.__domContainer=c,l.on("blank:mousedown",function(y){var b=y.e,S=l.getEditConfig();if(!(!S.stopMoveGraph||d.__disabled)){var A=l.getPointByClient(b.clientX,b.clientY).domOverlayPosition,B=A.x,$=A.y;d.startPoint={x:B,y:$},d.endPoint={x:B,y:$};var F=document.createElement("div");F.className="lf-selection-select",F.style.top=d.startPoint.y+"px",F.style.left=d.startPoint.x+"px",c.appendChild(F),d.wrapper=F,document.addEventListener("mousemove",d.__draw),document.addEventListener("mouseup",d.__drawOff)}})},p.prototype.setSelectionSense=function(l,c){l===void 0&&(l=!0),c===void 0&&(c=!0),this.isWholeEdge=l,this.isWholeNode=c},p.prototype.openSelectionSelect=function(){var l=this.lf.getEditConfig().stopMoveGraph;l||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},p.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},p.prototype.open=function(){this.__disabled=!1},p.prototype.close=function(){this.__disabled=!0},p.pluginName="selectionSelect",p}(),Dr=function(p){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&p[l],d=0;if(c)return c.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&d>=p.length&&(p=void 0),{value:p&&p[d++],done:!p}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},yi=function(){function p(l){var c=this,d=l.lf,y=l.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(b,S){c.__setView(),c.__isShow||c.__createMiniMap(b,S),c.__isShow=!0},this.hide=function(){c.__isShow&&c.__removeMiniMap(),c.__isShow=!1},this.__startDrag=function(b){document.addEventListener("mousemove",c.__drag),document.addEventListener("mouseup",c.__drop),c.__startPosition={x:b.x,y:b.y}},this.__drag=function(b){var S=c.__viewport.style;c.__viewPortTop+=b.y-c.__startPosition.y,c.__viewPortLeft+=b.x-c.__startPosition.x,S.top=c.__viewPortTop+"px",S.left=c.__viewPortLeft+"px",c.__startPosition={x:b.x,y:b.y};var A=(c.__viewPortLeft+c.__viewPortWidth/2)/c.__viewPortScale,B=(c.__viewPortTop+c.__viewPortHeight/2)/c.__viewPortScale;c.__lf.focusOn({coordinate:{x:A+c.__resetDataX,y:B+c.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",c.__drag),document.removeEventListener("mouseup",c.__drop)},this.__lf=d,this.__miniMapWidth=d.graphModel.width,this.__miniMapHeight=d.graphModel.width*220/150,this.__LogicFlow=y,this.__init()}return p.prototype.render=function(l,c){var d=this;this.__container=c,this.__lf.on("history:change",function(){d.__isShow&&d.__setView()})},p.prototype.init=function(l){this.__disabledPlugins=this.__disabledPlugins.concat(l.disabledPlugins||[])},p.prototype.__init=function(){var l=document.createElement("div");l.className="lf-mini-map-graph",l.style.width=this.__width+"px",l.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:this.__lf.graphModel.width*220/150,container:l,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(c){return c},this.__lfMap.adapterOut=function(c){return c},this.__miniMapWrap=l,this.__createViewPort()},p.prototype.__createMiniMap=function(l,c){var d=document.createElement("div"),y=this.__miniMapWrap;d.appendChild(y),typeof l!="undefined"&&typeof c!="undefined"&&(d.style.left=l+"px",d.style.top=c+"px"),d.style.position="absolute",d.className="lf-mini-map",this.__container.appendChild(d),this.__miniMapWrap.appendChild(this.__viewport);var b=document.createElement("div");b.className="lf-mini-map-header",b.innerText="\u5BFC\u822A",d.appendChild(b);var S=document.createElement("span");S.className="lf-mini-map-close",S.addEventListener("click",this.hide),d.appendChild(S),this.__miniMapContainer=d},p.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},p.prototype.__getBounds=function(l){var c=0,d=this.__miniMapWidth,y=0,b=this.__miniMapHeight,S=l.nodes;return S&&S.length>0&&S.forEach(function(A){var B=A.x,$=A.y,F=A.width,xe=F===void 0?200:F,Ee=A.height,Pe=Ee===void 0?200:Ee,Ie=B-xe/2,ut=B+xe/2,st=$-Pe/2,dt=$+Pe/2;c=Ie<c?Ie:c,d=ut>d?ut:d,y=st<y?st:y,b=dt>b?dt:b}),{left:c,top:y,bottom:b,right:d}},p.prototype.__resetData=function(l){var c=l.nodes,d=l.edges,y=0,b=0;return c&&c.length>0&&(c.forEach(function(S){var A=S.x,B=S.y,$=S.width,F=$===void 0?200:$,xe=S.height,Ee=xe===void 0?200:xe,Pe=A-F/2,Ie=B-Ee/2;y=Pe<y?Pe:y,b=Ie<b?Ie:b}),(y<0||b<0)&&(this.__resetDataX=y,this.__resetDataY=b,c.forEach(function(S){S.x=S.x-y,S.y=S.y-b,S.text&&(S.text.x=S.text.x-y,S.text.y=S.text.y-b)}),d.forEach(function(S){S.startPoint&&(S.startPoint.x=S.startPoint.x-y,S.startPoint.y=S.startPoint.y-b),S.endPoint&&(S.endPoint.x=S.endPoint.x-y,S.endPoint.y=S.endPoint.y-b),S.text&&(S.text.x=S.text.x-y,S.text.y=S.text.y-b),S.pointsList&&S.pointsList.forEach(function(A){A.x=A.x-y,A.y=A.y-b})}))),l},p.prototype.__setView=function(){var l,c,d=this.__resetData(this.__lf.getGraphRawData()),y=this.__lf.viewMap,b=this.__lf.graphModel.modelMap,S=this.__lfMap.viewMap;try{for(var A=Dr(y.keys()),B=A.next();!B.done;B=A.next()){var $=B.value;S.has($)||(this.__lfMap.setView($,y.get($)),this.__lfMap.graphModel.modelMap.set($,b.get($)))}}catch(Mt){l={error:Mt}}finally{try{B&&!B.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}this.__lfMap.render(d);var F=this.__getBounds(d),xe=F.left,Ee=F.top,Pe=F.right,Ie=F.bottom,ut=this.__width/(Pe-xe),st=this.__height/(Ie-Ee),dt=this.__miniMapWrap.firstChild.style,Xe=Math.min(ut,st);dt.transform="matrix("+Xe+", 0, 0, "+Xe+", 0, 0)",dt.transformOrigin="left top",dt.height=Ie-Math.min(Ee,0)+"px",dt.width=Pe-Math.min(xe,0)+"px",this.__viewPortScale=Xe,this.__setViewPort(Xe,{left:xe,top:Ee,right:Pe,bottom:Ie})},p.prototype.__setViewPort=function(l,c){var d=c.left,y=c.right,b=c.top,S=c.bottom,A=this.__viewport.style;A.width=this.__width-4+"px",A.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var B=this.__lf.getTransform(),$=B.TRANSLATE_X,F=B.TRANSLATE_Y,xe=y-d,Ee=(this.__width-4)/(xe/this.__lf.graphModel.width),Pe=this.__lf.graphModel.width/this.__lf.graphModel.height,Ie=Ee/Pe;this.__viewPortTop=F>0?0:-F*l,this.__viewPortLeft=-$*l,this.__viewPortWidth=Ee,this.__viewPortHeight=Ie,A.top=this.__viewPortTop+"px",A.left=this.__viewPortLeft+"px",A.width=Ee+"px",A.height=Ie+"px"},p.prototype.__createViewPort=function(){var l=document.createElement("div");l.className="lf-minimap-viewport",l.addEventListener("mousedown",this.__startDrag),this.__viewport=l},p.pluginName="miniMap",p}(),io=null,Jn=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),Cr=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},vi=function(p){Jn(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),d=c.strokeWidth,y=c.stroke,b=c.strokeDashArray,S=this.props.model.points,A=S.split(" ").map(function(mn){return mn.split(",").map(function(Dn){return Number(Dn)})}),B=Cr(A[0],2),$=B[0],F=B[1],xe="M"+$+" "+F,Ee=5,Pe=1;Pe<A.length-1;Pe++){var Ie=Cr(A[Pe-1],2),ut=Ie[0],st=Ie[1],dt=Cr(A[Pe],2),Xe=dt[0],Mt=dt[1],Kt=Cr(A[Pe+1],2),en=Kt[0],An=Kt[1];if(Xe===ut&&Mt!==st){var Tn=Mt>st?Mt-Ee:Mt+Ee;xe=xe+" L "+Xe+" "+Tn}if(Mt===st&&Xe!==ut){var vn=Xe>ut?Xe-Ee:Xe+Ee;xe=xe+" L "+vn+" "+Mt}if(xe=xe+" Q "+Xe+" "+Mt,Xe===en&&Mt!==An){var Tn=Mt>An?Mt-Ee:Mt+Ee;xe=xe+" "+Xe+" "+Tn}if(Mt===An&&Xe!==en){var vn=Xe>en?Xe-Ee:Xe+Ee;xe=xe+" "+vn+" "+Mt}}var gn=Cr(A[A.length-1],2),an=gn[0],un=gn[1];return xe=xe+" L "+an+" "+un,(0,M.h)("path",{d:xe,strokeWidth:d,stroke:y,fill:"none",strokeDashArray:b})},l.extendKey="curvedEdge",l}(M.PolylineEdge),ao=function(p){Jn(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l}(M.PolylineEdgeModel),gi={pluginName:"curved-edge",curvedSpace:5,init:function(p){var l=p.curvedSpace;gi.curvedSpace=l},install:function(p){p.register({type:"curved-edge",view:vi,model:ao})}},va=null,Rr,Wt,Ir,mi,uo,Vo,No,Lr,Ln={},cn=[],bi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Qn(p,l){for(var c in l)p[c]=l[c];return p}function Wo(p){var l=p.parentNode;l&&l.removeChild(p)}function zn(p,l,c){var d,y,b,S={};for(b in l)b=="key"?d=l[b]:b=="ref"?y=l[b]:S[b]=l[b];if(arguments.length>2&&(S.children=arguments.length>3?Rr.call(arguments,2):c),typeof p=="function"&&p.defaultProps!=null)for(b in p.defaultProps)S[b]===void 0&&(S[b]=p.defaultProps[b]);return zr(p,S,d,y,null)}function zr(p,l,c,d,y){var b={type:p,props:l,key:c,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:y==null?++Ir:y};return y==null&&Wt.vnode!=null&&Wt.vnode(b),b}function _i(){return{current:null}}function On(p){return p.children}function dn(p,l){this.props=p,this.context=l}function lr(p,l){if(l==null)return p.__?lr(p.__,p.__.__k.indexOf(p)+1):null;for(var c;l<p.__k.length;l++)if((c=p.__k[l])!=null&&c.__e!=null)return c.__e;return typeof p.type=="function"?lr(p):null}function Ko(p){var l,c;if((p=p.__)!=null&&p.__c!=null){for(p.__e=p.__c.base=null,l=0;l<p.__k.length;l++)if((c=p.__k[l])!=null&&c.__e!=null){p.__e=p.__c.base=c.__e;break}return Ko(p)}}function Br(p){(!p.__d&&(p.__d=!0)&&uo.push(p)&&!vr.__r++||No!==Wt.debounceRendering)&&((No=Wt.debounceRendering)||Vo)(vr)}function vr(){for(var p;vr.__r=uo.length;)p=uo.sort(function(l,c){return l.__v.__b-c.__v.__b}),uo=[],p.some(function(l){var c,d,y,b,S,A;l.__d&&(S=(b=(c=l).__v).__e,(A=c.__P)&&(d=[],(y=Qn({},b)).__v=b.__v+1,Ao(A,b,y,c.__n,A.ownerSVGElement!==void 0,b.__h!=null?[S]:null,d,S==null?lr(b):S,b.__h),so(d,b),b.__e!=S&&Ko(b)))})}function Hr(p,l,c,d,y,b,S,A,B,$){var F,xe,Ee,Pe,Ie,ut,st,dt=d&&d.__k||cn,Xe=dt.length;for(c.__k=[],F=0;F<l.length;F++)if((Pe=c.__k[F]=(Pe=l[F])==null||typeof Pe=="boolean"?null:typeof Pe=="string"||typeof Pe=="number"||typeof Pe=="bigint"?zr(null,Pe,null,null,Pe):Array.isArray(Pe)?zr(On,{children:Pe},null,null,null):Pe.__b>0?zr(Pe.type,Pe.props,Pe.key,null,Pe.__v):Pe)!=null){if(Pe.__=c,Pe.__b=c.__b+1,(Ee=dt[F])===null||Ee&&Pe.key==Ee.key&&Pe.type===Ee.type)dt[F]=void 0;else for(xe=0;xe<Xe;xe++){if((Ee=dt[xe])&&Pe.key==Ee.key&&Pe.type===Ee.type){dt[xe]=void 0;break}Ee=null}Ao(p,Pe,Ee=Ee||Ln,y,b,S,A,B,$),Ie=Pe.__e,(xe=Pe.ref)&&Ee.ref!=xe&&(st||(st=[]),Ee.ref&&st.push(Ee.ref,null,Pe),st.push(xe,Pe.__c||Ie,Pe)),Ie!=null?(ut==null&&(ut=Ie),typeof Pe.type=="function"&&Pe.__k===Ee.__k?Pe.__d=B=Gr(Pe,B,p):B=er(p,Pe,Ee,dt,Ie,B),typeof c.type=="function"&&(c.__d=B)):B&&Ee.__e==B&&B.parentNode!=p&&(B=lr(Ee))}for(c.__e=ut,F=Xe;F--;)dt[F]!=null&&(typeof c.type=="function"&&dt[F].__e!=null&&dt[F].__e==c.__d&&(c.__d=lr(d,F+1)),Oi(dt[F],dt[F]));if(st)for(F=0;F<st.length;F++)To(st[F],st[++F],st[++F])}function Gr(p,l,c){for(var d,y=p.__k,b=0;y&&b<y.length;b++)(d=y[b])&&(d.__=p,l=typeof d.type=="function"?Gr(d,l,c):er(c,d,d,y,d.__e,l));return l}function Kn(p,l){return l=l||[],p==null||typeof p=="boolean"||(Array.isArray(p)?p.some(function(c){Kn(c,l)}):l.push(p)),l}function er(p,l,c,d,y,b){var S,A,B;if(l.__d!==void 0)S=l.__d,l.__d=void 0;else if(c==null||y!=b||y.parentNode==null)e:if(b==null||b.parentNode!==p)p.appendChild(y),S=null;else{for(A=b,B=0;(A=A.nextSibling)&&B<d.length;B+=2)if(A==y)break e;p.insertBefore(y,b),S=b}return S!==void 0?S:y.nextSibling}function Pn(p,l,c,d,y){var b;for(b in c)b==="children"||b==="key"||b in l||fr(p,b,null,c[b],d);for(b in l)y&&typeof l[b]!="function"||b==="children"||b==="key"||b==="value"||b==="checked"||c[b]===l[b]||fr(p,b,l[b],c[b],d)}function At(p,l,c){l[0]==="-"?p.setProperty(l,c):p[l]=c==null?"":typeof c!="number"||bi.test(l)?c:c+"px"}function fr(p,l,c,d,y){var b;e:if(l==="style")if(typeof c=="string")p.style.cssText=c;else{if(typeof d=="string"&&(p.style.cssText=d=""),d)for(l in d)c&&l in c||At(p.style,l,"");if(c)for(l in c)d&&c[l]===d[l]||At(p.style,l,c[l])}else if(l[0]==="o"&&l[1]==="n")b=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in p?l.toLowerCase().slice(2):l.slice(2),p.l||(p.l={}),p.l[l+b]=c,c?d||p.addEventListener(l,b?gr:yn,b):p.removeEventListener(l,b?gr:yn,b);else if(l!=="dangerouslySetInnerHTML"){if(y)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(l!=="href"&&l!=="list"&&l!=="form"&&l!=="tabIndex"&&l!=="download"&&l in p)try{p[l]=c==null?"":c;break e}catch(S){}typeof c=="function"||(c!=null&&(c!==!1||l[0]==="a"&&l[1]==="r")?p.setAttribute(l,c):p.removeAttribute(l))}}function yn(p){this.l[p.type+!1](Wt.event?Wt.event(p):p)}function gr(p){this.l[p.type+!0](Wt.event?Wt.event(p):p)}function Ao(p,l,c,d,y,b,S,A,B){var $,F,xe,Ee,Pe,Ie,ut,st,dt,Xe,Mt,Kt=l.type;if(l.constructor!==void 0)return null;c.__h!=null&&(B=c.__h,A=l.__e=c.__e,l.__h=null,b=[A]),($=Wt.__b)&&$(l);try{e:if(typeof Kt=="function"){if(st=l.props,dt=($=Kt.contextType)&&d[$.__c],Xe=$?dt?dt.props.value:$.__:d,c.__c?ut=(F=l.__c=c.__c).__=F.__E:("prototype"in Kt&&Kt.prototype.render?l.__c=F=new Kt(st,Xe):(l.__c=F=new dn(st,Xe),F.constructor=Kt,F.render=Mn),dt&&dt.sub(F),F.props=st,F.state||(F.state={}),F.context=Xe,F.__n=d,xe=F.__d=!0,F.__h=[]),F.__s==null&&(F.__s=F.state),Kt.getDerivedStateFromProps!=null&&(F.__s==F.state&&(F.__s=Qn({},F.__s)),Qn(F.__s,Kt.getDerivedStateFromProps(st,F.__s))),Ee=F.props,Pe=F.state,xe)Kt.getDerivedStateFromProps==null&&F.componentWillMount!=null&&F.componentWillMount(),F.componentDidMount!=null&&F.__h.push(F.componentDidMount);else{if(Kt.getDerivedStateFromProps==null&&st!==Ee&&F.componentWillReceiveProps!=null&&F.componentWillReceiveProps(st,Xe),!F.__e&&F.shouldComponentUpdate!=null&&F.shouldComponentUpdate(st,F.__s,Xe)===!1||l.__v===c.__v){F.props=st,F.state=F.__s,l.__v!==c.__v&&(F.__d=!1),F.__v=l,l.__e=c.__e,l.__k=c.__k,l.__k.forEach(function(en){en&&(en.__=l)}),F.__h.length&&S.push(F);break e}F.componentWillUpdate!=null&&F.componentWillUpdate(st,F.__s,Xe),F.componentDidUpdate!=null&&F.__h.push(function(){F.componentDidUpdate(Ee,Pe,Ie)})}F.context=Xe,F.props=st,F.state=F.__s,($=Wt.__r)&&$(l),F.__d=!1,F.__v=l,F.__P=p,$=F.render(F.props,F.state,F.context),F.state=F.__s,F.getChildContext!=null&&(d=Qn(Qn({},d),F.getChildContext())),xe||F.getSnapshotBeforeUpdate==null||(Ie=F.getSnapshotBeforeUpdate(Ee,Pe)),Mt=$!=null&&$.type===On&&$.key==null?$.props.children:$,Hr(p,Array.isArray(Mt)?Mt:[Mt],l,c,d,y,b,S,A,B),F.base=l.__e,l.__h=null,F.__h.length&&S.push(F),ut&&(F.__E=F.__=null),F.__e=!1}else b==null&&l.__v===c.__v?(l.__k=c.__k,l.__e=c.__e):l.__e=tr(c.__e,l,c,d,y,b,S,B);($=Wt.diffed)&&$(l)}catch(en){l.__v=null,(B||b!=null)&&(l.__e=A,l.__h=!!B,b[b.indexOf(A)]=null),Wt.__e(en,l,c)}}function so(p,l){Wt.__c&&Wt.__c(l,p),p.some(function(c){try{p=c.__h,c.__h=[],p.some(function(d){d.call(c)})}catch(d){Wt.__e(d,c.__v)}})}function tr(p,l,c,d,y,b,S,A){var B,$,F,xe=c.props,Ee=l.props,Pe=l.type,Ie=0;if(Pe==="svg"&&(y=!0),b!=null){for(;Ie<b.length;Ie++)if((B=b[Ie])&&"setAttribute"in B==!!Pe&&(Pe?B.localName===Pe:B.nodeType===3)){p=B,b[Ie]=null;break}}if(p==null){if(Pe===null)return document.createTextNode(Ee);p=y?document.createElementNS("http://www.w3.org/2000/svg",Pe):document.createElement(Pe,Ee.is&&Ee),b=null,A=!1}if(Pe===null)xe===Ee||A&&p.data===Ee||(p.data=Ee);else{if(b=b&&Rr.call(p.childNodes),$=(xe=c.props||Ln).dangerouslySetInnerHTML,F=Ee.dangerouslySetInnerHTML,!A){if(b!=null)for(xe={},Ie=0;Ie<p.attributes.length;Ie++)xe[p.attributes[Ie].name]=p.attributes[Ie].value;(F||$)&&(F&&($&&F.__html==$.__html||F.__html===p.innerHTML)||(p.innerHTML=F&&F.__html||""))}if(Pn(p,Ee,xe,y,A),F)l.__k=[];else if(Ie=l.props.children,Hr(p,Array.isArray(Ie)?Ie:[Ie],l,c,d,y&&Pe!=="foreignObject",b,S,b?b[0]:c.__k&&lr(c,0),A),b!=null)for(Ie=b.length;Ie--;)b[Ie]!=null&&Wo(b[Ie]);A||("value"in Ee&&(Ie=Ee.value)!==void 0&&(Ie!==p.value||Pe==="progress"&&!Ie||Pe==="option"&&Ie!==xe.value)&&fr(p,"value",Ie,xe.value,!1),"checked"in Ee&&(Ie=Ee.checked)!==void 0&&Ie!==p.checked&&fr(p,"checked",Ie,xe.checked,!1))}return p}function To(p,l,c){try{typeof p=="function"?p(l):p.current=l}catch(d){Wt.__e(d,c)}}function Oi(p,l,c){var d,y;if(Wt.unmount&&Wt.unmount(p),(d=p.ref)&&(d.current&&d.current!==p.__e||To(d,null,l)),(d=p.__c)!=null){if(d.componentWillUnmount)try{d.componentWillUnmount()}catch(b){Wt.__e(b,l)}d.base=d.__P=null}if(d=p.__k)for(y=0;y<d.length;y++)d[y]&&Oi(d[y],l,typeof p.type!="function");c||p.__e==null||Wo(p.__e),p.__e=p.__d=void 0}function Mn(p,l,c){return this.constructor(p,c)}function Zo(p,l,c){var d,y,b;Wt.__&&Wt.__(p,l),y=(d=typeof c=="function")?null:c&&c.__k||l.__k,b=[],Ao(l,p=(!d&&c||l).__k=zn(On,null,[p]),y||Ln,Ln,l.ownerSVGElement!==void 0,!d&&c?[c]:y?null:l.firstChild?Rr.call(l.childNodes):null,b,!d&&c?c:y?y.__e:l.firstChild,d),so(b,p)}function Xi(p,l){Zo(p,l,Xi)}function wi(p,l,c){var d,y,b,S=Qn({},p.props);for(b in l)b=="key"?d=l[b]:b=="ref"?y=l[b]:S[b]=l[b];return arguments.length>2&&(S.children=arguments.length>3?Rr.call(arguments,2):c),zr(p.type,S,d||p.key,y||p.ref,null)}function kn(p,l){var c={__c:l="__cC"+Lr++,__:p,Consumer:function(d,y){return d.children(y)},Provider:function(d){var y,b;return this.getChildContext||(y=[],(b={})[l]=this,this.getChildContext=function(){return b},this.shouldComponentUpdate=function(S){this.props.value!==S.value&&y.some(Br)},this.sub=function(S){y.push(S);var A=S.componentWillUnmount;S.componentWillUnmount=function(){y.splice(y.indexOf(S),1),A&&A.call(S)}}),d.children}};return c.Provider.__=c.Consumer.contextType=c}Rr=cn.slice,Wt={__e:function(p,l,c,d){for(var y,b,S;l=l.__;)if((y=l.__c)&&!y.__)try{if((b=y.constructor)&&b.getDerivedStateFromError!=null&&(y.setState(b.getDerivedStateFromError(p)),S=y.__d),y.componentDidCatch!=null&&(y.componentDidCatch(p,d||{}),S=y.__d),S)return y.__E=y}catch(A){p=A}throw p}},Ir=0,mi=function(p){return p!=null&&p.constructor===void 0},dn.prototype.setState=function(p,l){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Qn({},this.state),typeof p=="function"&&(p=p(Qn({},c),this.props)),p&&Qn(c,p),p!=null&&this.__v&&(l&&this.__h.push(l),Br(this))},dn.prototype.forceUpdate=function(p){this.__v&&(this.__e=!0,p&&this.__h.push(p),Br(this))},dn.prototype.render=On,uo=[],Vo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vr.__r=0,Lr=0;var Bn=function(){return Bn=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Bn.apply(this,arguments)};function nr(p){var l=p.x,c=p.y,d=p.width,y=p.height,b=p.radius,S=p.className,A=l-d/2,B=c-y/2,$=Bn(Bn({width:10,height:10,cx:0,cy:0,rx:b||0,ry:b||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+S},p),{x:A,y:B});return(0,M.h)("rect",Bn({},$))}nr.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var tn;(function(p){p.NODE="node",p.CIRCLE_NODE="circle-node",p.POLYGON_NODE="polygon-node",p.RECT_NODE="rect-node",p.HTML_NODE="html-node",p.TEXT_NODE="text-node",p.ELLIPSE_NODE="ellipse-node",p.DIAMOND_NODE="diamond-node",p.EDGE="edge",p.LINE_EDGE="line-edge",p.POLYLINE_EDGE="polyline-edge",p.BEZIER_EDGE="bezier-edge",p.GRAPH="graph"})(tn||(tn={}));function co(p){var l=p.x,c=p.y,d=p.width,y=p.height;return{minX:l-d/2,minY:c-y/2,maxX:l+d/2,maxY:c+y/2}}function Do(p){var l=co(p),c=p.radius,d=l.minX,y=l.minY,b=l.maxX,S=l.maxY;return[{x:d+c,y:y+c},{x:b-c,y:y+c},{x:b-c,y:S-c},{x:d+c,y:S-c}]}function lo(p){var l=p.point,c=p.beforeNode,d=p.afterNode,y=l.x,b=l.y,S={x:y,y:b},A=c.radius,B=co(c),$=co(d);if(y===B.minX){S.x=$.minX;var F=(b-c.y)/(c.height/2-A);F?S.y=d.y+(d.height/2-A)*F:S.y=d.y}else if(y===B.maxX){S.x=$.maxX;var F=(b-c.y)/(c.height/2-A);F?S.y=d.y+(d.height/2-A)*F:S.y=d.y}else if(b===B.minY){S.y=$.minY;var F=(y-c.x)/(c.width/2-A);F?S.x=d.x+(d.width/2-A)*F:S.x=d.x}else if(b===B.maxY){S.y=$.maxY;var F=(y-c.x)/(c.width/2-A);F?S.x=d.x+(d.width/2-A)*F:S.x=d.x}else{var xe=Do(c),Ee=Do(d),Pe=co(c),Ie=Pe.minX,ut=Pe.minY,st=Pe.maxX,dt=Pe.maxY,Xe=-1;if(y-Ie<A&&b-ut<A?Xe=0:st-y<A&&b-ut<A?Xe=1:st-y<A&&dt-b<A?Xe=2:y-Ie<A&&ut-b<A&&(Xe=3),Xe>-1){var Mt=Math.atan2(b-xe[Xe].y,y-xe[Xe].x);S.x=Ee[Xe].x+A*Math.cos(Mt),S.y=Ee[Xe].y+A*Math.sin(Mt)}}return S}function fo(p){var l=p.point,c=p.beforeNode,d=p.afterNode,y=d.rx,b=d.ry,S=l,A=(l.y-c.y)/(l.x-c.x),B=y,$=b,F,xe;return A>=Infinity?(F=0,xe=$):A<=-Infinity?(F=0,xe=-$):l.x-c.x>0?(F=B*$/Math.sqrt($*$+B*B*A*A),xe=B*$*A/Math.sqrt($*$+B*B*A*A)):(F=-(B*$)/Math.sqrt($*$+B*B*A*A),xe=-(B*$*A)/Math.sqrt($*$+B*B*A*A)),S={x:F+d.x,y:xe+d.y},S}function po(p){var l=p.point,c=p.beforeNode,d=p.afterNode,y=l,b,S,A=l.x-c.x,B=l.y-c.y,$=c.rx,F=c.ry,xe=Math.sqrt(($-Math.abs(A))*($-Math.abs(A))+B*B)/Math.sqrt($*$+F*F),Ee=d.rx,Pe=d.ry,Ie=Math.sqrt((Ee*Ee+Pe*Pe)*xe*xe*(Ee*Ee/(Ee*Ee+Pe*Pe))),ut=Ie*(Pe/Ee);return A>=0?b=Ee-Ie:b=Ie-Ee,B>0?S=ut:S=-ut,y={x:b+d.x,y:S+d.y},y}var $o=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),on=function(){return on=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},on.apply(this,arguments)},Zn=M.LogicFlowUtil.StepDrag,ho=function(p){$o(l,p);function l(c){var d=p.call(this)||this;d.updatePosition=function(S){var A=S.deltaX,B=S.deltaY,$=d.nodeModel,F=$.x,xe=$.y;d.nodeModel.x=F+A/2,d.nodeModel.y=xe+B/2,d.nodeModel.moveText(A/2,B/2)},d.getResize=function(S){var A=S.index,B=S.deltaX,$=S.deltaY,F=S.width,xe=S.height,Ee=S.pct,Pe=Ee===void 0?1:Ee,Ie={width:F,height:xe};switch(A){case 0:Ie.width=F-B*Pe,Ie.height=xe-$*Pe;break;case 1:Ie.width=F+B*Pe,Ie.height=xe-$*Pe;break;case 2:Ie.width=F+B,Ie.height=xe+$*Pe;break;case 3:Ie.width=F-B*Pe,Ie.height=xe+$*Pe;break;default:break}return Ie},d.updateRect=function(S){var A=S.deltaX,B=S.deltaY,$=d.nodeModel,F=$.id,xe=$.x,Ee=$.y,Pe=$.width,Ie=$.height,ut=$.radius,st=d.index,dt=d.getResize({index:st,deltaX:A,deltaY:B,width:Pe,height:Ie,pct:1}),Xe=d.nodeModel,Mt=Xe.minWidth,Kt=Xe.minHeight,en=Xe.maxWidth,An=Xe.maxHeight;if(dt.width<Mt||dt.width>en||dt.height<Kt||dt.height>An){d.dragHandler.cancelDrag();return}d.updatePosition({deltaX:A,deltaY:B}),d.nodeModel.width=dt.width,d.nodeModel.height=dt.height,d.nodeModel.setProperties({nodeSize:{width:dt.width,height:dt.height}});var Tn=d.getNodeEdges(F),vn={x:xe,y:Ee,width:Pe,height:Ie,radius:ut},gn={x:d.nodeModel.x,y:d.nodeModel.y,width:d.nodeModel.width,height:d.nodeModel.height,radius:ut},an={point:"",beforeNode:vn,afterNode:gn},un;Tn.sourceEdges.forEach(function(mn){an.point=mn.startPoint,un=lo(an),mn.updateStartPoint(un)}),Tn.targetEdges.forEach(function(mn){an.point=mn.endPoint,un=lo(an),mn.updateEndPoint(un)}),d.eventEmit({beforeNode:vn,afterNode:gn})},d.updateEllipse=function(S){var A=S.deltaX,B=S.deltaY,$=d.nodeModel,F=$.id,xe=$.rx,Ee=$.ry,Pe=$.x,Ie=$.y,ut=d.index,st=xe,dt=Ee,Xe=d.getResize({index:ut,deltaX:A,deltaY:B,width:st,height:dt,pct:1/2}),Mt=d.nodeModel,Kt=Mt.minWidth,en=Mt.minHeight,An=Mt.maxWidth,Tn=Mt.maxHeight;if(Xe.width<Kt/2||Xe.width>An/2||Xe.height<en/2||Xe.height>Tn/2){d.dragHandler.cancelDrag();return}d.updatePosition({deltaX:A,deltaY:B}),d.nodeModel.rx=d.nodeModel.rx+A/2,d.nodeModel.ry=d.nodeModel.ry+B/2,d.nodeModel.setProperties({nodeSize:{rx:Xe.width,ry:Xe.height}});var vn=d.getNodeEdges(F),gn={x:Pe,y:Ie},an={rx:Xe.width,ry:Xe.height,x:d.nodeModel.x,y:d.nodeModel.y},un={point:{},beforeNode:gn,afterNode:an},mn;vn.sourceEdges.forEach(function(Dn){un.point=Dn.startPoint,mn=fo(un),Dn.updateStartPoint(mn)}),vn.targetEdges.forEach(function(Dn){un.point=Dn.endPoint,mn=fo(un),Dn.updateEndPoint(mn)}),d.eventEmit({beforeNode:on(on({},gn),{rx:xe,ry:Ee}),afterNode:an})},d.updateDiamond=function(S){var A=S.deltaX,B=S.deltaY,$=d.nodeModel,F=$.id,xe=$.rx,Ee=$.ry,Pe=$.x,Ie=$.y,ut=d.index,st=xe,dt=Ee,Xe=d.getResize({index:ut,deltaX:A,deltaY:B,width:st,height:dt,pct:1/2}),Mt=d.nodeModel,Kt=Mt.minWidth,en=Mt.minHeight,An=Mt.maxWidth,Tn=Mt.maxHeight;if(Xe.width<Kt/2||Xe.width>An/2||Xe.height<en/2||Xe.height>Tn/2){d.dragHandler.cancelDrag();return}d.updatePosition({deltaX:A,deltaY:B}),d.nodeModel.rx=d.nodeModel.rx+A/2,d.nodeModel.ry=d.nodeModel.ry+B/2,d.nodeModel.setProperties({nodeSize:{rx:Xe.width,ry:Xe.height}});var vn={x:Pe,y:Ie,rx:xe,ry:Ee},gn={rx:Xe.width,ry:Xe.height,x:d.nodeModel.x,y:d.nodeModel.y},an={point:{},beforeNode:vn,afterNode:gn},un,mn=d.getNodeEdges(F);mn.sourceEdges.forEach(function(Dn){an.point=Dn.startPoint,un=po(an),Dn.updateStartPoint(un)}),mn.targetEdges.forEach(function(Dn){an.point=Dn.endPoint,un=po(an),Dn.updateEndPoint(un)}),d.eventEmit({beforeNode:vn,afterNode:gn})},d.eventEmit=function(S){var A=S.beforeNode,B=S.afterNode,$=d.nodeModel,F=$.id,xe=$.modelType,Ee=$.type,Pe=on({id:F,modelType:xe,type:Ee},A),Ie=on({id:F,modelType:xe,type:Ee},B);d.graphModel.eventCenter.emit("node:resize",{oldNodeSize:Pe,newNodeSize:Ie})},d.onDraging=function(S){var A=S.deltaX,B=S.deltaY,$=d.nodeModel.modelType;$===tn.RECT_NODE||$===tn.HTML_NODE?d.updateRect({deltaX:A,deltaY:B}):$===tn.ELLIPSE_NODE?d.updateEllipse({deltaX:A,deltaY:B}):$===tn.DIAMOND_NODE&&d.updateDiamond({deltaX:A,deltaY:B})},d.index=c.index,d.nodeModel=c.model,d.graphModel=c.graphModel;var y=d.graphModel.gridSize,b=2;return y>1&&(b=2*y),d.nodeModel.gridSize&&(b=2*d.nodeModel.gridSize),d.state={},d.dragHandler=new Zn({onDraging:d.onDraging,step:b}),d}return l.prototype.getNodeEdges=function(c){for(var d=this.graphModel,y=d.edges,b=[],S=[],A=0;A<y.length;A++){var B=y[A];B.sourceNodeId===c?b.push(B):y[A].targetNodeId===c&&S.push(B)}return{sourceEdges:b,targetEdges:S}},l.prototype.render=function(){var c=this.props,d=c.x,y=c.y,b=c.index,S=c.model,A=S.getControlPointStyle();return zn("g",{className:"lf-resize-control-"+b},zn(nr,on({className:"lf-node-control"},{x:d,y},A,{onMouseDown:this.dragHandler.handleMouseDown})))},l}(dn),xi=ho,qo=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),Hn=function(){return Hn=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Hn.apply(this,arguments)},yo=function(p){qo(l,p);function l(){var c=p.call(this)||this;return c.state={},c}return l.prototype.getResizeControl=function(){var c=this.props,d=c.model,y=c.graphModel,b=d.x,S=d.y,A=d.width,B=d.height,$={minX:b-A/2,minY:S-B/2,maxX:b+A/2,maxY:S+B/2},F=$.minX,xe=$.minY,Ee=$.maxX,Pe=$.maxY,Ie=[{x:F,y:xe},{x:Ee,y:xe},{x:Ee,y:Pe},{x:F,y:Pe}];return Ie.map(function(ut,st){return zn(xi,Hn({index:st},ut,{model:d,graphModel:y}))})},l.prototype.getGroupSolid=function(){var c=this.props.model,d=c.x,y=c.y,b=c.width,S=c.height,A=c.getResizeOutlineStyle();return zn(nr,Hn({fill:"none"},A,{x:d,y,width:b,height:S}))},l.prototype.render=function(){return zn("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},l}(dn),pr=yo,Ei=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),g=function(p){Ei(l,p);function l(c,d){var y=p.call(this,c,d)||this,b=y.properties.nodeSize;return b&&(y.width=b.width,y.height=b.height),y}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l.prototype.resize=function(c,d){console.log(c,d)},l}(M.RectNodeModel),m=function(p){Ei(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,d=c.model,y=c.graphModel;return(0,M.h)(pr,{model:d,graphModel:y})},l.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,M.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(M.RectNode),w={type:"rect",view:m,model:g},T=w,C=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),K=function(p){C(l,p);function l(c,d){var y=p.call(this,c,d)||this,b=y.properties.nodeSize;return b&&(y.rx=b.rx,y.ry=b.ry),y}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(M.EllipseNodeModel),ge=function(p){C(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,d=c.model,y=c.graphModel;return(0,M.h)(pr,{model:d,graphModel:y})},l.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model;return(0,M.h)("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},l}(M.EllipseNode),Ce={type:"ellipse",view:ge,model:K},$e=Ce,_t=function(){return _t=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},_t.apply(this,arguments)};function Ot(p){var l=p.fillOpacity,c=l===void 0?1:l,d=p.strokeWidth,y=d===void 0?1:d,b=p.strokeOpacity,S=b===void 0?1:b,A=p.fill,B=A===void 0?"transparent":A,$=p.stroke,F=$===void 0?"#000":$,xe=p.points,Ee=p.className,Pe=Ee===void 0?"lf-basic-shape":Ee,Ie={fill:B,fillOpacity:c,strokeWidth:y,stroke:F,strokeOpacity:S,points:"",className:Pe};return Ie.points=xe.map(function(ut){return ut.join(",")}).join(" "),(0,M.h)("polygon",_t({},Ie))}var zt=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),Rt=function(){return Rt=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Rt.apply(this,arguments)},Dt=function(p){zt(l,p);function l(c,d){var y=p.call(this,c,d)||this,b=y.properties.nodeSize;return b&&(y.rx=b.rx,y.ry=b.ry),y}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(M.DiamondNodeModel),Ut=function(p){zt(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,d=c.model,y=c.graphModel;return(0,M.h)(pr,{model:d,graphModel:y})},l.prototype.getResizeShape=function(){var c=this.props.model,d=c.points,y=c.getNodeStyle();return(0,M.h)("g",null,(0,M.h)(Ot,Rt({},y,{points:d})))},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,M.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(M.DiamondNode),Ht={type:"diamond",view:Ut,model:Dt},It=Ht,$n=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),Ui=function(p){$n(l,p);function l(c,d){var y=p.call(this,c,d)||this,b=y.properties.nodeSize;return b&&(y.width=b.width,y.height=b.height),y}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(M.HtmlNodeModel),vo=function(p){$n(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,d=c.model,y=c.graphModel;return(0,M.h)(pr,{model:d,graphModel:y})},l.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,M.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(M.HtmlNode),Fr={type:"html",view:vo,model:Ui},mr=Fr,Si={pluginName:"nodeResize",step:0,install:function(p){p.register({type:T.type,view:T.view,model:T.model}),p.register({type:$e.type,view:$e.view,model:$e.model}),p.register({type:It.type,view:It.view,model:It.model}),p.register({type:mr.type,view:mr.view,model:mr.model})}},Nn=null,Jo=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var b in y)y.hasOwnProperty(b)&&(d[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function d(){this.constructor=l}l.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}(),Xr=function(){return Xr=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Xr.apply(this,arguments)},tu=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},ji=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(tu(arguments[l]));return p},ga=500,ma=300,nu=function(p){Jo(l,p);function l(){var c=p!==null&&p.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=ga,c.unfoldedHight=ma,c}return l.prototype.initNodeData=function(c){var d=this;p.prototype.initNodeData.call(this,c);var y=[];Array.isArray(c.children)&&(y=c.children),this.children=new Set(y),this.width=ga,this.height=ma,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){d.isFolded&&d.foldGroup(d.isFolded)})},l.prototype.getResizeOutlineStyle=function(){var c=p.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},l.prototype.foldGroup=function(c){var d=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var y=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(b){var S=d.graphModel.getElement(b);S.visible=!c,y=y.concat(S.incoming.edges.concat(S.outgoing.edges))}),this.foldEdge(c,y)},l.prototype.getAnchorStyle=function(c){var d=p.prototype.getAnchorStyle.call(this,c);return d.stroke="transparent",d.fill="transparent",d.hover.fill="transparent",d.hover.stroke="transparent",d},l.prototype.foldEdge=function(c,d){var y=this;d.forEach(function(b,S){var A=b.id,B=b.sourceNodeId,$=b.targetNodeId,F=b.startPoint,xe=b.endPoint,Ee=b.type,Pe=b.properties,Ie=b.text,ut={id:A+"__"+S,sourceNodeId:B,targetNodeId:$,startPoint:F,endPoint:xe,type:Ee,properties:Pe,text:Ie==null?void 0:Ie.value};b.virtual&&y.graphModel.deleteEdgeById(b.id);var st=y.graphModel.group.getNodeGroup($);st||(st=y.graphModel.getNodeModelById($));var dt=y.graphModel.group.getNodeGroup(B);dt||(dt=y.graphModel.getNodeModelById(B)),c&&b.visible!==!1&&(y.children.has(B)||y.id===B?(ut.startPoint=void 0,ut.sourceNodeId=y.id):(ut.endPoint=void 0,ut.targetNodeId=y.id),(st.id!==y.id||dt.id!==y.id)&&y.createVirtualEdge(ut),b.visible=!1),!c&&b.visible===!1&&(st&&st.isGroup&&st.isFolded?(ut.targetNodeId=st.id,ut.endPoint=void 0,y.createVirtualEdge(ut)):dt&&dt.isGroup&&dt.isFolded?(ut.sourceNodeId=dt.id,ut.startPoint=void 0,y.createVirtualEdge(ut)):b.visible=!0)})},l.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var d=this.graphModel.addEdge(c);d.virtual=!0,d.getData=function(){return null},d.text.editable=!1,d.isFoldedEdge=!0},l.prototype.isInRange=function(c){var d=c.x1,y=c.y1,b=c.x2,S=c.y2;return d>=this.x-this.width/2&&b<=this.x+this.width/2&&y>=this.y-this.height/2&&S<=this.y+this.height/2},l.prototype.isAllowMoveTo=function(c){var d=c.x1,y=c.y1,b=c.x2,S=c.y2;return{x:d>=this.x-this.width/2&&b<=this.x+this.width/2,y:y>=this.y-this.height/2&&S<=this.y+this.height/2}},l.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},l.prototype.addChild=function(c){this.children.add(c)},l.prototype.removeChild=function(c){this.children.delete(c)},l.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},l.prototype.getData=function(){var c=p.prototype.getData.call(this);c.children=ji(this.children);var d=c.properties;return delete d.groupAddable,delete d.isFolded,c},l.prototype.getHistoryData=function(){var c=p.prototype.getData.call(this);c.children=ji(this.children);var d=c.properties;return delete d.groupAddable,d.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},l}(T.model),ru=function(p){Jo(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props.model,d=c.resizable,y=c.properties;return d&&!y.isFolded?p.prototype.getControlGroup.call(this):null},l.prototype.getAddedableShape=function(){var c=this.props.model,d=c.width,y=c.height,b=c.x,S=c.y,A=c.radius,B=c.properties;if(!B.groupAddable)return null;var $=this.props.model.getNodeStyle().strokeWidth,F=this.props.model.getAddableOutlineStyle(),xe=d+$+8,Ee=y+$+8;return(0,M.h)("rect",Xr(Xr({},F),{width:xe,height:Ee,x:b-xe/2,y:S-Ee/2,rx:A,ry:A}))},l.prototype.getFoldIcon=function(){var c=this.props.model,d=c.x-c.width/2+5,y=c.y-c.height/2+5;if(!c.foldable)return null;var b=(0,M.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(d+3)+","+(y+6)+" "+(d+11)+","+(y+6)+" M"+(d+7)+","+(y+2)+" "+(d+7)+","+(y+10):"M "+(d+3)+","+(y+6)+" "+(d+11)+","+(y+6)+" "});return(0,M.h)("g",{},[(0,M.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),b])},l.prototype.getResizeShape=function(){return(0,M.h)("g",{},[this.getAddedableShape(),p.prototype.getResizeShape.call(this),this.getFoldIcon()])},l}(T.view),ba={type:"group",view:ru,model:nu},ou=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},iu=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(ou(arguments[l]));return p},Yi=function(){function p(l){var c=this,d=l.lf;this.nodeGroupMap=new Map,this.graphRendered=function(y){y&&y.nodes&&y.nodes.forEach(function(b){b.children&&b.children.forEach(function(S){c.nodeGroupMap.set(S,b.id)})})},this.appendNodeToGrop=function(y){var b=y.data,S=c.nodeGroupMap.get(b.id);if(S){var A=c.lf.getNodeModelById(S);A.removeChild(b.id),c.nodeGroupMap.delete(b.id),A.setAllowAppendChild(!1)}var B=c.lf.getNodeModelById(b.id).getBounds(),$=c.getGroup(B);!$||(b.id!==$.id?($.addChild(b.id),c.nodeGroupMap.set(b.id,$.id),$.setAllowAppendChild(!1)):b.children&&b.children.length>0&&b.children.forEach(function(F){c.nodeGroupMap.set(F,b.id)}))},this.deleteGroupChild=function(y){var b=y.data,S=c.nodeGroupMap.get(b.id);if(S){var A=c.lf.getNodeModelById(S);A.removeChild(b.id),c.nodeGroupMap.delete(b.id)}},this.setActiveGroup=function(y){var b=y.data,S=c.lf.getNodeModelById(b.id);if(!S.isGroup){var A=S.getBounds(),B=c.getGroup(A);(B||B!==c.activeGroup)&&(c.activeGroup&&c.activeGroup.setAllowAppendChild(!1),B&&(c.activeGroup=B,c.activeGroup.setAllowAppendChild(!0)))}},d.register(ba),this.lf=d,d.graphModel.addNodeMoveRules(function(y,b,S){if(y.isGroup)return d.graphModel.moveNodes(iu(y.children),b,S,!0),!0;var A=d.getNodeModelById(c.nodeGroupMap.get(y.id));if(A&&A.isRestrict){var B=y.getBounds(),$=B.x1,F=B.y1,xe=B.x2,Ee=B.y2,Pe=A.isAllowMoveTo({x1:$+b,y1:F+S,x2:xe+b,y2:Ee+S});return Pe}return!0}),d.graphModel.group=this,d.on("node:add",this.appendNodeToGrop),d.on("node:delete",this.deleteGroupChild),d.on("node:drop",this.appendNodeToGrop),d.on("node:dnd-drag",this.setActiveGroup),d.on("node:drag",this.setActiveGroup),d.on("graph:rendered",this.graphRendered)}return p.prototype.getGroup=function(l){for(var c=this.lf.graphModel.nodes,d=0;d<c.length;d++){var y=c[d];if(y.isGroup&&y.isInRange(l))return y}},p.prototype.getNodeGroup=function(l){var c=this.nodeGroupMap.get(l);if(c)return this.lf.getNodeModelById(c)},p.pluginName="group",p}(),Pi=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var d=c.call(p),y,b=[],S;try{for(;(l===void 0||l-- >0)&&!(y=d.next()).done;)b.push(y.value)}catch(A){S={error:A}}finally{try{y&&!y.done&&(c=d.return)&&c.call(d)}finally{if(S)throw S.error}}return b},go=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(Pi(arguments[l]));return p},au=function(){function p(l){var c=this,d=l.lf;this.lf=d,this.pathes=[],d.getPathes=function(){if(!c.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B");return c.getPathes()},d.setRawPathes=function(y){c.setPathes(y)},d.getRawPathes=function(){return c.pathes},d.setStartNodeType=function(y){c.startNodeType=y}}return p.prototype.setPathes=function(l){this.pathes=l.map(function(c){var d=c.routeId,y=c.name,b=c.elements,S=c.type;return{routeId:d,name:y,elements:b,type:S,similarElement:null,weight:0}})},p.prototype.getPathes=function(){var l=this,c=this.lf.getGraphRawData(),d=new Map,y=[];c.nodes.forEach(function(S){d.set(S.id,{id:S.id,data:S,nextNodes:[]}),S.type===l.startNodeType&&y.push(S.id)}),c.edges.forEach(function(S){var A=d.get(S.sourceNodeId);A.nextNodes.push(S.targetNodeId)});var b=[];return y.forEach(function(S){b=b.concat(l.findPathElements(d.get(S),d,[]))}),this.getNewPathes(b)},p.prototype.findPathElements=function(l,c,d){d===void 0&&(d=[]);var y=go(d);if(y.push(l.id),l.nextNodes.length===0)return[y];for(var b=[],S=0;S<l.nextNodes.length;S++){var A=c.get(l.nextNodes[S]),B=void 0,$=y.indexOf(A.id);$!==-1?B=[go(y.slice($),[A.id])]:B=this.findPathElements(A,c,go(y)),b=b.concat(B)}return b},p.prototype.getNewPathes=function(l){var c=this,d=[],y=new Set;l.forEach(function(S){var A=c.getNewId("path"),B=c.getNewId("\u8DEF\u5F84"),$=c.isLoopPath(S),F=S.join(",");y.has(F)||(y.add(F),d.push({routeId:A,name:B,elements:S,type:$,weight:0,similarElement:""}))});var b=JSON.parse(JSON.stringify(this.pathes));return d.forEach(function(S){for(var A=0;A<b.length;A++){var B=b[A],$=c.similar2Path(go(S.elements),go(B.elements));$>S.weight&&B.weight<=$&&(S.weight=$,S.similarElement=B,$===B.weight&&B.similarElement?(B.similarElement.similarElement=null,B.similarElement.weight=0,B.similarElement=null,B.weight=0):(B.similarElement=S,B.weight=$))}}),d.forEach(function(S){S.similarElement&&S.similarElement.similarElement===S&&(S.routeId=S.similarElement.routeId,S.name=S.similarElement.name),delete S.similarElement,delete S.weight}),this.setPathes(d),d},p.prototype.similar2Path=function(l,c){var d=0,y=l.length+c.length;l.sort(),c.sort();for(var b=l.shift(),S=c.shift();b!==void 0&&S!==void 0;)b===S?(d++,b=l.shift(),S=c.shift()):b<S?b=l.shift():b>S&&(S=c.shift());return d/y*200},p.prototype.getNewId=function(l){return l+"_"+k()},p.prototype.isLoopPath=function(l){var c=l.length;return l.indexOf(l[c-1])!==c-1?1:0},p.pluginName="flowPath",p}(),Ur=function(){return Ur=Object.assign||function(p){for(var l,c=1,d=arguments.length;c<d;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Ur.apply(this,arguments)},Yr={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},uu=function(){function p(l){var c=this,d=l.lf;this.lf=d,this.trunk=[],d.layout=function(y){var b=c.lf.getGraphRawData();c.lf.setStartNodeType(y);var S=c.lf.getPathes();return c.levelHeight=[],c.newNodeMap=new Map,c.layout(b,S)}}return p.prototype.layout=function(l,c){var d=this,y=[];c.forEach(function(B){var $=B.elements;$.length>y.length?y=$:$.length===y.length&&JSON.stringify($)===JSON.stringify(d.trunk)&&(y=d.trunk)}),this.trunk=y;for(var b=this.formatData(l),S={nodes:[],edges:[]},A=y.length-1;A>=0;A--)this.setNodePosition(y[A],b,S,A,1);this.lf.graphModel.graphDataToModel(S)},p.prototype.setNodePosition=function(l,c,d,y,b){var S=this,A=c[l],B=A.text,$=A.type,F=A.next,xe=A.properties,Ee=y*160+40,Pe=b*120,Ie={id:l,x:Ee,text:B,y:Pe,type:$,properties:xe};return B&&typeof B=="object"&&(Ie.text=Ur(Ur({},B),{x:Ee+B.x,y:Pe+B.y})),this.newNodeMap.set(Ie.id,{x:Ie.x,y:Ie.y,type:$}),d.nodes.push(Ie),A.isFixed=!0,this.addLevelHeight(y,1),F&&F.length>0&&F.forEach(function(ut){var st=c[ut.nodeId];if(!st.isFixed){var dt=S.getLevelHeight(y+1);S.addLevelHeight(y,1),S.setNodePosition(ut.nodeId,c,d,y+1,dt+1)}d.edges.push(Ur({id:ut.edgeId,type:ut.edgeType,sourceNodeId:l,targetNodeId:ut.nodeId,properties:ut.properties,text:ut.text},S.getEdgeDataPoints(l,ut.nodeId)))}),Ie},p.prototype.getEdgeDataPoints=function(l,c){var d=this.newNodeMap.get(l),y=this.newNodeMap.get(c),b=this.getShape(l),S=b.width,A=b.height,B=this.getShape(c),$=B.width,F=B.height,xe=this.getRelativePosition(d,y),Ee={x:d.x,y:d.y},Pe={x:y.x,y:y.y};switch(xe){case Yr.LEFT:Ee.x=d.x+S/2,Pe.x=y.x-$/2;break;case Yr.LEFT_TOP:Ee.y=d.y+A/2,Pe.x=y.x-$/2;break;case Yr.LEFT_BOTTOM:Ee.x=d.x+S/2,Pe.y=y.y+F/2;break;default:break}return{startPoint:Ee,endPoint:Pe}},p.prototype.getRelativePosition=function(l,c){var d=l.y,y=c.y,b;return d<y?b=-1:d===y?b=0:b=1,b},p.prototype.getShape=function(l){var c=this.lf.getNodeModelById(l);return{height:c.height,width:c.width}},p.prototype.formatData=function(l){var c=l.nodes.reduce(function(d,y){var b=y.type,S=y.properties,A=y.text,B=y.x,$=y.y;return A&&typeof A=="object"&&(A.x=A.x-B,A.y=A.y-$),d[y.id]={type:b,properties:S,text:A,prev:[],next:[]},d},{});return l.edges.forEach(function(d){var y=d.sourceNodeId,b=d.targetNodeId,S=d.id,A=d.properties,B=d.text,$=B;typeof B=="object"&&($=B.value),c[y].next.push({edgeId:S,nodeId:b,edgeType:d.type,properties:A,text:$}),c[b].prev.push({edgeId:S,nodeId:y,properties:A,text:$})}),c},p.prototype.addLevelHeight=function(l,c,d){c===void 0&&(c=1),d===void 0&&(d=!1);var y=this.levelHeight[l];y||(y={positiveHeight:0,negativeHeight:0},this.levelHeight[l]=y),d?y.negativeHeight-=c:y.positiveHeight+=c},p.prototype.getLevelHeight=function(l,c){c===void 0&&(c=!1);var d=this.levelHeight[l];return d?c?d.negativeHeight:d.positiveHeight:0},p.pluginName="AutoLayout",p}()},63543:function(Yn,Lt,j){"use strict";j.d(Lt,{Z:function(){return O}});var M=j(94663);function s(h,E){for(;!Object.prototype.hasOwnProperty.call(h,E)&&(h=(0,M.Z)(h),h!==null););return h}function O(h,E,x){return typeof Reflect!="undefined"&&Reflect.get?O=Reflect.get:O=function(D,R,L){var z=s(D,R);if(!!z){var Y=Object.getOwnPropertyDescriptor(z,R);return Y.get?Y.get.call(L):Y.value}},O(h,E,x||h)}},29589:function(Yn,Lt,j){(function(M){M(j(4631))})(function(M){"use strict";var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},O={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};M.defineMode("xml",function(h,E){var x=h.indentUnit,k={},D=E.htmlMode?s:O;for(var R in D)k[R]=D[R];for(var R in E)k[R]=E[R];var L,z;function Y(U,ae){function J(Te){return ae.tokenize=Te,Te(U,ae)}var fe=U.next();if(fe=="<")return U.eat("!")?U.eat("[")?U.match("CDATA[")?J(re("atom","]]>")):null:U.match("--")?J(re("comment","-->")):U.match("DOCTYPE",!0,!0)?(U.eatWhile(/[\w\._\-]/),J(oe(1))):null:U.eat("?")?(U.eatWhile(/[\w\._\-]/),ae.tokenize=re("meta","?>"),"meta"):(L=U.eat("/")?"closeTag":"openTag",ae.tokenize=X,"tag bracket");if(fe=="&"){var Se;return U.eat("#")?U.eat("x")?Se=U.eatWhile(/[a-fA-F\d]/)&&U.eat(";"):Se=U.eatWhile(/[\d]/)&&U.eat(";"):Se=U.eatWhile(/[\w\.\-:]/)&&U.eat(";"),Se?"atom":"error"}else return U.eatWhile(/[^&<]/),null}Y.isInText=!0;function X(U,ae){var J=U.next();if(J==">"||J=="/"&&U.eat(">"))return ae.tokenize=Y,L=J==">"?"endTag":"selfcloseTag","tag bracket";if(J=="=")return L="equals",null;if(J=="<"){ae.tokenize=Y,ae.state=me,ae.tagName=ae.tagStart=null;var fe=ae.tokenize(U,ae);return fe?fe+" tag error":"tag error"}else return/[\'\"]/.test(J)?(ae.tokenize=te(J),ae.stringStartCol=U.column(),ae.tokenize(U,ae)):(U.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function te(U){var ae=function(J,fe){for(;!J.eol();)if(J.next()==U){fe.tokenize=X;break}return"string"};return ae.isInAttribute=!0,ae}function re(U,ae){return function(J,fe){for(;!J.eol();){if(J.match(ae)){fe.tokenize=Y;break}J.next()}return U}}function oe(U){return function(ae,J){for(var fe;(fe=ae.next())!=null;){if(fe=="<")return J.tokenize=oe(U+1),J.tokenize(ae,J);if(fe==">")if(U==1){J.tokenize=Y;break}else return J.tokenize=oe(U-1),J.tokenize(ae,J)}return"meta"}}function le(U){return U&&U.toLowerCase()}function ye(U,ae,J){this.prev=U.context,this.tagName=ae||"",this.indent=U.indented,this.startOfLine=J,(k.doNotIndent.hasOwnProperty(ae)||U.context&&U.context.noIndent)&&(this.noIndent=!0)}function Q(U){U.context&&(U.context=U.context.prev)}function ne(U,ae){for(var J;;){if(!U.context||(J=U.context.tagName,!k.contextGrabbers.hasOwnProperty(le(J))||!k.contextGrabbers[le(J)].hasOwnProperty(le(ae))))return;Q(U)}}function me(U,ae,J){return U=="openTag"?(J.tagStart=ae.column(),q):U=="closeTag"?ve:me}function q(U,ae,J){return U=="word"?(J.tagName=ae.current(),z="tag",G):k.allowMissingTagName&&U=="endTag"?(z="tag bracket",G(U,ae,J)):(z="error",q)}function ve(U,ae,J){if(U=="word"){var fe=ae.current();return J.context&&J.context.tagName!=fe&&k.implicitlyClosed.hasOwnProperty(le(J.context.tagName))&&Q(J),J.context&&J.context.tagName==fe||k.matchClosing===!1?(z="tag",H):(z="tag error",W)}else return k.allowMissingTagName&&U=="endTag"?(z="tag bracket",H(U,ae,J)):(z="error",W)}function H(U,ae,J){return U!="endTag"?(z="error",H):(Q(J),me)}function W(U,ae,J){return z="error",H(U,ae,J)}function G(U,ae,J){if(U=="word")return z="attribute",ee;if(U=="endTag"||U=="selfcloseTag"){var fe=J.tagName,Se=J.tagStart;return J.tagName=J.tagStart=null,U=="selfcloseTag"||k.autoSelfClosers.hasOwnProperty(le(fe))?ne(J,fe):(ne(J,fe),J.context=new ye(J,fe,Se==J.indented)),me}return z="error",G}function ee(U,ae,J){return U=="equals"?be:(k.allowMissing||(z="error"),G(U,ae,J))}function be(U,ae,J){return U=="string"?Ne:U=="word"&&k.allowUnquoted?(z="string",G):(z="error",G(U,ae,J))}function Ne(U,ae,J){return U=="string"?Ne:G(U,ae,J)}return{startState:function(U){var ae={tokenize:Y,state:me,indented:U||0,tagName:null,tagStart:null,context:null};return U!=null&&(ae.baseIndent=U),ae},token:function(U,ae){if(!ae.tagName&&U.sol()&&(ae.indented=U.indentation()),U.eatSpace())return null;L=null;var J=ae.tokenize(U,ae);return(J||L)&&J!="comment"&&(z=null,ae.state=ae.state(L||J,U,ae),z&&(J=z=="error"?J+" error":z)),J},indent:function(U,ae,J){var fe=U.context;if(U.tokenize.isInAttribute)return U.tagStart==U.indented?U.stringStartCol+1:U.indented+x;if(fe&&fe.noIndent)return M.Pass;if(U.tokenize!=X&&U.tokenize!=Y)return J?J.match(/^(\s*)/)[0].length:0;if(U.tagName)return k.multilineTagIndentPastTag!==!1?U.tagStart+U.tagName.length+2:U.tagStart+x*(k.multilineTagIndentFactor||1);if(k.alignCDATA&&/<!\[CDATA\[/.test(ae))return 0;var Se=ae&&/^<(\/)?([\w_:\.-]*)/.exec(ae);if(Se&&Se[1])for(;fe;)if(fe.tagName==Se[2]){fe=fe.prev;break}else if(k.implicitlyClosed.hasOwnProperty(le(fe.tagName)))fe=fe.prev;else break;else if(Se)for(;fe;){var Te=k.contextGrabbers[le(fe.tagName)];if(Te&&Te.hasOwnProperty(le(Se[2])))fe=fe.prev;else break}for(;fe&&fe.prev&&!fe.startOfLine;)fe=fe.prev;return fe?fe.indent+x:U.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:k.htmlMode?"html":"xml",helperType:k.htmlMode?"html":"xml",skipAttribute:function(U){U.state==be&&(U.state=G)},xmlCurrentTag:function(U){return U.tagName?{name:U.tagName,close:U.type=="closeTag"}:null},xmlCurrentContext:function(U){for(var ae=[],J=U.context;J;J=J.prev)ae.push(J.tagName);return ae.reverse()}}}),M.defineMIME("text/xml","xml"),M.defineMIME("application/xml","xml"),M.mimeModes.hasOwnProperty("text/html")||M.defineMIME("text/html",{name:"xml",htmlMode:!0})})}}]);
