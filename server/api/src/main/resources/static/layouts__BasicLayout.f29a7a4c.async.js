(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1034],{29791:function(h,p,a){"use strict";var S=a(97544),g=a(85893);p.Z=function(){return(0,g.jsx)(S.Z,{copyright:!1,links:[]})}},32957:function(h,p,a){"use strict";a.r(p),a.d(p,{default:function(){return Ca}});var S=a(86582),g=a(11849),W=a(57527),R=a(67294),x=a(42285),B=a(73727),pa=a(49111),T=a(19650),U=a(1870),Ra=a(94233),$=a(51890),Na=a(30887),N=a(54689),Sa=a(20228),z=a(11382),F=a(3182),G=a(94043),V=a.n(G),Y=a(24616),J=a(55035),Q=a(17673),Da=a(59250),X=a(13013),O=a(93224),b=a(94184),D=a.n(b),w=a(2589),k=a.n(w),n=a(85893),q=function(e){var u=e.overlayClassName,r=(0,O.Z)(e,["overlayClassName"]);return(0,n.jsx)(X.Z,(0,g.Z)({overlayClassName:D()(k().container,u)},r))},_=q,aa=a(26222),s=a.n(aa),L=a(27400),na=a(2299),ea=function(){var C=(0,F.Z)(V().mark(function e(){var u,r,c,d,m;return V().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:u=x.m8.location,r=u.query,c=r===void 0?{}:r,d=u.pathname,m=c.redirect,window.location.pathname!=="/user/login"&&!m&&x.m8.replace({pathname:"/user/login",search:(0,Q.stringify)({redirect:d})});case 3:case"end":return v.stop()}},e)}));return function(){return C.apply(this,arguments)}}(),ta=function(e){var u=e.menu,r=(0,L.a)(),c=r.user,d=(0,R.useCallback)(function(v){var f=v.key;if(f==="logout"){r.logout(),ea();return}x.m8.push("/account/".concat(f))},[r]),m=(0,n.jsx)("span",{className:"".concat(s().action," ").concat(s().account),children:(0,n.jsx)(z.Z,{size:"small",style:{marginLeft:8,marginRight:8}})});if(r.loading||!c||!c.name)return m;var o=(0,n.jsxs)(N.Z,{className:s().menu,selectedKeys:[],onClick:d,children:[u&&(0,n.jsxs)(N.Z.Item,{children:[(0,n.jsx)(Y.Z,{}),"\u4E2A\u4EBA\u8BBE\u7F6E"]},"settings"),u&&(0,n.jsx)(N.Z.Divider,{}),(0,n.jsxs)(N.Z.Item,{children:[(0,n.jsx)(J.Z,{}),"\u9000\u51FA\u767B\u5F55"]},"logout")]});return(0,n.jsx)(_,{overlay:o,children:(0,n.jsxs)("span",{className:"".concat(s().action," ").concat(s().account),children:[(0,n.jsx)($.C,{size:"small",className:s().avatar,src:"/api/public/preview/".concat(c.avatar)||0,alt:"avatar"}),(0,n.jsx)("span",{className:"".concat(s().name," anticon"),children:c.name})]})})},ra=(0,na.Pi)(ta),Ea=a(65011),oa=a(49288),Ma=a(47673),sa=a(4107),la=a(32059),P=a(2824),ia=a(76570),K=a(21770),ua=a(10292),E=a.n(ua),ca=function(e){var u=e.className,r=e.defaultValue,c=e.onVisibleChange,d=e.placeholder,m=e.visible,o=e.defaultVisible,v=(0,O.Z)(e,["className","defaultValue","onVisibleChange","placeholder","visible","defaultVisible"]),f=(0,R.useRef)(null),M=(0,K.Z)(r,{value:e.value,onChange:e.onChange}),l=(0,P.Z)(M,2),t=l[0],i=l[1],y=(0,K.Z)(o!=null?o:!1,{value:e.visible,onChange:c}),j=(0,P.Z)(y,2),Z=j[0],I=j[1],ja=D()(E().input,(0,la.Z)({},E().show,Z));return(0,n.jsxs)("div",{className:D()(u,E().headerSearch),onClick:function(){I(!0),Z&&f.current&&f.current.focus()},onTransitionEnd:function(A){var Za=A.propertyName;Za==="width"&&!Z&&c&&c(Z)},children:[(0,n.jsx)(ia.Z,{style:{cursor:"pointer"}},"Icon"),(0,n.jsx)(oa.Z,{className:ja,value:t,options:v.options,onChange:i,children:(0,n.jsx)(sa.Z,{size:"small",ref:f,defaultValue:r,"aria-label":d,placeholder:d,onKeyDown:function(A){A.key==="Enter"&&v.onSearch&&v.onSearch(t)},onBlur:function(){I(!1)}})},"AutoComplete")]})},da=ca,va=function(){var e=s().right;return e="".concat(s().right,"  ").concat(s().dark),(0,n.jsxs)(T.Z,{className:e,children:[(0,n.jsx)(da,{className:"".concat(s().action," ").concat(s().search),placeholder:"\u7AD9\u5185\u641C\u7D22",options:[{label:(0,n.jsx)("a",{href:"https://surveyking.cn",children:"Survey King"}),value:"Survey King"}]}),(0,n.jsx)("span",{className:s().action,onClick:function(){window.open("https://surveyking.cn")},children:(0,n.jsx)(U.Z,{})}),(0,n.jsx)(ra,{menu:!0}),(0,n.jsx)(x.pD,{className:s().action})]})},ma=va,ha=a(29791),fa=a(5481),ga=a.n(fa),ya=a(77613),xa=function(e){var u=e.children,r=e.location,c=r===void 0?{pathname:"/"}:r,d=(0,L.a)(),m=d.user,o=d.system,v=(0,x.YB)(),f=v.formatMessage;(0,R.useEffect)(function(){d.currentUser()},[d]),(0,R.useEffect)(function(){var l=document.querySelector("link[rel~='icon']");l&&(l.href="/api/public/".concat(o.avatar)),document.title=o.name||"\u5377\u738B";var t=document.getElementById("loading-img");t&&(t.src="/api/public/preview/".concat(o.avatar));var i=document.getElementById("loading-name");i&&(i.textContent=document.title)},[o]);var M=function l(t){return t.filter(function(i){var y;return m==null||(y=m.authorityList)===null||y===void 0?void 0:y.find(function(j){return j.startsWith(i.authority)})}).map(function(i){return(0,g.Z)((0,g.Z)({},i),{},{children:i.children?l(i.children):void 0})})};return(0,n.jsx)(W.ZP,(0,g.Z)((0,g.Z)({title:o==null?void 0:o.name,logo:(0,n.jsx)("img",{src:o.avatar?"/api/public/preview/".concat(o.avatar):ga()}),formatMessage:f},e),{},{onMenuHeaderClick:function(){return x.m8.push("/")},menuItemRender:function(t,i){return t.isUrl||!t.path||c.pathname===t.path?i:(0,n.jsx)(B.rU,{to:t.path,children:i})},breadcrumbRender:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return[{path:"/",breadcrumbName:f({id:"menu.home"})}].concat((0,S.Z)(t))},itemRender:function(t,i,y,j){var Z=y.indexOf(t)===0;return Z?(0,n.jsx)(B.rU,{to:j.join("/"),children:t.breadcrumbName}):(0,n.jsx)("span",{children:t.breadcrumbName})},footerRender:function(){return(0,n.jsx)(ha.Z,{})},menuDataRender:M,rightContentRender:function(){return(0,n.jsx)(ma,{})},onPageChange:function(){},children:u}))},Ca=(0,ya.P)(xa)},5481:function(h,p,a){h.exports=a.p+"static/logo.de1a765f.svg"},2589:function(h){h.exports={container:"container___1Rq3A"}},10292:function(h){h.exports={headerSearch:"headerSearch___RN1il",input:"input___3Vzpl",show:"show___VZRKu"}},26222:function(h){h.exports={menu:"menu___1L63y",right:"right___3L8KG",action:"action___LP4_P",search:"search___2W0sJ",account:"account___6HXOq",avatar:"avatar___2cOWV",dark:"dark___1NwCY",name:"name___WfKAK"}}}]);
