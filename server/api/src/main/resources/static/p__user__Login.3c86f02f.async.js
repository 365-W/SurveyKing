(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9531],{34687:function(x){x.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",top:"top___1C1Zi",header:"header___5xZ3f",logo:"logo___2hXsy",title:"title___1-xuF",desc:"desc___-njyT",main:"main___x4OjT",icon:"icon___rzGKO",other:"other___lLyaU",register:"register___11Twg",prefixIcon:"prefixIcon___23Xrx"}},29791:function(x,T,r){"use strict";var L=r(24557),A=r(78874),u=r(11013),R=r(97544),g=r(85893),B=void 0==="1";T.Z=function(){return B?(0,g.jsx)(R.Z,{copyright:!1,links:[{key:"Survey King",title:(0,g.jsx)(L.Z,{}),href:"https://surveyking.cn",blankTarget:!0},{key:"github",title:(0,g.jsx)(A.Z,{}),href:"https://github.com/javahuang/SurveyKing",blankTarget:!0},{key:"gitee",title:(0,g.jsx)(u.Z,{}),href:"https://gitee.com/surveyking/surveyking",blankTarget:!0}]}):(0,g.jsx)(g.Fragment,{})}},19319:function(x,T,r){"use strict";r.r(T);var L=r(34792),A=r(48086),u=r(3182),R=r(94657),g=r(17462),B=r(76772),w=r(94043),U=r.n(w),J=r(89366),b=r(2603),S=r(67294),N=r(952),O=r(5966),f=r(42285),F=r(73727),G=r(29791),Q=r(34687),v=r.n(Q),Y=r(27400),K=r(77613),V=r(5481),q=r.n(V),s=r(85893),e=function(l){var o=l.content;return(0,s.jsx)(B.Z,{style:{marginBottom:24},message:o,type:"error",showIcon:!0})},a=void 0==="1",t=function(l){var o,i,M=(0,S.useState)(!1),E=(0,R.Z)(M,2),c=E[0],y=E[1],H=(0,S.useState)(),j=(0,R.Z)(H,2),$=j[0],z=j[1],I=(0,Y.a)(),d=I.system,C=(0,f.YB)(),W=function(){var P=(0,u.Z)(U().mark(function m(){return U().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:case"end":return h.stop()}},m)}));return function(){return P.apply(this,arguments)}}(),X=function(){var P=(0,u.Z)(U().mark(function m(D){var h,p,k,Z,ee,re;return U().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,_.next=3,I.login(D);case 3:if(h=_.sent,!h.success){_.next=18;break}if(p=C.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),A.default.success(p),!l.onOk){_.next=10;break}return l.onOk(),_.abrupt("return");case 10:return _.next=12,W();case 12:if(f.m8){_.next=14;break}return _.abrupt("return");case 14:return k=f.m8.location.query,Z=k,ee=Z.redirect,f.m8.push(ee||"/"),_.abrupt("return");case 18:z(h.message&&"error"),_.next=25;break;case 21:_.prev=21,_.t0=_.catch(0),re=C.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),A.default.error(re);case 25:y(!1);case 26:case"end":return _.stop()}},m,null,[[0,21]])}));return function(D){return P.apply(this,arguments)}}();return(0,s.jsxs)("div",{className:v().container,children:[(0,s.jsx)("div",{className:v().lang,"data-lang":!0,children:f.pD&&(0,s.jsx)(f.pD,{})}),(0,s.jsxs)("div",{className:v().content,children:[(0,s.jsxs)("div",{className:v().top,children:[(0,s.jsx)("div",{className:v().header,children:(0,s.jsxs)(F.rU,{to:"/",children:[(0,s.jsx)("img",{alt:"logo",className:v().logo,src:d.avatar?"/api/public/preview/".concat(d==null?void 0:d.avatar):q()}),(0,s.jsx)("span",{className:v().title,children:d==null?void 0:d.name})]})}),(0,s.jsx)("div",{className:v().desc,children:d==null?void 0:d.description})]}),(0,s.jsx)("div",{className:v().main,children:(0,s.jsxs)(N.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:C.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(m,D){return D.pop()},submitButtonProps:{loading:c,size:"large",style:{width:"100%"},htmlType:"submit"}},isKeyPressSubmit:!0,onFinish:function(){var P=(0,u.Z)(U().mark(function m(D){return U().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!c){p.next=2;break}return p.abrupt("return");case 2:return y(!0),p.next=5,X(D);case 5:case"end":return p.stop()}},m)}));return function(m){return P.apply(this,arguments)}}(),children:[$==="error"&&(0,s.jsx)(e,{content:C.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF"})}),(0,s.jsx)(O.Z,{name:"username",fieldProps:{size:"large",prefix:(0,s.jsx)(J.Z,{className:v().prefixIcon})},placeholder:C.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D"}),rules:[{required:!0,message:(0,s.jsx)(f._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,s.jsx)(O.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,s.jsx)(b.Z,{className:v().prefixIcon})},placeholder:C.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,s.jsx)(f._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]}),!a&&((o=d.registerInfo)===null||o===void 0?void 0:o.registerEnabled)&&(0,s.jsx)("div",{style:{marginBottom:24,display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)(F.rU,{to:"/user/register",children:(0,s.jsx)(f._H,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C"})})}),a&&(0,s.jsxs)("div",{style:{marginBottom:24},children:[((i=d.registerInfo)===null||i===void 0?void 0:i.registerEnabled)&&(0,s.jsx)(F.rU,{to:"/user/register",children:(0,s.jsx)(f._H,{id:"pages.login.registerAccount",defaultMessage:"\u6CE8\u518C"})}),(0,s.jsx)("a",{style:{float:"right"},onClick:function(){return X({username:"admin",password:"123456"})},children:(0,s.jsx)(f._H,{id:"pages.login.try",defaultMessage:"\u8BD5\u4E00\u8BD5"})})]})]})})]}),(0,s.jsx)(G.Z,{})]})};T.default=(0,K.P)(t)},5481:function(x,T,r){x.exports=r.p+"static/logo.de1a765f.svg"},73727:function(x,T,r){"use strict";r.d(T,{rU:function(){return G}});var L=r(51615),A=r(41788),u=r(67294),R=r(97175),g=r(22122),B=r(19756),w=r(2177),U=function(e){(0,A.Z)(a,e);function a(){for(var n,l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.history=(0,R.lX)(n.props),n}var t=a.prototype;return t.render=function(){return u.createElement(L.F0,{history:this.history,children:this.props.children})},a}(u.Component),J=function(e){(0,A.Z)(a,e);function a(){for(var n,l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=e.call.apply(e,[this].concat(o))||this,n.history=(0,R.q_)(n.props),n}var t=a.prototype;return t.render=function(){return u.createElement(L.F0,{history:this.history,children:this.props.children})},a}(u.Component),b=function(a,t){return typeof a=="function"?a(t):a},S=function(a,t){return typeof a=="string"?(0,R.ob)(a,null,null,t):a},N=function(a){return a},O=u.forwardRef;typeof O=="undefined"&&(O=N);function f(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var F=O(function(e,a){var t=e.innerRef,n=e.navigate,l=e.onClick,o=(0,B.Z)(e,["innerRef","navigate","onClick"]),i=o.target,M=(0,g.Z)({},o,{onClick:function(c){try{l&&l(c)}catch(y){throw c.preventDefault(),y}!c.defaultPrevented&&c.button===0&&(!i||i==="_self")&&!f(c)&&(c.preventDefault(),n())}});return N!==O?M.ref=a||t:M.ref=t,u.createElement("a",M)}),G=O(function(e,a){var t=e.component,n=t===void 0?F:t,l=e.replace,o=e.to,i=e.innerRef,M=(0,B.Z)(e,["component","replace","to","innerRef"]);return u.createElement(L.s6.Consumer,null,function(E){E||(0,w.Z)(!1);var c=E.history,y=S(b(o,E.location),E.location),H=y?c.createHref(y):"",j=(0,g.Z)({},M,{href:H,navigate:function(){var z=b(o,E.location),I=l?c.replace:c.push;I(z)}});return N!==O?j.ref=a||i:j.innerRef=i,u.createElement(n,j)})});if(!1)var Q,v;var Y=function(a){return a},K=u.forwardRef;typeof K=="undefined"&&(K=Y);function V(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter(function(n){return n}).join(" ")}var q=K(function(e,a){var t=e["aria-current"],n=t===void 0?"page":t,l=e.activeClassName,o=l===void 0?"active":l,i=e.activeStyle,M=e.className,E=e.exact,c=e.isActive,y=e.location,H=e.sensitive,j=e.strict,$=e.style,z=e.to,I=e.innerRef,d=(0,B.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return u.createElement(L.s6.Consumer,null,function(C){C||(0,w.Z)(!1);var W=y||C.location,X=S(b(z,W),W),P=X.pathname,m=P&&P.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),D=m?(0,L.LX)(W.pathname,{path:m,exact:E,sensitive:H,strict:j}):null,h=!!(c?c(D,W):D),p=h?V(M,o):M,k=h?(0,g.Z)({},$,{},i):$,Z=(0,g.Z)({"aria-current":h&&n||null,className:p,style:k,to:X},d);return Y!==K?Z.ref=a||I:Z.innerRef=I,u.createElement(G,Z)})});if(!1)var s}}]);
