(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[515],{99008:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="FileTextOutlined";var N=s.forwardRef(w)},54977:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="FormOutlined";var N=s.forwardRef(w)},65602:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}}]},name:"interaction",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="InteractionOutlined";var N=s.forwardRef(w)},2603:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="LockOutlined";var N=s.forwardRef(w)},89792:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M952 612c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H298a95.92 95.92 0 00-89-60c-53 0-96 43-96 96s43 96 96 96c40.3 0 74.8-24.8 89-60h150.3v152c0 55.2 44.8 100 100 100H952c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H548.3c-15.5 0-28-12.5-28-28V612H952zM451.7 313.7l172.5 136.2c6.3 5.1 15.8.5 15.8-7.7V344h264c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H640v-98.2c0-8.1-9.4-12.8-15.8-7.7L451.7 298.3a9.9 9.9 0 000 15.4z"}}]},name:"node-collapse",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="NodeCollapseOutlined";var N=s.forwardRef(w)},49101:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="PlusOutlined";var N=s.forwardRef(w)},1870:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="QuestionCircleOutlined";var N=s.forwardRef(w)},11075:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="RollbackOutlined";var N=s.forwardRef(w)},13105:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 112H724V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H500V72c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v40H320c-17.7 0-32 14.3-32 32v120h-96c-17.7 0-32 14.3-32 32v632c0 17.7 14.3 32 32 32h512c17.7 0 32-14.3 32-32v-96h96c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM664 888H232V336h218v174c0 22.1 17.9 40 40 40h174v338zm0-402H514V336h.2L664 485.8v.2zm128 274h-56V456L544 264H360v-80h68v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h152v32c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-32h68v576z"}}]},name:"snippets",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="SnippetsOutlined";var N=s.forwardRef(w)},15360:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="StopOutlined";var N=s.forwardRef(w)},89366:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="UserOutlined";var N=s.forwardRef(w)},3157:function(cn,St,E){"use strict";E.d(St,{Z:function(){return N}});var j=E(28991),s=E(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M759 335c0-137-111-248-248-248S263 198 263 335c0 82.8 40.6 156.2 103 201.2-.4.2-.7.3-.9.4-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00136 874.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C356 614.2 431 583 511 583c137 0 248-111 248-248zM511 507c-95 0-172-77-172-172s77-172 172-172 172 77 172 172-77 172-172 172zm105 221h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H703.5l47.2-60.1a8.1 8.1 0 001.7-4.9c0-4.4-3.6-8-8-8h-72.6c-4.9 0-9.5 2.3-12.6 6.1l-68.5 87.1c-4.4 5.6-6.8 12.6-6.8 19.8.1 17.7 14.4 32 32.1 32zm240 64H592c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h176.5l-47.2 60.1a8.1 8.1 0 00-1.7 4.9c0 4.4 3.6 8 8 8h72.6c4.9 0 9.5-2.3 12.6-6.1l68.5-87.1c4.4-5.6 6.8-12.6 6.8-19.8-.1-17.7-14.4-32-32.1-32z"}}]},name:"user-switch",theme:"outlined"},d=_,S=E(27029),w=function(C,L){return s.createElement(S.Z,(0,j.Z)((0,j.Z)({},C),{},{ref:L,icon:d}))};w.displayName="UserSwitchOutlined";var N=s.forwardRef(w)},59782:function(cn,St){(function(E,j){if(!0)cn.exports=j();else var s,_})(window,function(){return function(E){var j={};function s(_){if(j[_])return j[_].exports;var d=j[_]={i:_,l:!1,exports:{}};return E[_].call(d.exports,d,d.exports,s),d.l=!0,d.exports}return s.m=E,s.c=j,s.d=function(_,d,S){s.o(_,d)||Object.defineProperty(_,d,{enumerable:!0,get:S})},s.r=function(_){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},s.t=function(_,d){if(1&d&&(_=s(_)),8&d||4&d&&typeof _=="object"&&_&&_.__esModule)return _;var S=Object.create(null);if(s.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:_}),2&d&&typeof _!="string")for(var w in _)s.d(S,w,function(N){return _[N]}.bind(null,w));return S},s.n=function(_){var d=_&&_.__esModule?function(){return _.default}:function(){return _};return s.d(d,"a",d),d},s.o=function(_,d){return Object.prototype.hasOwnProperty.call(_,d)},s.p="",s(s.s=215)}([function(E,j,s){"use strict";(function(_,d){s.d(j,"a",function(){return U}),s.d(j,"b",function(){return wi}),s.d(j,"c",function(){return ur}),s.d(j,"d",function(){return _t}),s.d(j,"e",function(){return ut}),s.d(j,"f",function(){return Ze}),s.d(j,"g",function(){return pt}),s.d(j,"h",function(){return ho}),s.d(j,"i",function(){return Jt}),s.d(j,"j",function(){return st}),s.d(j,"k",function(){return cr}),s.d(j,"l",function(){return Yo}),s.d(j,"m",function(){return Vt}),s.d(j,"n",function(){return io}),s.d(j,"o",function(){return G}),s.d(j,"p",function(){return bi}),s.d(j,"q",function(){return Jn}),s.d(j,"r",function(){return Wt}),s.d(j,"s",function(){return Kn}),s.d(j,"t",function(){return ao}),s.d(j,"u",function(){return oo}),s.d(j,"v",function(){return uo}),s.d(j,"w",function(){return Vo}),s.d(j,"x",function(){return Lr}),s.d(j,"y",function(){return Nn}),s.d(j,"z",function(){return kn}),s.d(j,"A",function(){return on}),s.d(j,"B",function(){return zn}),s.d(j,"C",function(){return it}),s.d(j,"D",function(){return Qn}),s.d(j,"E",function(){return Dr}),s.d(j,"F",function(){return Tr}),s.d(j,"G",function(){return Xo}),s.d(j,"H",function(){return Ar}),s.d(j,"I",function(){return zr}),s.d(j,"J",function(){return wn}),s.d(j,"K",function(){return ve}),s.d(j,"L",function(){return ln}),s.d(j,"M",function(){return hn});var S=[];Object.freeze(S);var w={};function N(){return++ot.mobxGuid}function D(g){throw C(!1,g),"X"}function C(g,m){if(!g)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(w);function L(g){var m=!1;return function(){if(!m)return m=!0,g.apply(this,arguments)}}var B=function(){};function W(g){return g!==null&&typeof g=="object"}function V(g){if(g===null||typeof g!="object")return!1;var m=Object.getPrototypeOf(g);return m===Object.prototype||m===null}function re(g,m,x){Object.defineProperty(g,m,{enumerable:!1,writable:!0,configurable:!0,value:x})}function ae(g,m){var x="isMobX"+g;return m.prototype[x]=!0,function(T){return W(T)&&T[x]===!0}}function ue(g){return g instanceof Map}function ne(g){return g instanceof Set}function fe(g){var m=new Set;for(var x in g)m.add(x);return Object.getOwnPropertySymbols(g).forEach(function(T){Object.getOwnPropertyDescriptor(g,T).enumerable&&m.add(T)}),Array.from(m)}function $(g){return g&&g.toString?g.toString():new String(g).toString()}function ee(g){return g===null?null:typeof g=="object"?""+g:g}var de=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:Object.getOwnPropertyNames,U=Symbol("mobx administration"),he=function(){function g(m){m===void 0&&(m="Atom@"+N()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ie.NOT_TRACKING}return g.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},g.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},g.prototype.reportObserved=function(){return ar(this)},g.prototype.reportChanged=function(){Vn(),function(m){m.lowestObserverState!==ie.STALE&&(m.lowestObserverState=ie.STALE,m.observers.forEach(function(x){x.dependenciesState===ie.UP_TO_DATE&&(x.isTracing!==Je.NONE&&kr(x,m),x.onBecomeStale()),x.dependenciesState=ie.STALE}))}(this),Wn()},g.prototype.toString=function(){return this.name},g}(),z=ae("Atom",he);function G(g,m,x){m===void 0&&(m=B),x===void 0&&(x=B);var T,R=new he(g);return m!==B&&yi("onBecomeObserved",R,m,T),x!==B&&Dr(R,x),R}var H={identity:function(g,m){return g===m},structural:function(g,m){return qo(g,m)},default:function(g,m){return Object.is(g,m)},shallow:function(g,m){return qo(g,m,1)}},te=function(g,m){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var R in T)T.hasOwnProperty(R)&&(x[R]=T[R])})(g,m)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var me=function(){return(me=Object.assign||function(g){for(var m,x=1,T=arguments.length;x<T;x++)for(var R in m=arguments[x])Object.prototype.hasOwnProperty.call(m,R)&&(g[R]=m[R]);return g}).apply(this,arguments)};function Pe(g){var m=typeof Symbol=="function"&&g[Symbol.iterator],x=0;return m?m.call(g):{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}}}function X(g,m){var x=typeof Symbol=="function"&&g[Symbol.iterator];if(!x)return g;var T,R,K=x.call(g),_e=[];try{for(;(m===void 0||m-- >0)&&!(T=K.next()).done;)_e.push(T.value)}catch(Re){R={error:Re}}finally{try{T&&!T.done&&(x=K.return)&&x.call(K)}finally{if(R)throw R.error}}return _e}function oe(){for(var g=[],m=0;m<arguments.length;m++)g=g.concat(X(arguments[m]));return g}var Q=Symbol("mobx did run lazy initializers"),ce=Symbol("mobx pending decorators"),xe={},Te={};function Be(g,m){var x=m?xe:Te;return x[g]||(x[g]={configurable:!0,enumerable:m,get:function(){return Ve(this),this[g]},set:function(T){Ve(this),this[g]=T}})}function Ve(g){var m,x;if(g[Q]!==!0){var T=g[ce];if(T){re(g,Q,!0);var R=oe(Object.getOwnPropertySymbols(T),Object.keys(T));try{for(var K=Pe(R),_e=K.next();!_e.done;_e=K.next()){var Re=T[_e.value];Re.propertyCreator(g,Re.prop,Re.descriptor,Re.decoratorTarget,Re.decoratorArguments)}}catch(qe){m={error:qe}}finally{try{_e&&!_e.done&&(x=K.return)&&x.call(K)}finally{if(m)throw m.error}}}}}function nt(g,m){return function(){var x,T=function(R,K,_e,Re){if(Re===!0)return m(R,K,_e,R,x),null;if(!Object.prototype.hasOwnProperty.call(R,ce)){var qe=R[ce];re(R,ce,me({},qe))}return R[ce][K]={prop:K,propertyCreator:m,descriptor:_e,decoratorTarget:R,decoratorArguments:x},Be(K,g)};return Xe(arguments)?(x=S,T.apply(null,arguments)):(x=Array.prototype.slice.call(arguments),T)}}function Xe(g){return(g.length===2||g.length===3)&&(typeof g[1]=="string"||typeof g[1]=="symbol")||g.length===4&&g[3]===!0}function Qe(g,m,x){return Lr(g)?g:Array.isArray(g)?it.array(g,{name:x}):V(g)?it.object(g,void 0,{name:x}):ue(g)?it.map(g,{name:x}):ne(g)?it.set(g,{name:x}):g}function gt(g){return g}function se(g){C(g);var m=nt(!0,function(T,R,K,_e,Re){var qe=K?K.initializer?K.initializer.call(T):K.value:void 0;Do(T).addObservableProp(R,qe,g)}),x=(_!==void 0&&_.env,m);return x.enhancer=g,x}var le={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function be(g){return g==null?le:typeof g=="string"?{name:g,deep:!0,proxy:!0}:g}Object.freeze(le);var De=se(Qe),Ge=se(function(g,m,x){return g==null||on(g)||Nn(g)||kn(g)||tn(g)?g:Array.isArray(g)?it.array(g,{name:x,deep:!1}):V(g)?it.object(g,void 0,{name:x,deep:!1}):ue(g)?it.map(g,{name:x,deep:!1}):ne(g)?it.set(g,{name:x,deep:!1}):D(!1)}),Ce=se(gt),at=se(function(g,m,x){return qo(g,m)?m:g});function rt(g){return g.defaultDecorator?g.defaultDecorator.enhancer:g.deep===!1?gt:Qe}var vt={box:function(g,m){arguments.length>2&&Ae("box");var x=be(m);return new On(g,rt(x),x.name,!0,x.equals)},array:function(g,m){arguments.length>2&&Ae("array");var x=be(m);return Ao(g,rt(x),x.name)},map:function(g,m){arguments.length>2&&Ae("map");var x=be(m);return new wi(g,rt(x),x.name)},set:function(g,m){arguments.length>2&&Ae("set");var x=be(m);return new nr(g,rt(x),x.name)},object:function(g,m,x){typeof arguments[1]=="string"&&Ae("object");var T=be(x);if(T.proxy===!1)return Jn({},g,m,T);var R=Cr(T),K=Jn({},void 0,void 0,T),_e=Gr(K);return vi(_e,g,m,R),_e},ref:Ce,shallow:Ge,deep:De,struct:at},it=function(g,m,x){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return De.apply(null,arguments);if(Lr(g))return g;var T=V(g)?it.object(g,m,x):Array.isArray(g)?it.array(g,m):ue(g)?it.map(g,m):ne(g)?it.set(g,m):g;if(T!==g)return T;D(!1)};function Ae(g){D("Expected one or two arguments to observable."+g+". Did you accidentally try to use observable."+g+" as decorator?")}Object.keys(vt).forEach(function(g){return it[g]=vt[g]});var ie,Je,tt=nt(!1,function(g,m,x,T,R){var K=x.get,_e=x.set,Re=R[0]||{};Do(g).addComputedProp(g,m,me({get:K,set:_e,context:g},Re))}),$e=tt({equals:H.structural}),Vt=function(g,m,x){if(typeof m=="string"||g!==null&&typeof g=="object"&&arguments.length===1)return tt.apply(null,arguments);var T=typeof m=="object"?m:{};return T.get=g,T.set=typeof m=="function"?m:T.set,T.name=T.name||g.name||"",new ir(T)};Vt.struct=$e,function(g){g[g.NOT_TRACKING=-1]="NOT_TRACKING",g[g.UP_TO_DATE=0]="UP_TO_DATE",g[g.POSSIBLY_STALE=1]="POSSIBLY_STALE",g[g.STALE=2]="STALE"}(ie||(ie={})),function(g){g[g.NONE=0]="NONE",g[g.LOG=1]="LOG",g[g.BREAK=2]="BREAK"}(Je||(Je={}));var bt=function(g){this.cause=g};function mt(g){return g instanceof bt}function Dt(g){switch(g.dependenciesState){case ie.UP_TO_DATE:return!1;case ie.NOT_TRACKING:case ie.STALE:return!0;case ie.POSSIBLY_STALE:for(var m=Ze(!0),x=ze(),T=g.observing,R=T.length,K=0;K<R;K++){var _e=T[K];if(Mr(_e)){if(ot.disableErrorBoundaries)_e.get();else try{_e.get()}catch(Re){return He(x),ut(m),!0}if(g.dependenciesState===ie.STALE)return He(x),ut(m),!0}}return jt(g),He(x),ut(m),!1}}function Jt(){return ot.trackingDerivation!==null}function Z(g){var m=g.observers.size>0;ot.computationDepth>0&&m&&D(!1),ot.allowStateChanges||!m&&ot.enforceActions!=="strict"||D(!1)}function ye(g,m,x){var T=Ze(!0);jt(g),g.newObserving=new Array(g.observing.length+100),g.unboundDepsCount=0,g.runId=++ot.runId;var R,K=ot.trackingDerivation;if(ot.trackingDerivation=g,ot.disableErrorBoundaries===!0)R=m.call(x);else try{R=m.call(x)}catch(_e){R=new bt(_e)}return ot.trackingDerivation=K,function(_e){for(var Re=_e.observing,qe=_e.observing=_e.newObserving,Ot=ie.UP_TO_DATE,wt=0,zt=_e.unboundDepsCount,It=0;It<zt;It++)(Ct=qe[It]).diffValue===0&&(Ct.diffValue=1,wt!==It&&(qe[wt]=Ct),wt++),Ct.dependenciesState>Ot&&(Ot=Ct.dependenciesState);for(qe.length=wt,_e.newObserving=null,zt=Re.length;zt--;)(Ct=Re[zt]).diffValue===0&&li(Ct,_e),Ct.diffValue=0;for(;wt--;){var Ct;(Ct=qe[wt]).diffValue===1&&(Ct.diffValue=0,Hi(Ct,_e))}Ot!==ie.UP_TO_DATE&&(_e.dependenciesState=Ot,_e.onBecomeStale())}(g),ut(T),R}function ke(g){var m=g.observing;g.observing=[];for(var x=m.length;x--;)li(m[x],g);g.dependenciesState=ie.NOT_TRACKING}function ve(g){var m=ze();try{return g()}finally{He(m)}}function ze(){var g=ot.trackingDerivation;return ot.trackingDerivation=null,g}function He(g){ot.trackingDerivation=g}function Ze(g){var m=ot.allowStateReads;return ot.allowStateReads=g,m}function ut(g){ot.allowStateReads=g}function jt(g){if(g.dependenciesState!==ie.UP_TO_DATE){g.dependenciesState=ie.UP_TO_DATE;for(var m=g.observing,x=m.length;x--;)m[x].lowestObserverState=ie.UP_TO_DATE}}var Xt=0,_n=1,nn=Object.getOwnPropertyDescriptor(function(){},"name");nn&&nn.configurable;function Mt(g,m,x){var T=function(){return We(g,m,x||this,arguments)};return T.isMobxAction=!0,T}function We(g,m,x,T){var R=st(g,x,T);try{return m.apply(x,T)}catch(K){throw R.error=K,K}finally{pt(R)}}function st(g,m,x){var T=0,R=ze();Vn();var K={prevDerivation:R,prevAllowStateChanges:Bt(!0),prevAllowStateReads:Ze(!0),notifySpy:!1,startTime:T,actionId:_n++,parentActionId:Xt};return Xt=K.actionId,K}function pt(g){Xt!==g.actionId&&D("invalid action stack. did you forget to finish an action?"),Xt=g.parentActionId,g.error!==void 0&&(ot.suppressReactionErrors=!0),Qt(g.prevAllowStateChanges),ut(g.prevAllowStateReads),Wn(),He(g.prevDerivation),g.notifySpy,ot.suppressReactionErrors=!1}function _t(g,m){var x,T=Bt(g);try{x=m()}finally{Qt(T)}return x}function Bt(g){var m=ot.allowStateChanges;return ot.allowStateChanges=g,m}function Qt(g){ot.allowStateChanges=g}var On=function(g){function m(x,T,R,K,_e){R===void 0&&(R="ObservableValue@"+N()),K===void 0&&(K=!0),_e===void 0&&(_e=H.default);var Re=g.call(this,R)||this;return Re.enhancer=T,Re.name=R,Re.equals=_e,Re.hasUnreportedChange=!1,Re.value=T(x,void 0,R),Re}return function(x,T){function R(){this.constructor=x}te(x,T),x.prototype=T===null?Object.create(T):(R.prototype=T.prototype,new R)}(m,g),m.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},m.prototype.set=function(x){this.value,(x=this.prepareNewValue(x))!==ot.UNCHANGED&&this.setNewValue(x)},m.prototype.prepareNewValue=function(x){if(Z(this),Zn(this)){var T=Mn(this,{object:this,type:"update",newValue:x});if(!T)return ot.UNCHANGED;x=T.newValue}return x=this.enhancer(x,this.value,this.name),this.equals(this.value,x)?ot.UNCHANGED:x},m.prototype.setNewValue=function(x){var T=this.value;this.value=x,this.reportChanged(),Tt(this)&&vn(this,{type:"update",object:this,newValue:x,oldValue:T})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(x){return er(this,x)},m.prototype.observe=function(x,T){return T&&x({object:this,type:"update",newValue:this.value,oldValue:void 0}),fr(this,x)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return ee(this.get())},m.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},m}(he),Ho=ae("ObservableValue",On),ir=function(){function g(m){this.dependenciesState=ie.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ie.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+N(),this.value=new bt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Je.NONE,C(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+N(),m.set&&(this.setter=Mt(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?H.structural:H.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return g.prototype.onBecomeStale=function(){(function(m){m.lowestObserverState===ie.UP_TO_DATE&&(m.lowestObserverState=ie.POSSIBLY_STALE,m.observers.forEach(function(x){x.dependenciesState===ie.UP_TO_DATE&&(x.dependenciesState=ie.POSSIBLY_STALE,x.isTracing!==Je.NONE&&kr(x,m),x.onBecomeStale())}))})(this)},g.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(m){return m()})},g.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(m){return m()})},g.prototype.get=function(){this.isComputing&&D("Cycle detected in computation "+this.name+": "+this.derivation),ot.inBatch!==0||this.observers.size!==0||this.keepAlive?(ar(this),Dt(this)&&this.trackAndCompute()&&function(x){x.lowestObserverState!==ie.STALE&&(x.lowestObserverState=ie.STALE,x.observers.forEach(function(T){T.dependenciesState===ie.POSSIBLY_STALE?T.dependenciesState=ie.STALE:T.dependenciesState===ie.UP_TO_DATE&&(x.lowestObserverState=ie.UP_TO_DATE)}))}(this)):Dt(this)&&(this.warnAboutUntrackedRead(),Vn(),this.value=this.computeValue(!1),Wn());var m=this.value;if(mt(m))throw m.cause;return m},g.prototype.peek=function(){var m=this.computeValue(!1);if(mt(m))throw m.cause;return m},g.prototype.set=function(m){if(this.setter){C(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else C(!1,!1)},g.prototype.trackAndCompute=function(){var m=this.value,x=this.dependenciesState===ie.NOT_TRACKING,T=this.computeValue(!0),R=x||mt(m)||mt(T)||!this.equals(m,T);return R&&(this.value=T),R},g.prototype.computeValue=function(m){var x;if(this.isComputing=!0,ot.computationDepth++,m)x=ye(this,this.derivation,this.scope);else if(ot.disableErrorBoundaries===!0)x=this.derivation.call(this.scope);else try{x=this.derivation.call(this.scope)}catch(T){x=new bt(T)}return ot.computationDepth--,this.isComputing=!1,x},g.prototype.suspend=function(){this.keepAlive||(ke(this),this.value=void 0)},g.prototype.observe=function(m,x){var T=this,R=!0,K=void 0;return Yo(function(){var _e=T.get();if(!R||x){var Re=ze();m({type:"update",object:T,newValue:_e,oldValue:K}),He(Re)}R=!1,K=_e})},g.prototype.warnAboutUntrackedRead=function(){},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},g.prototype.valueOf=function(){return ee(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(),Mr=ae("ComputedValue",ir),Go=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Nr={};function qn(){return typeof window!="undefined"?window:d!==void 0?d:typeof self!="undefined"?self:Nr}var No=!0,ci=!1,ot=function(){var g=qn();return g.__mobxInstanceCount>0&&!g.__mobxGlobals&&(No=!1),g.__mobxGlobals&&g.__mobxGlobals.version!==new Go().version&&(No=!1),No?g.__mobxGlobals?(g.__mobxInstanceCount+=1,g.__mobxGlobals.UNCHANGED||(g.__mobxGlobals.UNCHANGED={}),g.__mobxGlobals):(g.__mobxInstanceCount=1,g.__mobxGlobals=new Go):(setTimeout(function(){ci||D("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Go)}();function Hi(g,m){g.observers.add(m),g.lowestObserverState>m.dependenciesState&&(g.lowestObserverState=m.dependenciesState)}function li(g,m){g.observers.delete(m),g.observers.size===0&&Fo(g)}function Fo(g){g.isPendingUnobservation===!1&&(g.isPendingUnobservation=!0,ot.pendingUnobservations.push(g))}function Vn(){ot.inBatch++}function Wn(){if(--ot.inBatch==0){pi();for(var g=ot.pendingUnobservations,m=0;m<g.length;m++){var x=g[m];x.isPendingUnobservation=!1,x.observers.size===0&&(x.isBeingObserved&&(x.isBeingObserved=!1,x.onBecomeUnobserved()),x instanceof ir&&x.suspend())}ot.pendingUnobservations=[]}}function ar(g){var m=ot.trackingDerivation;return m!==null?(m.runId!==g.lastAccessedBy&&(g.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=g,g.isBeingObserved||(g.isBeingObserved=!0,g.onBecomeObserved())),!0):(g.observers.size===0&&ot.inBatch>0&&Fo(g),!1)}function kr(g,m){if(console.log("[mobx.trace] '"+g.name+"' is invalidated due to a change in: '"+m.name+"'"),g.isTracing===Je.BREAK){var x=[];(function T(R,K,_e){if(K.length>=1e3)return void K.push("(and many more)");K.push(""+new Array(_e).join("	")+R.name),R.dependencies&&R.dependencies.forEach(function(Re){return T(Re,K,_e+1)})})(ao(g),x,1),new Function(`debugger;
/*
Tracing '`+g.name+`'

You are entering this break point because derivation '`+g.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(g instanceof ir?g.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+x.join(`
`)+`
*/
    `)()}}var ur=function(){function g(m,x,T,R){m===void 0&&(m="Reaction@"+N()),R===void 0&&(R=!1),this.name=m,this.onInvalidate=x,this.errorHandler=T,this.requiresObservable=R,this.observing=[],this.newObserving=[],this.dependenciesState=ie.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+N(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Je.NONE}return g.prototype.onBecomeStale=function(){this.schedule()},g.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ot.pendingReactions.push(this),pi())},g.prototype.isScheduled=function(){return this._isScheduled},g.prototype.runReaction=function(){if(!this.isDisposed){if(Vn(),this._isScheduled=!1,Dt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(m){this.reportExceptionInDerivation(m)}}Wn()}},g.prototype.track=function(m){if(!this.isDisposed){Vn(),this._isRunning=!0;var x=ye(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ke(this),mt(x)&&this.reportExceptionInDerivation(x.cause),Wn()}},g.prototype.reportExceptionInDerivation=function(m){var x=this;if(this.errorHandler)this.errorHandler(m,this);else{if(ot.disableErrorBoundaries)throw m;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ot.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,m),ot.globalReactionErrorHandlers.forEach(function(R){return R(m,x)})}},g.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Vn(),ke(this),Wn()))},g.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m[U]=this,m},g.prototype.toString=function(){return"Reaction["+this.name+"]"},g.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var x=[],T=0;T<arguments.length;T++)x[T]=arguments[T];var R=!1;typeof x[x.length-1]=="boolean"&&(R=x.pop());var K=_i(x);if(!K)return D(!1);K.isTracing===Je.NONE&&console.log("[mobx.trace] '"+K.name+"' tracing enabled"),K.isTracing=R?Je.BREAK:Je.LOG}(this,m)},g}(),fi=function(g){return g()};function pi(){ot.inBatch>0||ot.isRunningReactions||fi(Gi)}function Gi(){ot.isRunningReactions=!0;for(var g=ot.pendingReactions,m=0;g.length>0;){++m==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+g[0]),g.splice(0));for(var x=g.splice(0),T=0,R=x.length;T<R;T++)x[T].runReaction()}ot.isRunningReactions=!1}var sr=ae("Reaction",ur);function ro(g){var m=fi;fi=function(x){return g(function(){return m(x)})}}function Ar(g){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function di(){D(!1)}function yr(g){return function(m,x,T){if(T){if(T.value)return{value:Mt(g,T.value),enumerable:!1,configurable:!0,writable:!0};var R=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Mt(g,R.call(this))}}}return Fi(g).apply(this,arguments)}}function Fi(g){return function(m,x,T){Object.defineProperty(m,x,{configurable:!0,enumerable:!1,get:function(){},set:function(R){re(this,x,cr(g,R))}})}}var cr=function(g,m,x,T){return arguments.length===1&&typeof g=="function"?Mt(g.name||"<unnamed action>",g):arguments.length===2&&typeof m=="function"?Mt(g,m):arguments.length===1&&typeof g=="string"?yr(g):T!==!0?yr(m).apply(null,arguments):void re(g,m,Mt(g.name||m,x.value,this))};function Xo(g,m){return We(typeof g=="string"?g:g.name||"<unnamed action>",typeof g=="function"?g:m,this,void 0)}function oo(g){return typeof g=="function"&&g.isMobxAction===!0}function Uo(g,m,x){re(g,m,Mt(m,x.bind(g)))}function Yo(g,m){m===void 0&&(m=w);var x,T=m&&m.name||g.name||"Autorun@"+N();if(!m.scheduler&&!m.delay)x=new ur(T,function(){this.track(_e)},m.onError,m.requiresObservable);else{var R=hi(m),K=!1;x=new ur(T,function(){K||(K=!0,R(function(){K=!1,x.isDisposed||x.track(_e)}))},m.onError,m.requiresObservable)}function _e(){g(x)}return x.schedule(),x.getDisposer()}cr.bound=function(g,m,x,T){return T===!0?(Uo(g,m,x.value),null):x?{configurable:!0,enumerable:!1,get:function(){return Uo(this,m,x.value||x.initializer.call(this)),this[m]},set:di}:{enumerable:!1,configurable:!0,set:function(R){Uo(this,m,R)},get:function(){}}};var ya=function(g){return g()};function hi(g){return g.scheduler?g.scheduler:g.delay?function(m){return setTimeout(m,g.delay)}:ya}function Tr(g,m,x){x===void 0&&(x=w);var T,R,K,_e=x.name||"Reaction@"+N(),Re=cr(_e,x.onError?(T=x.onError,R=m,function(){try{return R.apply(this,arguments)}catch(Ht){T.call(this,Ht)}}):m),qe=!x.scheduler&&!x.delay,Ot=hi(x),wt=!0,zt=!1,It=x.compareStructural?H.structural:x.equals||H.default,Ct=new ur(_e,function(){wt||qe?Ut():zt||(zt=!0,Ot(Ut))},x.onError,x.requiresObservable);function Ut(){if(zt=!1,!Ct.isDisposed){var Ht=!1;Ct.track(function(){var Lt=g(Ct);Ht=wt||!It(K,Lt),K=Lt}),wt&&x.fireImmediately&&Re(K,Ct),wt||Ht!==!0||Re(K,Ct),wt&&(wt=!1)}}return Ct.schedule(),Ct.getDisposer()}function Dr(g,m,x){return yi("onBecomeUnobserved",g,m,x)}function yi(g,m,x,T){var R=typeof T=="function"?Kn(m,x):Kn(m),K=typeof T=="function"?T:x,_e=g+"Listeners";return R[_e]?R[_e].add(K):R[_e]=new Set([K]),typeof R[g]!="function"?D(!1):function(){var Re=R[_e];Re&&(Re.delete(K),Re.size===0&&delete R[_e])}}function io(g){var m=g.enforceActions,x=g.computedRequiresReaction,T=g.computedConfigurable,R=g.disableErrorBoundaries,K=g.reactionScheduler,_e=g.reactionRequiresObservable,Re=g.observableRequiresReaction;if(g.isolateGlobalState===!0&&((ot.pendingReactions.length||ot.inBatch||ot.isRunningReactions)&&D("isolateGlobalState should be called before MobX is running any reactions"),ci=!0,No&&(--qn().__mobxInstanceCount==0&&(qn().__mobxGlobals=void 0),ot=new Go)),m!==void 0){var qe=void 0;switch(m){case!0:case"observed":qe=!0;break;case!1:case"never":qe=!1;break;case"strict":case"always":qe="strict";break;default:D("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}ot.enforceActions=qe,ot.allowStateChanges=qe!==!0&&qe!=="strict"}x!==void 0&&(ot.computedRequiresReaction=!!x),_e!==void 0&&(ot.reactionRequiresObservable=!!_e),Re!==void 0&&(ot.observableRequiresReaction=!!Re,ot.allowStateReads=!ot.observableRequiresReaction),T!==void 0&&(ot.computedConfigurable=!!T),R!==void 0&&(R===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),ot.disableErrorBoundaries=!!R),K&&ro(K)}function Jn(g,m,x,T){var R=Cr(T=be(T));return Ve(g),Do(g,T.name,R.enhancer),m&&vi(g,m,x,R),g}function Cr(g){return g.defaultDecorator||(g.deep===!1?Ce:De)}function vi(g,m,x,T){var R,K;Vn();try{var _e=de(m);try{for(var Re=Pe(_e),qe=Re.next();!qe.done;qe=Re.next()){var Ot=qe.value,wt=Object.getOwnPropertyDescriptor(m,Ot),zt=(x&&Ot in x?x[Ot]:wt.get?tt:T)(g,Ot,wt,!0);zt&&Object.defineProperty(g,Ot,zt)}}catch(It){R={error:It}}finally{try{qe&&!qe.done&&(K=Re.return)&&K.call(Re)}finally{if(R)throw R.error}}}finally{Wn()}}function ao(g,m){return gi(Kn(g,m))}function gi(g){var m,x,T={name:g.name};return g.observing&&g.observing.length>0&&(T.dependencies=(m=g.observing,x=[],m.forEach(function(R){x.indexOf(R)===-1&&x.push(R)}),x).map(gi)),T}var va=0;function Rr(){this.message="FLOW_CANCELLED"}function Wt(g){arguments.length!==1&&D("Flow expects 1 argument and cannot be used as decorator");var m=g.name||"<unnamed flow>";return function(){var x,T=this,R=arguments,K=++va,_e=cr(m+" - runid: "+K+" - init",g).apply(T,R),Re=void 0,qe=new Promise(function(Ot,wt){var zt=0;function It(Ht){var Lt;Re=void 0;try{Lt=cr(m+" - runid: "+K+" - yield "+zt++,_e.next).call(_e,Ht)}catch($n){return wt($n)}Ut(Lt)}function Ct(Ht){var Lt;Re=void 0;try{Lt=cr(m+" - runid: "+K+" - yield "+zt++,_e.throw).call(_e,Ht)}catch($n){return wt($n)}Ut(Lt)}function Ut(Ht){if(!Ht||typeof Ht.then!="function")return Ht.done?Ot(Ht.value):(Re=Promise.resolve(Ht.value)).then(It,Ct);Ht.then(Ut,wt)}x=wt,It(void 0)});return qe.cancel=cr(m+" - runid: "+K+" - cancel",function(){try{Re&&Ir(Re);var Ot=_e.return(void 0),wt=Promise.resolve(Ot.value);wt.then(B,B),Ir(wt),x(new Rr)}catch(zt){x(zt)}}),qe}}function Ir(g){typeof g.cancel=="function"&&g.cancel()}function mi(g,m){if(g==null)return!1;if(m!==void 0){if(on(g)===!1||!g[U].values.has(m))return!1;var x=Kn(g,m);return Mr(x)}return Mr(g)}function uo(g){return arguments.length>1?D(!1):mi(g)}function Vo(g,m){return typeof m!="string"?D(!1):mi(g,m)}function ko(g,m){return g!=null&&(m!==void 0?!!on(g)&&g[U].values.has(m):on(g)||!!g[U]||z(g)||sr(g)||Mr(g))}function Lr(g){return arguments.length!==1&&D(!1),ko(g)}function zn(g){return on(g)?g[U].getKeys():kn(g)||tn(g)?Array.from(g.keys()):Nn(g)?g.map(function(m,x){return x}):D(!1)}function ln(g){return on(g)?zn(g).map(function(m){return g[m]}):kn(g)?zn(g).map(function(m){return g.get(m)}):tn(g)?Array.from(g.values()):Nn(g)?g.slice():D(!1)}function bi(g){return on(g)?zn(g).map(function(m){return[m,g[m]]}):kn(g)?zn(g).map(function(m){return[m,g.get(m)]}):tn(g)?Array.from(g.entries()):Nn(g)?g.map(function(m,x){return[x,m]}):D(!1)}function Qn(g,m,x,T){return typeof x=="function"?function(R,K,_e,Re){return ho(R,K).observe(_e,Re)}(g,m,x,T):function(R,K,_e){return ho(R).observe(K,_e)}(g,m,x)}Rr.prototype=Object.create(Error.prototype);var Wo={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Bn(g,m,x,T){return T.detectCycles&&g.set(m,x),x}function zr(g,m){var x;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=Wo),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(x=new Map),function T(R,K,_e){if(!K.recurseEverything&&!Lr(R)||typeof R!="object")return R;if(R===null)return null;if(R instanceof Date)return R;if(Ho(R))return T(R.get(),K,_e);if(Lr(R)&&zn(R),K.detectCycles===!0&&R!==null&&_e.has(R))return _e.get(R);if(Nn(R)||Array.isArray(R)){var Re=Bn(_e,R,[],K),qe=R.map(function(Lt){return T(Lt,K,_e)});Re.length=qe.length;for(var Ot=0,wt=qe.length;Ot<wt;Ot++)Re[Ot]=qe[Ot];return Re}if(tn(R)||Object.getPrototypeOf(R)===Set.prototype){if(K.exportMapsAsObjects===!1){var zt=Bn(_e,R,new Set,K);return R.forEach(function(Lt){zt.add(T(Lt,K,_e))}),zt}var It=Bn(_e,R,[],K);return R.forEach(function(Lt){It.push(T(Lt,K,_e))}),It}if(kn(R)||Object.getPrototypeOf(R)===Map.prototype){if(K.exportMapsAsObjects===!1){var Ct=Bn(_e,R,new Map,K);return R.forEach(function(Lt,$n){Ct.set($n,T(Lt,K,_e))}),Ct}var Ut=Bn(_e,R,{},K);return R.forEach(function(Lt,$n){Ut[$n]=T(Lt,K,_e)}),Ut}var Ht=Bn(_e,R,{},K);return fe(R).forEach(function(Lt){Ht[Lt]=T(R[Lt],K,_e)}),Ht}(g,m,x)}function _i(g){switch(g.length){case 0:return ot.trackingDerivation;case 1:return Kn(g[0]);case 2:return Kn(g[0],g[1])}}function wn(g,m){m===void 0&&(m=void 0),Vn();try{return g.apply(m)}finally{Wn()}}function hn(g,m,x){return arguments.length===1||m&&typeof m=="object"?Zo(g,m):lr(g,m,x||{})}function lr(g,m,x){var T;typeof x.timeout=="number"&&(T=setTimeout(function(){if(!K[U].isDisposed){K();var _e=new Error("WHEN_TIMEOUT");if(!x.onError)throw _e;x.onError(_e)}},x.timeout)),x.name=x.name||"When@"+N();var R=Mt(x.name+"-effect",m),K=Yo(function(_e){g()&&(_e.dispose(),T&&clearTimeout(T),R())},x);return K}function Zo(g,m){var x,T=new Promise(function(R,K){var _e=lr(g,R,me(me({},m),{onError:K}));x=function(){_e(),K("WHEN_CANCELLED")}});return T.cancel=x,T}function Br(g){return g[U]}function vr(g){return typeof g=="string"||typeof g=="number"||typeof g=="symbol"}var Hr={has:function(g,m){if(m===U||m==="constructor"||m===Q)return!0;var x=Br(g);return vr(m)?x.has(m):m in g},get:function(g,m){if(m===U||m==="constructor"||m===Q)return g[m];var x=Br(g),T=x.values.get(m);if(T instanceof he){var R=T.get();return R===void 0&&x.has(m),R}return vr(m)&&x.has(m),g[m]},set:function(g,m,x){return!!vr(m)&&(function T(R,K,_e){if(arguments.length!==2||tn(R))if(on(R)){var Re=R[U],qe=Re.values.get(K);qe?Re.write(K,_e):Re.addObservableProp(K,_e,Re.defaultEnhancer)}else if(kn(R))R.set(K,_e);else if(tn(R))R.add(K);else{if(!Nn(R))return D(!1);typeof K!="number"&&(K=parseInt(K,10)),C(K>=0,"Not a valid index: '"+K+"'"),Vn(),K>=R.length&&(R.length=K+1),R[K]=_e,Wn()}else{Vn();var Ot=K;try{for(var wt in Ot)T(R,wt,Ot[wt])}finally{Wn()}}}(g,m,x),!0)},deleteProperty:function(g,m){return!!vr(m)&&(Br(g).remove(m),!0)},ownKeys:function(g){return Br(g).keysAtom.reportObserved(),Reflect.ownKeys(g)},preventExtensions:function(g){return D("Dynamic observable objects cannot be frozen"),!1}};function Gr(g){var m=new Proxy(g,Hr);return g[U].proxy=m,m}function Zn(g){return g.interceptors!==void 0&&g.interceptors.length>0}function er(g,m){var x=g.interceptors||(g.interceptors=[]);return x.push(m),L(function(){var T=x.indexOf(m);T!==-1&&x.splice(T,1)})}function Mn(g,m){var x=ze();try{for(var T=oe(g.interceptors||[]),R=0,K=T.length;R<K&&(C(!(m=T[R](m))||m.type,"Intercept handlers should return nothing or a change object"),m);R++);return m}finally{He(x)}}function Tt(g){return g.changeListeners!==void 0&&g.changeListeners.length>0}function fr(g,m){var x=g.changeListeners||(g.changeListeners=[]);return x.push(m),L(function(){var T=x.indexOf(m);T!==-1&&x.splice(T,1)})}function vn(g,m){var x=ze(),T=g.changeListeners;if(T){for(var R=0,K=(T=T.slice()).length;R<K;R++)T[R](m);He(x)}}var gr={get:function(g,m){return m===U?g[U]:m==="length"?g[U].getArrayLength():typeof m=="number"?tr.get.call(g,m):typeof m!="string"||isNaN(m)?tr.hasOwnProperty(m)?tr[m]:g[m]:tr.get.call(g,parseInt(m))},set:function(g,m,x){return m==="length"&&g[U].setArrayLength(x),typeof m=="number"&&tr.set.call(g,m,x),typeof m=="symbol"||isNaN(m)?g[m]=x:tr.set.call(g,parseInt(m),x),!0},preventExtensions:function(g){return D("Observable arrays cannot be frozen"),!1}};function Ao(g,m,x,T){x===void 0&&(x="ObservableArray@"+N()),T===void 0&&(T=!1);var R,K,_e,Re=new so(x,m,T);R=Re.values,K=U,_e=Re,Object.defineProperty(R,K,{enumerable:!1,writable:!1,configurable:!0,value:_e});var qe=new Proxy(Re.values,gr);if(Re.proxy=qe,g&&g.length){var Ot=Bt(!0);Re.spliceWithArray(0,0,g),Qt(Ot)}return qe}var so=function(){function g(m,x,T){this.owned=T,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new he(m||"ObservableArray@"+N()),this.enhancer=function(R,K){return x(R,K,m+"[..]")}}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},g.prototype.intercept=function(m){return er(this,m)},g.prototype.observe=function(m,x){return x===void 0&&(x=!1),x&&m({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),fr(this,m)},g.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},g.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var x=this.values.length;if(m!==x)if(m>x){for(var T=new Array(m-x),R=0;R<m-x;R++)T[R]=void 0;this.spliceWithArray(x,0,T)}else this.spliceWithArray(m,x-m)},g.prototype.updateArrayLength=function(m,x){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=x},g.prototype.spliceWithArray=function(m,x,T){var R=this;Z(this.atom);var K=this.values.length;if(m===void 0?m=0:m>K?m=K:m<0&&(m=Math.max(0,K+m)),x=arguments.length===1?K-m:x==null?0:Math.max(0,Math.min(x,K-m)),T===void 0&&(T=S),Zn(this)){var _e=Mn(this,{object:this.proxy,type:"splice",index:m,removedCount:x,added:T});if(!_e)return S;x=_e.removedCount,T=_e.added}T=T.length===0?T:T.map(function(qe){return R.enhancer(qe,void 0)});var Re=this.spliceItemsIntoValues(m,x,T);return x===0&&T.length===0||this.notifyArraySplice(m,T,Re),this.dehanceValues(Re)},g.prototype.spliceItemsIntoValues=function(m,x,T){var R;if(T.length<1e4)return(R=this.values).splice.apply(R,oe([m,x],T));var K=this.values.slice(m,m+x);return this.values=this.values.slice(0,m).concat(T,this.values.slice(m+x)),K},g.prototype.notifyArrayChildUpdate=function(m,x,T){var R=!this.owned&&!1,K=Tt(this),_e=K||R?{object:this.proxy,type:"update",index:m,newValue:x,oldValue:T}:null;this.atom.reportChanged(),K&&vn(this,_e)},g.prototype.notifyArraySplice=function(m,x,T){var R=!this.owned&&!1,K=Tt(this),_e=K||R?{object:this.proxy,type:"splice",index:m,removed:T,added:x,removedCount:T.length,addedCount:x.length}:null;this.atom.reportChanged(),K&&vn(this,_e)},g}(),tr={intercept:function(g){return this[U].intercept(g)},observe:function(g,m){return m===void 0&&(m=!1),this[U].observe(g,m)},clear:function(){return this.splice(0)},replace:function(g){var m=this[U];return m.spliceWithArray(0,m.values.length,g)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(g,m){for(var x=[],T=2;T<arguments.length;T++)x[T-2]=arguments[T];var R=this[U];switch(arguments.length){case 0:return[];case 1:return R.spliceWithArray(g);case 2:return R.spliceWithArray(g,m)}return R.spliceWithArray(g,m,x)},spliceWithArray:function(g,m,x){return this[U].spliceWithArray(g,m,x)},push:function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var x=this[U];return x.spliceWithArray(x.values.length,0,g),x.values.length},pop:function(){return this.splice(Math.max(this[U].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var x=this[U];return x.spliceWithArray(0,0,g),x.values.length},reverse:function(){var g=this.slice();return g.reverse.apply(g,arguments)},sort:function(g){var m=this.slice();return m.sort.apply(m,arguments)},remove:function(g){var m=this[U],x=m.dehanceValues(m.values).indexOf(g);return x>-1&&(this.splice(x,1),!0)},get:function(g){var m=this[U];if(m){if(g<m.values.length)return m.atom.reportObserved(),m.dehanceValue(m.values[g]);console.warn("[mobx.array] Attempt to read an array index ("+g+") that is out of bounds ("+m.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(g,m){var x=this[U],T=x.values;if(g<T.length){Z(x.atom);var R=T[g];if(Zn(x)){var K=Mn(x,{type:"update",object:x.proxy,index:g,newValue:m});if(!K)return;m=K.newValue}(m=x.enhancer(m,R))!==R&&(T[g]=m,x.notifyArrayChildUpdate(g,m,R))}else{if(g!==T.length)throw new Error("[mobx.array] Index out of bounds, "+g+" is larger than "+T.length);x.spliceWithArray(g,0,[m])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(g){typeof Array.prototype[g]=="function"&&(tr[g]=function(){var m=this[U];m.atom.reportObserved();var x=m.dehanceValues(m.values);return x[g].apply(x,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(g){typeof Array.prototype[g]=="function"&&(tr[g]=function(m,x){var T=this,R=this[U];return R.atom.reportObserved(),R.dehanceValues(R.values)[g](function(K,_e){return m.call(x,K,_e,T)},x)})}),["reduce","reduceRight"].forEach(function(g){tr[g]=function(){var m=this,x=this[U];x.atom.reportObserved();var T=arguments[0];return arguments[0]=function(R,K,_e){return K=x.dehanceValue(K),T(R,K,_e,m)},x.values[g].apply(x.values,arguments)}});var To,Oi=ae("ObservableArrayAdministration",so);function Nn(g){return W(g)&&Oi(g[U])}var Ko,Xi={},wi=function(){function g(m,x,T){if(x===void 0&&(x=Qe),T===void 0&&(T="ObservableMap@"+N()),this.enhancer=x,this.name=T,this[To]=Xi,this._keysAtom=G(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return g.prototype._has=function(m){return this._data.has(m)},g.prototype.has=function(m){var x=this;if(!ot.trackingDerivation)return this._has(m);var T=this._hasMap.get(m);if(!T){var R=T=new On(this._has(m),gt,this.name+"."+$(m)+"?",!1);this._hasMap.set(m,R),Dr(R,function(){return x._hasMap.delete(m)})}return T.get()},g.prototype.set=function(m,x){var T=this._has(m);if(Zn(this)){var R=Mn(this,{type:T?"update":"add",object:this,newValue:x,name:m});if(!R)return this;x=R.newValue}return T?this._updateValue(m,x):this._addValue(m,x),this},g.prototype.delete=function(m){var x=this;if(Z(this._keysAtom),Zn(this)&&!(R=Mn(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var T=Tt(this),R=T?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return wn(function(){x._keysAtom.reportChanged(),x._updateHasMapEntry(m,!1),x._data.get(m).setNewValue(void 0),x._data.delete(m)}),T&&vn(this,R),!0}return!1},g.prototype._updateHasMapEntry=function(m,x){var T=this._hasMap.get(m);T&&T.setNewValue(x)},g.prototype._updateValue=function(m,x){var T=this._data.get(m);if((x=T.prepareNewValue(x))!==ot.UNCHANGED){var R=Tt(this),K=R?{type:"update",object:this,oldValue:T.value,name:m,newValue:x}:null;T.setNewValue(x),R&&vn(this,K)}},g.prototype._addValue=function(m,x){var T=this;Z(this._keysAtom),wn(function(){var _e=new On(x,T.enhancer,T.name+"."+$(m),!1);T._data.set(m,_e),x=_e.value,T._updateHasMapEntry(m,!0),T._keysAtom.reportChanged()});var R=Tt(this),K=R?{type:"add",object:this,name:m,newValue:x}:null;R&&vn(this,K)},g.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},g.prototype.values=function(){var m=this,x=this.keys();return pr({next:function(){var T=x.next(),R=T.done,K=T.value;return{done:R,value:R?void 0:m.get(K)}}})},g.prototype.entries=function(){var m=this,x=this.keys();return pr({next:function(){var T=x.next(),R=T.done,K=T.value;return{done:R,value:R?void 0:[K,m.get(K)]}}})},g.prototype[To=U,Symbol.iterator]=function(){return this.entries()},g.prototype.forEach=function(m,x){var T,R;try{for(var K=Pe(this),_e=K.next();!_e.done;_e=K.next()){var Re=X(_e.value,2),qe=Re[0],Ot=Re[1];m.call(x,Ot,qe,this)}}catch(wt){T={error:wt}}finally{try{_e&&!_e.done&&(R=K.return)&&R.call(K)}finally{if(T)throw T.error}}},g.prototype.merge=function(m){var x=this;return kn(m)&&(m=m.toJS()),wn(function(){var T=Bt(!0);try{V(m)?fe(m).forEach(function(R){return x.set(R,m[R])}):Array.isArray(m)?m.forEach(function(R){var K=X(R,2),_e=K[0],Re=K[1];return x.set(_e,Re)}):ue(m)?(m.constructor!==Map&&D("Cannot initialize from classes that inherit from Map: "+m.constructor.name),m.forEach(function(R,K){return x.set(K,R)})):m!=null&&D("Cannot initialize map from "+m)}finally{Qt(T)}}),this},g.prototype.clear=function(){var m=this;wn(function(){ve(function(){var x,T;try{for(var R=Pe(m.keys()),K=R.next();!K.done;K=R.next()){var _e=K.value;m.delete(_e)}}catch(Re){x={error:Re}}finally{try{K&&!K.done&&(T=R.return)&&T.call(R)}finally{if(x)throw x.error}}})})},g.prototype.replace=function(m){var x=this;return wn(function(){var T,R,K,_e,Re=function(An){if(ue(An)||kn(An))return An;if(Array.isArray(An))return new Map(An);if(V(An)){var Jo=new Map;for(var Xr in An)Jo.set(Xr,An[Xr]);return Jo}return D("Cannot convert to map from '"+An+"'")}(m),qe=new Map,Ot=!1;try{for(var wt=Pe(x._data.keys()),zt=wt.next();!zt.done;zt=wt.next()){var It=zt.value;if(!Re.has(It))if(x.delete(It))Ot=!0;else{var Ct=x._data.get(It);qe.set(It,Ct)}}}catch(An){T={error:An}}finally{try{zt&&!zt.done&&(R=wt.return)&&R.call(wt)}finally{if(T)throw T.error}}try{for(var Ut=Pe(Re.entries()),Ht=Ut.next();!Ht.done;Ht=Ut.next()){var Lt=X(Ht.value,2),$n=(It=Lt[0],Ct=Lt[1],x._data.has(It));if(x.set(It,Ct),x._data.has(It)){var Ui=x._data.get(It);qe.set(It,Ui),$n||(Ot=!0)}}}catch(An){K={error:An}}finally{try{Ht&&!Ht.done&&(_e=Ut.return)&&_e.call(Ut)}finally{if(K)throw K.error}}if(!Ot)if(x._data.size!==qe.size)x._keysAtom.reportChanged();else for(var vo=x._data.keys(),Fr=qe.keys(),mr=vo.next(),Si=Fr.next();!mr.done;){if(mr.value!==Si.value){x._keysAtom.reportChanged();break}mr=vo.next(),Si=Fr.next()}x._data=qe}),this},Object.defineProperty(g.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.toPOJO=function(){var m,x,T={};try{for(var R=Pe(this),K=R.next();!K.done;K=R.next()){var _e=X(K.value,2),Re=_e[0],qe=_e[1];T[typeof Re=="symbol"?Re:$(Re)]=qe}}catch(Ot){m={error:Ot}}finally{try{K&&!K.done&&(x=R.return)&&x.call(R)}finally{if(m)throw m.error}}return T},g.prototype.toJS=function(){return new Map(this)},g.prototype.toJSON=function(){return this.toPOJO()},g.prototype.toString=function(){var m=this;return this.name+"[{ "+Array.from(this.keys()).map(function(x){return $(x)+": "+m.get(x)}).join(", ")+" }]"},g.prototype.observe=function(m,x){return fr(this,m)},g.prototype.intercept=function(m){return er(this,m)},g}(),kn=ae("ObservableMap",wi),Hn={},nr=function(){function g(m,x,T){if(x===void 0&&(x=Qe),T===void 0&&(T="ObservableSet@"+N()),this.name=T,this[Ko]=Hn,this._data=new Set,this._atom=G(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(R,K){return x(R,K,T)},m&&this.replace(m)}return g.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},g.prototype.clear=function(){var m=this;wn(function(){ve(function(){var x,T;try{for(var R=Pe(m._data.values()),K=R.next();!K.done;K=R.next()){var _e=K.value;m.delete(_e)}}catch(Re){x={error:Re}}finally{try{K&&!K.done&&(T=R.return)&&T.call(R)}finally{if(x)throw x.error}}})})},g.prototype.forEach=function(m,x){var T,R;try{for(var K=Pe(this),_e=K.next();!_e.done;_e=K.next()){var Re=_e.value;m.call(x,Re,Re,this)}}catch(qe){T={error:qe}}finally{try{_e&&!_e.done&&(R=K.return)&&R.call(K)}finally{if(T)throw T.error}}},Object.defineProperty(g.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),g.prototype.add=function(m){var x=this;if(Z(this._atom),Zn(this)&&!(R=Mn(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){wn(function(){x._data.add(x.enhancer(m,void 0)),x._atom.reportChanged()});var T=Tt(this),R=T?{type:"add",object:this,newValue:m}:null;T&&vn(this,R)}return this},g.prototype.delete=function(m){var x=this;if(Zn(this)&&!(R=Mn(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var T=Tt(this),R=T?{type:"delete",object:this,oldValue:m}:null;return wn(function(){x._atom.reportChanged(),x._data.delete(m)}),T&&vn(this,R),!0}return!1},g.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},g.prototype.entries=function(){var m=0,x=Array.from(this.keys()),T=Array.from(this.values());return pr({next:function(){var R=m;return m+=1,R<T.length?{value:[x[R],T[R]],done:!1}:{done:!0}}})},g.prototype.keys=function(){return this.values()},g.prototype.values=function(){this._atom.reportObserved();var m=this,x=0,T=Array.from(this._data.values());return pr({next:function(){return x<T.length?{value:m.dehanceValue(T[x++]),done:!1}:{done:!0}}})},g.prototype.replace=function(m){var x=this;return tn(m)&&(m=m.toJS()),wn(function(){var T=Bt(!0);try{Array.isArray(m)||ne(m)?(x.clear(),m.forEach(function(R){return x.add(R)})):m!=null&&D("Cannot initialize set from "+m)}finally{Qt(T)}}),this},g.prototype.observe=function(m,x){return fr(this,m)},g.prototype.intercept=function(m){return er(this,m)},g.prototype.toJS=function(){return new Set(this)},g.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},g.prototype[Ko=U,Symbol.iterator]=function(){return this.values()},g}(),tn=ae("ObservableSet",nr),co=function(){function g(m,x,T,R){x===void 0&&(x=new Map),this.target=m,this.values=x,this.name=T,this.defaultEnhancer=R,this.keysAtom=new he(T+".keys")}return g.prototype.read=function(m){return this.values.get(m).get()},g.prototype.write=function(m,x){var T=this.target,R=this.values.get(m);if(R instanceof ir)R.set(x);else{if(Zn(this)){if(!(_e=Mn(this,{type:"update",object:this.proxy||T,name:m,newValue:x})))return;x=_e.newValue}if((x=R.prepareNewValue(x))!==ot.UNCHANGED){var K=Tt(this),_e=K?{type:"update",object:this.proxy||T,oldValue:R.value,name:m,newValue:x}:null;R.setNewValue(x),K&&vn(this,_e)}}},g.prototype.has=function(m){var x=this.pendingKeys||(this.pendingKeys=new Map),T=x.get(m);if(T)return T.get();var R=!!this.values.get(m);return T=new On(R,gt,this.name+"."+$(m)+"?",!1),x.set(m,T),T.get()},g.prototype.addObservableProp=function(m,x,T){T===void 0&&(T=this.defaultEnhancer);var R=this.target;if(Zn(this)){var K=Mn(this,{object:this.proxy||R,name:m,type:"add",newValue:x});if(!K)return;x=K.newValue}var _e=new On(x,T,this.name+"."+$(m),!1);this.values.set(m,_e),x=_e.value,Object.defineProperty(R,m,function(Re){return lo[Re]||(lo[Re]={configurable:!0,enumerable:!0,get:function(){return this[U].read(Re)},set:function(qe){this[U].write(Re,qe)}})}(m)),this.notifyPropertyAddition(m,x)},g.prototype.addComputedProp=function(m,x,T){var R,K,_e,Re=this.target;T.name=T.name||this.name+"."+$(x),this.values.set(x,new ir(T)),(m===Re||(R=m,K=x,!(_e=Object.getOwnPropertyDescriptor(R,K))||_e.configurable!==!1&&_e.writable!==!1))&&Object.defineProperty(m,x,function(qe){return fo[qe]||(fo[qe]={configurable:ot.computedConfigurable,enumerable:!1,get:function(){return po(this).read(qe)},set:function(Ot){po(this).write(qe,Ot)}})}(x))},g.prototype.remove=function(m){if(this.values.has(m)){var x=this.target;if(Zn(this)&&!(Re=Mn(this,{object:this.proxy||x,name:m,type:"remove"})))return;try{Vn();var T=Tt(this),R=this.values.get(m),K=R&&R.get();if(R&&R.set(void 0),this.keysAtom.reportChanged(),this.values.delete(m),this.pendingKeys){var _e=this.pendingKeys.get(m);_e&&_e.set(!1)}delete this.target[m];var Re=T?{type:"remove",object:this.proxy||x,oldValue:K,name:m}:null;T&&vn(this,Re)}finally{Wn()}}},g.prototype.illegalAccess=function(m,x){console.warn("Property '"+x+"' of '"+m+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},g.prototype.observe=function(m,x){return fr(this,m)},g.prototype.intercept=function(m){return er(this,m)},g.prototype.notifyPropertyAddition=function(m,x){var T=Tt(this),R=T?{type:"add",object:this.proxy||this.target,name:m,newValue:x}:null;if(T&&vn(this,R),this.pendingKeys){var K=this.pendingKeys.get(m);K&&K.set(!0)}this.keysAtom.reportChanged()},g.prototype.getKeys=function(){var m,x;this.keysAtom.reportObserved();var T=[];try{for(var R=Pe(this.values),K=R.next();!K.done;K=R.next()){var _e=X(K.value,2),Re=_e[0];_e[1]instanceof On&&T.push(Re)}}catch(qe){m={error:qe}}finally{try{K&&!K.done&&(x=R.return)&&x.call(R)}finally{if(m)throw m.error}}return T},g}();function Do(g,m,x){if(m===void 0&&(m=""),x===void 0&&(x=Qe),Object.prototype.hasOwnProperty.call(g,U))return g[U];V(g)||(m=(g.constructor.name||"ObservableObject")+"@"+N()),m||(m="ObservableObject@"+N());var T=new co(g,new Map,$(m),x);return re(g,U,T),T}var lo=Object.create(null),fo=Object.create(null);function po(g){var m=g[U];return m||(Ve(g),g[U])}var $o=ae("ObservableObjectAdministration",co);function on(g){return!!W(g)&&(Ve(g),$o(g[U]))}function Kn(g,m){if(typeof g=="object"&&g!==null){if(Nn(g))return m!==void 0&&D(!1),g[U].atom;if(tn(g))return g[U];if(kn(g)){var x=g;return m===void 0?x._keysAtom:((T=x._data.get(m)||x._hasMap.get(m))||D(!1),T)}var T;if(Ve(g),m&&!g[U]&&g[m],on(g))return m?((T=g[U].values.get(m))||D(!1),T):D(!1);if(z(g)||Mr(g)||sr(g))return g}else if(typeof g=="function"&&sr(g[U]))return g[U];return D(!1)}function ho(g,m){return g||D("Expecting some object"),m!==void 0?ho(Kn(g,m)):z(g)||Mr(g)||sr(g)||kn(g)||tn(g)?g:(Ve(g),g[U]?g[U]:void D(!1))}var xi=Object.prototype.toString;function qo(g,m,x){return x===void 0&&(x=-1),function T(R,K,_e,Re,qe){if(R===K)return R!==0||1/R==1/K;if(R==null||K==null)return!1;if(R!=R)return K!=K;var Ot=typeof R;if(Ot!=="function"&&Ot!=="object"&&typeof K!="object")return!1;var wt=xi.call(R);if(wt!==xi.call(K))return!1;switch(wt){case"[object RegExp]":case"[object String]":return""+R==""+K;case"[object Number]":return+R!=+R?+K!=+K:+R==0?1/+R==1/K:+R==+K;case"[object Date]":case"[object Boolean]":return+R==+K;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(R)===Symbol.valueOf.call(K);case"[object Map]":case"[object Set]":_e>=0&&_e++}R=Gn(R),K=Gn(K);var zt=wt==="[object Array]";if(!zt){if(typeof R!="object"||typeof K!="object")return!1;var It=R.constructor,Ct=K.constructor;if(It!==Ct&&!(typeof It=="function"&&It instanceof It&&typeof Ct=="function"&&Ct instanceof Ct)&&"constructor"in R&&"constructor"in K)return!1}if(_e===0)return!1;_e<0&&(_e=-1),qe=qe||[];for(var Ut=(Re=Re||[]).length;Ut--;)if(Re[Ut]===R)return qe[Ut]===K;if(Re.push(R),qe.push(K),zt){if((Ut=R.length)!==K.length)return!1;for(;Ut--;)if(!T(R[Ut],K[Ut],_e-1,Re,qe))return!1}else{var Ht=Object.keys(R),Lt=void 0;if(Ut=Ht.length,Object.keys(K).length!==Ut)return!1;for(;Ut--;)if(Lt=Ht[Ut],!yo(K,Lt)||!T(R[Lt],K[Lt],_e-1,Re,qe))return!1}return Re.pop(),qe.pop(),!0}(g,m,x)}function Gn(g){return Nn(g)?g.slice():ue(g)||kn(g)||ne(g)||tn(g)?Array.from(g.entries()):g}function yo(g,m){return Object.prototype.hasOwnProperty.call(g,m)}function pr(g){return g[Symbol.iterator]=Ei,g}function Ei(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ar,extras:{getDebugName:function(g,m){return(m!==void 0?Kn(g,m):on(g)||kn(g)||tn(g)?ho(g):Kn(g)).name}},$mobx:U})}).call(this,s(155),s(81))},function(E,j,s){"use strict";s.d(j,"a",function(){return $}),s.d(j,"b",function(){return fe}),s.d(j,"c",function(){return Qe}),s.d(j,"d",function(){return gt}),s.d(j,"e",function(){return ae}),s.d(j,"f",function(){return ne}),s.d(j,"g",function(){return ae}),s.d(j,"h",function(){return Xe}),s.d(j,"i",function(){return d}),s.d(j,"j",function(){return nt}),s.d(j,"k",function(){return H});var _,d,S,w,N,D,C,L={},B=[],W=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function V(se,le){for(var be in le)se[be]=le[be];return se}function re(se){var le=se.parentNode;le&&le.removeChild(se)}function ae(se,le,be){var De,Ge,Ce,at={};for(Ce in le)Ce=="key"?De=le[Ce]:Ce=="ref"?Ge=le[Ce]:at[Ce]=le[Ce];if(arguments.length>2&&(at.children=arguments.length>3?_.call(arguments,2):be),typeof se=="function"&&se.defaultProps!=null)for(Ce in se.defaultProps)at[Ce]===void 0&&(at[Ce]=se.defaultProps[Ce]);return ue(se,at,De,Ge,null)}function ue(se,le,be,De,Ge){var Ce={type:se,props:le,key:be,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Ge==null?++S:Ge};return Ge==null&&d.vnode!=null&&d.vnode(Ce),Ce}function ne(){return{current:null}}function fe(se){return se.children}function $(se,le){this.props=se,this.context=le}function ee(se,le){if(le==null)return se.__?ee(se.__,se.__.__k.indexOf(se)+1):null;for(var be;le<se.__k.length;le++)if((be=se.__k[le])!=null&&be.__e!=null)return be.__e;return typeof se.type=="function"?ee(se):null}function de(se){var le,be;if((se=se.__)!=null&&se.__c!=null){for(se.__e=se.__c.base=null,le=0;le<se.__k.length;le++)if((be=se.__k[le])!=null&&be.__e!=null){se.__e=se.__c.base=be.__e;break}return de(se)}}function U(se){(!se.__d&&(se.__d=!0)&&w.push(se)&&!he.__r++||D!==d.debounceRendering)&&((D=d.debounceRendering)||N)(he)}function he(){for(var se;he.__r=w.length;)se=w.sort(function(le,be){return le.__v.__b-be.__v.__b}),w=[],se.some(function(le){var be,De,Ge,Ce,at,rt;le.__d&&(at=(Ce=(be=le).__v).__e,(rt=be.__P)&&(De=[],(Ge=V({},Ce)).__v=Ce.__v+1,Q(rt,Ce,Ge,be.__n,rt.ownerSVGElement!==void 0,Ce.__h!=null?[at]:null,De,at==null?ee(Ce):at,Ce.__h),ce(De,Ce),Ce.__e!=at&&de(Ce)))})}function z(se,le,be,De,Ge,Ce,at,rt,vt,it){var Ae,ie,Je,tt,$e,Vt,bt,mt=De&&De.__k||B,Dt=mt.length;for(be.__k=[],Ae=0;Ae<le.length;Ae++)if((tt=be.__k[Ae]=(tt=le[Ae])==null||typeof tt=="boolean"?null:typeof tt=="string"||typeof tt=="number"||typeof tt=="bigint"?ue(null,tt,null,null,tt):Array.isArray(tt)?ue(fe,{children:tt},null,null,null):tt.__b>0?ue(tt.type,tt.props,tt.key,null,tt.__v):tt)!=null){if(tt.__=be,tt.__b=be.__b+1,(Je=mt[Ae])===null||Je&&tt.key==Je.key&&tt.type===Je.type)mt[Ae]=void 0;else for(ie=0;ie<Dt;ie++){if((Je=mt[ie])&&tt.key==Je.key&&tt.type===Je.type){mt[ie]=void 0;break}Je=null}Q(se,tt,Je=Je||L,Ge,Ce,at,rt,vt,it),$e=tt.__e,(ie=tt.ref)&&Je.ref!=ie&&(bt||(bt=[]),Je.ref&&bt.push(Je.ref,null,tt),bt.push(ie,tt.__c||$e,tt)),$e!=null?(Vt==null&&(Vt=$e),typeof tt.type=="function"&&tt.__k===Je.__k?tt.__d=vt=G(tt,vt,se):vt=te(se,tt,Je,mt,$e,vt),typeof be.type=="function"&&(be.__d=vt)):vt&&Je.__e==vt&&vt.parentNode!=se&&(vt=ee(Je))}for(be.__e=Vt,Ae=Dt;Ae--;)mt[Ae]!=null&&(typeof be.type=="function"&&mt[Ae].__e!=null&&mt[Ae].__e==be.__d&&(be.__d=ee(De,Ae+1)),Be(mt[Ae],mt[Ae]));if(bt)for(Ae=0;Ae<bt.length;Ae++)Te(bt[Ae],bt[++Ae],bt[++Ae])}function G(se,le,be){for(var De,Ge=se.__k,Ce=0;Ge&&Ce<Ge.length;Ce++)(De=Ge[Ce])&&(De.__=se,le=typeof De.type=="function"?G(De,le,be):te(be,De,De,Ge,De.__e,le));return le}function H(se,le){return le=le||[],se==null||typeof se=="boolean"||(Array.isArray(se)?se.some(function(be){H(be,le)}):le.push(se)),le}function te(se,le,be,De,Ge,Ce){var at,rt,vt;if(le.__d!==void 0)at=le.__d,le.__d=void 0;else if(be==null||Ge!=Ce||Ge.parentNode==null)e:if(Ce==null||Ce.parentNode!==se)se.appendChild(Ge),at=null;else{for(rt=Ce,vt=0;(rt=rt.nextSibling)&&vt<De.length;vt+=2)if(rt==Ge)break e;se.insertBefore(Ge,Ce),at=Ce}return at!==void 0?at:Ge.nextSibling}function me(se,le,be){le[0]==="-"?se.setProperty(le,be):se[le]=be==null?"":typeof be!="number"||W.test(le)?be:be+"px"}function Pe(se,le,be,De,Ge){var Ce;e:if(le==="style")if(typeof be=="string")se.style.cssText=be;else{if(typeof De=="string"&&(se.style.cssText=De=""),De)for(le in De)be&&le in be||me(se.style,le,"");if(be)for(le in be)De&&be[le]===De[le]||me(se.style,le,be[le])}else if(le[0]==="o"&&le[1]==="n")Ce=le!==(le=le.replace(/Capture$/,"")),le=le.toLowerCase()in se?le.toLowerCase().slice(2):le.slice(2),se.l||(se.l={}),se.l[le+Ce]=be,be?De||se.addEventListener(le,Ce?oe:X,Ce):se.removeEventListener(le,Ce?oe:X,Ce);else if(le!=="dangerouslySetInnerHTML"){if(Ge)le=le.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(le!=="href"&&le!=="list"&&le!=="form"&&le!=="tabIndex"&&le!=="download"&&le in se)try{se[le]=be==null?"":be;break e}catch(at){}typeof be=="function"||(be!=null&&(be!==!1||le[0]==="a"&&le[1]==="r")?se.setAttribute(le,be):se.removeAttribute(le))}}function X(se){this.l[se.type+!1](d.event?d.event(se):se)}function oe(se){this.l[se.type+!0](d.event?d.event(se):se)}function Q(se,le,be,De,Ge,Ce,at,rt,vt){var it,Ae,ie,Je,tt,$e,Vt,bt,mt,Dt,Jt,Z=le.type;if(le.constructor!==void 0)return null;be.__h!=null&&(vt=be.__h,rt=le.__e=be.__e,le.__h=null,Ce=[rt]),(it=d.__b)&&it(le);try{e:if(typeof Z=="function"){if(bt=le.props,mt=(it=Z.contextType)&&De[it.__c],Dt=it?mt?mt.props.value:it.__:De,be.__c?Vt=(Ae=le.__c=be.__c).__=Ae.__E:("prototype"in Z&&Z.prototype.render?le.__c=Ae=new Z(bt,Dt):(le.__c=Ae=new $(bt,Dt),Ae.constructor=Z,Ae.render=Ve),mt&&mt.sub(Ae),Ae.props=bt,Ae.state||(Ae.state={}),Ae.context=Dt,Ae.__n=De,ie=Ae.__d=!0,Ae.__h=[]),Ae.__s==null&&(Ae.__s=Ae.state),Z.getDerivedStateFromProps!=null&&(Ae.__s==Ae.state&&(Ae.__s=V({},Ae.__s)),V(Ae.__s,Z.getDerivedStateFromProps(bt,Ae.__s))),Je=Ae.props,tt=Ae.state,ie)Z.getDerivedStateFromProps==null&&Ae.componentWillMount!=null&&Ae.componentWillMount(),Ae.componentDidMount!=null&&Ae.__h.push(Ae.componentDidMount);else{if(Z.getDerivedStateFromProps==null&&bt!==Je&&Ae.componentWillReceiveProps!=null&&Ae.componentWillReceiveProps(bt,Dt),!Ae.__e&&Ae.shouldComponentUpdate!=null&&Ae.shouldComponentUpdate(bt,Ae.__s,Dt)===!1||le.__v===be.__v){Ae.props=bt,Ae.state=Ae.__s,le.__v!==be.__v&&(Ae.__d=!1),Ae.__v=le,le.__e=be.__e,le.__k=be.__k,le.__k.forEach(function(ye){ye&&(ye.__=le)}),Ae.__h.length&&at.push(Ae);break e}Ae.componentWillUpdate!=null&&Ae.componentWillUpdate(bt,Ae.__s,Dt),Ae.componentDidUpdate!=null&&Ae.__h.push(function(){Ae.componentDidUpdate(Je,tt,$e)})}Ae.context=Dt,Ae.props=bt,Ae.state=Ae.__s,(it=d.__r)&&it(le),Ae.__d=!1,Ae.__v=le,Ae.__P=se,it=Ae.render(Ae.props,Ae.state,Ae.context),Ae.state=Ae.__s,Ae.getChildContext!=null&&(De=V(V({},De),Ae.getChildContext())),ie||Ae.getSnapshotBeforeUpdate==null||($e=Ae.getSnapshotBeforeUpdate(Je,tt)),Jt=it!=null&&it.type===fe&&it.key==null?it.props.children:it,z(se,Array.isArray(Jt)?Jt:[Jt],le,be,De,Ge,Ce,at,rt,vt),Ae.base=le.__e,le.__h=null,Ae.__h.length&&at.push(Ae),Vt&&(Ae.__E=Ae.__=null),Ae.__e=!1}else Ce==null&&le.__v===be.__v?(le.__k=be.__k,le.__e=be.__e):le.__e=xe(be.__e,le,be,De,Ge,Ce,at,vt);(it=d.diffed)&&it(le)}catch(ye){le.__v=null,(vt||Ce!=null)&&(le.__e=rt,le.__h=!!vt,Ce[Ce.indexOf(rt)]=null),d.__e(ye,le,be)}}function ce(se,le){d.__c&&d.__c(le,se),se.some(function(be){try{se=be.__h,be.__h=[],se.some(function(De){De.call(be)})}catch(De){d.__e(De,be.__v)}})}function xe(se,le,be,De,Ge,Ce,at,rt){var vt,it,Ae,ie=be.props,Je=le.props,tt=le.type,$e=0;if(tt==="svg"&&(Ge=!0),Ce!=null){for(;$e<Ce.length;$e++)if((vt=Ce[$e])&&"setAttribute"in vt==!!tt&&(tt?vt.localName===tt:vt.nodeType===3)){se=vt,Ce[$e]=null;break}}if(se==null){if(tt===null)return document.createTextNode(Je);se=Ge?document.createElementNS("http://www.w3.org/2000/svg",tt):document.createElement(tt,Je.is&&Je),Ce=null,rt=!1}if(tt===null)ie===Je||rt&&se.data===Je||(se.data=Je);else{if(Ce=Ce&&_.call(se.childNodes),it=(ie=be.props||L).dangerouslySetInnerHTML,Ae=Je.dangerouslySetInnerHTML,!rt){if(Ce!=null)for(ie={},$e=0;$e<se.attributes.length;$e++)ie[se.attributes[$e].name]=se.attributes[$e].value;(Ae||it)&&(Ae&&(it&&Ae.__html==it.__html||Ae.__html===se.innerHTML)||(se.innerHTML=Ae&&Ae.__html||""))}if(function(Vt,bt,mt,Dt,Jt){var Z;for(Z in mt)Z==="children"||Z==="key"||Z in bt||Pe(Vt,Z,null,mt[Z],Dt);for(Z in bt)Jt&&typeof bt[Z]!="function"||Z==="children"||Z==="key"||Z==="value"||Z==="checked"||mt[Z]===bt[Z]||Pe(Vt,Z,bt[Z],mt[Z],Dt)}(se,Je,ie,Ge,rt),Ae)le.__k=[];else if($e=le.props.children,z(se,Array.isArray($e)?$e:[$e],le,be,De,Ge&&tt!=="foreignObject",Ce,at,Ce?Ce[0]:be.__k&&ee(be,0),rt),Ce!=null)for($e=Ce.length;$e--;)Ce[$e]!=null&&re(Ce[$e]);rt||("value"in Je&&($e=Je.value)!==void 0&&($e!==ie.value||$e!==se.value||tt==="progress"&&!$e)&&Pe(se,"value",$e,ie.value,!1),"checked"in Je&&($e=Je.checked)!==void 0&&$e!==se.checked&&Pe(se,"checked",$e,ie.checked,!1))}return se}function Te(se,le,be){try{typeof se=="function"?se(le):se.current=le}catch(De){d.__e(De,be)}}function Be(se,le,be){var De,Ge;if(d.unmount&&d.unmount(se),(De=se.ref)&&(De.current&&De.current!==se.__e||Te(De,null,le)),(De=se.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(Ce){d.__e(Ce,le)}De.base=De.__P=null}if(De=se.__k)for(Ge=0;Ge<De.length;Ge++)De[Ge]&&Be(De[Ge],le,typeof se.type!="function");be||se.__e==null||re(se.__e),se.__e=se.__d=void 0}function Ve(se,le,be){return this.constructor(se,be)}function nt(se,le,be){var De,Ge,Ce;d.__&&d.__(se,le),Ge=(De=typeof be=="function")?null:be&&be.__k||le.__k,Ce=[],Q(le,se=(!De&&be||le).__k=ae(fe,null,[se]),Ge||L,L,le.ownerSVGElement!==void 0,!De&&be?[be]:Ge?null:le.firstChild?_.call(le.childNodes):null,Ce,!De&&be?be:Ge?Ge.__e:le.firstChild,De),ce(Ce,se)}function Xe(se,le){nt(se,le,Xe)}function Qe(se,le,be){var De,Ge,Ce,at=V({},se.props);for(Ce in le)Ce=="key"?De=le[Ce]:Ce=="ref"?Ge=le[Ce]:at[Ce]=le[Ce];return arguments.length>2&&(at.children=arguments.length>3?_.call(arguments,2):be),ue(se.type,at,De||se.key,Ge||se.ref,null)}function gt(se,le){var be={__c:le="__cC"+C++,__:se,Consumer:function(De,Ge){return De.children(Ge)},Provider:function(De){var Ge,Ce;return this.getChildContext||(Ge=[],(Ce={})[le]=this,this.getChildContext=function(){return Ce},this.shouldComponentUpdate=function(at){this.props.value!==at.value&&Ge.some(U)},this.sub=function(at){Ge.push(at);var rt=at.componentWillUnmount;at.componentWillUnmount=function(){Ge.splice(Ge.indexOf(at),1),rt&&rt.call(at)}}),De.children}};return be.Provider.__=be.Consumer.contextType=be}_=B.slice,d={__e:function(se,le){for(var be,De,Ge;le=le.__;)if((be=le.__c)&&!be.__)try{if((De=be.constructor)&&De.getDerivedStateFromError!=null&&(be.setState(De.getDerivedStateFromError(se)),Ge=be.__d),be.componentDidCatch!=null&&(be.componentDidCatch(se),Ge=be.__d),Ge)return be.__E=be}catch(Ce){se=Ce}throw se}},S=0,$.prototype.setState=function(se,le){var be;be=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=V({},this.state),typeof se=="function"&&(se=se(V({},be),this.props)),se&&V(be,se),se!=null&&this.__v&&(le&&this.__h.push(le),U(this))},$.prototype.forceUpdate=function(se){this.__v&&(this.__e=!0,se&&this.__h.push(se),U(this))},$.prototype.render=fe,w=[],N=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,he.__r=0,C=0},function(E,j,s){var _=s(116),d=s(44),S=s(177);_||d(Object.prototype,"toString",S,{unsafe:!0})},function(E,j,s){"use strict";var _=s(39),d=s(82),S=s(70),w=s(56),N=s(111),D=w.set,C=w.getterFor("Array Iterator");E.exports=N(Array,"Array",function(L,B){D(this,{type:"Array Iterator",target:_(L),index:0,kind:B})},function(){var L=C(this),B=L.target,W=L.kind,V=L.index++;return!B||V>=B.length?(L.target=void 0,{value:void 0,done:!0}):W=="keys"?{value:V,done:!1}:W=="values"?{value:B[V],done:!1}:{value:[V,B[V]],done:!1}},"values"),S.Arguments=S.Array,d("keys"),d("values"),d("entries")},function(E,j,s){var _=s(7),d=s(147),S=s(148),w=s(3),N=s(57),D=s(27),C=D("iterator"),L=D("toStringTag"),B=w.values,W=function(re,ae){if(re){if(re[C]!==B)try{N(re,C,B)}catch(ne){re[C]=B}if(re[L]||N(re,L,ae),d[ae]){for(var ue in w)if(re[ue]!==w[ue])try{N(re,ue,w[ue])}catch(ne){re[ue]=w[ue]}}}};for(var V in d)W(_[V]&&_[V].prototype,V);W(S,"DOMTokenList")},function(E,j,s){"use strict";var _=s(16),d=s(7),S=s(46),w=s(76),N=s(35),D=s(15),C=s(64),L=s(36),B=s(109),W=s(18),V=s(34),re=s(98),ae=s(28),ue=s(33),ne=s(58),fe=s(87),$=s(32),ee=s(38),de=s(39),U=s(86),he=s(40),z=s(71),G=s(54),H=s(66),te=s(72),me=s(139),Pe=s(112),X=s(51),oe=s(37),Q=s(92),ce=s(100),xe=s(44),Te=s(83),Be=s(90),Ve=s(69),nt=s(84),Xe=s(27),Qe=s(149),gt=s(150),se=s(73),le=s(56),be=s(74).forEach,De=Be("hidden"),Ge=Xe("toPrimitive"),Ce=le.set,at=le.getterFor("Symbol"),rt=Object.prototype,vt=d.Symbol,it=vt&&vt.prototype,Ae=d.TypeError,ie=d.QObject,Je=S("JSON","stringify"),tt=X.f,$e=oe.f,Vt=me.f,bt=Q.f,mt=D([].push),Dt=Te("symbols"),Jt=Te("op-symbols"),Z=Te("string-to-symbol-registry"),ye=Te("symbol-to-string-registry"),ke=Te("wks"),ve=!ie||!ie.prototype||!ie.prototype.findChild,ze=L&&W(function(){return G($e({},"a",{get:function(){return $e(this,"a",{value:7}).a}})).a!=7})?function(We,st,pt){var _t=tt(rt,st);_t&&delete rt[st],$e(We,st,pt),_t&&We!==rt&&$e(rt,st,_t)}:$e,He=function(We,st){var pt=Dt[We]=G(it);return Ce(pt,{type:"Symbol",tag:We,description:st}),L||(pt.description=st),pt},Ze=function(We,st,pt){We===rt&&Ze(Jt,st,pt),$(We);var _t=U(st);return $(pt),V(Dt,_t)?(pt.enumerable?(V(We,De)&&We[De][_t]&&(We[De][_t]=!1),pt=G(pt,{enumerable:z(0,!1)})):(V(We,De)||$e(We,De,z(1,{})),We[De][_t]=!0),ze(We,_t,pt)):$e(We,_t,pt)},ut=function(We,st){$(We);var pt=de(st),_t=H(pt).concat(nn(pt));return be(_t,function(Bt){L&&!N(jt,pt,Bt)||Ze(We,Bt,pt[Bt])}),We},jt=function(We){var st=U(We),pt=N(bt,this,st);return!(this===rt&&V(Dt,st)&&!V(Jt,st))&&(!(pt||!V(this,st)||!V(Dt,st)||V(this,De)&&this[De][st])||pt)},Xt=function(We,st){var pt=de(We),_t=U(st);if(pt!==rt||!V(Dt,_t)||V(Jt,_t)){var Bt=tt(pt,_t);return!Bt||!V(Dt,_t)||V(pt,De)&&pt[De][_t]||(Bt.enumerable=!0),Bt}},_n=function(We){var st=Vt(de(We)),pt=[];return be(st,function(_t){V(Dt,_t)||V(Ve,_t)||mt(pt,_t)}),pt},nn=function(We){var st=We===rt,pt=Vt(st?Jt:de(We)),_t=[];return be(pt,function(Bt){!V(Dt,Bt)||st&&!V(rt,Bt)||mt(_t,Dt[Bt])}),_t};if(B||(xe(it=(vt=function(){if(ne(it,this))throw Ae("Symbol is not a constructor");var We=arguments.length&&arguments[0]!==void 0?he(arguments[0]):void 0,st=nt(We),pt=function(_t){this===rt&&N(pt,Jt,_t),V(this,De)&&V(this[De],st)&&(this[De][st]=!1),ze(this,st,z(1,_t))};return L&&ve&&ze(rt,st,{configurable:!0,set:pt}),He(st,We)}).prototype,"toString",function(){return at(this).tag}),xe(vt,"withoutSetter",function(We){return He(nt(We),We)}),Q.f=jt,oe.f=Ze,X.f=Xt,te.f=me.f=_n,Pe.f=nn,Qe.f=function(We){return He(Xe(We),We)},L&&($e(it,"description",{configurable:!0,get:function(){return at(this).description}}),C||xe(rt,"propertyIsEnumerable",jt,{unsafe:!0}))),_({global:!0,wrap:!0,forced:!B,sham:!B},{Symbol:vt}),be(H(ke),function(We){gt(We)}),_({target:"Symbol",stat:!0,forced:!B},{for:function(We){var st=he(We);if(V(Z,st))return Z[st];var pt=vt(st);return Z[st]=pt,ye[pt]=st,pt},keyFor:function(We){if(!fe(We))throw Ae(We+" is not a symbol");if(V(ye,We))return ye[We]},useSetter:function(){ve=!0},useSimple:function(){ve=!1}}),_({target:"Object",stat:!0,forced:!B,sham:!L},{create:function(We,st){return st===void 0?G(We):ut(G(We),st)},defineProperty:Ze,defineProperties:ut,getOwnPropertyDescriptor:Xt}),_({target:"Object",stat:!0,forced:!B},{getOwnPropertyNames:_n,getOwnPropertySymbols:nn}),_({target:"Object",stat:!0,forced:W(function(){Pe.f(1)})},{getOwnPropertySymbols:function(We){return Pe.f(ee(We))}}),Je&&_({target:"JSON",stat:!0,forced:!B||W(function(){var We=vt();return Je([We])!="[null]"||Je({a:We})!="{}"||Je(Object(We))!="{}"})},{stringify:function(We,st,pt){var _t=ce(arguments),Bt=st;if((ue(st)||We!==void 0)&&!fe(We))return re(st)||(st=function(Qt,On){if(ae(Bt)&&(On=N(Bt,this,Qt,On)),!fe(On))return On}),_t[1]=st,w(Je,null,_t)}}),!it[Ge]){var Mt=it.valueOf;xe(it,Ge,function(We){return N(Mt,this)})}se(vt,"Symbol"),Ve[De]=!0},function(E,j,s){"use strict";var _=s(146).charAt,d=s(40),S=s(56),w=s(111),N=S.set,D=S.getterFor("String Iterator");w(String,"String",function(C){N(this,{type:"String Iterator",string:d(C),index:0})},function(){var C,L=D(this),B=L.string,W=L.index;return W>=B.length?{value:void 0,done:!0}:(C=_(B,W),L.index+=C.length,{value:C,done:!1})})},function(E,j,s){(function(_){var d=function(S){return S&&S.Math==Math&&S};E.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof _=="object"&&_)||function(){return this}()||Function("return this")()}).call(this,s(81))},function(E,j,s){"use strict";var _=s(16),d=s(36),S=s(7),w=s(15),N=s(34),D=s(28),C=s(58),L=s(40),B=s(37).f,W=s(134),V=S.Symbol,re=V&&V.prototype;if(d&&D(V)&&(!("description"in re)||V().description!==void 0)){var ae={},ue=function(){var he=arguments.length<1||arguments[0]===void 0?void 0:L(arguments[0]),z=C(re,this)?new V(he):he===void 0?V():V(he);return he===""&&(ae[z]=!0),z};W(ue,V),ue.prototype=re,re.constructor=ue;var ne=String(V("test"))=="Symbol(test)",fe=w(re.toString),$=w(re.valueOf),ee=/^Symbol\((.*)\)[^)]+$/,de=w("".replace),U=w("".slice);B(re,"description",{configurable:!0,get:function(){var he=$(this),z=fe(he);if(N(ae,he))return"";var G=ne?U(z,7,-1):de(z,ee,"$1");return G===""?void 0:G}}),_({global:!0,forced:!0},{Symbol:ue})}},function(E,j,s){s(150)("iterator")},function(E,j,s){"use strict";s.d(j,"a",function(){return w.a}),s.d(j,"c",function(){return w.e}),s.d(j,"h",function(){return ee}),s.d(j,"i",function(){return ne}),s.d(j,"j",function(){return ae}),s.d(j,"b",function(){return X}),s.d(j,"e",function(){return xe}),s.d(j,"f",function(){return oe}),s.d(j,"g",function(){return mt});var _,d,S,w=s(1),N=0,D=[],C=w.i.__b,L=w.i.__r,B=w.i.diffed,W=w.i.__c,V=w.i.unmount;function re(Z,ye){w.i.__h&&w.i.__h(d,Z,N||ye),N=0;var ke=d.__H||(d.__H={__:[],__h:[]});return Z>=ke.__.length&&ke.__.push({}),ke.__[Z]}function ae(Z){return N=1,ue(te,Z)}function ue(Z,ye,ke){var ve=re(_++,2);return ve.t=Z,ve.__c||(ve.__=[ke?ke(ye):te(void 0,ye),function(ze){var He=ve.t(ve.__[0],ze);ve.__[0]!==He&&(ve.__=[He,ve.__[1]],ve.__c.setState({}))}],ve.__c=d),ve.__}function ne(Z,ye){var ke=re(_++,3);!w.i.__s&&H(ke.__H,ye)&&(ke.__=Z,ke.__H=ye,d.__H.__h.push(ke))}function fe(Z,ye){var ke=re(_++,4);!w.i.__s&&H(ke.__H,ye)&&(ke.__=Z,ke.__H=ye,d.__h.push(ke))}function $(Z,ye){var ke=re(_++,7);return H(ke.__H,ye)&&(ke.__=Z(),ke.__H=ye,ke.__h=Z),ke.__}function ee(Z,ye){return N=8,$(function(){return Z},ye)}function de(){var Z;for(D.sort(function(ye,ke){return ye.__v.__b-ke.__v.__b});Z=D.pop();)if(Z.__P)try{Z.__H.__h.forEach(z),Z.__H.__h.forEach(G),Z.__H.__h=[]}catch(ye){Z.__H.__h=[],w.i.__e(ye,Z.__v)}}w.i.__b=function(Z){d=null,C&&C(Z)},w.i.__r=function(Z){L&&L(Z),_=0;var ye=(d=Z.__c).__H;ye&&(ye.__h.forEach(z),ye.__h.forEach(G),ye.__h=[])},w.i.diffed=function(Z){B&&B(Z);var ye=Z.__c;ye&&ye.__H&&ye.__H.__h.length&&(D.push(ye)!==1&&S===w.i.requestAnimationFrame||((S=w.i.requestAnimationFrame)||he)(de)),d=null},w.i.__c=function(Z,ye){ye.some(function(ke){try{ke.__h.forEach(z),ke.__h=ke.__h.filter(function(ve){return!ve.__||G(ve)})}catch(ve){ye.some(function(ze){ze.__h&&(ze.__h=[])}),ye=[],w.i.__e(ve,ke.__v)}}),W&&W(Z,ye)},w.i.unmount=function(Z){V&&V(Z);var ye,ke=Z.__c;ke&&ke.__H&&(ke.__H.__.forEach(function(ve){try{z(ve)}catch(ze){ye=ze}}),ye&&w.i.__e(ye,ke.__v))};var U=typeof requestAnimationFrame=="function";function he(Z){var ye,ke=function(){clearTimeout(ve),U&&cancelAnimationFrame(ye),setTimeout(Z)},ve=setTimeout(ke,100);U&&(ye=requestAnimationFrame(ke))}function z(Z){var ye=d,ke=Z.__c;typeof ke=="function"&&(Z.__c=void 0,ke()),d=ye}function G(Z){var ye=d;Z.__c=Z.__(),d=ye}function H(Z,ye){return!Z||Z.length!==ye.length||ye.some(function(ke,ve){return ke!==Z[ve]})}function te(Z,ye){return typeof ye=="function"?ye(Z):ye}function me(Z,ye){for(var ke in ye)Z[ke]=ye[ke];return Z}function Pe(Z,ye){for(var ke in Z)if(ke!=="__source"&&!(ke in ye))return!0;for(var ve in ye)if(ve!=="__source"&&Z[ve]!==ye[ve])return!0;return!1}function X(Z){this.props=Z}function oe(Z,ye){function ke(ze){var He=this.props.ref,Ze=He==ze.ref;return!Ze&&He&&(He.call?He(null):He.current=null),ye?!ye(this.props,ze)||!Ze:Pe(this.props,ze)}function ve(ze){return this.shouldComponentUpdate=ke,Object(w.e)(Z,ze)}return ve.displayName="Memo("+(Z.displayName||Z.name)+")",ve.prototype.isReactComponent=!0,ve.__f=!0,ve}(X.prototype=new w.a).isPureReactComponent=!0,X.prototype.shouldComponentUpdate=function(Z,ye){return Pe(this.props,Z)||Pe(this.state,ye)};var Q=w.i.__b;w.i.__b=function(Z){Z.type&&Z.type.__f&&Z.ref&&(Z.props.ref=Z.ref,Z.ref=null),Q&&Q(Z)};var ce=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function xe(Z){function ye(ke,ve){var ze=me({},ke);return delete ze.ref,Z(ze,!(ve=ke.ref||ve)||typeof ve=="object"&&!("current"in ve)?null:ve)}return ye.$$typeof=ce,ye.render=ye,ye.prototype.isReactComponent=ye.__f=!0,ye.displayName="ForwardRef("+(Z.displayName||Z.name)+")",ye}var Te=function(Z,ye){return Z==null?null:Object(w.k)(Object(w.k)(Z).map(ye))},Be={map:Te,forEach:Te,count:function(Z){return Z?Object(w.k)(Z).length:0},only:function(Z){var ye=Object(w.k)(Z);if(ye.length!==1)throw"Children.only";return ye[0]},toArray:w.k},Ve=w.i.__e;w.i.__e=function(Z,ye,ke){if(Z.then){for(var ve,ze=ye;ze=ze.__;)if((ve=ze.__c)&&ve.__c)return ye.__e==null&&(ye.__e=ke.__e,ye.__k=ke.__k),ve.__c(Z,ye)}Ve(Z,ye,ke)};var nt=w.i.unmount;function Xe(){this.__u=0,this.t=null,this.__b=null}function Qe(Z){var ye=Z.__.__c;return ye&&ye.__e&&ye.__e(Z)}function gt(){this.u=null,this.o=null}w.i.unmount=function(Z){var ye=Z.__c;ye&&ye.__R&&ye.__R(),ye&&Z.__h===!0&&(Z.type=null),nt&&nt(Z)},(Xe.prototype=new w.a).__c=function(Z,ye){var ke=ye.__c,ve=this;ve.t==null&&(ve.t=[]),ve.t.push(ke);var ze=Qe(ve.__v),He=!1,Ze=function(){He||(He=!0,ke.__R=null,ze?ze(ut):ut())};ke.__R=Ze;var ut=function(){if(!--ve.__u){if(ve.state.__e){var Xt=ve.state.__e;ve.__v.__k[0]=function nn(Mt,We,st){return Mt&&(Mt.__v=null,Mt.__k=Mt.__k&&Mt.__k.map(function(pt){return nn(pt,We,st)}),Mt.__c&&Mt.__c.__P===We&&(Mt.__e&&st.insertBefore(Mt.__e,Mt.__d),Mt.__c.__e=!0,Mt.__c.__P=st)),Mt}(Xt,Xt.__c.__P,Xt.__c.__O)}var _n;for(ve.setState({__e:ve.__b=null});_n=ve.t.pop();)_n.forceUpdate()}},jt=ye.__h===!0;ve.__u++||jt||ve.setState({__e:ve.__b=ve.__v.__k[0]}),Z.then(Ze,Ze)},Xe.prototype.componentWillUnmount=function(){this.t=[]},Xe.prototype.render=function(Z,ye){if(this.__b){if(this.__v.__k){var ke=document.createElement("div"),ve=this.__v.__k[0].__c;this.__v.__k[0]=function He(Ze,ut,jt){return Ze&&(Ze.__c&&Ze.__c.__H&&(Ze.__c.__H.__.forEach(function(Xt){typeof Xt.__c=="function"&&Xt.__c()}),Ze.__c.__H=null),(Ze=me({},Ze)).__c!=null&&(Ze.__c.__P===jt&&(Ze.__c.__P=ut),Ze.__c=null),Ze.__k=Ze.__k&&Ze.__k.map(function(Xt){return He(Xt,ut,jt)})),Ze}(this.__b,ke,ve.__O=ve.__P)}this.__b=null}var ze=ye.__e&&Object(w.e)(w.b,null,Z.fallback);return ze&&(ze.__h=null),[Object(w.e)(w.b,null,ye.__e?null:Z.children),ze]};var se=function(Z,ye,ke){if(++ke[1]===ke[0]&&Z.o.delete(ye),Z.props.revealOrder&&(Z.props.revealOrder[0]!=="t"||!Z.o.size))for(ke=Z.u;ke;){for(;ke.length>3;)ke.pop()();if(ke[1]<ke[0])break;Z.u=ke=ke[2]}};function le(Z){return this.getChildContext=function(){return Z.context},Z.children}function be(Z){var ye=this,ke=Z.i;ye.componentWillUnmount=function(){Object(w.j)(null,ye.l),ye.l=null,ye.i=null},ye.i&&ye.i!==ke&&ye.componentWillUnmount(),Z.__v?(ye.l||(ye.i=ke,ye.l={nodeType:1,parentNode:ke,childNodes:[],appendChild:function(ve){this.childNodes.push(ve),ye.i.appendChild(ve)},insertBefore:function(ve,ze){this.childNodes.push(ve),ye.i.appendChild(ve)},removeChild:function(ve){this.childNodes.splice(this.childNodes.indexOf(ve)>>>1,1),ye.i.removeChild(ve)}}),Object(w.j)(Object(w.e)(le,{context:ye.context},Z.__v),ye.l)):ye.l&&ye.componentWillUnmount()}(gt.prototype=new w.a).__e=function(Z){var ye=this,ke=Qe(ye.__v),ve=ye.o.get(Z);return ve[0]++,function(ze){var He=function(){ye.props.revealOrder?(ve.push(ze),se(ye,Z,ve)):ze()};ke?ke(He):He()}},gt.prototype.render=function(Z){this.u=null,this.o=new Map;var ye=Object(w.k)(Z.children);Z.revealOrder&&Z.revealOrder[0]==="b"&&ye.reverse();for(var ke=ye.length;ke--;)this.o.set(ye[ke],this.u=[1,0,this.u]);return Z.children},gt.prototype.componentDidUpdate=gt.prototype.componentDidMount=function(){var Z=this;this.o.forEach(function(ye,ke){se(Z,ke,ye)})};var De=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Ge=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ce=typeof document!="undefined",at=function(Z){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(Z)};w.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Z){Object.defineProperty(w.a.prototype,Z,{configurable:!0,get:function(){return this["UNSAFE_"+Z]},set:function(ye){Object.defineProperty(this,Z,{configurable:!0,writable:!0,value:ye})}})});var rt=w.i.event;function vt(){}function it(){return this.cancelBubble}function Ae(){return this.defaultPrevented}w.i.event=function(Z){return rt&&(Z=rt(Z)),Z.persist=vt,Z.isPropagationStopped=it,Z.isDefaultPrevented=Ae,Z.nativeEvent=Z};var ie,Je={configurable:!0,get:function(){return this.class}},tt=w.i.vnode;w.i.vnode=function(Z){var ye=Z.type,ke=Z.props,ve=ke;if(typeof ye=="string"){var ze=ye.indexOf("-")===-1;for(var He in ve={},ke){var Ze=ke[He];Ce&&He==="children"&&ye==="noscript"||He==="value"&&"defaultValue"in ke&&Ze==null||(He==="defaultValue"&&"value"in ke&&ke.value==null?He="value":He==="download"&&Ze===!0?Ze="":/ondoubleclick/i.test(He)?He="ondblclick":/^onchange(textarea|input)/i.test(He+ye)&&!at(ke.type)?He="oninput":/^onfocus$/i.test(He)?He="onfocusin":/^onblur$/i.test(He)?He="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(He)?He=He.toLowerCase():ze&&Ge.test(He)?He=He.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ze===null&&(Ze=void 0),ve[He]=Ze)}ye=="select"&&ve.multiple&&Array.isArray(ve.value)&&(ve.value=Object(w.k)(ke.children).forEach(function(ut){ut.props.selected=ve.value.indexOf(ut.props.value)!=-1})),ye=="select"&&ve.defaultValue!=null&&(ve.value=Object(w.k)(ke.children).forEach(function(ut){ut.props.selected=ve.multiple?ve.defaultValue.indexOf(ut.props.value)!=-1:ve.defaultValue==ut.props.value})),Z.props=ve,ke.class!=ke.className&&(Je.enumerable="className"in ke,ke.className!=null&&(ve.class=ke.className),Object.defineProperty(ve,"className",Je))}Z.$$typeof=De,tt&&tt(Z)};var $e=w.i.__r;w.i.__r=function(Z){$e&&$e(Z),ie=Z.__c};var Vt={ReactCurrentDispatcher:{current:{readContext:function(Z){return ie.__n[Z.__c].props.value}}}};function bt(Z){return!!Z&&Z.$$typeof===De}var mt=function(Z,ye){return Z(ye)},Dt=w.b,Jt={useState:ae,useReducer:ue,useEffect:ne,useLayoutEffect:fe,useRef:function(Z){return N=5,$(function(){return{current:Z}},[])},useImperativeHandle:function(Z,ye,ke){N=6,fe(function(){typeof Z=="function"?Z(ye()):Z&&(Z.current=ye())},ke==null?ke:ke.concat(Z))},useMemo:$,useCallback:ee,useContext:function(Z){var ye=d.context[Z.__c],ke=re(_++,9);return ke.c=Z,ye?(ke.__==null&&(ke.__=!0,ye.sub(d)),ye.props.value):Z.__},useDebugValue:function(Z,ye){w.i.useDebugValue&&w.i.useDebugValue(ye?ye(Z):Z)},version:"17.0.2",Children:Be,render:function(Z,ye,ke){return ye.__k==null&&(ye.textContent=""),Object(w.j)(Z,ye),typeof ke=="function"&&ke(),Z?Z.__c:null},hydrate:function(Z,ye,ke){return Object(w.h)(Z,ye),typeof ke=="function"&&ke(),Z?Z.__c:null},unmountComponentAtNode:function(Z){return!!Z.__k&&(Object(w.j)(null,Z),!0)},createPortal:function(Z,ye){return Object(w.e)(be,{__v:Z,i:ye})},createElement:w.e,createContext:w.d,createFactory:function(Z){return w.e.bind(null,Z)},cloneElement:function(Z){return bt(Z)?w.c.apply(null,arguments):Z},createRef:w.f,Fragment:w.b,isValidElement:bt,findDOMNode:function(Z){return Z&&(Z.base||Z.nodeType===1&&Z)||null},Component:w.a,PureComponent:X,memo:oe,forwardRef:xe,flushSync:function(Z,ye){return Z(ye)},unstable_batchedUpdates:mt,StrictMode:Dt,Suspense:Xe,SuspenseList:gt,lazy:function(Z){var ye,ke,ve;function ze(He){if(ye||(ye=Z()).then(function(Ze){ke=Ze.default||Ze},function(Ze){ve=Ze}),ve)throw ve;if(!ke)throw ye;return Object(w.e)(ke,He)}return ze.displayName="Lazy",ze.__f=!0,ze},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Vt};j.d=Jt},function(E,j,s){var _=s(7),d=s(147),S=s(148),w=s(178),N=s(57),D=function(L){if(L&&L.forEach!==w)try{N(L,"forEach",w)}catch(B){L.forEach=w}};for(var C in d)d[C]&&D(_[C]&&_[C].prototype);D(S)},function(E,j,s){s(16)({target:"Object",stat:!0},{setPrototypeOf:s(96)})},function(E,j,s){var _=s(16),d=s(18),S=s(38),w=s(95),N=s(137);_({target:"Object",stat:!0,forced:d(function(){w(1)}),sham:!N},{getPrototypeOf:function(D){return w(S(D))}})},function(E,j,s){var _=s(16),d=s(46),S=s(76),w=s(198),N=s(157),D=s(32),C=s(33),L=s(54),B=s(18),W=d("Reflect","construct"),V=Object.prototype,re=[].push,ae=B(function(){function fe(){}return!(W(function(){},[],fe)instanceof fe)}),ue=!B(function(){W(function(){})}),ne=ae||ue;_({target:"Reflect",stat:!0,forced:ne,sham:ne},{construct:function(fe,$){N(fe),D($);var ee=arguments.length<3?fe:N(arguments[2]);if(ue&&!ae)return W(fe,$,ee);if(fe==ee){switch($.length){case 0:return new fe;case 1:return new fe($[0]);case 2:return new fe($[0],$[1]);case 3:return new fe($[0],$[1],$[2]);case 4:return new fe($[0],$[1],$[2],$[3])}var de=[null];return S(re,de,$),new(S(w,fe,de))}var U=ee.prototype,he=L(C(U)?U:V),z=S(fe,he,$);return C(z)?z:he}})},function(E,j){var s=Function.prototype,_=s.bind,d=s.call,S=_&&_.bind(d);E.exports=_?function(w){return w&&S(d,w)}:function(w){return w&&function(){return d.apply(w,arguments)}}},function(E,j,s){var _=s(7),d=s(51).f,S=s(57),w=s(44),N=s(108),D=s(134),C=s(94);E.exports=function(L,B){var W,V,re,ae,ue,ne=L.target,fe=L.global,$=L.stat;if(W=fe?_:$?_[ne]||N(ne,{}):(_[ne]||{}).prototype)for(V in B){if(ae=B[V],re=L.noTargetGet?(ue=d(W,V))&&ue.value:W[V],!C(fe?V:ne+($?".":"#")+V,L.forced)&&re!==void 0){if(typeof ae==typeof re)continue;D(ae,re)}(L.sham||re&&re.sham)&&S(ae,"sham",!0),w(W,V,ae,L)}}},function(E,j,s){"use strict";var _=s(16),d=s(7),S=s(98),w=s(99),N=s(33),D=s(67),C=s(43),L=s(39),B=s(61),W=s(27),V=s(75),re=s(100),ae=V("slice"),ue=W("species"),ne=d.Array,fe=Math.max;_({target:"Array",proto:!0,forced:!ae},{slice:function($,ee){var de,U,he,z=L(this),G=C(z),H=D($,G),te=D(ee===void 0?G:ee,G);if(S(z)&&(de=z.constructor,(w(de)&&(de===ne||S(de.prototype))||N(de)&&(de=de[ue])===null)&&(de=void 0),de===ne||de===void 0))return re(z,H,te);for(U=new(de===void 0?ne:de)(fe(te-H,0)),he=0;H<te;H++,he++)H in z&&B(U,he,z[H]);return U.length=he,U}})},function(E,j){E.exports=function(s){try{return!!s()}catch(_){return!0}}},function(E,j,s){"use strict";var _=s(16),d=s(101);_({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(E,j,s){var _=s(16),d=s(38),S=s(66);_({target:"Object",stat:!0,forced:s(18)(function(){S(1)})},{keys:function(w){return S(d(w))}})},function(E,j,s){var _=s(16),d=s(18),S=s(39),w=s(51).f,N=s(36),D=d(function(){w(1)});_({target:"Object",stat:!0,forced:!N||D,sham:!N},{getOwnPropertyDescriptor:function(C,L){return w(S(C),L)}})},function(E,j,s){"use strict";var _=s(16),d=s(74).filter;_({target:"Array",proto:!0,forced:!s(75)("filter")},{filter:function(S){return d(this,S,arguments.length>1?arguments[1]:void 0)}})},function(E,j,s){var _=s(16),d=s(36),S=s(135),w=s(39),N=s(51),D=s(61);_({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(C){for(var L,B,W=w(C),V=N.f,re=S(W),ae={},ue=0;re.length>ue;)(B=V(W,L=re[ue++]))!==void 0&&D(ae,L,B);return ae}})},function(E,j,s){var _=s(36),d=s(93).EXISTS,S=s(15),w=s(37).f,N=Function.prototype,D=S(N.toString),C=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,L=S(C.exec);_&&!d&&w(N,"name",{configurable:!0,get:function(){try{return L(C,D(this))[1]}catch(B){return""}}})},function(E,j,s){var _=s(16),d=s(181);_({target:"Array",stat:!0,forced:!s(118)(function(S){Array.from(S)})},{from:d})},,function(E,j,s){var _=s(7),d=s(83),S=s(34),w=s(84),N=s(109),D=s(128),C=d("wks"),L=_.Symbol,B=L&&L.for,W=D?L:L&&L.withoutSetter||w;E.exports=function(V){if(!S(C,V)||!N&&typeof C[V]!="string"){var re="Symbol."+V;N&&S(L,V)?C[V]=L[V]:C[V]=D&&B?B(re):W(re)}return C[V]}},function(E,j){E.exports=function(s){return typeof s=="function"}},function(E,j,s){"use strict";var _=s(16),d=s(7),S=s(18),w=s(98),N=s(33),D=s(38),C=s(43),L=s(61),B=s(119),W=s(75),V=s(27),re=s(65),ae=V("isConcatSpreadable"),ue=d.TypeError,ne=re>=51||!S(function(){var ee=[];return ee[ae]=!1,ee.concat()[0]!==ee}),fe=W("concat"),$=function(ee){if(!N(ee))return!1;var de=ee[ae];return de!==void 0?!!de:w(ee)};_({target:"Array",proto:!0,forced:!ne||!fe},{concat:function(ee){var de,U,he,z,G,H=D(this),te=B(H,0),me=0;for(de=-1,he=arguments.length;de<he;de++)if($(G=de===-1?H:arguments[de])){if(me+(z=C(G))>9007199254740991)throw ue("Maximum allowed index exceeded");for(U=0;U<z;U++,me++)U in G&&L(te,me,G[U])}else{if(me>=9007199254740991)throw ue("Maximum allowed index exceeded");L(te,me++,G)}return te.length=me,te}})},function(E,j,s){"use strict";var _=s(105),d=typeof self=="object"&&self&&self.Object===Object&&self,S=_.a||d||Function("return this")();j.a=S},function(E,j,s){var _=s(16),d=s(200);_({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(E,j,s){var _=s(7),d=s(33),S=_.String,w=_.TypeError;E.exports=function(N){if(d(N))return N;throw w(S(N)+" is not an object")}},function(E,j,s){var _=s(28);E.exports=function(d){return typeof d=="object"?d!==null:_(d)}},function(E,j,s){var _=s(15),d=s(38),S=_({}.hasOwnProperty);E.exports=Object.hasOwn||function(w,N){return S(d(w),N)}},function(E,j){var s=Function.prototype.call;E.exports=s.bind?s.bind(s):function(){return s.apply(s,arguments)}},function(E,j,s){var _=s(18);E.exports=!_(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(E,j,s){var _=s(7),d=s(36),S=s(129),w=s(32),N=s(86),D=_.TypeError,C=Object.defineProperty;j.f=d?C:function(L,B,W){if(w(L),B=N(B),w(W),S)try{return C(L,B,W)}catch(V){}if("get"in W||"set"in W)throw D("Accessors not supported");return"value"in W&&(L[B]=W.value),L}},function(E,j,s){var _=s(7),d=s(45),S=_.Object;E.exports=function(w){return S(d(w))}},function(E,j,s){var _=s(80),d=s(45);E.exports=function(S){return _(d(S))}},function(E,j,s){var _=s(7),d=s(97),S=_.String;E.exports=function(w){if(d(w)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return S(w)}},function(E,j,s){"use strict";var _=s(16),d=s(74).map;_({target:"Array",proto:!0,forced:!s(75)("map")},{map:function(S){return d(this,S,arguments.length>1?arguments[1]:void 0)}})},function(E,j,s){"use strict";(function(_){s.d(j,"d",function(){return w}),s.d(j,"c",function(){return N}),s.d(j,"b",function(){return D}),s.d(j,"a",function(){return L});var d=s(10),S=function(B,W){var V=typeof Symbol=="function"&&B[Symbol.iterator];if(!V)return B;var re,ae,ue=V.call(B),ne=[];try{for(;(W===void 0||W-- >0)&&!(re=ue.next()).done;)ne.push(re.value)}catch(fe){ae={error:fe}}finally{try{re&&!re.done&&(V=ue.return)&&V.call(ue)}finally{if(ae)throw ae.error}}return ne};function w(){var B=S(Object(d.j)(0),2)[1];return Object(d.h)(function(){B(function(W){return W+1})},[])}function N(B){if(!B||typeof B!="object")return!1;var W=Object.getPrototypeOf(B);return!W||W===Object.prototype}function D(B){return typeof Symbol=="function"?Symbol.for(B):"__$mobx-react "+B+"__"}var C={};function L(){return typeof window!="undefined"?window:_!==void 0?_:typeof self!="undefined"?self:C}}).call(this,s(81))},function(E,j,s){var _=s(89);E.exports=function(d){return _(d.length)}},function(E,j,s){var _=s(7),d=s(28),S=s(34),w=s(57),N=s(108),D=s(91),C=s(56),L=s(93).CONFIGURABLE,B=C.get,W=C.enforce,V=String(String).split("String");(E.exports=function(re,ae,ue,ne){var fe,$=!!ne&&!!ne.unsafe,ee=!!ne&&!!ne.enumerable,de=!!ne&&!!ne.noTargetGet,U=ne&&ne.name!==void 0?ne.name:ae;d(ue)&&(String(U).slice(0,7)==="Symbol("&&(U="["+String(U).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!S(ue,"name")||L&&ue.name!==U)&&w(ue,"name",U),(fe=W(ue)).source||(fe.source=V.join(typeof U=="string"?U:""))),re!==_?($?!de&&re[ae]&&(ee=!0):delete re[ae],ee?re[ae]=ue:w(re,ae,ue)):ee?re[ae]=ue:N(ae,ue)})(Function.prototype,"toString",function(){return d(this)&&B(this).source||D(this)})},function(E,j,s){var _=s(7).TypeError;E.exports=function(d){if(d==null)throw _("Can't call method on "+d);return d}},function(E,j,s){var _=s(7),d=s(28),S=function(w){return d(w)?w:void 0};E.exports=function(w,N){return arguments.length<2?S(_[w]):_[w]&&_[w][N]}},function(E,j,s){var _=s(16),d=s(35),S=s(33),w=s(32),N=s(199),D=s(51),C=s(95);_({target:"Reflect",stat:!0},{get:function L(B,W){var V,re,ae=arguments.length<3?B:arguments[2];return w(B)===ae?B[W]:(V=D.f(B,W))?N(V)?V.value:V.get===void 0?void 0:d(V.get,ae):S(re=C(B))?L(re,W,ae):void 0}})},function(E,j,s){"use strict";(function(_){var d=s(30),S=s(164),w=St&&!St.nodeType&&St,N=w&&typeof _=="object"&&_&&!_.nodeType&&_,D=N&&N.exports===w?d.a.Buffer:void 0,C=(D?D.isBuffer:void 0)||S.a;j.a=C}).call(this,s(121)(E))},function(E,j,s){"use strict";(function(_){var d=s(105),S=St&&!St.nodeType&&St,w=S&&typeof _=="object"&&_&&!_.nodeType&&_,N=w&&w.exports===S&&d.a.process,D=function(){try{var C=w&&w.require&&w.require("util").types;return C||N&&N.binding&&N.binding("util")}catch(L){}}();j.a=D}).call(this,s(121)(E))},function(E,j,s){var _=s(15),d=_({}.toString),S=_("".slice);E.exports=function(w){return S(d(w),8,-1)}},function(E,j,s){var _=s(36),d=s(35),S=s(92),w=s(71),N=s(39),D=s(86),C=s(34),L=s(129),B=Object.getOwnPropertyDescriptor;j.f=_?B:function(W,V){if(W=N(W),V=D(V),L)try{return B(W,V)}catch(re){}if(C(W,V))return w(!d(S.f,W,V),W[V])}},function(E,j,s){var _=s(16),d=s(213).entries;_({target:"Object",stat:!0},{entries:function(S){return d(S)}})},function(E,j,s){var _=s(46);E.exports=_("navigator","userAgent")||""},function(E,j,s){var _,d=s(32),S=s(167),w=s(110),N=s(69),D=s(133),C=s(85),L=s(90),B=L("IE_PROTO"),W=function(){},V=function(ue){return"<script>"+ue+"</script>"},re=function(ue){ue.write(V("")),ue.close();var ne=ue.parentWindow.Object;return ue=null,ne},ae=function(){try{_=new ActiveXObject("htmlfile")}catch($){}var ue,ne;ae=typeof document!="undefined"?document.domain&&_?re(_):((ne=C("iframe")).style.display="none",D.appendChild(ne),ne.src=String("javascript:"),(ue=ne.contentWindow.document).open(),ue.write(V("document.F=Object")),ue.close(),ue.F):re(_);for(var fe=w.length;fe--;)delete ae.prototype[w[fe]];return ae()};N[B]=!0,E.exports=Object.create||function(ue,ne){var fe;return ue!==null?(W.prototype=d(ue),fe=new W,W.prototype=null,fe[B]=ue):fe=ae(),ne===void 0?fe:S(fe,ne)}},function(E,j,s){var _=s(7),d=s(28),S=s(88),w=_.TypeError;E.exports=function(N){if(d(N))return N;throw w(S(N)+" is not a function")}},function(E,j,s){var _,d,S,w=s(169),N=s(7),D=s(15),C=s(33),L=s(57),B=s(34),W=s(107),V=s(90),re=s(69),ae=N.TypeError,ue=N.WeakMap;if(w||W.state){var ne=W.state||(W.state=new ue),fe=D(ne.get),$=D(ne.has),ee=D(ne.set);_=function(U,he){if($(ne,U))throw new ae("Object already initialized");return he.facade=U,ee(ne,U,he),he},d=function(U){return fe(ne,U)||{}},S=function(U){return $(ne,U)}}else{var de=V("state");re[de]=!0,_=function(U,he){if(B(U,de))throw new ae("Object already initialized");return he.facade=U,L(U,de,he),he},d=function(U){return B(U,de)?U[de]:{}},S=function(U){return B(U,de)}}E.exports={set:_,get:d,has:S,enforce:function(U){return S(U)?d(U):_(U,{})},getterFor:function(U){return function(he){var z;if(!C(he)||(z=d(he)).type!==U)throw ae("Incompatible receiver, "+U+" required");return z}}}},function(E,j,s){var _=s(36),d=s(37),S=s(71);E.exports=_?function(w,N,D){return d.f(w,N,S(1,D))}:function(w,N,D){return w[N]=D,w}},function(E,j,s){var _=s(15);E.exports=_({}.isPrototypeOf)},function(E,j,s){var _=s(55);E.exports=function(d,S){var w=d[S];return w==null?void 0:_(w)}},function(E,j,s){"use strict";s(172)("Map",function(_){return function(){return _(this,arguments.length?arguments[0]:void 0)}},s(176))},function(E,j,s){"use strict";var _=s(86),d=s(37),S=s(71);E.exports=function(w,N,D){var C=_(N);C in w?d.f(w,C,S(0,D)):w[C]=D}},function(E,j,s){var _=s(15),d=s(55),S=_(_.bind);E.exports=function(w,N){return d(w),N===void 0?w:S?S(w,N):function(){return w.apply(N,arguments)}}},function(E,j,s){var _=s(16),d=s(214),S=s(82);_({target:"Array",proto:!0},{fill:d}),S("fill")},function(E,j){E.exports=!1},function(E,j,s){var _,d,S=s(7),w=s(53),N=S.process,D=S.Deno,C=N&&N.versions||D&&D.version,L=C&&C.v8;L&&(d=(_=L.split("."))[0]>0&&_[0]<4?1:+(_[0]+_[1])),!d&&w&&(!(_=w.match(/Edge\/(\d+)/))||_[1]>=74)&&(_=w.match(/Chrome\/(\d+)/))&&(d=+_[1]),E.exports=d},function(E,j,s){var _=s(131),d=s(110);E.exports=Object.keys||function(S){return _(S,d)}},function(E,j,s){var _=s(68),d=Math.max,S=Math.min;E.exports=function(w,N){var D=_(w);return D<0?d(D+N,0):S(D,N)}},function(E,j){var s=Math.ceil,_=Math.floor;E.exports=function(d){var S=+d;return S!=S||S===0?0:(S>0?_:s)(S)}},function(E,j){E.exports={}},function(E,j){E.exports={}},function(E,j){E.exports=function(s,_){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:_}}},function(E,j,s){var _=s(131),d=s(110).concat("length","prototype");j.f=Object.getOwnPropertyNames||function(S){return _(S,d)}},function(E,j,s){var _=s(37).f,d=s(34),S=s(27)("toStringTag");E.exports=function(w,N,D){w&&!d(w=D?w:w.prototype,S)&&_(w,S,{configurable:!0,value:N})}},function(E,j,s){var _=s(62),d=s(15),S=s(80),w=s(38),N=s(43),D=s(119),C=d([].push),L=function(B){var W=B==1,V=B==2,re=B==3,ae=B==4,ue=B==6,ne=B==7,fe=B==5||ue;return function($,ee,de,U){for(var he,z,G=w($),H=S(G),te=_(ee,de),me=N(H),Pe=0,X=U||D,oe=W?X($,me):V||ne?X($,0):void 0;me>Pe;Pe++)if((fe||Pe in H)&&(z=te(he=H[Pe],Pe,G),B))if(W)oe[Pe]=z;else if(z)switch(B){case 3:return!0;case 5:return he;case 6:return Pe;case 2:C(oe,he)}else switch(B){case 4:return!1;case 7:C(oe,he)}return ue?-1:re||ae?ae:oe}};E.exports={forEach:L(0),map:L(1),filter:L(2),some:L(3),every:L(4),find:L(5),findIndex:L(6),filterReject:L(7)}},function(E,j,s){var _=s(18),d=s(27),S=s(65),w=d("species");E.exports=function(N){return S>=51||!_(function(){var D=[];return(D.constructor={})[w]=function(){return{foo:1}},D[N](Boolean).foo!==1})}},function(E,j){var s=Function.prototype,_=s.apply,d=s.bind,S=s.call;E.exports=typeof Reflect=="object"&&Reflect.apply||(d?S.bind(_):function(){return S.apply(_,arguments)})},function(E,j,s){"use strict";var _=s(76),d=s(35),S=s(15),w=s(122),N=s(154),D=s(32),C=s(45),L=s(156),B=s(123),W=s(89),V=s(40),re=s(59),ae=s(113),ue=s(124),ne=s(101),fe=s(151),$=s(18),ee=fe.UNSUPPORTED_Y,de=Math.min,U=[].push,he=S(/./.exec),z=S(U),G=S("".slice);w("split",function(H,te,me){var Pe;return Pe="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(X,oe){var Q=V(C(this)),ce=oe===void 0?4294967295:oe>>>0;if(ce===0)return[];if(X===void 0)return[Q];if(!N(X))return d(te,Q,X,ce);for(var xe,Te,Be,Ve=[],nt=(X.ignoreCase?"i":"")+(X.multiline?"m":"")+(X.unicode?"u":"")+(X.sticky?"y":""),Xe=0,Qe=new RegExp(X.source,nt+"g");(xe=d(ne,Qe,Q))&&!((Te=Qe.lastIndex)>Xe&&(z(Ve,G(Q,Xe,xe.index)),xe.length>1&&xe.index<Q.length&&_(U,Ve,ae(xe,1)),Be=xe[0].length,Xe=Te,Ve.length>=ce));)Qe.lastIndex===xe.index&&Qe.lastIndex++;return Xe===Q.length?!Be&&he(Qe,"")||z(Ve,""):z(Ve,G(Q,Xe)),Ve.length>ce?ae(Ve,0,ce):Ve}:"0".split(void 0,0).length?function(X,oe){return X===void 0&&oe===0?[]:d(te,this,X,oe)}:te,[function(X,oe){var Q=C(this),ce=X==null?void 0:re(X,H);return ce?d(ce,X,Q,oe):d(Pe,V(Q),X,oe)},function(X,oe){var Q=D(this),ce=V(X),xe=me(Pe,Q,ce,oe,Pe!==te);if(xe.done)return xe.value;var Te=L(Q,RegExp),Be=Q.unicode,Ve=(Q.ignoreCase?"i":"")+(Q.multiline?"m":"")+(Q.unicode?"u":"")+(ee?"g":"y"),nt=new Te(ee?"^(?:"+Q.source+")":Q,Ve),Xe=oe===void 0?4294967295:oe>>>0;if(Xe===0)return[];if(ce.length===0)return ue(nt,ce)===null?[ce]:[];for(var Qe=0,gt=0,se=[];gt<ce.length;){nt.lastIndex=ee?0:gt;var le,be=ue(nt,ee?G(ce,gt):ce);if(be===null||(le=de(W(nt.lastIndex+(ee?gt:0)),ce.length))===Qe)gt=B(ce,gt,Be);else{if(z(se,G(ce,Qe,gt)),se.length===Xe)return se;for(var De=1;De<=be.length-1;De++)if(z(se,be[De]),se.length===Xe)return se;gt=Qe=le}}return z(se,G(ce,Qe)),se}]},!!$(function(){var H=/(?:)/,te=H.exec;H.exec=function(){return te.apply(this,arguments)};var me="ab".split(H);return me.length!==2||me[0]!=="a"||me[1]!=="b"}),ee)},function(E,j,s){"use strict";var _=s(36),d=s(7),S=s(15),w=s(94),N=s(44),D=s(34),C=s(143),L=s(58),B=s(87),W=s(130),V=s(18),re=s(72).f,ae=s(51).f,ue=s(37).f,ne=s(196),fe=s(158).trim,$=d.Number,ee=$.prototype,de=d.TypeError,U=S("".slice),he=S("".charCodeAt),z=function(X){var oe=W(X,"number");return typeof oe=="bigint"?oe:G(oe)},G=function(X){var oe,Q,ce,xe,Te,Be,Ve,nt,Xe=W(X,"number");if(B(Xe))throw de("Cannot convert a Symbol value to a number");if(typeof Xe=="string"&&Xe.length>2){if(Xe=fe(Xe),(oe=he(Xe,0))===43||oe===45){if((Q=he(Xe,2))===88||Q===120)return NaN}else if(oe===48){switch(he(Xe,1)){case 66:case 98:ce=2,xe=49;break;case 79:case 111:ce=8,xe=55;break;default:return+Xe}for(Be=(Te=U(Xe,2)).length,Ve=0;Ve<Be;Ve++)if((nt=he(Te,Ve))<48||nt>xe)return NaN;return parseInt(Te,ce)}}return+Xe};if(w("Number",!$(" 0o1")||!$("0b1")||$("+0x1"))){for(var H,te=function(X){var oe=arguments.length<1?0:$(z(X)),Q=this;return L(ee,Q)&&V(function(){ne(Q)})?C(Object(oe),Q,te):oe},me=_?re($):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Pe=0;me.length>Pe;Pe++)D($,H=me[Pe])&&!D(te,H)&&ue(te,H,ae($,H));te.prototype=ee,ee.constructor=te,N(d,"Number",te)}},function(E,j,s){s(16)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(E,j,s){var _=s(7),d=s(15),S=s(18),w=s(50),N=_.Object,D=d("".split);E.exports=S(function(){return!N("z").propertyIsEnumerable(0)})?function(C){return w(C)=="String"?D(C,""):N(C)}:N},function(E,j){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(_){typeof window=="object"&&(s=window)}E.exports=s},function(E,j,s){var _=s(27),d=s(54),S=s(37),w=_("unscopables"),N=Array.prototype;N[w]==null&&S.f(N,w,{configurable:!0,value:d(null)}),E.exports=function(D){N[w][D]=!0}},function(E,j,s){var _=s(64),d=s(107);(E.exports=function(S,w){return d[S]||(d[S]=w!==void 0?w:{})})("versions",[]).push({version:"3.19.3",mode:_?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(E,j,s){var _=s(15),d=0,S=Math.random(),w=_(1 .toString);E.exports=function(N){return"Symbol("+(N===void 0?"":N)+")_"+w(++d+S,36)}},function(E,j,s){var _=s(7),d=s(33),S=_.document,w=d(S)&&d(S.createElement);E.exports=function(N){return w?S.createElement(N):{}}},function(E,j,s){var _=s(130),d=s(87);E.exports=function(S){var w=_(S,"string");return d(w)?w:w+""}},function(E,j,s){var _=s(7),d=s(46),S=s(28),w=s(58),N=s(128),D=_.Object;E.exports=N?function(C){return typeof C=="symbol"}:function(C){var L=d("Symbol");return S(L)&&w(L.prototype,D(C))}},function(E,j,s){var _=s(7).String;E.exports=function(d){try{return _(d)}catch(S){return"Object"}}},function(E,j,s){var _=s(68),d=Math.min;E.exports=function(S){return S>0?d(_(S),9007199254740991):0}},function(E,j,s){var _=s(83),d=s(84),S=_("keys");E.exports=function(w){return S[w]||(S[w]=d(w))}},function(E,j,s){var _=s(15),d=s(28),S=s(107),w=_(Function.toString);d(S.inspectSource)||(S.inspectSource=function(N){return w(N)}),E.exports=S.inspectSource},function(E,j,s){"use strict";var _={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,S=d&&!_.call({1:2},1);j.f=S?function(w){var N=d(this,w);return!!N&&N.enumerable}:_},function(E,j,s){var _=s(36),d=s(34),S=Function.prototype,w=_&&Object.getOwnPropertyDescriptor,N=d(S,"name"),D=N&&function(){}.name==="something",C=N&&(!_||_&&w(S,"name").configurable);E.exports={EXISTS:N,PROPER:D,CONFIGURABLE:C}},function(E,j,s){var _=s(18),d=s(28),S=/#|\.prototype\./,w=function(B,W){var V=D[N(B)];return V==L||V!=C&&(d(W)?_(W):!!W)},N=w.normalize=function(B){return String(B).replace(S,".").toLowerCase()},D=w.data={},C=w.NATIVE="N",L=w.POLYFILL="P";E.exports=w},function(E,j,s){var _=s(7),d=s(34),S=s(28),w=s(38),N=s(90),D=s(137),C=N("IE_PROTO"),L=_.Object,B=L.prototype;E.exports=D?L.getPrototypeOf:function(W){var V=w(W);if(d(V,C))return V[C];var re=V.constructor;return S(re)&&V instanceof re?re.prototype:V instanceof L?B:null}},function(E,j,s){var _=s(15),d=s(32),S=s(171);E.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var w,N=!1,D={};try{(w=_(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(D,[]),N=D instanceof Array}catch(C){}return function(C,L){return d(C),S(L),N?w(C,L):C.__proto__=L,C}}():void 0)},function(E,j,s){var _=s(7),d=s(116),S=s(28),w=s(50),N=s(27)("toStringTag"),D=_.Object,C=w(function(){return arguments}())=="Arguments";E.exports=d?w:function(L){var B,W,V;return L===void 0?"Undefined":L===null?"Null":typeof(W=function(re,ae){try{return re[ae]}catch(ue){}}(B=D(L),N))=="string"?W:C?w(B):(V=w(B))=="Object"&&S(B.callee)?"Arguments":V}},function(E,j,s){var _=s(50);E.exports=Array.isArray||function(d){return _(d)=="Array"}},function(E,j,s){var _=s(15),d=s(18),S=s(28),w=s(97),N=s(46),D=s(91),C=function(){},L=[],B=N("Reflect","construct"),W=/^\s*(?:class|function)\b/,V=_(W.exec),re=!W.exec(C),ae=function(ue){if(!S(ue))return!1;try{return B(C,L,ue),!0}catch(ne){return!1}};E.exports=!B||d(function(){var ue;return ae(ae.call)||!ae(Object)||!ae(function(){ue=!0})||ue})?function(ue){if(!S(ue))return!1;switch(w(ue)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return re||!!V(W,D(ue))}:ae},function(E,j,s){var _=s(15);E.exports=_([].slice)},function(E,j,s){"use strict";var _,d,S=s(35),w=s(15),N=s(40),D=s(183),C=s(151),L=s(83),B=s(54),W=s(56).get,V=s(184),re=s(185),ae=L("native-string-replace",String.prototype.replace),ue=RegExp.prototype.exec,ne=ue,fe=w("".charAt),$=w("".indexOf),ee=w("".replace),de=w("".slice),U=(d=/b*/g,S(ue,_=/a/,"a"),S(ue,d,"a"),_.lastIndex!==0||d.lastIndex!==0),he=C.BROKEN_CARET,z=/()??/.exec("")[1]!==void 0;(U||z||he||V||re)&&(ne=function(G){var H,te,me,Pe,X,oe,Q,ce=this,xe=W(ce),Te=N(G),Be=xe.raw;if(Be)return Be.lastIndex=ce.lastIndex,H=S(ne,Be,Te),ce.lastIndex=Be.lastIndex,H;var Ve=xe.groups,nt=he&&ce.sticky,Xe=S(D,ce),Qe=ce.source,gt=0,se=Te;if(nt&&(Xe=ee(Xe,"y",""),$(Xe,"g")===-1&&(Xe+="g"),se=de(Te,ce.lastIndex),ce.lastIndex>0&&(!ce.multiline||ce.multiline&&fe(Te,ce.lastIndex-1)!==`
`)&&(Qe="(?: "+Qe+")",se=" "+se,gt++),te=new RegExp("^(?:"+Qe+")",Xe)),z&&(te=new RegExp("^"+Qe+"$(?!\\s)",Xe)),U&&(me=ce.lastIndex),Pe=S(ue,nt?te:ce,se),nt?Pe?(Pe.input=de(Pe.input,gt),Pe[0]=de(Pe[0],gt),Pe.index=ce.lastIndex,ce.lastIndex+=Pe[0].length):ce.lastIndex=0:U&&Pe&&(ce.lastIndex=ce.global?Pe.index+Pe[0].length:me),z&&Pe&&Pe.length>1&&S(ae,Pe[0],te,function(){for(X=1;X<arguments.length-2;X++)arguments[X]===void 0&&(Pe[X]=void 0)}),Pe&&Ve)for(Pe.groups=oe=B(null),X=0;X<Ve.length;X++)oe[(Q=Ve[X])[0]]=Pe[Q[1]];return Pe}),E.exports=ne},function(E,j,s){"use strict";var _=s(16),d=s(7),S=s(67),w=s(68),N=s(43),D=s(38),C=s(119),L=s(61),B=s(75)("splice"),W=d.TypeError,V=Math.max,re=Math.min;_({target:"Array",proto:!0,forced:!B},{splice:function(ae,ue){var ne,fe,$,ee,de,U,he=D(this),z=N(he),G=S(ae,z),H=arguments.length;if(H===0?ne=fe=0:H===1?(ne=0,fe=z-G):(ne=H-2,fe=re(V(w(ue),0),z-G)),z+ne-fe>9007199254740991)throw W("Maximum allowed length exceeded");for($=C(he,fe),ee=0;ee<fe;ee++)(de=G+ee)in he&&L($,ee,he[de]);if($.length=fe,ne<fe){for(ee=G;ee<z-fe;ee++)U=ee+ne,(de=ee+fe)in he?he[U]=he[de]:delete he[U];for(ee=z;ee>z-fe+ne;ee--)delete he[ee-1]}else if(ne>fe)for(ee=z-fe;ee>G;ee--)U=ee+ne-1,(de=ee+fe-1)in he?he[U]=he[de]:delete he[U];for(ee=0;ee<ne;ee++)he[ee+G]=arguments[ee+2];return he.length=z-fe+ne,$}})},function(E,j,s){"use strict";var _=s(16),d=s(15),S=s(80),w=s(39),N=s(120),D=d([].join),C=S!=Object,L=N("join",",");_({target:"Array",proto:!0,forced:C||!L},{join:function(B){return D(w(this),B===void 0?",":B)}})},function(E,j,s){"use strict";var _=s(16),d=s(201);_({target:"String",proto:!0,forced:s(202)("anchor")},{anchor:function(S){return d(this,"a","name",S)}})},function(E,j,s){"use strict";(function(_){var d=typeof _=="object"&&_&&_.Object===Object&&_;j.a=d}).call(this,s(81))},function(E,j,s){"use strict";(function(_){var d=s(30),S=St&&!St.nodeType&&St,w=S&&typeof _=="object"&&_&&!_.nodeType&&_,N=w&&w.exports===S?d.a.Buffer:void 0,D=N?N.allocUnsafe:void 0;j.a=function(C,L){if(L)return C.slice();var B=C.length,W=D?D(B):new C.constructor(B);return C.copy(W),W}}).call(this,s(121)(E))},function(E,j,s){var _=s(7),d=s(108),S=_["__core-js_shared__"]||d("__core-js_shared__",{});E.exports=S},function(E,j,s){var _=s(7),d=Object.defineProperty;E.exports=function(S,w){try{d(_,S,{value:w,configurable:!0,writable:!0})}catch(N){_[S]=w}return w}},function(E,j,s){var _=s(65),d=s(18);E.exports=!!Object.getOwnPropertySymbols&&!d(function(){var S=Symbol();return!String(S)||!(Object(S)instanceof Symbol)||!Symbol.sham&&_&&_<41})},function(E,j){E.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(E,j,s){"use strict";var _=s(16),d=s(35),S=s(64),w=s(93),N=s(28),D=s(170),C=s(95),L=s(96),B=s(73),W=s(57),V=s(44),re=s(27),ae=s(70),ue=s(136),ne=w.PROPER,fe=w.CONFIGURABLE,$=ue.IteratorPrototype,ee=ue.BUGGY_SAFARI_ITERATORS,de=re("iterator"),U=function(){return this};E.exports=function(he,z,G,H,te,me,Pe){D(G,z,H);var X,oe,Q,ce=function(Qe){if(Qe===te&&nt)return nt;if(!ee&&Qe in Be)return Be[Qe];switch(Qe){case"keys":case"values":case"entries":return function(){return new G(this,Qe)}}return function(){return new G(this)}},xe=z+" Iterator",Te=!1,Be=he.prototype,Ve=Be[de]||Be["@@iterator"]||te&&Be[te],nt=!ee&&Ve||ce(te),Xe=z=="Array"&&Be.entries||Ve;if(Xe&&(X=C(Xe.call(new he)))!==Object.prototype&&X.next&&(S||C(X)===$||(L?L(X,$):N(X[de])||V(X,de,U)),B(X,xe,!0,!0),S&&(ae[xe]=U)),ne&&te=="values"&&Ve&&Ve.name!=="values"&&(!S&&fe?W(Be,"name","values"):(Te=!0,nt=function(){return d(Ve,this)})),te)if(oe={values:ce("values"),keys:me?nt:ce("keys"),entries:ce("entries")},Pe)for(Q in oe)(ee||Te||!(Q in Be))&&V(Be,Q,oe[Q]);else _({target:z,proto:!0,forced:ee||Te},oe);return S&&!Pe||Be[de]===nt||V(Be,de,nt,{name:te}),ae[z]=nt,oe}},function(E,j){j.f=Object.getOwnPropertySymbols},function(E,j,s){var _=s(7),d=s(67),S=s(43),w=s(61),N=_.Array,D=Math.max;E.exports=function(C,L,B){for(var W=S(C),V=d(L,W),re=d(B===void 0?W:B,W),ae=N(D(re-V,0)),ue=0;V<re;V++,ue++)w(ae,ue,C[V]);return ae.length=ue,ae}},function(E,j,s){var _=s(7),d=s(62),S=s(35),w=s(32),N=s(88),D=s(140),C=s(43),L=s(58),B=s(141),W=s(115),V=s(142),re=_.TypeError,ae=function(ne,fe){this.stopped=ne,this.result=fe},ue=ae.prototype;E.exports=function(ne,fe,$){var ee,de,U,he,z,G,H,te=$&&$.that,me=!(!$||!$.AS_ENTRIES),Pe=!(!$||!$.IS_ITERATOR),X=!(!$||!$.INTERRUPTED),oe=d(fe,te),Q=function(xe){return ee&&V(ee,"normal",xe),new ae(!0,xe)},ce=function(xe){return me?(w(xe),X?oe(xe[0],xe[1],Q):oe(xe[0],xe[1])):X?oe(xe,Q):oe(xe)};if(Pe)ee=ne;else{if(!(de=W(ne)))throw re(N(ne)+" is not iterable");if(D(de)){for(U=0,he=C(ne);he>U;U++)if((z=ce(ne[U]))&&L(ue,z))return z;return new ae(!1)}ee=B(ne,de)}for(G=ee.next;!(H=S(G,ee)).done;){try{z=ce(H.value)}catch(xe){V(ee,"throw",xe)}if(typeof z=="object"&&z&&L(ue,z))return z}return new ae(!1)}},function(E,j,s){var _=s(97),d=s(59),S=s(70),w=s(27)("iterator");E.exports=function(N){if(N!=null)return d(N,w)||d(N,"@@iterator")||S[_(N)]}},function(E,j,s){var _={};_[s(27)("toStringTag")]="z",E.exports=String(_)==="[object z]"},function(E,j,s){var _=s(7),d=s(58),S=_.TypeError;E.exports=function(w,N){if(d(N,w))return w;throw S("Incorrect invocation")}},function(E,j,s){var _=s(27)("iterator"),d=!1;try{var S=0,w={next:function(){return{done:!!S++}},return:function(){d=!0}};w[_]=function(){return this},Array.from(w,function(){throw 2})}catch(N){}E.exports=function(N,D){if(!D&&!d)return!1;var C=!1;try{var L={};L[_]=function(){return{next:function(){return{done:C=!0}}}},N(L)}catch(B){}return C}},function(E,j,s){var _=s(179);E.exports=function(d,S){return new(_(d))(S===0?0:S)}},function(E,j,s){"use strict";var _=s(18);E.exports=function(d,S){var w=[][d];return!!w&&_(function(){w.call(null,S||function(){throw 1},1)})}},function(E,j){E.exports=function(s){if(!s.webpackPolyfill){var _=Object.create(s);_.children||(_.children=[]),Object.defineProperty(_,"loaded",{enumerable:!0,get:function(){return _.l}}),Object.defineProperty(_,"id",{enumerable:!0,get:function(){return _.i}}),Object.defineProperty(_,"exports",{enumerable:!0}),_.webpackPolyfill=1}return _}},function(E,j,s){"use strict";s(19);var _=s(15),d=s(44),S=s(101),w=s(18),N=s(27),D=s(57),C=N("species"),L=RegExp.prototype;E.exports=function(B,W,V,re){var ae=N(B),ue=!w(function(){var ee={};return ee[ae]=function(){return 7},""[B](ee)!=7}),ne=ue&&!w(function(){var ee=!1,de=/a/;return B==="split"&&((de={}).constructor={},de.constructor[C]=function(){return de},de.flags="",de[ae]=/./[ae]),de.exec=function(){return ee=!0,null},de[ae](""),!ee});if(!ue||!ne||V){var fe=_(/./[ae]),$=W(ae,""[B],function(ee,de,U,he,z){var G=_(ee),H=de.exec;return H===S||H===L.exec?ue&&!z?{done:!0,value:fe(de,U,he)}:{done:!0,value:G(U,de,he)}:{done:!1}});d(String.prototype,B,$[0]),d(L,ae,$[1])}re&&D(L[ae],"sham",!0)}},function(E,j,s){"use strict";var _=s(146).charAt;E.exports=function(d,S,w){return S+(w?_(d,S).length:1)}},function(E,j,s){var _=s(7),d=s(35),S=s(32),w=s(28),N=s(50),D=s(101),C=_.TypeError;E.exports=function(L,B){var W=L.exec;if(w(W)){var V=d(W,L,B);return V!==null&&S(V),V}if(N(L)==="RegExp")return d(D,L,B);throw C("RegExp#exec called on incompatible receiver")}},function(E,j,s){"use strict";var _=s(76),d=s(35),S=s(15),w=s(122),N=s(18),D=s(32),C=s(28),L=s(68),B=s(89),W=s(40),V=s(45),re=s(123),ae=s(59),ue=s(197),ne=s(124),fe=s(27)("replace"),$=Math.max,ee=Math.min,de=S([].concat),U=S([].push),he=S("".indexOf),z=S("".slice),G="a".replace(/./,"$0")==="$0",H=!!/./[fe]&&/./[fe]("a","$0")==="";w("replace",function(te,me,Pe){var X=H?"$":"$0";return[function(oe,Q){var ce=V(this),xe=oe==null?void 0:ae(oe,fe);return xe?d(xe,oe,ce,Q):d(me,W(ce),oe,Q)},function(oe,Q){var ce=D(this),xe=W(oe);if(typeof Q=="string"&&he(Q,X)===-1&&he(Q,"$<")===-1){var Te=Pe(me,ce,xe,Q);if(Te.done)return Te.value}var Be=C(Q);Be||(Q=W(Q));var Ve=ce.global;if(Ve){var nt=ce.unicode;ce.lastIndex=0}for(var Xe=[];;){var Qe=ne(ce,xe);if(Qe===null||(U(Xe,Qe),!Ve))break;W(Qe[0])===""&&(ce.lastIndex=re(xe,B(ce.lastIndex),nt))}for(var gt,se="",le=0,be=0;be<Xe.length;be++){for(var De=W((Qe=Xe[be])[0]),Ge=$(ee(L(Qe.index),xe.length),0),Ce=[],at=1;at<Qe.length;at++)U(Ce,(gt=Qe[at])===void 0?gt:String(gt));var rt=Qe.groups;if(Be){var vt=de([De],Ce,Ge,xe);rt!==void 0&&U(vt,rt);var it=W(_(Q,void 0,vt))}else it=ue(De,xe,Ge,Ce,rt,Q);Ge>=le&&(se+=z(xe,le,Ge)+it,le=Ge+De.length)}return se+z(xe,le)}]},!!N(function(){var te=/./;return te.exec=function(){var me=[];return me.groups={a:"7"},me},"".replace(te,"$<a>")!=="7"})||!G||H)},function(E,j,s){var _=s(50),d=s(7);E.exports=_(d.process)=="process"},function(E,j,s){s(16)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(E,j,s){var _=s(109);E.exports=_&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(E,j,s){var _=s(36),d=s(18),S=s(85);E.exports=!_&&!d(function(){return Object.defineProperty(S("div"),"a",{get:function(){return 7}}).a!=7})},function(E,j,s){var _=s(7),d=s(35),S=s(33),w=s(87),N=s(59),D=s(168),C=s(27),L=_.TypeError,B=C("toPrimitive");E.exports=function(W,V){if(!S(W)||w(W))return W;var re,ae=N(W,B);if(ae){if(V===void 0&&(V="default"),re=d(ae,W,V),!S(re)||w(re))return re;throw L("Can't convert object to primitive value")}return V===void 0&&(V="number"),D(W,V)}},function(E,j,s){var _=s(15),d=s(34),S=s(39),w=s(132).indexOf,N=s(69),D=_([].push);E.exports=function(C,L){var B,W=S(C),V=0,re=[];for(B in W)!d(N,B)&&d(W,B)&&D(re,B);for(;L.length>V;)d(W,B=L[V++])&&(~w(re,B)||D(re,B));return re}},function(E,j,s){var _=s(39),d=s(67),S=s(43),w=function(N){return function(D,C,L){var B,W=_(D),V=S(W),re=d(L,V);if(N&&C!=C){for(;V>re;)if((B=W[re++])!=B)return!0}else for(;V>re;re++)if((N||re in W)&&W[re]===C)return N||re||0;return!N&&-1}};E.exports={includes:w(!0),indexOf:w(!1)}},function(E,j,s){var _=s(46);E.exports=_("document","documentElement")},function(E,j,s){var _=s(34),d=s(135),S=s(51),w=s(37);E.exports=function(N,D){for(var C=d(D),L=w.f,B=S.f,W=0;W<C.length;W++){var V=C[W];_(N,V)||L(N,V,B(D,V))}}},function(E,j,s){var _=s(46),d=s(15),S=s(72),w=s(112),N=s(32),D=d([].concat);E.exports=_("Reflect","ownKeys")||function(C){var L=S.f(N(C)),B=w.f;return B?D(L,B(C)):L}},function(E,j,s){"use strict";var _,d,S,w=s(18),N=s(28),D=s(54),C=s(95),L=s(44),B=s(27),W=s(64),V=B("iterator"),re=!1;[].keys&&("next"in(S=[].keys())?(d=C(C(S)))!==Object.prototype&&(_=d):re=!0),_==null||w(function(){var ae={};return _[V].call(ae)!==ae})?_={}:W&&(_=D(_)),N(_[V])||L(_,V,function(){return this}),E.exports={IteratorPrototype:_,BUGGY_SAFARI_ITERATORS:re}},function(E,j,s){var _=s(18);E.exports=!_(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(E,j,s){var _=s(16),d=s(15),S=s(69),w=s(33),N=s(34),D=s(37).f,C=s(72),L=s(139),B=s(173),W=s(84),V=s(175),re=!1,ae=W("meta"),ue=0,ne=function($){D($,ae,{value:{objectID:"O"+ue++,weakData:{}}})},fe=E.exports={enable:function(){fe.enable=function(){},re=!0;var $=C.f,ee=d([].splice),de={};de[ae]=1,$(de).length&&(C.f=function(U){for(var he=$(U),z=0,G=he.length;z<G;z++)if(he[z]===ae){ee(he,z,1);break}return he},_({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:L.f}))},fastKey:function($,ee){if(!w($))return typeof $=="symbol"?$:(typeof $=="string"?"S":"P")+$;if(!N($,ae)){if(!B($))return"F";if(!ee)return"E";ne($)}return $[ae].objectID},getWeakData:function($,ee){if(!N($,ae)){if(!B($))return!0;if(!ee)return!1;ne($)}return $[ae].weakData},onFreeze:function($){return V&&re&&B($)&&!N($,ae)&&ne($),$}};S[ae]=!0},function(E,j,s){var _=s(50),d=s(39),S=s(72).f,w=s(113),N=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];E.exports.f=function(D){return N&&_(D)=="Window"?function(C){try{return S(C)}catch(L){return w(N)}}(D):S(d(D))}},function(E,j,s){var _=s(27),d=s(70),S=_("iterator"),w=Array.prototype;E.exports=function(N){return N!==void 0&&(d.Array===N||w[S]===N)}},function(E,j,s){var _=s(7),d=s(35),S=s(55),w=s(32),N=s(88),D=s(115),C=_.TypeError;E.exports=function(L,B){var W=arguments.length<2?D(L):B;if(S(W))return w(d(W,L));throw C(N(L)+" is not iterable")}},function(E,j,s){var _=s(35),d=s(32),S=s(59);E.exports=function(w,N,D){var C,L;d(w);try{if(!(C=S(w,"return"))){if(N==="throw")throw D;return D}C=_(C,w)}catch(B){L=!0,C=B}if(N==="throw")throw D;if(L)throw C;return d(C),D}},function(E,j,s){var _=s(28),d=s(33),S=s(96);E.exports=function(w,N,D){var C,L;return S&&_(C=N.constructor)&&C!==D&&d(L=C.prototype)&&L!==D.prototype&&S(w,L),w}},function(E,j,s){var _=s(44);E.exports=function(d,S,w){for(var N in S)_(d,N,S[N],w);return d}},function(E,j,s){"use strict";var _=s(46),d=s(37),S=s(27),w=s(36),N=S("species");E.exports=function(D){var C=_(D),L=d.f;w&&C&&!C[N]&&L(C,N,{configurable:!0,get:function(){return this}})}},function(E,j,s){var _=s(15),d=s(68),S=s(40),w=s(45),N=_("".charAt),D=_("".charCodeAt),C=_("".slice),L=function(B){return function(W,V){var re,ae,ue=S(w(W)),ne=d(V),fe=ue.length;return ne<0||ne>=fe?B?"":void 0:(re=D(ue,ne))<55296||re>56319||ne+1===fe||(ae=D(ue,ne+1))<56320||ae>57343?B?N(ue,ne):re:B?C(ue,ne,ne+2):ae-56320+(re-55296<<10)+65536}};E.exports={codeAt:L(!1),charAt:L(!0)}},function(E,j){E.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(E,j,s){var _=s(85)("span").classList,d=_&&_.constructor&&_.constructor.prototype;E.exports=d===Object.prototype?void 0:d},function(E,j,s){var _=s(27);j.f=_},function(E,j,s){var _=s(180),d=s(34),S=s(149),w=s(37).f;E.exports=function(N){var D=_.Symbol||(_.Symbol={});d(D,N)||w(D,N,{value:S.f(N)})}},function(E,j,s){var _=s(18),d=s(7).RegExp,S=_(function(){var D=d("a","y");return D.lastIndex=2,D.exec("abcd")!=null}),w=S||_(function(){return!d("a","y").sticky}),N=S||_(function(){var D=d("^r","gy");return D.lastIndex=2,D.exec("str")!=null});E.exports={BROKEN_CARET:N,MISSED_STICKY:w,UNSUPPORTED_Y:S}},function(E,j,s){"use strict";var _=s(16),d=s(132).includes,S=s(82);_({target:"Array",proto:!0},{includes:function(w){return d(this,w,arguments.length>1?arguments[1]:void 0)}}),S("includes")},function(E,j,s){"use strict";var _=s(16),d=s(15),S=s(192),w=s(45),N=s(40),D=s(193),C=d("".indexOf);_({target:"String",proto:!0,forced:!D("includes")},{includes:function(L){return!!~C(N(w(this)),N(S(L)),arguments.length>1?arguments[1]:void 0)}})},function(E,j,s){var _=s(33),d=s(50),S=s(27)("match");E.exports=function(w){var N;return _(w)&&((N=w[S])!==void 0?!!N:d(w)=="RegExp")}},function(E,j){var s,_,d=E.exports={};function S(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}function N(ue){if(s===setTimeout)return setTimeout(ue,0);if((s===S||!s)&&setTimeout)return s=setTimeout,setTimeout(ue,0);try{return s(ue,0)}catch(ne){try{return s.call(null,ue,0)}catch(fe){return s.call(this,ue,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:S}catch(ue){s=S}try{_=typeof clearTimeout=="function"?clearTimeout:w}catch(ue){_=w}})();var D,C=[],L=!1,B=-1;function W(){L&&D&&(L=!1,D.length?C=D.concat(C):B=-1,C.length&&V())}function V(){if(!L){var ue=N(W);L=!0;for(var ne=C.length;ne;){for(D=C,C=[];++B<ne;)D&&D[B].run();B=-1,ne=C.length}D=null,L=!1,function(fe){if(_===clearTimeout)return clearTimeout(fe);if((_===w||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(fe);try{_(fe)}catch($){try{return _.call(null,fe)}catch(ee){return _.call(this,fe)}}}(ue)}}function re(ue,ne){this.fun=ue,this.array=ne}function ae(){}d.nextTick=function(ue){var ne=new Array(arguments.length-1);if(arguments.length>1)for(var fe=1;fe<arguments.length;fe++)ne[fe-1]=arguments[fe];C.push(new re(ue,ne)),C.length!==1||L||N(V)},re.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=ae,d.addListener=ae,d.once=ae,d.off=ae,d.removeListener=ae,d.removeAllListeners=ae,d.emit=ae,d.prependListener=ae,d.prependOnceListener=ae,d.listeners=function(ue){return[]},d.binding=function(ue){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(ue){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(E,j,s){var _=s(32),d=s(157),S=s(27)("species");E.exports=function(w,N){var D,C=_(w).constructor;return C===void 0||(D=_(C)[S])==null?N:d(D)}},function(E,j,s){var _=s(7),d=s(99),S=s(88),w=_.TypeError;E.exports=function(N){if(d(N))return N;throw w(S(N)+" is not a constructor")}},function(E,j,s){var _=s(15),d=s(45),S=s(40),w=s(159),N=_("".replace),D="["+w+"]",C=RegExp("^"+D+D+"*"),L=RegExp(D+D+"*$"),B=function(W){return function(V){var re=S(d(V));return 1&W&&(re=N(re,C,"")),2&W&&(re=N(re,L,"")),re}};E.exports={start:B(1),end:B(2),trim:B(3)}},function(E,j){E.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(E,j,s){"use strict";var _=s(35),d=s(122),S=s(32),w=s(89),N=s(40),D=s(45),C=s(59),L=s(123),B=s(124);d("match",function(W,V,re){return[function(ae){var ue=D(this),ne=ae==null?void 0:C(ae,W);return ne?_(ne,ae,ue):new RegExp(ae)[W](N(ue))},function(ae){var ue=S(this),ne=N(ae),fe=re(V,ue,ne);if(fe.done)return fe.value;if(!ue.global)return B(ue,ne);var $=ue.unicode;ue.lastIndex=0;for(var ee,de=[],U=0;(ee=B(ue,ne))!==null;){var he=N(ee[0]);de[U]=he,he===""&&(ue.lastIndex=L(ne,w(ue.lastIndex),$)),U++}return U===0?null:de}]})},function(E,j,s){var _,d,S,w,N=s(7),D=s(76),C=s(62),L=s(28),B=s(34),W=s(18),V=s(133),re=s(100),ae=s(85),ue=s(162),ne=s(126),fe=N.setImmediate,$=N.clearImmediate,ee=N.process,de=N.Dispatch,U=N.Function,he=N.MessageChannel,z=N.String,G=0,H={};try{_=N.location}catch(oe){}var te=function(oe){if(B(H,oe)){var Q=H[oe];delete H[oe],Q()}},me=function(oe){return function(){te(oe)}},Pe=function(oe){te(oe.data)},X=function(oe){N.postMessage(z(oe),_.protocol+"//"+_.host)};fe&&$||(fe=function(oe){var Q=re(arguments,1);return H[++G]=function(){D(L(oe)?oe:U(oe),void 0,Q)},d(G),G},$=function(oe){delete H[oe]},ne?d=function(oe){ee.nextTick(me(oe))}:de&&de.now?d=function(oe){de.now(me(oe))}:he&&!ue?(w=(S=new he).port2,S.port1.onmessage=Pe,d=C(w.postMessage,w)):N.addEventListener&&L(N.postMessage)&&!N.importScripts&&_&&_.protocol!=="file:"&&!W(X)?(d=X,N.addEventListener("message",Pe,!1)):d="onreadystatechange"in ae("script")?function(oe){V.appendChild(ae("script")).onreadystatechange=function(){V.removeChild(this),te(oe)}}:function(oe){setTimeout(me(oe),0)}),E.exports={set:fe,clear:$}},function(E,j,s){var _=s(53);E.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(_)},function(E,j,s){"use strict";var _=s(55),d=function(S){var w,N;this.promise=new S(function(D,C){if(w!==void 0||N!==void 0)throw TypeError("Bad Promise constructor");w=D,N=C}),this.resolve=_(w),this.reject=_(N)};E.exports.f=function(S){return new d(S)}},function(E,j,s){"use strict";j.a=function(){return!1}},function(E,j,s){"use strict";(function(_){s.d(j,"a",function(){return ne});var d=s(0);function S(z){throw new Error("[mobx-utils] "+z)}function w(z,G){G===void 0&&(G="Illegal state"),z||S(G)}var N=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(N(Object.getPrototypeOf(z))||[])},D=function(z){return function(G){var H=N(G);return H.filter(function(te,me){return H.indexOf(te)===me})}(z).filter(function(G){return G!=="constructor"&&!~G.indexOf("__")})};function C(z){switch(this.state){case"pending":return z.pending&&z.pending(this.value);case"rejected":return z.rejected&&z.rejected(this.value);case"fulfilled":return z.fulfilled?z.fulfilled(this.value):this.value}}function L(z,G){if(w(arguments.length<=2,"fromPromise expects up to two arguments"),w(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var H=z;z.then(Object(d.k)("observableFromPromise-resolve",function(me){H.value=me,H.state="fulfilled"}),Object(d.k)("observableFromPromise-reject",function(me){H.value=me,H.state="rejected"})),H.isPromiseBasedObservable=!0,H.case=C;var te=G&&G.state==="fulfilled"?G.value:void 0;return Object(d.q)(H,{value:te,state:"pending"},{},{deep:!1}),H}(function(z){z.reject=Object(d.k)("fromPromise.reject",function(G){var H=z(Promise.reject(G));return H.state="rejected",H.value=G,H}),z.resolve=Object(d.k)("fromPromise.resolve",function(G){G===void 0&&(G=void 0);var H=z(Promise.resolve(G));return H.state="fulfilled",H.value=G,H})})(L||(L={}));var B=function(z,G,H,te){var me,Pe=arguments.length,X=Pe<3?G:te===null?te=Object.getOwnPropertyDescriptor(G,H):te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(z,G,H,te);else for(var oe=z.length-1;oe>=0;oe--)(me=z[oe])&&(X=(Pe<3?me(X):Pe>3?me(G,H,X):me(G,H))||X);return Pe>3&&X&&Object.defineProperty(G,H,X),X};(function(){function z(G,H){var te=this;Object(d.G)(function(){te.current=H,te.subscription=G.subscribe(te)})}z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function(G){this.current=G},z.prototype.complete=function(){this.dispose()},z.prototype.error=function(G){this.current=G,this.dispose()},B([d.C.ref],z.prototype,"current",void 0),B([d.k.bound],z.prototype,"next",null),B([d.k.bound],z.prototype,"complete",null),B([d.k.bound],z.prototype,"error",null)})();var W=function(){return(W=Object.assign||function(z){for(var G,H=1,te=arguments.length;H<te;H++)for(var me in G=arguments[H])Object.prototype.hasOwnProperty.call(G,me)&&(z[me]=G[me]);return z}).apply(this,arguments)},V=function(z,G,H,te){var me,Pe=arguments.length,X=Pe<3?G:te===null?te=Object.getOwnPropertyDescriptor(G,H):te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(z,G,H,te);else for(var oe=z.length-1;oe>=0;oe--)(me=z[oe])&&(X=(Pe<3?me(X):Pe>3?me(G,H,X):me(G,H))||X);return Pe>3&&X&&Object.defineProperty(G,H,X),X},re=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z(G){var H=this;this.model=G,this.localValues=d.C.map({}),this.localComputedValues=d.C.map({}),this.isPropertyDirty=function(te){return H.localValues.has(te)},w(Object(d.A)(G),"createViewModel expects an observable object"),D(G).forEach(function(te){if(te!==d.a&&te!=="__mobxDidRunLazyInitializers"){if(w(re.indexOf(te)===-1,"The propertyname "+te+" is reserved and cannot be used with viewModels"),Object(d.w)(G,te)){var me=Object(d.h)(G,te).derivation;H.localComputedValues.set(te,Object(d.m)(me.bind(H)))}var Pe=Object.getOwnPropertyDescriptor(G,te),X=Pe?{enumerable:Pe.enumerable}:{};Object.defineProperty(H,te,W(W({},X),{configurable:!0,get:function(){return Object(d.w)(G,te)?H.localComputedValues.get(te).get():H.isPropertyDirty(te)?H.localValues.get(te):H.model[te]},set:Object(d.k)(function(oe){oe!==H.model[te]?H.localValues.set(te,oe):H.localValues.delete(te)})}))}})}Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var G=this;Object(d.B)(this.localValues).forEach(function(H){var te=G.localValues.get(H),me=G.model[H];Object(d.y)(me)?me.replace(te):Object(d.z)(me)?(me.clear(),me.merge(te)):Object(d.v)(te)||(G.model[H]=te)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function(G){this.localValues.delete(G)},V([d.m],z.prototype,"isDirty",null),V([d.m],z.prototype,"changedValues",null),V([d.k.bound],z.prototype,"submit",null),V([d.k.bound],z.prototype,"reset",null),V([d.k.bound],z.prototype,"resetProperty",null)})();function ae(z){if(!z)return"ROOT";for(var G=[];z.parent;)G.push(z.path),z=z.parent;return G.reverse().join("/")}function ue(z){return Object(d.A)(z)||Object(d.y)(z)||Object(d.z)(z)}function ne(z,G){var H=new WeakMap;function te(X){var oe=H.get(X.object);(function(Q,ce){switch(Q.type){case"add":me(Q.newValue,ce,Q.name);break;case"update":Pe(Q.oldValue),me(Q.newValue,ce,Q.name||""+Q.index);break;case"remove":case"delete":Pe(Q.oldValue);break;case"splice":Q.removed.map(Pe),Q.added.forEach(function(Be,Ve){return me(Be,ce,""+(Q.index+Ve))});for(var xe=Q.index+Q.addedCount;xe<Q.object.length;xe++)if(ue(Q.object[xe])){var Te=H.get(Q.object[xe]);Te&&(Te.path=""+xe)}}})(X,oe),G(X,ae(oe),z)}function me(X,oe,Q){if(ue(X)){var ce=H.get(X);if(ce){if(ce.parent!==oe||ce.path!==Q)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+ae(oe)+"/"+Q+"', but it already exists at '"+ae(ce.parent)+"/"+ce.path+"'")}else{var xe={parent:oe,path:Q,dispose:Object(d.D)(X,te)};H.set(X,xe),Object(d.p)(X).forEach(function(Te){var Be=Te[0];return me(Te[1],xe,Be)})}}}function Pe(X){if(ue(X)){var oe=H.get(X);if(!oe)return;H.delete(X),oe.dispose(),Object(d.L)(X).forEach(Pe)}}return me(z,void 0,""),function(){Pe(z)}}var fe,$=(fe=function(z,G){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,te){H.__proto__=te}||function(H,te){for(var me in te)te.hasOwnProperty(me)&&(H[me]=te[me])})(z,G)},function(z,G){function H(){this.constructor=z}fe(z,G),z.prototype=G===null?Object.create(G):(H.prototype=G.prototype,new H)}),ee=(function(z){function G(H,te,me){var Pe=me===void 0?{}:me,X=Pe.name,oe=X===void 0?"ogm"+(1e3*Math.random()|0):X,Q=Pe.keyToName,ce=Q===void 0?function(Be){return""+Be}:Q,xe=z.call(this)||this;xe._keyToName=ce,xe._groupBy=te,xe._ogmInfoKey=Symbol("ogmInfo"+oe),xe._base=H;for(var Te=0;Te<H.length;Te++)xe._addItem(H[Te]);return xe._disposeBaseObserver=Object(d.D)(xe._base,function(Be){if(Be.type==="splice")Object(d.J)(function(){for(var Ve=0,nt=Be.removed;Ve<nt.length;Ve++){var Xe=nt[Ve];xe._removeItem(Xe)}for(var Qe=0,gt=Be.added;Qe<gt.length;Qe++){var se=gt[Qe];xe._addItem(se)}});else{if(Be.type!=="update")throw new Error("illegal state");Object(d.J)(function(){xe._removeItem(Be.oldValue),xe._addItem(Be.newValue)})}}),xe}$(G,z),G.prototype.clear=function(){throw new Error("not supported")},G.prototype.delete=function(H){throw new Error("not supported")},G.prototype.set=function(H,te){throw new Error("not supported")},G.prototype.dispose=function(){this._disposeBaseObserver();for(var H=0;H<this._base.length;H++){var te=this._base[H];te[this._ogmInfoKey].reaction(),delete te[this._ogmInfoKey]}},G.prototype._getGroupArr=function(H){var te=z.prototype.get.call(this,H);return te===void 0&&(te=Object(d.C)([],{name:"GroupArray["+this._keyToName(H)+"]",deep:!1}),z.prototype.set.call(this,H,te)),te},G.prototype._removeFromGroupArr=function(H,te){var me=z.prototype.get.call(this,H);me.length===1?z.prototype.delete.call(this,H):(te===me.length-1||(me[te]=me[me.length-1],me[te][this._ogmInfoKey].groupArrIndex=te),me.length--)},G.prototype._addItem=function(H){var te=this,me=this._groupBy(H),Pe=this._getGroupArr(me),X={groupByValue:me,groupArrIndex:Pe.length,reaction:Object(d.F)(function(){return te._groupBy(H)},function(oe,Q){var ce=H[te._ogmInfoKey];te._removeFromGroupArr(ce.groupByValue,ce.groupArrIndex);var xe=te._getGroupArr(oe),Te=xe.length;xe.push(H),ce.groupByValue=oe,ce.groupArrIndex=Te})};Object.defineProperty(H,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:X}),Pe.push(H)},G.prototype._removeItem=function(H){var te=H[this._ogmInfoKey];this._removeFromGroupArr(te.groupByValue,te.groupArrIndex),te.reaction(),delete H[this._ogmInfoKey]}}(d.b),function(){function z(G,H){this.base=G,this.args=H,this.closestIdx=0,this.isDisposed=!1;for(var te=this.closest=this.root=G,me=0;me<this.args.length-1&&(te=te.get(H[me]));me++)this.closest=te;this.closestIdx=me}return z.prototype.exists=function(){this.assertNotDisposed();var G=this.args.length;return this.closestIdx>=G-1&&this.closest.has(this.args[G-1])},z.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},z.prototype.set=function(G){this.assertNotDisposed();for(var H=this.args.length,te=this.closest,me=this.closestIdx;me<H-1;me++){var Pe=new Map;te.set(this.args[me],Pe),te=Pe}this.closestIdx=H-1,this.closest=te,te.set(this.args[H-1],G)},z.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var G=this.args.length;this.closest.delete(this.args[G-1]);for(var H=this.root,te=[H],me=0;me<G-1;me++)H=H.get(this.args[me]),te.push(H);for(me=te.length-1;me>0;me--)te[me].size===0&&te[me-1].delete(this.args[me-1]);this.isDisposed=!0},z.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},z}());(function(){function z(){this.store=new Map,this.argsLength=-1}z.prototype.entry=function(G){if(this.argsLength===-1)this.argsLength=G.length;else if(this.argsLength!==G.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+G.length);return this.last&&(this.last.isDisposed=!0),this.last=new ee(this.store,G)}})(),new Set,new Set;var de,U=Promise.resolve();de=typeof queueMicrotask!="undefined"?queueMicrotask:_!==void 0&&_.nextTick?function(z){_.nextTick(z)}:function(z){setTimeout(z,0)};var he=function(){return new Promise(function(z){de(z)})}}).call(this,s(155))},function(E,j,s){var _;(function(d,S,w){if(d){for(var N,D={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},C={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},L={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},B={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},W=1;W<20;++W)D[111+W]="f"+W;for(W=0;W<=9;++W)D[W+96]=W.toString();fe.prototype.bind=function($,ee,de){return $=$ instanceof Array?$:[$],this._bindMultiple.call(this,$,ee,de),this},fe.prototype.unbind=function($,ee){return this.bind.call(this,$,function(){},ee)},fe.prototype.trigger=function($,ee){return this._directMap[$+":"+ee]&&this._directMap[$+":"+ee]({},$),this},fe.prototype.reset=function(){return this._callbacks={},this._directMap={},this},fe.prototype.stopCallback=function($,ee){if((" "+ee.className+" ").indexOf(" mousetrap ")>-1||function U(he,z){return he!==null&&he!==S&&(he===z||U(he.parentNode,z))}(ee,this.target))return!1;if("composedPath"in $&&typeof $.composedPath=="function"){var de=$.composedPath()[0];de!==$.target&&(ee=de)}return ee.tagName=="INPUT"||ee.tagName=="SELECT"||ee.tagName=="TEXTAREA"||ee.isContentEditable},fe.prototype.handleKey=function(){var $=this;return $._handleKey.apply($,arguments)},fe.addKeycodes=function($){for(var ee in $)$.hasOwnProperty(ee)&&(D[ee]=$[ee]);N=null},fe.init=function(){var $=fe(S);for(var ee in $)ee.charAt(0)!=="_"&&(fe[ee]=function(de){return function(){return $[de].apply($,arguments)}}(ee))},fe.init(),d.Mousetrap=fe,E.exports&&(E.exports=fe),(_=function(){return fe}.call(j,s,j,E))===void 0||(E.exports=_)}function V($,ee,de){$.addEventListener?$.addEventListener(ee,de,!1):$.attachEvent("on"+ee,de)}function re($){if($.type=="keypress"){var ee=String.fromCharCode($.which);return $.shiftKey||(ee=ee.toLowerCase()),ee}return D[$.which]?D[$.which]:C[$.which]?C[$.which]:String.fromCharCode($.which).toLowerCase()}function ae($){return $=="shift"||$=="ctrl"||$=="alt"||$=="meta"}function ue($,ee,de){return de||(de=function(){if(!N)for(var U in N={},D)U>95&&U<112||D.hasOwnProperty(U)&&(N[D[U]]=U);return N}()[$]?"keydown":"keypress"),de=="keypress"&&ee.length&&(de="keydown"),de}function ne($,ee){var de,U,he,z=[];for(de=function(G){return G==="+"?["+"]:(G=G.replace(/\+{2}/g,"+plus")).split("+")}($),he=0;he<de.length;++he)U=de[he],B[U]&&(U=B[U]),ee&&ee!="keypress"&&L[U]&&(U=L[U],z.push("shift")),ae(U)&&z.push(U);return{key:U,modifiers:z,action:ee=ue(U,z,ee)}}function fe($){var ee=this;if($=$||S,!(ee instanceof fe))return new fe($);ee.target=$,ee._callbacks={},ee._directMap={};var de,U={},he=!1,z=!1,G=!1;function H(Q){Q=Q||{};var ce,xe=!1;for(ce in U)Q[ce]?xe=!0:U[ce]=0;xe||(G=!1)}function te(Q,ce,xe,Te,Be,Ve){var nt,Xe,Qe,gt,se=[],le=xe.type;if(!ee._callbacks[Q])return[];for(le=="keyup"&&ae(Q)&&(ce=[Q]),nt=0;nt<ee._callbacks[Q].length;++nt)if(Xe=ee._callbacks[Q][nt],(Te||!Xe.seq||U[Xe.seq]==Xe.level)&&le==Xe.action&&(le=="keypress"&&!xe.metaKey&&!xe.ctrlKey||(Qe=ce,gt=Xe.modifiers,Qe.sort().join(",")===gt.sort().join(",")))){var be=!Te&&Xe.combo==Be,De=Te&&Xe.seq==Te&&Xe.level==Ve;(be||De)&&ee._callbacks[Q].splice(nt,1),se.push(Xe)}return se}function me(Q,ce,xe,Te){ee.stopCallback(ce,ce.target||ce.srcElement,xe,Te)||Q(ce,xe)===!1&&(function(Be){Be.preventDefault?Be.preventDefault():Be.returnValue=!1}(ce),function(Be){Be.stopPropagation?Be.stopPropagation():Be.cancelBubble=!0}(ce))}function Pe(Q){typeof Q.which!="number"&&(Q.which=Q.keyCode);var ce=re(Q);ce&&(Q.type!="keyup"||he!==ce?ee.handleKey(ce,function(xe){var Te=[];return xe.shiftKey&&Te.push("shift"),xe.altKey&&Te.push("alt"),xe.ctrlKey&&Te.push("ctrl"),xe.metaKey&&Te.push("meta"),Te}(Q),Q):he=!1)}function X(Q,ce,xe,Te){function Be(Qe){return function(){G=Qe,++U[Q],clearTimeout(de),de=setTimeout(H,1e3)}}function Ve(Qe){me(xe,Qe,Q),Te!=="keyup"&&(he=re(Qe)),setTimeout(H,10)}U[Q]=0;for(var nt=0;nt<ce.length;++nt){var Xe=nt+1===ce.length?Ve:Be(Te||ne(ce[nt+1]).action);oe(ce[nt],Xe,Te,Q,nt)}}function oe(Q,ce,xe,Te,Be){ee._directMap[Q+":"+xe]=ce;var Ve,nt=(Q=Q.replace(/\s+/g," ")).split(" ");nt.length>1?X(Q,nt,ce,xe):(Ve=ne(Q,xe),ee._callbacks[Ve.key]=ee._callbacks[Ve.key]||[],te(Ve.key,Ve.modifiers,{type:Ve.action},Te,Q,Be),ee._callbacks[Ve.key][Te?"unshift":"push"]({callback:ce,modifiers:Ve.modifiers,action:Ve.action,seq:Te,level:Be,combo:Q}))}ee._handleKey=function(Q,ce,xe){var Te,Be=te(Q,ce,xe),Ve={},nt=0,Xe=!1;for(Te=0;Te<Be.length;++Te)Be[Te].seq&&(nt=Math.max(nt,Be[Te].level));for(Te=0;Te<Be.length;++Te)if(Be[Te].seq){if(Be[Te].level!=nt)continue;Xe=!0,Ve[Be[Te].seq]=1,me(Be[Te].callback,xe,Be[Te].combo,Be[Te].seq)}else Xe||me(Be[Te].callback,xe,Be[Te].combo);var Qe=xe.type=="keypress"&&z;xe.type!=G||ae(Q)||Qe||H(Ve),z=Xe&&xe.type=="keydown"},ee._bindMultiple=function(Q,ce,xe){for(var Te=0;Te<Q.length;++Te)oe(Q[Te],ce,xe)},V($,"keypress",Pe),V($,"keydown",Pe),V($,"keyup",Pe)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(E,j,s){var _=s(36),d=s(37),S=s(32),w=s(39),N=s(66);E.exports=_?Object.defineProperties:function(D,C){S(D);for(var L,B=w(C),W=N(C),V=W.length,re=0;V>re;)d.f(D,L=W[re++],B[L]);return D}},function(E,j,s){var _=s(7),d=s(35),S=s(28),w=s(33),N=_.TypeError;E.exports=function(D,C){var L,B;if(C==="string"&&S(L=D.toString)&&!w(B=d(L,D))||S(L=D.valueOf)&&!w(B=d(L,D))||C!=="string"&&S(L=D.toString)&&!w(B=d(L,D)))return B;throw N("Can't convert object to primitive value")}},function(E,j,s){var _=s(7),d=s(28),S=s(91),w=_.WeakMap;E.exports=d(w)&&/native code/.test(S(w))},function(E,j,s){"use strict";var _=s(136).IteratorPrototype,d=s(54),S=s(71),w=s(73),N=s(70),D=function(){return this};E.exports=function(C,L,B,W){var V=L+" Iterator";return C.prototype=d(_,{next:S(+!W,B)}),w(C,V,!1,!0),N[V]=D,C}},function(E,j,s){var _=s(7),d=s(28),S=_.String,w=_.TypeError;E.exports=function(N){if(typeof N=="object"||d(N))return N;throw w("Can't set "+S(N)+" as a prototype")}},function(E,j,s){"use strict";var _=s(16),d=s(7),S=s(15),w=s(94),N=s(44),D=s(138),C=s(114),L=s(117),B=s(28),W=s(33),V=s(18),re=s(118),ae=s(73),ue=s(143);E.exports=function(ne,fe,$){var ee=ne.indexOf("Map")!==-1,de=ne.indexOf("Weak")!==-1,U=ee?"set":"add",he=d[ne],z=he&&he.prototype,G=he,H={},te=function(ce){var xe=S(z[ce]);N(z,ce,ce=="add"?function(Te){return xe(this,Te===0?0:Te),this}:ce=="delete"?function(Te){return!(de&&!W(Te))&&xe(this,Te===0?0:Te)}:ce=="get"?function(Te){return de&&!W(Te)?void 0:xe(this,Te===0?0:Te)}:ce=="has"?function(Te){return!(de&&!W(Te))&&xe(this,Te===0?0:Te)}:function(Te,Be){return xe(this,Te===0?0:Te,Be),this})};if(w(ne,!B(he)||!(de||z.forEach&&!V(function(){new he().entries().next()}))))G=$.getConstructor(fe,ne,ee,U),D.enable();else if(w(ne,!0)){var me=new G,Pe=me[U](de?{}:-0,1)!=me,X=V(function(){me.has(1)}),oe=re(function(ce){new he(ce)}),Q=!de&&V(function(){for(var ce=new he,xe=5;xe--;)ce[U](xe,xe);return!ce.has(-0)});oe||((G=fe(function(ce,xe){L(ce,z);var Te=ue(new he,ce,G);return xe!=null&&C(xe,Te[U],{that:Te,AS_ENTRIES:ee}),Te})).prototype=z,z.constructor=G),(X||Q)&&(te("delete"),te("has"),ee&&te("get")),(Q||Pe)&&te(U),de&&z.clear&&delete z.clear}return H[ne]=G,_({global:!0,forced:G!=he},H),ae(G,ne),de||$.setStrong(G,ne,ee),G}},function(E,j,s){var _=s(18),d=s(33),S=s(50),w=s(174),N=Object.isExtensible,D=_(function(){N(1)});E.exports=D||w?function(C){return!!d(C)&&(!w||S(C)!="ArrayBuffer")&&(!N||N(C))}:N},function(E,j,s){var _=s(18);E.exports=_(function(){if(typeof ArrayBuffer=="function"){var d=new ArrayBuffer(8);Object.isExtensible(d)&&Object.defineProperty(d,"a",{value:8})}})},function(E,j,s){var _=s(18);E.exports=!_(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(E,j,s){"use strict";var _=s(37).f,d=s(54),S=s(144),w=s(62),N=s(117),D=s(114),C=s(111),L=s(145),B=s(36),W=s(138).fastKey,V=s(56),re=V.set,ae=V.getterFor;E.exports={getConstructor:function(ue,ne,fe,$){var ee=ue(function(G,H){N(G,de),re(G,{type:ne,index:d(null),first:void 0,last:void 0,size:0}),B||(G.size=0),H!=null&&D(H,G[$],{that:G,AS_ENTRIES:fe})}),de=ee.prototype,U=ae(ne),he=function(G,H,te){var me,Pe,X=U(G),oe=z(G,H);return oe?oe.value=te:(X.last=oe={index:Pe=W(H,!0),key:H,value:te,previous:me=X.last,next:void 0,removed:!1},X.first||(X.first=oe),me&&(me.next=oe),B?X.size++:G.size++,Pe!=="F"&&(X.index[Pe]=oe)),G},z=function(G,H){var te,me=U(G),Pe=W(H);if(Pe!=="F")return me.index[Pe];for(te=me.first;te;te=te.next)if(te.key==H)return te};return S(de,{clear:function(){for(var G=U(this),H=G.index,te=G.first;te;)te.removed=!0,te.previous&&(te.previous=te.previous.next=void 0),delete H[te.index],te=te.next;G.first=G.last=void 0,B?G.size=0:this.size=0},delete:function(G){var H=U(this),te=z(this,G);if(te){var me=te.next,Pe=te.previous;delete H.index[te.index],te.removed=!0,Pe&&(Pe.next=me),me&&(me.previous=Pe),H.first==te&&(H.first=me),H.last==te&&(H.last=Pe),B?H.size--:this.size--}return!!te},forEach:function(G){for(var H,te=U(this),me=w(G,arguments.length>1?arguments[1]:void 0);H=H?H.next:te.first;)for(me(H.value,H.key,this);H&&H.removed;)H=H.previous},has:function(G){return!!z(this,G)}}),S(de,fe?{get:function(G){var H=z(this,G);return H&&H.value},set:function(G,H){return he(this,G===0?0:G,H)}}:{add:function(G){return he(this,G=G===0?0:G,G)}}),B&&_(de,"size",{get:function(){return U(this).size}}),ee},setStrong:function(ue,ne,fe){var $=ne+" Iterator",ee=ae(ne),de=ae($);C(ue,ne,function(U,he){re(this,{type:$,target:U,state:ee(U),kind:he,last:void 0})},function(){for(var U=de(this),he=U.kind,z=U.last;z&&z.removed;)z=z.previous;return U.target&&(U.last=z=z?z.next:U.state.first)?he=="keys"?{value:z.key,done:!1}:he=="values"?{value:z.value,done:!1}:{value:[z.key,z.value],done:!1}:(U.target=void 0,{value:void 0,done:!0})},fe?"entries":"values",!fe,!0),L(ne)}}},function(E,j,s){"use strict";var _=s(116),d=s(97);E.exports=_?{}.toString:function(){return"[object "+d(this)+"]"}},function(E,j,s){"use strict";var _=s(74).forEach,d=s(120)("forEach");E.exports=d?[].forEach:function(S){return _(this,S,arguments.length>1?arguments[1]:void 0)}},function(E,j,s){var _=s(7),d=s(98),S=s(99),w=s(33),N=s(27)("species"),D=_.Array;E.exports=function(C){var L;return d(C)&&(L=C.constructor,(S(L)&&(L===D||d(L.prototype))||w(L)&&(L=L[N])===null)&&(L=void 0)),L===void 0?D:L}},function(E,j,s){var _=s(7);E.exports=_},function(E,j,s){"use strict";var _=s(7),d=s(62),S=s(35),w=s(38),N=s(182),D=s(140),C=s(99),L=s(43),B=s(61),W=s(141),V=s(115),re=_.Array;E.exports=function(ae){var ue=w(ae),ne=C(this),fe=arguments.length,$=fe>1?arguments[1]:void 0,ee=$!==void 0;ee&&($=d($,fe>2?arguments[2]:void 0));var de,U,he,z,G,H,te=V(ue),me=0;if(!te||this==re&&D(te))for(de=L(ue),U=ne?new this(de):re(de);de>me;me++)H=ee?$(ue[me],me):ue[me],B(U,me,H);else for(G=(z=W(ue,te)).next,U=ne?new this:[];!(he=S(G,z)).done;me++)H=ee?N(z,$,[he.value,me],!0):he.value,B(U,me,H);return U.length=me,U}},function(E,j,s){var _=s(32),d=s(142);E.exports=function(S,w,N,D){try{return D?w(_(N)[0],N[1]):w(N)}catch(C){d(S,"throw",C)}}},function(E,j,s){"use strict";var _=s(32);E.exports=function(){var d=_(this),S="";return d.global&&(S+="g"),d.ignoreCase&&(S+="i"),d.multiline&&(S+="m"),d.dotAll&&(S+="s"),d.unicode&&(S+="u"),d.sticky&&(S+="y"),S}},function(E,j,s){var _=s(18),d=s(7).RegExp;E.exports=_(function(){var S=d(".","s");return!(S.dotAll&&S.exec(`
`)&&S.flags==="s")})},function(E,j,s){var _=s(18),d=s(7).RegExp;E.exports=_(function(){var S=d("(?<a>b)","g");return S.exec("b").groups.a!=="b"||"b".replace(S,"$<a>c")!=="bc"})},function(E,j,s){"use strict";var _=s(16),d=s(15),S=s(55),w=s(38),N=s(43),D=s(40),C=s(18),L=s(187),B=s(120),W=s(188),V=s(189),re=s(65),ae=s(190),ue=[],ne=d(ue.sort),fe=d(ue.push),$=C(function(){ue.sort(void 0)}),ee=C(function(){ue.sort(null)}),de=B("sort"),U=!C(function(){if(re)return re<70;if(!(W&&W>3)){if(V)return!0;if(ae)return ae<603;var he,z,G,H,te="";for(he=65;he<76;he++){switch(z=String.fromCharCode(he),he){case 66:case 69:case 70:case 72:G=3;break;case 68:case 71:G=4;break;default:G=2}for(H=0;H<47;H++)ue.push({k:z+H,v:G})}for(ue.sort(function(me,Pe){return Pe.v-me.v}),H=0;H<ue.length;H++)z=ue[H].k.charAt(0),te.charAt(te.length-1)!==z&&(te+=z);return te!=="DGBEFHACIJK"}});_({target:"Array",proto:!0,forced:$||!ee||!de||!U},{sort:function(he){he!==void 0&&S(he);var z=w(this);if(U)return he===void 0?ne(z):ne(z,he);var G,H,te=[],me=N(z);for(H=0;H<me;H++)H in z&&fe(te,z[H]);for(L(te,function(Pe){return function(X,oe){return oe===void 0?-1:X===void 0?1:Pe!==void 0?+Pe(X,oe)||0:D(X)>D(oe)?1:-1}}(he)),G=te.length,H=0;H<G;)z[H]=te[H++];for(;H<me;)delete z[H++];return z}})},function(E,j,s){var _=s(113),d=Math.floor,S=function(D,C){var L=D.length,B=d(L/2);return L<8?w(D,C):N(D,S(_(D,0,B),C),S(_(D,B),C),C)},w=function(D,C){for(var L,B,W=D.length,V=1;V<W;){for(B=V,L=D[V];B&&C(D[B-1],L)>0;)D[B]=D[--B];B!==V++&&(D[B]=L)}return D},N=function(D,C,L,B){for(var W=C.length,V=L.length,re=0,ae=0;re<W||ae<V;)D[re+ae]=re<W&&ae<V?B(C[re],L[ae])<=0?C[re++]:L[ae++]:re<W?C[re++]:L[ae++];return D};E.exports=S},function(E,j,s){var _=s(53).match(/firefox\/(\d+)/i);E.exports=!!_&&+_[1]},function(E,j,s){var _=s(53);E.exports=/MSIE|Trident/.test(_)},function(E,j,s){var _=s(53).match(/AppleWebKit\/(\d+)\./);E.exports=!!_&&+_[1]},function(E,j,s){"use strict";var _=s(16),d=s(74).find,S=s(82),w=!0;"find"in[]&&Array(1).find(function(){w=!1}),_({target:"Array",proto:!0,forced:w},{find:function(N){return d(this,N,arguments.length>1?arguments[1]:void 0)}}),S("find")},function(E,j,s){var _=s(7),d=s(154),S=_.TypeError;E.exports=function(w){if(d(w))throw S("The method doesn't accept regular expressions");return w}},function(E,j,s){var _=s(27)("match");E.exports=function(d){var S=/./;try{"/./"[d](S)}catch(w){try{return S[_]=!1,"/./"[d](S)}catch(N){}}return!1}},function(E,j,s){"use strict";var _=s(16),d=s(158).trim;_({target:"String",proto:!0,forced:s(195)("trim")},{trim:function(){return d(this)}})},function(E,j,s){var _=s(93).PROPER,d=s(18),S=s(159);E.exports=function(w){return d(function(){return!!S[w]()||"\u200B\x85\u180E"[w]()!=="\u200B\x85\u180E"||_&&S[w].name!==w})}},function(E,j,s){var _=s(15);E.exports=_(1 .valueOf)},function(E,j,s){var _=s(15),d=s(38),S=Math.floor,w=_("".charAt),N=_("".replace),D=_("".slice),C=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,L=/\$([$&'`]|\d{1,2})/g;E.exports=function(B,W,V,re,ae,ue){var ne=V+B.length,fe=re.length,$=L;return ae!==void 0&&(ae=d(ae),$=C),N(ue,$,function(ee,de){var U;switch(w(de,0)){case"$":return"$";case"&":return B;case"`":return D(W,0,V);case"'":return D(W,ne);case"<":U=ae[D(de,1,-1)];break;default:var he=+de;if(he===0)return ee;if(he>fe){var z=S(he/10);return z===0?ee:z<=fe?re[z-1]===void 0?w(de,1):re[z-1]+w(de,1):ee}U=re[he-1]}return U===void 0?"":U})}},function(E,j,s){"use strict";var _=s(7),d=s(15),S=s(55),w=s(33),N=s(34),D=s(100),C=_.Function,L=d([].concat),B=d([].join),W={},V=function(re,ae,ue){if(!N(W,ae)){for(var ne=[],fe=0;fe<ae;fe++)ne[fe]="a["+fe+"]";W[ae]=C("C,a","return new C("+B(ne,",")+")")}return W[ae](re,ue)};E.exports=C.bind||function(re){var ae=S(this),ue=ae.prototype,ne=D(arguments,1),fe=function(){var $=L(ne,D(arguments));return this instanceof fe?V(ae,$.length,$):ae.apply(re,$)};return w(ue)&&(fe.prototype=ue),fe}},function(E,j,s){var _=s(34);E.exports=function(d){return d!==void 0&&(_(d,"value")||_(d,"writable"))}},function(E,j,s){"use strict";var _=s(36),d=s(15),S=s(35),w=s(18),N=s(66),D=s(112),C=s(92),L=s(38),B=s(80),W=Object.assign,V=Object.defineProperty,re=d([].concat);E.exports=!W||w(function(){if(_&&W({b:1},W(V({},"a",{enumerable:!0,get:function(){V(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var ae={},ue={},ne=Symbol();return ae[ne]=7,"abcdefghijklmnopqrst".split("").forEach(function(fe){ue[fe]=fe}),W({},ae)[ne]!=7||N(W({},ue)).join("")!="abcdefghijklmnopqrst"})?function(ae,ue){for(var ne=L(ae),fe=arguments.length,$=1,ee=D.f,de=C.f;fe>$;)for(var U,he=B(arguments[$++]),z=ee?re(N(he),ee(he)):N(he),G=z.length,H=0;G>H;)U=z[H++],_&&!S(de,he,U)||(ne[U]=he[U]);return ne}:W},function(E,j,s){var _=s(15),d=s(45),S=s(40),w=/"/g,N=_("".replace);E.exports=function(D,C,L,B){var W=S(d(D)),V="<"+C;return L!==""&&(V+=" "+L+'="'+N(S(B),w,"&quot;")+'"'),V+">"+W+"</"+C+">"}},function(E,j,s){var _=s(18);E.exports=function(d){return _(function(){var S=""[d]('"');return S!==S.toLowerCase()||S.split('"').length>3})}},function(E,j,s){var _=s(16),d=Math.hypot,S=Math.abs,w=Math.sqrt;_({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(N,D){for(var C,L,B=0,W=0,V=arguments.length,re=0;W<V;)re<(C=S(arguments[W++]))?(B=B*(L=re/C)*L+1,re=C):B+=C>0?(L=C/re)*L:C;return re===1/0?1/0:re*w(B)}})},function(E,j,s){"use strict";var _,d,S,w,N=s(16),D=s(64),C=s(7),L=s(46),B=s(35),W=s(205),V=s(44),re=s(144),ae=s(96),ue=s(73),ne=s(145),fe=s(55),$=s(28),ee=s(33),de=s(117),U=s(91),he=s(114),z=s(118),G=s(156),H=s(161).set,te=s(206),me=s(209),Pe=s(210),X=s(163),oe=s(211),Q=s(56),ce=s(94),xe=s(27),Te=s(212),Be=s(126),Ve=s(65),nt=xe("species"),Xe="Promise",Qe=Q.getterFor(Xe),gt=Q.set,se=Q.getterFor(Xe),le=W&&W.prototype,be=W,De=le,Ge=C.TypeError,Ce=C.document,at=C.process,rt=X.f,vt=rt,it=!!(Ce&&Ce.createEvent&&C.dispatchEvent),Ae=$(C.PromiseRejectionEvent),ie=!1,Je=ce(Xe,function(){var ve=U(be),ze=ve!==String(be);if(!ze&&Ve===66||D&&!De.finally)return!0;if(Ve>=51&&/native code/.test(ve))return!1;var He=new be(function(ut){ut(1)}),Ze=function(ut){ut(function(){},function(){})};return(He.constructor={})[nt]=Ze,!(ie=He.then(function(){})instanceof Ze)||!ze&&Te&&!Ae}),tt=Je||!z(function(ve){be.all(ve).catch(function(){})}),$e=function(ve){var ze;return!(!ee(ve)||!$(ze=ve.then))&&ze},Vt=function(ve,ze){if(!ve.notified){ve.notified=!0;var He=ve.reactions;te(function(){for(var Ze=ve.value,ut=ve.state==1,jt=0;He.length>jt;){var Xt,_n,nn,Mt=He[jt++],We=ut?Mt.ok:Mt.fail,st=Mt.resolve,pt=Mt.reject,_t=Mt.domain;try{We?(ut||(ve.rejection===2&&Jt(ve),ve.rejection=1),We===!0?Xt=Ze:(_t&&_t.enter(),Xt=We(Ze),_t&&(_t.exit(),nn=!0)),Xt===Mt.promise?pt(Ge("Promise-chain cycle")):(_n=$e(Xt))?B(_n,Xt,st,pt):st(Xt)):pt(Ze)}catch(Bt){_t&&!nn&&_t.exit(),pt(Bt)}}ve.reactions=[],ve.notified=!1,ze&&!ve.rejection&&mt(ve)})}},bt=function(ve,ze,He){var Ze,ut;it?((Ze=Ce.createEvent("Event")).promise=ze,Ze.reason=He,Ze.initEvent(ve,!1,!0),C.dispatchEvent(Ze)):Ze={promise:ze,reason:He},!Ae&&(ut=C["on"+ve])?ut(Ze):ve==="unhandledrejection"&&Pe("Unhandled promise rejection",He)},mt=function(ve){B(H,C,function(){var ze,He=ve.facade,Ze=ve.value;if(Dt(ve)&&(ze=oe(function(){Be?at.emit("unhandledRejection",Ze,He):bt("unhandledrejection",He,Ze)}),ve.rejection=Be||Dt(ve)?2:1,ze.error))throw ze.value})},Dt=function(ve){return ve.rejection!==1&&!ve.parent},Jt=function(ve){B(H,C,function(){var ze=ve.facade;Be?at.emit("rejectionHandled",ze):bt("rejectionhandled",ze,ve.value)})},Z=function(ve,ze,He){return function(Ze){ve(ze,Ze,He)}},ye=function(ve,ze,He){ve.done||(ve.done=!0,He&&(ve=He),ve.value=ze,ve.state=2,Vt(ve,!0))},ke=function(ve,ze,He){if(!ve.done){ve.done=!0,He&&(ve=He);try{if(ve.facade===ze)throw Ge("Promise can't be resolved itself");var Ze=$e(ze);Ze?te(function(){var ut={done:!1};try{B(Ze,ze,Z(ke,ut,ve),Z(ye,ut,ve))}catch(jt){ye(ut,jt,ve)}}):(ve.value=ze,ve.state=1,Vt(ve,!1))}catch(ut){ye({done:!1},ut,ve)}}};if(Je&&(De=(be=function(ve){de(this,De),fe(ve),B(_,this);var ze=Qe(this);try{ve(Z(ke,ze),Z(ye,ze))}catch(He){ye(ze,He)}}).prototype,(_=function(ve){gt(this,{type:Xe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=re(De,{then:function(ve,ze){var He=se(this),Ze=He.reactions,ut=rt(G(this,be));return ut.ok=!$(ve)||ve,ut.fail=$(ze)&&ze,ut.domain=Be?at.domain:void 0,He.parent=!0,Ze[Ze.length]=ut,He.state!=0&&Vt(He,!1),ut.promise},catch:function(ve){return this.then(void 0,ve)}}),d=function(){var ve=new _,ze=Qe(ve);this.promise=ve,this.resolve=Z(ke,ze),this.reject=Z(ye,ze)},X.f=rt=function(ve){return ve===be||ve===S?new d(ve):vt(ve)},!D&&$(W)&&le!==Object.prototype)){w=le.then,ie||(V(le,"then",function(ve,ze){var He=this;return new be(function(Ze,ut){B(w,He,Ze,ut)}).then(ve,ze)},{unsafe:!0}),V(le,"catch",De.catch,{unsafe:!0}));try{delete le.constructor}catch(ve){}ae&&ae(le,De)}N({global:!0,wrap:!0,forced:Je},{Promise:be}),ue(be,Xe,!1,!0),ne(Xe),S=L(Xe),N({target:Xe,stat:!0,forced:Je},{reject:function(ve){var ze=rt(this);return B(ze.reject,void 0,ve),ze.promise}}),N({target:Xe,stat:!0,forced:D||Je},{resolve:function(ve){return me(D&&this===S?be:this,ve)}}),N({target:Xe,stat:!0,forced:tt},{all:function(ve){var ze=this,He=rt(ze),Ze=He.resolve,ut=He.reject,jt=oe(function(){var Xt=fe(ze.resolve),_n=[],nn=0,Mt=1;he(ve,function(We){var st=nn++,pt=!1;Mt++,B(Xt,ze,We).then(function(_t){pt||(pt=!0,_n[st]=_t,--Mt||Ze(_n))},ut)}),--Mt||Ze(_n)});return jt.error&&ut(jt.value),He.promise},race:function(ve){var ze=this,He=rt(ze),Ze=He.reject,ut=oe(function(){var jt=fe(ze.resolve);he(ve,function(Xt){B(jt,ze,Xt).then(He.resolve,Ze)})});return ut.error&&Ze(ut.value),He.promise}})},function(E,j,s){var _=s(7);E.exports=_.Promise},function(E,j,s){var _,d,S,w,N,D,C,L,B=s(7),W=s(62),V=s(51).f,re=s(161).set,ae=s(162),ue=s(207),ne=s(208),fe=s(126),$=B.MutationObserver||B.WebKitMutationObserver,ee=B.document,de=B.process,U=B.Promise,he=V(B,"queueMicrotask"),z=he&&he.value;z||(_=function(){var G,H;for(fe&&(G=de.domain)&&G.exit();d;){H=d.fn,d=d.next;try{H()}catch(te){throw d?w():S=void 0,te}}S=void 0,G&&G.enter()},ae||fe||ne||!$||!ee?!ue&&U&&U.resolve?((C=U.resolve(void 0)).constructor=U,L=W(C.then,C),w=function(){L(_)}):fe?w=function(){de.nextTick(_)}:(re=W(re,B),w=function(){re(_)}):(N=!0,D=ee.createTextNode(""),new $(_).observe(D,{characterData:!0}),w=function(){D.data=N=!N})),E.exports=z||function(G){var H={fn:G,next:void 0};S&&(S.next=H),d||(d=H,w()),S=H}},function(E,j,s){var _=s(53),d=s(7);E.exports=/ipad|iphone|ipod/i.test(_)&&d.Pebble!==void 0},function(E,j,s){var _=s(53);E.exports=/web0s(?!.*chrome)/i.test(_)},function(E,j,s){var _=s(32),d=s(33),S=s(163);E.exports=function(w,N){if(_(w),d(N)&&N.constructor===w)return N;var D=S.f(w);return(0,D.resolve)(N),D.promise}},function(E,j,s){var _=s(7);E.exports=function(d,S){var w=_.console;w&&w.error&&(arguments.length==1?w.error(d):w.error(d,S))}},function(E,j){E.exports=function(s){try{return{error:!1,value:s()}}catch(_){return{error:!0,value:_}}}},function(E,j){E.exports=typeof window=="object"},function(E,j,s){var _=s(36),d=s(15),S=s(66),w=s(39),N=d(s(92).f),D=d([].push),C=function(L){return function(B){for(var W,V=w(B),re=S(V),ae=re.length,ue=0,ne=[];ae>ue;)W=re[ue++],_&&!N(V,W)||D(ne,L?[W,V[W]]:V[W]);return ne}};E.exports={entries:C(!0),values:C(!1)}},function(E,j,s){"use strict";var _=s(38),d=s(67),S=s(43);E.exports=function(w){for(var N=_(this),D=S(N),C=arguments.length,L=d(C>1?arguments[1]:void 0,D),B=C>2?arguments[2]:void 0,W=B===void 0?D:d(B,D);W>L;)N[L++]=w;return N}},function(E,j,s){"use strict";s.r(j),s.d(j,"observer",function(){return Pr}),s.d(j,"LogicFlow",function(){return Ws}),s.d(j,"h",function(){return ie.g}),s.d(j,"LogicFlowUtil",function(){return _}),s.d(j,"BaseNode",function(){return Eo}),s.d(j,"RectNode",function(){return ls}),s.d(j,"CircleNode",function(){return ps}),s.d(j,"PolygonNode",function(){return hs}),s.d(j,"DiamondNode",function(){return vs}),s.d(j,"EllipseNode",function(){return ms}),s.d(j,"TextNode",function(){return _s}),s.d(j,"HtmlNode",function(){return ws}),s.d(j,"BaseEdge",function(){return fa}),s.d(j,"LineEdge",function(){return Ts}),s.d(j,"PolylineEdge",function(){return Rs}),s.d(j,"BezierEdge",function(){return zs}),s.d(j,"Arrow",function(){return qh}),s.d(j,"BaseEdgeModel",function(){return xu}),s.d(j,"BezierEdgeModel",function(){return Wu}),s.d(j,"LineEdgeModel",function(){return Su}),s.d(j,"PolylineEdgeModel",function(){return Pu}),s.d(j,"BaseNodeModel",function(){return wo}),s.d(j,"CircleNodeModel",function(){return Ku}),s.d(j,"DiamondNodeModel",function(){return qu}),s.d(j,"EllipseNodeModel",function(){return Ju}),s.d(j,"PolygonNodeModel",function(){return es}),s.d(j,"RectNodeModel",function(){return ts}),s.d(j,"TextNodeModel",function(){return ns}),s.d(j,"HtmlNodeModel",function(){return os}),s.d(j,"EditConfigModel",function(){return nc}),s.d(j,"GraphModel",function(){return Jl}),s.d(j,"SnaplineModel",function(){return Ud}),s.d(j,"Keyboard",function(){return qy}),s.d(j,"get",function(){return np}),s.d(j,"defaults",function(){return op});var _={};s.r(_),s.d(_,"createUuid",function(){return ei}),s.d(_,"refreshGraphId",function(){return Uv}),s.d(_,"createDrag",function(){return Du}),s.d(_,"StepDrag",function(){return ni});var d=s(0),S=s(10);if(!S.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!d.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var w=s(42),N=Object(w.b)("observerBatching");function D(t){t()}var C=!1;function L(){return C}function B(t){return Object(d.t)(t)}var W,V=1e4,re=new Set;function ae(){W===void 0&&(W=setTimeout(ue,1e4))}function ue(){W=void 0;var t=Date.now();re.forEach(function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,re.delete(e))}),re.size>0&&ae()}var ne=!1,fe=[],$={};function ee(t){return"observer"+t}function de(t,e,n){if(e===void 0&&(e="observed"),n===void 0&&(n=$),L())return t();var r,o=function(v){return function(){ne?fe.push(v):v()}}((n.useForceUpdate||w.d)()),u=S.d.useRef(null);if(!u.current){var i=new d.c(ee(e),function(){a.mounted?o():(i.dispose(),u.current=null)}),a=function(v){return{cleanAt:Date.now()+V,reaction:v}}(i);u.current=a,r=u,re.add(r),ae()}var f=u.current.reaction;return S.d.useDebugValue(f,B),S.d.useEffect(function(){var v;return v=u,re.delete(v),u.current?u.current.mounted=!0:(u.current={reaction:new d.c(ee(e),function(){o()}),cleanAt:1/0},o()),function(){u.current.reaction.dispose(),u.current=null}},[]),function(v){ne=!0,fe=[];try{var O=v();ne=!1;var M=fe.length>0?fe:void 0;return S.d.useLayoutEffect(function(){M&&M.forEach(function(k){return k()})},[M]),O}finally{ne=!1}}(function(){var v,O;if(f.track(function(){try{v=t()}catch(M){O=M}}),O)throw O;return v})}var U=function(){return(U=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function he(t,e){if(L())return t;var n,r,o,u=U({forwardRef:!1},e),i=t.displayName||t.name,a=function(f,v){return de(function(){return t(f,v)},i)};return a.displayName=i,n=u.forwardRef?Object(S.f)(Object(S.e)(a)):Object(S.f)(a),r=t,o=n,Object.keys(r).forEach(function(f){z[f]||Object.defineProperty(o,f,Object.getOwnPropertyDescriptor(r,f))}),n.displayName=i,n}var z={$$typeof:!0,render:!0,compare:!0,type:!0};function G(t){var e=t.children,n=t.render,r=e||n;return typeof r!="function"?null:de(r)}function H(t,e,n,r,o){var u=e==="children"?"render":"children",i=typeof t[e]=="function",a=typeof t[u]=="function";return i&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):i||a?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}G.propTypes={children:H,render:H},G.displayName="Observer";var te;(te=S.g)||(te=D),Object(d.n)({reactionScheduler:te}),Object(w.a)()[N]=!0;var me=0,Pe={};function X(t){return Pe[t]||(Pe[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react "+e+" ("+me+")";return me++,n}(t)),Pe[t]}function oe(t,e){if(Q(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!Q(t[n[o]],e[n[o]]))return!1;return!0}function Q(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ce(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var xe=X("patchMixins"),Te=X("patchedDefinition");function Be(t,e){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];e.locks++;try{var i;return t!=null&&(i=t.apply(this,o)),i}finally{e.locks--,e.locks===0&&e.methods.forEach(function(a){a.apply(n,o)})}}function Ve(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Be.call.apply(Be,[this,t,e].concat(r))}}function nt(t,e,n){var r=function(a,f){var v=a[xe]=a[xe]||{},O=v[f]=v[f]||{};return O.locks=O.locks||0,O.methods=O.methods||[],O}(t,e);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[Te]){var u=t[e],i=function a(f,v,O,M,k){var I,q=Ve(k,M);return(I={})[Te]=!0,I.get=function(){return q},I.set=function(pe){if(this===f)q=Ve(pe,M);else{var ge=a(this,v,O,M,pe);Object.defineProperty(this,v,ge)}},I.configurable=!0,I.enumerable=O,I}(t,e,o?o.enumerable:void 0,r,u);Object.defineProperty(t,e,i)}}var Xe=d.a||"$mobx",Qe=X("isMobXReactObserver"),gt=X("isUnmounted"),se=X("skipRender"),le=X("isForcingUpdate");function be(t){var e=t.prototype;if(t[Qe]){var n=De(e);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else t[Qe]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==S.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==Ce)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=Ce;at(e,"props"),at(e,"state");var r=e.render;return e.render=function(){return Ge.call(this,r)},nt(e,"componentWillUnmount",function(){var o;if(L()!==!0&&((o=this.render[Xe])===null||o===void 0||o.dispose(),this[gt]=!0,!this.render[Xe])){var u=De(this);console.warn("The reactive render of an observer class component ("+u+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),t}function De(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function Ge(t){var e=this;if(L()===!0)return t.call(this);ce(this,se,!1),ce(this,le,!1);var n=De(this),r=t.bind(this),o=!1,u=new d.c(n+".render()",function(){if(!o&&(o=!0,e[gt]!==!0)){var a=!0;try{ce(e,le,!0),e[se]||S.a.prototype.forceUpdate.call(e),a=!1}finally{ce(e,le,!1),a&&u.dispose()}}});function i(){o=!1;var a=void 0,f=void 0;if(u.track(function(){try{f=Object(d.d)(!1,r)}catch(v){a=v}}),a)throw a;return f}return u.reactComponent=this,i[Xe]=u,this.render=i,i.call(this)}function Ce(t,e){return L()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!oe(this.props,t)}function at(t,e){var n=X("reactProp_"+e+"_valueHolder"),r=X("reactProp_"+e+"_atomHolder");function o(){return this[r]||ce(this,r,Object(d.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var u=!1;return d.f&&d.e&&(u=Object(d.f)(!0)),o.call(this).reportObserved(),d.f&&d.e&&Object(d.e)(u),this[n]},set:function(u){this[le]||oe(this[n],u)?ce(this,n,u):(ce(this,n,u),ce(this,se,!0),o.call(this).reportChanged(),ce(this,se,!1))}})}var rt=typeof Symbol=="function"&&Symbol.for,vt=rt?Symbol.for("react.forward_ref"):typeof S.e=="function"&&Object(S.e)(function(t){return null}).$$typeof,it=rt?Symbol.for("react.memo"):typeof S.f=="function"&&Object(S.f)(function(t){return null}).$$typeof;function Ae(t){if(t.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),it&&t.$$typeof===it)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(vt&&t.$$typeof===vt){var e=t.render;if(typeof e!="function")throw new Error("render property of ForwardRef was not a function");return Object(S.e)(function(){var n=arguments;return Object(S.c)(G,null,function(){return e.apply(void 0,n)})})}return typeof t!="function"||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(S.a,t)?be(t):he(t)}if(!S.a)throw new Error("mobx-react requires React to be available");if(!d.C)throw new Error("mobx-react requires mobx to be available");var ie=s(1);s(3),s(60),s(2),s(6),s(4),s(11),s(41),s(24),s(20),s(5),s(22),s(21),s(23),s(8),s(9),s(17),s(25),s(19),s(29),s(186),s(191),s(102),s(152),s(153);var Je=function(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},tt=function(){this.__data__=[],this.size=0},$e=function(t,e){return t===e||t!=t&&e!=e},Vt=function(t,e){for(var n=t.length;n--;)if($e(t[n][0],e))return n;return-1},bt=Array.prototype.splice,mt=function(t){var e=this.__data__,n=Vt(e,t);return!(n<0)&&(n==e.length-1?e.pop():bt.call(e,n,1),--this.size,!0)},Dt=function(t){var e=this.__data__,n=Vt(e,t);return n<0?void 0:e[n][1]},Jt=function(t){return Vt(this.__data__,t)>-1},Z=function(t,e){var n=this.__data__,r=Vt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function ye(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ye.prototype.clear=tt,ye.prototype.delete=mt,ye.prototype.get=Dt,ye.prototype.has=Jt,ye.prototype.set=Z;var ke=ye,ve=function(){this.__data__=new ke,this.size=0},ze=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},He=function(t){return this.__data__.get(t)},Ze=function(t){return this.__data__.has(t)},ut=s(30),jt=ut.a.Symbol,Xt=Object.prototype,_n=Xt.hasOwnProperty,nn=Xt.toString,Mt=jt?jt.toStringTag:void 0,We=function(t){var e=_n.call(t,Mt),n=t[Mt];try{t[Mt]=void 0;var r=!0}catch(u){}var o=nn.call(t);return r&&(e?t[Mt]=n:delete t[Mt]),o},st=Object.prototype.toString,pt=function(t){return st.call(t)},_t=jt?jt.toStringTag:void 0,Bt=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":_t&&_t in Object(t)?We(t):pt(t)},Qt=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},On,Ho=function(t){if(!Qt(t))return!1;var e=Bt(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},ir=ut.a["__core-js_shared__"],Mr=(On=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||""))?"Symbol(src)_1."+On:"",Go=function(t){return!!Mr&&Mr in t},Nr=Function.prototype.toString,qn=function(t){if(t!=null){try{return Nr.call(t)}catch(e){}try{return t+""}catch(e){}}return""},No=/^\[object .+?Constructor\]$/,ci=Function.prototype,ot=Object.prototype,Hi=ci.toString,li=ot.hasOwnProperty,Fo=RegExp("^"+Hi.call(li).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vn=function(t){return!(!Qt(t)||Go(t))&&(Ho(t)?Fo:No).test(qn(t))},Wn=function(t,e){return t==null?void 0:t[e]},ar=function(t,e){var n=Wn(t,e);return Vn(n)?n:void 0},kr=ar(ut.a,"Map"),ur=ar(Object,"create"),fi=function(){this.__data__=ur?ur(null):{},this.size=0},pi=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gi=Object.prototype.hasOwnProperty,sr=function(t){var e=this.__data__;if(ur){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Gi.call(e,t)?e[t]:void 0},ro=Object.prototype.hasOwnProperty,Ar=function(t){var e=this.__data__;return ur?e[t]!==void 0:ro.call(e,t)},di=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=ur&&e===void 0?"__lodash_hash_undefined__":e,this};function yr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yr.prototype.clear=fi,yr.prototype.delete=pi,yr.prototype.get=sr,yr.prototype.has=Ar,yr.prototype.set=di;var Fi=yr,cr=function(){this.size=0,this.__data__={hash:new Fi,map:new(kr||ke),string:new Fi}},Xo=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},oo=function(t,e){var n=t.__data__;return Xo(e)?n[typeof e=="string"?"string":"hash"]:n.map},Uo=function(t){var e=oo(this,t).delete(t);return this.size-=e?1:0,e},Yo=function(t){return oo(this,t).get(t)},ya=function(t){return oo(this,t).has(t)},hi=function(t,e){var n=oo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Tr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tr.prototype.clear=cr,Tr.prototype.delete=Uo,Tr.prototype.get=Yo,Tr.prototype.has=ya,Tr.prototype.set=hi;var Dr=Tr,yi=function(t,e){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!kr||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Dr(r)}return n.set(t,e),this.size=n.size,this};function io(t){var e=this.__data__=new ke(t);this.size=e.size}io.prototype.clear=ve,io.prototype.delete=ze,io.prototype.get=He,io.prototype.has=Ze,io.prototype.set=yi;var Jn=io,Cr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},vi=function(t){return this.__data__.has(t)};function ao(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Dr;++e<n;)this.add(t[e])}ao.prototype.add=ao.prototype.push=Cr,ao.prototype.has=vi;var gi=ao,va=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Rr=function(t,e){return t.has(e)},Wt=function(t,e,n,r,o,u){var i=1&n,a=t.length,f=e.length;if(a!=f&&!(i&&f>a))return!1;var v=u.get(t),O=u.get(e);if(v&&O)return v==e&&O==t;var M=-1,k=!0,I=2&n?new gi:void 0;for(u.set(t,e),u.set(e,t);++M<a;){var q=t[M],pe=e[M];if(r)var ge=i?r(pe,q,M,e,t,u):r(q,pe,M,t,e,u);if(ge!==void 0){if(ge)continue;k=!1;break}if(I){if(!va(e,function(je,Oe){if(!Rr(I,Oe)&&(q===je||o(q,je,n,r,u)))return I.push(Oe)})){k=!1;break}}else if(q!==pe&&!o(q,pe,n,r,u)){k=!1;break}}return u.delete(t),u.delete(e),k},Ir=ut.a.Uint8Array,mi=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n},uo=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Vo=jt?jt.prototype:void 0,ko=Vo?Vo.valueOf:void 0,Lr=function(t,e,n,r,o,u,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!u(new Ir(t),new Ir(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $e(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=mi;case"[object Set]":var f=1&r;if(a||(a=uo),t.size!=e.size&&!f)return!1;var v=i.get(t);if(v)return v==e;r|=2,i.set(t,e);var O=Wt(a(t),a(e),r,o,u,i);return i.delete(t),O;case"[object Symbol]":if(ko)return ko.call(t)==ko.call(e)}return!1},zn=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},ln=Array.isArray,bi=function(t,e,n){var r=e(t);return ln(t)?r:zn(r,n(t))},Qn=function(t,e){for(var n=-1,r=t==null?0:t.length,o=0,u=[];++n<r;){var i=t[n];e(i,n,t)&&(u[o++]=i)}return u},Wo=function(){return[]},Bn=Object.prototype.propertyIsEnumerable,zr=Object.getOwnPropertySymbols,_i=zr?function(t){return t==null?[]:(t=Object(t),Qn(zr(t),function(e){return Bn.call(t,e)}))}:Wo,wn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},hn=function(t){return t!=null&&typeof t=="object"},lr=function(t){return hn(t)&&Bt(t)=="[object Arguments]"},Zo=Object.prototype,Br=Zo.hasOwnProperty,vr=Zo.propertyIsEnumerable,Hr=lr(function(){return arguments}())?lr:function(t){return hn(t)&&Br.call(t,"callee")&&!vr.call(t,"callee")},Gr=s(48),Zn=/^(?:0|[1-9]\d*)$/,er=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Zn.test(t))&&t>-1&&t%1==0&&t<e},Mn=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},Tt={};Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Arguments]"]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object Boolean]"]=Tt["[object DataView]"]=Tt["[object Date]"]=Tt["[object Error]"]=Tt["[object Function]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt["[object Object]"]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object WeakMap]"]=!1;var fr=function(t){return hn(t)&&Mn(t.length)&&!!Tt[Bt(t)]},vn=function(t){return function(e){return t(e)}},gr=s(49),Ao=gr.a&&gr.a.isTypedArray,so=Ao?vn(Ao):fr,tr=Object.prototype.hasOwnProperty,To=function(t,e){var n=ln(t),r=!n&&Hr(t),o=!n&&!r&&Object(Gr.a)(t),u=!n&&!r&&!o&&so(t),i=n||r||o||u,a=i?wn(t.length,String):[],f=a.length;for(var v in t)!e&&!tr.call(t,v)||i&&(v=="length"||o&&(v=="offset"||v=="parent")||u&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||er(v,f))||a.push(v);return a},Oi=Object.prototype,Nn=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Oi)},Ko=function(t,e){return function(n){return t(e(n))}},Xi=Ko(Object.keys,Object),wi=Object.prototype.hasOwnProperty,kn=function(t){if(!Nn(t))return Xi(t);var e=[];for(var n in Object(t))wi.call(t,n)&&n!="constructor"&&e.push(n);return e},Hn=function(t){return t!=null&&Mn(t.length)&&!Ho(t)},nr=function(t){return Hn(t)?To(t):kn(t)},tn=function(t){return bi(t,nr,_i)},co=Object.prototype.hasOwnProperty,Do=function(t,e,n,r,o,u){var i=1&n,a=tn(t),f=a.length;if(f!=tn(e).length&&!i)return!1;for(var v=f;v--;){var O=a[v];if(!(i?O in e:co.call(e,O)))return!1}var M=u.get(t),k=u.get(e);if(M&&k)return M==e&&k==t;var I=!0;u.set(t,e),u.set(e,t);for(var q=i;++v<f;){var pe=t[O=a[v]],ge=e[O];if(r)var je=i?r(ge,pe,O,e,t,u):r(pe,ge,O,t,e,u);if(!(je===void 0?pe===ge||o(pe,ge,n,r,u):je)){I=!1;break}q||(q=O=="constructor")}if(I&&!q){var Oe=t.constructor,we=e.constructor;Oe==we||!("constructor"in t)||!("constructor"in e)||typeof Oe=="function"&&Oe instanceof Oe&&typeof we=="function"&&we instanceof we||(I=!1)}return u.delete(t),u.delete(e),I},lo=ar(ut.a,"DataView"),fo=ar(ut.a,"Promise"),po=ar(ut.a,"Set"),$o=ar(ut.a,"WeakMap"),on=qn(lo),Kn=qn(kr),ho=qn(fo),xi=qn(po),qo=qn($o),Gn=Bt;(lo&&Gn(new lo(new ArrayBuffer(1)))!="[object DataView]"||kr&&Gn(new kr)!="[object Map]"||fo&&Gn(fo.resolve())!="[object Promise]"||po&&Gn(new po)!="[object Set]"||$o&&Gn(new $o)!="[object WeakMap]")&&(Gn=function(t){var e=Bt(t),n=e=="[object Object]"?t.constructor:void 0,r=n?qn(n):"";if(r)switch(r){case on:return"[object DataView]";case Kn:return"[object Map]";case ho:return"[object Promise]";case xi:return"[object Set]";case qo:return"[object WeakMap]"}return e});var yo=Gn,pr=Object.prototype.hasOwnProperty,Ei=function(t,e,n,r,o,u){var i=ln(t),a=ln(e),f=i?"[object Array]":yo(t),v=a?"[object Array]":yo(e),O=(f=f=="[object Arguments]"?"[object Object]":f)=="[object Object]",M=(v=v=="[object Arguments]"?"[object Object]":v)=="[object Object]",k=f==v;if(k&&Object(Gr.a)(t)){if(!Object(Gr.a)(e))return!1;i=!0,O=!1}if(k&&!O)return u||(u=new Jn),i||so(t)?Wt(t,e,n,r,o,u):Lr(t,e,f,n,r,o,u);if(!(1&n)){var I=O&&pr.call(t,"__wrapped__"),q=M&&pr.call(e,"__wrapped__");if(I||q){var pe=I?t.value():t,ge=q?e.value():e;return u||(u=new Jn),o(pe,ge,n,r,u)}}return!!k&&(u||(u=new Jn),Do(t,e,n,r,o,u))},g=function t(e,n,r,o,u){return e===n||(e==null||n==null||!hn(e)&&!hn(n)?e!=e&&n!=n:Ei(e,n,r,o,t,u))},m=function(t,e,n,r){var o=n.length,u=o,i=!r;if(t==null)return!u;for(t=Object(t);o--;){var a=n[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){var f=(a=n[o])[0],v=t[f],O=a[1];if(i&&a[2]){if(v===void 0&&!(f in t))return!1}else{var M=new Jn;if(r)var k=r(v,O,f,t,e,M);if(!(k===void 0?g(O,v,3,r,M):k))return!1}}return!0},x=function(t){return t==t&&!Qt(t)},T=function(t){for(var e=nr(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,x(o)]}return e},R=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},K=function(t){var e=T(t);return e.length==1&&e[0][2]?R(e[0][0],e[0][1]):function(n){return n===t||m(n,t,e)}},_e=function(t){return typeof t=="symbol"||hn(t)&&Bt(t)=="[object Symbol]"},Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qe=/^\w*$/,Ot=function(t,e){if(ln(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!_e(t))||qe.test(t)||!Re.test(t)||e!=null&&t in Object(e)};function wt(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var i=t.apply(this,r);return n.cache=u.set(o,i)||u,i};return n.cache=new(wt.Cache||Dr),n}wt.Cache=Dr;var zt=wt,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ct=/\\(\\)?/g,Ut=function(t){var e=zt(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(It,function(n,r,o,u){e.push(o?u.replace(Ct,"$1"):r||n)}),e}),Ht=jt?jt.prototype:void 0,Lt=Ht?Ht.toString:void 0,$n=function t(e){if(typeof e=="string")return e;if(ln(e))return Je(e,t)+"";if(_e(e))return Lt?Lt.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Ui=function(t){return t==null?"":$n(t)},vo=function(t,e){return ln(t)?t:Ot(t,e)?[t]:Ut(Ui(t))},Fr=function(t){if(typeof t=="string"||_e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},mr=function(t,e){for(var n=0,r=(e=vo(e,t)).length;t!=null&&n<r;)t=t[Fr(e[n++])];return n&&n==r?t:void 0},Si=function(t,e,n){var r=t==null?void 0:mr(t,e);return r===void 0?n:r},An=function(t,e){return t!=null&&e in Object(t)},Jo=function(t,e,n){for(var r=-1,o=(e=vo(e,t)).length,u=!1;++r<o;){var i=Fr(e[r]);if(!(u=t!=null&&n(t,i)))break;t=t[i]}return u||++r!=o?u:!!(o=t==null?0:t.length)&&Mn(o)&&er(i,o)&&(ln(t)||Hr(t))},Xr=function(t,e){return t!=null&&Jo(t,e,An)},tu=function(t,e){return Ot(t)&&x(e)?R(Fr(t),e):function(n){var r=Si(n,t);return r===void 0&&r===e?Xr(n,t):g(e,r,3)}},ji=function(t){return t},ga=function(t){return function(e){return e==null?void 0:e[t]}},ma=function(t){return function(e){return mr(e,t)}},nu=function(t){return Ot(t)?ga(Fr(t)):ma(t)},ru=function(t){return typeof t=="function"?t:t==null?ji:typeof t=="object"?ln(t)?tu(t[0],t[1]):K(t):nu(t)},ba=function(t){return function(e,n,r){for(var o=-1,u=Object(e),i=r(e),a=i.length;a--;){var f=i[t?a:++o];if(n(u[f],f,u)===!1)break}return e}}(),ou=function(t,e){return function(n,r){if(n==null)return n;if(!Hn(n))return t(n,r);for(var o=n.length,u=e?o:-1,i=Object(n);(e?u--:++u<o)&&r(i[u],u,i)!==!1;);return n}}(function(t,e){return t&&ba(t,e,nr)}),iu=function(t,e){var n=-1,r=Hn(t)?Array(t.length):[];return ou(t,function(o,u,i){r[++n]=e(o,u,i)}),r},Yi=function(t,e){return(ln(t)?Je:iu)(t,ru(e,3))},Pi=function(){try{var t=ar(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),go=function(t,e,n){e=="__proto__"&&Pi?Pi(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},au=Object.prototype.hasOwnProperty,Ur=function(t,e,n){var r=t[e];au.call(t,e)&&$e(r,n)&&(n!==void 0||e in t)||go(t,e,n)},Yr=function(t,e,n,r){var o=!n;n||(n={});for(var u=-1,i=e.length;++u<i;){var a=e[u],f=r?r(n[a],t[a],a,n,t):void 0;f===void 0&&(f=t[a]),o?go(n,a,f):Ur(n,a,f)}return n},uu=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},p=Math.max,l=function(t,e,n){return e=p(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,u=p(r.length-e,0),i=Array(u);++o<u;)i[o]=r[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=r[o];return a[e]=n(i),uu(t,this,a)}},c=function(t){return function(){return t}},h=Pi?function(t,e){return Pi(t,"toString",{configurable:!0,enumerable:!1,value:c(e),writable:!0})}:ji,y=Date.now,b=function(t){var e=0,n=0;return function(){var r=y(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(h),P=function(t,e){return b(l(t,e,ji),t+"")},A=function(t,e,n){if(!Qt(n))return!1;var r=typeof e;return!!(r=="number"?Hn(n)&&er(e,n.length):r=="string"&&e in n)&&$e(n[e],t)},F=function(t){return P(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(u=t.length>3&&typeof u=="function"?(o--,u):void 0,i&&A(n[0],n[1],i)&&(u=o<3?void 0:u,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,u)}return e})},J=Object.prototype.hasOwnProperty,Y=F(function(t,e){if(Nn(e)||Hn(e))Yr(e,nr(e),t);else for(var n in e)J.call(e,n)&&Ur(t,n,e[n])}),Ee=function(t,e,n,r){if(!Qt(t))return t;for(var o=-1,u=(e=vo(e,t)).length,i=u-1,a=t;a!=null&&++o<u;){var f=Fr(e[o]),v=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(o!=i){var O=a[f];(v=r?r(O,f,a):void 0)===void 0&&(v=Qt(O)?O:er(e[o+1])?[]:{})}Ur(a,f,v),a=a[f]}return t},Se=function(t,e,n){for(var r=-1,o=e.length,u={};++r<o;){var i=e[r],a=mr(t,i);n(a,i)&&Ee(u,vo(i,t),a)}return u},Me=function(t,e){return Se(t,e,function(n,r){return Xr(t,r)})},Ie=jt?jt.isConcatSpreadable:void 0,ct=function(t){return ln(t)||Hr(t)||!!(Ie&&t&&t[Ie])},lt=function t(e,n,r,o,u){var i=-1,a=e.length;for(r||(r=ct),u||(u=[]);++i<a;){var f=e[i];n>0&&r(f)?n>1?t(f,n-1,r,o,u):zn(u,f):o||(u[u.length]=f)}return u},dt=function(t){return(t==null?0:t.length)?lt(t,1):[]},Ye,Nt,Zt,en,Tn,Dn,gn,mn,an,un,bn,Cn,Zs,Ks,$s,qs,Js,Vi=function(t){return b(l(t,void 0,dt),t+"")}(function(t,e){return t==null?{}:Me(t,e)});function Rn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Qs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ec(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Yt,tc,Rt,yn,xt,qt,ov={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},su=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],nc=(Nt=xn((Ye=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Rn(this,"isSilentMode",Nt,this),Rn(this,"stopZoomGraph",Zt,this),Rn(this,"stopScrollGraph",en,this),Rn(this,"stopMoveGraph",Tn,this),Rn(this,"adjustEdge",Dn,this),Rn(this,"adjustEdgeMiddle",gn,this),Rn(this,"adjustEdgeStartAndEnd",mn,this),Rn(this,"adjustNodePosition",an,this),Rn(this,"hideAnchors",un,this),Rn(this,"hoverOutline",bn,this),Rn(this,"nodeSelectedOutline",Cn,this),Rn(this,"edgeSelectedOutline",Zs,this),Rn(this,"nodeTextEdit",Ks,this),Rn(this,"edgeTextEdit",$s,this),Rn(this,"nodeTextDraggable",qs,this),Rn(this,"edgeTextDraggable",Js,this),ec(this,"multipleSelectKey",""),ec(this,"defaultConfig",{}),Y(this,this.getConfigDetail(o))}var e,n,r;return e=t,(n=[{key:"updateEditConfig",value:function(o){var u=this.getConfigDetail(o);Y(this,u)}},{key:"getConfigDetail",value:function(o){var u=o.isSilentMode,i=o.textEdit,a={};if(u===!1&&Y(a,this.defaultConfig),u===!0){var f=Vi(ov,su);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},Y(a,f)}i===!1&&Y(a,{nodeTextEdit:!1,edgeTextEdit:!1});var v=Vi(o,su);return Y(a,v)}},{key:"getConfig",value:function(){return Vi(this,su)}}])&&Qs(e.prototype,n),r&&Qs(e,r),t}()).prototype,"isSilentMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zt=xn(Ye.prototype,"stopZoomGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),en=xn(Ye.prototype,"stopScrollGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tn=xn(Ye.prototype,"stopMoveGraph",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dn=xn(Ye.prototype,"adjustEdge",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gn=xn(Ye.prototype,"adjustEdgeMiddle",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mn=xn(Ye.prototype,"adjustEdgeStartAndEnd",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),an=xn(Ye.prototype,"adjustNodePosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),un=xn(Ye.prototype,"hideAnchors",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bn=xn(Ye.prototype,"hoverOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Cn=xn(Ye.prototype,"nodeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zs=xn(Ye.prototype,"edgeSelectedOutline",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ks=xn(Ye.prototype,"nodeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),$s=xn(Ye.prototype,"edgeTextEdit",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qs=xn(Ye.prototype,"nodeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Js=xn(Ye.prototype,"edgeTextDraggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xn(Ye.prototype,"updateEditConfig",[d.k],Object.getOwnPropertyDescriptor(Ye.prototype,"updateEditConfig"),Ye.prototype),Ye);s(103),function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Yt||(Yt={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(tc||(tc={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Rt||(Rt={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(yn||(yn={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(xt||(xt={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(qt||(qt={}));var rr,fn,rc,oc,ic,ac,uc,sc,cc;function _a(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return lc(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return lc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qo(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function br(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(rr||(rr={}));var iv=(rc=br((fn=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),cu(this,"MINI_SCALE_SIZE",.2),cu(this,"MAX_SCALE_SIZE",16),Qo(this,"SCALE_X",rc,this),Qo(this,"SKEW_Y",oc,this),Qo(this,"SKEW_X",ic,this),Qo(this,"SCALE_Y",ac,this),Qo(this,"TRANSLATE_X",uc,this),Qo(this,"TRANSLATE_Y",sc,this),Qo(this,"ZOOM_SIZE",cc,this),cu(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,(n=[{key:"setZoomMiniSize",value:function(o){this.MINI_SCALE_SIZE=o}},{key:"setZoomMaxSize",value:function(o){this.MAX_SCALE_SIZE=o}},{key:"HtmlPointToCanvasPoint",value:function(o){var u=_a(o,2),i=u[0],a=u[1];return[(i-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(o){var u=_a(o,2),i=u[0],a=u[1];return[i*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(o,u,i){var a=_a(o,2),f=a[0],v=a[1];return[f+u/this.SCALE_X,v+i/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(o,u){return[o/this.SCALE_X,u/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var o=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(o,")")}}},{key:"zoom",value:function(){var o=arguments.length>0&&arguments[0]!==void 0&&arguments[0],u=arguments.length>1?arguments[1]:void 0,i=this.SCALE_X,a=this.SCALE_Y;return o===!0?(i+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):o===!1?(i-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof o=="number"&&(i=o,a=o),i<this.MINI_SCALE_SIZE||i>this.MAX_SCALE_SIZE||(u&&(this.TRANSLATE_X-=(i-this.SCALE_X)*u[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*u[1]),this.SCALE_X=i,this.SCALE_Y=a,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(o){this.eventCenter.emit(xt.GRAPH_TRANSFORM,{type:o,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(o,u){this.TRANSLATE_X+=o,this.TRANSLATE_Y+=u,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(o,u,i,a){var f=_a(this.CanvasPointToHtmlPoint([o,u]),2),v=i/2-f[0],O=a/2-f[1];this.TRANSLATE_X+=v,this.TRANSLATE_Y+=O,this.emitGraphTransform("focusOn")}}])&&fc(e.prototype,n),r&&fc(e,r),t}()).prototype,"SCALE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),oc=br(fn.prototype,"SKEW_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ic=br(fn.prototype,"SKEW_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ac=br(fn.prototype,"SCALE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),uc=br(fn.prototype,"TRANSLATE_X",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sc=br(fn.prototype,"TRANSLATE_Y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cc=br(fn.prototype,"ZOOM_SIZE",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),br(fn.prototype,"zoom",[d.k],Object.getOwnPropertyDescriptor(fn.prototype,"zoom"),fn.prototype),br(fn.prototype,"resetZoom",[d.k],Object.getOwnPropertyDescriptor(fn.prototype,"resetZoom"),fn.prototype),br(fn.prototype,"translate",[d.k],Object.getOwnPropertyDescriptor(fn.prototype,"translate"),fn.prototype),br(fn.prototype,"focusOn",[d.k],Object.getOwnPropertyDescriptor(fn.prototype,"focusOn"),fn.prototype),fn),av=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},uv=function(t,e){return t&&Yr(e,nr(e),t)},sv=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},cv=Object.prototype.hasOwnProperty,lv=function(t){if(!Qt(t))return sv(t);var e=Nn(t),n=[];for(var r in t)(r!="constructor"||!e&&cv.call(t,r))&&n.push(r);return n},Wi=function(t){return Hn(t)?To(t,!0):lv(t)},fv=function(t,e){return t&&Yr(e,Wi(e),t)},pc=s(106),dc=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},pv=function(t,e){return Yr(t,_i(t),e)},lu=Ko(Object.getPrototypeOf,Object),hc=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)zn(e,_i(t)),t=lu(t);return e}:Wo,dv=function(t,e){return Yr(t,hc(t),e)},hv=function(t){return bi(t,Wi,hc)},yv=Object.prototype.hasOwnProperty,vv=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&yv.call(t,"index")&&(n.index=t.index,n.input=t.input),n},fu=function(t){var e=new t.constructor(t.byteLength);return new Ir(e).set(new Ir(t)),e},gv=function(t,e){var n=e?fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},mv=/\w*$/,bv=function(t){var e=new t.constructor(t.source,mv.exec(t));return e.lastIndex=t.lastIndex,e},yc=jt?jt.prototype:void 0,vc=yc?yc.valueOf:void 0,_v=function(t){return vc?Object(vc.call(t)):{}},gc=function(t,e){var n=e?fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Ov=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return fu(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return gv(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gc(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return bv(t);case"[object Set]":return new r;case"[object Symbol]":return _v(t)}},mc=Object.create,wv=function(){function t(){}return function(e){if(!Qt(e))return{};if(mc)return mc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),bc=function(t){return typeof t.constructor!="function"||Nn(t)?{}:wv(lu(t))},xv=function(t){return hn(t)&&yo(t)=="[object Map]"},_c=gr.a&&gr.a.isMap,Ev=_c?vn(_c):xv,Sv=function(t){return hn(t)&&yo(t)=="[object Set]"},Oc=gr.a&&gr.a.isSet,jv=Oc?vn(Oc):Sv,Kt={};Kt["[object Arguments]"]=Kt["[object Array]"]=Kt["[object ArrayBuffer]"]=Kt["[object DataView]"]=Kt["[object Boolean]"]=Kt["[object Date]"]=Kt["[object Float32Array]"]=Kt["[object Float64Array]"]=Kt["[object Int8Array]"]=Kt["[object Int16Array]"]=Kt["[object Int32Array]"]=Kt["[object Map]"]=Kt["[object Number]"]=Kt["[object Object]"]=Kt["[object RegExp]"]=Kt["[object Set]"]=Kt["[object String]"]=Kt["[object Symbol]"]=Kt["[object Uint8Array]"]=Kt["[object Uint8ClampedArray]"]=Kt["[object Uint16Array]"]=Kt["[object Uint32Array]"]=!0,Kt["[object Error]"]=Kt["[object Function]"]=Kt["[object WeakMap]"]=!1;var Pv=function t(e,n,r,o,u,i){var a,f=1&n,v=2&n,O=4&n;if(r&&(a=u?r(e,o,u,i):r(e)),a!==void 0)return a;if(!Qt(e))return e;var M=ln(e);if(M){if(a=vv(e),!f)return dc(e,a)}else{var k=yo(e),I=k=="[object Function]"||k=="[object GeneratorFunction]";if(Object(Gr.a)(e))return Object(pc.a)(e,f);if(k=="[object Object]"||k=="[object Arguments]"||I&&!u){if(a=v||I?{}:bc(e),!f)return v?dv(e,fv(a,e)):pv(e,uv(a,e))}else{if(!Kt[k])return u?e:{};a=Ov(e,k,f)}}i||(i=new Jn);var q=i.get(e);if(q)return q;i.set(e,a),jv(e)?e.forEach(function(ge){a.add(t(ge,n,r,ge,e,i))}):Ev(e)&&e.forEach(function(ge,je){a.set(je,t(ge,n,r,je,e,i))});var pe=M?void 0:(O?v?hv:tn:v?Wi:nr)(e);return av(pe||e,function(ge,je){pe&&(ge=e[je=ge]),Ur(a,je,t(ge,n,r,je,e,i))}),a},rn=function(t){return Pv(t,5)},pu=function(t,e,n){(n!==void 0&&!$e(t[e],n)||n===void 0&&!(e in t))&&go(t,e,n)},Mv=function(t){return hn(t)&&Hn(t)},Nv=Function.prototype,kv=Object.prototype,wc=Nv.toString,Av=kv.hasOwnProperty,Tv=wc.call(Object),Dv=function(t){if(!hn(t)||Bt(t)!="[object Object]")return!1;var e=lu(t);if(e===null)return!0;var n=Av.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&wc.call(n)==Tv},du=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},Cv=function(t){return Yr(t,Wi(t))},Rv=function(t,e,n,r,o,u,i){var a=du(t,n),f=du(e,n),v=i.get(f);if(v)pu(t,n,v);else{var O=u?u(a,f,n+"",t,e,i):void 0,M=O===void 0;if(M){var k=ln(f),I=!k&&Object(Gr.a)(f),q=!k&&!I&&so(f);O=f,k||I||q?ln(a)?O=a:Mv(a)?O=dc(a):I?(M=!1,O=Object(pc.a)(f,!0)):q?(M=!1,O=gc(f,!0)):O=[]:Dv(f)||Hr(f)?(O=a,Hr(a)?O=Cv(a):Qt(a)&&!Ho(a)||(O=bc(f))):M=!1}M&&(i.set(f,O),o(O,f,r,u,i),i.delete(f)),pu(t,n,O)}},Iv=function t(e,n,r,o,u){e!==n&&ba(n,function(i,a){if(u||(u=new Jn),Qt(i))Rv(e,n,a,r,t,o,u);else{var f=o?o(du(e,a),i,a+"",e,n,u):void 0;f===void 0&&(f=i),pu(e,a,f)}},Wi)},xc=F(function(t,e,n){Iv(t,e,n)}),Lv={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},Ec=function(t){var e=rn(Lv);return t&&(e=xc(e,t)),e};s(77),s(194);function Sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zv=function(){function t(){var o,u,i;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),i={},(u="_events")in(o=this)?Object.defineProperty(o,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[u]=i}var e,n,r;return e=t,(n=[{key:"on",value:function(o,u,i){var a=this;return o==null||o.split(",").forEach(function(f){f=f.trim(),a._events[f]||(a._events[f]=[]),a._events[f].push({callback:u,once:!!i})}),this}},{key:"once",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){return a=a.trim(),i.on(a,u,!0)})}},{key:"emit",value:function(o,u){var i=this;o==null||o.split(",").forEach(function(a){var f=i._events[a]||[],v=i._events["*"]||[],O=function(M){for(var k=M.length,I=0;I<k;I++)if(M[I]){var q=M[I],pe=q.callback;q.once&&(M.splice(I,1),M.length===0&&delete i._events[a],k--,I--),pe.apply(i,[u])}};O(f),O(v)})}},{key:"off",value:function(o,u){var i=this;return o||(this._events={}),o.split(",").forEach(function(a){if(u){for(var f=i._events[a]||[],v=f.length,O=0;O<v;O++)f[O].callback===u&&(f.splice(O,1),v--,O--);f.length===0&&delete i._events[a]}else delete i._events[a]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Sc(e.prototype,n),r&&Sc(e,r),t}();function Mi(t,e){return e*Math.round(t/e)||t}function jc(t,e){return t%e}function hu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Pc(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Pc(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yu,vu=function(t,e,n){var r=hu(t,2),o=r[0],u=r[1],i=hu(e,2),a=i[0],f=i[1],v=hu(n,2),O=v[0],M=v[1];return o>a&&o<O&&u>f&&u<M},Mc=function(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;default:n=!1}return n},Bv=(s(78),s(160),s(125),s(79),s(12),s(13),s(14),s(47),s(31),new Uint8Array(16));function Hv(){if(!yu&&!(yu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yu(Bv)}for(var Gv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Fv=function(t){return typeof t=="string"&&Gv.test(t)},En=[],gu=0;gu<256;++gu)En.push((gu+256).toString(16).substr(1));var Xv=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]).toLowerCase();if(!Fv(n))throw TypeError("Stringified UUID is invalid");return n},mu=function(t,e,n){var r=(t=t||{}).random||(t.rng||Hv)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return Xv(r)},ei=function(){return mu()},Uv=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,o){return r[o.id]=e+mu(),o.id=r[o.id],r},{});return t.edges.forEach(function(r){r.id=e+mu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},Zi=(s(104),s(203),function(t,e,n){var r=t.x,o=t.y;return(r-e.x)*(r-n.x)<=0&&(o-e.y)*(o-n.y)<=0});function Nc(t){return(Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function kc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kc(Object(n),!0).forEach(function(r){Yv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fe,Tc,Dc,Cc,Rc,Ic,Lc,zc,Bc,Hc,Gc,Fc,Xc,Uc,Yc,Vc,Wc,bu=function(t){return t.anchors},Oa=function(t,e){for(var n,r=e.nodes,o=r.length-1;o>=0;o--){var u=r[o];if(Zv(t,u)){var i=Wv(t,u);if(i){var a={node:u,anchorIndex:i.index,anchor:i.anchor};n&&!Vv(u,n.node,e)||(n=a)}}}return n},Vv=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},Wv=function(t,e){for(var n,r=bu(e),o=Number.MAX_SAFE_INTEGER,u=0;u<r.length;u++){var i=Vr(t.x,t.y,r[u].x,r[u].y);i<o&&(o=i,n={index:u,anchor:Ac(Ac({},r[u]),{},{x:r[u].x,y:r[u].y,id:r[u].id})})}return n},Vr=function(t,e,n,r){return Math.hypot(t-n,e-r)},Co=function(t,e){var n=!1,r=or(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Zv=function(t,e){var n=!1,r=or(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},or=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},Zc=function(t,e,n){var r,o=function(i){var a=i,f=a.x,v=a.y,O=a.width,M=a.height,k=a.radius;return[{x:f-O/2+k,y:v-M/2+k,r:k},{x:f+O/2-k,y:v-M/2+k,r:k},{x:f-O/2+k,y:v+M/2-k,r:k},{x:f+O/2-k,y:v+M/2-k,r:k}]}(n),u=Number.MAX_SAFE_INTEGER;return o.forEach(function(i){var a=Vr(t.x,t.y,i.x,i.y);a<u&&(u=a,r=i)}),_u(t,e,r)},_u=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.r;if(e===qt.HORIZONTAL){var f=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)),v=u+Math.sqrt(a*a-(t.y-i)*(t.y-i));r={x:Math.abs(f-t.x)<Math.abs(v-t.x)?f:v,y:t.y}}else if(e===qt.VERTICAL){var O=i-Math.sqrt(a*a-(t.x-u)*(t.x-u)),M=i+Math.sqrt(a*a-(t.x-u)*(t.x-u)),k=Math.abs(O-t.y)<Math.abs(M-t.y)?O:M;r={x:t.x,y:k}}return r},Kc=function(t,e){var n=e,r=!1,o=n.x-n.width/2+n.radius,u=n.x+n.width/2-n.radius,i=n.y-n.height/2+n.radius,a=n.y+n.height/2-n.radius,f=n.x,v=n.y,O=n.width,M=n.height;return t.y===v+M/2||t.y===v-M/2?r=t.x>o&&t.x<u:t.x!==f+O/2&&t.x!==f-O/2||(r=t.y>i&&t.y<a),r},$c=function(t,e,n){var r,o=n,u=o.x,i=o.y,a=o.rx,f=o.ry;if(e===qt.HORIZONTAL){var v=u-Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f)),O=u+Math.sqrt(a*a-(t.y-i)*(t.y-i)*a*a/(f*f));r={x:Math.abs(v-t.x)<Math.abs(O-t.x)?v:O,y:t.y}}else if(e===qt.VERTICAL){var M=i-Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),k=i+Math.sqrt(f*f-(t.x-u)*(t.x-u)*f*f/(a*a)),I=Math.abs(M-t.y)<Math.abs(k-t.y)?M:k;r={x:t.x,y:I}}return r},qc=function(t,e,n){for(var r,o=n.pointsPosition,u=Number.MAX_SAFE_INTEGER,i=[],a=0;a<o.length;a++)i.push({start:o[a],end:o[(a+1)%o.length]});return i.forEach(function(f){var v=f.start,O=f.end,M=v,k=O;v.x>O.x&&(M=O,k=v);var I={x:t.x,y:t.y};if(M.x===k.x&&e===qt.HORIZONTAL&&(I={x:M.x,y:t.y}),M.y===k.y&&e===qt.VERTICAL&&(I={x:t.x,y:M.y}),M.x!==k.x&&M.y!==k.y){var q=(k.y-M.y)/(k.x-M.x),pe=(M.x*k.y-k.x*M.y)/(M.x-k.x);e===qt.HORIZONTAL?I={x:(t.y-pe)/q,y:t.y}:e===qt.VERTICAL&&(I={x:t.x,y:q*t.x+pe})}if(Zi(I,v,O)){var ge=Vr(I.x,I.y,t.x,t.y);ge<u&&(u=ge,r=I)}}),r},Jc=function(t,e,n,r){var o=t.x,u=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?u=t.y+r/2:e.y<t.y&&(u=t.y-r/2),{x:o,y:u}},Qc=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,u=document.createElement("div");u.style.fontSize=n.fontSize,u.style.width=n.width,u.className=o,u.style.lineHeight=n.lineHeight,u.style.padding=n.padding,n.fontFamily&&(u.style.fontFamily=n.fontFamily),r>1?e.forEach(function(a){var f=document.createElement("div");f.textContent=a,u.appendChild(f)}):u.textContent=e,document.body.appendChild(u);var i=u.clientHeight;return document.body.removeChild(u),i},Ou=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach(function(u){var i=kl(u);o=i>o?i:o}),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},wa=function(t){return Nc(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},el={node:!1,edge:!1},Kv={node:!0,edge:!0},$v={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Wr=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},qv=1e3,Jv=999,wu=function(){return++qv};function tl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tl(Object(n),!0).forEach(function(r){_r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function In(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function At(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var xu=(Tc=At((Fe=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),_r(this,"id",ei()),In(this,"type",Tc,this),In(this,"sourceNodeId",Dc,this),In(this,"targetNodeId",Cc,this),In(this,"startPoint",Rc,this),In(this,"endPoint",Ic,this),In(this,"text",Lc,this),In(this,"properties",zc,this),In(this,"points",Bc,this),In(this,"pointsList",Hc,this),In(this,"isSelected",Gc,this),In(this,"isHovered",Fc,this),In(this,"isHitable",Xc,this),In(this,"draggable",Uc,this),In(this,"visible",Yc,this),_r(this,"graphModel",void 0),In(this,"zIndex",Vc,this),_r(this,"BaseType",yn.EDGE),_r(this,"modelType",Rt.EDGE),In(this,"state",Wc,this),_r(this,"additionStateData",void 0),_r(this,"sourceAnchorId",""),_r(this,"targetAnchorId",""),_r(this,"menu",void 0),_r(this,"customTextPosition",!1),_r(this,"animationData",$v),this.graphModel=u,this.initEdgeData(o),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(o)}var e,n,r;return e=t,(n=[{key:"initEdgeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}Y(this,hg(o)),this.graphModel.overlapMode===rr.INCREASE&&(this.zIndex=o.zIndex||wu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.baseEdge;return rn(o)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.edgeText;return rn(o)}},{key:"getAnimation",value:function(){var o=this.animationData;return rn(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return rn(o)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.sourceNodeId])===null||u===void 0?void 0:u.model}},{key:"targetNode",get:function(){var o,u;return(o=this.graphModel)===null||o===void 0||(u=o.nodesMap[this.targetNodeId])===null||u===void 0?void 0:u.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(o,u){var i,a;return bu(o).forEach(function(f){var v=Dl(f,u);a?v<a&&(a=v,i=f):(a=v,i=f)}),i}},{key:"getEndAnchor",value:function(o){var u,i,a=this;return bu(o).forEach(function(f){var v=Dl(f,a.startPoint);i?v<i&&(i=v,u=f):(i=v,u=f)}),u}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(d.I)(this.properties)};return a&&(f.text={x:u,y:i,value:a}),this.graphModel.overlapMode===rr.INCREASE&&(f.zIndex=this.zIndex),f}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(o,u){this.properties[o]=Wr(u),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=xa(xa({},this.properties),Wr(o)),this.setAttributes()}},{key:"formatText",value:function(o){var u=this.textPosition,i=u.x,a=u.y;o.text&&typeof o.text!="string"?Object.prototype.toString.call(o.text)==="[object Object]"&&(this.text={x:o.text.x||i,y:o.text.y||a,value:o.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:o.text||"",x:i,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var o=this.textPosition,u=o.x,i=o.y;this.text.x=u,this.text.y=i}},{key:"moveText",value:function(o,u){if(this.text){var i=this.text,a=i.x,f=i.y,v=i.value,O=i.draggable,M=i.editable;this.text={value:v,draggable:O,x:a+o,y:f+u,editable:M}}}},{key:"setText",value:function(o){o&&Y(this.text,o)}},{key:"updateText",value:function(o){this.text=xa(xa({},this.text),{},{value:o})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var o=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:o.x,y:o.y}),this.sourceAnchorId||(this.sourceAnchorId=o.id)}if(!this.targetAnchorId||!this.endPoint){var u=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:u.x,y:u.y}),this.targetAnchorId||(this.targetAnchorId=u.id)}}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"updateStartPoint",value:function(o){this.startPoint=o}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u}},{key:"updateEndPoint",value:function(o){this.endPoint=o}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=o}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(o){Y(this,o)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,i=o.endPoint;this.updateStartPoint({x:u.x,y:u.y}),this.updateEndPoint({x:i.x,y:i.y})}}])&&nl(e.prototype,n),r&&nl(e,r),t}()).prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dc=At(Fe.prototype,"sourceNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Cc=At(Fe.prototype,"targetNodeId",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rc=At(Fe.prototype,"startPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ic=At(Fe.prototype,"endPoint",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lc=At(Fe.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),zc=At(Fe.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Bc=At(Fe.prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hc=At(Fe.prototype,"pointsList",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gc=At(Fe.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fc=At(Fe.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xc=At(Fe.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Uc=At(Fe.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yc=At(Fe.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vc=At(Fe.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wc=At(Fe.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),At(Fe.prototype,"sourceNode",[d.m],Object.getOwnPropertyDescriptor(Fe.prototype,"sourceNode"),Fe.prototype),At(Fe.prototype,"targetNode",[d.m],Object.getOwnPropertyDescriptor(Fe.prototype,"targetNode"),Fe.prototype),At(Fe.prototype,"textPosition",[d.m],Object.getOwnPropertyDescriptor(Fe.prototype,"textPosition"),Fe.prototype),At(Fe.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"setProperty"),Fe.prototype),At(Fe.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"setProperties"),Fe.prototype),At(Fe.prototype,"formatText",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"formatText"),Fe.prototype),At(Fe.prototype,"resetTextPosition",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"resetTextPosition"),Fe.prototype),At(Fe.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"moveText"),Fe.prototype),At(Fe.prototype,"setText",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"setText"),Fe.prototype),At(Fe.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"updateText"),Fe.prototype),At(Fe.prototype,"setAnchors",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"setAnchors"),Fe.prototype),At(Fe.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"setSelected"),Fe.prototype),At(Fe.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"setHovered"),Fe.prototype),At(Fe.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"setHitable"),Fe.prototype),At(Fe.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"setElementState"),Fe.prototype),At(Fe.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"updateStartPoint"),Fe.prototype),At(Fe.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"moveStartPoint"),Fe.prototype),At(Fe.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"updateEndPoint"),Fe.prototype),At(Fe.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"moveEndPoint"),Fe.prototype),At(Fe.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"setZIndex"),Fe.prototype),At(Fe.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"initPoints"),Fe.prototype),At(Fe.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"updateAttributes"),Fe.prototype),At(Fe.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"getAdjustStart"),Fe.prototype),At(Fe.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"getAdjustEnd"),Fe.prototype),At(Fe.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Fe.prototype,"updateAfterAdjustStartAndEnd"),Fe.prototype),Fe),Eu=xu;function rl(t){return(rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ol(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ol(Object(n),!0).forEach(function(r){ll(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function al(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ul(){return(ul=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=eg(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function eg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ki(t))!==null;);return t}function sl(t,e){return(sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function tg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ki(t);if(e){var o=Ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ng(this,n)}}function ng(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cl(t)}function cl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ki(t){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ll(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pt,fl,Su=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&sl(i,a)})(u,t);var e,n,r,o=tg(u);function u(){var i;Qv(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return ll(cl(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.LINE_EDGE),i}return e=u,(n=[{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.line;return il(il({},ul(Ki(u.prototype),"getEdgeStyle",this).call(this)),rn(i))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&al(e.prototype,n),r&&al(e,r),u}(Eu);function pl(t){return(pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return dl(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return dl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hl(Object(n),!0).forEach(function(r){ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function og(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ig(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ea(){return(Ea=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=ag(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ag(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ti(t))!==null;);return t}function gl(t,e){return(gl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ug(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ti(t);if(e){var o=ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sg(this,n)}}function sg(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $i(t)}function $i(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ti(t){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ju(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fn(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Pu=(fl=Fn((Pt=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&gl(i,a)})(u,t);var e,n,r,o=ug(u);function u(){var i;ig(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return ju($i(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.POLYLINE_EDGE),ju($i(i),"draginngPointList",void 0),og($i(i),"dbClickPosition",fl,$i(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=30,Ea(ti(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.polyline;return yl(yl({},Ea(ti(u.prototype),"getEdgeStyle",this).call(this)),rn(i))}},{key:"getTextPosition",value:function(){var i,a=(i=this.text)===null||i===void 0?void 0:i.value;if(this.dbClickPosition&&!a){var f=this.dbClickPosition;return{x:f.x,y:f.y}}var v=Ni(this.points),O=rg(pg(v),2),M=O[0],k=O[1];return{x:(M.x+k.x)/2,y:(M.y+k.y)/2}}},{key:"getAfterAnchor",value:function(i,a,f){var v,O;return f.forEach(function(M){var k;i===qt.HORIZONTAL?k=Math.abs(a.y-M.y):i===qt.VERTICAL&&(k=Math.abs(a.x-M.x)),(!O||O>k)&&(O=k,v=M)}),v}},{key:"getCorssPoint",value:function(i,a,f){var v;return i===qt.HORIZONTAL?v={x:f.x,y:a.y}:i===qt.VERTICAL&&(v={x:a.x,y:f.y}),v}},{key:"removeCrossPoints",value:function(i,a,f){var v=f.map(function(Oe){return Oe});if(i===1){var O=v[i],M=v[a],k=v[i-1];if(jl(k,O,this.sourceNode)){if(Pl(O,M,this.sourceNode)){var I=Ml(O,M,this.sourceNode);I&&(v[i]=I,v.splice(i-1,1),i--,a--)}}else this.sourceNode.anchors.forEach(function(Oe){(Oe.x===k.x&&Oe.x===O.x||Oe.y===k.y&&Oe.y===O.y)&&Vr(Oe.x,Oe.y,O.x,O.y)<Vr(k.x,k.y,O.x,O.y)&&(v[i-1]=Oe)})}if(a===f.length-2){var q=v[i],pe=v[a],ge=v[a+1];if(jl(pe,ge,this.targetNode)){if(Pl(q,pe,this.targetNode)){var je=Ml(q,pe,this.targetNode);je&&(v[a]=je,v.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(Oe){(Oe.x===ge.x&&Oe.x===pe.x||Oe.y===ge.y&&Oe.y===pe.y)&&Vr(Oe.x,Oe.y,pe.x,pe.y)<Vr(ge.x,ge.y,pe.x,pe.y)&&(v[a+1]=Oe)})}return v}},{key:"getDragingPoints",value:function(i,a,f,v,O){var M=O.map(function(q){return q}),k=this.getAfterAnchor(i,f,v),I=this.getCorssPoint(i,f,k);return a==="start"?(M.unshift(I),M.unshift(k)):(M.push(I),M.push(k)),M}},{key:"updateCrossPoints",value:function(i){var a=i.map(function(Le){return Le}),f=i[0],v=i[1],O=i[a.length-2],M=i[a.length-1],k=this.sourceNode,I=this.targetNode,q=k.modelType,pe=I.modelType,ge=ka(f,v),je=a[0];switch(q){case Rt.RECT_NODE:k.radius!==0&&(Kc(f,k)||(je=Zc(f,ge,k)));break;case Rt.CIRCLE_NODE:je=_u(f,ge,k);break;case Rt.ELLIPSE_NODE:je=$c(f,ge,k);break;case Rt.DIAMOND_NODE:case Rt.POLYGON_NODE:je=qc(f,ge,k)}a[0]=je;var Oe=ka(O,M),we=a[a.length-1];switch(pe){case Rt.RECT_NODE:I.radius!==0&&(Kc(M,I)||(we=Zc(M,Oe,I)));break;case Rt.CIRCLE_NODE:we=_u(M,Oe,I);break;case Rt.ELLIPSE_NODE:we=$c(M,Oe,I);break;case Rt.DIAMOND_NODE:case Rt.POLYGON_NODE:we=qc(M,Oe,I)}return a[a.length-1]=we,a}},{key:"getData",value:function(){var i=Ea(ti(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return Object.assign({},i,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var i=Sl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=i,this.points=i.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(i){return i})}},{key:"dragAppendSimple",value:function(i,a){this.isDragging=!0;var f=i.start,v=i.end,O=i.startIndex,M=i.endIndex,k=i.direction,I=this.pointsList,q=I;return k===qt.HORIZONTAL?(I[O]={x:f.x,y:f.y+a.y},I[M]={x:v.x,y:v.y+a.y},q=this.pointsList.map(function(pe){return pe})):k===qt.VERTICAL&&(I[O]={x:f.x+a.x,y:f.y},I[M]={x:v.x+a.x,y:v.y},q=this.pointsList.map(function(pe){return pe})),this.updatePointsAfterDrage(q),this.draginngPointList=q,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[O]),end:Object.assign({},I[M]),startIndex:O,endIndex:M,direction:k}}},{key:"dragAppend",value:function(i,a){this.isDragging=!0;var f=i.start,v=i.end,O=i.startIndex,M=i.endIndex,k=i.direction,I=this.pointsList;if(k===qt.HORIZONTAL){I[O]={x:f.x,y:f.y+a.y},I[M]={x:v.x,y:v.y+a.y};var q=this.pointsList.map(function(ht){return ht});if(O!==0&&M!==this.pointsList.length-1&&(q=this.removeCrossPoints(O,M,q)),O===0){var pe={x:f.x,y:f.y+a.y};if(!Co(pe,this.sourceNode)){var ge=this.sourceNode.anchors;q=this.getDragingPoints(k,"start",pe,ge,q)}}if(M===this.pointsList.length-1){var je={x:v.x,y:v.y+a.y};if(!Co(je,this.targetNode)){var Oe=this.targetNode.anchors;q=this.getDragingPoints(k,"end",je,Oe,q)}}q=Tu(q),this.updatePointsAfterDrage(q),this.draginngPointList=q}else if(k===qt.VERTICAL){I[O]={x:f.x+a.x,y:f.y},I[M]={x:v.x+a.x,y:v.y};var we=this.pointsList.map(function(ht){return ht});if(O!==0&&M!==this.pointsList.length-1&&(we=this.removeCrossPoints(O,M,we)),O===0){var Le={x:f.x+a.x,y:f.y};if(!Co(Le,this.sourceNode)){var Ke=this.sourceNode.anchors;we=this.getDragingPoints(k,"start",Le,Ke,we)}}if(M===this.pointsList.length-1){var Ue={x:v.x+a.x,y:v.y};if(!Co(Ue,this.targetNode)){var et=this.targetNode.anchors;we=this.getDragingPoints(k,"end",Ue,et,we)}}we=Tu(we),this.updatePointsAfterDrage(we),this.draginngPointList=we}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},I[O]),end:Object.assign({},I[M]),startIndex:O,endIndex:M,direction:k}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var i=Ni(this.points);this.pointsList=i.map(function(v){return v}),this.draginngPointList=[];var a=i[0];this.startPoint=Object.assign({},a);var f=i[i.length-1];this.endPoint=Object.assign({},f)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(i){var a=this.updateCrossPoints(i);this.points=a.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,v=i.sourceNode,O=i.targetNode,M=Sl({x:a.x,y:a.y},{x:f.x,y:f.y},v,O,this.offset||0);this.pointsList=M,this.initPoints()}}])&&vl(e.prototype,n),r&&vl(e,r),u}(Eu)).prototype,"dbClickPosition",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fn(Pt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"initPoints"),Pt.prototype),Fn(Pt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updatePoints"),Pt.prototype),Fn(Pt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updateStartPoint"),Pt.prototype),Fn(Pt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"moveStartPoint"),Pt.prototype),Fn(Pt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updateEndPoint"),Pt.prototype),Fn(Pt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"moveEndPoint"),Pt.prototype),Fn(Pt.prototype,"dragAppendStart",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppendStart"),Pt.prototype),Fn(Pt.prototype,"dragAppendSimple",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppendSimple"),Pt.prototype),Fn(Pt.prototype,"dragAppend",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppend"),Pt.prototype),Fn(Pt.prototype,"dragAppendEnd",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"dragAppendEnd"),Pt.prototype),Fn(Pt.prototype,"updatePointsAfterDrage",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updatePointsAfterDrage"),Pt.prototype),Fn(Pt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"getAdjustStart"),Pt.prototype),Fn(Pt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"getAdjustEnd"),Pt.prototype),Fn(Pt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Pt.prototype,"updateAfterAdjustStartAndEnd"),Pt.prototype),Pt),qi=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,u=t.type,i={leftX:0,leftY:0,rightX:0,rightY:0},a=Math.atan((n.y-e.y)/(n.x-e.x)),f=Math.atan(r/o),v=Math.sqrt(o*o+r*r);return u==="start"?n.x>=e.x?(i.leftX=e.x+v*Math.sin(a+f),i.leftY=e.y-v*Math.cos(a+f),i.rightX=e.x-v*Math.sin(a-f),i.rightY=e.y+v*Math.cos(a-f)):(i.leftX=e.x-v*Math.sin(a+f),i.leftY=e.y+v*Math.cos(a+f),i.rightX=e.x+v*Math.sin(a-f),i.rightY=e.y-v*Math.cos(a-f)):u==="end"&&(n.x>=e.x?(i.leftX=n.x+v*Math.sin(a-f),i.leftY=n.y-v*Math.cos(a-f),i.rightX=n.x-v*Math.sin(a+f),i.rightY=n.y+v*Math.cos(a+f)):(i.leftX=n.x-v*Math.sin(a-f),i.leftY=n.y+v*Math.cos(a-f),i.rightX=n.x+v*Math.sin(a+f),i.rightY=n.y-v*Math.cos(a+f))),i};function ml(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ml(Object(n),!0).forEach(function(r){cg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lg(t){return function(e){if(Array.isArray(e))return Nu(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||_l(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bl(t){return(bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||_l(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _l(t,e){if(t){if(typeof t=="string")return Nu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nu(t,e):void 0}}function Nu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ku=function(t){var e=[],n={};return t.forEach(function(r){var o="".concat(r.x,"-").concat(r.y);r.id=o,n[o]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},ja=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Pa=function(t,e){return function(n,r){var o=Math.abs(n.x-r.centerX),u=Math.abs(n.y-r.centerY);return o/r.width>u/r.height?qt.HORIZONTAL:qt.VERTICAL}(e,t)===qt.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Ol=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),u=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+u)/2,minX:n,minY:r,maxX:o,maxY:u,height:u-r,width:o-n}},Ji=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(O){n.push(O.x),r.push(O.y)});var o=Math.min.apply(Math,n),u=Math.max.apply(Math,n),i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),f=u-o,v=a-i;return e&&(f+=e,v+=e),{centerX:(o+u)/2,centerY:(i+a)/2,maxX:u,maxY:a,minX:o,minY:i,x:(o+u)/2,y:(i+a)/2,height:v,width:f}},Ma=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},Na=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},Au=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},wl=function(t,e,n,r,o){return Au(t,e)+Au(t,n)+function(u,i){var a=0;return i.forEach(function(f){f&&(u.x===f.x&&(a+=-2),u.y===f.y&&(a+=-2))}),a}(t,[e,n,r,o])},Qi=function(t,e,n,r){var o=e.x-t.x,u=e.y-t.y,i=r.x-n.x,a=r.y-n.y,f=(-u*(t.x-n.x)+o*(t.y-n.y))/(-i*u+o*a),v=(i*(t.y-n.y)-a*(t.x-n.x))/(-i*u+o*a);return f>=0&&f<=1&&v>=0&&v<=1},xl=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Mu(Ma(n),4),o=r[0],u=r[1],i=r[2],a=r[3];return Qi(t,e,o,u)||Qi(t,e,o,a)||Qi(t,e,u,i)||Qi(t,e,i,a)},fg=function(t,e,n,r,o,u,i){var a=[],f=[e],v={},O={},M={};O[e.id]=0,M[e.id]=wl(e,n,e);var k={};t.forEach(function(pe){k[pe.id]=pe});for(var I=function(){var pe,ge,je,Oe=void 0,we=1/0;if(f.forEach(function(Ke){M[Ke.id]<we&&(we=M[Ke.id],Oe=Ke)}),Oe===n){var Le=[];return function Ke(Ue,et,ht,Et,kt){kt||(kt=0),Ue.unshift(et[Et]),ht[Et]&&ht[Et]!==Et&&kt<=100&&Ke(Ue,et,ht,ht[Et],kt+1)}(Le,k,v,n.id),{v:Le}}ge=Oe,(je=(pe=f).indexOf(ge))>-1&&pe.splice(je,1),a.push(Oe),function(Ke,Ue,et,ht){var Et=[];return Ke.forEach(function(kt){kt!==Ue&&(kt.x!==Ue.x&&kt.y!==Ue.y||xl(kt,Ue,et)||xl(kt,Ue,ht)||Et.push(kt))}),ku(Et)}(t,Oe,r,o).forEach(function(Ke){if(a.indexOf(Ke)===-1){f.indexOf(Ke)===-1&&f.push(Ke);var Ue=M[Oe.id]+Au(Oe,Ke);O[Ke.id]&&Ue>=O[Ke.id]||(v[Ke.id]=Oe.id,O[Ke.id]=Ue,M[Ke.id]=O[Ke.id]+wl(Ke,n,e,u,i))}})};f.length;){var q=I();if(bl(q)==="object")return q.v}return[e,n]},El=function(t){return or(t)},Tu=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],o=e[n],u=e[n+1];r.x===o.x&&o.x===u.x||r.y===o.y&&o.y===u.y?e.splice(n,1):n++}return e},Sl=function(t,e,n,r,o){var u,i,a=El(n),f=El(r),v=ja(a,o),O=ja(f,o),M=Pa(v,t),k=Pa(O,e);if(u=v,i=O,2*Math.abs(u.centerX-i.centerX)<u.width+i.width&&2*Math.abs(u.centerY-i.centerY)<u.height+i.height){var I=dg(t,e,M,k);return[t,M].concat(lg(I),[k,e])}var q=Ji([M,k]),pe=Ol(v,q),ge=Ol(O,q),je=[];je=(je=je.concat(Ma(pe))).concat(Ma(ge));var Oe={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[q,pe,ge].forEach(function(Le){je=je.concat(function(Ke,Ue){return function(et,ht){return ht<et.minX||ht>et.maxX?[]:[{x:ht,y:et.minY},{x:ht,y:et.maxY}]}(Ke,Ue.x).concat(function(et,ht){return ht<et.minY||ht>et.maxY?[]:[{x:et.minX,y:ht},{x:et.maxX,y:ht}]}(Ke,Ue.y))}(Le,Oe).filter(function(Ke){return Na(Ke,v)&&Na(Ke,O)}))}),[{x:M.x,y:k.y},{x:k.x,y:M.y}].forEach(function(Le){Na(Le,v)&&Na(Le,O)&&je.push(Le)}),je.unshift(M),je.push(k),je=ku(je);var we=fg(je,M,k,a,f,t,e);return we.unshift(t),we.push(e),we.length>2&&(we=Tu(we)),ku(we)},pg=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],o=Vr(n.x,n.y,r.x,r.y),u=1;u<t.length-1;u++){var i=t[u],a=t[u+1],f=Vr(i.x,i.y,a.x,a.y);f>o&&(o=f,n=i,r=a)}e=[n,r]}return e},jl=function(t,e,n){var r=Co(t,n),o=Co(e,n);return r&&o},Pl=function(t,e,n){var r=Co(t,n),o=Co(e,n);return!(r&&o)&&(r||o)},Ml=function(t,e,n){for(var r,o,u=or(n),i=Ma(u),a=0;a<i.length;a++)Qi(t,e,i[a],i[(a+1)%i.length])&&(o=[i[a],i[(a+1)%i.length]]);return o&&(r=function(f,v,O,M){var k=(v.y-f.y)*(M.x-O.x)-(f.x-v.x)*(O.y-M.y);if(k===0)return!1;var I=((v.x-f.x)*(M.x-O.x)*(O.y-f.y)+(v.y-f.y)*(M.x-O.x)*f.x-(M.y-O.y)*(v.x-f.x)*O.x)/k,q=-((v.y-f.y)*(M.y-O.y)*(O.x-f.x)+(v.x-f.x)*(M.y-O.y)*f.y-(M.x-O.x)*(v.y-f.y)*O.y)/k;return(I-f.x)*(I-v.x)<=0&&(q-f.y)*(q-v.y)<=0&&(I-O.x)*(I-M.x)<=0&&(q-O.y)*(q-M.y)<=0&&{x:I,y:q}}(t,e,o[0],o[1])),r},ka=function(t,e){var n;return t.x===e.x?n=qt.VERTICAL:t.y===e.y&&(n=qt.HORIZONTAL),n},Ni=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var o=Mu(r.split(","),2),u=o[0],i=o[1];n.push({x:Number(u),y:Number(i)})}),n},dg=function(t,e,n,r){var o=[];if(ka(t,n)===ka(e,r))t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var u={x:n.x,y:r.y},i=Zi(u,t,n),a=Zi(u,e,r);if(i||a)u={x:r.x,y:n.y};else{var f=Nl(u,t,n),v=Nl(u,e,r);f&&v&&(u={x:r.x,y:n.y})}o.push(u)}return o},Nl=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},kl=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Al=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,u=t.offset,i=or(r),a=or(o),f=ja(i,u),v=ja(a,u);return{sNext:Pa(f,e),ePre:Pa(v,n)}},Aa=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ta(e[0]),Ta(e[1]),Ta(e[2]),Ta(e[3])]},Ta=function(t){var e=Mu(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Tl=function(t,e){for(var n,r=t.x,o=t.y,u=Ni(e),i=Number.MAX_SAFE_INTEGER,a=[],f=0;f<u.length;f++)a.push({start:u[f],end:u[(f+1)%u.length]});if(a.forEach(function(k){var I=k.start,q=k.end;if(I.x===q.x){var pe={x:I.x,y:o};if(Zi(pe,I,q)){var ge=Math.abs(I.x-r);ge<i&&(i=ge,n=pe)}}else if(I.y===q.y){var je={x:r,y:I.y};if(Zi(je,I,q)){var Oe=Math.abs(I.y-o);Oe<i&&(i=Oe,n=je)}}}),!n){var v=a[0],O=v.start,M=v.end;n={x:O.x+(M.x-O.x)/2,y:O.y+(M.y-O.y)/2}}return n},hg=function(t){return Vi(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Dl=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};s(204);var ki=function(){};function Cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zr=window.document;function Du(t){var e=t.onDragStart,n=e===void 0?ki:e,r=t.onDraging,o=r===void 0?ki:r,u=t.onDragEnd,i=u===void 0?ki:u,a=t.step,f=a===void 0?1:a,v=t.isStopPropagation,O=v===void 0||v,M=!1,k=!1,I=0,q=0,pe=0,ge=0;function je(we){if(O&&we.stopPropagation(),k&&(M=!0,pe+=we.clientX-I,ge+=we.clientY-q,I=we.clientX,q=we.clientY,Math.abs(pe)>f||Math.abs(ge)>f)){var Le=pe%f,Ke=ge%f,Ue=pe-Le,et=ge-Ke;pe=Le,ge=Ke,o({deltaX:Ue,deltaY:et,event:we})}}function Oe(we){if(O&&we.stopPropagation(),k=!1,Zr.removeEventListener("mousemove",je,!1),Zr.removeEventListener("mouseup",Oe,!1),M)return M=!1,i({event:we})}return function(we){if(we.button===0)return O&&we.stopPropagation(),k=!0,I=we.clientX,q=we.clientY,Zr.addEventListener("mousemove",je,!1),Zr.addEventListener("mouseup",Oe,!1),n({event:we})}}var Ne,Rl,Il,Ll,zl,Bl,Hl,Gl,Fl,Xl,Ul,Yl,Vl,ni=function(){function t(o){var u=this,i=o.onDragStart,a=i===void 0?ki:i,f=o.onDraging,v=f===void 0?ki:f,O=o.onDragEnd,M=O===void 0?ki:O,k=o.eventType,I=k===void 0?"":k,q=o.eventCenter,pe=q===void 0?null:q,ge=o.step,je=ge===void 0?1:ge,Oe=o.isStopPropagation,we=Oe===void 0||Oe,Le=o.model,Ke=Le===void 0?null:Le;(function(Ue,et){if(!(Ue instanceof et))throw new TypeError("Cannot call a class as a function")})(this,t),pn(this,"onDragStart",void 0),pn(this,"onDraging",void 0),pn(this,"onDragEnd",void 0),pn(this,"step",void 0),pn(this,"isStopPropagation",void 0),pn(this,"isDraging",!1),pn(this,"isStartDraging",!1),pn(this,"startX",0),pn(this,"startY",0),pn(this,"sumDeltaX",0),pn(this,"sumDeltaY",0),pn(this,"eventType",void 0),pn(this,"eventCenter",void 0),pn(this,"model",void 0),pn(this,"startTime",void 0),pn(this,"isGrag",void 0),pn(this,"handleMouseDown",function(Ue){var et,ht;if(Ue.button===0){u.isStopPropagation&&Ue.stopPropagation(),u.isStartDraging=!0,u.startX=Ue.clientX,u.startY=Ue.clientY,Zr.addEventListener("mousemove",u.handleMouseMove,!1),Zr.addEventListener("mouseup",u.handleMouseUp,!1);var Et=(et=u.model)===null||et===void 0?void 0:et.getData();(ht=u.eventCenter)===null||ht===void 0||ht.emit(xt["".concat(u.eventType,"_MOUSEDOWN")],{e:Ue,data:Et}),u.startTime=new Date().getTime()}}),pn(this,"handleMouseMove",function(Ue){if(u.isStopPropagation&&Ue.stopPropagation(),u.isStartDraging&&(u.sumDeltaX+=Ue.clientX-u.startX,u.sumDeltaY+=Ue.clientY-u.startY,u.startX=Ue.clientX,u.startY=Ue.clientY,u.step<=1||Math.abs(u.sumDeltaX)>u.step||Math.abs(u.sumDeltaY)>u.step)){var et,ht=u.sumDeltaX%u.step,Et=u.sumDeltaY%u.step,kt=u.sumDeltaX-ht,$t=u.sumDeltaY-Et;u.sumDeltaX=ht,u.sumDeltaY=Et;var dn,jn=(et=u.model)===null||et===void 0?void 0:et.getData();u.isDraging||((dn=u.eventCenter)===null||dn===void 0||dn.emit(xt["".concat(u.eventType,"_DRAGSTART")],{e:Ue,data:jn}),u.onDragStart({event:Ue})),u.isDraging=!0,Promise.resolve().then(function(){var Yn,Pn;u.onDraging({deltaX:kt,deltaY:$t,event:Ue}),(Yn=u.eventCenter)===null||Yn===void 0||Yn.emit(xt["".concat(u.eventType,"_MOUSEMOVE")],{e:Ue,data:jn}),(Pn=u.eventCenter)===null||Pn===void 0||Pn.emit(xt["".concat(u.eventType,"_DRAG")],{e:Ue,data:jn})})}}),pn(this,"handleMouseUp",function(Ue){u.isStartDraging=!1,u.isStopPropagation&&Ue.stopPropagation(),Promise.resolve().then(function(){var et,ht,Et;Zr.removeEventListener("mousemove",u.handleMouseMove,!1),Zr.removeEventListener("mouseup",u.handleMouseUp,!1);var kt=(et=u.model)===null||et===void 0?void 0:et.getData();(ht=u.eventCenter)===null||ht===void 0||ht.emit(xt["".concat(u.eventType,"_MOUSEUP")],{e:Ue,data:kt}),u.isDraging&&(u.isDraging=!1,u.onDragEnd({event:Ue}),(Et=u.eventCenter)===null||Et===void 0||Et.emit(xt["".concat(u.eventType,"_DROP")],{e:Ue,data:kt}))})}),pn(this,"cancelDrag",function(){Zr.removeEventListener("mousemove",u.handleMouseMove,!1),Zr.removeEventListener("mouseup",u.handleMouseUp,!1),u.isDraging=!1}),this.onDragStart=a,this.onDraging=v,this.onDragEnd=M,this.step=je,this.isStopPropagation=we,this.eventType=I,this.eventCenter=pe,this.model=Ke}var e,n,r;return e=t,(n=[{key:"setStep",value:function(o){this.step=o}}])&&Cl(e.prototype,n),r&&Cl(e,r),t}();function Wl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wl(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zl(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||Kl(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ai(t){return function(e){if(Array.isArray(e))return Cu(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Kl(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kl(t,e){if(t){if(typeof t=="string")return Cu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cu(t,e):void 0}}function Cu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ru(t){return(Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yt(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var ql,Jl=(Rl=yt((Ne=function(){function t(o){(function(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")})(this,t),mo(this,"rootEl",void 0),dr(this,"width",Rl,this),dr(this,"height",Il,this),mo(this,"theme",void 0),mo(this,"eventCenter",void 0),mo(this,"modelMap",new Map),mo(this,"topElement",void 0),mo(this,"animation",void 0),mo(this,"idGenerator",void 0),mo(this,"nodeMoveRules",[]),dr(this,"edgeType",Ll,this),dr(this,"nodes",zl,this),dr(this,"edges",Bl,this),dr(this,"overlapMode",Hl,this),dr(this,"background",Gl,this),dr(this,"transformModel",Fl,this),dr(this,"editConfigModel",Xl,this),dr(this,"gridSize",Ul,this),dr(this,"partial",Yl,this),dr(this,"fakerNode",Vl,this);var u,i=o.container,a=o.background,f=a===void 0?{}:a,v=o.grid,O=o.idGenerator,M=o.animation;this.background=f,Ru(v)==="object"&&(this.gridSize=v.size),this.rootEl=i,this.editConfigModel=new nc(o),this.eventCenter=new zv,this.transformModel=new iv(this.eventCenter),this.theme=Ec(o.style),this.edgeType=o.edgeType||"polyline",o.width||(o.width=i.getBoundingClientRect().width),o.height||(o.height=i.getBoundingClientRect().height),this.width=o.width,this.height=o.height,this.animation=(u=M)&&typeof u!="boolean"?xc(rn(el),u):rn(u===!0?Kv:el),this.partial=o.partial,this.overlapMode=o.overlapMode||0,this.idGenerator=O}var e,n,r;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(o,u,i){return o[u.id]={index:i,model:u},o},{})}},{key:"modelsMap",get:function(){return[].concat(Ai(this.nodes),Ai(this.edges)).reduce(function(o,u){return o[u.id]=u,o},{})}},{key:"sortElements",get:function(){var o=[];this.nodes.forEach(function(k){return o.push(k)}),this.edges.forEach(function(k){return o.push(k)}),o=o.sort(function(k,I){return k.zIndex-I.zIndex});for(var u=[],i=-1,a=[-200,-200],f=[this.width+200,this.height+200],v=0;v<o.length;v++){var O=o[v];O.visible&&(!this.partial||O.isSelected||this.isElementInArea(O,a,f,!1,!1))&&(O.zIndex===9999&&(i=u.length),u.push(O))}if(i!==-1){var M=u[u.length-1];u[u.length-1]=u[i],u[i]=M}return u}},{key:"textEditElement",get:function(){var o=this.nodes.find(function(i){return i.state===Yt.TEXT_EDIT}),u=this.edges.find(function(i){return i.state===Yt.TEXT_EDIT});return o||u}},{key:"selectElements",get:function(){var o=new Map;return this.nodes.forEach(function(u){u.isSelected&&o.set(u.id,u)}),this.edges.forEach(function(u){u.isSelected&&o.set(u.id,u)}),o}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=[],v=[];this.nodes.forEach(function(k){return v.push(k)}),this.edges.forEach(function(k){return v.push(k)});for(var O=0;O<v.length;O++){var M=v[O];this.isElementInArea(M,o,u,i,a)&&f.push(M)}return f}},{key:"getModel",value:function(o){return this.modelMap.get(o)}},{key:"getNodeModelById",value:function(o){var u;return this.fakerNode&&o===this.fakerNode.id?this.fakerNode:(u=this.nodesMap[o])===null||u===void 0?void 0:u.model}},{key:"getPointByClient",value:function(o){var u=o.x,i=o.y,a=this.rootEl.getBoundingClientRect(),f={x:u-a.left,y:i-a.top},v=Zl(this.transformModel.HtmlPointToCanvasPoint([f.x,f.y]),2);return{domOverlayPosition:f,canvasOverlayPosition:{x:v[0],y:v[1]}}}},{key:"isElementInArea",value:function(o,u,i){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],f=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(o.BaseType===yn.NODE){for(var v=or(o=o),O=v.minX,M=v.minY,k=v.maxX,I=v.maxY,q=[{x:O,y:M},{x:k,y:M},{x:k,y:I},{x:O,y:I}],pe=f,ge=0;ge<q.length;ge++){var je=q[ge],Oe=je.x,we=je.y,Le=this.transformModel.CanvasPointToHtmlPoint([Oe,we]),Ke=Zl(Le,2);if(Oe=Ke[0],we=Ke[1],vu([Oe,we],u,i)!==f){pe=!f;break}}return pe}if(o.BaseType===yn.EDGE){var Ue=o=o,et=Ue.startPoint,ht=Ue.endPoint,Et=this.transformModel.CanvasPointToHtmlPoint([et.x,et.y]),kt=this.transformModel.CanvasPointToHtmlPoint([ht.x,ht.y]),$t=vu(Et,u,i),dn=vu(kt,u,i);return a?$t&&dn:$t||dn}return!1}},{key:"graphDataToModel",value:function(o){var u=this;this.nodes=Yi(o.nodes,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var f=i.x,v=i.y;return f&&v&&(i.x=Mi(f,u.gridSize),i.y=Mi(v,u.gridSize),Ru(i.text)==="object"&&(i.text.x-=jc(f,u.gridSize),i.text.y-=jc(v,u.gridSize))),new a(i,u)}),this.edges=Yi(o.edges,function(i){var a=u.getModel(i.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(i,u)})}},{key:"modelToGraphData",value:function(){var o=[];this.edges.forEach(function(i){var a=i.getData();a&&o.push(a)});var u=[];return this.nodes.forEach(function(i){var a=i.getData();a&&u.push(a)}),{nodes:u,edges:o}}},{key:"modelToHistoryData",value:function(){for(var o=!1,u=[],i=0;i<this.nodes.length;i++){var a=this.nodes[i];if(a.isDragging){o=!0;break}u.push(a.getHistoryData())}if(o)return!1;for(var f=!1,v=[],O=0;O<this.edges.length;O++){var M=this.edges[O];if(M.isDragging){f=!0;break}v.push(M.getHistoryData())}return!f&&{nodes:u,edges:v}}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getElement",value:function(o){return this.modelsMap[o]}},{key:"getNodeEdges",value:function(o){for(var u=[],i=0;i<this.edges.length;i++){var a=this.edges[i],f=this.edges[i].sourceNodeId===o,v=this.edges[i].targetNodeId===o;(f||v)&&u.push(a)}return u}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],u=this.selectElements,i={nodes:[],edges:[]};return u.forEach(function(a){if(a.BaseType===yn.NODE&&i.nodes.push(a.getData()),a.BaseType===yn.EDGE){var f=a.getData(),v=u.get(f.sourceNodeId)&&u.get(f.targetNodeId);(o||v)&&i.edges.push(f)}}),i}},{key:"updateAttributes",value:function(o,u){this.getElement(o).updateAttributes(u)}},{key:"changeNodeId",value:function(o,u){return u||(u=ei()),this.nodesMap[u]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(u,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[o]?(this.edges.forEach(function(i){i.sourceNodeId===o&&(i.sourceNodeId=u),i.targetNodeId===o&&(i.targetNodeId=u)}),this.nodesMap[o].model.id=u,u):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(u,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(o,u){return u||(u=ei()),this.edgesMap[u]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(u,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[o]?(this.edges.forEach(function(i){i.id===o&&(i.id=u)}),u):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(u,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(o){this.fakerNode=o}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(o,u){return this.modelMap.set(o,u)}},{key:"toFront",value:function(o){var u,i,a,f=((u=this.nodesMap[o])===null||u===void 0?void 0:u.model)||((i=this.edgesMap[o])===null||i===void 0?void 0:i.model);f&&(this.overlapMode===rr.DEFAULT&&((a=this.topElement)===null||a===void 0||a.setZIndex(),f.setZIndex(9999),this.topElement=f),this.overlapMode===rr.INCREASE&&this.setElementZIndex(o,"top"))}},{key:"setElementZIndex",value:function(o,u){var i,a,f,v=((i=this.nodesMap[o])===null||i===void 0?void 0:i.model)||((a=this.edgesMap[o])===null||a===void 0?void 0:a.model);v&&(typeof u=="number"&&(f=u),u==="top"&&(f=wu()),u==="bottom"&&(f=--Jv),v.setZIndex(f))}},{key:"deleteNode",value:function(o){var u=this.nodesMap[o].model.getData();this.deleteEdgeBySource(o),this.deleteEdgeByTarget(o),this.nodes.splice(this.nodesMap[o].index,1),this.eventCenter.emit(xt.NODE_DELETE,{data:u})}},{key:"addNode",value:function(o){var u=Wr(o);u.id&&this.nodesMap[o.id]&&delete u.id;var i=this.getModel(u.type);if(!i)throw new Error("\u627E\u4E0D\u5230".concat(u.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new i(u,this);this.nodes.push(a);var f=a.getData();return this.eventCenter.emit(xt.NODE_ADD,{data:f}),a}},{key:"cloneNode",value:function(o){var u=this.getNodeModelById(o),i=u.getData();i.x+=30,i.y+=30,delete i.id,i.text&&(i.text.x+=30,i.text.y+=30);var a=this.addNode(i);return a.setSelected(!0),u.setSelected(!1),a.getData()}},{key:"moveNode",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var v=f.model,O=v.move(u,i,a);O&&this.moveEdge(o,u,i)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(o,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(o,u,i){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=this.nodesMap[o];if(f){var v=f.model,O=v.x,M=v.y,k=u-O,I=i-M;this.moveNode(o,k,I,a)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(o,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(o){this.setElementStateById(o,Yt.TEXT_EDIT)}},{key:"addEdge",value:function(o){var u=Wr(o),i=u.type;i||(i=this.edgeType),u.id&&this.edgesMap[u.id]&&delete u.id;var a=this.getModel(i);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var f=new a(Da(Da({},u),{},{type:i}),this),v=f.getData();return this.edges.push(f),this.eventCenter.emit(xt.EDGE_ADD,{data:v}),f}},{key:"moveEdge",value:function(o,u,i){for(var a=0;a<this.edges.length;a++){var f,v=this.edges[a],O=v.textPosition,M=O.x,k=O.y,I=this.edges[a].sourceNodeId===o,q=this.edges[a].targetNodeId===o;if(I&&v.moveStartPoint(u,i),q&&v.moveEndPoint(u,i),I||q)if(v.customTextPosition===!0)v.resetTextPosition();else if(v.modelType===Rt.POLYLINE_EDGE&&(f=v.text)!==null&&f!==void 0&&f.value){var pe=v.text,ge=Tl(pe,v.points);v.moveText(ge.x-pe.x,ge.y-pe.y)}else{var je=v.textPosition,Oe=je.x,we=je.y;v.moveText(Oe-M,we-k)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(o,u){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===o&&this.edges[i].targetNodeId===u){var a=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(xt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(o){if(this.edgesMap[o]){var u=this.edgesMap[o].index,i=this.edgesMap[o].model.getData();this.edges.splice(u,1),this.eventCenter.emit(xt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeBySource",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].sourceNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(xt.EDGE_DELETE,{data:i})}}},{key:"deleteEdgeByTarget",value:function(o){for(var u=0;u<this.edges.length;u++)if(this.edges[u].targetNodeId===o){var i=this.edges[u].getData();this.edges.splice(u,1),u--,this.eventCenter.emit(xt.EDGE_DELETE,{data:i})}}},{key:"setElementStateById",value:function(o,u,i){this.nodes.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Yt.DEFAULT)}),this.edges.forEach(function(a){a.id===o?a.setElementState(u,i):a.setElementState(Yt.DEFAULT)})}},{key:"updateText",value:function(o,u){this.nodes.forEach(function(i){i.id===o&&i.updateText(u)}),this.edges.forEach(function(i){i.id===o&&i.updateText(u)})}},{key:"selectNodeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.nodesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(o){var u,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var a=(u=this.edgesMap[o])===null||u===void 0?void 0:u.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];u||this.clearSelectElements();var i=this.getElement(o);i==null||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var o;this.selectElements.forEach(function(u){u==null||u.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===rr.DEFAULT&&((o=this.topElement)===null||o===void 0||o.setZIndex())}},{key:"moveNodes",value:function(o,u,i){var a=this,f=arguments.length>3&&arguments[3]!==void 0&&arguments[3];o.forEach(function(v){return a.moveNode(v,u,i,f)})}},{key:"addNodeMoveRules",value:function(o){this.nodeMoveRules.includes(o)||this.nodeMoveRules.push(o)}},{key:"setDefaultEdgeType",value:function(o){this.edgeType=o}},{key:"changeNodeType",value:function(o,u){var i=this.getNodeModelById(o);if(i){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var v=new f(a,this);this.nodes.splice(this.nodesMap[o].index,1,v),this.getNodeEdges(o).forEach(function(O){if(O.sourceNodeId===o){var M=Jc(v,O.startPoint,v.width,v.height);O.updateStartPoint(M)}if(O.targetNodeId===o){var k=Jc(v,O.endPoint,v.width,v.height);O.updateEndPoint(k)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(o,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(o,u){var i=this.getEdgeModelById(o);if(i){if(i.type!==u){var a=i.getData();a.type=u;var f=this.getModel(u);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(u,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var v=new f(a,this);this.edges.splice(this.edgesMap[o].index,1,v)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(o,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.targetNodeId===o&&u.push(i)}),u}},{key:"getNodeOutgoingEdge",value:function(o){var u=[];return this.edges.forEach(function(i){i.sourceNodeId===o&&u.push(i)}),u}},{key:"getNodeIncomingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.targetNodeId===o&&i.push(u.nodesMap[a.sourceNodeId].model)}),i}},{key:"getNodeOutgoingNode",value:function(o){var u=this,i=[];return this.edges.forEach(function(a){a.sourceNodeId===o&&i.push(u.nodesMap[a.targetNodeId].model)}),i}},{key:"setTheme",value:function(o){this.theme=Ec(Da(Da({},this.theme),o))}},{key:"resize",value:function(o,u){this.width=o!=null?o:this.width,this.height=u!=null?u:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var o=this.nodes,u=[],i=[];o.forEach(function(k){var I=k.x,q=k.y,pe=k.width,ge=k.height,je=k.getNodeStyle().strokeWidth,Oe=je===void 0?0:je;u=u.concat([I+pe/2+Oe,I-pe/2-Oe]),i=i.concat([q+ge/2+Oe,q-ge/2-Oe])});var a=Math.min.apply(Math,Ai(u)),f=Math.max.apply(Math,Ai(u)),v=Math.min.apply(Math,Ai(i)),O=f-a||0,M=Math.max.apply(Math,Ai(i))-v||0;return{virtualRectWidth:O,virtualRectHeight:M,virtualRectCenterPositionX:a+O/2,virtualRectCenterPositionY:v+M/2}}},{key:"translateCenter",value:function(){var o=this.nodes,u=this.width,i=this.height,a=this.rootEl,f=this.transformModel;if(o.length){var v=u||a.clientWidth,O=i||a.clientHeight,M=this.getVirtualRectSize(),k=M.virtualRectCenterPositionX,I=M.virtualRectCenterPositionY;f.focusOn(k,I,v,O)}}},{key:"fitView",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,u=this.nodes,i=this.width,a=this.height,f=this.rootEl,v=this.transformModel;if(u.length){var O=i||f.clientWidth,M=a||f.clientHeight,k=this.getVirtualRectSize(),I=k.virtualRectWidth,q=k.virtualRectHeight,pe=k.virtualRectCenterPositionX,ge=k.virtualRectCenterPositionY,je=(I+o)/O,Oe=(q+o)/M,we=0;we=1/Math.max(je,Oe);var Le=[O/2,M/2];v.zoom(we,Le),v.focusOn(pe,ge,O,M)}}}])&&$l(e.prototype,n),r&&$l(e,r),t}()).prototype,"width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Il=yt(Ne.prototype,"height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ll=yt(Ne.prototype,"edgeType",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zl=yt(Ne.prototype,"nodes",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bl=yt(Ne.prototype,"edges",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Hl=yt(Ne.prototype,"overlapMode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return rr.DEFAULT}}),Gl=yt(Ne.prototype,"background",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fl=yt(Ne.prototype,"transformModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xl=yt(Ne.prototype,"editConfigModel",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ul=yt(Ne.prototype,"gridSize",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Yl=yt(Ne.prototype,"partial",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vl=yt(Ne.prototype,"fakerNode",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt(Ne.prototype,"nodesMap",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"nodesMap"),Ne.prototype),yt(Ne.prototype,"edgesMap",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"edgesMap"),Ne.prototype),yt(Ne.prototype,"modelsMap",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"modelsMap"),Ne.prototype),yt(Ne.prototype,"sortElements",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"sortElements"),Ne.prototype),yt(Ne.prototype,"textEditElement",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"textEditElement"),Ne.prototype),yt(Ne.prototype,"selectElements",[d.m],Object.getOwnPropertyDescriptor(Ne.prototype,"selectElements"),Ne.prototype),yt(Ne.prototype,"setFakerNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setFakerNode"),Ne.prototype),yt(Ne.prototype,"removeFakerNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"removeFakerNode"),Ne.prototype),yt(Ne.prototype,"setModel",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setModel"),Ne.prototype),yt(Ne.prototype,"toFront",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"toFront"),Ne.prototype),yt(Ne.prototype,"setElementZIndex",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setElementZIndex"),Ne.prototype),yt(Ne.prototype,"deleteNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteNode"),Ne.prototype),yt(Ne.prototype,"addNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"addNode"),Ne.prototype),yt(Ne.prototype,"cloneNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"cloneNode"),Ne.prototype),yt(Ne.prototype,"moveNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveNode"),Ne.prototype),yt(Ne.prototype,"moveNode2Coordinate",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveNode2Coordinate"),Ne.prototype),yt(Ne.prototype,"editText",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"editText"),Ne.prototype),yt(Ne.prototype,"addEdge",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"addEdge"),Ne.prototype),yt(Ne.prototype,"moveEdge",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveEdge"),Ne.prototype),yt(Ne.prototype,"deleteEdgeBySourceAndTarget",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteEdgeBySourceAndTarget"),Ne.prototype),yt(Ne.prototype,"deleteEdgeById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteEdgeById"),Ne.prototype),yt(Ne.prototype,"deleteEdgeBySource",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteEdgeBySource"),Ne.prototype),yt(Ne.prototype,"deleteEdgeByTarget",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"deleteEdgeByTarget"),Ne.prototype),yt(Ne.prototype,"setElementStateById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setElementStateById"),Ne.prototype),yt(Ne.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"updateText"),Ne.prototype),yt(Ne.prototype,"selectNodeById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"selectNodeById"),Ne.prototype),yt(Ne.prototype,"selectEdgeById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"selectEdgeById"),Ne.prototype),yt(Ne.prototype,"selectElementById",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"selectElementById"),Ne.prototype),yt(Ne.prototype,"clearSelectElements",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"clearSelectElements"),Ne.prototype),yt(Ne.prototype,"moveNodes",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"moveNodes"),Ne.prototype),yt(Ne.prototype,"setDefaultEdgeType",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setDefaultEdgeType"),Ne.prototype),yt(Ne.prototype,"changeNodeType",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"changeNodeType"),Ne.prototype),yt(Ne.prototype,"changeEdgeType",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"changeEdgeType"),Ne.prototype),yt(Ne.prototype,"getNodeIncomingEdge",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getNodeIncomingEdge"),Ne.prototype),yt(Ne.prototype,"getNodeOutgoingEdge",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getNodeOutgoingEdge"),Ne.prototype),yt(Ne.prototype,"getNodeIncomingNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getNodeIncomingNode"),Ne.prototype),yt(Ne.prototype,"getNodeOutgoingNode",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"getNodeOutgoingNode"),Ne.prototype),yt(Ne.prototype,"setTheme",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"setTheme"),Ne.prototype),yt(Ne.prototype,"resize",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"resize"),Ne.prototype),yt(Ne.prototype,"clearData",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"clearData"),Ne.prototype),yt(Ne.prototype,"translateCenter",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"translateCenter"),Ne.prototype),yt(Ne.prototype,"fitView",[d.k],Object.getOwnPropertyDescriptor(Ne.prototype,"fitView"),Ne.prototype),Ne),yg=Jl;function Ql(t){return(Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ef(){return(ef=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nf(t,e){return(nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function vg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Iu(t);if(e){var o=Iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gg(this,n)}}function gg(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kr(t)}function Kr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iu(t){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rf,mg=Pr(ql=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&nf(i,a)})(u,t);var e,n,r,o=vg(u);function u(i){var a;(function(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")})(this,u),bo(Kr(a=o.call(this)),"stepDrag",void 0),bo(Kr(a),"stepScrollX",0),bo(Kr(a),"stepScrollY",0),bo(Kr(a),"onDraging",function(M){var k=M.deltaX,I=M.deltaY;a.setState({isDraging:!0});var q=a.props.graphModel,pe=q.transformModel;q.editConfigModel.stopMoveGraph||pe.translate(k,I)}),bo(Kr(a),"onDragEnd",function(){a.setState({isDraging:!1})}),bo(Kr(a),"zoomHandler",function(M){var k=a.props,I=k.graphModel,q=I.editConfigModel,pe=I.transformModel,ge=I.gridSize,je=k.graphModel,Oe=M.deltaX,we=M.deltaY;if(q.stopScrollGraph||M.ctrlKey===!0){if(!q.stopZoomGraph){M.preventDefault();var Le=je.getPointByClient({x:M.clientX,y:M.clientY}).canvasOverlayPosition,Ke=Le.x,Ue=Le.y;pe.zoom(M.deltaY<0,[Ke,Ue])}}else{if(M.preventDefault(),a.stepScrollX+=Oe,a.stepScrollY+=we,Math.abs(a.stepScrollX)>=ge){var et=a.stepScrollX%ge,ht=a.stepScrollX-et;pe.translate(-ht*pe.SCALE_X,0),a.stepScrollX=et}if(Math.abs(a.stepScrollY)>=ge){var Et=a.stepScrollY%ge,kt=a.stepScrollY-Et;pe.translate(0,-kt*pe.SCALE_Y),a.stepScrollY=Et}}}),bo(Kr(a),"clickHandler",function(M){if(M.target.getAttribute("name")==="canvas-overlay"){var k=a.props.graphModel;k.selectElements.size>0&&k.clearSelectElements(),k.eventCenter.emit(xt.BLANK_CLICK,{e:M})}}),bo(Kr(a),"handleContextMenu",function(M){if(M.target.getAttribute("name")==="canvas-overlay"){M.preventDefault();var k=a.props.graphModel,I=k.getPointByClient({x:M.clientX,y:M.clientY});k.eventCenter.emit(xt.BLANK_CONTEXTMENU,{e:M,position:I})}}),bo(Kr(a),"mouseDownHandler",function(M){var k=a.props.graphModel,I=k.eventCenter,q=k.editConfigModel,pe=k.transformModel.SCALE_X,ge=k.gridSize,je=M.target,Oe=!q.adjustEdge&&!q.adjustNodePosition;(je.getAttribute("name")==="canvas-overlay"||Oe)&&(q.stopMoveGraph?I.emit(xt.BLANK_MOUSEDOWN,{e:M}):(a.stepDrag.setStep(ge*pe),a.stepDrag.handleMouseDown(M)),a.clickHandler(M))});var f=i.graphModel,v=f.gridSize,O=f.eventCenter;return a.stepDrag=new ni({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:v,eventType:"BLANK",isStopPropagation:!1,eventCenter:O,model:null}),a.state={isDraging:!1},a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props,f=a.children,v=a.dnd,O=this.state.isDraging;return Object(ie.g)("svg",ef({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:O?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},v.eventMap()),Object(ie.g)("g",{transform:i},f))}}])&&tf(e.prototype,n),r&&tf(e,r),u}(ie.a))||ql;function of(t){return(of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uf(t,e){return(uf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function _g(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lu(t);if(e){var o=Lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Og(this,n)}}function Og(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sf(t)}function sf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lu(t){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function wg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xg=Pr(rf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&uf(i,a)})(u,t);var e,n,r,o=_g(u);function u(){var i;bg(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return wg(sf(i=o.call.apply(o,[this].concat(f))),"setToolOverlayRef",function(O){var M=i.props.tool.getInstance();M.components.forEach(function(k){return k(M,O)}),M.components=[]}),i}return e=u,(n=[{key:"getTools",value:function(){var i=this.props,a=i.tool,f=i.graphModel,v=a.getTools().map(function(O){return Object(ie.g)(O,{graphModel:f,logicFlow:a.instance})});return a.components=v,v}},{key:"render",value:function(){return Object(ie.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&af(e.prototype,n),r&&af(e,r),u}(ie.a))||rf;function cf(t){return(cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Eg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ff(t,e){return(ff=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Sg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=zu(t);if(e){var o=zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jg(this,n)}}function jg(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function zu(t){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var pf,Pg=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ff(i,a)})(u,t);var e,n,r,o=Sg(u);function u(){return Eg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.background;return Object(ie.g)("div",{className:"lf-background"},Object(ie.g)("div",{style:i,className:"lf-background-area"}))}}])&&lf(e.prototype,n),r&&lf(e,r),u}(ie.a);function df(t){return(df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yf(t,e){return(yf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ng(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bu(t);if(e){var o=Bu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kg(this,n)}}function kg(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vf(t)}function vf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bu(t){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ag(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gf=Pr(pf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&yf(i,a)})(u,t);var e,n,r,o=Ng(u);function u(){var i;Mg(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Ag(vf(i=o.call.apply(o,[this].concat(f))),"id",ei()),i}return e=u,(n=[{key:"renderDot",value:function(){var i=this.props,a=i.config,f=a.color,v=a.thickness,O=v===void 0?2:v,M=i.size,k=i.visible,I=Math.min(Math.max(2,O),M/2),q=1;return k||(q=0),Object(ie.g)("rect",{width:I,height:I,rx:I/2,ry:I/2,fill:f,opacity:q})}},{key:"renderMesh",value:function(){var i=this.props,a=i.config,f=a.color,v=a.thickness,O=v===void 0?1:v,M=i.size,k=i.visible,I=Math.min(Math.max(1,O),M/2),q="M ".concat(M," 0 H0 M0 0 V0 ").concat(M),pe=1;return k||(pe=0),Object(ie.g)("path",{d:q,stroke:f,strokeWidth:I,opacity:pe})}},{key:"render",value:function(){var i=this.props,a=i.type,f=i.size,v=i.graphModel.transformModel,O=[v.SCALE_X,v.SKEW_Y,v.SKEW_X,v.SCALE_Y,v.TRANSLATE_X,v.TRANSLATE_Y].join(","),M="matrix(".concat(O,")");return Object(ie.g)("div",{className:"lf-grid"},Object(ie.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ie.g)("defs",null,Object(ie.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:M,x:"0",y:"0",width:f,height:f},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ie.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&hf(e.prototype,n),r&&hf(e,r),u}(ie.a))||pf;gf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},s(52);function mf(t){return(mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Tg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return bf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return bf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _f,ri=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=Tg(n,2),o=r[0],u=r[1];mf(u)!=="object"&&(e[o]=u)}),Object(ie.g)("line",e)};function Of(t){return(Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ca(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wf(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ef(t,e){return(Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Rg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hu(t);if(e){var o=Hu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ig(this,n)}}function Ig(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Hu(t){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Sf,Lg=Pr(_f=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ef(i,a)})(u,t);var e,n,r,o=Rg(u);function u(){return Cg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.snaplineModel,a=i.position,f=i.isShowHorizontal,v=i.isShowVertical,O=i.getStyle(),M=a.x,k=M===void 0?0:M,I=a.y,q=I===void 0?0:I,pe=Ca(Ca({x1:-1e5,y1:q,x2:1e5,y2:q},O),{},{stroke:f?O.stroke:"none"}),ge=Ca(Ca({x1:k,y1:-1e5,x2:k,y2:1e5},O),{},{stroke:v?O.stroke:"none"});return Object(ie.g)("g",{className:"lf-snapline"},Object(ie.g)(ri,pe),Object(ie.g)(ri,ge))}}])&&xf(e.prototype,n),r&&xf(e,r),u}(ie.a))||_f;function jf(t){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Pf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Pf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ro(t){var e=t.x,n=t.y,r=t.width,o=t.height,u=t.className,i=t.radius,a=e-r/2,f=n-o/2,v={};return Object.entries(t).forEach(function(O){var M=zg(O,2),k=M[0],I=M[1];jf(I)!=="object"&&(v[k]=I)}),v.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",i&&(v.rx=i,v.ry=i),v.x=a,v.y=f,Object(ie.g)("rect",v)}function Mf(t){return(Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ea(){return(ea=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nf(Object(n),!0).forEach(function(r){Bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Af(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tf(t,e){return(Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Gg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gu(t);if(e){var o=Gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fg(this,n)}}function Fg(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Gu(t){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}Ro.defaultProps={className:"",radius:""};var Df,Xg=Pr(Sf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Tf(i,a)})(u,t);var e,n,r,o=Gg(u);function u(){return Hg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getNodesOutline",value:function(){var i=this.props.graphModel,a=i.nodes,f=i.editConfigModel,v=f.hoverOutline,O=f.nodeSelectedOutline,M=[];return a.forEach(function(k){if(k.isHovered||k.isSelected){var I=k.isHovered,q=k.isSelected,pe=k.x,ge=k.y,je=k.width,Oe=k.height;if(O&&q||v&&I){var we=k.getOutlineStyle(),Le={};if(Object.keys(we).forEach(function(Ue){Ue!=="hover"&&(Le[Ue]=we[Ue])}),I){var Ke=we.hover;Le=kf(kf({},Le),Ke)}M.push(Object(ie.g)(Ro,ea({className:"lf-outline-node",x:pe,y:ge,width:je+10,height:Oe+10},Le)))}}}),M}},{key:"getEdgeOutline",value:function(){for(var i=this.props.graphModel,a=i.edges,f=i.editConfigModel,v=f.edgeSelectedOutline,O=f.hoverOutline,M=[],k=0;k<a.length;k++){var I=a[k];(v&&I.isSelected||O&&I.isHovered)&&(I.modelType===Rt.LINE_EDGE?M.push(this.getLineOutline(I)):I.modelType===Rt.POLYLINE_EDGE?M.push(this.getPolylineOutline(I)):I.modelType===Rt.BEZIER_EDGE&&M.push(this.getBezierOutline(I)))}return M}},{key:"getLineOutline",value:function(i){var a=i.startPoint,f=i.endPoint,v=(a.x+f.x)/2,O=(a.y+f.y)/2,M=Math.abs(a.x-f.x)+10,k=Math.abs(a.y-f.y)+10,I=i.getOutlineStyle();return Object(ie.g)(Ro,ea({className:"lf-outline-edge",x:v,y:O,width:M,height:k},I))}},{key:"getPolylineOutline",value:function(i){var a=i.points,f=Ni(a),v=Ji(f,8),O=v.x,M=v.y,k=v.width,I=v.height,q=i.getOutlineStyle();return Object(ie.g)(Ro,ea({className:"lf-outline",x:O,y:M,width:k,height:I},q))}},{key:"getBezierOutline",value:function(i){var a=i.path,f=Aa(a),v=Ji(f,8),O=v.x,M=v.y,k=v.width,I=v.height,q=i.getOutlineStyle();return Object(ie.g)(Ro,ea({className:"lf-outline",x:O,y:M,width:k,height:I},q))}},{key:"render",value:function(){return Object(ie.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&Af(e.prototype,n),r&&Af(e,r),u}(ie.a))||Sf;function Cf(t){return(Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ug(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Rf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Rf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Rf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ta(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.r,i=u===void 0?4:u,a=t.className,f={cx:n,cy:o,r:i,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(v){var O=Ug(v,2),M=O[0],k=O[1];Cf(k)!=="object"&&(f[M]=k)}),f.className=a?"lf-basic-shape ".concat(a):"lf-basic-shape",Object(ie.g)("circle",f)}function If(t){return(If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Yg(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Lf(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Lf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ra(){return(Ra=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function zf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hf(t,e,n){return e&&Bf(t.prototype,e),n&&Bf(t,n),t}function Gf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ff(t,e)}function Ff(t,e){return(Ff=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Xf(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fu(t);if(e){var o=Fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vg(this,n)}}function Vg(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ia(t)}function Ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fu(t){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Uf,Yf=function(t){Gf(n,t);var e=Xf(n);function n(){var r;return zf(this,n),Xu(Ia(r=e.call(this)),"dragHandler",void 0),Xu(Ia(r),"onDraging",function(o){var u=o.event,i=r.props,a=i.graphModel,f=i.bezierModel,v=i.type,O=a.getPointByClient({x:u.clientX,y:u.clientY}).canvasOverlayPosition,M=O.x,k=O.y;f.updateAdjustAnchor({x:M,y:k},v)}),Xu(Ia(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new ni({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return Hf(n,[{key:"render",value:function(){var r=this,o=this.props.position,u=o.x,i=o.y,a=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ie.g)(ta,Ra({className:"lf-bezier-adjust-anchor",x:u,y:i},a,{onMouseDown:function(f){r.dragHandler.handleMouseDown(f)}}))}}]),n}(ie.a),Wg=Pr(Df=function(t){Gf(n,t);var e=Xf(n);function n(){return zf(this,n),e.apply(this,arguments)}return Hf(n,[{key:"getBezierAdjust",value:function(r,o){var u=r.path,i=r.id,a=Yg(Aa(u),4),f=a[0],v=a[1],O=a[2],M=a[3],k=r.getEdgeStyle().adjustLine,I=[];return I.push(Object(ie.g)(ri,Ra({x1:f.x,y1:f.y,x2:v.x,y2:v.y},k))),I.push(Object(ie.g)(Yf,{position:v,bezierModel:r,graphModel:o,key:"".concat(i,"_ePre"),type:"sNext"})),I.push(Object(ie.g)(ri,Ra({x1:M.x,y1:M.y,x2:O.x,y2:O.y},k))),I.push(Object(ie.g)(Yf,{position:O,bezierModel:r,graphModel:o,key:"".concat(i,"_sNext"),type:"ePre"})),I}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,o=r.edges,u=[],i=0;i<o.length;i++){var a=o[i];a.isSelected&&a.modelType===Rt.BEZIER_EDGE&&a.draggable&&u.push(this.getBezierAdjust(a,r))}return u}},{key:"render",value:function(){return Object(ie.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ie.a))||Df;function Vf(t){return(Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Zg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zf(t,e){return(Zf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Kg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Uu(t);if(e){var o=Uu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $g(this,n)}}function $g(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Uu(t){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Kf,qg=Pr(Uf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Zf(i,a)})(u,t);var e,n,r,o=Kg(u);function u(){return Zg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel.transformModel.getTransformStyle().transform,a=this.props.children;return Object(ie.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ie.g)("g",{transform:i},a))}}])&&Wf(e.prototype,n),r&&Wf(e,r),u}(ie.a))||Uf;function $f(t){return($f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function qf(){return(qf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Jg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qf(t,e){return(Qf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Qg(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yu(t);if(e){var o=Yu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return em(this,n)}}function em(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Yu(t){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var tm=Pr(Kf=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Qf(i,a)})(u,t);var e,n,r,o=Qg(u);function u(){return Jg(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getComponent",value:function(i,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",v=this.props.getView,O=v(i.type);return Object(ie.g)(O,{key:i.id,model:i,graphModel:a,overlay:f})}},{key:"render",value:function(){var i=this,a=this.props,f=a.graphModel,v=a.tool,O=a.options,M=a.dnd,k=a.snaplineModel,I={};O.width&&(I.width="".concat(f.width,"px")),O.height&&(I.height="".concat(f.height,"px"));var q=f.fakerNode,pe=f.editConfigModel.adjustEdge;return Object(ie.g)("div",{className:"lf-graph",style:I},Object(ie.g)(mg,{graphModel:f,dnd:M},Object(ie.g)("g",{className:"lf-base"},Yi(f.sortElements,function(ge){return i.getComponent(ge,f)})),q?this.getComponent(q,f):""),Object(ie.g)(qg,{graphModel:f},Object(ie.g)(Xg,{graphModel:f}),pe?Object(ie.g)(Wg,{graphModel:f}):"",O.isSilentMode||O.snapline===!1?"":Object(ie.g)(Lg,{snaplineModel:k})),Object(ie.g)(xg,{graphModel:f,tool:v}),O.background&&Object(ie.g)(Pg,{background:O.background}),O.grid&&Object(ie.g)(gf,qf({},O.grid,{graphModel:f})))}}])&&Jf(e.prototype,n),r&&Jf(e,r),u}(ie.a))||Kf;function ep(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function La(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ep(Object(n),!0).forEach(function(r){_o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nm=function(){function t(o){var u=this;(function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")})(this,t),_o(this,"nodeConfig",void 0),_o(this,"lf",void 0),_o(this,"fakerNode",void 0),_o(this,"stopDrag",function(){u.nodeConfig=null,window.document.removeEventListener("mouseup",u.stopDrag)}),_o(this,"dragEnter",function(a){u.nodeConfig&&!u.fakerNode&&(u.fakerNode=u.lf.createFakerNode(La(La({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY}))))}),_o(this,"onDragOver",function(a){if(a.preventDefault(),u.fakerNode){var f=u.clientToLocalPoint({x:a.clientX,y:a.clientY}),v=f.x,O=f.y;u.fakerNode.moveTo(v,O);var M=u.fakerNode.getData();u.lf.setNodeSnapLine(M),u.lf.graphModel.eventCenter.emit(xt.NODE_DND_DRAG,{data:M})}return!1}),_o(this,"onDragLeave",function(){u.fakerNode&&(u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null)}),_o(this,"onDrop",function(a){if(u.lf.graphModel&&a&&u.nodeConfig){var f=u.lf.addNode(La(La({},u.nodeConfig),u.clientToLocalPoint({x:a.clientX,y:a.clientY})));a.preventDefault(),a.stopPropagation(),u.nodeConfig=null,u.lf.removeNodeSnapLine(),u.lf.graphModel.removeFakerNode(),u.fakerNode=null;var v=f.getData();u.lf.graphModel.eventCenter.emit(xt.NODE_DND_ADD,{data:v})}});var i=o.lf;this.lf=i}var e,n,r;return e=t,(n=[{key:"clientToLocalPoint",value:function(o){var u=o.x,i=o.y,a=Si(this.lf.options,["grid","size"]),f=this.lf.graphModel.getPointByClient({x:u,y:i}).canvasOverlayPosition,v=f.x,O=f.y;return{x:Mi(v,a),y:Mi(O,a)}}},{key:"startDrag",value:function(o){this.nodeConfig=o,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&tp(e.prototype,n),r&&tp(e,r),t}();function np(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(t.grid=Y({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Y({},op,t)}var Gt,rp,op={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function ip(t){return(ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Vu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ap(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ap(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ap(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function up(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?up(Object(n),!0).forEach(function(r){lp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function om(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ba(){return(Ba=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=im(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function im(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=oi(t))!==null;);return t}function cp(t,e){return(cp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function am(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oi(t);if(e){var o=oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return um(this,n)}}function um(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ha(t)}function Ha(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oi(t){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function lp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Or(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Wu=(rp=Or((Gt=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&cp(i,a)})(u,t);var e,n,r,o=am(u);function u(){var i;om(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return lp(Ha(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.BEZIER_EDGE),rm(Ha(i),"path",rp,Ha(i)),i}return e=u,(n=[{key:"initEdgeData",value:function(i){this.offset=100,Ba(oi(u.prototype),"initEdgeData",this).call(this,i)}},{key:"getEdgeStyle",value:function(){var i=this.graphModel.theme.bezier;return za(za({},Ba(oi(u.prototype),"getEdgeStyle",this).call(this)),rn(i))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var i=0,a=0;return this.pointsList.forEach(function(f){var v=f.x,O=f.y;i+=v,a+=O}),{x:i/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var i=Ba(oi(u.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){return{x:f.x,y:f.y}});return za(za({},i),{},{pointsList:a})}},{key:"getControls",value:function(){var i=this.startPoint,a=this.endPoint;return Al({start:i,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(i){var a=Vu(i,4),f=a[0],v=a[1],O=a[2],M=a[3];return"M ".concat(f.x," ").concat(f.y,`
    C `).concat(v.x," ").concat(v.y,`,
    `).concat(O.x," ").concat(O.y,`,
    `).concat(M.x," ").concat(M.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var i=this.getControls(),a=i.sNext,f=i.ePre;this.updatePath(a,f)}},{key:"updatePath",value:function(i,a){var f={x:this.startPoint.x,y:this.startPoint.y},v={x:this.endPoint.x,y:this.endPoint.y};if(!i||!a){var O=this.getControls();i=O.sNext,a=O.ePre}this.pointsList=[f,i,a,v],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(i){this.startPoint=i,this.updatePoints()}},{key:"updateEndPoint",value:function(i){this.endPoint=i,this.updatePoints()}},{key:"moveStartPoint",value:function(i,a){this.startPoint.x+=i,this.startPoint.y+=a;var f=Vu(this.pointsList,3),v=f[1],O=f[2];v.x+=i,v.y+=a,this.updatePath(v,O)}},{key:"moveEndPoint",value:function(i,a){this.endPoint.x+=i,this.endPoint.y+=a;var f=Vu(this.pointsList,3),v=f[1],O=f[2];O.x+=i,O.y+=a,this.updatePath(v,O)}},{key:"updateAdjustAnchor",value:function(i,a){a==="sNext"?this.pointsList[1]=i:a==="ePre"&&(this.pointsList[2]=i),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var i=this.pointsList;return i[i.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(i){var a=i.startPoint,f=i.endPoint,v=i.sourceNode,O=i.targetNode,M=Al({start:a,end:f,sourceNode:v,targetNode:O,offset:this.offset}),k=M.sNext,I=M.ePre;this.pointsList=[a,k,I,f],this.initPoints()}}])&&sp(e.prototype,n),r&&sp(e,r),u}(Eu)).prototype,"path",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Or(Gt.prototype,"initPoints",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"initPoints"),Gt.prototype),Or(Gt.prototype,"updatePoints",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updatePoints"),Gt.prototype),Or(Gt.prototype,"updateStartPoint",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateStartPoint"),Gt.prototype),Or(Gt.prototype,"updateEndPoint",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateEndPoint"),Gt.prototype),Or(Gt.prototype,"moveStartPoint",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"moveStartPoint"),Gt.prototype),Or(Gt.prototype,"moveEndPoint",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"moveEndPoint"),Gt.prototype),Or(Gt.prototype,"updateAdjustAnchor",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateAdjustAnchor"),Gt.prototype),Or(Gt.prototype,"getAdjustStart",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"getAdjustStart"),Gt.prototype),Or(Gt.prototype,"getAdjustEnd",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"getAdjustEnd"),Gt.prototype),Or(Gt.prototype,"updateAfterAdjustStartAndEnd",[d.k],Object.getOwnPropertyDescriptor(Gt.prototype,"updateAfterAdjustStartAndEnd"),Gt.prototype),Gt),ft,fp,pp,dp,hp,yp,vp,gp,mp,bp,_p,Op,wp,xp,Ep,Sp,jp,Pp,sm=function(t){return t==null};function Mp(t){return(Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function cm(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(f,v){if(!!f){if(typeof f=="string")return Np(f,v);var O=Object.prototype.toString.call(f).slice(8,-1);if(O==="Object"&&f.constructor&&(O=f.constructor.name),O==="Map"||O==="Set")return Array.from(f);if(O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O))return Np(f,v)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(f){throw f},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,i=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var f=n.next();return i=f.done,f},e:function(f){a=!0,u=f},f:function(){try{i||n.return==null||n.return()}finally{if(a)throw u}}}}function Np(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kp(Object(n),!0).forEach(function(r){hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ap(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ft(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Io,Tp,wo=(fp=Ft((ft=function(){function t(o,u){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),hr(this,"id",ei()),Sn(this,"type",fp,this),Sn(this,"x",pp,this),Sn(this,"y",dp,this),Sn(this,"text",hp,this),Sn(this,"properties",yp,this),Sn(this,"_width",vp,this),Sn(this,"_height",gp,this),Sn(this,"anchorsOffset",mp,this),Sn(this,"isSelected",bp,this),Sn(this,"isHovered",_p,this),Sn(this,"isDragging",Op,this),Sn(this,"isHitable",wp,this),Sn(this,"draggable",xp,this),Sn(this,"visible",Ep,this),hr(this,"graphModel",void 0),Sn(this,"zIndex",Sp,this),Sn(this,"state",jp,this),Sn(this,"autoToFront",Pp,this),hr(this,"BaseType",yn.NODE),hr(this,"modelType",Rt.NODE),hr(this,"additionStateData",void 0),hr(this,"targetRules",[]),hr(this,"sourceRules",[]),hr(this,"moveRules",[]),hr(this,"hasSetTargetRules",!1),hr(this,"hasSetSourceRules",!1),this.graphModel=u,this.initNodeData(o),this.setAttributes()}var e,n,r;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(o){this._width=o}},{key:"height",get:function(){return this._height},set:function(o){this._height=o}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(o){if(o.properties||(o.properties={}),!o.id){var u=this.graphModel.idGenerator,i=u&&u(o.type);i&&(o.id=i);var a=this.createId();a&&(o.id=a)}this.formatText(o),Y(this,function(f){return Vi(f,["id","type","x","y","text","properties"])}(o)),this.graphModel.overlapMode===rr.INCREASE&&(this.zIndex=o.zIndex||wu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(o){o.text||(o.text={value:"",x:o.x,y:o.y,draggable:!1,editable:!0}),o.text&&typeof o.text=="string"?o.text={value:o.text,x:o.x,y:o.y,draggable:!1,editable:!0}:o.text&&o.text.editable===void 0&&(o.text.editable=!0)}},{key:"getData",value:function(){var o=this.text,u=o.x,i=o.y,a=o.value,f=this.properties;Object(d.x)(f)&&(f=Object(d.I)(f));var v={id:this.id,type:this.type,x:this.x,y:this.y,properties:f};return this.graphModel.overlapMode===rr.INCREASE&&(v.zIndex=this.zIndex),a&&(v.text={x:u,y:i,value:a}),v}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(d.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Oo({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var o=this.graphModel.theme.nodeText;return rn(o)}},{key:"getAnchorStyle",value:function(o){var u=this.graphModel.theme.anchor;return rn(u)}},{key:"getAnchorLineStyle",value:function(){var o=this.graphModel.theme.anchorLine;return rn(o)}},{key:"getOutlineStyle",value:function(){var o=this.graphModel.theme.outline;return rn(o)}},{key:"isAllowConnectedAsSource",value:function(o,u,i){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var f,v=!0,O=0;O<a.length;O++){var M=a[O];if(!M.validate.call(this,this,o,u,i)){v=!1,f=M.message;break}}return{isAllPass:v,msg:f}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(o,u,i){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var f,v=!0,O=0;O<a.length;O++){var M=a[O];if(!M.validate.call(this,o,this,u,i)){v=!1,f=M.message;break}}return{isAllPass:v,msg:f}}},{key:"isAllowMoveNode",value:function(o,u){var i,a=!0,f=!0,v=cm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(v.s();!(i=v.n()).done;){var O=(0,i.value)(this,o,u);if(!O)return!1;if(Mp(O)==="object"){var M=O;if(M.x===!1&&M.y===!1)return!1;a=a&&M.x,f=f&&M.y}}}catch(k){v.e(k)}finally{v.f()}return{x:a,y:f}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var o=this.anchorsOffset,u=this.id,i=this.x,a=this.y;return o&&o.length>0?o.map(function(f,v){return f.length?(f=f,{id:"".concat(u,"_").concat(v),x:i+f[0],y:a+f[1]}):Oo(Oo({},f=f),{},{x:i+f.x,y:a+f.y,id:f.id||"".concat(u,"_").concat(v)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(o){if(!sm(o))for(var u=0;u<this.anchors.length;u++){var i=this.anchors[u];if(i.id===o)return i}}},{key:"addNodeMoveRules",value:function(o){this.moveRules.includes(o)||this.moveRules.push(o)}},{key:"move",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=!1,f=!1;if(i)a=!0,f=!0;else{var v=this.isAllowMoveNode(o,u);typeof v=="boolean"?(a=v,f=v):(a=v.x,f=v.y)}if(a){var O=this.x+o;this.x=O,this.text&&this.moveText(o,0)}if(f){var M=this.y+u;this.y=M,this.text&&this.moveText(0,u)}return a||f}},{key:"moveTo",value:function(o,u){var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=o-this.x,f=u-this.y;return!(!i&&!this.isAllowMoveNode(a,f)||(this.text&&this.text&&this.moveText(a,f),this.x=o,this.y=u,0))}},{key:"moveText",value:function(o,u){var i=this.text,a=i.x,f=i.y,v=i.value,O=i.draggable,M=i.editable;this.text={value:v,editable:M,draggable:O,x:a+o,y:f+u}}},{key:"updateText",value:function(o){this.text=Oo(Oo({},this.text),{},{value:o})}},{key:"setSelected",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=o}},{key:"setHovered",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=o}},{key:"setHitable",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=o}},{key:"setElementState",value:function(o,u){this.state=o,this.additionStateData=u}},{key:"setProperty",value:function(o,u){this.properties=Oo(Oo({},this.properties),{},hr({},o,Wr(u))),this.setAttributes()}},{key:"setProperties",value:function(o){this.properties=Oo(Oo({},this.properties),Wr(o)),this.setAttributes()}},{key:"setZIndex",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=o}},{key:"updateAttributes",value:function(o){Y(this,o)}}])&&Ap(e.prototype,n),r&&Ap(e,r),t}()).prototype,"type",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pp=Ft(ft.prototype,"x",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dp=Ft(ft.prototype,"y",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Ft(ft.prototype,"text",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),yp=Ft(ft.prototype,"properties",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),vp=Ft(ft.prototype,"_width",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),gp=Ft(ft.prototype,"_height",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),mp=Ft(ft.prototype,"anchorsOffset",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bp=Ft(ft.prototype,"isSelected",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_p=Ft(ft.prototype,"isHovered",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Op=Ft(ft.prototype,"isDragging",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wp=Ft(ft.prototype,"isHitable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xp=Ft(ft.prototype,"draggable",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ep=Ft(ft.prototype,"visible",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Sp=Ft(ft.prototype,"zIndex",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),jp=Ft(ft.prototype,"state",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Pp=Ft(ft.prototype,"autoToFront",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ft(ft.prototype,"incoming",[d.m],Object.getOwnPropertyDescriptor(ft.prototype,"incoming"),ft.prototype),Ft(ft.prototype,"outgoing",[d.m],Object.getOwnPropertyDescriptor(ft.prototype,"outgoing"),ft.prototype),Ft(ft.prototype,"addNodeMoveRules",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"addNodeMoveRules"),ft.prototype),Ft(ft.prototype,"move",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"move"),ft.prototype),Ft(ft.prototype,"moveTo",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"moveTo"),ft.prototype),Ft(ft.prototype,"moveText",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"moveText"),ft.prototype),Ft(ft.prototype,"updateText",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"updateText"),ft.prototype),Ft(ft.prototype,"setSelected",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"setSelected"),ft.prototype),Ft(ft.prototype,"setHovered",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"setHovered"),ft.prototype),Ft(ft.prototype,"setHitable",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"setHitable"),ft.prototype),Ft(ft.prototype,"setElementState",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"setElementState"),ft.prototype),Ft(ft.prototype,"setProperty",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"setProperty"),ft.prototype),Ft(ft.prototype,"setProperties",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"setProperties"),ft.prototype),Ft(ft.prototype,"setZIndex",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"setZIndex"),ft.prototype),Ft(ft.prototype,"updateAttributes",[d.k],Object.getOwnPropertyDescriptor(ft.prototype,"updateAttributes"),ft.prototype),ft);function Dp(t){return(Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Cp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cp(Object(n),!0).forEach(function(r){Bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ip(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lp(){return(Lp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=pm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function pm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=na(t))!==null;);return t}function zp(t,e){return(zp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function dm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=na(t);if(e){var o=na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hm(this,n)}}function hm(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ga(t)}function Ga(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function na(t){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Bp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zu(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Xn,Hp,Gp,Ku=(Tp=Zu((Io=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&zp(i,a)})(u,t);var e,n,r,o=dm(u);function u(){var i;fm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Bp(Ga(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.CIRCLE_NODE),lm(Ga(i),"r",Tp,Ga(i)),i}return e=u,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var i=Lp(na(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return Rp(Rp({},i),rn(a))}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.r;return[{x:i,y:a-f,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+f,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&Ip(e.prototype,n),r&&Ip(e,r),u}(wo)).prototype,"r",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Zu(Io.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Io.prototype,"width"),Io.prototype),Zu(Io.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Io.prototype,"height"),Io.prototype),Io);s(127);function Fp(t){return(Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $u(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Xp(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Xp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Up(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Up(Object(n),!0).forEach(function(r){$p(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Up(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vp(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ym(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zp(){return(Zp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=vm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function vm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ra(t))!==null;);return t}function Kp(t,e){return(Kp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function gm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ra(t);if(e){var o=ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mm(this,n)}}function mm(t,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(t)}function Ti(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ra(t){return(ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function $p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Di(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var xo,qp,Jp,qu=(Hp=Di((Xn=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Kp(i,a)})(u,t);var e,n,r,o=gm(u);function u(){var i;ym(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return $p(Ti(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.DIAMOND_NODE),Vp(Ti(i),"rx",Hp,Ti(i)),Vp(Ti(i),"ry",Gp,Ti(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=Zp(ra(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Yp(Yp({},i),rn(a))}},{key:"points",get:function(){var i=this.x,a=this.y,f=this.rx,v=this.ry;return[[i,a-v],[i+f,a],[i,a+v],[i-f,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(i){return{x:i[0],y:i[1]}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=$u(f,1)[0];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=$u(f,2)[1];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this;return this.points.map(function(a,f){var v=$u(a,2);return{x:v[0],y:v[1],id:"".concat(i.id,"_").concat(f)}})}}])&&Wp(e.prototype,n),r&&Wp(e,r),u}(wo)).prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Gp=Di(Xn.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Di(Xn.prototype,"points",[d.m],Object.getOwnPropertyDescriptor(Xn.prototype,"points"),Xn.prototype),Di(Xn.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(Xn.prototype,"pointsPosition"),Xn.prototype),Di(Xn.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(Xn.prototype,"width"),Xn.prototype),Di(Xn.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(Xn.prototype,"height"),Xn.prototype),Xn);function Qp(t){return(Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ed(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ed(Object(n),!0).forEach(function(r){ad(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function bm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function od(){return(od=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=_m(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function _m(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=oa(t))!==null;);return t}function id(t,e){return(id=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Om(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oa(t);if(e){var o=oa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wm(this,n)}}function wm(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ci(t)}function Ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oa(t){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ad(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fa(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var wr,ud,Ju=(qp=Fa((xo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&id(i,a)})(u,t);var e,n,r,o=Om(u);function u(){var i;bm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return ad(Ci(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.ELLIPSE_NODE),nd(Ci(i),"rx",qp,Ci(i)),nd(Ci(i),"ry",Jp,Ci(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=od(oa(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return td(td({},i),rn(a))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.rx,v=this.ry;return[{x:i,y:a-v,id:"".concat(this.id,"_0")},{x:i+f,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+v,id:"".concat(this.id,"_2")},{x:i-f,y:a,id:"".concat(this.id,"_3")}]}}])&&rd(e.prototype,n),r&&rd(e,r),u}(wo)).prototype,"rx",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Jp=Fa(xo.prototype,"ry",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Fa(xo.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(xo.prototype,"width"),xo.prototype),Fa(xo.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(xo.prototype,"height"),xo.prototype),xo);function sd(t){return(sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Qu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return cd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return cd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ld(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ld(Object(n),!0).forEach(function(r){yd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Em(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dd(){return(dd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Sm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Sm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ia(t))!==null;);return t}function hd(t,e){return(hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function jm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ia(t);if(e){var o=ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(t,e){if(e&&(sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xa(t)}function Xa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ia(t){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function yd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ua(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var vd,gd,es=(ud=Ua((wr=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&hd(i,a)})(u,t);var e,n,r,o=jm(u);function u(){var i;Em(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return yd(Xa(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.POLYGON_NODE),xm(Xa(i),"points",ud,Xa(i)),i}return e=u,(n=[{key:"getNodeStyle",value:function(){var i=dd(ia(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return fd(fd({},i),rn(a))}},{key:"pointsPosition",get:function(){var i=this.x,a=this.y,f=this.width,v=this.height;return this.points.map(function(O){return{x:O[0]+i-f/2,y:O[1]+a-v/2}})}},{key:"width",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=Qu(f,1)[0];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"height",get:function(){var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var v=Qu(f,2)[1];v<i&&(i=v),v>a&&(a=v)}),a-i}},{key:"getDefaultAnchor",value:function(){var i=this,a=this.x,f=this.y,v=this.width,O=this.height;return this.points.map(function(M,k){var I=Qu(M,2),q=I[0],pe=I[1];return{x:a+q-v/2,y:f+pe-O/2,id:"".concat(i.id,"_").concat(k)}})}}])&&pd(e.prototype,n),r&&pd(e,r),u}(wo)).prototype,"points",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ua(wr.prototype,"pointsPosition",[d.m],Object.getOwnPropertyDescriptor(wr.prototype,"pointsPosition"),wr.prototype),Ua(wr.prototype,"width",[d.m],Object.getOwnPropertyDescriptor(wr.prototype,"width"),wr.prototype),Ua(wr.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(wr.prototype,"height"),wr.prototype),wr);function md(t){return(md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function bd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function _d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bd(Object(n),!0).forEach(function(r){Ed(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mm(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wd(){return(wd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=km(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function km(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=aa(t))!==null;);return t}function xd(t,e){return(xd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Am(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=aa(t);if(e){var o=aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tm(this,n)}}function Tm(t,e){if(e&&(md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ya(t)}function Ya(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aa(t){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ii,ts=(gd=function(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}((vd=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&xd(i,a)})(u,t);var e,n,r,o=Am(u);function u(){var i;Nm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Ed(Ya(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.RECT_NODE),Mm(Ya(i),"radius",gd,Ya(i)),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,v=this.height;return[{x:i,y:a-v/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+v/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var i=wd(aa(u.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return _d(_d({},i),rn(a))}}])&&Od(e.prototype,n),r&&Od(e,r),u}(wo)).prototype,"radius",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vd);function Sd(t){return(Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Pd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jd(Object(n),!0).forEach(function(r){Td(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Md(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nd(){return(Nd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,e,n){var r=Cm(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Cm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=ua(t))!==null;);return t}function kd(t,e){return(kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Rm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ua(t);if(e){var o=ua(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Im(this,n)}}function Im(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ad(t)}function Ad(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ua(t){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Td(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dd(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var ns=(Dd((ii=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&kd(i,a)})(u,t);var e,n,r,o=Rm(u);function u(){var i;Dm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Td(Ad(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.TEXT_NODE),i}return e=u,(n=[{key:"getTextStyle",value:function(){var i=Nd(ua(u.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Pd(Pd({},i),rn(a))}},{key:"width",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return Ou({rows:i,fontSize:a,rowsLength:i.length}).width}},{key:"height",get:function(){var i=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle().fontSize;return Ou({rows:i,fontSize:a,rowsLength:i.length}).height}}])&&Md(e.prototype,n),r&&Md(e,r),u}(wo)).prototype,"width",[d.m],Object.getOwnPropertyDescriptor(ii.prototype,"width"),ii.prototype),Dd(ii.prototype,"height",[d.m],Object.getOwnPropertyDescriptor(ii.prototype,"height"),ii.prototype),ii);function Cd(t){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Lm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Id(t,e){return(Id=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function zm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=rs(t);if(e){var o=rs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ld(t)}function Ld(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Hm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $r,zd,Bd,Hd,os=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Id(i,a)})(u,t);var e,n,r,o=zm(u);function u(){var i;Lm(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Hm(Ld(i=o.call.apply(o,[this].concat(f))),"modelType",Rt.HTML_NODE),i}return e=u,(n=[{key:"getDefaultAnchor",value:function(){var i=this.x,a=this.y,f=this.width,v=this.height;return[{x:i,y:a-v/2,id:"".concat(this.id,"_0")},{x:i+f/2,y:a,id:"".concat(this.id,"_1")},{x:i,y:a+v/2,id:"".concat(this.id,"_2")},{x:i-f/2,y:a,id:"".concat(this.id,"_3")}]}}])&&Rd(e.prototype,n),r&&Rd(e,r),u}(wo);function Gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function is(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sa(t,e,n,r,o){var u={};return Object.keys(r).forEach(function(i){u[i]=r[i]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=n.slice().reverse().reduce(function(i,a){return a(t,e,i)||i},u),o&&u.initializer!==void 0&&(u.value=u.initializer?u.initializer.call(o):void 0,u.initializer=void 0),u.initializer===void 0&&(Object.defineProperty(t,e,u),u=null),u}var Ud=(zd=sa(($r=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Xd(this,"graphModel",void 0),is(this,"isShowHorizontal",zd,this),is(this,"isShowVertical",Bd,this),is(this,"position",Hd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=o}var e,n,r;return e=t,(n=[{key:"getStyle",value:function(){return function(o){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?Gd(Object(i),!0).forEach(function(a){Xd(o,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):Gd(Object(i)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(i,a))})}return o}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(o,u){for(var i=o.x,a=o.y,f=!1,v=!1,O=0;O<u.length;O++){var M=u[O];if(M.id!==o.id&&(i===M.x&&(f=!0),a===M.y&&(v=!0),f&&v))break}return{isShowVertical:f,isShowHorizontal:v,position:{x:i,y:a}}}},{key:"getHorizontalSnapline",value:function(o,u){var i,a,f=!1,v=o.id;if(v){var O=this.graphModel.fakerNode;if(O&&O.id===v)a=or(O);else{var M=this.graphModel.getNodeModelById(v);a=or(M)}}for(var k=0;k<u.length;k++){var I=u[k];if(I.id!==o.id){var q=or(I);if(q.minY===a.minY||q.maxY===a.minY){f=!0,i=a.minY;break}if(q.minY===a.maxY||q.maxY===a.maxY){f=!0,i=a.maxY;break}}}return Y({isShowHorizontal:f,position:{y:i}})}},{key:"getVerticalSnapline",value:function(o,u){var i,a,f=!1,v=o.id;if(v){var O=this.graphModel.fakerNode;if(O&&O.id===v)a=or(O);else{var M=this.graphModel.getNodeModelById(v);a=or(M)}}for(var k=0;k<u.length;k++){var I=u[k];if(I.id!==o.id){var q=or(I);if(q.minX===a.minX||q.maxX===a.minX){f=!0,i=a.minX;break}if(q.minX===a.maxX||q.maxX===a.maxX){f=!0,i=a.maxX;break}}}return Y({isShowVertical:f,position:{x:i}})}},{key:"getSnapLinePosition",value:function(o,u){var i=this.getCenterSnapLine(o,u),a=i.isShowHorizontal,f=i.isShowVertical;if(!a){var v=this.getHorizontalSnapline(o,u);v.isShowHorizontal&&(i.isShowHorizontal=v.isShowHorizontal,i.position.y=v.position.y)}if(!f){var O=this.getVerticalSnapline(o,u);O.isShowVertical&&(i.isShowVertical=O.isShowVertical,i.position.x=O.position.x)}return i}},{key:"setSnaplineInfo",value:function(o){var u=o.isShowHorizontal,i=o.isShowVertical,a=o.position;this.position=a,this.isShowHorizontal=u,this.isShowVertical=i}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(o){var u=this.graphModel.nodes,i=this.getSnapLinePosition(o,u);this.setSnaplineInfo(i)}}])&&Fd(e.prototype,n),r&&Fd(e,r),t}()).prototype,"isShowHorizontal",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd=sa($r.prototype,"isShowVertical",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hd=sa($r.prototype,"position",[d.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sa($r.prototype,"clearSnapline",[d.k],Object.getOwnPropertyDescriptor($r.prototype,"clearSnapline"),$r.prototype),sa($r.prototype,"setNodeSnapLine",[d.k],Object.getOwnPropertyDescriptor($r.prototype,"setNodeSnapLine"),$r.prototype),$r);function Yd(t){return(Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Va(){return(Va=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Vd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vd(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Zd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Zd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $d(t,e){return($d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Fm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=as(t);if(e){var o=as(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xm(this,n)}}function Xm(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(t)}function qr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t){return(as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Um=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&$d(i,a)})(u,t);var e,n,r,o=Fm(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Jr(qr(i=o.call(this)),"preTargetNode",void 0),Jr(qr(i),"sourceRuleResults",void 0),Jr(qr(i),"targetRuleResults",void 0),Jr(qr(i),"dragHandler",void 0),Jr(qr(i),"t",void 0),Jr(qr(i),"onDragStart",function(a){var f=a.event,v=i.props,O=v.anchorData,M=v.nodeModel,k=v.graphModel,I=k.overlapMode;k.selectNodeById(M.id),I!==rr.INCREASE&&M.autoToFront&&k.toFront(M.id),k.eventCenter.emit(xt.ANCHOR_DRAGSTART,{data:O,e:f,nodeModel:M}),i.setState({startX:O.x,startY:O.y,endX:O.x,endY:O.y})}),Jr(qr(i),"onDraging",function(a){var f=a.event,v=i.props,O=v.graphModel,M=v.nodeModel,k=v.anchorData,I=O.transformModel,q=O.eventCenter,pe=O.width,ge=O.height,je=O.editConfigModel,Oe=f.clientX,we=f.clientY,Le=O.getPointByClient({x:Oe,y:we}),Ke=Le.domOverlayPosition,Ue=Ke.x,et=Ke.y,ht=Le.canvasOverlayPosition,Et=ht.x,kt=ht.y;i.t&&clearInterval(i.t);var $t=[];Ue<10?$t=[10,0]:Ue+10>pe?$t=[-10,0]:et<10?$t=[0,10]:et+10>ge&&($t=[0,-10]),i.setState({endX:Et,endY:kt,draging:!0}),i.moveAnchorEnd(Et,kt),$t.length>0&&!je.stopMoveGraph&&(i.t=setInterval(function(){var dn=Gm($t,2),jn=dn[0],Yn=dn[1];I.translate(jn,Yn);var Pn=i.state,Po=Pn.endX,no=Pn.endY;i.setState({endX:Po-jn,endY:no-Yn}),i.moveAnchorEnd(Po-jn,no-Yn)},50)),q.emit(xt.ANCHOR_DRAG,{data:k,e:f,nodeModel:M})}),Jr(qr(i),"onDragEnd",function(a){i.t&&clearInterval(i.t),i.checkEnd(),i.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),i.sourceRuleResults.clear(),i.targetRuleResults.clear();var f=i.props,v=f.graphModel,O=f.nodeModel,M=f.anchorData;v.eventCenter.emit(xt.ANCHOR_DROP,{data:M,e:a,nodeModel:O})}),Jr(qr(i),"checkEnd",function(){var a=i.props,f=a.graphModel,v=a.nodeModel,O=a.anchorData,M=O.x,k=O.y,I=O.id,q=f.edgeType,pe=i.state,ge=pe.endX,je=pe.endY,Oe=pe.draging,we=Oa({x:ge,y:je},f);if(i.preTargetNode&&i.preTargetNode.state!==Yt.DEFAULT&&i.preTargetNode.setElementState(Yt.DEFAULT),Oe&&we&&we.node){var Le=we.node,Ke=we.anchor.id,Ue="".concat(v.id,"_").concat(Le.id,"_").concat(Ke,"_").concat(I),et=i.sourceRuleResults.get(Ue)||{},ht=et.isAllPass,Et=et.msg,kt=i.targetRuleResults.get(Ue)||{},$t=kt.isAllPass,dn=kt.msg;if(ht&&$t)Le.setElementState(Yt.DEFAULT),f.addEdge({type:q,sourceNodeId:v.id,sourceAnchorId:I,startPoint:{x:M,y:k},targetNodeId:we.node.id,targetAnchorId:we.anchor.id,endPoint:{x:we.anchor.x,y:we.anchor.y}});else{var jn=Le.getData();f.eventCenter.emit(xt.CONNECTION_NOT_ALLOWED,{data:jn,msg:dn||Et})}}}),i.sourceRuleResults=new Map,i.targetRuleResults=new Map,i.state={startX:0,startY:0,endX:0,endY:0,draging:!1},i.dragHandler=new ni({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"getAnchorShape",value:function(){var i=this.props,a=i.anchorData,f=i.style,v=i.node.getAnchorShape(a);if(v)return v;var O=a.x,M=a.y,k=Wd(Wd({},f),f.hover);return Object(ie.g)("g",null,Object(ie.g)(ta,Va({className:"lf-node-anchor-hover"},k,{x:O,y:M})),Object(ie.g)(ta,Va({className:"lf-node-anchor"},f,{x:O,y:M})))}},{key:"moveAnchorEnd",value:function(i,a){var f=this.props,v=f.graphModel,O=f.nodeModel,M=f.anchorData,k=Oa({x:i,y:a},v);if(k){var I=k.node,q=k.anchor.id;if(this.preTargetNode&&this.preTargetNode!==k.node&&this.preTargetNode.setElementState(Yt.DEFAULT),M.id===q)return;this.preTargetNode=I;var pe="".concat(O.id,"_").concat(I.id,"_").concat(q,"_").concat(M.id);if(!this.targetRuleResults.has(pe)){var ge=k.anchor,je=O.isAllowConnectedAsSource(I,M,ge),Oe=I.isAllowConnectedAsTarget(O,M,ge);this.sourceRuleResults.set(pe,wa(je)),this.targetRuleResults.set(pe,wa(Oe))}var we=this.sourceRuleResults.get(pe).isAllPass,Le=this.targetRuleResults.get(pe).isAllPass;we&&Le?I.setElementState(Yt.ALLOW_CONNECT):I.setElementState(Yt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Yt.DEFAULT&&this.preTargetNode.setElementState(Yt.DEFAULT)}},{key:"isShowLine",value:function(){var i=this.state,a=i.startX,f=i.startY,v=i.endX,O=i.endY;return Vr(a,f,v,O)>10}},{key:"render",value:function(){var i=this,a=this.state,f=a.startX,v=a.startY,O=a.endX,M=a.endY,k=this.props,I=k.anchorData.edgeAddable,q=k.edgeStyle;return Object(ie.g)("g",{className:"lf-anchor"},Object(ie.g)("g",{onMouseDown:function(pe){I!==!1&&i.dragHandler.handleMouseDown(pe)}},this.getAnchorShape()),this.isShowLine()&&Object(ie.g)(ri,Va({x1:f,y1:v,x2:O,y2:M},q,{"pointer-events":"none"})))}}])&&Kd(e.prototype,n),r&&Kd(e,r),u}(ie.a);s(63);function qd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ym(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qd(Object(n),!0).forEach(function(r){Vm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jd(t){return(Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Qd(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Qd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eh(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.value,i=t.fontSize,a=t.fill,f=a===void 0?"currentColor":a,v=t.overflowMode,O=v===void 0?"default":v,M=t.textWidth,k=M===void 0?"":M,I=t.model,q={textAnchor:"middle","dominant-baseline":"middle",x:n,y:o,fill:f};if(Object.entries(t).forEach(function(Le){var Ke=Wm(Le,2),Ue=Ke[0],et=Ke[1];Jd(et)!=="object"&&(q[Ue]=et)}),u){var pe=String(u).split(/[\r\n]/g),ge=pe.length;if(O!=="default"){var je=I.BaseType,Oe=I.modelType;if(je===yn.NODE&&Oe!==Rt.TEXT_NODE||je===yn.EDGE&&k)return function(Le){var Ke=Le.value,Ue=Le.fontSize,et=Le.model,ht=Le.fontFamily,Et=ht===void 0?"":ht,kt=Le.lineHeight,$t=Le.wrapPadding,dn=$t===void 0?"0, 0":$t,jn=Le.overflowMode,Yn=Le.x,Pn=Le.y,Po=et.width,no=et.textHeight,Mo=Le.textWidth||Po,ha=String(Ke).split(/[\r\n]/g),qa=ha.length,Ja=Qc({rows:ha,style:{fontSize:"".concat(Ue,"px"),width:"".concat(Mo,"px"),fontFamily:Et,lineHeight:kt,padding:dn},rowsLength:qa,className:"lf-get-text-height"}),zi=et.height>Ja?et.height:Ja;no&&(zi=no);var Bi=jn==="ellipsis";return Object(ie.g)("g",null,Object(ie.g)("foreignObject",{width:Mo,height:zi,x:Yn-Mo/2,y:Pn-zi/2},Object(ie.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:zi,width:Mo,padding:dn}},Object(ie.g)("div",{className:Bi?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:Ym({},Le)},ha.map(function(Bo){return Object(ie.g)("div",{className:"lf-node-text--auto-wrap-inner"},Bo)})))))}(t)}if(ge>1){var we=pe.map(function(Le,Ke){var Ue=(Ke-(ge-1)/2)*(i+2);return Object(ie.g)("tspan",{className:"lf-text-tspan",x:n,y:o+Ue},Le)});return Object(ie.g)("text",q,we)}return Object(ie.g)("text",q,u)}}function th(t){return(th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function nh(){return(nh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Zm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return rh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return rh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ih(t,e){return(ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Km(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=us(t);if(e){var o=us(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $m(this,n)}}function $m(t,e){if(e&&(th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lo(t)}function Lo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function us(t){return(us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function ai(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ah=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ih(i,a)})(u,t);var e,n,r,o=Km(u);function u(i){var a;(function(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")})(this,u),ai(Lo(a=o.call(this)),"dragHandler",void 0),ai(Lo(a),"sumDeltaX",0),ai(Lo(a),"sumDeltaY",0),ai(Lo(a),"stepDrag",void 0),ai(Lo(a),"onDraging",function(O){var M=O.deltaX,k=O.deltaY,I=a.props,q=I.model,pe=Zm(I.graphModel.transformModel.fixDeltaXY(M,k),2),ge=pe[0],je=pe[1];q.moveText(ge,je)}),ai(Lo(a),"dblClickHandler",function(){a.props.editable&&a.props.model.setElementState(Yt.TEXT_EDIT)}),ai(Lo(a),"mouseDownHandle",function(O){var M=a.props,k=M.draggable,I=M.graphModel.editConfigModel.nodeTextDraggable;(k||I)&&a.stepDrag.handleMouseDown(O)});var f=i.model,v=i.draggable;return a.stepDrag=new ni({onDraging:a.onDraging,step:1,model:f,isStopPropagation:v}),a}return e=u,(n=[{key:"getShape",value:function(){var i=this.props,a=i.model,f=i.graphModel,v=a.text,O=f.editConfigModel,M=v.value,k=v.x,I=v.y,q=v.editable,pe=v.draggable,ge={x:k,y:I,className:"",value:M};q?ge.className="lf-element-text":pe||O.nodeTextDraggable?ge.className="lf-text-draggable":ge.className="lf-text-disabled";var je=a.getTextStyle();return Object(ie.g)(eh,nh({},ge,je,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ie.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&oh(e.prototype,n),r&&oh(e,r),u}(ie.a),qm=window.navigator.userAgent.match(/MSIE|Trident/)!==null,ca=new Map,uh=function(t){var e=ca.get(t);e&&(window.cancelAnimationFrame(e),ca.delete(t))};function sh(t){return(sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Wa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ch(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ch(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fh(t,e){return(fh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Jm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ss(t);if(e){var o=ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(t)}function Ln(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ss(t){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Eo=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&fh(i,a)})(u,t);var e,n,r,o=Jm(u);function u(i){var a;(function(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")})(this,u),Un(Ln(a=o.call(this)),"t",void 0),Un(Ln(a),"moveOffset",void 0),Un(Ln(a),"stepDrag",void 0),Un(Ln(a),"contextMenuTime",void 0),Un(Ln(a),"startTime",void 0),Un(Ln(a),"clickTimer",void 0),Un(Ln(a),"onDragStart",function(k){var I=k.event,q=I.clientX,pe=I.clientY,ge=a.props,je=ge.model,Oe=ge.graphModel.getPointByClient({x:q,y:pe}).canvasOverlayPosition,we=Oe.x,Le=Oe.y;a.moveOffset={x:je.x-we,y:je.y-Le}}),Un(Ln(a),"onDraging",function(k){var I=k.event,q=a.props,pe=q.model,ge=q.graphModel,je=ge.editConfigModel,Oe=ge.transformModel,we=ge.width,Le=ge.height,Ke=ge.gridSize;pe.isDragging=!0;var Ue=I.clientX,et=I.clientY,ht=ge.getPointByClient({x:Ue,y:et}).canvasOverlayPosition,Et=ht.x,kt=ht.y,$t=Wa(Oe.CanvasPointToHtmlPoint([Et,kt]),2),dn=$t[0],jn=$t[1];if(!(dn<0||jn<0||dn>we||jn>Le)){Et+=a.moveOffset.x,kt+=a.moveOffset.y,Et=Mi(Et,Ke),kt=Mi(kt,Ke);var Yn,Pn,Po,no=Wa(Oe.CanvasPointToHtmlPoint([Et-pe.width/2,kt-pe.height/2]),2),Mo=no[0],ha=no[1],qa=Wa(Oe.CanvasPointToHtmlPoint([Et+pe.width/2,kt+pe.height/2]),2),Ja=qa[0],zi=qa[1],Bi=Math.max(Ke,20),Bo=[];Mo<0?Bo=[Bi,0]:Ja>ge.width?Bo=[-Bi,0]:ha<0?Bo=[0,Bi]:zi>ge.height&&(Bo=[0,-Bi]),a.t&&uh(a.t),Bo.length>0&&!je.stopMoveGraph?a.t=(Yn=function(){var Qa=Wa(Bo,2),eu=Qa[0],rv=Qa[1];Oe.translate(eu,rv),ge.moveNode(pe.id,-eu/Oe.SCALE_X,-rv/Oe.SCALE_X)},Pn=ei(),Po=window.requestAnimationFrame(function Qa(){if(Yn(),ca.get(Pn)){var eu=window.requestAnimationFrame(Qa);ca.set(Pn,eu)}}),ca.set(Pn,Po),Pn):ge.moveNode2Coordinate(pe.id,Et,kt)}}),Un(Ln(a),"onDragEnd",function(){a.t&&uh(a.t),a.props.model.isDragging=!1}),Un(Ln(a),"handleClick",function(k){if(a.startTime&&!(new Date().getTime()-a.startTime>200)){var I=a.props,q=I.model,pe=I.graphModel,ge={data:q.getData(),e:k,position:pe.getPointByClient({x:k.clientX,y:k.clientY})},je=k.button===2,Oe=k.detail===2;if(!je){var we=pe.editConfigModel;pe.selectNodeById(q.id,Mc(k,we)),a.toFront(),Oe?(we.nodeTextEdit&&q.text.editable&&(q.setSelected(!1),pe.setElementStateById(q.id,Yt.TEXT_EDIT)),pe.eventCenter.emit(xt.NODE_DBCLICK,ge)):(pe.eventCenter.emit(xt.ELEMENT_CLICK,ge),pe.eventCenter.emit(xt.NODE_CLICK,ge))}}}),Un(Ln(a),"handleContextMenu",function(k){k.preventDefault();var I=a.props,q=I.model,pe=I.graphModel,ge=q.getData(),je=pe.getPointByClient({x:k.clientX,y:k.clientY});pe.setElementStateById(q.id,Yt.SHOW_MENU,je.domOverlayPosition),pe.selectNodeById(q.id),pe.eventCenter.emit(xt.NODE_CONTEXTMENU,{data:ge,e:k,position:je}),a.toFront()}),Un(Ln(a),"handleMouseDown",function(k){var I=a.props,q=I.model,pe=I.graphModel;a.toFront(),a.startTime=new Date().getTime(),pe.editConfigModel.adjustNodePosition&&q.draggable&&a.stepDrag&&a.stepDrag.handleMouseDown(k)}),Un(Ln(a),"setHoverON",function(k){if(!a.state.isHovered){a.setState({isHovered:!0});var I=a.props,q=I.model,pe=I.graphModel,ge=q.getData();q.setHovered(!0),pe.eventCenter.emit(xt.NODE_MOUSEENTER,{data:ge,e:k})}}),Un(Ln(a),"setHoverOFF",function(k){a.setState({isHovered:!1});var I=a.props,q=I.model,pe=I.graphModel,ge=q.getData();q.setHovered(!1),pe.eventCenter.emit(xt.NODE_MOUSELEAVE,{data:ge,e:k})}),Un(Ln(a),"onMouseOut",function(k){qm&&a.setHoverOFF(k)});var f=i.graphModel,v=f.gridSize,O=f.eventCenter,M=i.model;return a.stepDrag=new ni({onDragStart:a.onDragStart,onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:v,eventType:"NODE",isStopPropagation:!1,eventCenter:O,model:M}),a.state={isHovered:!1},a}return e=u,r=[{key:"getModel",value:function(i){return i}}],(n=[{key:"getAnchorShape",value:function(i){return null}},{key:"getAnchors",value:function(){var i=this,a=this.props,f=a.model,v=a.graphModel,O=f.isSelected,M=f.isHitable,k=f.isDragging,I=this.state.isHovered;if(M&&(O||I)&&!k){var q=f.getAnchorLineStyle();return Yi(f.anchors,function(pe,ge){var je=f.getAnchorStyle(pe);return Object(ie.g)(Um,{anchorData:pe,node:i,style:je,edgeStyle:q,anchorIndex:ge,nodeModel:f,graphModel:v,setHoverOFF:i.setHoverOFF})})}return[]}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Yt.TEXT_EDIT)return"";if(a.text){var v=f.editConfigModel,O=!1;return(a.text.draggable||v.nodeTextDraggable)&&(O=!0),Object(ie.g)(ah,{editable:v.nodeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:O})}}},{key:"getStateClassName",value:function(){var i=this.props.model,a=i.state,f=i.isDraging,v="lf-node";switch(a){case Yt.ALLOW_CONNECT:v+=" lf-node-allow";break;case Yt.NOT_ALLOW_CONNECT:v+=" lf-node-not-allow";break;default:v+=" lf-node-default"}return f&&(v+=" lf-isDragging"),v}},{key:"toFront",value:function(){var i=this.props,a=i.model,f=i.graphModel;f.overlapMode!==rr.INCREASE&&a.autoToFront&&f.toFront(a.id)}},{key:"render",value:function(){var i,a=this.props,f=a.model,v=a.graphModel,O=v.editConfigModel,M=O.hideAnchors,k=O.adjustNodePosition,I=v.gridSize,q=v.transformModel.SCALE_X,pe=f.isHitable,ge=f.draggable,je=Object(ie.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),M?null:this.getAnchors());return pe?(k&&ge&&this.stepDrag.setStep(I*q),i=Object(ie.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},je)):i=Object(ie.g)("g",{className:this.getStateClassName()},je),i}}])&&lh(e.prototype,n),r&&lh(e,r),u}(ie.a);function ph(t){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function dh(){return(dh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function eb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yh(t,e){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function tb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cs(t);if(e){var o=cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nb(this,n)}}function nb(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function cs(t){return(cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ls=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&yh(i,a)})(u,t);var e,n,r,o=tb(u);function u(){return eb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(ie.g)(Ro,dh({},a,{x:i.x,y:i.y,width:i.width,height:i.height,radius:i.radius}))}}])&&hh(e.prototype,n),r&&hh(e,r),u}(Eo);function vh(t){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function gh(){return(gh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function rb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bh(t,e){return(bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function ob(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fs(t);if(e){var o=fs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ib(this,n)}}function ib(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ps=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&bh(i,a)})(u,t);var e,n,r,o=ob(u);function u(){return rb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,v=i.r,O=i.getNodeStyle();return Object(ie.g)(ta,gh({},O,{x:a,y:f,r:v}))}}])&&mh(e.prototype,n),r&&mh(e,r),u}(Eo);function _h(t){return(_h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ab(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Oh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Oh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wh(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach(function(o){var u=ab(o,2),i=u[0],a=u[1];_h(a)!=="object"&&(r[i]=a)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map(function(o){return o.join(",")}).join(" "),Object(ie.g)("polygon",r)}function xh(t){return(xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Eh(){return(Eh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ub(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jh(t,e){return(jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function sb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ds(t);if(e){var o=ds(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cb(this,n)}}function cb(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ds(t){return(ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var hs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&jh(i,a)})(u,t);var e,n,r,o=sb(u);function u(){return ub(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,v=i.width,O=i.height,M=i.points,k=i.getNodeStyle(),I={transform:"matrix(1 0 0 1 ".concat(a-v/2," ").concat(f-O/2,")")};return Object(ie.g)("g",I,Object(ie.g)(wh,Eh({},k,{points:M,x:a,y:f})))}}])&&Sh(e.prototype,n),r&&Sh(e,r),u}(Eo);function Ph(t){return(Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Mh(){return(Mh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kh(t,e){return(kh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function fb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ys(t);if(e){var o=ys(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pb(this,n)}}function pb(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var vs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&kh(i,a)})(u,t);var e,n,r,o=fb(u);function u(){return lb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(ie.g)("g",null,Object(ie.g)(wh,Mh({},a,{points:i.points,x:i.x,y:i.y})))}}])&&Nh(e.prototype,n),r&&Nh(e,r),u}(Eo);function Ah(t){return(Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function db(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Th(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Th(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Th(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hb(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,u=t.rx,i=u===void 0?4:u,a=t.ry,f=a===void 0?4:a,v=t.className,O={cx:n,cy:o,rx:i,ry:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(M){var k=db(M,2),I=k[0],q=k[1];Ah(q)!=="object"&&(O[I]=q)}),O.className=v?"lf-basic-shape ".concat(v):"lf-basic-shape",Object(ie.g)("ellipse",O)}function Dh(t){return(Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ch(){return(Ch=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function yb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ih(t,e){return(Ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function vb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=gs(t);if(e){var o=gs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gb(this,n)}}function gb(t,e){if(e&&(Dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function gs(t){return(gs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var ms=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ih(i,a)})(u,t);var e,n,r,o=vb(u);function u(){return yb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getShape",value:function(){var i=this.props.model,a=i.getNodeStyle();return Object(ie.g)(hb,Ch({},a,{x:i.x,y:i.y,rx:i.rx,ry:i.ry}))}}])&&Rh(e.prototype,n),r&&Rh(e,r),u}(Eo);function Lh(t){return(Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function zh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zh(Object(n),!0).forEach(function(r){mb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gh(t,e){return(Gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function _b(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bs(t);if(e){var o=bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ob(this,n)}}function Ob(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function bs(t){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var _s=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Gh(i,a)})(u,t);var e,n,r,o=_b(u);function u(){return bb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text;if(f&&f.value&&a.background&&a.background.fill!=="transparnet"){var v=f.x,O=f.y,M=i.width,k=i.height,I=Bh(Bh({},a.background),{},{x:v,y:O-1,width:M,height:k});return Object(ie.g)(Ro,I)}}},{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getBackgroud())}}])&&Hh(e.prototype,n),r&&Hh(e,r),u}(Eo);function Fh(t){return(Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uh(t,e){return(Uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function xb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Os(t);if(e){var o=Os(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eb(this,n)}}function Eb(t,e){if(e&&(Fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return la(t)}function la(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Os(t){return(Os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Za(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ws=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Uh(i,a)})(u,t);var e,n,r,o=xb(u);function u(){var i;wb(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return Za(la(i=o.call.apply(o,[this].concat(f))),"ref",void 0),Za(la(i),"currrentProperties",void 0),Za(la(i),"preProperties",void 0),Za(la(i),"setRef",function(O){i.ref=O}),i}return e=u,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(i){i.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var i=this.props.model,a=i.x,f=i.y,v=i.height,O=i.width;return this.currrentProperties=JSON.stringify(i.properties),Object(ie.g)("foreignObject",{x:a-O/2,y:f-v/2,width:O,height:v,ref:this.setRef})}}])&&Xh(e.prototype,n),r&&Xh(e,r),u}(Eo);function Yh(t){return(Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Sb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vh(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Vh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ri=function(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=Sb(n,2),o=r[0],u=r[1];Yh(u)!=="object"&&(e[o]=u)}),Object(ie.g)("path",e)};function Wh(t){return(Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Zh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function jb(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $h(t,e){return($h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Mb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=xs(t);if(e){var o=xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nb(this,n)}}function Nb(t,e){if(e&&(Wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function xs(t){return(xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var qh=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&$h(i,a)})(u,t);var e,n,r,o=Mb(u);function u(){return Pb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getArrowAttributes",value:function(){var i=this.props,a=i.arrowInfo,f=i.style,v=a.start,O=a.end,M={start:v,end:O,offset:f.offset,verticalLength:f.verticalLength,type:"end"},k=qi(M),I=k.leftX,q=k.leftY,pe=k.rightX,ge=k.rightY;return function(je){for(var Oe=1;Oe<arguments.length;Oe++){var we=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Zh(Object(we),!0).forEach(function(Le){jb(je,Le,we[Le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(je,Object.getOwnPropertyDescriptors(we)):Zh(Object(we)).forEach(function(Le){Object.defineProperty(je,Le,Object.getOwnPropertyDescriptor(we,Le))})}return je}({d:"M".concat(I," ").concat(q," L").concat(O.x," ").concat(O.y," L").concat(pe," ").concat(ge," z")},f)}},{key:"getShape",value:function(){var i=this.getArrowAttributes(),a=i.d,f=i.strokeWidth,v=i.stroke,O=i.fill;return Object(ie.g)(Ri,{d:a,fill:O,strokeWidth:f,stroke:v})}},{key:"render",value:function(){return Object(ie.g)("g",{className:"lf-arrow"},this.getShape())}}])&&Kh(e.prototype,n),r&&Kh(e,r),u}(ie.a);function Jh(t){return(Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Qh(){return(Qh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function ey(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ey(Object(n),!0).forEach(function(r){js(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ny(t,e){return(ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function kb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ss(t);if(e){var o=Ss(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ab(this,n)}}function Ab(t,e){if(e&&(Jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Es(t)}function Es(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ss(t){return(Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function js(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qr,Tb=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&ny(i,a)})(u,t);var e,n,r,o=kb(u);function u(i){var a;return function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),js(Es(a=o.call(this,i)),"setHoverON",function(){a.setState({isHoverd:!0})}),js(Es(a),"setHoverOFF",function(){a.setState({isHoverd:!1})}),a.state={isHoverd:!1},a}return e=u,(n=[{key:"getBackgroud",value:function(){var i=this.props.model,a=i.getTextStyle(),f=i.text,v=a.background||{};if(this.state.isHoverd&&a.hover&&a.hover.background&&(v=ui(ui({},v),a.hover.background)),f&&f.value&&v.fill!=="transparnet"){var O,M=a.fontSize,k=a.overflowMode,I=a.lineHeight,q=a.wrapPadding,pe=a.textWidth,ge=f.value,je=f.x,Oe=f.y,we=String(ge).split(/[\r\n]/g),Le=we.length;if(k==="autoWrap"&&pe){var Ke=Qc({rows:we,style:{fontSize:"".concat(M,"px"),width:"".concat(pe,"px"),lineHeight:I,padding:q},rowsLength:Le,className:"lf-get-text-height"});O=ui(ui({},v),{},{x:je-1,y:Oe-1,width:pe,height:Ke})}else{var Ue=0;we&&we.forEach(function(kt){var $t=kl(kt);Ue=$t>Ue?$t:Ue});var et=Ou({rows:we,fontSize:M,rowsLength:Le}),ht=et.width,Et=et.height;O=ui(ui({},v),{},{x:je-1,y:Oe-1,width:ht,height:Et})}return Object(ie.g)(Ro,O)}}},{key:"getShape",value:function(){var i=this.props.model,a=i.text,f=a.value,v=a.x,O=a.y;if(f){var M=ui({x:v,y:O,className:"lf-element-text",value:f},i.getTextStyle());return Object(ie.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(ie.g)(eh,Qh({},M,{model:i})))}}}])&&ty(e.prototype,n),r&&ty(e,r),u}(ah);function ry(t){return(ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function oy(){return(oy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function iy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iy(Object(n),!0).forEach(function(r){Er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Db(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ay(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ay(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ay(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sy(t,e){return(sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Cb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ps(t);if(e){var o=Ps(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rb(this,n)}}function Rb(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xr(t)}function xr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ps(t){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Er(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Qr||(Qr={}));var cy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&sy(i,a)})(u,t);var e,n,r,o=Cb(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),Er(xr(i=o.call(this)),"dragHandler",void 0),Er(xr(i),"oldEdge",void 0),Er(xr(i),"preTargetNode",void 0),Er(xr(i),"targetRuleResults",void 0),Er(xr(i),"sourceRuleResults",void 0),Er(xr(i),"onDragStart",function(){var a=i.props,f=a.x,v=a.y,O=a.edgeModel,M=O.startPoint,k=O.endPoint,I=O.pointsList;i.oldEdge={startPoint:M,endPoint:k,pointsList:I},i.setState({endX:f,endY:v,draging:!0}),O.isHitable=!1}),Er(xr(i),"onDraging",function(a){var f=a.deltaX,v=a.deltaY,O=i.state,M=O.endX,k=O.endY,I=i.props,q=I.graphModel,pe=I.type,ge=Db(q.transformModel.moveCanvasPointByHtml([M,k],f,v),2),je=ge[0],Oe=ge[1];i.setState({endX:je,endY:Oe,draging:!0});var we=i.props.edgeModel,Le=Oa({x:M,y:k},q);if(Le&&Le.node&&i.isAllowAdjust(Le)){var Ke,Ue=we.startPoint,et=we.endPoint,ht=we.sourceNode,Et=we.targetNode;pe===Qr.SOURCE?Ke={startPoint:{x:Le.anchor.x,y:Le.anchor.y},endPoint:{x:et.x,y:et.y},sourceNode:Le.node,targetNode:Et}:pe===Qr.TARGET&&(Ke={startPoint:{x:Ue.x,y:Ue.y},endPoint:{x:Le.anchor.x,y:Le.anchor.y},sourceNode:ht,targetNode:Le.node}),we.updateAfterAdjustStartAndEnd(Ke)}else pe===Qr.SOURCE?we.updateStartPoint({x:je,y:Oe}):pe===Qr.TARGET&&we.updateEndPoint({x:je,y:Oe})}),Er(xr(i),"onDragEnd",function(){var a;i.setState({draging:!1});var f=i.props,v=f.graphModel,O=f.edgeModel,M=f.type;O.isHitable=!0;var k=i.state,I=k.endX,q=k.endY,pe=k.draging,ge=Oa({x:I,y:q},v);if(pe){if(ge&&ge.node&&i.isAllowAdjust(ge)){var je,Oe=O.getData(),we=So(So({},Oe),{},{sourceAnchorId:"",targetAnchorId:"",text:(Oe==null||(je=Oe.text)===null||je===void 0?void 0:je.value)||""});M===Qr.SOURCE?we=So(So({},we),{},{sourceNodeId:ge.node.id,sourceAnchorId:ge.anchor.id,startPoint:{x:ge.anchor.x,y:ge.anchor.y},targetNodeId:O.targetNodeId,endPoint:So({},O.endPoint)}):M===Qr.TARGET&&(we=So(So({},we),{},{sourceNodeId:O.sourceNodeId,startPoint:So({},O.startPoint),targetNodeId:ge.node.id,targetAnchorId:ge.anchor.id,endPoint:{x:ge.anchor.x,y:ge.anchor.y}})),v.deleteEdgeById(O.id);var Le=v.addEdge(So({},we));v.eventCenter.emit(xt.EDGE_EXCHANGE_NODE,{data:{newEdge:Le.getData(),oldEdge:O.getData()}})}else i.recoveryEdge();(a=i.preTargetNode)===null||a===void 0||a.setElementState(Yt.DEFAULT)}}),Er(xr(i),"recoveryEdge",function(){var a=i.props.edgeModel,f=i.oldEdge,v=f.startPoint,O=f.endPoint,M=f.pointsList;a.updateStartPoint(v),a.updateEndPoint(O),a.modelType!==Rt.LINE_EDGE&&(a.pointsList=M,a.initPoints())}),Er(xr(i),"getAdjustPointStyle",function(){return i.props.graphModel.theme.edgeAdjust}),i.state={draging:!1,endX:0,endY:0},i.targetRuleResults=new Map,i.sourceRuleResults=new Map,i.dragHandler=Du({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd}),i}return e=u,(n=[{key:"isAllowAdjust",value:function(i){var a=this.props,f=a.edgeModel,v=(f.id,f.sourceNode),O=f.targetNode,M=f.sourceAnchorId,k=f.targetAnchorId,I=a.type,q=null,pe=null,ge=null,je=null;if(I===Qr.SOURCE?(q=i.node,pe=O,ge=i.anchor,je=O.getAnchorInfo(k)):(q=v,pe=i.node,je=i.anchor,ge=v.getAnchorInfo(M)),this.preTargetNode&&this.preTargetNode!==i.node&&this.preTargetNode.setElementState(Yt.DEFAULT),this.preTargetNode=i.node,je.id===ge.id)return!1;var Oe="".concat(q.id,"_").concat(pe.id,"_").concat(ge.id,"_").concat(je.id);if(!this.targetRuleResults.has(Oe)){var we=q.isAllowConnectedAsSource(pe,ge,je),Le=pe.isAllowConnectedAsTarget(q,ge,je);this.sourceRuleResults.set(Oe,wa(we)),this.targetRuleResults.set(Oe,wa(Le))}var Ke=this.sourceRuleResults.get(Oe).isAllPass,Ue=this.targetRuleResults.get(Oe).isAllPass,et=Ke&&Ue?Yt.ALLOW_CONNECT:Yt.NOT_ALLOW_CONNECT;return I===Qr.SOURCE?q.setElementState(et):pe.setElementState(et),Ke&&Ue}},{key:"render",value:function(){var i=this.props,a=i.x,f=i.y,v=this.state.draging,O=this.getAdjustPointStyle();return Object(ie.g)("g",null,Object(ie.g)(ta,oy({className:"lf-edge-adjust-point"},O,{x:a,y:f,onMouseDown:this.dragHandler,"pointer-events":v?"none":""})))}}])&&uy(e.prototype,n),r&&uy(e,r),u}(ie.a);function ly(t){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ms(){return(Ms=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function fy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fy(Object(n),!0).forEach(function(r){jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(t,e){return(hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Lb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ns(t);if(e){var o=Ns(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zb(this,n)}}function zb(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sr(t)}function Sr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ns(t){return(Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function jr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fa=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&hy(i,a)})(u,t);var e,n,r,o=Lb(u);function u(){var i;Ib(this,u);for(var a=arguments.length,f=new Array(a),v=0;v<a;v++)f[v]=arguments[v];return jr(Sr(i=o.call.apply(o,[this].concat(f))),"startTime",void 0),jr(Sr(i),"contextMenuTime",void 0),jr(Sr(i),"clickTimer",void 0),jr(Sr(i),"handleHover",function(O,M){var k=i.props,I=k.model,q=k.graphModel.eventCenter;I.setHovered(O);var pe=O?xt.EDGE_MOUSEENTER:xt.EDGE_MOUSELEAVE,ge=I.getData();q.emit(pe,{data:ge,e:M})}),jr(Sr(i),"setHoverON",function(O){i.handleHover(!0,O)}),jr(Sr(i),"setHoverOFF",function(O){i.handleHover(!1,O)}),jr(Sr(i),"handleContextMenu",function(O){O.preventDefault(),i.contextMenuTime=new Date().getTime(),i.clickTimer&&clearTimeout(i.clickTimer);var M=i.props,k=M.model,I=M.graphModel,q=I.getPointByClient({x:O.clientX,y:O.clientY});I.setElementStateById(k.id,Yt.SHOW_MENU,q.domOverlayPosition),i.toFront(),I.selectEdgeById(k.id);var pe=k==null?void 0:k.getData();I.eventCenter.emit(xt.EDGE_CONTEXTMENU,{data:pe,e:O,position:q})}),jr(Sr(i),"handleMouseDown",function(O){O.stopPropagation(),i.startTime=new Date().getTime()}),jr(Sr(i),"handleMouseUp",function(O){if(i.startTime&&!(new Date().getTime()-i.startTime>200||O.button===2)){var M=O.detail===2,k=i.props,I=k.model,q=k.graphModel,pe=I==null?void 0:I.getData(),ge=q.getPointByClient({x:O.clientX,y:O.clientY});if(M){var je=q.editConfigModel,Oe=q.textEditElement;if(Oe&&Oe.id===I.id&&q.setElementStateById(I.id,Yt.DEFAULT),je.edgeTextEdit&&I.text.editable&&q.setElementStateById(I.id,Yt.TEXT_EDIT),I.modelType===Rt.POLYLINE_EDGE){var we=I,Le=q.getPointByClient({x:O.x,y:O.y}).canvasOverlayPosition,Ke=Le.x,Ue=Le.y,et=Tl({x:Ke,y:Ue},we.points);we.dbClickPosition=et}q.eventCenter.emit(xt.EDGE_DBCLICK,{data:pe,e:O,position:ge})}else q.eventCenter.emit(xt.ELEMENT_CLICK,{data:pe,e:O,position:ge}),q.eventCenter.emit(xt.EDGE_CLICK,{data:pe,e:O,position:ge});var ht=q.editConfigModel;q.selectEdgeById(I.id,Mc(O,ht)),i.toFront()}}),jr(Sr(i),"getIsDraging",function(){return!1}),i}return e=u,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var i=this.props,a=i.model,f=i.graphModel;if(a.state===Yt.TEXT_EDIT)return"";var v=!1,O=f.editConfigModel;return(a.text.draggable||O.edgeTextDraggable)&&(v=!0),Object(ie.g)(Tb,{editable:O.edgeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:v})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,v=i.isSelected;return{start:a,end:f,hover:this.state.hover,isSelected:v}}},{key:"getArrowStyle",value:function(){var i=this.props,a=i.model,f=i.graphModel,v=a.getEdgeStyle(),O=f.theme.arrow;return py(py({},v),{},{fill:v.stroke},O)}},{key:"getArrow",value:function(){var i=this.getArrowInfo(),a=i.start,f=i.end;if(a&&f&&(a.x!==f.x||a.y!==f.y)){var v=this.getArrowStyle();return Object(ie.g)(qh,{arrowInfo:i,style:v})}}},{key:"getAdjustPoints",value:function(){var i=this.props,a=i.model,f=i.graphModel,v=a.getAdjustStart(),O=a.getAdjustEnd();return Object(ie.g)("g",null,Object(ie.g)(cy,Ms({type:"SOURCE"},v,{edgeModel:a,graphModel:f})),Object(ie.g)(cy,Ms({type:"TARGET"},O,{edgeModel:a,graphModel:f})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ie.g)("g",null)}},{key:"getAppend",value:function(){return Object(ie.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var i=this.props,a=i.graphModel,f=i.model;a.overlapMode!==rr.INCREASE&&a.toFront(f.id)}},{key:"render",value:function(){var i=this.props,a=i.model,f=a.isSelected,v=a.isHitable,O=i.graphModel,M=this.getIsDraging(),k=O.editConfigModel.adjustEdgeStartAndEnd,I=O.animation,q=f&&I.edge&&O.getSelectElements().edges.length===1;return Object(ie.g)("g",null,Object(ie.g)("g",{className:v?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),q&&this.getAnimation(),this.getText(),this.getArrow()),k&&f&&!M?this.getAdjustPoints():"")}}])&&dy(e.prototype,n),r&&dy(e,r),u}(ie.a);function yy(t){return(yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ks(){return(ks=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Bb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gy(t,e){return(gy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Hb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=As(t);if(e){var o=As(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(t,e){if(e&&(yy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function As(t){return(As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ts=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&gy(i,a)})(u,t);var e,n,r,o=Hb(u);function u(){return Bb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.startPoint,f=i.endPoint,v=i.getEdgeStyle();return Object(ie.g)(ri,ks({},v,{x1:a.x,y1:a.y,x2:f.x,y2:f.y}))}},{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,v=a.className,O=a.strokeDasharray,M=i.startPoint,k=i.endPoint,I=i.getEdgeStyle();return Object(ie.g)("g",null,Object(ie.g)(ri,ks({},I,{x1:M.x,y1:M.y,x2:k.x,y2:k.y,className:v,strokeDasharray:O,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model,a=function(I){var q,pe=I.start,ge=I.end;if(pe.x===ge.x&&pe.y===ge.y)q="";else{var je={start:pe,end:ge,offset:10,verticalLength:5},Oe=qi(Sa(Sa({},je),{},{type:"start"})),we=qi(Sa(Sa({},je),{},{type:"end"}));q="M".concat(Oe.leftX," ").concat(Oe.leftY,` 
    L`).concat(Oe.rightX," ").concat(Oe.rightY,` 
    L`).concat(we.rightX," ").concat(we.rightY,`
    L`).concat(we.leftX," ").concat(we.leftY," z")}return{d:q,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:i.startPoint,end:i.endPoint}),f=a.d,v=a.strokeWidth,O=a.fill,M=a.strokeDasharray,k=a.stroke;return Object(ie.g)(Ri,{d:f,fill:O,strokeWidth:v,stroke:k,strokeDasharray:M})}}])&&vy(e.prototype,n),r&&vy(e,r),u}(fa);function my(t){return(my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Fb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return by(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _y=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=Fb(n,2),o=r[0],u=r[1];my(u)!=="object"&&(e[o]=u)}),Object(ie.g)("polyline",e)};function Oy(t){return(Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wy(Object(n),!0).forEach(function(r){to(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ds(){return(Ds=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Xb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return xy(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ey(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sy(t,e){return(Sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Ub(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cs(t);if(e){var o=Cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yb(this,n)}}function Yb(t,e){if(e&&(Oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eo(t)}function eo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cs(t){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function to(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Sy(i,a)})(u,t);var e,n,r,o=Ub(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),to(eo(i=o.call(this)),"drag",void 0),to(eo(i),"isDraging",void 0),to(eo(i),"appendInfo",void 0),to(eo(i),"dragHandler",void 0),to(eo(i),"onDragStart",function(){i.props.model.dragAppendStart()}),to(eo(i),"onDraging",function(a){var f=a.deltaX,v=a.deltaY,O=i.props,M=O.model,k=O.graphModel;i.isDraging=!0;var I=k.transformModel,q=k.editConfigModel,pe=Xb(I.fixDeltaXY(f,v),2),ge=pe[0],je=pe[1],Oe=M,we=q.adjustEdgeMiddle;i.appendInfo=we?Oe.dragAppendSimple(i.appendInfo,{x:ge,y:je}):Oe.dragAppend(i.appendInfo,{x:ge,y:je})}),to(eo(i),"onDragEnd",function(){var a=i.props,f=a.model,v=a.graphModel.eventCenter,O=f;O.dragAppendEnd(),i.isDraging=!1,i.appendInfo=void 0,v.emit(xt.EDGE_ADJUST,{data:O.getData()})}),to(eo(i),"beforeDragStart",function(a,f){f.dragAble&&i.dragHandler(a),i.appendInfo=f}),to(eo(i),"getIsDraging",function(){return i.isDraging}),i.drag=Du({onDragStart:i.onDragStart,onDraging:i.onDraging,onDragEnd:i.onDragEnd,isStopPropagation:!1}),i}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle();return Object(ie.g)(_y,Ds({points:i.points},a))}},{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,v=a.className,O=a.strokeDasharray,M=i.getEdgeStyle();return Object(ie.g)("g",null,Object(ie.g)(_y,Ds({points:i.points},M,{className:v,strokeDasharray:O,stroke:f})))}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=i.points,f=i.isSelected,v={start:null,end:null,hover:this.state.hover,isSelected:f},O=Ni(a);return O.length>=2&&(v.start=O[O.length-2],v.end=O[O.length-1]),v}},{key:"getAppendAttributes",value:function(i){var a,f=i.start,v=i.end;if(f.x===v.x&&f.y===v.y)a="";else{var O={start:f,end:v,offset:10,verticalLength:5},M=qi(Ka(Ka({},O),{},{type:"start"})),k=qi(Ka(Ka({},O),{},{type:"end"}));a="M".concat(M.leftX," ").concat(M.leftY,` 
      L`).concat(M.rightX," ").concat(M.rightY,` 
      L`).concat(k.rightX," ").concat(k.rightY,`
      L`).concat(k.leftX," ").concat(k.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(i){var a=this.getAppendAttributes(i),f=a.d,v=a.strokeWidth,O=a.fill,M=a.strokeDasharray,k=a.stroke;return Object(ie.g)(Ri,{d:f,fill:O,strokeWidth:v,stroke:k,strokeDasharray:M})}},{key:"getAppendWidth",value:function(){for(var i=this,a=this.props,f=a.model,v=a.graphModel,O=f.pointsList,M=f.draggable,k=[],I=O.length,q=function(ge){var je="lf-polyline-append",Oe={start:{x:O[ge].x,y:O[ge].y},end:{x:O[ge+1].x,y:O[ge+1].y},startIndex:ge,endIndex:ge+1,direction:"",dragAble:!0},we=Object(ie.g)("g",{className:je},i.getAppendShape(Oe)),Le=v.editConfigModel,Ke=Le.adjustEdge,Ue=Le.adjustEdgeMiddle;if(Ke&&M){i.dragHandler=i.drag;var et=Oe.startIndex,ht=Oe.endIndex,Et=Ue&&(et===0||ht===I-1);Oe.dragAble=!Et,Oe.start.x===Oe.end.x?(Oe.dragAble&&(je+="-ew-resize"),Oe.direction=qt.VERTICAL):Oe.start.y===Oe.end.y&&(Oe.dragAble&&(je+="-ns-resize"),Oe.direction=qt.HORIZONTAL),we=Object(ie.g)("g",{className:i.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(kt){return i.beforeDragStart(kt,Oe)}},Object(ie.g)("g",{className:je},i.getAppendShape(Oe)))}else i.dragHandler=function(){};k.push(we)},pe=0;pe<I-1;pe++)q(pe);return Object(ie.g)("g",null,k)}}])&&Ey(e.prototype,n),r&&Ey(e,r),u}(fa);function jy(t){return(jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Vb(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Py(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Py(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Py(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Is(){return(Is=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Wb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function My(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ny(t,e){return(Ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Zb(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ls(t);if(e){var o=Ls(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(t,e){if(e&&(jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ls(t){return(Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var zs=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Ny(i,a)})(u,t);var e,n,r,o=Zb(u);function u(){return Wb(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"getEdge",value:function(){var i=this.props.model,a=i.getEdgeStyle();return Object(ie.g)(Ri,Is({d:i.path},a))}},{key:"getShape",value:function(){return Object(ie.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var i=this.props.model,a=i.getAnimation(),f=a.stroke,v=a.className,O=a.strokeDasharray,M=i.getEdgeStyle();return Object(ie.g)("g",null,Object(ie.g)(Ri,Is({d:i.path},M,{className:v,strokeDasharray:O,stroke:f})))}},{key:"getAppendWidth",value:function(){var i=this.props.model.path;return Object(ie.g)(Ri,{d:i,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var i=this.props.model,a=this.state.hover,f=i,v=f.path,O=f.isSelected,M=Vb(function(k){var I=Aa(k);return[I[2],I[3]]}(v),2);return{start:M[0],end:M[1],hover:a,isSelected:O}}}])&&My(e.prototype,n),r&&My(e,r),u}(fa),ky=function(t,e){return g(t,e)},$b=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},Bs=function(){return ut.a.Date.now()},qb=/\s/,Jb=function(t){for(var e=t.length;e--&&qb.test(t.charAt(e)););return e},Qb=/^\s+/,e0=function(t){return t&&t.slice(0,Jb(t)+1).replace(Qb,"")},t0=/^[-+]0x[0-9a-f]+$/i,n0=/^0b[01]+$/i,r0=/^0o[0-7]+$/i,o0=parseInt,Ay=function(t){if(typeof t=="number")return t;if(_e(t))return NaN;if(Qt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Qt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=e0(t);var n=n0.test(t);return n||r0.test(t)?o0(t.slice(2),n?2:8):t0.test(t)?NaN:+t},i0=Math.max,a0=Math.min,u0=function(t,e,n){var r,o,u,i,a,f,v=0,O=!1,M=!1,k=!0;if(typeof t!="function")throw new TypeError("Expected a function");function I(we){var Le=r,Ke=o;return r=o=void 0,v=we,i=t.apply(Ke,Le)}function q(we){return v=we,a=setTimeout(ge,e),O?I(we):i}function pe(we){var Le=we-f;return f===void 0||Le>=e||Le<0||M&&we-v>=u}function ge(){var we=Bs();if(pe(we))return je(we);a=setTimeout(ge,function(Le){var Ke=e-(Le-f);return M?a0(Ke,u-(Le-v)):Ke}(we))}function je(we){return a=void 0,k&&r?I(we):(r=o=void 0,i)}function Oe(){var we=Bs(),Le=pe(we);if(r=arguments,o=this,f=we,Le){if(a===void 0)return q(f);if(M)return clearTimeout(a),a=setTimeout(ge,e),I(f)}return a===void 0&&(a=setTimeout(ge,e)),i}return e=Ay(e)||0,Qt(n)&&(O=!!n.leading,u=(M="maxWait"in n)?i0(Ay(n.maxWait)||0,e):u,k="trailing"in n?!!n.trailing:k),Oe.cancel=function(){a!==void 0&&clearTimeout(a),v=0,r=f=o=a=void 0},Oe.flush=function(){return a===void 0?i:je(Bs())},Oe},s0=s(165);function Ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dy,Cy,Ry,c0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),zo(this,"undos",[]),zo(this,"redos",[]),zo(this,"callbacks",[]),zo(this,"stopWatch",null),zo(this,"curData",null),zo(this,"maxSize",50),zo(this,"waitTime",100),zo(this,"eventCenter",void 0),this.eventCenter=o}var e,n,r;return e=t,(n=[{key:"add",value:function(o){ky($b(this.undos),o)||(this.undos.push(o),ky(this.curData,o)||(this.redos=[]),this.eventCenter.emit(xt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var o=this.undos.pop();this.redos.push(o);var u=this.undos.pop();return this.curData=rn(u),u}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var o=this.redos.pop();return this.curData=rn(o),o}}},{key:"watch",value:function(o){var u=this;this.stopWatch&&this.stopWatch(),this.undos.push(o.modelToGraphData()),this.stopWatch=Object(s0.a)(o,u0(function(){var i=o.modelToHistoryData();i&&u.add(i)},this.waitTime))}}])&&Ty(e.prototype,n),r&&Ty(e,r),t}();function Iy(t){return(Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function l0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ly(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Ly(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zy(Object(n),!0).forEach(function(r){si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function By(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e){return(Hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function f0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hs(t);if(e){var o=Hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p0(this,n)}}function p0(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Li(t)}function Li(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function si(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gy,Fy,Xy,Gs=Pr((Ry=Cy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Hy(i,a)})(u,t);var e,n,r,o=f0(u);function u(){var i;return function(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}(this,u),si(Li(i=o.call(this)),"ref",Object(ie.f)()),si(Li(i),"__prevText",{type:"",text:"",id:""}),si(Li(i),"keyupHandler",function(a){var f=i.props.graphModel.textEditElement;a.key==="Enter"&&a.altKey&&f.setElementState(0)}),si(Li(i),"inputHandler",function(a){var f=a.target.innerText,v=i.props.graphModel.textEditElement;i.__prevText={type:v.type,text:f.replace(/(\r\n)+$|(\n)+$/,""),id:v.id}}),si(Li(i),"keydownHandler",function(a){a.stopPropagation()}),i.state={style:{left:0,top:0}},i}return e=u,r=[{key:"getDerivedStateFromProps",value:function(i){var a,f=i.graphModel,v=f.transformModel,O=f.theme,M=f.textEditElement;if(M){var k;if((k=M.text)===null||k===void 0||!k.value)if(M.BaseType===yn.EDGE){var I=(M=M).text,q=M.textPosition,pe=q.x,ge=q.y;I.x=pe,I.y=ge,M.setText(I)}else M=M;var je={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(M.BaseType===yn.EDGE){var Oe=O.edgeText,we=Oe.overflowMode,Le=Oe.lineHeight,Ke=Oe.wrapPadding,Ue=Oe.textWidth;Ue&&we==="autoWrap"&&(a=Ii(Ii({},je),{},{width:Ue,minWidth:Ue,lineHeight:Le,padding:Ke}))}else if(M.BaseType===yn.NODE){var et=O.nodeText,ht=et.overflowMode,Et=et.lineHeight,kt=et.wrapPadding,$t=et.textWidth,dn=M,jn=dn.width,Yn=dn.modelType;(Yn!==Rt.TEXT_NODE&&ht==="autoWrap"||Yn===Rt.TEXT_NODE&&$t)&&(a=Ii(Ii({},je),{},{width:$t||jn,minWidth:$t||jn,lineHeight:Et,padding:kt}))}var Pn=M.text,Po=Pn.x,no=Pn.y,Mo=l0(v.CanvasPointToHtmlPoint([Po,no]),2);return{style:Ii({left:Mo[0],top:Mo[1]},a)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var i=this.props.graphModel,a=i.eventCenter,f=i.editConfigModel,v=f.edgeTextEdit,O=f.nodeTextEdit;(v||O)&&a.on("".concat(xt.GRAPH_TRANSFORM,",").concat(xt.NODE_CLICK,",").concat(xt.BLANK_CLICK," "),function(){i.textEditElement&&i.textEditElement.setElementState(Yt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var i=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,f=a.text,v=a.id;i.updateText(v,f),i.eventCenter.emit(xt.TEXT_UPDATE,Ii({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(i){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(i),a.collapse(!1);var f=window.getSelection();f.removeAllRanges(),f.addRange(a)}}},{key:"render",value:function(){var i,a=this.props.graphModel.textEditElement,f=this.state.style;return a?Object(ie.g)("div",{contentEditable:!0,className:"lf-text-input",style:f,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(i=a.text)===null||i===void 0?void 0:i.value):null}}])&&By(e.prototype,n),r&&By(e,r),u}(ie.a),si(Cy,"toolName","textEdit"),Dy=Ry))||Dy,d0=function(t){return t.modelType===Rt.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,o=(n.x+r.x)/2,u=(n.y+r.y)/2,i=Math.abs(n.x-r.x)+10,a=Math.abs(n.y-r.y)+10;return{x:o-i/2,y:u-a/2,x1:o+i/2,y1:u+a/2}}(t):t.modelType===Rt.POLYLINE_EDGE?function(e){var n=e.points,r=Ni(n),o=Ji(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):t.modelType===Rt.BEZIER_EDGE?function(e){var n=e.path,r=Aa(n),o=Ji(r,8),u=o.x,i=o.y,a=o.width,f=o.height;return{x:u-a/2,y:i-f/2,x1:u+a/2,y1:i+f/2}}(t):void 0};function Uy(t){return(Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Yy(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var o=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var u,i,a=[],f=!0,v=!1;try{for(o=o.call(n);!(f=(u=o.next()).done)&&(a.push(u.value),!r||a.length!==r);f=!0);}catch(O){v=!0,i=O}finally{try{f||o.return==null||o.return()}finally{if(v)throw i}}return a}}(t,e)||Vy(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h0(t){return function(e){if(Array.isArray(e))return Fs(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Vy(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vy(t,e){if(t){if(typeof t=="string")return Fs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fs(t,e):void 0}}function Fs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zy(t,e){return(Zy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function y0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xs(t);if(e){var o=Xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v0(this,n)}}function v0(t,e){if(e&&(Uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pa(t)}function pa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xs(t){return(Xs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function da(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Us=Pr((Xy=Fy=function(t){(function(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),a&&Zy(i,a)})(u,t);var e,n,r,o=y0(u);function u(i){var a;(function(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")})(this,u),da(pa(a=o.call(this)),"stepDrag",void 0),da(pa(a),"handleMouseDown",function(M){a.stepDrag.handleMouseDown(M)}),da(pa(a),"onDraging",function(M){var k=M.deltaX,I=M.deltaY,q=a.props.graphModel,pe=q.getSelectElements(!0);q.moveNodes(pe.nodes.map(function(ge){return ge.id}),k,I)}),da(pa(a),"handleContextMenu",function(M){M.preventDefault();var k=a.props,I=k.graphModel,q=k.graphModel,pe=q.eventCenter,ge=q.selectElements,je=I.getPointByClient({x:M.clientX,y:M.clientY}),Oe={nodes:[],edges:[]};h0(ge.values()).forEach(function(we){we.BaseType===yn.NODE&&Oe.nodes.push(we.getData()),we.BaseType===yn.EDGE&&Oe.edges.push(we.getData())}),pe.emit(xt.SELECTION_CONTEXTMENU,{data:Oe,e:M,position:je})});var f=i.graphModel,v=f.gridSize,O=f.eventCenter;return a.stepDrag=new ni({onDraging:a.onDraging,step:v,eventType:"SELECTION",eventCenter:O}),a}return e=u,(n=[{key:"render",value:function(){var i=this.props.graphModel,a=i.selectElements,f=i.transformModel;if(!(a.size<=1)){var v=Number.MAX_SAFE_INTEGER,O=Number.MAX_SAFE_INTEGER,M=Number.MIN_SAFE_INTEGER,k=Number.MIN_SAFE_INTEGER;a.forEach(function(ge){var je={x:0,y:0,x1:0,y1:0};ge.BaseType===yn.NODE&&(je=function(Oe){var we=Oe.x,Le=Oe.y,Ke=Oe.width,Ue=Oe.height;return{x:we-Ke/2,y:Le-Ue/2,x1:we+Ke/2,y1:Le+Ue/2}}(ge)),ge.BaseType===yn.EDGE&&(je=d0(ge)),v=Math.min(v,je.x),O=Math.min(O,je.y),M=Math.max(M,je.x1),k=Math.max(k,je.y1)});var I=Yy(f.CanvasPointToHtmlPoint([v,O]),2);v=I[0],O=I[1];var q=Yy(f.CanvasPointToHtmlPoint([M,k]),2);M=q[0],k=q[1];var pe={left:"".concat(v-10,"px"),top:"".concat(O-10,"px"),width:"".concat(M-v+20,"px"),height:"".concat(k-O+20,"px")};return Object(ie.g)("div",{className:"lf-multiple-select",style:pe,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Wy(e.prototype,n),r&&Wy(e,r),u}(ie.a),da(Fy,"toolName","multipleSelect"),Gy=Xy))||Gy;function Ky(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g0=function(){function t(o){(function(u,i){if(!(u instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),$a(this,"tools",void 0),$a(this,"components",void 0),$a(this,"toolMap",new Map),$a(this,"instance",void 0),this.instance=o,this.isDisabledTool(Gs.toolName)||this.registerTool(Gs.toolName,Gs),this.isDisabledTool(Us.toolName)||this.registerTool(Us.toolName,Us)}var e,n,r;return e=t,(n=[{key:"isDisabledTool",value:function(o){return this.instance.options.disabledTools.indexOf(o)!==-1}},{key:"registerTool",value:function(o,u){this.toolMap.set(o,u)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Ky(e.prototype,n),r&&Ky(e,r),t}(),m0=s(166),b0=s.n(m0);function $y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ys(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qy=function(){function t(o){(function(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),Ys(this,"mousetrap",void 0),Ys(this,"options",void 0),Ys(this,"target",void 0),o.keyboard||(o.keyboard={enabled:!1}),this.options=o;var u=o.lf;this.target=u.container,this.mousetrap=new b0.a(this.target),o.keyboard.enabled&&this.enable(!0)}var e,n,r;return e=t,(n=[{key:"initShortcuts",value:function(){var o=this,u=this.options.keyboard.shortcuts;if(u)if(ln(u))u.forEach(function(v){var O=v.keys,M=v.callback,k=v.action;return o.on(O,M,k)});else{var i=u.keys,a=u.callback,f=u.action;this.on(i,a,f)}}},{key:"on",value:function(o,u,i){this.mousetrap.bind(this.getKeys(o),u,i)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(o,u){this.mousetrap.unbind(this.getKeys(o),u)}},{key:"enable",value:function(o){(this.disabled||o)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(o){var u=this;return(Array.isArray(o)?o:[o]).map(function(i){return u.formatkey(i)})}},{key:"formatkey",value:function(o){return o.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&$y(e.prototype,n),r&&$y(e,r),t}(),_0=qy,jo=null;function Jy(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function Qy(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function ev(t){return(ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function tv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tv(Object(n),!0).forEach(function(r){sn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ws=function(){function t(o){var u,i,a=this;(function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),sn(this,"container",void 0),sn(this,"width",void 0),sn(this,"height",void 0),sn(this,"graphModel",void 0),sn(this,"history",void 0),sn(this,"viewMap",new Map),sn(this,"tool",void 0),sn(this,"keyboard",void 0),sn(this,"dnd",void 0),sn(this,"options",void 0),sn(this,"snaplineModel",void 0),sn(this,"components",[]),sn(this,"plugins",void 0),sn(this,"extension",{}),sn(this,"adapterIn",void 0),sn(this,"adapterOut",void 0),sn(this,"getView",function(f){return a.viewMap.get(f)}),o=np(o),this.options=o,this.container=o.container,this.plugins=o.plugins,this.graphModel=new yg(Vs({},o)),this.tool=new g0(this),this.history=new c0(this.graphModel.eventCenter),this.dnd=new nm({lf:this}),this.keyboard=new _0({lf:this,keyboard:o.keyboard}),o.isSilentMode||o.snapline===!1||(this.snaplineModel=new Ud(this.graphModel),u=this.graphModel.eventCenter,i=this.snaplineModel,u.on("node:mousemove",function(f){var v=f.data;i.setNodeSnapLine(v)}),u.on("node:mouseup",function(){i.clearSnapline()})),function(f,v){var O=f.keyboard,M=O.options.keyboard;O.on(["cmd + c","ctrl + c"],function(){if(M.enabled&&!v.textEditElement){var k=f.options.guards,I=v.getSelectElements(!1);return k&&k.beforeClone&&!k.beforeClone(I)?(jo=null,!1):((jo=I).nodes.forEach(function(q){return Jy(q,40)}),jo.edges.forEach(function(q){return Qy(q,40)}),!1)}}),O.on(["cmd + v","ctrl + v"],function(){if(M.enabled&&!v.textEditElement){if(jo&&(jo.nodes||jo.edges)){f.clearSelectElements();var k=f.addElements(jo);if(!k)return;k.nodes.forEach(function(I){return f.selectElementById(I.id,!0)}),k.edges.forEach(function(I){return f.selectElementById(I.id,!0)}),jo.nodes.forEach(function(I){return Jy(I,40)}),jo.edges.forEach(function(I){return Qy(I,40)})}return!1}}),O.on(["cmd + z","ctrl + z"],function(){if(M.enabled&&!v.textEditElement)return f.undo(),!1}),O.on(["cmd + y","ctrl + y"],function(){if(M.enabled&&!v.textEditElement)return f.redo(),!1}),O.on(["backspace"],function(){if(M.enabled&&!v.textEditElement){var k=v.getSelectElements(!0);return f.clearSelectElements(),k.edges.forEach(function(I){return f.deleteEdge(I.id)}),k.nodes.forEach(function(I){return f.deleteNode(I.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(o.disabledPlugins)}var e,n,r;return e=t,r=[{key:"use",value:function(o){var u=o.pluginName;u||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(o.name||o.constructor.name,"\u6307\u5B9ApluginName!")),u=o.name);var i=this.extensions.get(u);i&&i.destroy&&i.destroy(),this.extensions.set(u,o)}}],(n=[{key:"register",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof o=="string"){var a={BaseEdge:fa,BaseEdgeModel:xu,BaseNode:Eo,BaseNodeModel:wo,RectNode:ls,RectNodeModel:ts,CircleNode:ps,CircleNodeModel:Ku,PolygonNode:hs,PolygonNodeModel:es,TextNode:_s,TextNodeModel:ns,LineEdge:Ts,LineEdgeModel:Su,DiamondNode:vs,DiamondNodeModel:qu,PolylineEdge:Rs,PolylineEdgeModel:Pu,BezierEdge:zs,BezierEdgeModel:Wu,EllipseNode:ms,EllipseNodeModel:Ju,HtmlNode:ws,HtmlNodeModel:os,h:ie.g,type:o};this.viewMap.forEach(function(k){var I=k.extendKey;I&&(a[I]=k)}),this.graphModel.modelMap.forEach(function(k){var I=k.extendKey;I&&(a[I]=k)});var f=u(a),v=f.view,O=f.model,M=v;i&&!M.isObervered&&(M.isObervered=!0,M=Ae(M)),this.setView(o,M),this.graphModel.setModel(o,O)}else this.registerElement(o)}},{key:"registerElement",value:function(o){var u=o.view;o.isObserverView===!1||u.isObervered||(u.isObervered=!0,u=Ae(u)),this.setView(o.type,u),this.graphModel.setModel(o.type,o.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:ls,model:ts,type:"rect"}),this.registerElement({type:"circle",view:ps,model:Ku}),this.registerElement({type:"polygon",view:hs,model:es}),this.registerElement({type:"line",view:Ts,model:Su}),this.registerElement({type:"polyline",view:Rs,model:Pu}),this.registerElement({type:"bezier",view:zs,model:Wu}),this.registerElement({type:"text",view:_s,model:ns}),this.registerElement({type:"ellipse",view:ms,model:Ju}),this.registerElement({type:"diamond",view:vs,model:qu}),this.registerElement({type:"html",view:ws,model:os})}},{key:"selectElementById",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(o,u),u||this.graphModel.toFront(o)}},{key:"focusOn",value:function(o){var u=this.graphModel.transformModel,i=o.coordinate,a=o.id;if(!i){var f=this.getNodeModelById(a);f&&(i=f.getData());var v=this.getEdgeModelById(a);v&&(i=v.textPosition)}var O=i,M=O.x,k=O.y;u.focusOn(M,k,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(o){this.graphModel.setTheme(o)}},{key:"resize",value:function(o,u){this.options.width=o!=null?o:this.options.width,this.options.height=u!=null?u:this.options.height,this.graphModel.resize(o,u)}},{key:"setDefaultEdgeType",value:function(o){this.graphModel.setDefaultEdgeType(o)}},{key:"updateText",value:function(o,u){this.graphModel.updateText(o,u)}},{key:"deleteElement",value:function(o){var u,i,a,f=this.getModelById(o);return!!f&&(i=(a=(sn(u={},yn.NODE,this.deleteNode),sn(u,yn.EDGE,this.deleteEdge),u)[f.BaseType])===null||a===void 0?void 0:a.call(this,o))!==null&&i!==void 0&&i}},{key:"getModelById",value:function(o){return this.graphModel.getElement(o)}},{key:"getDataById",value:function(o){return this.graphModel.getElement(o).getData()}},{key:"changeNodeType",value:function(o,u){this.graphModel.changeNodeType(o,u)}},{key:"changeEdgeType",value:function(o,u){this.graphModel.changeEdgeType(o,u)}},{key:"getNodeEdges",value:function(o){return this.graphModel.getNodeEdges(o)}},{key:"addNode",value:function(o){return this.graphModel.addNode(o)}},{key:"deleteNode",value:function(o){var u=this.graphModel.getNodeModelById(o);if(!u)return!1;var i=u.getData(),a=this.options.guards,f=!a||!a.beforeDelete||a.beforeDelete(i);return f&&this.graphModel.deleteNode(o),f}},{key:"cloneNode",value:function(o){var u=this.graphModel.getNodeModelById(o).getData(),i=this.options.guards;if(!i||!i.beforeClone||i.beforeClone(u))return this.graphModel.cloneNode(o)}},{key:"changeNodeId",value:function(o,u){return this.graphModel.changeNodeId(o,u)}},{key:"getNodeModelById",value:function(o){return this.graphModel.getNodeModelById(o)}},{key:"getNodeDataById",value:function(o){return this.graphModel.getNodeModelById(o).getData()}},{key:"addEdge",value:function(o){return this.graphModel.addEdge(o)}},{key:"deleteEdge",value:function(o){var u=this.options.guards,i=this.graphModel.edgesMap[o];if(!i)return!1;var a=i.model.getData(),f=!u||!u.beforeDelete||u.beforeDelete(a);return f&&this.graphModel.deleteEdgeById(o),f}},{key:"deleteEdgeByNodeId",value:function(o){var u=o.sourceNodeId,i=o.targetNodeId;u&&i?this.graphModel.deleteEdgeBySourceAndTarget(u,i):u?this.graphModel.deleteEdgeBySource(u):i&&this.graphModel.deleteEdgeByTarget(i)}},{key:"changeEdgeId",value:function(o,u){return this.graphModel.changeEdgeId(o,u)}},{key:"getEdgeModelById",value:function(o){var u;return(u=this.graphModel.edgesMap[o])===null||u===void 0?void 0:u.model}},{key:"getEdgeModels",value:function(o){var u=this.graphModel.edges,i=o.sourceNodeId,a=o.targetNodeId;if(i&&a){var f=[];return u.forEach(function(M){M.sourceNodeId===i&&M.targetNodeId===a&&f.push(M)}),f}if(i){var v=[];return u.forEach(function(M){M.sourceNodeId===i&&v.push(M)}),v}if(a){var O=[];return u.forEach(function(M){M.targetNodeId===a&&O.push(M)}),O}return[]}},{key:"getEdgeDataById",value:function(o){var u;return(u=this.getEdgeModelById(o))===null||u===void 0?void 0:u.getData()}},{key:"getNodeIncomingEdge",value:function(o){return this.graphModel.getNodeIncomingEdge(o)}},{key:"getNodeOutgoingEdge",value:function(o){return this.graphModel.getNodeOutgoingEdge(o)}},{key:"getNodeIncomingNode",value:function(o){return this.graphModel.getNodeIncomingNode(o)}},{key:"getNodeOutgoingNode",value:function(o){return this.graphModel.getNodeOutgoingNode(o)}},{key:"editText",value:function(o){this.graphModel.editText(o)}},{key:"setProperties",value:function(o,u){var i;(i=this.graphModel.getElement(o))===null||i===void 0||i.setProperties(Wr(u))}},{key:"getProperties",value:function(o){var u;return(u=this.graphModel.getElement(o))===null||u===void 0?void 0:u.getProperties()}},{key:"toFront",value:function(o){this.graphModel.toFront(o)}},{key:"setElementZIndex",value:function(o,u){return this.graphModel.setElementZIndex(o,u)}},{key:"addElements",value:function(o){for(var u=this,i=o.nodes,a=o.edges,f={},v={nodes:[],edges:[]},O=0;O<i.length;O++){var M=i[O],k=M.id,I=this.addNode(M);if(!I)return;k&&(f[k]=I.id),v.nodes.push(I)}return a.forEach(function(q){var pe=q.sourceNodeId,ge=q.targetNodeId;f[pe]&&(q.sourceNodeId=f[pe]),f[ge]&&(q.targetNodeId=f[ge]);var je=u.graphModel.addEdge(q);v.edges.push(je)}),v}},{key:"getAreaElement",value:function(o,u){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(o,u,i,a).map(function(f){return f.getData()})}},{key:"getSelectElements",value:function(){var o=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(o)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var o=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(o):o}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(o){this.graphModel.editConfigModel.updateEditConfig(o)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(o,u){return this.graphModel.getPointByClient({x:o,y:u})}},{key:"undo",value:function(){if(this.history.undoAble()){var o=Wr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"redo",value:function(){if(this.history.redoAble()){var o=Wr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(o)}}},{key:"zoom",value:function(o,u){return this.graphModel.transformModel.zoom(o,u)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(o){this.graphModel.transformModel.setZoomMiniSize(o)}},{key:"setZoomMaxSize",value:function(o){this.graphModel.transformModel.setZoomMaxSize(o)}},{key:"getTransform",value:function(){var o=this.graphModel.transformModel;return{SCALE_X:o.SCALE_X,SCALE_Y:o.SCALE_Y,TRANSLATE_X:o.TRANSLATE_X,TRANSLATE_Y:o.TRANSLATE_Y}}},{key:"translate",value:function(o,u){this.graphModel.transformModel.translate(o,u)}},{key:"resetTranslate",value:function(){var o=this.graphModel.transformModel,u=o.TRANSLATE_X,i=o.TRANSLATE_Y;this.translate(-u,-i)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(o){this.graphModel.fitView(o)}},{key:"on",value:function(o,u){this.graphModel.eventCenter.on(o,u)}},{key:"off",value:function(o,u){this.graphModel.eventCenter.off(o,u)}},{key:"once",value:function(o,u){this.graphModel.eventCenter.once(o,u)}},{key:"emit",value:function(o,u){this.graphModel.eventCenter.emit(o,u)}},{key:"installPlugins",value:function(){var o,u=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(o=this.plugins)!==null&&o!==void 0?o:t.extensions;a.forEach(function(f){var v=f.pluginName||f.name;i.indexOf(v)===-1&&u.installPlugin(f)})}},{key:"installPlugin",value:function(o){if(ev(o)==="object"){var u=o.install,i=o.render;return u&&u.call(o,this,t),i&&this.components.push(i.bind(o)),void(this.extension[o.pluginName]=o)}var a=o,f=new a({lf:this,LogicFlow:t});f.render&&this.components.push(f.render.bind(f)),this.extension[a.pluginName]=f}},{key:"updateAttributes",value:function(o,u){this.graphModel.updateAttributes(o,u)}},{key:"createFakerNode",value:function(o){var u=this.graphModel.modelMap.get(o.type);if(u){var i=new u(Vs(Vs({},o),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(i),i}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(o.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(o){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(o)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(o,u){this.viewMap.set(o,u)}},{key:"renderRawData",value:function(o){this.graphModel.graphDataToModel(Wr(o)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(ie.j)(Object(ie.g)(tm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(xt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(o=this.adapterIn(o)),this.renderRawData(o)}}])&&nv(e.prototype,n),r&&nv(e,r),t}();function Pr(t){return Ae(t)}sn(Ws,"extensions",new Map),j.default=Ws}])})},86319:function(cn,St,E){"use strict";E.d(St,{jX:function(){return uu},xV:function(){return Yo},Ou:function(){return hi},Qs:function(){return au},v2:function(){return yr},a9:function(){return yi},Ju:function(){return Tr},aC:function(){return rt}});var j=E(59782);function s(p,l){return l={exports:{}},p(l,l.exports),l.exports}var _=s(function(p){var l=p.exports=function(c,h){if(h||(h=16),c===void 0&&(c=128),c<=0)return"0";for(var y=Math.log(Math.pow(2,c))/Math.log(h),b=2;y===Infinity;b*=2)y=Math.log(Math.pow(2,c/b))/Math.log(h)*b;for(var P=y-Math.floor(y),A="",b=0;b<Math.floor(y);b++){var F=Math.floor(Math.random()*h).toString(h);A=F+A}if(P){var J=Math.pow(h,P),F=Math.floor(Math.random()*J).toString(h);A=F+A}var Y=parseInt(A,h);return Y!==Infinity&&Y>=Math.pow(2,c)?l(c,h):A};l.rack=function(c,h,y){var b=function(A){var F=0;do{if(F++>10)if(y)c+=y;else throw new Error("too many ID collisions, use more bits");var J=l(c,h)}while(Object.hasOwnProperty.call(P,J));return P[J]=A,J},P=b.hats={};return b.get=function(A){return b.hats[A]},b.set=function(A,F){return b.hats[A]=F,b},b.bits=c||128,b.base=h||16,b}});function d(p){if(!(this instanceof d))return new d(p);p=p||[128,36,1],this._seed=p.length?_.rack(p[0],p[1],p[2]):p}d.prototype.next=function(p){return this._seed(p||!0)},d.prototype.nextPrefixed=function(p,l){var c;do c=p+this.next(!0);while(this.assigned(c));return this.claim(c,l),c},d.prototype.claim=function(p,l){this._seed.set(p,l||!0)},d.prototype.assigned=function(p){return this._seed.get(p)||!1},d.prototype.unclaim=function(p){delete this._seed.hats[p]},d.prototype.clear=function(){var p=this._seed.hats,l;for(l in p)this.unclaim(l)};var S=d,w=new S([32,32,1]);function N(){return w.next()}var D=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),C=function(p){D(l,p);function l(c,h){var y=this;return c.id||(c.id="Event_"+N()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),y=p.call(this,c,h)||this,y}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedTargetRules=function(){var c=p.prototype.getConnectedTargetRules.call(this),h={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(h),c},l.extendKey="StartEventModel",l}(j.CircleNodeModel),L=function(p){D(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.extendKey="StartEventNode",l}(j.CircleNode),B={type:"bpmn:startEvent",view:L,model:C},W=B,V=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),re=function(){return re=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},re.apply(this,arguments)},ae=function(p){V(l,p);function l(c,h){var y=this;return c.id||(c.id="Event_"+N()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),y=p.call(this,c,h)||this,y}return l.prototype.setAttributes=function(){this.r=18},l.prototype.getConnectedSourceRules=function(){var c=p.prototype.getConnectedSourceRules.call(this),h={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(h),c},l.extendKey="EndEventModel",l}(j.CircleNodeModel),ue=function(p){V(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},l.prototype.getShape=function(){var c=this.props.model,h=c.getNodeStyle(),y=c.x,b=c.y,P=c.r,A=p.prototype.getShape.call(this);return(0,j.h)("g",{},A,(0,j.h)("circle",re(re({},h),{cx:y,cy:b,r:P-5})))},l.extendKey="EndEventView",l}(j.CircleNode),ne={type:"bpmn:endEvent",view:ue,model:ae},fe=ne,$=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),ee=function(){return ee=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},ee.apply(this,arguments)},de=function(p){$(l,p);function l(c,h){var y=this;return c.id||(c.id="Gateway_"+N()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),y=p.call(this,c,h)||this,y.points=[[25,0],[50,25],[25,50],[0,25]],y}return l.extendKey="ExclusiveGatewayModel",l}(j.PolygonNodeModel),U=function(p){$(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getShape=function(){var c=this.props.model,h=c.x,y=c.y,b=c.width,P=c.height,A=c.points,F=c.getNodeStyle();return(0,j.h)("g",{transform:"matrix(1 0 0 1 "+(h-b/2)+" "+(y-P/2)+")"},(0,j.h)("polygon",ee(ee({},F),{x:h,y,points:A})),(0,j.h)("path",ee({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},F)))},l.extendKey="ExclusiveGatewayNode",l}(j.PolygonNode),he={type:"bpmn:exclusiveGateway",view:U,model:de},z=he,G=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),H=function(){return H=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},H.apply(this,arguments)},te=function(p){G(l,p);function l(c,h){var y=this;return c.id||(c.id="Activity_"+N()),y=p.call(this,c,h)||this,y}return l.extendKey="UserTaskModel",l}(j.RectNodeModel),me=function(p){G(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,h=c.x,y=c.y,b=c.width,P=c.height,A=c.getNodeStyle();return(0,j.h)("svg",{x:h-b/2+5,y:y-P/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},(0,j.h)("path",{fill:A.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},l.prototype.getShape=function(){var c=this.props.model,h=c.x,y=c.y,b=c.width,P=c.height,A=c.radius,F=c.getNodeStyle();return(0,j.h)("g",{},[(0,j.h)("rect",H(H({},F),{x:h-b/2,y:y-P/2,rx:A,ry:A,width:b,height:P})),this.getLabelShape()])},l.extendKey="UserTaskNode",l}(j.RectNode),Pe={type:"bpmn:userTask",view:me,model:te},X=Pe,oe=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Q=function(){return Q=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Q.apply(this,arguments)},ce=function(p){oe(l,p);function l(c,h){var y=this;return c.id||(c.id="Activity_"+N()),y=p.call(this,c,h)||this,y}return l.extendKey="ServiceTaskModel",l}(j.RectNodeModel),xe=function(p){oe(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getLabelShape=function(){var c=this.props.model,h=c.x,y=c.y,b=c.width,P=c.height,A=c.getNodeStyle();return(0,j.h)("svg",{x:h-b/2+5,y:y-P/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},(0,j.h)("path",{fill:A.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},l.prototype.getShape=function(){var c=this.props.model,h=c.x,y=c.y,b=c.width,P=c.height,A=c.radius,F=c.getNodeStyle();return(0,j.h)("g",{},[(0,j.h)("rect",Q({x:h-b/2,y:y-P/2,rx:A,ry:A,width:b,height:P},F)),this.getLabelShape()])},l.extendKey="ServiceTaskNode",l}(j.RectNode),Te={type:"bpmn:serviceTask",view:xe,model:ce},Be=Te,Ve=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),nt=function(p){Ve(l,p);function l(c,h){var y=this;return c.id||(c.id="Flow_"+N()),y=p.call(this,c,h)||this,y}return l.extendKey="SequenceFlowModel",l}(j.PolylineEdgeModel),Xe=function(p){Ve(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.extendKey="SequenceFlowEdge",l}(j.PolylineEdge),Qe={type:"bpmn:sequenceFlow",view:Xe,model:nt},gt=Qe,se={width:40,height:40},le={width:40,height:40},be={width:40,height:40},De={width:100,height:80},Ge={width:100,height:80},Ce={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},at=function(){function p(l){var c=l.lf;c.setTheme(Ce),c.register(W),c.register(fe),c.register(z),c.register(X),c.register(Be),c.options.customBpmnEdge||(c.register(gt),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return p.pluginName="bpmnElement",p}(),rt=function(){function p(l){var c=this,h=l.lf;this.lf=h,this.customCssRules="",this.useGlobalRules=!0,h.getSnapshot=function(y,b){c.getSnapshot(y,b)},h.getSnapshotBlob=function(y){return c.getSnapshotBlob(y)},h.getSnapshotBase64=function(y){return c.getSnapshotBase64(y)}}return p.prototype.getSvgRootElement=function(l){var c=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,l.graphModel.nodes.forEach(function(y){var b=y.x,P=y.width,A=y.y,F=y.height,J=b-P/2,Y=A-F/2;J<c.offsetX&&(c.offsetX=J-5),Y<c.offsetY&&(c.offsetY=Y-5)}),l.graphModel.edges.forEach(function(y){y.pointsList&&y.pointsList.forEach(function(b){var P=b.x,A=b.y;P<c.offsetX&&(c.offsetX=P-5),A<c.offsetY&&(c.offsetY=A-5)})});var h=l.container.querySelector(".lf-canvas-overlay");return h},p.prototype.triggerDownload=function(l){var c=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),h=document.createElement("a");h.setAttribute("download",this.fileName),h.setAttribute("href",l),h.setAttribute("target","_blank"),h.dispatchEvent(c)},p.prototype.removeAnchor=function(l){for(var c=l.childNodes,h=l.childNodes&&l.childNodes.length,y=0;y<h;y++){var b=c[y],P=b.classList&&Array.from(b.classList)||[];P.indexOf("lf-anchor")>-1&&(l.removeChild(l.childNodes[y]),h--,y--)}},p.prototype.getSnapshot=function(l,c){var h=this;this.fileName=l||"logic-flow."+Date.now()+".png";var y=this.getSvgRootElement(this.lf);this.getCanvasData(y,c).then(function(b){var P=b.toDataURL("image/png").replace("image/png","image/octet-stream");h.triggerDownload(P)})},p.prototype.getSnapshotBase64=function(l){var c=this,h=this.getSvgRootElement(this.lf);return new Promise(function(y){c.getCanvasData(h,l).then(function(b){var P=b.toDataURL("image/png");y({data:P,width:b.width,height:b.height})})})},p.prototype.getSnapshotBlob=function(l){var c=this,h=this.getSvgRootElement(this.lf);return new Promise(function(y){c.getCanvasData(h,l).then(function(b){b.toBlob(function(P){y({data:P,width:b.width,height:b.height})},"image/png")})})},p.prototype.getClassRules=function(){var l="";if(this.useGlobalRules)for(var c=document.styleSheets,h=0;h<c.length;h++)for(var y=c[h],b=0;b<y.cssRules.length;b++)l+=y.cssRules[b].cssText;return this.customCssRules&&(l+=this.customCssRules),l},p.prototype.getCanvasData=function(l,c){var h=this,y=l.cloneNode(!0),b=y.lastChild,P=b.childNodes&&b.childNodes.length;if(P)for(var A=0;A<P;A++){var F=b.childNodes[A],J=F.classList&&Array.from(F.classList);if(J&&J.indexOf("lf-base")<0)b.removeChild(b.childNodes[A]),P--,A--;else{var Y=b.childNodes[A];Y&&Y.childNodes.forEach(function(mn){var an=mn;h.removeAnchor(an.firstChild)})}}y.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var Ee=window.devicePixelRatio||1,Se=document.createElement("canvas"),Me=document.getElementsByClassName("lf-base")[0],Ie=Me.getBoundingClientRect(),ct=this.lf.graphModel,lt=ct.transformModel,dt=lt.SCALE_X,Ye=lt.SCALE_Y,Nt=Math.ceil(Ie.width/dt),Zt=Math.ceil(Ie.height/Ye);Se.style.width=Nt+"px",Se.style.height=Zt+"px",Se.width=Nt*Ee+80,Se.height=Zt*Ee+80;var en=Se.getContext("2d");en.clearRect(0,0,Se.width,Se.height),en.scale(Ee,Ee),c?(en.fillStyle=c,en.fillRect(0,0,Nt*Ee+80,Zt*Ee+80)):en.clearRect(0,0,Nt,Zt);var Tn=new Image,Dn=document.createElement("style");Dn.innerHTML=this.getClassRules();var gn=document.createElement("foreignObject");return gn.appendChild(Dn),y.appendChild(gn),new Promise(function(mn){Tn.onload=function(){en.drawImage(Tn,0,0),mn(Se)};var an="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(y),un=an.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Tn.src=un})},p.pluginName="snapshot",p}(),vt=null,it=new S([32,32,1]);function Ae(){return it.next()}function ie(p,l){for(var c=0;c<l;c++)p+="  ";return p}function Je(p,l,c,h){var y="";if(p instanceof Array)for(var b=0,P=p.length;b<P;b++)y+=ie(c,h)+Je(p[b],l,c,h+1);else if(typeof p=="object"){var A=!1;y+=ie(c,h)+"<"+l;for(var F in p)F.charAt(0)=="-"?y+=" "+F.substr(1)+'="'+p[F].toString()+'"':A=!0;if(y+=A?">":" />",A){for(var F in p)F=="#text"?y+=p[F]:F=="#cdata"?y+="<![CDATA["+p[F]+"]]>":F.charAt(0)!="-"&&(y+=Je(p[F],F,c,h+1));y+=ie(c,h)+"</"+l+">"}}else y+=ie(c,h)+"<"+l+">"+p.toString()+"</"+l+">";return y}function tt(p){var l="";for(var c in p)l+=Je(p[c],c,`	
`,0);return l}var $e=function(){};$e.ObjTree=function(){return this},$e.ObjTree.VERSION="0.23",$e.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`,$e.ObjTree.prototype.attr_prefix="-",$e.ObjTree.prototype.parseXML=function(p){var l;if(window.DOMParser){var c=new DOMParser,h=c.parseFromString(p,"application/xml");if(!h)return;l=h.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(p),l=c.documentElement);if(!!l)return this.parseDOM(l)},$e.ObjTree.prototype.parseHTTP=function(p,l,c){var h={};for(var y in l)h[y]=l[y];if(h.method||(typeof h.postBody=="undefined"&&typeof h.postbody=="undefined"&&typeof h.parameters=="undefined"?h.method="get":h.method="post"),c){h.asynchronous=!0;var b=this,P=c,A=h.onComplete;h.onComplete=function(Y){var Ee;Y&&Y.responseXML&&Y.responseXML.documentElement&&(Ee=b.parseDOM(Y.responseXML.documentElement)),P(Ee,Y),A&&A(Y)}}else h.asynchronous=!1;var F;if(typeof HTTP!="undefined"&&HTTP.Request){h.uri=p;var J=new HTTP.Request(h);J&&(F=J.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var J=new Ajax.Request(p,h);J&&(F=J.transport)}if(c)return F;if(F&&F.responseXML&&F.responseXML.documentElement)return this.parseDOM(F.responseXML.documentElement)},$e.ObjTree.prototype.parseDOM=function(p){if(!!p){if(this.__force_array={},this.force_array)for(var l=0;l<this.force_array.length;l++)this.__force_array[this.force_array[l]]=1;var c=this.parseElement(p);if(this.__force_array[p.nodeName]&&(c=[c]),p.nodeType!=11){var h={};h[p.nodeName]=c,c=h}return c}},$e.ObjTree.prototype.parseElement=function(p){if(p.nodeType!=7){if(p.nodeType==3||p.nodeType==4){var l=p.nodeValue.match(/[^\x00-\x20]/);return l==null?void 0:p.nodeValue}var c,h={};if(p.attributes&&p.attributes.length){c={};for(var y=0;y<p.attributes.length;y++){var b=p.attributes[y].nodeName;if(typeof b=="string"){var P=p.attributes[y].nodeValue;!P||(b=this.attr_prefix+b,typeof h[b]=="undefined"&&(h[b]=0),h[b]++,this.addNode(c,b,h[b],P))}}}if(p.childNodes&&p.childNodes.length){var A=!0;c&&(A=!1);for(var y=0;y<p.childNodes.length&&A;y++){var F=p.childNodes[y].nodeType;F==3||F==4||(A=!1)}if(A){c||(c="");for(var y=0;y<p.childNodes.length;y++)c+=p.childNodes[y].nodeValue}else{c||(c={});for(var y=0;y<p.childNodes.length;y++){var b=p.childNodes[y].nodeName;if(typeof b=="string"){var P=this.parseElement(p.childNodes[y]);!P||(typeof h[b]=="undefined"&&(h[b]=0),h[b]++,this.addNode(c,b,h[b],P))}}}}return c}},$e.ObjTree.prototype.addNode=function(p,l,c,h){this.__force_array[l]?(c==1&&(p[l]=[]),p[l][p[l].length]=h):c==1?p[l]=h:c==2?p[l]=[p[l],h]:p[l][p[l].length]=h},$e.ObjTree.prototype.writeXML=function(p){var l=this.hash_to_xml(null,p);return this.xmlDecl+l},$e.ObjTree.prototype.hash_to_xml=function(p,l){var c=[],h=[];for(var y in l)if(!!l.hasOwnProperty(y)){var b=l[y];y.charAt(0)!=this.attr_prefix?typeof b=="undefined"||b==null?c[c.length]="<"+y+" />":typeof b=="object"&&b.constructor==Array?c[c.length]=this.array_to_xml(y,b):typeof b=="object"?c[c.length]=this.hash_to_xml(y,b):c[c.length]=this.scalar_to_xml(y,b):h[h.length]=" "+y.substring(1)+'="'+this.xml_escape(b)+'"'}var P=h.join(""),A=c.join("");return typeof p=="undefined"||p==null||(c.length>0?A.match(/\n/)?A="<"+p+P+`>
`+A+"</"+p+`>
`:A="<"+p+P+">"+A+"</"+p+`>
`:A="<"+p+P+` />
`),A},$e.ObjTree.prototype.array_to_xml=function(p,l){for(var c=[],h=0;h<l.length;h++){var y=l[h];typeof y=="undefined"||y==null?c[c.length]="<"+p+" />":typeof y=="object"&&y.constructor==Array?c[c.length]=this.array_to_xml(p,y):typeof y=="object"?c[c.length]=this.hash_to_xml(p,y):c[c.length]=this.scalar_to_xml(p,y)}return c.join("")},$e.ObjTree.prototype.scalar_to_xml=function(p,l){return p=="#text"?this.xml_escape(l):"<"+p+">"+this.xml_escape(l)+"</"+p+`>
`},$e.ObjTree.prototype.xml_escape=function(p){return p.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Vt=function(p){return new $e.ObjTree().parseXML(p)},bt=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},mt;(function(p){p.START="bpmn:startEvent",p.END="bpmn:endEvent",p.GATEWAY="bpmn:exclusiveGateway",p.USER="bpmn:userTask",p.SYSTEM="bpmn:serviceTask",p.FLOW="bpmn:sequenceFlow"})(mt||(mt={}));var Dt=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Jt(p){var l={};return Object.entries(p).forEach(function(c){var h=bt(c,2),y=h[0],b=h[1];typeof b!="object"?y.indexOf("-")===0?l[y]=b:l["-"+y]=b:l[y]=Jt(b)}),l}function Z(p){var l={};return Object.entries(p).forEach(function(c){var h=bt(c,2),y=h[0],b=h[1];typeof b=="string"?y.indexOf("-")===0?l[y.substr(1)]=b:l[y]=b:typeof b=="object"?l[y]=Z(b):l[y]=b}),l}function ye(p,l){var c=new Map;l.nodes.forEach(function(y){var b,P={"-id":y.id};if(((b=y.text)===null||b===void 0?void 0:b.value)&&(P["-name"]=y.text.value),y.properties){var A=Jt(y.properties);Object.assign(P,A)}c.set(y.id,P),p[y.type]?Array.isArray(p[y.type])?p[y.type].push(P):p[y.type]=[p[y.type],P]:p[y.type]=P});var h=l.edges.map(function(y){var b,P,A=c.get(y.targetNodeId);A["bpmn:incoming"]?Array.isArray(A["bpmn:incoming"])?A["bpmn:incoming"].push(y.id):A["bpmn:incoming"]=[A["bpmn:incoming"],y.id]:A["bpmn:incoming"]=y.id;var F=c.get(y.sourceNodeId);F["bpmn:outgoing"]?Array.isArray(F["bpmn:outgoing"])?F["bpmn:outgoing"].push(y.id):F["bpmn:outgoing"]=[F["bpmn:outgoing"],y.id]:F["bpmn:outgoing"]=y.id;var J={"-id":y.id,"-sourceRef":y.sourceNodeId,"-targetRef":y.targetNodeId};if(((b=y.text)===null||b===void 0?void 0:b.value)&&(J["-name"]=(P=y.text)===null||P===void 0?void 0:P.value),y.properties){var Y=Jt(y.properties);Object.assign(J,Y)}return J});p[mt.FLOW]=h}function ke(p,l){p["bpmndi:BPMNEdge"]=l.edges.map(function(c){var h,y=c.id,b=c.pointsList.map(function(A){var F=A.x,J=A.y;return{"-x":F,"-y":J}}),P={"-id":y+"_di","-bpmnElement":y,"di:waypoint":b};return((h=c.text)===null||h===void 0?void 0:h.value)&&(P["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),P}),p["bpmndi:BPMNShape"]=l.nodes.map(function(c){var h,y=c.id,b=100,P=80,A=c.x,F=c.y,J=jt.shapeConfigMap.get(c.type);J&&(b=J.width,P=J.height),A-=b/2,F-=P/2;var Y={"-id":y+"_di","-bpmnElement":y,"dc:Bounds":{"-x":A,"-y":F,"-width":b,"-height":P}};return((h=c.text)===null||h===void 0?void 0:h.value)&&(Y["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),Y})}function ve(p){var l=[],c=[],h=p["bpmn:definitions"];if(h){var y=h["bpmn:process"];Object.keys(y).forEach(function(b){if(b.indexOf("bpmn:")===0){var P=y[b];if(b===mt.FLOW){var A=h["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=Ze(P,A)}else{var F=h["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];l=l.concat(ze(P,F,b))}}})}return{nodes:l,edges:c}}function ze(p,l,c){var h=[];if(Array.isArray(p))p.forEach(function(P){var A;Array.isArray(l)?A=l.find(function(J){return J["-bpmnElement"]===P["-id"]}):A=l;var F=He(A,c,P);h.push(F)});else{var y=void 0;Array.isArray(l)?y=l.find(function(P){return P["-bpmnElement"]===p["-id"]}):y=l;var b=He(y,c,p);h.push(b)}return h}function He(p,l,c){var h=Number(p["dc:Bounds"]["-x"]),y=Number(p["dc:Bounds"]["-y"]),b=c["-name"],P=jt.shapeConfigMap.get(l);P&&(h+=P.width/2,y+=P.height/2);var A;Object.entries(c).forEach(function(Ee){var Se=bt(Ee,2),Me=Se[0],Ie=Se[1];Dt.indexOf(Me)===-1&&(A||(A={}),A[Me]=Ie)}),A&&(A=Z(A));var F;if(b&&(F={x:h,y,value:b},p["bpmndi:BPMNLabel"]&&p["bpmndi:BPMNLabel"]["dc:Bounds"])){var J=p["bpmndi:BPMNLabel"]["dc:Bounds"];F.x=Number(J["-x"])+Number(J["-width"])/2,F.y=Number(J["-y"])+Number(J["-height"])/2}var Y={id:p["-bpmnElement"],type:l,x:h,y,properties:A};return F&&(Y.text=F),Y}function Ze(p,l){var c=[];if(Array.isArray(p))p.forEach(function(y){var b;Array.isArray(l)?b=l.find(function(P){return P["-bpmnElement"]===y["-id"]}):b=l,c.push(ut(b,y))});else{var h=void 0;Array.isArray(l)?h=l.find(function(y){return y["-bpmnElement"]===p["-id"]}):h=l,c.push(ut(h,p))}return c}function ut(p,l){var c,h=l["-name"];if(h){var y=p["bpmndi:BPMNLabel"]["dc:Bounds"],b=0;h.split(`
`).forEach(function(F){b<F.length&&(b=F.length)}),c={value:h,x:Number(y["-x"])+b*10/2,y:Number(y["-y"])+7}}var P;Object.entries(l).forEach(function(F){var J=bt(F,2),Y=J[0],Ee=J[1];Dt.indexOf(Y)===-1&&(P||(P={}),P[Y]=Ee)}),P&&(P=Z(P));var A={id:l["-id"],type:mt.FLOW,pointsList:p["di:waypoint"].map(function(F){return{x:Number(F["-x"]),y:Number(F["-y"])}}),sourceNodeId:l["-sourceRef"],targetNodeId:l["-targetRef"],properties:P};return c&&(A.text=c),A}var jt={pluginName:"bpmn-adapter",install:function(p){p.adapterIn=this.adapterIn,p.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(p,l){this.shapeConfigMap.set(p,l)},adapterOut:function(p){var l={"-id":"Process_"+Ae(),"-isExecutable":"false"};ye(l,p);var c={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};ke(c,p);var h={"bpmn:definitions":{"-id":"Definitions_"+Ae(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":l,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return h},adapterIn:function(p){if(p)return ve(p)}};jt.shapeConfigMap.set(mt.START,{width:se.width,height:se.height}),jt.shapeConfigMap.set(mt.END,{width:le.width,height:le.height}),jt.shapeConfigMap.set(mt.GATEWAY,{width:be.width,height:be.height}),jt.shapeConfigMap.set(mt.SYSTEM,{width:De.width,height:De.height}),jt.shapeConfigMap.set(mt.USER,{width:Ge.width,height:Ge.height});var Xt={pluginName:"bpmnXmlAdapter",install:function(p){p.adapterIn=this.adapterXmlIn,p.adapterOut=this.adapterXmlOut},adapterXmlIn:function(p){var l=Vt(p);return jt.adapterIn(l)},adapterXmlOut:function(p){var l=jt.adapterOut(p);return tt(l)}},_n=null,nn=function(){return nn=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},nn.apply(this,arguments)},Mt=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},We={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,EXCLUSIVE_GATEWAY:6},st={1:"bpmn:sequenceFlow",2:"bpmn:startEvent",3:"bpmn:endEvent",4:"bpmn:userTask",6:"bpmn:exclusiveGateway"};function pt(p){switch(p){case"bpmn:sequenceFlow":return We.SEQUENCE_FLOW;case"bpmn:startEvent":return We.START_EVENT;case"bpmn:endEvent":return We.END_EVENT;case"bpmn:userTask":return We.USER_TASK;case"bpmn:exclusiveGateway":return We.EXCLUSIVE_GATEWAY;default:return p}}function _t(p){var l=p.id,c=p.type,h=p.x,y=p.y,b=p.text,P=b===void 0?"":b,A=p.properties;return{incoming:[],outgoing:[],dockers:[],type:pt(p.type),properties:nn(nn({},A),{name:P&&P.value||"",x:h,y,text:P}),key:l}}function Bt(p){var l=p.id,c=p.type,h=p.sourceNodeId,y=p.targetNodeId,b=p.startPoint,P=p.endPoint,A=p.pointsList,F=p.text,J=F===void 0?"":F,Y=p.properties;return{incoming:[h],outgoing:[y],type:pt(c),dockers:[],properties:nn(nn({},Y),{name:J&&J.value||"",text:J,startPoint:JSON.stringify(b),endPoint:JSON.stringify(P),pointsList:JSON.stringify(J)}),key:l}}function Qt(p){var l=new Map,c={flowElementList:[]};return p.nodes.forEach(function(h){var y=_t(h);c.flowElementList.push(y),l.set(h.id,y)}),p.edges.forEach(function(h){var y=Bt(h),b=l.get(h.sourceNodeId);b.outgoing.push(y.key);var P=l.get(h.targetNodeId);P.incoming.push(y.key),c.flowElementList.push(y)}),c}function On(p){var l=p.incoming,c=p.outgoing,h=p.properties,y=p.key,b=p.type,P=h.text,A=h.name,F=h.startPoint,J=h.endPoint,Y=h.pointsList,Ee={id:y,type:st[b],sourceNodeId:l[0],targetNodeId:c[0],text:P||A,properties:{}};F&&(Ee.startPoint=JSON.parse(F)),J&&(Ee.endPoint=JSON.parse(J)),Y&&(Ee.endPoint=JSON.parse(Y));var Se=["startPoint","endPoint","pointsList","text"];return Object.keys(p.properties).forEach(function(Me){Se.indexOf(Me)===-1&&(Ee.properties[Me]=p.properties[Me])}),Ee}function Ho(p){var l=p.properties,c=p.key,h=p.type,y=p.bounds,b=l.x,P=l.y;if(b===void 0){var A=Mt(y,2),F=A[0],J=F.x,Y=F.y,Ee=A[1],Se=Ee.x,Me=Ee.y;b=(J+Se)/2,P=(Y+Me)/2}var Ie={id:c,type:st[h],x:b,y:P,text:l.text,properties:{}},ct=["x","y","text"];return Object.keys(p.properties).forEach(function(lt){ct.indexOf(lt)===-1&&(Ie.properties[lt]=p.properties[lt])}),Ie}function ir(p){var l={nodes:[],edges:[]},c=p.flowElementList;return c&&c.length>0&&c.forEach(function(h){if(h.type===We.SEQUENCE_FLOW){var y=On(h);l.edges.push(y)}else{var b=Ho(h);l.nodes.push(b)}}),l}var Mr=function(){function p(l){var c=l.lf;c.adapterIn=this.adapterIn,c.adapterOut=this.adapterOut}return p.prototype.adapterOut=function(l){if(l)return Qt(l)},p.prototype.adapterIn=function(l){if(l)return ir(l)},p.pluginName="turboAdapter",p}(),Go=null,Nr;(function(p){p.HORIZONTAL="horizontal",p.VERTICAL="vertical"})(Nr||(Nr={}));var qn=function(p,l,c){var h=p.x,y=p.y;return(h-l.x)*(h-c.x)<=0&&(y-l.y)*(y-c.y)<=0},No=function(p){var l=p.x,c=p.y,h=p.width,y=p.height,b={minX:l-h/2,minY:c-y/2,maxX:l+h/2,maxY:c+y/2,x:l,y:c,width:h,height:y,centerX:l,centerY:c};return b},ci=function(p,l){var c;return p.x===l.x?c=Nr.VERTICAL:p.y===l.y&&(c=Nr.HORIZONTAL),c},ot=function(p,l,c){var h=No(p),y=ci(l,c),b=Math.max(l.x,c.x),P=Math.min(l.x,c.x),A=Math.max(l.y,c.y),F=Math.min(l.y,c.y),J=p.x,Y=p.y,Ee=p.width,Se=p.height;if(y===Nr.HORIZONTAL){if(l.y===Y&&b>=h.maxX&&P<=h.minX)return{startCrossPoint:{x:l.x>c.x?J+Ee/2:J-Ee/2,y:Y},endCrossPoint:{x:l.x>c.x?J-Ee/2:J+Ee/2,y:Y}}}else if(y===Nr.VERTICAL&&l.x===p.x&&A>=h.maxY&&F<=h.minY)return{startCrossPoint:{x:J,y:l.y>c.y?Y+Se/2:Y-Se/2},endCrossPoint:{x:J,y:l.y>c.y?Y-Se/2:Y+Se/2}}},Hi=function(p,l){for(var c=p.x,h=p.y,y=l.pointsList,b=0;b<y.length-1;b++)if(qn({x:c,y:h},y[b],y[b+1])){var P=ot(p,y[b],y[b+1]);if(P)return{crossIndex:b+1,crossPoints:P}}return{crossIndex:-1,crossPoints:{startCrossPoint:{x:0,y:0},endCrossPoint:{x:0,y:0}}}},li=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},Fo=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(li(arguments[l]));return p},Vn=function(){function p(l){var c=l.lf;this._lf=c,this.dndAdd=!0,this.dropAdd=!0,this.eventHandler()}return p.prototype.eventHandler=function(){var l=this;this.dndAdd&&this._lf.on("node:dnd-add",function(c){var h=c.data;l.insetNode(h)}),this.dropAdd&&this._lf.on("node:drop",function(c){for(var h=c.data,y=l._lf.graphModel.edges,b=h.id,P=!0,A=0;A<y.length;A++)if(y[A].sourceNodeId===b||y[A].targetNodeId===b){P=!1;break}P&&l.insetNode(h)})},p.prototype.insetNode=function(l){for(var c=this._lf.graphModel.edges,h=this._lf.getNodeModelById(l.id),y=0;y<c.length;y++){var b=Hi(h,c[y]),P=b.crossIndex,A=b.crossPoints;if(P>=0){var F=c[y],J=F.sourceNodeId,Y=F.targetNodeId,Ee=F.id,Se=F.type,Me=F.pointsList;this._lf.addEdge({type:Se,sourceNodeId:J,targetNodeId:l.id,pointsList:Fo(Me.slice(0,P),[A.startCrossPoint])}),this._lf.addEdge({type:Se,sourceNodeId:l.id,targetNodeId:Y,pointsList:Fo([A.endCrossPoint],Me.slice(P))}),this._lf.deleteEdge(Ee);break}}},p.pluginName="insertNodeInPolyline",p}(),Wn=null,ar=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},kr=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(ar(arguments[l]));return p},ur=function(){function p(l){var c=this,h=l.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7F29\u5C0F\u6D41\u7A0B\u56FE",text:"\u7F29\u5C0F",onClick:function(){c.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653E\u5927\u6D41\u7A0B\u56FE",text:"\u653E\u5927",onClick:function(){c.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8",text:"\u9002\u5E94",onClick:function(){c.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56DE\u5230\u4E0A\u4E00\u6B65",text:"\u4E0A\u4E00\u6B65",onClick:function(){c.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79FB\u5230\u4E0B\u4E00\u6B65",text:"\u4E0B\u4E00\u6B65",onClick:function(){c.lf.redo()}}],this.lf=h}return p.prototype.render=function(l,c){this.destroy();var h=this.getControlTool();this.toolEl=h,c.appendChild(h),this.domContainer=c},p.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},p.prototype.addItem=function(l){this.controlItems.push(l)},p.prototype.removeItem=function(l){var c=this.controlItems.findIndex(function(h){return h.key===l});return this.controlItems.splice(c,1)[0]},p.prototype.getControlTool=function(){var l=this,c="lf-control-item",h="lf-control-item disabled",y=document.createElement("div"),b=[];return y.className="lf-control",this.controlItems.forEach(function(P){var A=document.createElement("div"),F=document.createElement("i"),J=document.createElement("span");switch(A.className=h,P.onClick&&(A.onclick=P.onClick.bind(null,l.lf)),P.onMouseEnter&&(A.onmouseenter=P.onMouseEnter.bind(null,l.lf)),P.onMouseLeave&&(A.onmouseleave=P.onMouseLeave.bind(null,l.lf)),F.className=P.iconClass,J.className="lf-control-text",J.title=P.title,J.innerText=P.text,A.append(F,J),P.text){case"\u4E0A\u4E00\u6B65":l.lf.on("history:change",function(Y){var Ee=Y.data.undoAble;A.className=Ee?c:h});break;case"\u4E0B\u4E00\u6B65":l.lf.on("history:change",function(Y){var Ee=Y.data.redoAble;A.className=Ee?c:h});break;default:A.className=c;break}b.push(A)}),y.append.apply(y,kr(b)),y},p.pluginName="control",p}(),fi=null,pi=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},Gi=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(pi(arguments[l]));return p},sr="lf:defaultNodeMenu",ro="lf:defaultEdgeMenu",Ar="lf:defaultGraphMenu",di="lf:defaultSelectionMenu",yr=function(){function p(l){var c=this,h=l.lf;this.__menuDOM=document.createElement("ul"),this.lf=h,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(y){c.setMenuConfig(y)},this.lf.addMenuConfig=function(y){c.addMenuConfig(y)},this.lf.setMenuByType=function(y){c.setMenuByType(y)}}return p.prototype.init=function(){var l=this,c=[{text:"\u5220\u9664",callback:function(b){l.lf.deleteNode(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){l.lf.graphModel.editText(b.id)}},{text:"\u590D\u5236",callback:function(b){l.lf.cloneNode(b.id)}}];this.menuTypeMap.set(sr,c);var h=[{text:"\u5220\u9664",callback:function(b){l.lf.deleteEdge(b.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(b){l.lf.graphModel.editText(b.id)}}];this.menuTypeMap.set(ro,h),this.menuTypeMap.set(Ar,[]);var y=[{text:"\u5220\u9664",callback:function(b){l.lf.clearSelectElements(),b.edges.forEach(function(P){return l.lf.deleteEdge(P.id)}),b.nodes.forEach(function(P){return l.lf.deleteNode(P.id)})}}];this.menuTypeMap.set(di,y)},p.prototype.render=function(l,c){var h=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(y){y.stopPropagation();for(var b=y.target;Array.from(b.classList).indexOf("lf-menu-item")===-1&&Array.from(b.classList).indexOf("lf-menu")===-1;)b=b.parentElement;Array.from(b.classList).indexOf("lf-menu-item")>-1?(b.onclickCallback(h.__currentData),h.__menuDOM.style.display="none",h.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(y){var b=y.data,P=y.position,A=P.domOverlayPosition,F=A.x,J=A.y,Y=b.id,Ee=h.lf.graphModel.getNodeModelById(Y),Se=[],Me=h.menuTypeMap.get(Ee.type);Ee&&Ee.menu&&Array.isArray(Ee.menu)?Se=Ee.menu:Me?Se=Me:Se=h.menuTypeMap.get(sr),h.__currentData=b,h.showMenu(F,J,Se)}),this.lf.on("edge:contextmenu",function(y){var b=y.data,P=y.position,A=P.domOverlayPosition,F=A.x,J=A.y,Y=b.id,Ee=h.lf.graphModel.getEdgeModelById(Y),Se=[],Me=h.menuTypeMap.get(Ee.type);Ee&&Ee.menu&&Array.isArray(Ee.menu)?Se=Ee.menu:Me?Se=Me:Se=h.menuTypeMap.get(ro),h.__currentData=b,h.showMenu(F,J,Se)}),this.lf.on("blank:contextmenu",function(y){var b=y.position,P=h.menuTypeMap.get(Ar),A=b.domOverlayPosition,F=A.x,J=A.y;h.showMenu(F,J,P)}),this.lf.on("selection:contextmenu",function(y){var b=y.data,P=y.position,A=h.menuTypeMap.get(di),F=P.domOverlayPosition,J=F.x,Y=F.y;h.__currentData=b,h.showMenu(J,Y,A)}),this.lf.on("node:mousedown",function(){h.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){h.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){h.__menuDOM.style.display="none"})},p.prototype.destroy=function(){var l;(l=this===null||this===void 0?void 0:this.__container)===null||l===void 0||l.removeChild(this.__menuDOM),this.__menuDOM=null},p.prototype.showMenu=function(l,c,h){if(!(!h||!h.length)){var y=this.__menuDOM;y.innerHTML="",y.append.apply(y,Gi(this.__getMenuDom(h))),!!y.children.length&&(y.style.display="block",y.style.top=c+"px",y.style.left=l+"px")}},p.prototype.setMenuByType=function(l){!l.type||!l.menu||this.menuTypeMap.set(l.type,l.menu)},p.prototype.__getMenuDom=function(l){var c=[];return l&&l.length>0&&l.forEach(function(h){var y=document.createElement("li");if(h.className?y.className="lf-menu-item "+h.className:y.className="lf-menu-item",h.icon===!0){var b=document.createElement("span");b.className="lf-menu-item-icon",y.appendChild(b)}var P=document.createElement("span");P.className="lf-menu-item-text",h.text&&(P.innerText=h.text),y.appendChild(P),y.onclickCallback=h.callback,c.push(y)}),c},p.prototype.setMenuConfig=function(l){!l||(l.nodeMenu!==void 0&&this.menuTypeMap.set(sr,l.nodeMenu?l.nodeMenu:[]),l.edgeMenu!==void 0&&this.menuTypeMap.set(ro,l.edgeMenu?l.edgeMenu:[]),l.graphMenu!==void 0&&this.menuTypeMap.set(Ar,l.graphMenu?l.graphMenu:[]))},p.prototype.addMenuConfig=function(l){if(!!l){if(Array.isArray(l.nodeMenu)){var c=this.menuTypeMap.get(sr);this.menuTypeMap.set(sr,c.concat(l.nodeMenu))}if(Array.isArray(l.edgeMenu)){var c=this.menuTypeMap.get(ro);this.menuTypeMap.set(ro,c.concat(l.edgeMenu))}if(Array.isArray(l.graphMenu)){var c=this.menuTypeMap.get(Ar);this.menuTypeMap.set(Ar,c.concat(l.graphMenu))}}},p.prototype.changeMenuItem=function(l,c){if(l==="add")this.addMenuConfig(c);else if(l==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},p.pluginName="menu",p}(),Fi=null,cr=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},Xo="menu-common",oo=200,Uo=100,Yo=function(){function p(l){var c=this,h=l.lf;this.menuTypeMap=new Map,this.listenDelete=function(){c.hideContextMenu()},this.lf=h,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.menuTypeMap.set(Xo,[]),this.lf.setContextMenuByType=function(y,b){c.setContextMenuByType(y,b)},this.lf.setContextMenuItems=function(y){c.setContextMenuItems(y)},this.lf.showContextMenu=function(y){c.showContextMenu(y)},this.lf.hideContextMenu=function(){c.hideContextMenu()}}return p.prototype.render=function(l,c){var h=this;this.container=c,l.on("node:click",function(y){var b=y.data;h._activeData=b,h.createContextMenu()}),l.on("edge:click",function(y){var b=y.data;h._activeData=b,h.createContextMenu()}),l.on("blank:click",function(){h.hideContextMenu()})},p.prototype.setContextMenuByType=function(l,c){this.menuTypeMap.set(l,c)},p.prototype.hideContextMenu=function(){this.__menuDOM.innerHTML="",this.__menuDOM.style.display="none",this.isShow&&this.container.removeChild(this.__menuDOM),this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1},p.prototype.showContextMenu=function(l){if(!l||!l.id){console.warn("\u8BF7\u68C0\u67E5\u4F20\u5165\u7684\u53C2\u6570");return}this._activeData=l,this.createContextMenu()},p.prototype.setContextMenuItems=function(l){this.menuTypeMap.set(Xo,l)},p.prototype.getContextMenuPosition=function(){var l=this._activeData,c=this.lf.graphModel.getElement(l.id);if(!c){console.warn("\u627E\u4E0D\u5230\u5143\u7D20"+l.id);return}var h,y;if(c.BaseType==="edge"){h=Number.MIN_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER;var b=c.getData();h=Math.max(b.startPoint.x,h),y=Math.min(b.startPoint.y,y),h=Math.max(b.endPoint.x,h),y=Math.min(b.endPoint.y,y),b.pointsList&&b.pointsList.forEach(function(P){h=Math.max(P.x,h),y=Math.min(P.y,y)})}return c.BaseType==="node"&&(h=l.x+c.width/2,y=l.y-c.height/2),this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([h,y])},p.prototype.createContextMenu=function(){var l=this,c=this.lf.options.isSilentMode;if(!c){var h=this.menuTypeMap.get(this._activeData.type)||[];h=h.concat(this.menuTypeMap.get(Xo));var y=document.createDocumentFragment();h.forEach(function(b){var P=document.createElement("div");P.className="lf-context-item";var A=document.createElement("img");A.src=b.icon,A.className="lf-context-img",b.className&&(P.className=P.className+" "+b.className),A.addEventListener("click",function(){l.hideContextMenu(),b.callback?b.callback(l._activeData):l.addNode({sourceId:l._activeData.id,x:l._activeData.x,y:l._activeData.y,properties:b.properties,type:b.type})}),P.appendChild(A),y.appendChild(P)}),this.__menuDOM.innerHTML="",this.__menuDOM.appendChild(y),this.showMenu()}},p.prototype.addNode=function(l,c){var h=c!==void 0;c===void 0&&(c=l.y);var y=this.lf.getNodeModelById(l.sourceId),b=l.x-y.width+oo,P=c-l.y/2-20,A=l.x+y.width+oo,F=c+l.y/2+20,J=this.lf.getAreaElement([b,P],[A,F]);if(J.length){c=c+Uo,this.addNode(l,c);return}var Y=this.lf.addNode({type:l.type,x:l.x+200,y:c,properties:l.properties}),Ee,Se;h&&(Ee={x:l.x,y:l.y+y.height/2},Se={x:Y.x-Y.width/2,y:Y.y}),this.lf.addEdge({sourceNodeId:l.sourceId,targetNodeId:Y.id,startPoint:Ee,endPoint:Se})},p.prototype.showMenu=function(){var l=cr(this.getContextMenuPosition(),2),c=l[0],h=l[1];this.__menuDOM.style.display="flex",this.__menuDOM.style.top=h+"px",this.__menuDOM.style.left=c+10+"px",this.container.appendChild(this.__menuDOM),!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0},p.pluginName="contextMenu",p}(),ya=null,hi=function(){function p(l){var c=this,h=l.lf;this.lf=h,this.lf.setPatternItems=function(y){c.setPatternItems(y)}}return p.prototype.render=function(l,c){var h=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(y){h.panelEl.appendChild(h.createDndItem(y))}),c.appendChild(this.panelEl),this.domContainer=c},p.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},p.prototype.setPatternItems=function(l){this.shapeList=l,this.domContainer&&this.render(this.lf,this.domContainer)},p.prototype.createDndItem=function(l){var c=this,h=document.createElement("div");h.className=l.className?"lf-dnd-item "+l.className:"lf-dnd-item";var y=document.createElement("div");if(y.className="lf-dnd-shape",l.icon&&(y.style.backgroundImage="url("+l.icon+")"),h.appendChild(y),l.label){var b=document.createElement("div");b.innerText=l.label,b.className="lf-dnd-text",h.appendChild(b)}return h.onmousedown=function(){l.type&&c.lf.dnd.startDrag({type:l.type,properties:l.properties,text:l.text}),l.callback&&l.callback(c.lf,c.domContainer)},h},p.pluginName="dndPanel",p}(),Tr=function(){function p(l){var c=this,h=l.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(b){var P=c.lf.getPointByClient(b.clientX,b.clientY).domOverlayPosition,A=P.x,F=P.y;c.endPoint={x:A,y:F};var J=c.startPoint,Y=J.x,Ee=J.y,Se=c.wrapper.style,Me=Y,Ie=Ee,ct=A-Y,lt=F-Ee;A<Y&&(Me=A,ct=Y-A),F<Ee&&(Ie=F,lt=Ee-F),Se.left=Me+"px",Se.top=Ie+"px",Se.width=ct+"px",Se.height=lt+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var b=c.startPoint,P=b.x,A=b.y,F=c.endPoint,J=F.x,Y=F.y;if(!(Math.abs(J-P)<10&&Math.abs(Y-A)<10)){var Ee=[Math.min(P,J),Math.min(A,Y)],Se=[Math.max(P,J),Math.max(A,Y)],Me=c.lf.getAreaElement(Ee,Se,c.isWholeEdge,c.isWholeNode);Me.forEach(function(Ie){c.lf.selectElementById(Ie.id,!0)}),c.lf.emit("selection:selected",Me)}},this.lf=h;var y=h.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=y,h.openSelectionSelect=function(){c.openSelectionSelect()},h.closeSelectionSelect=function(){c.closeSelectionSelect()}}return p.prototype.render=function(l,c){var h=this;this.__domContainer=c,l.on("blank:mousedown",function(y){var b=y.e,P=l.getEditConfig();if(!(!P.stopMoveGraph||h.__disabled)){var A=l.getPointByClient(b.clientX,b.clientY).domOverlayPosition,F=A.x,J=A.y;h.startPoint={x:F,y:J},h.endPoint={x:F,y:J};var Y=document.createElement("div");Y.className="lf-selection-select",Y.style.top=h.startPoint.y+"px",Y.style.left=h.startPoint.x+"px",c.appendChild(Y),h.wrapper=Y,document.addEventListener("mousemove",h.__draw),document.addEventListener("mouseup",h.__drawOff)}})},p.prototype.setSelectionSense=function(l,c){l===void 0&&(l=!0),c===void 0&&(c=!0),this.isWholeEdge=l,this.isWholeNode=c},p.prototype.openSelectionSelect=function(){var l=this.lf.getEditConfig().stopMoveGraph;l||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},p.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},p.prototype.open=function(){this.__disabled=!1},p.prototype.close=function(){this.__disabled=!0},p.pluginName="selectionSelect",p}(),Dr=function(p){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&p[l],h=0;if(c)return c.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&h>=p.length&&(p=void 0),{value:p&&p[h++],done:!p}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},yi=function(){function p(l){var c=this,h=l.lf,y=l.LogicFlow;this.__lf=null,this.__container=null,this.__miniMapWrap=null,this.__miniMapContainer=null,this.__lfMap=null,this.__viewport=null,this.__width=150,this.__height=220,this.__miniMapWidth=450,this.__miniMapHeight=660,this.__viewPortTop=0,this.__viewPortLeft=0,this.__startPosition=null,this.__viewPortScale=1,this.__viewPortWidth=150,this.__viewPortHeight=75,this.__resetDataX=0,this.__resetDataY=0,this.__LogicFlow=null,this.__isShow=!1,this.__disabledPlugins=["miniMap","control","selectionSelect"],this.show=function(b,P){c.__setView(),c.__isShow||c.__createMiniMap(b,P),c.__isShow=!0},this.hide=function(){c.__isShow&&c.__removeMiniMap(),c.__isShow=!1},this.__startDrag=function(b){document.addEventListener("mousemove",c.__drag),document.addEventListener("mouseup",c.__drop),c.__startPosition={x:b.x,y:b.y}},this.__drag=function(b){var P=c.__viewport.style;c.__viewPortTop+=b.y-c.__startPosition.y,c.__viewPortLeft+=b.x-c.__startPosition.x,P.top=c.__viewPortTop+"px",P.left=c.__viewPortLeft+"px",c.__startPosition={x:b.x,y:b.y};var A=(c.__viewPortLeft+c.__viewPortWidth/2)/c.__viewPortScale,F=(c.__viewPortTop+c.__viewPortHeight/2)/c.__viewPortScale;c.__lf.focusOn({coordinate:{x:A+c.__resetDataX,y:F+c.__resetDataY}})},this.__drop=function(){document.removeEventListener("mousemove",c.__drag),document.removeEventListener("mouseup",c.__drop)},this.__lf=h,this.__miniMapWidth=h.graphModel.width,this.__miniMapHeight=h.graphModel.width*220/150,this.__LogicFlow=y,this.__init()}return p.prototype.render=function(l,c){var h=this;this.__container=c,this.__lf.on("history:change",function(){h.__isShow&&h.__setView()})},p.prototype.init=function(l){this.__disabledPlugins=this.__disabledPlugins.concat(l.disabledPlugins||[])},p.prototype.__init=function(){var l=document.createElement("div");l.className="lf-mini-map-graph",l.style.width=this.__width+"px",l.style.height=this.__height+"px",this.__lfMap=new this.__LogicFlow({width:this.__lf.graphModel.width,height:this.__lf.graphModel.width*220/150,container:l,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:this.__disabledPlugins}),this.__lfMap.adapterIn=function(c){return c},this.__lfMap.adapterOut=function(c){return c},this.__miniMapWrap=l,this.__createViewPort()},p.prototype.__createMiniMap=function(l,c){var h=document.createElement("div"),y=this.__miniMapWrap;h.appendChild(y),typeof l!="undefined"&&typeof c!="undefined"&&(h.style.left=l+"px",h.style.top=c+"px"),h.style.position="absolute",h.className="lf-mini-map",this.__container.appendChild(h),this.__miniMapWrap.appendChild(this.__viewport);var b=document.createElement("div");b.className="lf-mini-map-header",b.innerText="\u5BFC\u822A",h.appendChild(b);var P=document.createElement("span");P.className="lf-mini-map-close",P.addEventListener("click",this.hide),h.appendChild(P),this.__miniMapContainer=h},p.prototype.__removeMiniMap=function(){this.__container.removeChild(this.__miniMapContainer)},p.prototype.__getBounds=function(l){var c=0,h=this.__miniMapWidth,y=0,b=this.__miniMapHeight,P=l.nodes;return P&&P.length>0&&P.forEach(function(A){var F=A.x,J=A.y,Y=A.width,Ee=Y===void 0?200:Y,Se=A.height,Me=Se===void 0?200:Se,Ie=F-Ee/2,ct=F+Ee/2,lt=J-Me/2,dt=J+Me/2;c=Ie<c?Ie:c,h=ct>h?ct:h,y=lt<y?lt:y,b=dt>b?dt:b}),{left:c,top:y,bottom:b,right:h}},p.prototype.__resetData=function(l){var c=l.nodes,h=l.edges,y=0,b=0;return c&&c.length>0&&(c.forEach(function(P){var A=P.x,F=P.y,J=P.width,Y=J===void 0?200:J,Ee=P.height,Se=Ee===void 0?200:Ee,Me=A-Y/2,Ie=F-Se/2;y=Me<y?Me:y,b=Ie<b?Ie:b}),(y<0||b<0)&&(this.__resetDataX=y,this.__resetDataY=b,c.forEach(function(P){P.x=P.x-y,P.y=P.y-b,P.text&&(P.text.x=P.text.x-y,P.text.y=P.text.y-b)}),h.forEach(function(P){P.startPoint&&(P.startPoint.x=P.startPoint.x-y,P.startPoint.y=P.startPoint.y-b),P.endPoint&&(P.endPoint.x=P.endPoint.x-y,P.endPoint.y=P.endPoint.y-b),P.text&&(P.text.x=P.text.x-y,P.text.y=P.text.y-b),P.pointsList&&P.pointsList.forEach(function(A){A.x=A.x-y,A.y=A.y-b})}))),l},p.prototype.__setView=function(){var l,c,h=this.__resetData(this.__lf.getGraphRawData()),y=this.__lf.viewMap,b=this.__lf.graphModel.modelMap,P=this.__lfMap.viewMap;try{for(var A=Dr(y.keys()),F=A.next();!F.done;F=A.next()){var J=F.value;P.has(J)||(this.__lfMap.setView(J,y.get(J)),this.__lfMap.graphModel.modelMap.set(J,b.get(J)))}}catch(Nt){l={error:Nt}}finally{try{F&&!F.done&&(c=A.return)&&c.call(A)}finally{if(l)throw l.error}}this.__lfMap.render(h);var Y=this.__getBounds(h),Ee=Y.left,Se=Y.top,Me=Y.right,Ie=Y.bottom,ct=this.__width/(Me-Ee),lt=this.__height/(Ie-Se),dt=this.__miniMapWrap.firstChild.style,Ye=Math.min(ct,lt);dt.transform="matrix("+Ye+", 0, 0, "+Ye+", 0, 0)",dt.transformOrigin="left top",dt.height=Ie-Math.min(Se,0)+"px",dt.width=Me-Math.min(Ee,0)+"px",this.__viewPortScale=Ye,this.__setViewPort(Ye,{left:Ee,top:Se,right:Me,bottom:Ie})},p.prototype.__setViewPort=function(l,c){var h=c.left,y=c.right,b=c.top,P=c.bottom,A=this.__viewport.style;A.width=this.__width-4+"px",A.height=(this.__width-4)/(this.__lf.graphModel.width/this.__lf.graphModel.height)+"px";var F=this.__lf.getTransform(),J=F.TRANSLATE_X,Y=F.TRANSLATE_Y,Ee=y-h,Se=(this.__width-4)/(Ee/this.__lf.graphModel.width),Me=this.__lf.graphModel.width/this.__lf.graphModel.height,Ie=Se/Me;this.__viewPortTop=Y>0?0:-Y*l,this.__viewPortLeft=-J*l,this.__viewPortWidth=Se,this.__viewPortHeight=Ie,A.top=this.__viewPortTop+"px",A.left=this.__viewPortLeft+"px",A.width=Se+"px",A.height=Ie+"px"},p.prototype.__createViewPort=function(){var l=document.createElement("div");l.className="lf-minimap-viewport",l.addEventListener("mousedown",this.__startDrag),this.__viewport=l},p.pluginName="miniMap",p}(),io=null,Jn=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Cr=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},vi=function(p){Jn(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),h=c.strokeWidth,y=c.stroke,b=c.strokeDashArray,P=this.props.model.points,A=P.split(" ").map(function(bn){return bn.split(",").map(function(Cn){return Number(Cn)})}),F=Cr(A[0],2),J=F[0],Y=F[1],Ee="M"+J+" "+Y,Se=5,Me=1;Me<A.length-1;Me++){var Ie=Cr(A[Me-1],2),ct=Ie[0],lt=Ie[1],dt=Cr(A[Me],2),Ye=dt[0],Nt=dt[1],Zt=Cr(A[Me+1],2),en=Zt[0],Tn=Zt[1];if(Ye===ct&&Nt!==lt){var Dn=Nt>lt?Nt-Se:Nt+Se;Ee=Ee+" L "+Ye+" "+Dn}if(Nt===lt&&Ye!==ct){var gn=Ye>ct?Ye-Se:Ye+Se;Ee=Ee+" L "+gn+" "+Nt}if(Ee=Ee+" Q "+Ye+" "+Nt,Ye===en&&Nt!==Tn){var Dn=Nt>Tn?Nt-Se:Nt+Se;Ee=Ee+" "+Ye+" "+Dn}if(Nt===Tn&&Ye!==en){var gn=Ye>en?Ye-Se:Ye+Se;Ee=Ee+" "+gn+" "+Nt}}var mn=Cr(A[A.length-1],2),an=mn[0],un=mn[1];return Ee=Ee+" L "+an+" "+un,(0,j.h)("path",{d:Ee,strokeWidth:h,stroke:y,fill:"none",strokeDashArray:b})},l.extendKey="curvedEdge",l}(j.PolylineEdge),ao=function(p){Jn(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l}(j.PolylineEdgeModel),gi={pluginName:"curved-edge",curvedSpace:5,init:function(p){var l=p.curvedSpace;gi.curvedSpace=l},install:function(p){p.register({type:"curved-edge",view:vi,model:ao})}},va=null,Rr,Wt,Ir,mi,uo,Vo,ko,Lr,zn={},ln=[],bi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Qn(p,l){for(var c in l)p[c]=l[c];return p}function Wo(p){var l=p.parentNode;l&&l.removeChild(p)}function Bn(p,l,c){var h,y,b,P={};for(b in l)b=="key"?h=l[b]:b=="ref"?y=l[b]:P[b]=l[b];if(arguments.length>2&&(P.children=arguments.length>3?Rr.call(arguments,2):c),typeof p=="function"&&p.defaultProps!=null)for(b in p.defaultProps)P[b]===void 0&&(P[b]=p.defaultProps[b]);return zr(p,P,h,y,null)}function zr(p,l,c,h,y){var b={type:p,props:l,key:c,ref:h,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:y==null?++Ir:y};return y==null&&Wt.vnode!=null&&Wt.vnode(b),b}function _i(){return{current:null}}function wn(p){return p.children}function hn(p,l){this.props=p,this.context=l}function lr(p,l){if(l==null)return p.__?lr(p.__,p.__.__k.indexOf(p)+1):null;for(var c;l<p.__k.length;l++)if((c=p.__k[l])!=null&&c.__e!=null)return c.__e;return typeof p.type=="function"?lr(p):null}function Zo(p){var l,c;if((p=p.__)!=null&&p.__c!=null){for(p.__e=p.__c.base=null,l=0;l<p.__k.length;l++)if((c=p.__k[l])!=null&&c.__e!=null){p.__e=p.__c.base=c.__e;break}return Zo(p)}}function Br(p){(!p.__d&&(p.__d=!0)&&uo.push(p)&&!vr.__r++||ko!==Wt.debounceRendering)&&((ko=Wt.debounceRendering)||Vo)(vr)}function vr(){for(var p;vr.__r=uo.length;)p=uo.sort(function(l,c){return l.__v.__b-c.__v.__b}),uo=[],p.some(function(l){var c,h,y,b,P,A;l.__d&&(P=(b=(c=l).__v).__e,(A=c.__P)&&(h=[],(y=Qn({},b)).__v=b.__v+1,Ao(A,b,y,c.__n,A.ownerSVGElement!==void 0,b.__h!=null?[P]:null,h,P==null?lr(b):P,b.__h),so(h,b),b.__e!=P&&Zo(b)))})}function Hr(p,l,c,h,y,b,P,A,F,J){var Y,Ee,Se,Me,Ie,ct,lt,dt=h&&h.__k||ln,Ye=dt.length;for(c.__k=[],Y=0;Y<l.length;Y++)if((Me=c.__k[Y]=(Me=l[Y])==null||typeof Me=="boolean"?null:typeof Me=="string"||typeof Me=="number"||typeof Me=="bigint"?zr(null,Me,null,null,Me):Array.isArray(Me)?zr(wn,{children:Me},null,null,null):Me.__b>0?zr(Me.type,Me.props,Me.key,null,Me.__v):Me)!=null){if(Me.__=c,Me.__b=c.__b+1,(Se=dt[Y])===null||Se&&Me.key==Se.key&&Me.type===Se.type)dt[Y]=void 0;else for(Ee=0;Ee<Ye;Ee++){if((Se=dt[Ee])&&Me.key==Se.key&&Me.type===Se.type){dt[Ee]=void 0;break}Se=null}Ao(p,Me,Se=Se||zn,y,b,P,A,F,J),Ie=Me.__e,(Ee=Me.ref)&&Se.ref!=Ee&&(lt||(lt=[]),Se.ref&&lt.push(Se.ref,null,Me),lt.push(Ee,Me.__c||Ie,Me)),Ie!=null?(ct==null&&(ct=Ie),typeof Me.type=="function"&&Me.__k===Se.__k?Me.__d=F=Gr(Me,F,p):F=er(p,Me,Se,dt,Ie,F),typeof c.type=="function"&&(c.__d=F)):F&&Se.__e==F&&F.parentNode!=p&&(F=lr(Se))}for(c.__e=ct,Y=Ye;Y--;)dt[Y]!=null&&(typeof c.type=="function"&&dt[Y].__e!=null&&dt[Y].__e==c.__d&&(c.__d=lr(h,Y+1)),Oi(dt[Y],dt[Y]));if(lt)for(Y=0;Y<lt.length;Y++)To(lt[Y],lt[++Y],lt[++Y])}function Gr(p,l,c){for(var h,y=p.__k,b=0;y&&b<y.length;b++)(h=y[b])&&(h.__=p,l=typeof h.type=="function"?Gr(h,l,c):er(c,h,h,y,h.__e,l));return l}function Zn(p,l){return l=l||[],p==null||typeof p=="boolean"||(Array.isArray(p)?p.some(function(c){Zn(c,l)}):l.push(p)),l}function er(p,l,c,h,y,b){var P,A,F;if(l.__d!==void 0)P=l.__d,l.__d=void 0;else if(c==null||y!=b||y.parentNode==null)e:if(b==null||b.parentNode!==p)p.appendChild(y),P=null;else{for(A=b,F=0;(A=A.nextSibling)&&F<h.length;F+=2)if(A==y)break e;p.insertBefore(y,b),P=b}return P!==void 0?P:y.nextSibling}function Mn(p,l,c,h,y){var b;for(b in c)b==="children"||b==="key"||b in l||fr(p,b,null,c[b],h);for(b in l)y&&typeof l[b]!="function"||b==="children"||b==="key"||b==="value"||b==="checked"||c[b]===l[b]||fr(p,b,l[b],c[b],h)}function Tt(p,l,c){l[0]==="-"?p.setProperty(l,c):p[l]=c==null?"":typeof c!="number"||bi.test(l)?c:c+"px"}function fr(p,l,c,h,y){var b;e:if(l==="style")if(typeof c=="string")p.style.cssText=c;else{if(typeof h=="string"&&(p.style.cssText=h=""),h)for(l in h)c&&l in c||Tt(p.style,l,"");if(c)for(l in c)h&&c[l]===h[l]||Tt(p.style,l,c[l])}else if(l[0]==="o"&&l[1]==="n")b=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in p?l.toLowerCase().slice(2):l.slice(2),p.l||(p.l={}),p.l[l+b]=c,c?h||p.addEventListener(l,b?gr:vn,b):p.removeEventListener(l,b?gr:vn,b);else if(l!=="dangerouslySetInnerHTML"){if(y)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(l!=="href"&&l!=="list"&&l!=="form"&&l!=="tabIndex"&&l!=="download"&&l in p)try{p[l]=c==null?"":c;break e}catch(P){}typeof c=="function"||(c!=null&&(c!==!1||l[0]==="a"&&l[1]==="r")?p.setAttribute(l,c):p.removeAttribute(l))}}function vn(p){this.l[p.type+!1](Wt.event?Wt.event(p):p)}function gr(p){this.l[p.type+!0](Wt.event?Wt.event(p):p)}function Ao(p,l,c,h,y,b,P,A,F){var J,Y,Ee,Se,Me,Ie,ct,lt,dt,Ye,Nt,Zt=l.type;if(l.constructor!==void 0)return null;c.__h!=null&&(F=c.__h,A=l.__e=c.__e,l.__h=null,b=[A]),(J=Wt.__b)&&J(l);try{e:if(typeof Zt=="function"){if(lt=l.props,dt=(J=Zt.contextType)&&h[J.__c],Ye=J?dt?dt.props.value:J.__:h,c.__c?ct=(Y=l.__c=c.__c).__=Y.__E:("prototype"in Zt&&Zt.prototype.render?l.__c=Y=new Zt(lt,Ye):(l.__c=Y=new hn(lt,Ye),Y.constructor=Zt,Y.render=Nn),dt&&dt.sub(Y),Y.props=lt,Y.state||(Y.state={}),Y.context=Ye,Y.__n=h,Ee=Y.__d=!0,Y.__h=[]),Y.__s==null&&(Y.__s=Y.state),Zt.getDerivedStateFromProps!=null&&(Y.__s==Y.state&&(Y.__s=Qn({},Y.__s)),Qn(Y.__s,Zt.getDerivedStateFromProps(lt,Y.__s))),Se=Y.props,Me=Y.state,Ee)Zt.getDerivedStateFromProps==null&&Y.componentWillMount!=null&&Y.componentWillMount(),Y.componentDidMount!=null&&Y.__h.push(Y.componentDidMount);else{if(Zt.getDerivedStateFromProps==null&&lt!==Se&&Y.componentWillReceiveProps!=null&&Y.componentWillReceiveProps(lt,Ye),!Y.__e&&Y.shouldComponentUpdate!=null&&Y.shouldComponentUpdate(lt,Y.__s,Ye)===!1||l.__v===c.__v){Y.props=lt,Y.state=Y.__s,l.__v!==c.__v&&(Y.__d=!1),Y.__v=l,l.__e=c.__e,l.__k=c.__k,l.__k.forEach(function(en){en&&(en.__=l)}),Y.__h.length&&P.push(Y);break e}Y.componentWillUpdate!=null&&Y.componentWillUpdate(lt,Y.__s,Ye),Y.componentDidUpdate!=null&&Y.__h.push(function(){Y.componentDidUpdate(Se,Me,Ie)})}Y.context=Ye,Y.props=lt,Y.state=Y.__s,(J=Wt.__r)&&J(l),Y.__d=!1,Y.__v=l,Y.__P=p,J=Y.render(Y.props,Y.state,Y.context),Y.state=Y.__s,Y.getChildContext!=null&&(h=Qn(Qn({},h),Y.getChildContext())),Ee||Y.getSnapshotBeforeUpdate==null||(Ie=Y.getSnapshotBeforeUpdate(Se,Me)),Nt=J!=null&&J.type===wn&&J.key==null?J.props.children:J,Hr(p,Array.isArray(Nt)?Nt:[Nt],l,c,h,y,b,P,A,F),Y.base=l.__e,l.__h=null,Y.__h.length&&P.push(Y),ct&&(Y.__E=Y.__=null),Y.__e=!1}else b==null&&l.__v===c.__v?(l.__k=c.__k,l.__e=c.__e):l.__e=tr(c.__e,l,c,h,y,b,P,F);(J=Wt.diffed)&&J(l)}catch(en){l.__v=null,(F||b!=null)&&(l.__e=A,l.__h=!!F,b[b.indexOf(A)]=null),Wt.__e(en,l,c)}}function so(p,l){Wt.__c&&Wt.__c(l,p),p.some(function(c){try{p=c.__h,c.__h=[],p.some(function(h){h.call(c)})}catch(h){Wt.__e(h,c.__v)}})}function tr(p,l,c,h,y,b,P,A){var F,J,Y,Ee=c.props,Se=l.props,Me=l.type,Ie=0;if(Me==="svg"&&(y=!0),b!=null){for(;Ie<b.length;Ie++)if((F=b[Ie])&&"setAttribute"in F==!!Me&&(Me?F.localName===Me:F.nodeType===3)){p=F,b[Ie]=null;break}}if(p==null){if(Me===null)return document.createTextNode(Se);p=y?document.createElementNS("http://www.w3.org/2000/svg",Me):document.createElement(Me,Se.is&&Se),b=null,A=!1}if(Me===null)Ee===Se||A&&p.data===Se||(p.data=Se);else{if(b=b&&Rr.call(p.childNodes),J=(Ee=c.props||zn).dangerouslySetInnerHTML,Y=Se.dangerouslySetInnerHTML,!A){if(b!=null)for(Ee={},Ie=0;Ie<p.attributes.length;Ie++)Ee[p.attributes[Ie].name]=p.attributes[Ie].value;(Y||J)&&(Y&&(J&&Y.__html==J.__html||Y.__html===p.innerHTML)||(p.innerHTML=Y&&Y.__html||""))}if(Mn(p,Se,Ee,y,A),Y)l.__k=[];else if(Ie=l.props.children,Hr(p,Array.isArray(Ie)?Ie:[Ie],l,c,h,y&&Me!=="foreignObject",b,P,b?b[0]:c.__k&&lr(c,0),A),b!=null)for(Ie=b.length;Ie--;)b[Ie]!=null&&Wo(b[Ie]);A||("value"in Se&&(Ie=Se.value)!==void 0&&(Ie!==p.value||Me==="progress"&&!Ie||Me==="option"&&Ie!==Ee.value)&&fr(p,"value",Ie,Ee.value,!1),"checked"in Se&&(Ie=Se.checked)!==void 0&&Ie!==p.checked&&fr(p,"checked",Ie,Ee.checked,!1))}return p}function To(p,l,c){try{typeof p=="function"?p(l):p.current=l}catch(h){Wt.__e(h,c)}}function Oi(p,l,c){var h,y;if(Wt.unmount&&Wt.unmount(p),(h=p.ref)&&(h.current&&h.current!==p.__e||To(h,null,l)),(h=p.__c)!=null){if(h.componentWillUnmount)try{h.componentWillUnmount()}catch(b){Wt.__e(b,l)}h.base=h.__P=null}if(h=p.__k)for(y=0;y<h.length;y++)h[y]&&Oi(h[y],l,typeof p.type!="function");c||p.__e==null||Wo(p.__e),p.__e=p.__d=void 0}function Nn(p,l,c){return this.constructor(p,c)}function Ko(p,l,c){var h,y,b;Wt.__&&Wt.__(p,l),y=(h=typeof c=="function")?null:c&&c.__k||l.__k,b=[],Ao(l,p=(!h&&c||l).__k=Bn(wn,null,[p]),y||zn,zn,l.ownerSVGElement!==void 0,!h&&c?[c]:y?null:l.firstChild?Rr.call(l.childNodes):null,b,!h&&c?c:y?y.__e:l.firstChild,h),so(b,p)}function Xi(p,l){Ko(p,l,Xi)}function wi(p,l,c){var h,y,b,P=Qn({},p.props);for(b in l)b=="key"?h=l[b]:b=="ref"?y=l[b]:P[b]=l[b];return arguments.length>2&&(P.children=arguments.length>3?Rr.call(arguments,2):c),zr(p.type,P,h||p.key,y||p.ref,null)}function kn(p,l){var c={__c:l="__cC"+Lr++,__:p,Consumer:function(h,y){return h.children(y)},Provider:function(h){var y,b;return this.getChildContext||(y=[],(b={})[l]=this,this.getChildContext=function(){return b},this.shouldComponentUpdate=function(P){this.props.value!==P.value&&y.some(Br)},this.sub=function(P){y.push(P);var A=P.componentWillUnmount;P.componentWillUnmount=function(){y.splice(y.indexOf(P),1),A&&A.call(P)}}),h.children}};return c.Provider.__=c.Consumer.contextType=c}Rr=ln.slice,Wt={__e:function(p,l,c,h){for(var y,b,P;l=l.__;)if((y=l.__c)&&!y.__)try{if((b=y.constructor)&&b.getDerivedStateFromError!=null&&(y.setState(b.getDerivedStateFromError(p)),P=y.__d),y.componentDidCatch!=null&&(y.componentDidCatch(p,h||{}),P=y.__d),P)return y.__E=y}catch(A){p=A}throw p}},Ir=0,mi=function(p){return p!=null&&p.constructor===void 0},hn.prototype.setState=function(p,l){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Qn({},this.state),typeof p=="function"&&(p=p(Qn({},c),this.props)),p&&Qn(c,p),p!=null&&this.__v&&(l&&this.__h.push(l),Br(this))},hn.prototype.forceUpdate=function(p){this.__v&&(this.__e=!0,p&&this.__h.push(p),Br(this))},hn.prototype.render=wn,uo=[],Vo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vr.__r=0,Lr=0;var Hn=function(){return Hn=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Hn.apply(this,arguments)};function nr(p){var l=p.x,c=p.y,h=p.width,y=p.height,b=p.radius,P=p.className,A=l-h/2,F=c-y/2,J=Hn(Hn({width:10,height:10,cx:0,cy:0,rx:b||0,ry:b||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+P},p),{x:A,y:F});return(0,j.h)("rect",Hn({},J))}nr.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var tn;(function(p){p.NODE="node",p.CIRCLE_NODE="circle-node",p.POLYGON_NODE="polygon-node",p.RECT_NODE="rect-node",p.HTML_NODE="html-node",p.TEXT_NODE="text-node",p.ELLIPSE_NODE="ellipse-node",p.DIAMOND_NODE="diamond-node",p.EDGE="edge",p.LINE_EDGE="line-edge",p.POLYLINE_EDGE="polyline-edge",p.BEZIER_EDGE="bezier-edge",p.GRAPH="graph"})(tn||(tn={}));function co(p){var l=p.x,c=p.y,h=p.width,y=p.height;return{minX:l-h/2,minY:c-y/2,maxX:l+h/2,maxY:c+y/2}}function Do(p){var l=co(p),c=p.radius,h=l.minX,y=l.minY,b=l.maxX,P=l.maxY;return[{x:h+c,y:y+c},{x:b-c,y:y+c},{x:b-c,y:P-c},{x:h+c,y:P-c}]}function lo(p){var l=p.point,c=p.beforeNode,h=p.afterNode,y=l.x,b=l.y,P={x:y,y:b},A=c.radius,F=co(c),J=co(h);if(y===F.minX){P.x=J.minX;var Y=(b-c.y)/(c.height/2-A);Y?P.y=h.y+(h.height/2-A)*Y:P.y=h.y}else if(y===F.maxX){P.x=J.maxX;var Y=(b-c.y)/(c.height/2-A);Y?P.y=h.y+(h.height/2-A)*Y:P.y=h.y}else if(b===F.minY){P.y=J.minY;var Y=(y-c.x)/(c.width/2-A);Y?P.x=h.x+(h.width/2-A)*Y:P.x=h.x}else if(b===F.maxY){P.y=J.maxY;var Y=(y-c.x)/(c.width/2-A);Y?P.x=h.x+(h.width/2-A)*Y:P.x=h.x}else{var Ee=Do(c),Se=Do(h),Me=co(c),Ie=Me.minX,ct=Me.minY,lt=Me.maxX,dt=Me.maxY,Ye=-1;if(y-Ie<A&&b-ct<A?Ye=0:lt-y<A&&b-ct<A?Ye=1:lt-y<A&&dt-b<A?Ye=2:y-Ie<A&&ct-b<A&&(Ye=3),Ye>-1){var Nt=Math.atan2(b-Ee[Ye].y,y-Ee[Ye].x);P.x=Se[Ye].x+A*Math.cos(Nt),P.y=Se[Ye].y+A*Math.sin(Nt)}}return P}function fo(p){var l=p.point,c=p.beforeNode,h=p.afterNode,y=h.rx,b=h.ry,P=l,A=(l.y-c.y)/(l.x-c.x),F=y,J=b,Y,Ee;return A>=Infinity?(Y=0,Ee=J):A<=-Infinity?(Y=0,Ee=-J):l.x-c.x>0?(Y=F*J/Math.sqrt(J*J+F*F*A*A),Ee=F*J*A/Math.sqrt(J*J+F*F*A*A)):(Y=-(F*J)/Math.sqrt(J*J+F*F*A*A),Ee=-(F*J*A)/Math.sqrt(J*J+F*F*A*A)),P={x:Y+h.x,y:Ee+h.y},P}function po(p){var l=p.point,c=p.beforeNode,h=p.afterNode,y=l,b,P,A=l.x-c.x,F=l.y-c.y,J=c.rx,Y=c.ry,Ee=Math.sqrt((J-Math.abs(A))*(J-Math.abs(A))+F*F)/Math.sqrt(J*J+Y*Y),Se=h.rx,Me=h.ry,Ie=Math.sqrt((Se*Se+Me*Me)*Ee*Ee*(Se*Se/(Se*Se+Me*Me))),ct=Ie*(Me/Se);return A>=0?b=Se-Ie:b=Ie-Se,F>0?P=ct:P=-ct,y={x:b+h.x,y:P+h.y},y}var $o=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),on=function(){return on=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},on.apply(this,arguments)},Kn=j.LogicFlowUtil.StepDrag,ho=function(p){$o(l,p);function l(c){var h=p.call(this)||this;h.updatePosition=function(P){var A=P.deltaX,F=P.deltaY,J=h.nodeModel,Y=J.x,Ee=J.y;h.nodeModel.x=Y+A/2,h.nodeModel.y=Ee+F/2,h.nodeModel.moveText(A/2,F/2)},h.getResize=function(P){var A=P.index,F=P.deltaX,J=P.deltaY,Y=P.width,Ee=P.height,Se=P.pct,Me=Se===void 0?1:Se,Ie={width:Y,height:Ee};switch(A){case 0:Ie.width=Y-F*Me,Ie.height=Ee-J*Me;break;case 1:Ie.width=Y+F*Me,Ie.height=Ee-J*Me;break;case 2:Ie.width=Y+F,Ie.height=Ee+J*Me;break;case 3:Ie.width=Y-F*Me,Ie.height=Ee+J*Me;break;default:break}return Ie},h.updateRect=function(P){var A=P.deltaX,F=P.deltaY,J=h.nodeModel,Y=J.id,Ee=J.x,Se=J.y,Me=J.width,Ie=J.height,ct=J.radius,lt=h.index,dt=h.getResize({index:lt,deltaX:A,deltaY:F,width:Me,height:Ie,pct:1}),Ye=h.nodeModel,Nt=Ye.minWidth,Zt=Ye.minHeight,en=Ye.maxWidth,Tn=Ye.maxHeight;if(dt.width<Nt||dt.width>en||dt.height<Zt||dt.height>Tn){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:A,deltaY:F}),h.nodeModel.width=dt.width,h.nodeModel.height=dt.height,h.nodeModel.setProperties({nodeSize:{width:dt.width,height:dt.height}});var Dn=h.getNodeEdges(Y),gn={x:Ee,y:Se,width:Me,height:Ie,radius:ct},mn={x:h.nodeModel.x,y:h.nodeModel.y,width:h.nodeModel.width,height:h.nodeModel.height,radius:ct},an={point:"",beforeNode:gn,afterNode:mn},un;Dn.sourceEdges.forEach(function(bn){an.point=bn.startPoint,un=lo(an),bn.updateStartPoint(un)}),Dn.targetEdges.forEach(function(bn){an.point=bn.endPoint,un=lo(an),bn.updateEndPoint(un)}),h.eventEmit({beforeNode:gn,afterNode:mn})},h.updateEllipse=function(P){var A=P.deltaX,F=P.deltaY,J=h.nodeModel,Y=J.id,Ee=J.rx,Se=J.ry,Me=J.x,Ie=J.y,ct=h.index,lt=Ee,dt=Se,Ye=h.getResize({index:ct,deltaX:A,deltaY:F,width:lt,height:dt,pct:1/2}),Nt=h.nodeModel,Zt=Nt.minWidth,en=Nt.minHeight,Tn=Nt.maxWidth,Dn=Nt.maxHeight;if(Ye.width<Zt/2||Ye.width>Tn/2||Ye.height<en/2||Ye.height>Dn/2){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:A,deltaY:F}),h.nodeModel.rx=h.nodeModel.rx+A/2,h.nodeModel.ry=h.nodeModel.ry+F/2,h.nodeModel.setProperties({nodeSize:{rx:Ye.width,ry:Ye.height}});var gn=h.getNodeEdges(Y),mn={x:Me,y:Ie},an={rx:Ye.width,ry:Ye.height,x:h.nodeModel.x,y:h.nodeModel.y},un={point:{},beforeNode:mn,afterNode:an},bn;gn.sourceEdges.forEach(function(Cn){un.point=Cn.startPoint,bn=fo(un),Cn.updateStartPoint(bn)}),gn.targetEdges.forEach(function(Cn){un.point=Cn.endPoint,bn=fo(un),Cn.updateEndPoint(bn)}),h.eventEmit({beforeNode:on(on({},mn),{rx:Ee,ry:Se}),afterNode:an})},h.updateDiamond=function(P){var A=P.deltaX,F=P.deltaY,J=h.nodeModel,Y=J.id,Ee=J.rx,Se=J.ry,Me=J.x,Ie=J.y,ct=h.index,lt=Ee,dt=Se,Ye=h.getResize({index:ct,deltaX:A,deltaY:F,width:lt,height:dt,pct:1/2}),Nt=h.nodeModel,Zt=Nt.minWidth,en=Nt.minHeight,Tn=Nt.maxWidth,Dn=Nt.maxHeight;if(Ye.width<Zt/2||Ye.width>Tn/2||Ye.height<en/2||Ye.height>Dn/2){h.dragHandler.cancelDrag();return}h.updatePosition({deltaX:A,deltaY:F}),h.nodeModel.rx=h.nodeModel.rx+A/2,h.nodeModel.ry=h.nodeModel.ry+F/2,h.nodeModel.setProperties({nodeSize:{rx:Ye.width,ry:Ye.height}});var gn={x:Me,y:Ie,rx:Ee,ry:Se},mn={rx:Ye.width,ry:Ye.height,x:h.nodeModel.x,y:h.nodeModel.y},an={point:{},beforeNode:gn,afterNode:mn},un,bn=h.getNodeEdges(Y);bn.sourceEdges.forEach(function(Cn){an.point=Cn.startPoint,un=po(an),Cn.updateStartPoint(un)}),bn.targetEdges.forEach(function(Cn){an.point=Cn.endPoint,un=po(an),Cn.updateEndPoint(un)}),h.eventEmit({beforeNode:gn,afterNode:mn})},h.eventEmit=function(P){var A=P.beforeNode,F=P.afterNode,J=h.nodeModel,Y=J.id,Ee=J.modelType,Se=J.type,Me=on({id:Y,modelType:Ee,type:Se},A),Ie=on({id:Y,modelType:Ee,type:Se},F);h.graphModel.eventCenter.emit("node:resize",{oldNodeSize:Me,newNodeSize:Ie})},h.onDraging=function(P){var A=P.deltaX,F=P.deltaY,J=h.nodeModel.modelType;J===tn.RECT_NODE||J===tn.HTML_NODE?h.updateRect({deltaX:A,deltaY:F}):J===tn.ELLIPSE_NODE?h.updateEllipse({deltaX:A,deltaY:F}):J===tn.DIAMOND_NODE&&h.updateDiamond({deltaX:A,deltaY:F})},h.index=c.index,h.nodeModel=c.model,h.graphModel=c.graphModel;var y=h.graphModel.gridSize,b=2;return y>1&&(b=2*y),h.nodeModel.gridSize&&(b=2*h.nodeModel.gridSize),h.state={},h.dragHandler=new Kn({onDraging:h.onDraging,step:b}),h}return l.prototype.getNodeEdges=function(c){for(var h=this.graphModel,y=h.edges,b=[],P=[],A=0;A<y.length;A++){var F=y[A];F.sourceNodeId===c?b.push(F):y[A].targetNodeId===c&&P.push(F)}return{sourceEdges:b,targetEdges:P}},l.prototype.render=function(){var c=this.props,h=c.x,y=c.y,b=c.index,P=c.model,A=P.getControlPointStyle();return Bn("g",{className:"lf-resize-control-"+b},Bn(nr,on({className:"lf-node-control"},{x:h,y},A,{onMouseDown:this.dragHandler.handleMouseDown})))},l}(hn),xi=ho,qo=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Gn=function(){return Gn=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Gn.apply(this,arguments)},yo=function(p){qo(l,p);function l(){var c=p.call(this)||this;return c.state={},c}return l.prototype.getResizeControl=function(){var c=this.props,h=c.model,y=c.graphModel,b=h.x,P=h.y,A=h.width,F=h.height,J={minX:b-A/2,minY:P-F/2,maxX:b+A/2,maxY:P+F/2},Y=J.minX,Ee=J.minY,Se=J.maxX,Me=J.maxY,Ie=[{x:Y,y:Ee},{x:Se,y:Ee},{x:Se,y:Me},{x:Y,y:Me}];return Ie.map(function(ct,lt){return Bn(xi,Gn({index:lt},ct,{model:h,graphModel:y}))})},l.prototype.getGroupSolid=function(){var c=this.props.model,h=c.x,y=c.y,b=c.width,P=c.height,A=c.getResizeOutlineStyle();return Bn(nr,Gn({fill:"none"},A,{x:h,y,width:b,height:P}))},l.prototype.render=function(){return Bn("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},l}(hn),pr=yo,Ei=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),g=function(p){Ei(l,p);function l(c,h){var y=p.call(this,c,h)||this,b=y.properties.nodeSize;return b&&(y.width=b.width,y.height=b.height),y}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l.prototype.resize=function(c,h){console.log(c,h)},l}(j.RectNodeModel),m=function(p){Ei(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,y=c.graphModel;return(0,j.h)(pr,{model:h,graphModel:y})},l.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,j.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(j.RectNode),x={type:"rect",view:m,model:g},T=x,R=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),K=function(p){R(l,p);function l(c,h){var y=p.call(this,c,h)||this,b=y.properties.nodeSize;return b&&(y.rx=b.rx,y.ry=b.ry),y}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(j.EllipseNodeModel),_e=function(p){R(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,y=c.graphModel;return(0,j.h)(pr,{model:h,graphModel:y})},l.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model;return(0,j.h)("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},l}(j.EllipseNode),Re={type:"ellipse",view:_e,model:K},qe=Re,Ot=function(){return Ot=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Ot.apply(this,arguments)};function wt(p){var l=p.fillOpacity,c=l===void 0?1:l,h=p.strokeWidth,y=h===void 0?1:h,b=p.strokeOpacity,P=b===void 0?1:b,A=p.fill,F=A===void 0?"transparent":A,J=p.stroke,Y=J===void 0?"#000":J,Ee=p.points,Se=p.className,Me=Se===void 0?"lf-basic-shape":Se,Ie={fill:F,fillOpacity:c,strokeWidth:y,stroke:Y,strokeOpacity:P,points:"",className:Me};return Ie.points=Ee.map(function(ct){return ct.join(",")}).join(" "),(0,j.h)("polygon",Ot({},Ie))}var zt=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),It=function(){return It=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},It.apply(this,arguments)},Ct=function(p){zt(l,p);function l(c,h){var y=p.call(this,c,h)||this,b=y.properties.nodeSize;return b&&(y.rx=b.rx,y.ry=b.ry),y}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(j.DiamondNodeModel),Ut=function(p){zt(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,y=c.graphModel;return(0,j.h)(pr,{model:h,graphModel:y})},l.prototype.getResizeShape=function(){var c=this.props.model,h=c.points,y=c.getNodeStyle();return(0,j.h)("g",null,(0,j.h)(wt,It({},y,{points:h})))},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,j.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(j.DiamondNode),Ht={type:"diamond",view:Ut,model:Ct},Lt=Ht,$n=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Ui=function(p){$n(l,p);function l(c,h){var y=p.call(this,c,h)||this,b=y.properties.nodeSize;return b&&(y.width=b.width,y.height=b.height),y}return l.prototype.initNodeData=function(c){p.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},l.prototype.getOutlineStyle=function(){var c=p.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},l.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},l.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},l}(j.HtmlNodeModel),vo=function(p){$n(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props,h=c.model,y=c.graphModel;return(0,j.h)(pr,{model:h,graphModel:y})},l.prototype.getResizeShape=function(){return p.prototype.getShape.call(this)},l.prototype.getShape=function(){var c=this.props.model.isSelected;return(0,j.h)("g",null,this.getResizeShape(),c?this.getControlGroup():"")},l}(j.HtmlNode),Fr={type:"html",view:vo,model:Ui},mr=Fr,Si={pluginName:"nodeResize",step:0,install:function(p){p.register({type:T.type,view:T.view,model:T.model}),p.register({type:qe.type,view:qe.view,model:qe.model}),p.register({type:Lt.type,view:Lt.view,model:Lt.model}),p.register({type:mr.type,view:mr.view,model:mr.model})}},An=null,Jo=function(){var p=function(l,c){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,y){h.__proto__=y}||function(h,y){for(var b in y)y.hasOwnProperty(b)&&(h[b]=y[b])},p(l,c)};return function(l,c){p(l,c);function h(){this.constructor=l}l.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}(),Xr=function(){return Xr=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Xr.apply(this,arguments)},tu=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},ji=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(tu(arguments[l]));return p},ga=500,ma=300,nu=function(p){Jo(l,p);function l(){var c=p!==null&&p.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=ga,c.unfoldedHight=ma,c}return l.prototype.initNodeData=function(c){var h=this;p.prototype.initNodeData.call(this,c);var y=[];Array.isArray(c.children)&&(y=c.children),this.children=new Set(y),this.width=ga,this.height=ma,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){h.isFolded&&h.foldGroup(h.isFolded)})},l.prototype.getResizeOutlineStyle=function(){var c=p.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},l.prototype.foldGroup=function(c){var h=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var y=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(b){var P=h.graphModel.getElement(b);P.visible=!c,y=y.concat(P.incoming.edges.concat(P.outgoing.edges))}),this.foldEdge(c,y)},l.prototype.getAnchorStyle=function(c){var h=p.prototype.getAnchorStyle.call(this,c);return h.stroke="transparent",h.fill="transparent",h.hover.fill="transparent",h.hover.stroke="transparent",h},l.prototype.foldEdge=function(c,h){var y=this;h.forEach(function(b,P){var A=b.id,F=b.sourceNodeId,J=b.targetNodeId,Y=b.startPoint,Ee=b.endPoint,Se=b.type,Me=b.properties,Ie=b.text,ct={id:A+"__"+P,sourceNodeId:F,targetNodeId:J,startPoint:Y,endPoint:Ee,type:Se,properties:Me,text:Ie==null?void 0:Ie.value};b.virtual&&y.graphModel.deleteEdgeById(b.id);var lt=y.graphModel.group.getNodeGroup(J);lt||(lt=y.graphModel.getNodeModelById(J));var dt=y.graphModel.group.getNodeGroup(F);dt||(dt=y.graphModel.getNodeModelById(F)),c&&b.visible!==!1&&(y.children.has(F)||y.id===F?(ct.startPoint=void 0,ct.sourceNodeId=y.id):(ct.endPoint=void 0,ct.targetNodeId=y.id),(lt.id!==y.id||dt.id!==y.id)&&y.createVirtualEdge(ct),b.visible=!1),!c&&b.visible===!1&&(lt&&lt.isGroup&&lt.isFolded?(ct.targetNodeId=lt.id,ct.endPoint=void 0,y.createVirtualEdge(ct)):dt&&dt.isGroup&&dt.isFolded?(ct.sourceNodeId=dt.id,ct.startPoint=void 0,y.createVirtualEdge(ct)):b.visible=!0)})},l.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var h=this.graphModel.addEdge(c);h.virtual=!0,h.getData=function(){return null},h.text.editable=!1,h.isFoldedEdge=!0},l.prototype.isInRange=function(c){var h=c.x1,y=c.y1,b=c.x2,P=c.y2;return h>=this.x-this.width/2&&b<=this.x+this.width/2&&y>=this.y-this.height/2&&P<=this.y+this.height/2},l.prototype.isAllowMoveTo=function(c){var h=c.x1,y=c.y1,b=c.x2,P=c.y2;return{x:h>=this.x-this.width/2&&b<=this.x+this.width/2,y:y>=this.y-this.height/2&&P<=this.y+this.height/2}},l.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},l.prototype.addChild=function(c){this.children.add(c)},l.prototype.removeChild=function(c){this.children.delete(c)},l.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},l.prototype.getData=function(){var c=p.prototype.getData.call(this);c.children=ji(this.children);var h=c.properties;return delete h.groupAddable,delete h.isFolded,c},l.prototype.getHistoryData=function(){var c=p.prototype.getData.call(this);c.children=ji(this.children);var h=c.properties;return delete h.groupAddable,h.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},l}(T.model),ru=function(p){Jo(l,p);function l(){return p!==null&&p.apply(this,arguments)||this}return l.prototype.getControlGroup=function(){var c=this.props.model,h=c.resizable,y=c.properties;return h&&!y.isFolded?p.prototype.getControlGroup.call(this):null},l.prototype.getAddedableShape=function(){var c=this.props.model,h=c.width,y=c.height,b=c.x,P=c.y,A=c.radius,F=c.properties;if(!F.groupAddable)return null;var J=this.props.model.getNodeStyle().strokeWidth,Y=this.props.model.getAddableOutlineStyle(),Ee=h+J+8,Se=y+J+8;return(0,j.h)("rect",Xr(Xr({},Y),{width:Ee,height:Se,x:b-Ee/2,y:P-Se/2,rx:A,ry:A}))},l.prototype.getFoldIcon=function(){var c=this.props.model,h=c.x-c.width/2+5,y=c.y-c.height/2+5;if(!c.foldable)return null;var b=(0,j.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(h+3)+","+(y+6)+" "+(h+11)+","+(y+6)+" M"+(h+7)+","+(y+2)+" "+(h+7)+","+(y+10):"M "+(h+3)+","+(y+6)+" "+(h+11)+","+(y+6)+" "});return(0,j.h)("g",{},[(0,j.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),b])},l.prototype.getResizeShape=function(){return(0,j.h)("g",{},[this.getAddedableShape(),p.prototype.getResizeShape.call(this),this.getFoldIcon()])},l}(T.view),ba={type:"group",view:ru,model:nu},ou=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},iu=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(ou(arguments[l]));return p},Yi=function(){function p(l){var c=this,h=l.lf;this.nodeGroupMap=new Map,this.graphRendered=function(y){y&&y.nodes&&y.nodes.forEach(function(b){b.children&&b.children.forEach(function(P){c.nodeGroupMap.set(P,b.id)})})},this.appendNodeToGrop=function(y){var b=y.data,P=c.nodeGroupMap.get(b.id);if(P){var A=c.lf.getNodeModelById(P);A.removeChild(b.id),c.nodeGroupMap.delete(b.id),A.setAllowAppendChild(!1)}var F=c.lf.getNodeModelById(b.id).getBounds(),J=c.getGroup(F);!J||(b.id!==J.id?(J.addChild(b.id),c.nodeGroupMap.set(b.id,J.id),J.setAllowAppendChild(!1)):b.children&&b.children.length>0&&b.children.forEach(function(Y){c.nodeGroupMap.set(Y,b.id)}))},this.deleteGroupChild=function(y){var b=y.data,P=c.nodeGroupMap.get(b.id);if(P){var A=c.lf.getNodeModelById(P);A.removeChild(b.id),c.nodeGroupMap.delete(b.id)}},this.setActiveGroup=function(y){var b=y.data,P=c.lf.getNodeModelById(b.id);if(!P.isGroup){var A=P.getBounds(),F=c.getGroup(A);(F||F!==c.activeGroup)&&(c.activeGroup&&c.activeGroup.setAllowAppendChild(!1),F&&(c.activeGroup=F,c.activeGroup.setAllowAppendChild(!0)))}},h.register(ba),this.lf=h,h.graphModel.addNodeMoveRules(function(y,b,P){if(y.isGroup)return h.graphModel.moveNodes(iu(y.children),b,P,!0),!0;var A=h.getNodeModelById(c.nodeGroupMap.get(y.id));if(A&&A.isRestrict){var F=y.getBounds(),J=F.x1,Y=F.y1,Ee=F.x2,Se=F.y2,Me=A.isAllowMoveTo({x1:J+b,y1:Y+P,x2:Ee+b,y2:Se+P});return Me}return!0}),h.graphModel.group=this,h.on("node:add",this.appendNodeToGrop),h.on("node:delete",this.deleteGroupChild),h.on("node:drop",this.appendNodeToGrop),h.on("node:dnd-drag",this.setActiveGroup),h.on("node:drag",this.setActiveGroup),h.on("graph:rendered",this.graphRendered)}return p.prototype.getGroup=function(l){for(var c=this.lf.graphModel.nodes,h=0;h<c.length;h++){var y=c[h];if(y.isGroup&&y.isInRange(l))return y}},p.prototype.getNodeGroup=function(l){var c=this.nodeGroupMap.get(l);if(c)return this.lf.getNodeModelById(c)},p.pluginName="group",p}(),Pi=function(p,l){var c=typeof Symbol=="function"&&p[Symbol.iterator];if(!c)return p;var h=c.call(p),y,b=[],P;try{for(;(l===void 0||l-- >0)&&!(y=h.next()).done;)b.push(y.value)}catch(A){P={error:A}}finally{try{y&&!y.done&&(c=h.return)&&c.call(h)}finally{if(P)throw P.error}}return b},go=function(){for(var p=[],l=0;l<arguments.length;l++)p=p.concat(Pi(arguments[l]));return p},au=function(){function p(l){var c=this,h=l.lf;this.lf=h,this.pathes=[],h.getPathes=function(){if(!c.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B");return c.getPathes()},h.setRawPathes=function(y){c.setPathes(y)},h.getRawPathes=function(){return c.pathes},h.setStartNodeType=function(y){c.startNodeType=y}}return p.prototype.setPathes=function(l){this.pathes=l.map(function(c){var h=c.routeId,y=c.name,b=c.elements,P=c.type;return{routeId:h,name:y,elements:b,type:P,similarElement:null,weight:0}})},p.prototype.getPathes=function(){var l=this,c=this.lf.getGraphRawData(),h=new Map,y=[];c.nodes.forEach(function(P){h.set(P.id,{id:P.id,data:P,nextNodes:[]}),P.type===l.startNodeType&&y.push(P.id)}),c.edges.forEach(function(P){var A=h.get(P.sourceNodeId);A.nextNodes.push(P.targetNodeId)});var b=[];return y.forEach(function(P){b=b.concat(l.findPathElements(h.get(P),h,[]))}),this.getNewPathes(b)},p.prototype.findPathElements=function(l,c,h){h===void 0&&(h=[]);var y=go(h);if(y.push(l.id),l.nextNodes.length===0)return[y];for(var b=[],P=0;P<l.nextNodes.length;P++){var A=c.get(l.nextNodes[P]),F=void 0,J=y.indexOf(A.id);J!==-1?F=[go(y.slice(J),[A.id])]:F=this.findPathElements(A,c,go(y)),b=b.concat(F)}return b},p.prototype.getNewPathes=function(l){var c=this,h=[],y=new Set;l.forEach(function(P){var A=c.getNewId("path"),F=c.getNewId("\u8DEF\u5F84"),J=c.isLoopPath(P),Y=P.join(",");y.has(Y)||(y.add(Y),h.push({routeId:A,name:F,elements:P,type:J,weight:0,similarElement:""}))});var b=JSON.parse(JSON.stringify(this.pathes));return h.forEach(function(P){for(var A=0;A<b.length;A++){var F=b[A],J=c.similar2Path(go(P.elements),go(F.elements));J>P.weight&&F.weight<=J&&(P.weight=J,P.similarElement=F,J===F.weight&&F.similarElement?(F.similarElement.similarElement=null,F.similarElement.weight=0,F.similarElement=null,F.weight=0):(F.similarElement=P,F.weight=J))}}),h.forEach(function(P){P.similarElement&&P.similarElement.similarElement===P&&(P.routeId=P.similarElement.routeId,P.name=P.similarElement.name),delete P.similarElement,delete P.weight}),this.setPathes(h),h},p.prototype.similar2Path=function(l,c){var h=0,y=l.length+c.length;l.sort(),c.sort();for(var b=l.shift(),P=c.shift();b!==void 0&&P!==void 0;)b===P?(h++,b=l.shift(),P=c.shift()):b<P?b=l.shift():b>P&&(P=c.shift());return h/y*200},p.prototype.getNewId=function(l){return l+"_"+N()},p.prototype.isLoopPath=function(l){var c=l.length;return l.indexOf(l[c-1])!==c-1?1:0},p.pluginName="flowPath",p}(),Ur=function(){return Ur=Object.assign||function(p){for(var l,c=1,h=arguments.length;c<h;c++){l=arguments[c];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(p[y]=l[y])}return p},Ur.apply(this,arguments)},Yr={LEFT_TOP:-1,LEFT:0,LEFT_BOTTOM:1},uu=function(){function p(l){var c=this,h=l.lf;this.lf=h,this.trunk=[],h.layout=function(y){var b=c.lf.getGraphRawData();c.lf.setStartNodeType(y);var P=c.lf.getPathes();return c.levelHeight=[],c.newNodeMap=new Map,c.layout(b,P)}}return p.prototype.layout=function(l,c){var h=this,y=[];c.forEach(function(F){var J=F.elements;J.length>y.length?y=J:J.length===y.length&&JSON.stringify(J)===JSON.stringify(h.trunk)&&(y=h.trunk)}),this.trunk=y;for(var b=this.formatData(l),P={nodes:[],edges:[]},A=y.length-1;A>=0;A--)this.setNodePosition(y[A],b,P,A,1);this.lf.graphModel.graphDataToModel(P)},p.prototype.setNodePosition=function(l,c,h,y,b){var P=this,A=c[l],F=A.text,J=A.type,Y=A.next,Ee=A.properties,Se=y*160+40,Me=b*120,Ie={id:l,x:Se,text:F,y:Me,type:J,properties:Ee};return F&&typeof F=="object"&&(Ie.text=Ur(Ur({},F),{x:Se+F.x,y:Me+F.y})),this.newNodeMap.set(Ie.id,{x:Ie.x,y:Ie.y,type:J}),h.nodes.push(Ie),A.isFixed=!0,this.addLevelHeight(y,1),Y&&Y.length>0&&Y.forEach(function(ct){var lt=c[ct.nodeId];if(!lt.isFixed){var dt=P.getLevelHeight(y+1);P.addLevelHeight(y,1),P.setNodePosition(ct.nodeId,c,h,y+1,dt+1)}h.edges.push(Ur({id:ct.edgeId,type:ct.edgeType,sourceNodeId:l,targetNodeId:ct.nodeId,properties:ct.properties,text:ct.text},P.getEdgeDataPoints(l,ct.nodeId)))}),Ie},p.prototype.getEdgeDataPoints=function(l,c){var h=this.newNodeMap.get(l),y=this.newNodeMap.get(c),b=this.getShape(l),P=b.width,A=b.height,F=this.getShape(c),J=F.width,Y=F.height,Ee=this.getRelativePosition(h,y),Se={x:h.x,y:h.y},Me={x:y.x,y:y.y};switch(Ee){case Yr.LEFT:Se.x=h.x+P/2,Me.x=y.x-J/2;break;case Yr.LEFT_TOP:Se.y=h.y+A/2,Me.x=y.x-J/2;break;case Yr.LEFT_BOTTOM:Se.x=h.x+P/2,Me.y=y.y+Y/2;break;default:break}return{startPoint:Se,endPoint:Me}},p.prototype.getRelativePosition=function(l,c){var h=l.y,y=c.y,b;return h<y?b=-1:h===y?b=0:b=1,b},p.prototype.getShape=function(l){var c=this.lf.getNodeModelById(l);return{height:c.height,width:c.width}},p.prototype.formatData=function(l){var c=l.nodes.reduce(function(h,y){var b=y.type,P=y.properties,A=y.text,F=y.x,J=y.y;return A&&typeof A=="object"&&(A.x=A.x-F,A.y=A.y-J),h[y.id]={type:b,properties:P,text:A,prev:[],next:[]},h},{});return l.edges.forEach(function(h){var y=h.sourceNodeId,b=h.targetNodeId,P=h.id,A=h.properties,F=h.text,J=F;typeof F=="object"&&(J=F.value),c[y].next.push({edgeId:P,nodeId:b,edgeType:h.type,properties:A,text:J}),c[b].prev.push({edgeId:P,nodeId:y,properties:A,text:J})}),c},p.prototype.addLevelHeight=function(l,c,h){c===void 0&&(c=1),h===void 0&&(h=!1);var y=this.levelHeight[l];y||(y={positiveHeight:0,negativeHeight:0},this.levelHeight[l]=y),h?y.negativeHeight-=c:y.positiveHeight+=c},p.prototype.getLevelHeight=function(l,c){c===void 0&&(c=!1);var h=this.levelHeight[l];return h?c?h.negativeHeight:h.positiveHeight:0},p.pluginName="AutoLayout",p}()},63543:function(cn,St,E){"use strict";E.d(St,{Z:function(){return _}});var j=E(94663);function s(d,S){for(;!Object.prototype.hasOwnProperty.call(d,S)&&(d=(0,j.Z)(d),d!==null););return d}function _(d,S,w){return typeof Reflect!="undefined"&&Reflect.get?_=Reflect.get:_=function(D,C,L){var B=s(D,C);if(!!B){var W=Object.getOwnPropertyDescriptor(B,C);return W.get?W.get.call(L):W.value}},_(d,S,w||d)}},34621:function(){},13277:function(){},19650:function(cn,St,E){"use strict";E.d(St,{u:function(){return W},Z:function(){return ue}});var j=E(22122),s=E(96156),_=E(28481),d=E(67294),S=E(94184),w=E.n(S),N=E(50344),D=E(65632);function C(ne){var fe=ne.className,$=ne.direction,ee=ne.index,de=ne.marginDirection,U=ne.children,he=ne.split,z=ne.wrap,G=d.useContext(W),H=G.horizontalSize,te=G.verticalSize,me=G.latestIndex,Pe=G.supportFlexGap,X={};return Pe||($==="vertical"?ee<me&&(X={marginBottom:H/(he?2:1)}):X=(0,j.Z)((0,j.Z)({},ee<me&&(0,s.Z)({},de,H/(he?2:1))),z&&{paddingBottom:te})),U==null?null:d.createElement(d.Fragment,null,d.createElement("div",{className:fe,style:X},U),ee<me&&he&&d.createElement("span",{className:"".concat(fe,"-split"),style:X},he))}var L=E(98082),B=function(ne,fe){var $={};for(var ee in ne)Object.prototype.hasOwnProperty.call(ne,ee)&&fe.indexOf(ee)<0&&($[ee]=ne[ee]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function")for(var de=0,ee=Object.getOwnPropertySymbols(ne);de<ee.length;de++)fe.indexOf(ee[de])<0&&Object.prototype.propertyIsEnumerable.call(ne,ee[de])&&($[ee[de]]=ne[ee[de]]);return $},W=d.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),V={small:8,middle:16,large:24};function re(ne){return typeof ne=="string"?V[ne]:ne||0}var ae=function(fe){var $,ee=d.useContext(D.E_),de=ee.getPrefixCls,U=ee.space,he=ee.direction,z=fe.size,G=z===void 0?(U==null?void 0:U.size)||"small":z,H=fe.align,te=fe.className,me=fe.children,Pe=fe.direction,X=Pe===void 0?"horizontal":Pe,oe=fe.prefixCls,Q=fe.split,ce=fe.style,xe=fe.wrap,Te=xe===void 0?!1:xe,Be=B(fe,["size","align","className","children","direction","prefixCls","split","style","wrap"]),Ve=(0,L.Z)(),nt=d.useMemo(function(){return(Array.isArray(G)?G:[G,G]).map(function(Ae){return re(Ae)})},[G]),Xe=(0,_.Z)(nt,2),Qe=Xe[0],gt=Xe[1],se=(0,N.Z)(me,{keepEmpty:!0}),le=H===void 0&&X==="horizontal"?"center":H,be=de("space",oe),De=w()(be,"".concat(be,"-").concat(X),($={},(0,s.Z)($,"".concat(be,"-rtl"),he==="rtl"),(0,s.Z)($,"".concat(be,"-align-").concat(le),le),$),te),Ge="".concat(be,"-item"),Ce=he==="rtl"?"marginLeft":"marginRight",at=0,rt=se.map(function(Ae,ie){Ae!=null&&(at=ie);var Je=Ae&&Ae.key,tt="".concat(ie,"-space-item");return d.createElement(C,{className:Ge,key:"".concat(Ge,"-").concat(Je||tt),direction:X,index:ie,marginDirection:Ce,split:Q,wrap:Te},Ae)}),vt=d.useMemo(function(){return{horizontalSize:Qe,verticalSize:gt,latestIndex:at,supportFlexGap:Ve}},[Qe,gt,at,Ve]);if(se.length===0)return null;var it={};return Te&&(it.flexWrap="wrap",Ve||(it.marginBottom=-gt)),Ve&&(it.columnGap=Qe,it.rowGap=gt),d.createElement("div",(0,j.Z)({className:De,style:(0,j.Z)((0,j.Z)({},it),ce)},Be),d.createElement(W.Provider,{value:vt},rt))},ue=ae},49111:function(cn,St,E){"use strict";var j=E(38663),s=E.n(j),_=E(34621),d=E.n(_)},60331:function(cn,St,E){"use strict";E.d(St,{Z:function(){return ee}});var j=E(96156),s=E(22122),_=E(28481),d=E(67294),S=E(94184),w=E.n(S),N=E(98423),D=E(54549),C=E(65632),L=function(de,U){var he={};for(var z in de)Object.prototype.hasOwnProperty.call(de,z)&&U.indexOf(z)<0&&(he[z]=de[z]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,z=Object.getOwnPropertySymbols(de);G<z.length;G++)U.indexOf(z[G])<0&&Object.prototype.propertyIsEnumerable.call(de,z[G])&&(he[z[G]]=de[z[G]]);return he},B=function(U){var he,z=U.prefixCls,G=U.className,H=U.checked,te=U.onChange,me=U.onClick,Pe=L(U,["prefixCls","className","checked","onChange","onClick"]),X=d.useContext(C.E_),oe=X.getPrefixCls,Q=function(Be){te==null||te(!H),me==null||me(Be)},ce=oe("tag",z),xe=w()(ce,(he={},(0,j.Z)(he,"".concat(ce,"-checkable"),!0),(0,j.Z)(he,"".concat(ce,"-checkable-checked"),H),he),G);return d.createElement("span",(0,s.Z)({},Pe,{className:xe,onClick:Q}))},W=B,V=E(98787),re=E(21790),ae=function(de,U){var he={};for(var z in de)Object.prototype.hasOwnProperty.call(de,z)&&U.indexOf(z)<0&&(he[z]=de[z]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,z=Object.getOwnPropertySymbols(de);G<z.length;G++)U.indexOf(z[G])<0&&Object.prototype.propertyIsEnumerable.call(de,z[G])&&(he[z[G]]=de[z[G]]);return he},ue=new RegExp("^(".concat(V.Y.join("|"),")(-inverse)?$")),ne=new RegExp("^(".concat(V.E.join("|"),")$")),fe=function(U,he){var z,G=U.prefixCls,H=U.className,te=U.style,me=U.children,Pe=U.icon,X=U.color,oe=U.onClose,Q=U.closeIcon,ce=U.closable,xe=ce===void 0?!1:ce,Te=ae(U,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Be=d.useContext(C.E_),Ve=Be.getPrefixCls,nt=Be.direction,Xe=d.useState(!0),Qe=(0,_.Z)(Xe,2),gt=Qe[0],se=Qe[1];d.useEffect(function(){"visible"in Te&&se(Te.visible)},[Te.visible]);var le=function(){return X?ue.test(X)||ne.test(X):!1},be=(0,s.Z)({backgroundColor:X&&!le()?X:void 0},te),De=le(),Ge=Ve("tag",G),Ce=w()(Ge,(z={},(0,j.Z)(z,"".concat(Ge,"-").concat(X),De),(0,j.Z)(z,"".concat(Ge,"-has-color"),X&&!De),(0,j.Z)(z,"".concat(Ge,"-hidden"),!gt),(0,j.Z)(z,"".concat(Ge,"-rtl"),nt==="rtl"),z),H),at=function($e){$e.stopPropagation(),oe==null||oe($e),!$e.defaultPrevented&&("visible"in Te||se(!1))},rt=function(){return xe?Q?d.createElement("span",{className:"".concat(Ge,"-close-icon"),onClick:at},Q):d.createElement(D.Z,{className:"".concat(Ge,"-close-icon"),onClick:at}):null},vt="onClick"in Te||me&&me.type==="a",it=(0,N.Z)(Te,["visible"]),Ae=Pe||null,ie=Ae?d.createElement(d.Fragment,null,Ae,d.createElement("span",null,me)):me,Je=d.createElement("span",(0,s.Z)({},it,{ref:he,className:Ce,style:be}),ie,rt());return vt?d.createElement(re.Z,null,Je):Je},$=d.forwardRef(fe);$.displayName="Tag",$.CheckableTag=W;var ee=$},71153:function(cn,St,E){"use strict";var j=E(38663),s=E.n(j),_=E(13277),d=E.n(_)},29589:function(cn,St,E){(function(j){j(E(4631))})(function(j){"use strict";var s={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},_={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};j.defineMode("xml",function(d,S){var w=d.indentUnit,N={},D=S.htmlMode?s:_;for(var C in D)N[C]=D[C];for(var C in S)N[C]=S[C];var L,B;function W(X,oe){function Q(Te){return oe.tokenize=Te,Te(X,oe)}var ce=X.next();if(ce=="<")return X.eat("!")?X.eat("[")?X.match("CDATA[")?Q(ae("atom","]]>")):null:X.match("--")?Q(ae("comment","-->")):X.match("DOCTYPE",!0,!0)?(X.eatWhile(/[\w\._\-]/),Q(ue(1))):null:X.eat("?")?(X.eatWhile(/[\w\._\-]/),oe.tokenize=ae("meta","?>"),"meta"):(L=X.eat("/")?"closeTag":"openTag",oe.tokenize=V,"tag bracket");if(ce=="&"){var xe;return X.eat("#")?X.eat("x")?xe=X.eatWhile(/[a-fA-F\d]/)&&X.eat(";"):xe=X.eatWhile(/[\d]/)&&X.eat(";"):xe=X.eatWhile(/[\w\.\-:]/)&&X.eat(";"),xe?"atom":"error"}else return X.eatWhile(/[^&<]/),null}W.isInText=!0;function V(X,oe){var Q=X.next();if(Q==">"||Q=="/"&&X.eat(">"))return oe.tokenize=W,L=Q==">"?"endTag":"selfcloseTag","tag bracket";if(Q=="=")return L="equals",null;if(Q=="<"){oe.tokenize=W,oe.state=de,oe.tagName=oe.tagStart=null;var ce=oe.tokenize(X,oe);return ce?ce+" tag error":"tag error"}else return/[\'\"]/.test(Q)?(oe.tokenize=re(Q),oe.stringStartCol=X.column(),oe.tokenize(X,oe)):(X.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function re(X){var oe=function(Q,ce){for(;!Q.eol();)if(Q.next()==X){ce.tokenize=V;break}return"string"};return oe.isInAttribute=!0,oe}function ae(X,oe){return function(Q,ce){for(;!Q.eol();){if(Q.match(oe)){ce.tokenize=W;break}Q.next()}return X}}function ue(X){return function(oe,Q){for(var ce;(ce=oe.next())!=null;){if(ce=="<")return Q.tokenize=ue(X+1),Q.tokenize(oe,Q);if(ce==">")if(X==1){Q.tokenize=W;break}else return Q.tokenize=ue(X-1),Q.tokenize(oe,Q)}return"meta"}}function ne(X){return X&&X.toLowerCase()}function fe(X,oe,Q){this.prev=X.context,this.tagName=oe||"",this.indent=X.indented,this.startOfLine=Q,(N.doNotIndent.hasOwnProperty(oe)||X.context&&X.context.noIndent)&&(this.noIndent=!0)}function $(X){X.context&&(X.context=X.context.prev)}function ee(X,oe){for(var Q;;){if(!X.context||(Q=X.context.tagName,!N.contextGrabbers.hasOwnProperty(ne(Q))||!N.contextGrabbers[ne(Q)].hasOwnProperty(ne(oe))))return;$(X)}}function de(X,oe,Q){return X=="openTag"?(Q.tagStart=oe.column(),U):X=="closeTag"?he:de}function U(X,oe,Q){return X=="word"?(Q.tagName=oe.current(),B="tag",H):N.allowMissingTagName&&X=="endTag"?(B="tag bracket",H(X,oe,Q)):(B="error",U)}function he(X,oe,Q){if(X=="word"){var ce=oe.current();return Q.context&&Q.context.tagName!=ce&&N.implicitlyClosed.hasOwnProperty(ne(Q.context.tagName))&&$(Q),Q.context&&Q.context.tagName==ce||N.matchClosing===!1?(B="tag",z):(B="tag error",G)}else return N.allowMissingTagName&&X=="endTag"?(B="tag bracket",z(X,oe,Q)):(B="error",G)}function z(X,oe,Q){return X!="endTag"?(B="error",z):($(Q),de)}function G(X,oe,Q){return B="error",z(X,oe,Q)}function H(X,oe,Q){if(X=="word")return B="attribute",te;if(X=="endTag"||X=="selfcloseTag"){var ce=Q.tagName,xe=Q.tagStart;return Q.tagName=Q.tagStart=null,X=="selfcloseTag"||N.autoSelfClosers.hasOwnProperty(ne(ce))?ee(Q,ce):(ee(Q,ce),Q.context=new fe(Q,ce,xe==Q.indented)),de}return B="error",H}function te(X,oe,Q){return X=="equals"?me:(N.allowMissing||(B="error"),H(X,oe,Q))}function me(X,oe,Q){return X=="string"?Pe:X=="word"&&N.allowUnquoted?(B="string",H):(B="error",H(X,oe,Q))}function Pe(X,oe,Q){return X=="string"?Pe:H(X,oe,Q)}return{startState:function(X){var oe={tokenize:W,state:de,indented:X||0,tagName:null,tagStart:null,context:null};return X!=null&&(oe.baseIndent=X),oe},token:function(X,oe){if(!oe.tagName&&X.sol()&&(oe.indented=X.indentation()),X.eatSpace())return null;L=null;var Q=oe.tokenize(X,oe);return(Q||L)&&Q!="comment"&&(B=null,oe.state=oe.state(L||Q,X,oe),B&&(Q=B=="error"?Q+" error":B)),Q},indent:function(X,oe,Q){var ce=X.context;if(X.tokenize.isInAttribute)return X.tagStart==X.indented?X.stringStartCol+1:X.indented+w;if(ce&&ce.noIndent)return j.Pass;if(X.tokenize!=V&&X.tokenize!=W)return Q?Q.match(/^(\s*)/)[0].length:0;if(X.tagName)return N.multilineTagIndentPastTag!==!1?X.tagStart+X.tagName.length+2:X.tagStart+w*(N.multilineTagIndentFactor||1);if(N.alignCDATA&&/<!\[CDATA\[/.test(oe))return 0;var xe=oe&&/^<(\/)?([\w_:\.-]*)/.exec(oe);if(xe&&xe[1])for(;ce;)if(ce.tagName==xe[2]){ce=ce.prev;break}else if(N.implicitlyClosed.hasOwnProperty(ne(ce.tagName)))ce=ce.prev;else break;else if(xe)for(;ce;){var Te=N.contextGrabbers[ne(ce.tagName)];if(Te&&Te.hasOwnProperty(ne(xe[2])))ce=ce.prev;else break}for(;ce&&ce.prev&&!ce.startOfLine;)ce=ce.prev;return ce?ce.indent+w:X.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:N.htmlMode?"html":"xml",helperType:N.htmlMode?"html":"xml",skipAttribute:function(X){X.state==me&&(X.state=H)},xmlCurrentTag:function(X){return X.tagName?{name:X.tagName,close:X.type=="closeTag"}:null},xmlCurrentContext:function(X){for(var oe=[],Q=X.context;Q;Q=Q.prev)oe.push(Q.tagName);return oe.reverse()}}}),j.defineMIME("text/xml","xml"),j.defineMIME("application/xml","xml"),j.mimeModes.hasOwnProperty("text/html")||j.defineMIME("text/html",{name:"xml",htmlMode:!0})})}}]);
