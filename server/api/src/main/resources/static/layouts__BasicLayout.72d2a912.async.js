(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1034],{29791:function(f,p,n){"use strict";var E=n(24557),y=n(78874),N=n(11013),C=n(97544),v=n(85893);p.Z=function(){return(0,v.jsx)(C.Z,{copyright:!1,links:[{key:"Survey King",title:(0,v.jsx)(E.Z,{}),href:"https://surveyking.cn",blankTarget:!0},{key:"github",title:(0,v.jsx)(y.Z,{}),href:"https://github.com/javahuang/SurveyKing",blankTarget:!0},{key:"gitee",title:(0,v.jsx)(N.Z,{}),href:"https://gitee.com/surveyking/surveyking",blankTarget:!0}]})}},32957:function(f,p,n){"use strict";n.r(p),n.d(p,{default:function(){return Cn}});var E=n(86582),y=n(11849),N=n(57527),C=n(67294),v=n(42285),B=n(73727),Rn=n(49111),U=n(19650),$=n(1870),pn=n(94233),z=n(51890),Dn=n(30887),D=n(54689),En=n(20228),F=n(11382),G=n(3182),Y=n(94043),H=n.n(Y),J=n(24616),Q=n(55035),X=n(17673),Nn=n(59250),b=n(13013),K=n(93224),k=n(94184),S=n.n(k),w=n(2589),q=n.n(w),a=n(85893),_=function(t){var u=t.overlayClassName,r=(0,K.Z)(t,["overlayClassName"]);return(0,a.jsx)(b.Z,(0,y.Z)({overlayClassName:S()(q().container,u)},r))},nn=_,an=n(26222),s=n.n(an),L=n(77613),V=n(27400),tn=function(){var j=(0,G.Z)(H().mark(function t(){var u,r,c,d,m;return H().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:u=v.m8.location,r=u.query,c=r===void 0?{}:r,d=u.pathname,m=c.redirect,window.location.pathname!=="/user/login"&&!m&&v.m8.replace({pathname:"/user/login",search:(0,X.stringify)({redirect:d})});case 3:case"end":return h.stop()}},t)}));return function(){return j.apply(this,arguments)}}(),en=function(t){var u=t.menu,r=(0,V.a)(),c=r.user,d=(0,C.useCallback)(function(h){var g=h.key;if(g==="logout"){r.logout(),tn();return}v.m8.push("/account/".concat(g))},[r]),m=(0,a.jsx)("span",{className:"".concat(s().action," ").concat(s().account),children:(0,a.jsx)(F.Z,{size:"small",style:{marginLeft:8,marginRight:8}})});if(r.loading||!c||!c.name)return m;var o=(0,a.jsxs)(D.Z,{className:s().menu,selectedKeys:[],onClick:d,children:[u&&(0,a.jsxs)(D.Z.Item,{children:[(0,a.jsx)(J.Z,{}),"\u4E2A\u4EBA\u8BBE\u7F6E"]},"settings"),u&&(0,a.jsx)(D.Z.Divider,{}),(0,a.jsxs)(D.Z.Item,{children:[(0,a.jsx)(Q.Z,{}),"\u9000\u51FA\u767B\u5F55"]},"logout")]});return(0,a.jsx)(nn,{overlay:o,children:(0,a.jsxs)("span",{className:"".concat(s().action," ").concat(s().account),children:[(0,a.jsx)(z.C,{size:"small",className:s().avatar,src:"/api/public/preview/".concat(c.avatar)||0,alt:"avatar"}),(0,a.jsx)("span",{className:"".concat(s().name," anticon"),children:c.name})]})})},rn=(0,L.P)(en),Sn=n(65011),on=n(49288),Mn=n(47673),sn=n(4107),ln=n(32059),I=n(2824),un=n(76570),T=n(21770),cn=n(10292),M=n.n(cn),dn=function(t){var u=t.className,r=t.defaultValue,c=t.onVisibleChange,d=t.placeholder,m=t.visible,o=t.defaultVisible,h=(0,K.Z)(t,["className","defaultValue","onVisibleChange","placeholder","visible","defaultVisible"]),g=(0,C.useRef)(null),O=(0,T.Z)(r,{value:t.value,onChange:t.onChange}),i=(0,I.Z)(O,2),e=i[0],l=i[1],x=(0,T.Z)(o!=null?o:!1,{value:t.visible,onChange:c}),Z=(0,I.Z)(x,2),R=Z[0],W=Z[1],jn=S()(M().input,(0,ln.Z)({},M().show,R));return(0,a.jsxs)("div",{className:S()(u,M().headerSearch),onClick:function(){W(!0),R&&g.current&&g.current.focus()},onTransitionEnd:function(P){var Zn=P.propertyName;Zn==="width"&&!R&&c&&c(R)},children:[(0,a.jsx)(un.Z,{style:{cursor:"pointer"}},"Icon"),(0,a.jsx)(on.Z,{className:jn,value:e,options:h.options,onChange:l,children:(0,a.jsx)(sn.Z,{size:"small",ref:g,defaultValue:r,"aria-label":d,placeholder:d,onKeyDown:function(P){P.key==="Enter"&&h.onSearch&&h.onSearch(e)},onBlur:function(){W(!1)}})},"AutoComplete")]})},vn=dn,hn=function(){var t=s().right;return t="".concat(s().right,"  ").concat(s().dark),(0,a.jsxs)(U.Z,{className:t,children:[(0,a.jsx)(vn,{className:"".concat(s().action," ").concat(s().search),placeholder:"\u7AD9\u5185\u641C\u7D22",options:[{label:(0,a.jsx)("a",{href:"https://surveyking.cn",children:"Survey King"}),value:"Survey King"}]}),(0,a.jsx)("span",{className:s().action,onClick:function(){window.open("https://surveyking.cn")},children:(0,a.jsx)($.Z,{})}),(0,a.jsx)(rn,{menu:!0}),(0,a.jsx)(v.pD,{className:s().action})]})},mn=hn,fn=n(29791),gn=n(5481),yn=n.n(gn),xn=function(t){var u=t.children,r=t.location,c=r===void 0?{pathname:"/"}:r,d=(0,V.a)(),m=d.user,o=d.system,h=(0,v.YB)(),g=h.formatMessage;(0,C.useEffect)(function(){d.currentUser()},[d]),(0,C.useEffect)(function(){var i=document.querySelector("link[rel~='icon']");i&&(i.href="/api/public/".concat(o.avatar)),document.title=o.name||"\u5377\u738B";var e=document.getElementById("loading-img");e&&(e.src="/api/public/preview/".concat(o.avatar));var l=document.getElementById("loading-name");l&&(l.textContent=document.title)},[o]);var O=function i(e){return e.filter(function(l){var x;return m==null||(x=m.authorityList)===null||x===void 0?void 0:x.find(function(Z){return Z.startsWith(l.authority)})}).map(function(l){return(0,y.Z)((0,y.Z)({},l),{},{children:l.children?i(l.children):void 0})})};return(0,a.jsx)(N.ZP,(0,y.Z)((0,y.Z)({title:o==null?void 0:o.name,logo:(0,a.jsx)("img",{src:o.avatar?"/api/public/preview/".concat(o.avatar):yn()}),formatMessage:g},t),{},{onMenuHeaderClick:function(){return v.m8.push("/")},menuItemRender:function(e,l){return e.isUrl||!e.path||c.pathname===e.path?l:(0,a.jsx)(B.rU,{to:e.path,children:l})},breadcrumbRender:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return[{path:"/",breadcrumbName:g({id:"menu.home"})}].concat((0,E.Z)(e))},itemRender:function(e,l,x,Z){var R=x.indexOf(e)===0;return R?(0,a.jsx)(B.rU,{to:Z.join("/"),children:e.breadcrumbName}):(0,a.jsx)("span",{children:e.breadcrumbName})},footerRender:function(){return(0,a.jsx)(fn.Z,{})},menuDataRender:O,rightContentRender:function(){return(0,a.jsx)(mn,{})},onPageChange:function(){},children:u}))},Cn=(0,L.P)(xn)},5481:function(f,p,n){f.exports=n.p+"static/logo.de1a765f.svg"},2589:function(f){f.exports={container:"container___1Rq3A"}},10292:function(f){f.exports={headerSearch:"headerSearch___RN1il",input:"input___3Vzpl",show:"show___VZRKu"}},26222:function(f){f.exports={menu:"menu___1L63y",right:"right___3L8KG",action:"action___LP4_P",search:"search___2W0sJ",account:"account___6HXOq",avatar:"avatar___2cOWV",dark:"dark___1NwCY",name:"name___WfKAK"}}}]);
