(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4628],{70347:function(){},89239:function(G,j,e){"use strict";e.d(j,{xi:function(){return x},fQ:function(){return r},h8:function(){return P},IR:function(){return W},gh:function(){return S},ZZ:function(){return Z}});var E=e(67294),x=(0,E.createContext)({}),r=x.Provider,O=e(86582),b=e(98210),C=e(69646);function Z(o){var c,l=[];return o==null||(c=o.children)===null||c===void 0||c.filter(function(i){return!(0,b.nj)(i.type)}).map(function(i){i.type==="QuestionSet"?l.push.apply(l,(0,O.Z)(Z(i))):l.push({name:i.id,title:(0,C.WO)(i.title),schema:i,type:i.type==="Upload"||i.type==="Signature"?"image":"string"})}),l.length===0?l.push({name:"\u6682\u65E0\u6570\u636E!"}):(l.push({name:"totalTime",title:"\u7B54\u5377\u65F6\u957F"}),l.push({name:"deviceType",title:"\u8BBE\u5907\u7C7B\u578B"}),l.push({name:"platform",title:"\u5E73\u53F0\u7C7B\u578B"})),l}function P(o){var c={};return o&&(o.id&&(c[o.id]=(0,C.WO)(o.title)),o.children&&o.children.forEach(function(l){return Object.assign(c,P(l))})),c}function W(o,c){return o.map(function(l){var i={};return c.forEach(function(f){if(f.name==="totalTime"){i.totalTime=S(l.metaInfo.answerInfo.endTime-l.metaInfo.answerInfo.startTime);return}else if(f.name==="deviceType"){i.deviceType=l.metaInfo.clientInfo.deviceType;return}else if(f.name==="platform"){i.platform=l.metaInfo.clientInfo.platform;return}var v=f.schema||{},n=v.type,t=v.id,s=l.answer[t];if(!!s){var a=[];n==="Cascader"?a=R(s,v):n==="MatrixAuto"?a=z(s,v):n.startsWith("Matrix")?a=Q(s,v):n==="Upload"||n==="Signature"?a=F(s,v,l.attachment):a=p(s,v),n==="Upload"||n==="Signature"?i[t]=a:i[t]=a.join(",")}}),i.id=l.id,i})}function p(o,c){var l,i=[];return(l=c.children)===null||l===void 0||l.forEach(function(f){var v=o[f.id];v===!0?i.push((0,C.WO)(f.title)):v&&i.push(v)}),i}function F(o,c,l){var i,f=[];return(i=c.children)===null||i===void 0||i.forEach(function(v){var n=o[v.id];f=l.filter(function(t){return n.includes(t.id)})}),f}function R(o,c){var l,i=[],f=c==null?void 0:c.dataSource;return f&&((l=c.children)===null||l===void 0||l.forEach(function(v){if(o.hasOwnProperty(v.id)){var n,t=(n=f)===null||n===void 0?void 0:n.find(function(s){return s.value===o[v.id]});t?(f=t.children,i.push(t.label)):i.push("")}})),i}function Q(o,c){var l,i=[];return(l=c.row)===null||l===void 0||l.forEach(function(f){var v=f.id,n=(0,C.WO)(f.title);i.push("".concat(n,":(").concat(p(o[v],c),")"))}),i}function z(o,c){var l=[];return o.forEach(function(i){l.push("(".concat(p(i,c),")"))}),l}function S(o){var c=Math.floor(o/(36e5*24)),l=Math.floor(o/36e5%24),i=Math.floor(o/6e4%60),f=Math.floor(o/1e3%60),v="";return c>0&&(v+=c+"\u5929"),l>0&&(v+=l+"\u5C0F\u65F6"),i>0&&(v+=i+"\u5206\u949F"),f>0&&(v+=f+"\u79D2"),v}},32322:function(G,j,e){"use strict";e.d(j,{g:function(){return I}});var E=e(77576),x=e(12028),r=e(34792),O=e(48086),b=e(13062),C=e(71230),Z=e(89032),P=e(15746),W=e(58024),p=e(39144),F=e(22385),R=e(69713),Q=e(57663),z=e(71577),S=e(2824),o=e(47673),c=e(4107),l=e(68628),i=e(77613),f=e(89239),v=e(67294),n=e(43711),t=e(85893),s=c.Z.Search,a=function(u){return[{title:"\u95EE\u5377\u603B\u6570",desc:(0,t.jsx)("span",{children:"\u95EE\u5377\u521B\u5EFA\u4E4B\u540E\u586B\u5199\u7684\u95EE\u5377\u6570\u91CF\u603B\u548C"}),total:(u==null?void 0:u.total)||0},{title:"\u4ECA\u65E5\u65B0\u589E",desc:(0,t.jsx)("span",{children:"\u8BE5\u6570\u636E\u6307\u7684\u662F\u4ECA\u65E5\u5185\uFF0C\u6240\u6709\u8BBF\u5BA2\u5728\u8BE5\u95EE\u5377\u5185\u63D0\u4EA4\u6570\u636E\u7684\u603B\u548C"}),total:(u==null?void 0:u.totalOfToday)||0},{title:"\u5E73\u5747\u586B\u5199\u65F6\u957F",desc:(0,t.jsx)("span",{children:"\u5E73\u5747\u586B\u5199\u65F6\u957F=\u5355\u6761\u6570\u636E\u586B\u5199\u65F6\u957F\u603B\u548C/\u6570\u636E\u6761\u6570"}),total:(0,f.gh)((u==null?void 0:u.averageDuration)||0)},{title:"\u6700\u8FD1\u66F4\u65B0\u65F6\u95F4",desc:(0,t.jsx)("span",{children:"\u6700\u8FD1\u4E00\u6B21\u95EE\u5377\u586B\u5199\u65F6\u95F4"}),total:u!=null&&u.lastUpdate?"".concat((0,f.gh)(new Date().getTime()-(u.lastUpdate||0)),"\u524D"):"\u672A\u5F00\u59CB"}]},d=(0,i.P)(function(){var m=(0,n.o)(),u=m.loading,M=(0,v.useState)(a(m.project)),y=(0,S.Z)(M,2),T=y[0],B=y[1];return(0,v.useEffect)(function(){var g=window.setInterval(function(){B(a(m.project))},1e3);return function(){return clearInterval(g)}},[]),(0,t.jsx)(C.Z,{gutter:[20,20],className:"data-info",children:T.map(function(g){return(0,t.jsx)(P.Z,{sm:6,xs:24,children:(0,t.jsxs)(p.Z,{loading:u,children:[(0,t.jsx)("div",{className:"title",children:(0,t.jsx)(z.Z,{type:"link",className:"total",children:g.total})}),(0,t.jsxs)("div",{className:"desc",children:[g.title,(0,t.jsx)(R.Z,{overlay:g.desc,placement:"bottom",children:(0,t.jsx)(l.Z,{className:"desc-info"})})]})]})},g.title)})})});function L(m){return"".concat(window.location.origin,"/s/").concat(m)}var I=(0,i.P)(function(){var m,u,M,y=(0,n.o)(),T=y.loading;return(0,t.jsxs)("div",{className:"survey-overview",children:[(0,t.jsx)("div",{className:"survey-title",children:y.name}),(0,t.jsx)(d,{}),(0,t.jsx)(C.Z,{gutter:[20,20],style:{marginTop:20},children:(0,t.jsx)(P.Z,{sm:12,xs:24,children:(0,t.jsx)(p.Z,{loading:T,children:(0,t.jsxs)(C.Z,{gutter:[10,10],children:[(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s,{value:L(y.shortId),enterButton:"\u6253\u5F00",className:"open-target",onSearch:function(g){window.open("/s/".concat(y.shortId))}})}),(0,t.jsxs)(P.Z,{className:"setting-item",span:24,children:[(0,t.jsx)("div",{className:"title",children:"\u95EE\u5377\u5F00\u542F/\u505C\u6B62"}),(0,t.jsx)("div",{children:(0,t.jsx)(x.Z,{defaultChecked:((m=y.project)===null||m===void 0?void 0:m.status)===1,onChange:function(g){y.saveOrUpdateProject({status:g?1:0}).then(function(N){N.code===200?g?O.default.info("\u95EE\u5377\u5DF2\u5F00\u542F"):O.default.warn("\u95EE\u5377\u5DF2\u505C\u6B62"):O.default.error(N.message)})}})})]}),(0,t.jsxs)(P.Z,{className:"setting-item",span:24,children:[(0,t.jsx)("div",{className:"title",children:"\u95EE\u5377\u586B\u5199\u65F6\u81EA\u52A8\u4FDD\u5B58"}),(0,t.jsx)("div",{children:(0,t.jsx)(x.Z,{defaultChecked:(u=y.project)===null||u===void 0||(M=u.setting)===null||M===void 0?void 0:M.answerSetting.autoSave,onChange:function(g){y.updateSetting({answerSetting:{autoSave:g}}).then(function(N){N.code===200?g?O.default.info("\u6682\u5B58\u5DF2\u5F00\u542F"):O.default.warn("\u6682\u5B58\u5DF2\u505C\u6B62"):O.default.error(N.message)})}})})]})]})})})})]})}),A=function(){return _jsxs("svg",{viewBox:"0 0 1024 1024","p-id":"1192",width:"24",height:"24",children:[_jsx("path",{d:"M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z",fill:"#fff","p-id":"1193"}),_jsx("path",{d:"M634.8288 787.712a73.8304 73.8304 0 0 1-64.9216-72.6016 75.9296 75.9296 0 0 1 66.56-88.5248 8.6016 8.6016 0 0 0 0-17.152h-346.7264v-344.4224a74.1376 74.1376 0 0 1 59.8016-60.2112h380.0576a69.6832 69.6832 0 0 1 75.264 73.8304 47.6672 47.6672 0 0 1-15.36 31.0784h-69.5296v417.7408a74.1376 74.1376 0 0 1-59.8016 60.2112z m-46.08 0h-312.7808a79.8208 79.8208 0 0 1-71.3728-79.6672 83.2512 83.2512 0 0 1 70.8608-81.5104h305.7664a117.4016 117.4016 0 0 0-28.5184 89.856 100.4032 100.4032 0 0 0 36.1472 71.2704z m15.616-428.5952h-113.8688c-6.5024 0-11.6224 7.8336-11.6224 17.6128s5.12 17.664 11.6224 17.664h113.8688c6.5024 0 11.6224-7.8336 11.6224-17.664s-5.12-17.6128-11.6224-17.6128z m0 136.192h-113.8688c-6.5024 0-11.6224 7.8336-11.6224 17.664s5.12 17.6128 11.6224 17.6128h113.8688c6.5024 0 11.6224-7.8336 11.6224-17.6128s-5.12-17.664-11.6224-17.664z m-194.0992-153.2928a34.304 34.304 0 1 0 34.304 34.304 34.304 34.304 0 0 0-34.048-34.3552z m0 137.1648a34.304 34.304 0 1 0 34.304 34.304 34.304 34.304 0 0 0-34.048-34.4064z m357.6832-202.3936c0-25.1904-7.7824-36.864-25.0368-36.864s-25.1392 11.5712-25.1392 36.864z",fill:"black","p-id":"1194"})]})},U=function(u){return _jsx(Icon,_objectSpread({component:A},u))}},89247:function(G,j,e){"use strict";e.r(j),e.d(j,{Overview:function(){return P},SurveyContext:function(){return Z.ZX},SurveyDataProvider:function(){return Z.fQ},api:function(){return Z.hi}});var E=e(11849),x=e(51615),r=e(77613),O=e(86493),b=e(32322),C=e(85893),Z=e(78336),P=(0,r.P)(function(W){var p=(0,x.UO)(),F=p.shortId;return F==="new"?(0,C.jsx)(O.default,(0,E.Z)({},W)):(0,C.jsx)(b.g,{})});j.default=P},39144:function(G,j,e){"use strict";e.d(j,{Z:function(){return v}});var E=e(96156),x=e(22122),r=e(67294),O=e(94184),b=e.n(O),C=e(98423),Z=e(65632),P=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(n);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(n,a[d])&&(s[a[d]]=n[a[d]]);return s},W=function(t){var s=t.prefixCls,a=t.className,d=t.hoverable,L=d===void 0?!0:d,I=P(t,["prefixCls","className","hoverable"]);return r.createElement(Z.C,null,function(A){var U=A.getPrefixCls,m=U("card",s),u=b()("".concat(m,"-grid"),a,(0,E.Z)({},"".concat(m,"-grid-hoverable"),L));return r.createElement("div",(0,x.Z)({},I,{className:u}))})},p=W,F=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(n);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(n,a[d])&&(s[a[d]]=n[a[d]]);return s},R=function(t){return r.createElement(Z.C,null,function(s){var a=s.getPrefixCls,d=t.prefixCls,L=t.className,I=t.avatar,A=t.title,U=t.description,m=F(t,["prefixCls","className","avatar","title","description"]),u=a("card",d),M=b()("".concat(u,"-meta"),L),y=I?r.createElement("div",{className:"".concat(u,"-meta-avatar")},I):null,T=A?r.createElement("div",{className:"".concat(u,"-meta-title")},A):null,B=U?r.createElement("div",{className:"".concat(u,"-meta-description")},U):null,g=T||B?r.createElement("div",{className:"".concat(u,"-meta-detail")},T,B):null;return r.createElement("div",(0,x.Z)({},m,{className:M}),y,g)})},Q=R,z=e(51752),S=e(71230),o=e(15746),c=e(97647),l=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(n);d<a.length;d++)t.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(n,a[d])&&(s[a[d]]=n[a[d]]);return s};function i(n){var t=n.map(function(s,a){return r.createElement("li",{style:{width:"".concat(100/n.length,"%")},key:"action-".concat(a)},r.createElement("span",null,s))});return t}var f=function(t){var s,a,d=r.useContext(Z.E_),L=d.getPrefixCls,I=d.direction,A=r.useContext(c.Z),U=function(H){var K;(K=t.onTabChange)===null||K===void 0||K.call(t,H)},m=function(){var H;return r.Children.forEach(t.children,function(K){K&&K.type&&K.type===p&&(H=!0)}),H},u=t.prefixCls,M=t.className,y=t.extra,T=t.headStyle,B=T===void 0?{}:T,g=t.bodyStyle,N=g===void 0?{}:g,X=t.title,Y=t.loading,w=t.bordered,lt=w===void 0?!0:w,it=t.size,k=t.type,_=t.cover,J=t.actions,$=t.tabList,ot=t.children,q=t.activeTabKey,st=t.defaultActiveTabKey,ct=t.tabBarExtraContent,ut=t.hoverable,tt=t.tabProps,dt=tt===void 0?{}:tt,vt=l(t,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),h=L("card",u),ft=N.padding===0||N.padding==="0px"?{padding:24}:void 0,D=r.createElement("div",{className:"".concat(h,"-loading-block")}),mt=r.createElement("div",{className:"".concat(h,"-loading-content"),style:ft},r.createElement(S.Z,{gutter:8},r.createElement(o.Z,{span:22},D)),r.createElement(S.Z,{gutter:8},r.createElement(o.Z,{span:8},D),r.createElement(o.Z,{span:15},D)),r.createElement(S.Z,{gutter:8},r.createElement(o.Z,{span:6},D),r.createElement(o.Z,{span:18},D)),r.createElement(S.Z,{gutter:8},r.createElement(o.Z,{span:13},D),r.createElement(o.Z,{span:9},D)),r.createElement(S.Z,{gutter:8},r.createElement(o.Z,{span:4},D),r.createElement(o.Z,{span:3},D),r.createElement(o.Z,{span:16},D))),et=q!==void 0,ht=(0,x.Z)((0,x.Z)({},dt),(s={},(0,E.Z)(s,et?"activeKey":"defaultActiveKey",et?q:st),(0,E.Z)(s,"tabBarExtraContent",ct),s)),at,nt=$&&$.length?r.createElement(z.Z,(0,x.Z)({size:"large"},ht,{className:"".concat(h,"-head-tabs"),onChange:U}),$.map(function(V){return r.createElement(z.Z.TabPane,{tab:V.tab,disabled:V.disabled,key:V.key})})):null;(X||y||nt)&&(at=r.createElement("div",{className:"".concat(h,"-head"),style:B},r.createElement("div",{className:"".concat(h,"-head-wrapper")},X&&r.createElement("div",{className:"".concat(h,"-head-title")},X),y&&r.createElement("div",{className:"".concat(h,"-extra")},y)),nt));var Et=_?r.createElement("div",{className:"".concat(h,"-cover")},_):null,gt=r.createElement("div",{className:"".concat(h,"-body"),style:N},Y?mt:ot),yt=J&&J.length?r.createElement("ul",{className:"".concat(h,"-actions")},i(J)):null,xt=(0,C.Z)(vt,["onTabChange"]),rt=it||A,Ct=b()(h,(a={},(0,E.Z)(a,"".concat(h,"-loading"),Y),(0,E.Z)(a,"".concat(h,"-bordered"),lt),(0,E.Z)(a,"".concat(h,"-hoverable"),ut),(0,E.Z)(a,"".concat(h,"-contain-grid"),m()),(0,E.Z)(a,"".concat(h,"-contain-tabs"),$&&$.length),(0,E.Z)(a,"".concat(h,"-").concat(rt),rt),(0,E.Z)(a,"".concat(h,"-type-").concat(k),!!k),(0,E.Z)(a,"".concat(h,"-rtl"),I==="rtl"),a),M);return r.createElement("div",(0,x.Z)({},xt,{className:Ct}),at,Et,gt,yt)};f.Grid=p,f.Meta=Q;var v=f},58024:function(G,j,e){"use strict";var E=e(65056),x=e.n(E),r=e(70347),O=e.n(r),b=e(18106),C=e(13062),Z=e(89032)}}]);
