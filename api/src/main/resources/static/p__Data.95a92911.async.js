(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1667,2790],{60674:function(){},44887:function(){},31930:function(){},89239:function(I,T,t){"use strict";t.d(T,{xi:function(){return m},fQ:function(){return f},h8:function(){return u},IR:function(){return v},gh:function(){return d},ZZ:function(){return S}});var l=t(67294),m=(0,l.createContext)({}),f=m.Provider,p=t(86582),C=t(98210),_=t(69646);function S(a){var i,n=[];return a==null||(i=a.children)===null||i===void 0||i.filter(function(e){return!(0,C.nj)(e.type)}).map(function(e){e.type==="QuestionSet"?n.push.apply(n,(0,p.Z)(S(e))):n.push({name:e.id,title:(0,_.WO)(e.title),schema:e,type:e.type==="Upload"||e.type==="Signature"?"image":"string"})}),n.length===0?n.push({name:"\u6682\u65E0\u6570\u636E!"}):(n.push({name:"totalTime",title:"\u7B54\u5377\u65F6\u957F"}),n.push({name:"deviceType",title:"\u8BBE\u5907\u7C7B\u578B"}),n.push({name:"platform",title:"\u5E73\u53F0\u7C7B\u578B"})),n}function u(a){var i={};return a&&(a.id&&(i[a.id]=(0,_.WO)(a.title)),a.children&&a.children.forEach(function(n){return Object.assign(i,u(n))})),i}function v(a,i){return a.map(function(n){var e={};return i.forEach(function(o){if(o.name==="totalTime"){e.totalTime=d(n.metaInfo.answerInfo.endTime-n.metaInfo.answerInfo.startTime);return}else if(o.name==="deviceType"){e.deviceType=n.metaInfo.clientInfo.deviceType;return}else if(o.name==="platform"){e.platform=n.metaInfo.clientInfo.platform;return}var r=o.schema||{},s=r.type,g=r.id,E=n.answer[g];if(!!E){var O=[];s==="Cascader"?O=y(E,r):s==="MatrixAuto"?O=A(E,r):s.startsWith("Matrix")?O=P(E,r):s==="Upload"||s==="Signature"?O=h(E,r,n.attachment):O=c(E,r),s==="Upload"||s==="Signature"?e[g]=O:e[g]=O.join(",")}}),e.id=n.id,e})}function c(a,i){var n,e=[];return(n=i.children)===null||n===void 0||n.forEach(function(o){var r=a[o.id];r===!0?e.push((0,_.WO)(o.title)):r&&e.push(r)}),e}function h(a,i,n){var e,o=[];return(e=i.children)===null||e===void 0||e.forEach(function(r){var s=a[r.id];o=n.filter(function(g){return s.includes(g.id)})}),o}function y(a,i){var n,e=[],o=i==null?void 0:i.dataSource;return o&&((n=i.children)===null||n===void 0||n.forEach(function(r){if(a.hasOwnProperty(r.id)){var s,g=(s=o)===null||s===void 0?void 0:s.find(function(E){return E.value===a[r.id]});g?(o=g.children,e.push(g.label)):e.push("")}})),e}function P(a,i){var n,e=[];return(n=i.row)===null||n===void 0||n.forEach(function(o){var r=o.id,s=(0,_.WO)(o.title);e.push("".concat(s,":(").concat(c(a[r],i),")"))}),e}function A(a,i){var n=[];return a.forEach(function(e){n.push("(".concat(c(e,i),")"))}),n}function d(a){var i=Math.floor(a/(36e5*24)),n=Math.floor(a/36e5%24),e=Math.floor(a/6e4%60),o=Math.floor(a/1e3%60),r="";return i>0&&(r+=i+"\u5929"),n>0&&(r+=n+"\u5C0F\u65F6"),e>0&&(r+=e+"\u5206\u949F"),o>0&&(r+=o+"\u79D2"),r}},43711:function(I,T,t){"use strict";t.d(T,{o:function(){return f}});var l=t(67294),m=t(78336),f=function(){var C=(0,l.useContext)(m.ZX);return C.store}},78336:function(I,T,t){"use strict";t.d(T,{ZX:function(){return m},fQ:function(){return f},hi:function(){return P}});var l=t(67294),m=(0,l.createContext)({}),f=m.Provider,p=t(34792),C=t(48086),_=t(3182),S=t(94043),u=t.n(S),v=t(57147);function c(d){for(var a=d+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){var e=i[n].trim();if(e.indexOf(a)==0)return e.substring(a.length,e.length)}return""}function h(d,a,i){return y.apply(this,arguments)}function y(){return y=(0,_.Z)(u().mark(function d(a,i,n){var e;return u().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e={method:a.toUpperCase(),credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache","X-XSRF-TOKEN":c("XSRF-TOKEN"),Expires:"-1",Pragma:"no-cache"},body:n},n&&(e.body=JSON.stringify(n)),r.next=4,fetch(i,e).then(function(s){return s.json()}).then(function(s){return s.code!==200&&C.default.error(s.message),s});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}},d)})),y.apply(this,arguments)}var P={put:function(a,i){return(0,_.Z)(u().mark(function n(){return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,h("PUT",a,i);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},n)}))()},delete:function(a){return(0,_.Z)(u().mark(function i(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("DELETE",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i)}))()},post:function(a,i){return(0,_.Z)(u().mark(function n(){return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,h("POST",a,i);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},n)}))()},patch:function(a,i){return(0,_.Z)(u().mark(function n(){return u().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,h("PATCH",a,i);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},n)}))()},get:function(a){return(0,_.Z)(u().mark(function i(){return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("GET",a).then(function(o){if(o.code===200)return o.data});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i)}))()},getWithPagination:function(a,i){var n=this;return(0,_.Z)(u().mark(function e(){return u().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n.get(A(a,i)).then(function(s){if(s)return{records:s.records,pagination:{current:s.current,pageSize:s.size,total:s.total}}}));case 1:case"end":return r.stop()}},e)}))()},loadSchema:function(a){for(var i=arguments.length,n=new Array(i>1?i-1:0),e=1;e<i;e++)n[e-1]=arguments[e];return this.get("/api/projects/".concat(a,"?fields=").concat(n.join(",")))},loadData:function(a,i){for(var n=arguments.length,e=new Array(n>2?n-2:0),o=2;o<n;o++)e[o-2]=arguments[o];return this.getWithPagination("/api/answers?shortId=".concat(a,"&fields=").concat(e.join(",")),i)},saveAnswer:function(a){return this.post("/api/answers",a)},updateAnswer:function(a){return this.patch("/api/answers",a)},deleteAnswer:function(a){return this.delete("/api/answers?ids=".concat(a.join(",")))},saveSurvey:function(a){return this.post("/api/projects",{survey:a})},updateSurvey:function(a,i){return this.patch("/api/projects",{survey:i,shortId:a})}};function A(d,a){var i=[];return Object.keys(a).forEach(function(n){var e=a[n];i.push("".concat(n,"=").concat(e instanceof Array?e.join(","):e))}),d.indexOf("?")!==-1?"".concat(d,"&").concat(i.join("&")):"".concat(d,"?").concat(i.join("&"))}},23063:function(I,T,t){"use strict";t.d(T,{ZX:function(){return m},Gb:function(){return p},Y7:function(){return _}});var l=t(67294),m=l.createContext({}),f=l.createContext({}),p=l.createContext({}),C=l.createContext({}),_=l.createContext({})},69646:function(I,T,t){"use strict";t.d(T,{Gb:function(){return m.Gb},Y7:function(){return m.Y7},ZX:function(){return m.ZX},mO:function(){return v},Gr:function(){return a},JH:function(){return l.JH},Cp:function(){return p},VS:function(){return c.VS},j1:function(){return l.j1},QT:function(){return l.QT},RY:function(){return l.RY},LQ:function(){return u},$Z:function(){return C},WO:function(){return c.WO}});var l=t(61974),m=t(23063),f=function(n){return Array.isArray(n)?n:n?[n]:[]},p=function(n){for(var e=arguments.length,o=new Array(e>1?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];return o.forEach(function(s){return n.query(n.path.concat(s)).take(function(g){return g.display="none"})})},C=function(n){for(var e=arguments.length,o=new Array(e>1?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];return o.forEach(function(s){return n.query(n.path.concat(s)).take(function(g){return g.display="visible"})})},_=function(n){for(var e=arguments.length,o=new Array(e>1?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];return o.forEach(function(s){return n.query(n.path.concat(s)).take(function(g){g.display==="none"&&n.value&&(g.caches.value=void 0,delete n.value[s]),g.display="visible"})})},S=t(16308),u=function(n,e){return window.requestIdleCallback(n,e)},v=function(n){window.cancelIdleCallback(n)},c=t(84821),h=t(86582),y=t(11849),P=t(67294),A=t(95566),d=t(85893);function a(i,n){return function(e){var o=e.name||(n==null?void 0:n.name);if(!o)throw new Error("field name \u672A\u5B9A\u4E49");var r=(0,P.useMemo)(function(){return(0,A.$j)(i,(0,A.jM)(function(s,g){return(0,y.Z)((0,y.Z)({},s),{},{onChange:function(O){g.onInput(O)},hasError:g.errors.length>0})}))},[]);return(0,d.jsx)(A.gN,(0,y.Z)((0,y.Z)((0,y.Z)({},e),n),{},{name:o,component:[r,e],reactions:[function(s){var g=e.syncDisplay;g&&(typeof g=="string"||typeof g=="object"&&Object.keys(g).forEach(function(w){var V=s.query(s.path.parent().concat(w)).get("value");g[w].includes(V)?s.display="visible":s.display="none"}));var E=e.mirrorFieldAddress;if(E){var O=s.query(E),U=O.get("value");U?s.visible=!0:O.take()!==void 0&&(s.visible=!1)}}].concat((0,h.Z)(e.reactions||[]))}))}}},61974:function(I,T,t){"use strict";t.d(T,{JH:function(){return p},RY:function(){return C},QT:function(){return _},j1:function(){return S}});var l={},m={},f={questionTypes:{},questionSettings:{},questionOperations:{},registerDesignerIcons:function(v){Object.assign(l,v)},getDesignerIcon:function(v){return l[v]},registerQuestionTemplates:function(v){Object.assign(m,v)},getQuestionTemplate:function(v){return m[v]||{type:v}}},p=function(){return f};function C(u,v){f.questionTypes[u]=v}function _(u,v){f.questionSettings[u]=v}function S(u,v){f.questionOperations[u]=v}},84821:function(I,T,t){"use strict";t.d(T,{vC:function(){return f},JY:function(){return p},WO:function(){return _},VS:function(){return S}});var l=t(9963),m=t(86582);function f(u){var v=1;for(var c in u)if(!!u.hasOwnProperty(c)&&typeof u[c]=="object"&&p(u[c])){var h=f(u[c])+1;v=Math.max(h,v)}return v}function p(u){return u==null||typeof u=="number"&&u.toString()==="NaN"?!1:!(typeof u=="string"&&u.trim()==="")}var C={compile:function(v,c){var h=Object.keys(c||{}),y=h.map(function(P){return c[P]});return(0,l.Z)(Function,(0,m.Z)(h).concat(["return (".concat(v,");")])).apply(void 0,(0,m.Z)(y))}};function _(u){var v=document.createElement("div");return v.innerHTML=u,v.textContent||v.innerText||""}function S(u,v){for(var c=arguments.length,h=new Array(c>2?c-2:0),y=2;y<c;y++)h[y-2]=arguments[y];return u.length===0?h:v>=u.length?u.concat(h):u.reduce(function(P,A,d){return v===d&&P.push.apply(P,h),P.push(A),P},[])}},81643:function(I,T,t){"use strict";t.d(T,{Z:function(){return l}});var l=function(f){if(!f)return null;var p=typeof f=="function";return p?f():f}},75443:function(I,T,t){"use strict";var l=t(22122),m=t(28481),f=t(67294),p=t(94184),C=t.n(p),_=t(21770),S=t(68855),u=t(15105),v=t(69713),c=t(71577),h=t(32413),y=t(42051),P=t(85636),A=t(65632),d=t(81643),a=t(96159),i=t(33603),n=void 0,e=function(r,s){var g={};for(var E in r)Object.prototype.hasOwnProperty.call(r,E)&&s.indexOf(E)<0&&(g[E]=r[E]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,E=Object.getOwnPropertySymbols(r);O<E.length;O++)s.indexOf(E[O])<0&&Object.prototype.propertyIsEnumerable.call(r,E[O])&&(g[E[O]]=r[E[O]]);return g},o=f.forwardRef(function(r,s){var g=(0,_.Z)(!1,{value:r.visible,defaultValue:r.defaultVisible}),E=(0,m.Z)(g,2),O=E[0],U=E[1],w=function(R,x){var B;U(R),(B=r.onVisibleChange)===null||B===void 0||B.call(r,R,x)},V=function(R){var x;w(!1,R),(x=r.onConfirm)===null||x===void 0||x.call(n,R)},K=function(R){var x;w(!1,R),(x=r.onCancel)===null||x===void 0||x.call(n,R)},M=function(R){R.keyCode===u.Z.ESC&&O&&w(!1,R)},D=function(R){var x=r.disabled;x||w(R)},b=function(R,x){var B=r.okButtonProps,k=r.cancelButtonProps,J=r.title,q=r.cancelText,ee=r.okText,ne=r.okType,te=r.icon;return f.createElement("div",{className:"".concat(R,"-inner-content")},f.createElement("div",{className:"".concat(R,"-message")},te,f.createElement("div",{className:"".concat(R,"-message-title")},(0,d.Z)(J))),f.createElement("div",{className:"".concat(R,"-buttons")},f.createElement(c.Z,(0,l.Z)({onClick:K,size:"small"},k),q||x.cancelText),f.createElement(c.Z,(0,l.Z)({onClick:V},(0,h.n)(ne),{size:"small"},B),ee||x.okText)))},L=f.useContext(A.E_),W=L.getPrefixCls,j=r.prefixCls,Z=r.placement,F=r.children,Q=r.overlayClassName,z=e(r,["prefixCls","placement","children","overlayClassName"]),$=W("popover",j),Y=W("popconfirm",j),X=C()(Y,Q),G=f.createElement(y.Z,{componentName:"Popconfirm",defaultLocale:P.Z.Popconfirm},function(N){return b($,N)}),H=W();return f.createElement(v.Z,(0,l.Z)({},z,{prefixCls:$,placement:Z,onVisibleChange:D,visible:O,overlay:G,overlayClassName:X,ref:s,transitionName:(0,i.m)(H,"zoom-big",r.transitionName)}),(0,a.Tm)(F,{onKeyDown:function(R){var x,B;f.isValidElement(F)&&((B=F==null?void 0:(x=F.props).onKeyDown)===null||B===void 0||B.call(x,R)),M(R)}}))});o.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:f.createElement(S.Z,null),disabled:!1},T.Z=o},62350:function(I,T,t){"use strict";var l=t(65056),m=t.n(l),f=t(20136),p=t(57663),C=t(44887),_=t.n(C)},20136:function(I,T,t){"use strict";var l=t(65056),m=t.n(l),f=t(31930),p=t.n(f)},27561:function(I,T,t){var l=t(67990),m=/^\s+/;function f(p){return p&&p.slice(0,l(p)+1).replace(m,"")}I.exports=f},67990:function(I){var T=/\s/;function t(l){for(var m=l.length;m--&&T.test(l.charAt(m)););return m}I.exports=t},23279:function(I,T,t){var l=t(13218),m=t(7771),f=t(14841),p="Expected a function",C=Math.max,_=Math.min;function S(u,v,c){var h,y,P,A,d,a,i=0,n=!1,e=!1,o=!0;if(typeof u!="function")throw new TypeError(p);v=f(v)||0,l(c)&&(n=!!c.leading,e="maxWait"in c,P=e?C(f(c.maxWait)||0,v):P,o="trailing"in c?!!c.trailing:o);function r(M){var D=h,b=y;return h=y=void 0,i=M,A=u.apply(b,D),A}function s(M){return i=M,d=setTimeout(O,v),n?r(M):A}function g(M){var D=M-a,b=M-i,L=v-D;return e?_(L,P-b):L}function E(M){var D=M-a,b=M-i;return a===void 0||D>=v||D<0||e&&b>=P}function O(){var M=m();if(E(M))return U(M);d=setTimeout(O,g(M))}function U(M){return d=void 0,o&&h?r(M):(h=y=void 0,A)}function w(){d!==void 0&&clearTimeout(d),i=0,h=a=y=d=void 0}function V(){return d===void 0?A:U(m())}function K(){var M=m(),D=E(M);if(h=arguments,y=this,a=M,D){if(d===void 0)return s(a);if(e)return clearTimeout(d),d=setTimeout(O,v),r(a)}return d===void 0&&(d=setTimeout(O,v)),A}return K.cancel=w,K.flush=V,K}I.exports=S},33448:function(I,T,t){var l=t(44239),m=t(37005),f="[object Symbol]";function p(C){return typeof C=="symbol"||m(C)&&l(C)==f}I.exports=p},7771:function(I,T,t){var l=t(55639),m=function(){return l.Date.now()};I.exports=m},14841:function(I,T,t){var l=t(27561),m=t(13218),f=t(33448),p=0/0,C=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,S=/^0o[0-7]+$/i,u=parseInt;function v(c){if(typeof c=="number")return c;if(f(c))return p;if(m(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=m(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=l(c);var y=_.test(c);return y||S.test(c)?u(c.slice(2),y?2:8):C.test(c)?p:+c}I.exports=v},16308:function(I,T,t){var l,m,f;(function(p){m=[],l=p,f=typeof l=="function"?l.apply(T,m):l,f!==void 0&&(I.exports=f)})(function(){"use strict";var p,C,_,S,u=typeof window!="undefined"?window:typeof t.g!=null?t.g:this||{},v=u.cancelRequestAnimationFrame&&u.requestAnimationFrame||setTimeout,c=u.cancelRequestAnimationFrame||clearTimeout,h=[],y=0,P=!1,A=7,d=35,a=125,i=0,n=0,e=0,o={get didTimeout(){return!1},timeRemaining:function(){var D=A-(Date.now()-n);return D<0?0:D}},r=s(function(){A=22,a=66,d=0});function s(D){var b,L,W=99,j=function(){var Z=Date.now()-L;Z<W?b=setTimeout(j,W-Z):(b=null,D())};return function(){L=Date.now(),b||(b=setTimeout(j,W))}}function g(){P&&(S&&c(S),_&&clearTimeout(_),P=!1)}function E(){a!=125&&(A=7,a=125,d=35,P&&(g(),w())),r()}function O(){S=null,_=setTimeout(V,0)}function U(){_=null,v(O)}function w(){P||(C=a-(Date.now()-n),p=Date.now(),P=!0,d&&C<d&&(C=d),C>9?_=setTimeout(U,C):(C=0,U()))}function V(){var D,b,L,W=A>9?9:1;if(n=Date.now(),P=!1,_=null,y>2||n-C-50<p)for(b=0,L=h.length;b<L&&o.timeRemaining()>W;b++)D=h.shift(),e++,D&&D(o);h.length?w():y=0}function K(D){return i++,h.push(D),w(),i}function M(D){var b=D-1-e;h[b]&&(h[b]=null)}if(!u.requestIdleCallback||!u.cancelIdleCallback)u.requestIdleCallback=K,u.cancelIdleCallback=M,u.document&&document.addEventListener&&(u.addEventListener("scroll",E,!0),u.addEventListener("resize",E),document.addEventListener("focus",E,!0),document.addEventListener("mouseover",E,!0),["click","keypress","touchstart","mousedown"].forEach(function(D){document.addEventListener(D,E,{capture:!0,passive:!0})}),u.MutationObserver&&new MutationObserver(E).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));else try{u.requestIdleCallback(function(){},{timeout:0})}catch(D){(function(b){var L,W;if(u.requestIdleCallback=function(j,Z){return Z&&typeof Z.timeout=="number"?b(j,Z.timeout):b(j)},u.IdleCallbackDeadline&&(L=IdleCallbackDeadline.prototype)){if(W=Object.getOwnPropertyDescriptor(L,"timeRemaining"),!W||!W.configurable||!W.get)return;Object.defineProperty(L,"timeRemaining",{value:function(){return W.get.call(this)},enumerable:!0,configurable:!0})}})(u.requestIdleCallback)}return{request:K,cancel:M}})}}]);
