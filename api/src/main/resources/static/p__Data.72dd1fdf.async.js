(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1667,2790],{60674:function(){},44887:function(){},31930:function(){},89239:function(I,O,t){"use strict";t.d(O,{xi:function(){return m},fQ:function(){return f},h8:function(){return o},IR:function(){return v},gh:function(){return d},ZZ:function(){return x}});var l=t(67294),m=(0,l.createContext)({}),f=m.Provider,E=t(86582),C=t(98210),p=t(69646);function x(a){var i,n=[];return a==null||(i=a.children)===null||i===void 0||i.filter(function(e){return!(0,C.nj)(e.type)}).map(function(e){e.type==="QuestionSet"?n.push.apply(n,(0,E.Z)(x(e))):n.push({name:e.id,title:(0,p.WO)(e.title),schema:e,type:e.type==="Upload"?"image":"string"})}),n.length===0?n.push({name:"\u6682\u65E0\u6570\u636E!"}):(n.push({name:"totalTime",title:"\u7B54\u5377\u65F6\u957F"}),n.push({name:"deviceType",title:"\u8BBE\u5907\u7C7B\u578B"}),n.push({name:"platform",title:"\u5E73\u53F0\u7C7B\u578B"})),n}function o(a){var i={};return a&&(a.id&&(i[a.id]=(0,p.WO)(a.title)),a.children&&a.children.forEach(function(n){return Object.assign(i,o(n))})),i}function v(a,i,n){return a.map(function(e){var u={};return i.forEach(function(r){if(r.name==="totalTime"){u.totalTime=d(e.metaInfo.answerInfo.endTime-e.metaInfo.answerInfo.startTime);return}else if(r.name==="deviceType"){u.deviceType=e.metaInfo.clientInfo.deviceType;return}else if(r.name==="platform"){u.platform=e.metaInfo.clientInfo.platform;return}var s=r.schema||{},g=s.type,_=s.id,T=e.answer[_];if(!!T){var S=[];g==="Cascader"?S=y(T,s):g==="MatrixAuto"?S=A(T,s):g.startsWith("Matrix")?S=P(T,s):g==="Upload"?S=h(T,s,e.attachment):S=c(T,s),g==="Upload"?u[_]=S:u[_]=S.join(",")}}),u.id=e.id,u})}function c(a,i){var n,e=[];return(n=i.children)===null||n===void 0||n.forEach(function(u){var r=a[u.id];r===!0?e.push((0,p.WO)(u.title)):r&&e.push(r)}),e}function h(a,i,n){var e,u=[];return(e=i.children)===null||e===void 0||e.forEach(function(r){var s=a[r.id];u=n.filter(function(g){return s.includes(g.id)})}),u}function y(a,i){var n,e=[],u=i==null?void 0:i.dataSource;return u&&((n=i.children)===null||n===void 0||n.forEach(function(r){if(a.hasOwnProperty(r.id)){var s,g=(s=u)===null||s===void 0?void 0:s.find(function(_){return _.value===a[r.id]});g?(u=g.children,e.push(g.label)):e.push("")}})),e}function P(a,i){var n,e=[];return(n=i.row)===null||n===void 0||n.forEach(function(u){var r=u.id,s=(0,p.WO)(u.title);e.push("".concat(s,":(").concat(c(a[r],i),")"))}),e}function A(a,i){var n=[];return a.forEach(function(e){n.push("(".concat(c(e,i),")"))}),n}function d(a){var i=Math.floor(a/(36e5*24)),n=Math.floor(a/36e5%24),e=Math.floor(a/6e4%60),u=Math.floor(a/1e3%60),r="";return i>0&&(r+=i+"\u5929"),n>0&&(r+=n+"\u5C0F\u65F6"),e>0&&(r+=e+"\u5206\u949F"),u>0&&(r+=u+"\u79D2"),r}},43711:function(I,O,t){"use strict";t.d(O,{o:function(){return f}});var l=t(67294),m=t(78336),f=function(){var C=(0,l.useContext)(m.ZX);return C.store}},78336:function(I,O,t){"use strict";t.d(O,{ZX:function(){return m},fQ:function(){return f},hi:function(){return P}});var l=t(67294),m=(0,l.createContext)({}),f=m.Provider,E=t(34792),C=t(48086),p=t(3182),x=t(94043),o=t.n(x),v=t(57147);function c(d){for(var a=d+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){var e=i[n].trim();if(e.indexOf(a)==0)return e.substring(a.length,e.length)}return""}function h(d,a,i){return y.apply(this,arguments)}function y(){return y=(0,p.Z)(o().mark(function d(a,i,n){var e;return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e={method:a.toUpperCase(),credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache","X-XSRF-TOKEN":c("XSRF-TOKEN"),Expires:"-1",Pragma:"no-cache"},body:n},n&&(e.body=JSON.stringify(n)),r.next=4,fetch(i,e).then(function(s){return s.json()}).then(function(s){return s.code!==200&&C.default.error(s.message),s});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}},d)})),y.apply(this,arguments)}var P={put:function(a,i){return(0,p.Z)(o().mark(function n(){return o().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,h("PUT",a,i);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},n)}))()},delete:function(a){return(0,p.Z)(o().mark(function i(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("DELETE",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i)}))()},post:function(a,i){return(0,p.Z)(o().mark(function n(){return o().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,h("POST",a,i);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},n)}))()},patch:function(a,i){return(0,p.Z)(o().mark(function n(){return o().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,h("PATCH",a,i);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},n)}))()},get:function(a){return(0,p.Z)(o().mark(function i(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("GET",a).then(function(u){if(u.code===200)return u.data});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i)}))()},getWithPagination:function(a,i){var n=this;return(0,p.Z)(o().mark(function e(){return o().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n.get(A(a,i)).then(function(s){if(s)return{records:s.records,pagination:{current:s.current,pageSize:s.size,total:s.total}}}));case 1:case"end":return r.stop()}},e)}))()},loadSchema:function(a){for(var i=arguments.length,n=new Array(i>1?i-1:0),e=1;e<i;e++)n[e-1]=arguments[e];return this.get("/api/projects/".concat(a,"?fields=").concat(n.join(",")))},loadData:function(a,i){for(var n=arguments.length,e=new Array(n>2?n-2:0),u=2;u<n;u++)e[u-2]=arguments[u];return this.getWithPagination("/api/answers?shortId=".concat(a,"&fields=").concat(e.join(",")),i)},saveAnswer:function(a){return this.post("/api/answers",a)},updateAnswer:function(a){return this.patch("/api/answers",a)},deleteAnswer:function(a){return this.delete("/api/answers?ids=".concat(a.join(",")))},saveSurvey:function(a){return this.post("/api/projects",{survey:a})},updateSurvey:function(a,i){return this.patch("/api/projects",{survey:i,shortId:a})}};function A(d,a){var i=[];return Object.keys(a).forEach(function(n){var e=a[n];i.push("".concat(n,"=").concat(e instanceof Array?e.join(","):e))}),d.indexOf("?")!==-1?"".concat(d,"&").concat(i.join("&")):"".concat(d,"?").concat(i.join("&"))}},23063:function(I,O,t){"use strict";t.d(O,{ZX:function(){return m},Gb:function(){return E},Y7:function(){return p}});var l=t(67294),m=l.createContext({}),f=l.createContext({}),E=l.createContext({}),C=l.createContext({}),p=l.createContext({})},69646:function(I,O,t){"use strict";t.d(O,{Gb:function(){return m.Gb},Y7:function(){return m.Y7},ZX:function(){return m.ZX},mO:function(){return v},Gr:function(){return a},JH:function(){return l.JH},Cp:function(){return E},VS:function(){return c.VS},j1:function(){return l.j1},QT:function(){return l.QT},RY:function(){return l.RY},LQ:function(){return o},$Z:function(){return C},WO:function(){return c.WO}});var l=t(61974),m=t(23063),f=function(n){return Array.isArray(n)?n:n?[n]:[]},E=function(n){for(var e=arguments.length,u=new Array(e>1?e-1:0),r=1;r<e;r++)u[r-1]=arguments[r];return u.forEach(function(s){return n.query(n.path.concat(s)).take(function(g){return g.display="none"})})},C=function(n){for(var e=arguments.length,u=new Array(e>1?e-1:0),r=1;r<e;r++)u[r-1]=arguments[r];return u.forEach(function(s){return n.query(n.path.concat(s)).take(function(g){return g.display="visible"})})},p=function(n){for(var e=arguments.length,u=new Array(e>1?e-1:0),r=1;r<e;r++)u[r-1]=arguments[r];return u.forEach(function(s){return n.query(n.path.concat(s)).take(function(g){g.display==="none"&&n.value&&(g.caches.value=void 0,delete n.value[s]),g.display="visible"})})},x=t(16308),o=function(n,e){return window.requestIdleCallback(n,e)},v=function(n){window.cancelIdleCallback(n)},c=t(84821),h=t(86582),y=t(11849),P=t(67294),A=t(95566),d=t(85893);function a(i,n){return function(e){var u=e.name||(n==null?void 0:n.name);if(!u)throw new Error("field name \u672A\u5B9A\u4E49");var r=(0,P.useMemo)(function(){return(0,A.$j)(i,(0,A.jM)(function(s,g){return(0,y.Z)((0,y.Z)({},s),{},{onChange:function(T){g.onInput(T)},hasError:g.errors.length>0})}))},[]);return(0,d.jsx)(A.gN,(0,y.Z)((0,y.Z)((0,y.Z)({},e),n),{},{name:u,component:[r,e],reactions:[function(s){var g=e.syncDisplay;g&&(typeof g=="string"||typeof g=="object"&&Object.keys(g).forEach(function(U){var V=s.query(s.path.parent().concat(U)).get("value");g[U].includes(V)?s.display="visible":s.display="none"}));var _=e.mirrorFieldAddress;if(_){var T=s.query(_),S=T.get("value");S?s.visible=!0:T.take()!==void 0&&(s.visible=!1)}}].concat((0,h.Z)(e.reactions||[]))}))}}},61974:function(I,O,t){"use strict";t.d(O,{JH:function(){return E},RY:function(){return C},QT:function(){return p},j1:function(){return x}});var l={},m={},f={questionTypes:{},questionSettings:{},questionOperations:{},registerDesignerIcons:function(v){Object.assign(l,v)},getDesignerIcon:function(v){return l[v]},registerQuestionTemplates:function(v){Object.assign(m,v)},getQuestionTemplate:function(v){return m[v]||{type:v}}},E=function(){return f};function C(o,v){f.questionTypes[o]=v}function p(o,v){f.questionSettings[o]=v}function x(o,v){f.questionOperations[o]=v}},84821:function(I,O,t){"use strict";t.d(O,{vC:function(){return f},JY:function(){return E},WO:function(){return p},VS:function(){return x}});var l=t(9963),m=t(86582);function f(o){var v=1;for(var c in o)if(!!o.hasOwnProperty(c)&&typeof o[c]=="object"&&E(o[c])){var h=f(o[c])+1;v=Math.max(h,v)}return v}function E(o){return o==null||typeof o=="number"&&o.toString()==="NaN"?!1:!(typeof o=="string"&&o.trim()==="")}var C={compile:function(v,c){var h=Object.keys(c||{}),y=h.map(function(P){return c[P]});return(0,l.Z)(Function,(0,m.Z)(h).concat(["return (".concat(v,");")])).apply(void 0,(0,m.Z)(y))}};function p(o){var v=document.createElement("div");return v.innerHTML=o,v.textContent||v.innerText||""}function x(o,v){for(var c=arguments.length,h=new Array(c>2?c-2:0),y=2;y<c;y++)h[y-2]=arguments[y];return o.length===0?h:v>=o.length?o.concat(h):o.reduce(function(P,A,d){return v===d&&P.push.apply(P,h),P.push(A),P},[])}},81643:function(I,O,t){"use strict";t.d(O,{Z:function(){return l}});var l=function(f){if(!f)return null;var E=typeof f=="function";return E?f():f}},75443:function(I,O,t){"use strict";var l=t(22122),m=t(28481),f=t(67294),E=t(94184),C=t.n(E),p=t(21770),x=t(68855),o=t(15105),v=t(69713),c=t(71577),h=t(32413),y=t(42051),P=t(85636),A=t(65632),d=t(81643),a=t(96159),i=t(33603),n=void 0,e=function(r,s){var g={};for(var _ in r)Object.prototype.hasOwnProperty.call(r,_)&&s.indexOf(_)<0&&(g[_]=r[_]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,_=Object.getOwnPropertySymbols(r);T<_.length;T++)s.indexOf(_[T])<0&&Object.prototype.propertyIsEnumerable.call(r,_[T])&&(g[_[T]]=r[_[T]]);return g},u=f.forwardRef(function(r,s){var g=(0,p.Z)(!1,{value:r.visible,defaultValue:r.defaultVisible}),_=(0,m.Z)(g,2),T=_[0],S=_[1],U=function(R,W){var B;S(R),(B=r.onVisibleChange)===null||B===void 0||B.call(r,R,W)},V=function(R){var W;U(!1,R),(W=r.onConfirm)===null||W===void 0||W.call(n,R)},K=function(R){var W;U(!1,R),(W=r.onCancel)===null||W===void 0||W.call(n,R)},M=function(R){R.keyCode===o.Z.ESC&&T&&U(!1,R)},D=function(R){var W=r.disabled;W||U(R)},b=function(R,W){var B=r.okButtonProps,k=r.cancelButtonProps,J=r.title,q=r.cancelText,ee=r.okText,ne=r.okType,te=r.icon;return f.createElement("div",{className:"".concat(R,"-inner-content")},f.createElement("div",{className:"".concat(R,"-message")},te,f.createElement("div",{className:"".concat(R,"-message-title")},(0,d.Z)(J))),f.createElement("div",{className:"".concat(R,"-buttons")},f.createElement(c.Z,(0,l.Z)({onClick:K,size:"small"},k),q||W.cancelText),f.createElement(c.Z,(0,l.Z)({onClick:V},(0,h.n)(ne),{size:"small"},B),ee||W.okText)))},w=f.useContext(A.E_),L=w.getPrefixCls,j=r.prefixCls,Z=r.placement,F=r.children,Q=r.overlayClassName,z=e(r,["prefixCls","placement","children","overlayClassName"]),$=L("popover",j),Y=L("popconfirm",j),X=C()(Y,Q),G=f.createElement(y.Z,{componentName:"Popconfirm",defaultLocale:P.Z.Popconfirm},function(N){return b($,N)}),H=L();return f.createElement(v.Z,(0,l.Z)({},z,{prefixCls:$,placement:Z,onVisibleChange:D,visible:T,overlay:G,overlayClassName:X,ref:s,transitionName:(0,i.m)(H,"zoom-big",r.transitionName)}),(0,a.Tm)(F,{onKeyDown:function(R){var W,B;f.isValidElement(F)&&((B=F==null?void 0:(W=F.props).onKeyDown)===null||B===void 0||B.call(W,R)),M(R)}}))});u.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:f.createElement(x.Z,null),disabled:!1},O.Z=u},62350:function(I,O,t){"use strict";var l=t(65056),m=t.n(l),f=t(20136),E=t(57663),C=t(44887),p=t.n(C)},20136:function(I,O,t){"use strict";var l=t(65056),m=t.n(l),f=t(31930),E=t.n(f)},27561:function(I,O,t){var l=t(67990),m=/^\s+/;function f(E){return E&&E.slice(0,l(E)+1).replace(m,"")}I.exports=f},67990:function(I){var O=/\s/;function t(l){for(var m=l.length;m--&&O.test(l.charAt(m)););return m}I.exports=t},23279:function(I,O,t){var l=t(13218),m=t(7771),f=t(14841),E="Expected a function",C=Math.max,p=Math.min;function x(o,v,c){var h,y,P,A,d,a,i=0,n=!1,e=!1,u=!0;if(typeof o!="function")throw new TypeError(E);v=f(v)||0,l(c)&&(n=!!c.leading,e="maxWait"in c,P=e?C(f(c.maxWait)||0,v):P,u="trailing"in c?!!c.trailing:u);function r(M){var D=h,b=y;return h=y=void 0,i=M,A=o.apply(b,D),A}function s(M){return i=M,d=setTimeout(T,v),n?r(M):A}function g(M){var D=M-a,b=M-i,w=v-D;return e?p(w,P-b):w}function _(M){var D=M-a,b=M-i;return a===void 0||D>=v||D<0||e&&b>=P}function T(){var M=m();if(_(M))return S(M);d=setTimeout(T,g(M))}function S(M){return d=void 0,u&&h?r(M):(h=y=void 0,A)}function U(){d!==void 0&&clearTimeout(d),i=0,h=a=y=d=void 0}function V(){return d===void 0?A:S(m())}function K(){var M=m(),D=_(M);if(h=arguments,y=this,a=M,D){if(d===void 0)return s(a);if(e)return clearTimeout(d),d=setTimeout(T,v),r(a)}return d===void 0&&(d=setTimeout(T,v)),A}return K.cancel=U,K.flush=V,K}I.exports=x},33448:function(I,O,t){var l=t(44239),m=t(37005),f="[object Symbol]";function E(C){return typeof C=="symbol"||m(C)&&l(C)==f}I.exports=E},7771:function(I,O,t){var l=t(55639),m=function(){return l.Date.now()};I.exports=m},14841:function(I,O,t){var l=t(27561),m=t(13218),f=t(33448),E=0/0,C=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,x=/^0o[0-7]+$/i,o=parseInt;function v(c){if(typeof c=="number")return c;if(f(c))return E;if(m(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=m(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=l(c);var y=p.test(c);return y||x.test(c)?o(c.slice(2),y?2:8):C.test(c)?E:+c}I.exports=v},16308:function(I,O,t){var l,m,f;(function(E){m=[],l=E,f=typeof l=="function"?l.apply(O,m):l,f!==void 0&&(I.exports=f)})(function(){"use strict";var E,C,p,x,o=typeof window!="undefined"?window:typeof t.g!=null?t.g:this||{},v=o.cancelRequestAnimationFrame&&o.requestAnimationFrame||setTimeout,c=o.cancelRequestAnimationFrame||clearTimeout,h=[],y=0,P=!1,A=7,d=35,a=125,i=0,n=0,e=0,u={get didTimeout(){return!1},timeRemaining:function(){var D=A-(Date.now()-n);return D<0?0:D}},r=s(function(){A=22,a=66,d=0});function s(D){var b,w,L=99,j=function(){var Z=Date.now()-w;Z<L?b=setTimeout(j,L-Z):(b=null,D())};return function(){w=Date.now(),b||(b=setTimeout(j,L))}}function g(){P&&(x&&c(x),p&&clearTimeout(p),P=!1)}function _(){a!=125&&(A=7,a=125,d=35,P&&(g(),U())),r()}function T(){x=null,p=setTimeout(V,0)}function S(){p=null,v(T)}function U(){P||(C=a-(Date.now()-n),E=Date.now(),P=!0,d&&C<d&&(C=d),C>9?p=setTimeout(S,C):(C=0,S()))}function V(){var D,b,w,L=A>9?9:1;if(n=Date.now(),P=!1,p=null,y>2||n-C-50<E)for(b=0,w=h.length;b<w&&u.timeRemaining()>L;b++)D=h.shift(),e++,D&&D(u);h.length?U():y=0}function K(D){return i++,h.push(D),U(),i}function M(D){var b=D-1-e;h[b]&&(h[b]=null)}if(!o.requestIdleCallback||!o.cancelIdleCallback)o.requestIdleCallback=K,o.cancelIdleCallback=M,o.document&&document.addEventListener&&(o.addEventListener("scroll",_,!0),o.addEventListener("resize",_),document.addEventListener("focus",_,!0),document.addEventListener("mouseover",_,!0),["click","keypress","touchstart","mousedown"].forEach(function(D){document.addEventListener(D,_,{capture:!0,passive:!0})}),o.MutationObserver&&new MutationObserver(_).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}));else try{o.requestIdleCallback(function(){},{timeout:0})}catch(D){(function(b){var w,L;if(o.requestIdleCallback=function(j,Z){return Z&&typeof Z.timeout=="number"?b(j,Z.timeout):b(j)},o.IdleCallbackDeadline&&(w=IdleCallbackDeadline.prototype)){if(L=Object.getOwnPropertyDescriptor(w,"timeRemaining"),!L||!L.configurable||!L.get)return;Object.defineProperty(w,"timeRemaining",{value:function(){return L.get.call(this)},enumerable:!0,configurable:!0})}})(o.requestIdleCallback)}return{request:K,cancel:M}})}}]);
