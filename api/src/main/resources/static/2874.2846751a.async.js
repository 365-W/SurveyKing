(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2874],{55317:function(Ge,Ie,o){"use strict";o.d(Ie,{Mt:function(){return Re},hl:function(){return fe},AT:function(){return Fe},ko:function(){return te},HN:function(){return t},we:function(){return me},k9:function(){return C},jI:function(){return se}});var X=o(95566),U=o(67294),Z=o(86150),le=o(25837),z=o(98210),x=o(85893);function C(P){var T=(0,U.useContext)(Z.ZX),M=T.theme,O=T.footerVisible,oe=T.headerVisible,ae=P.schema,L=function(K){var w=(0,le.GZ)(M,"Survey");if(w)return U.createElement(w,{schema:ae,footerVisible:O,headerVisible:oe},K)},ne=function(){var K,w=-1;return(K=ae.children)===null||K===void 0?void 0:K.map(function(Ne){var ve=Ne.type,N=Ne.id;return(0,z.nj)(ve)||w++,ve==="QuestionSet"?(0,x.jsx)(me,{schema:Ne,index:w},N):(0,x.jsx)(t,{schema:Ne,index:w},N)})};return(0,x.jsxs)(x.Fragment,{children:[L(ne()),(0,x.jsx)(X.gN,{name:"_finish"})]})}var Ze=o(32059),ye=o(86582),H=o(2824),y=o(11849);function q(P){var T,M=[],O=P.attribute;return O&&O.required&&M.push({required:!0,triggerType:"onInput"}),(T=P.children)===null||T===void 0||T.forEach(function(oe){M.push.apply(M,(0,ye.Z)(b(oe,P)))}),M}function b(P,T){var M,O,oe,ae,L=[];if((M=P.attribute)!==null&&M!==void 0&&M.dataType){var ne;L.push((ne={},(0,Ze.Z)(ne,P.attribute.dataType,!0),(0,Ze.Z)(ne,"schema",(0,y.Z)((0,y.Z)({},P),{},{parent:T})),ne))}return(O=P.attribute)!==null&&O!==void 0&&O.required&&L.push({required:!0,schema:(0,y.Z)((0,y.Z)({},P),{},{parent:T})}),(oe=P.attribute)!==null&&oe!==void 0&&oe.textLimit&&L.push({textLimit:!0,schema:(0,y.Z)((0,y.Z)({},P),{},{parent:T})}),(ae=P.attribute)!==null&&ae!==void 0&&ae.scope&&L.push({scope:!0,schema:(0,y.Z)((0,y.Z)({},P),{},{parent:T})}),L}var I=o(80705),t=(0,X.Pi)(function(T){var M=T.schema,O=T.index,oe=T.qsIndex,ae=M.id,L=M.type,ne=(0,U.useContext)(Z.ZX),_=ne.theme,K=ne.optionTypes,w=ne.id2title,Ne=(0,U.useMemo)(function(){return(0,z.cB)(M,"calculate")},[]);if((0,z.nj)(M.type))return(0,x.jsx)(X.jG,{name:ae,component:[(0,U.useMemo)(function(){return(0,X.$j)((0,le.I8)(_,L),(0,X.jM)(function(N,S){return(0,y.Z)({},N)}))},[_,L]),{schema:M,controlShow:void 0}],reactions:[function(N){var S,J=(S=M.attribute)===null||S===void 0?void 0:S.replaceTextRule;if(J){var $=(0,z.vW)(J,function(ce){var Y=(0,z.Op)(ce),de=(0,H.Z)(Y,1),he=de[0],re=N.query(he).get("value");return(0,z.d0)(K,re,ce,w)}),ee="";$.success&&$.result&&(ee=$.result),N.setComponentProps((0,y.Z)((0,y.Z)({},N.componentProps),{},{replaceTitle:ee}))}}]});var ve=(0,U.useCallback)(function(N){return(0,x.jsx)("div",{tabIndex:-1,onBlur:N==null?void 0:N.onBlur,children:U.createElement((0,le.GZ)(_,"Question"),N)})},[]);return(0,x.jsx)(X.gN,{name:ae,component:[(0,U.useMemo)(function(){return(0,X.$j)((0,le.I8)(_,L),(0,X.jM)(function(N,S){return(0,y.Z)((0,y.Z)({},N),{},{onChange:function($){if(!N.readOnly){if((0,I.xb)($)){S.onInput(void 0);return}if(L.startsWith("Matrix")&&(0,z.hb)($)){S.onInput(void 0);return}$&&Object.keys($).forEach(function(ee){$[ee]===void 0&&($[ee]="")}),S.onInput($)}}})}))},[_,L]),{schema:M,controlShow:void 0}],decorator:[(0,U.useMemo)(function(){return(0,X.$j)(ve,(0,X.jM)(function(N,S){return(0,y.Z)((0,y.Z)({},N),{},{error:S.selfErrors.length?(0,ye.Z)(S.selfErrors):[],warning:S.selfWarnings.length?S.selfWarnings:[],onBlur:function(){return S.onBlur.apply(S,arguments)},required:S.required})}))},[_]),{schema:M,index:O,qsIndex:oe}],validator:q(M),reactions:[function(N){Object.entries(Ne).forEach(function(S){var J=(0,H.Z)(S,2),$=J[0],ee=J[1],ce=ee,Y=(0,z.vW)(ce,function(de){var he=(0,z.Op)(de),re=(0,H.Z)(he,2),Ye=re[0],qe=re[1],_e=N.query(Ye).get("value");return(0,z.d0)(K,_e,de)});Y.success&&N.setState(function(de){var he;return de.value=(0,y.Z)((0,y.Z)({},de.value),{},(0,Ze.Z)({},$,(0,z.A7)(Y.result,(he=M.children)===null||he===void 0?void 0:he.find(function(re){return re.id===$}))))})})},function(N){var S,J=(S=M.attribute)===null||S===void 0?void 0:S.visibleRule;if(J){var $=(0,z.vW)(J,function(ee){var ce=(0,z.Op)(ee),Y=(0,H.Z)(ce,2),de=Y[0],he=Y[1],re=N.query(de).get("value");return(0,z.d0)(K,re,ee)});$.success&&($.result?N.display="visible":N.display="none")}},function(N){var S,J=(S=M.attribute)===null||S===void 0?void 0:S.requiredRule;if(J){var $=(0,z.vW)(J,function(ee){var ce=(0,z.Op)(ee),Y=(0,H.Z)(ce,2),de=Y[0],he=Y[1],re=N.query(de).get("value");return(0,z.d0)(K,re,ee)});$.success&&($.result?N.required=!0:N.required=!1)}},function(N){var S,J=(S=M.attribute)===null||S===void 0?void 0:S.replaceTextRule;if(J){var $=(0,z.vW)(J,function(ce){var Y=(0,z.Op)(ce),de=(0,H.Z)(Y,1),he=de[0],re=N.query(he).get("value");return(0,z.d0)(K,re,ce,w)}),ee="";$.success&&$.result&&(ee=$.result),N.setDecoratorProps((0,y.Z)((0,y.Z)({},N.decoratorProps),{},{replaceTitle:ee}))}}]})});function me(P){var T=P.schema,M=P.index,O=T.id,oe=(0,U.useContext)(Z.ZX),ae=oe.theme,L=function(){var _;return(_=T.children)===null||_===void 0?void 0:_.map(function(K,w){return(0,x.jsx)(t,{schema:K,index:w,qsIndex:M},K.id)})};return(0,x.jsx)(X.jG,{name:O,decorator:[(0,le.GZ)(ae,"QuestionSet"),{schema:T,index:M}],children:L()})}var be=o(15020),fe=function(T){var M=T.html,O=M===void 0?"":M;return(0,x.jsx)(x.Fragment,{children:typeof O=="string"&&(0,be.ZP)(O.replace(/<p>/,"<span>").replace(/<\/p>/,"</span>"))})},te=function(){var T=(0,U.useState)(0),M=(0,H.Z)(T,2),O=M[0],oe=M[1];return(0,U.useEffect)(function(){var ae=document.querySelector(".survey");ae.addEventListener("scroll",function(){var L=ae,ne=document.body,_="scrollTop",K="scrollHeight",w=(L[_]||ne[_])/((L[K]||ne[K])-L.clientHeight)*100;oe(w)})},[]),(0,x.jsx)("div",{className:"progress-bar",style:{width:"".concat(O,"%")}})},Ve=o(16165),Ae=function(){return(0,x.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"150",height:"150",children:[(0,x.jsx)("path",{d:"M0 0h1024v1024H0z",fill:"#FFFFFF","p-id":"44112"}),(0,x.jsx)("path",{d:"M160 73.426667h83.173333V0h98.266667v155.010667h75.6v179.485333h37.813333V163.168h22.666667v-40.8h68.053333v24.474667h30.24v342.666666h60.48V40.8h45.36v236.586667h22.666667V179.485333h45.36V16.317333H893.333333V824H160V73.426667z",fill:"#DDEEFF",opacity:".4","p-id":"44113"}),(0,x.jsx)("path",{d:"M362.693333 741.416l635.866667 95.584L689.893333 997.333333 24 852.36z",fill:"#DFE7F7","p-id":"44114"}),(0,x.jsx)("path",{d:"M1002.64 813.370667l-307.6 160.322666-665.893333-144.970666-0.826667-2.629334v-8.213333l20.586667 2.666667v1.701333l318.933333-104.469333 614.213333 92.48v-5.101334H1002.666667v8.213334h-0.026667z",fill:"#5AA12E","p-id":"44115"}),(0,x.jsx)("path",{d:"M1002.64 805.157333l-308.64 160.314667-665.653333-144.92h-0.026667l-0.213333-0.04 0.213333-0.064v-8.104l17.733333 2.296 320.746667-105.066667 615.253333 92.488v-5.098666H1002.666667v8.213333h-0.026667z",fill:"#93C110","p-id":"44116"}),(0,x.jsx)("path",{d:"M366.8 701.333333L1002.666667 796.917333l-308.666667 160.333334L28.106667 812.266667z",fill:"#EEF2F5","p-id":"44117"}),(0,x.jsx)("path",{d:"M629.333333 809.333333a138.666667 6.666667 0 1 0 277.333334 0 138.666667 6.666667 0 1 0-277.333334 0Z",fill:"#E3E7EA","p-id":"44118"}),(0,x.jsx)("path",{d:"M162.666667 773.333333a152 13.333333 0 1 0 304 0 152 13.333333 0 1 0-304 0Z",fill:"#E3E7EA","p-id":"44119"}),(0,x.jsx)("path",{d:"M922.666667 610.666667h-64v170.666666h53.333333a13.333333 13.333333 0 0 1 0 26.666667h-181.333333a13.333333 13.333333 0 0 1 0-26.666667h58.666666v-144h-26.666666a10.666667 10.666667 0 0 1-10.666667-10.666666v-16h-117.333333v82.666666a8 8 0 0 1-16 0v-82.666666h-5.333334a10.666667 10.666667 0 0 1-10.666666-10.666667v-2.666667l48-50.666666h4.48a7.658667 7.658667 0 0 1 1.573333-0.968l187.093333-83.381334a10.4 10.4 0 0 1 14.773334 6.208l72.453333 81.178667a8.066667 8.066667 0 0 1 2.08 5.461333 11.581333 11.581333 0 0 1 0.213333 2.168v42.666667a10.666667 10.666667 0 0 1-10.666666 10.666667z m-272-42.666667l-26.666667 29.333333h26.666667v-29.333333z m117.333333 53.333333h66.666667v-58.666666h-29.333334l-37.333333 37.333333v21.333333z m-16-24l37.333333-37.333333h-37.333333v37.333333z m-45.333333 0h21.333333v-37.333333h-21.333333v37.333333z m-18.666667-37.333333h-21.333333v37.333333h21.333333v-37.333333z m5.84-13.333333h96.693333a9.224 9.224 0 0 1 0.693334-1.6l32.506666-56.290667zM842.666667 487.976L808.773333 546.666667H842.666667v-58.690667zM845.333333 648h-42.666666v26.666667h42.666666v-26.666667z m0 37.333333h-42.666666v42.666667h42.666666v-42.666667z m0 53.333334h-42.666666v42.666666h42.666666v-42.666666z m13.333334-141.333334h21.333333v-37.333333h-21.333333v37.333333z m0-104.690666V546.666667h48.213333zM917.333333 560h-21.333333v37.333333h21.333333v-37.333333z",fill:"#8BC8FF","p-id":"44120"}),(0,x.jsx)("path",{d:"M592 709.333333h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H514.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H592a8 8 0 0 1 0 16z",fill:"#DFF0FF","p-id":"44121"}),(0,x.jsx)("path",{d:"M936 298.666667h-58.666667a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205334 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205333H858.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205333 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205334H936a8 8 0 0 1 0 16z",fill:"#C3E2FF","p-id":"44122"}),(0,x.jsx)("path",{d:"M104 408H45.333333a8 8 0 0 1 0-16h12.133334a0.656 0.656 0 0 0-0.08-0.205333 5.304 5.304 0 0 0 0-10.256 0.656 0.656 0 0 0 0.08-0.205334H26.666667a8 8 0 0 1 0-16h58.666666a8 8 0 0 1 0 16h-9.466666a0.656 0.656 0 0 0 0.08 0.205334 5.304 5.304 0 0 0 0 10.256 0.656 0.656 0 0 0-0.08 0.205333H104a8 8 0 0 1 0 16z",fill:"#DCEEFF","p-id":"44123"}),(0,x.jsx)("path",{d:"M309.333333 522.666667m-245.333333 0a245.333333 245.333333 0 1 0 490.666667 0 245.333333 245.333333 0 1 0-490.666667 0Z",fill:"#FFCC6C","p-id":"44124"}),(0,x.jsx)("path",{d:"M296 730.666667a245.389333 245.389333 0 0 0 237.013333-308.746667 245.333333 245.333333 0 1 1-460.693333 164.16A245.333333 245.333333 0 0 0 296 730.666667z",fill:"#F3B72C","p-id":"44125"}),(0,x.jsx)("path",{d:"M338.666667 464m-50.666667 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#E49817","p-id":"44126"}),(0,x.jsx)("path",{d:"M333.333333 456m-50.666666 0a50.666667 50.666667 0 1 0 101.333333 0 50.666667 50.666667 0 1 0-101.333333 0Z",fill:"#FFFFFF","p-id":"44127"}),(0,x.jsx)("path",{d:"M303.333333 603.2a37.085333 37.085333 0 1 1-38 37.066667 37.544 37.544 0 0 1 38-37.066667z",fill:"#E49817","p-id":"44128"}),(0,x.jsx)("path",{d:"M299.333333 597.333333A37.085333 37.085333 0 1 1 261.333333 634.4a37.544 37.544 0 0 1 38-37.066667z",fill:"#FFFFFF","p-id":"44129"}),(0,x.jsx)("path",{d:"M182.786667 554.125333m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#E49817","p-id":"44130"}),(0,x.jsx)("path",{d:"M179.88 549.874667m-27.88 0a27.88 27.88 0 1 0 55.76 0 27.88 27.88 0 1 0-55.76 0Z",fill:"#FFFFFF","p-id":"44131"}),(0,x.jsx)("path",{d:"M251.733333 320.424a19.794667 19.794667 0 1 1-20.266666 19.789333 20.026667 20.026667 0 0 1 20.266666-19.789333z",fill:"#E49817","p-id":"44132"}),(0,x.jsx)("path",{d:"M249.6 317.333333a19.794667 19.794667 0 1 1-20.266667 19.786667 20.026667 20.026667 0 0 1 20.266667-19.786667z",fill:"#FFFFFF","p-id":"44133"}),(0,x.jsx)("path",{d:"M426.04 365.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44134"}),(0,x.jsx)("path",{d:"M419.293333 357.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44135"}),(0,x.jsx)("path",{d:"M466.04 589.04m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#E49817","p-id":"44136"}),(0,x.jsx)("path",{d:"M459.293333 581.626667m-13.96 0a13.96 13.96 0 1 0 27.92 0 13.96 13.96 0 1 0-27.92 0Z",fill:"#FFFFFF","p-id":"44137"}),(0,x.jsx)("path",{d:"M490.666667 860a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44138"}),(0,x.jsx)("path",{d:"M480 801.333333a42.666667 4 0 1 0 85.333333 0 42.666667 4 0 1 0-85.333333 0Z",fill:"#E3E7EA","p-id":"44139"}),(0,x.jsx)("path",{d:"M526.453333 597.12a48.968 48.968 0 0 0-4.586666-4.722667c55.493333-36.413333 83.466667-80.64 68.986666-121.04-8.746667-24.416-31.866667-44.266667-64.773333-58.512-0.346667-0.984-0.666667-1.970667-1.12-2.946666a40.712 40.712 0 0 0-3.12-5.410667c39.093333 15.2 66.72 37.432 76.72 65.333333 15.306667 42.656-14.026667 89.253333-72.106667 127.298667zM573.333333 856v5.333333s-135.84 11.306667-109.333333-136c19.866667-100.330667-32.586667-80.72-41.386667-80.112 0 0 0 0.016 0.026667 0.026667a595.552 595.552 0 0 1-66.4 17.274667c-160.48 32.136-312.186667-2.04-338.8-76.336-13.413333-37.413333 7.466667-77.866667 51.973333-112.904a31.802667 31.802667 0 0 0 0.293334 7.485333c0.053333 0.24 0.133333 0.464 0.186666 0.701333-39.04 32.48-56.933333 69.181333-44.746666 103.173334 25.493333 71.109333 172.8 103.397333 329.013333 72.114666a589.661333 589.661333 0 0 0 64.533333-16.714666L418.666667 640s72.826667-26.768 50.666666 80c-17.92 86.293333 13.146667 138.845333 104 136z",fill:"#FFE1A9","p-id":"44140"}),(0,x.jsx)("path",{d:"M512 884a74.666667 6.666667 0 1 0 149.333333 0 74.666667 6.666667 0 1 0-149.333333 0Z",fill:"#E3E7EA","p-id":"44141"}),(0,x.jsx)("path",{d:"M608.453333 802.666667h20.426667l17.093333 75.917333h-54.613333z m-6.88 15.165333h34.186667v6.752h-34.186667v-6.752z m-5.066666 16.917333h44.32v6.749334h-44.32v-6.749334z m-5.173334 21.917334h54.666667v6.749333h-54.666667v-6.749333z m-11.946666 21.917333h78.56a3.381333 3.381333 0 0 1 3.386666 3.373333 3.384 3.384 0 0 1-3.386666 3.373334h-78.56a3.384 3.384 0 0 1-3.386667-3.373334 3.381333 3.381333 0 0 1 3.386667-3.373333z",fill:"#F9A303","p-id":"44142"}),(0,x.jsx)("path",{d:"M768 838.666667a58.666667 6.666667 0 1 0 117.333333 0 58.666667 6.666667 0 1 0-117.333333 0Z",fill:"#E3E7EA","p-id":"44143"}),(0,x.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 0 5.333333-5v-70a5.181333 5.181333 0 0 0-5.333333-5v80z",fill:"#845C45","p-id":"44144"}),(0,x.jsx)("path",{d:"M880 845.333333a5.181333 5.181333 0 0 1-5.333333-5v-70a5.181333 5.181333 0 0 1 5.333333-5v80z",fill:"#BA805A","p-id":"44145"}),(0,x.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 0 0-90.666667v90.666667z",fill:"#628A21","p-id":"44146"}),(0,x.jsx)("path",{d:"M880 770.666667a45.333333 45.333333 0 0 1 0-90.666667v90.666667z",fill:"#6EA52E","p-id":"44147"}),(0,x.jsx)("path",{d:"M568 786.778667l-1.946667 6.824a1.130667 1.130667 0 0 1-1.173333 0.773333l-4.16-0.349333a19.581333 19.581333 0 0 1-18.88 8.477333l-13.093333-1.664 0.026666-0.04a3.733333 3.733333 0 0 1-0.986666-0.397333c-2.586667-1.504-3.706667-5.986667-3.306667-11.509334l-7.146667-1.816a3.408 3.408 0 0 1-2.56-4.173333 3.656 3.656 0 0 1 4.426667-2.4l6.453333 1.642667c0.293333-1.066667 0.613333-2.154667 1.013334-3.237334 0.213333-0.621333 0.453333-1.221333 0.693333-1.810666l-7.626667-1.938667a3.410667 3.410667 0 0 1-2.56-4.176 3.653333 3.653333 0 0 1 4.426667-2.4l9.12 2.317333a11.101333 11.101333 0 0 1 7.306667-5.472V765.333333l8.906666 1.136a18.562667 18.562667 0 0 1 16.613334 17.386667l3.813333 1.685333a1.066667 1.066667 0 0 1 0.64 1.237334z m-26.693333-20.149334c-2.693333-1.52-6.24 0.429333-9.306667 4.578667l4.08 1.032a3.392 3.392 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-5.68-1.437333c-0.24 0.573333-0.48 1.16-0.693333 1.765333q-0.6 1.642667-1.04 3.274667l6.88 1.744a3.389333 3.389333 0 0 1 2.533333 4.173333 3.610667 3.610667 0 0 1-4.4 2.4l-6.133333-1.557333c-0.32 5.184 0.853333 9.368 3.386667 10.805333 4.053333 2.298667 10.08-3.309333 13.44-12.533333s2.853333-18.52-1.2-20.818667z",fill:"#FF6767","p-id":"44148"}),(0,x.jsx)("path",{d:"M578.666667 789.333333s194 0.666667 98.666666 64l-2.666666-2.666666s100.826667-53-98.666667-58.666667z",fill:"#FFE1A9","p-id":"44149"})]})},Fe=function(T){return(0,x.jsx)(Ve.Z,(0,y.Z)({component:Ae},T))},pe=o(27484),Se=o.n(pe),ze=o(75977),Ue=o(45418),Me=o(62713),Xe=o(33852),Ke=o(10285),Ee=o.n(Ke),Je=o(72540),Oe=o.n(Je),He=o(96036),Le=o.n(He);Se().locale("zh-cn"),Se().extend(Oe()),Se().extend(Ee()),Se().extend(Le());var Re=(0,Ue.default)((0,y.Z)({},ze.Z)),we=Re,se=U.forwardRef(function(P,T){return(0,x.jsx)(we,(0,y.Z)((0,y.Z)({},P),{},{picker:"time",mode:void 0,ref:T}))});se.displayName="TimePicker";var ke=null},75716:function(Ge,Ie,o){"use strict";o.d(Ie,{Rs:function(){return ye},AK:function(){return Z},Al:function(){return Ze}});var X=o(67294),U=o(86150);function Z(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=(0,X.useContext)(U.ZX),q=y.theme;return"survey-".concat(q)+H}function le(H,y){var q=(y&&y.depends||[]).reduce(function(b,I){return b||!I},!1);return z(q?void 0:function(b,I){return fetch(b,I).then(function(t){if(!!t.ok)return t.json()})},H,y||{})}function z(H){for(var y=arguments.length,q=new Array(y>1?y-1:0),b=1;b<y;b++)q[b-1]=arguments[b];var I=useState(0),t=_slicedToArray(I,2),me=t[0],be=t[1],fe=useCallback(function(){be(Math.random())},[]),te=useState({loading:!1,mutate:fe}),Ve=_slicedToArray(te,2),Ae=Ve[0],Fe=Ve[1];return useEffect(function(){!H||q[1].manual&&me===0||H.apply(null,q).then(function(pe){pe.code===200?Fe({loading:!1,data:pe.data,mutate:fe}):Fe({error:pe.message,loading:!1,mutate:fe})}).catch(function(pe){Fe({error:pe,loading:!1,mutate:fe})})},x(me,q)),Ae}function x(){for(var H=arguments.length,y=new Array(H),q=0;q<H;q++)y[q]=arguments[q];for(var b=[],I=0;I<arguments.length;I++){var t=arguments[I];if(t instanceof Array)for(var me=0;me<t.length;me++)b=b.concat(x(t[me]));else if(typeof URL!="undefined"&&t instanceof URL)b=b.concat(t.toJSON());else if(t instanceof Object)for(var be=Object.keys(t),fe=0;fe<be.length;fe++){var te=be[fe];te==="depends"?b=b.concat(t[te]):b=b.concat([te]).concat(x(t[te]))}else b=b.concat(t)}return b}var C=o(98210);function Ze(){return(0,X.useContext)(C.ZX)}function ye(){return Ze().attachments}},42874:function(Ge,Ie,o){"use strict";o.d(Ie,{m:function(){return ut},Z:function(){return Lt}});var X=o(86582),U=o(3182),Z=o(11849),le=o(2824),z=o(94043),x=o.n(z),C=o(67294),Ze=o(95566),ye=o(56436),H=o(77883),y=o(55317),q=o(86150),b=o(25837),I=o(75716),t=o(85893);function me(e){var a=e.schema,i=e.index,n=(0,I.AK)("-body-questionSet");return(0,t.jsxs)("div",{className:n,children:[(0,t.jsxs)("div",{className:n+"-title",children:[i+1,".",a.title]}),e.children,(0,t.jsx)("div",{className:n+"-splitLine"})]})}(0,b.eC)("QuestionSet",me,"antd");var be=o(9715),fe=o(93766),te=o(98210);function Ve(e){var a=e.schema,i=e.index,n=e.qsIndex,r=e.required,u=e.error,c=e.replaceTitle,h=(0,C.useContext)(te.ZX),s=h.questionNumber,v=(0,I.AK)("-body-question"),d=e.error.length>0,l=e.warning.length>0,p=(0,C.useState)(),f=(0,le.Z)(p,2),g=f[0],j=f[1];(0,C.useEffect)(function(){if(g){var F,E;(F=document.querySelector("[data-id='".concat(a.id,"']")))===null||F===void 0||F.classList.remove("ant-form-item-has-error"),(E=document.querySelector("[data-id='".concat(a.id,"']")))===null||E===void 0||E.querySelectorAll("[data-id]").forEach(function(ge){ge.classList.remove("ant-form-item-has-error")})}if(u.length>0){var B,A=u[0].split("^"),V=(0,le.Z)(A,2),W=V[0],D=V[1],k;D?(k=document.querySelector("[data-id='".concat(W,"']")),j(D)):(k=document.querySelector("[data-id='".concat(a.id,"']")),j(W)),(B=k)===null||B===void 0||B.classList.add("ant-form-item-has-error")}else g&&j(void 0)},[u]);var m="";return n!==void 0&&(m+=n+1+"-"),i!==void 0&&(m+=i+1+"."),(0,t.jsx)("div",{className:v,"data-id":a.id,children:(0,t.jsx)(fe.Z.Item,{label:(0,t.jsxs)("span",{className:v+"-header",children:[s?m:"",(0,t.jsx)(y.hl,{html:c||a.title})]}),labelCol:{span:24},wrapperCol:{span:24},required:r,help:g,children:e.children})})}(0,b.eC)("Question",Ve,"antd");var Ae=o(84305),Fe=o(88182),pe=o(82925),Se=function(){var a=(0,I.AK)(),i=(0,C.useContext)(te.ZX),n=i.schema;return(0,t.jsxs)("div",{className:a+"-header",children:[(0,t.jsx)("div",{className:a+"-header-title",children:(0,t.jsx)(y.hl,{html:n.title})}),(0,t.jsx)("div",{className:a+"-header-description",children:(0,t.jsx)(y.hl,{html:n.description})})]})},ze=function(a){var i=(0,I.AK)();return(0,t.jsx)("div",{className:i+"-body",children:a.children})},Ue=o(57663),Me=o(71577);function Xe(){var e,a,i,n=(0,I.AK)("-footer"),r=(0,C.useContext)(te.ZX),u=r.schema,c=r.onSubmit,h=r.onPrev,s=r.pagination,v=r.onNext,d=r.loading,l=s.pageSize>1,p=s.current===1,f=s.current===s.pageSize,g=l?(e=u.children)===null||e===void 0?void 0:e.slice(-1)[0]:void 0;return(0,t.jsxs)("div",{className:n,children:[f&&(0,t.jsx)("div",{className:n+"-desc",style:{userSelect:"none"},children:(0,t.jsx)(y.hl,{html:u==null||(a=u.attribute)===null||a===void 0?void 0:a.suffix})}),(0,t.jsxs)("div",{className:n+"-pagination",children:[l&&!p&&(0,t.jsx)("div",{children:(0,t.jsx)(Me.Z,{type:"primary",block:!0,onClick:function(){return h()},children:"\u4E0A\u4E00\u9875"})}),l&&!f&&(0,t.jsx)("div",{children:(0,t.jsx)(Me.Z,{type:"primary",block:!0,onClick:function(){return v()},children:"\u4E0B\u4E00\u9875"})}),f&&(0,t.jsx)("div",{children:(0,t.jsx)(Me.Z,{type:"primary",block:!0,onClick:c,loading:d,children:(0,t.jsx)(y.hl,{html:((i=u.attribute)===null||i===void 0?void 0:i.submitButton)||"\u63D0\u4EA4"})})}),l&&(0,t.jsxs)("div",{className:n+"-pagination-info",children:["\u7B2C",s.current,"\u9875/\u5171",s.pageSize,"\u9875"]})]})]})}var Ke=o(47673),Ee=o(4107),Je=o(70671),Oe=o(85482),He=o(29985),Le=o(46842),Re=o(64302),we=o(27484),se=o.n(we),ke="YYYY-MM-DD",P="YYYY-MM-DD HH:mm:ss",T="HH:mm:ss";function M(e,a){if(!!e){if(a==="date")return se()(e,ke);if(a==="dateTime")return se()(e,P);if(a==="time")return se()(e,T)}}var O=function(a){var i=a.onChange,n=a.type,r=a.value,u=a.suffix,c=a.style,h=c===void 0?{width:"100%"}:c;return n==="number"?(0,t.jsx)(Oe.Z,{onChange:i,value:r,style:h}):n==="date"?(0,t.jsx)(y.Mt,{onChange:function(v,d){return i(d)},value:M(r,n),style:h}):n==="dateTime"?(0,t.jsx)(y.Mt,{showTime:!0,onChange:function(v,d){return i(d)},value:M(r,n),style:h}):n==="time"?(0,t.jsx)(y.jI,{value:M(r,n),onChange:function(v,d){return i(d)},style:h}):n==="mobile"?(0,t.jsx)(Ee.Z,{prefix:(0,t.jsx)(He.Z,{}),onChange:function(v){return i(v.target.value)},value:r}):n==="idCard"?(0,t.jsx)(Ee.Z,{prefix:(0,t.jsx)(Le.Z,{}),onChange:function(v){return i(v.target.value)},value:r,style:h}):n==="email"?(0,t.jsx)(Ee.Z,{prefix:(0,t.jsx)(Re.Z,{}),onChange:function(v){return i(v.target.value)},value:r,style:h}):(0,t.jsx)(Ee.Z,{onChange:function(v){return i(v.target.value)},value:r,suffix:u,style:h})},oe=o(49111),ae=o(19650),L=o(17672),ne=function(a){var i=a.onChange,n=(0,C.useRef)(null),r=(0,C.useRef)(),u=(0,C.useRef)(),c=(0,C.useState)(0),h=(0,le.Z)(c,2),s=h[0],v=h[1];return(0,C.useEffect)(function(){var d=n.current;if(d){var l,p=new L.Z(n.current,{onBegin:function(){v(1)}});r.current=p;var f=Math.max(window.devicePixelRatio||1,1);d.width=d.offsetWidth*f,d.height=d.offsetHeight*f,(l=d.getContext("2d"))===null||l===void 0||l.scale(f,f)}},[]),(0,t.jsxs)("div",{className:"signature-pad",children:[(0,t.jsx)("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"#aaa",visibility:u.current?"hidden":"visible"},children:"\u70B9\u51FB\u7B7E\u540D"}),(0,t.jsxs)("div",{className:"signature",children:[(0,t.jsx)("canvas",{ref:n,style:{width:"100%",height:"100%",touchAction:"none",userSelect:"none",display:s!==2?"block":"none"}}),s===2&&(0,t.jsx)("img",{src:u.current||void 0})]}),(0,t.jsxs)("div",{className:"save-signature",children:[(0,t.jsx)("span",{children:"\u7B7E\u540D\u5B8C\u6210\u540E\uFF0C\u8BF7\u70B9\u51FB\u3010\u5B8C\u6210\u3011\u6309\u94AE"}),(0,t.jsx)("div",{children:(0,t.jsxs)(ae.Z,{children:[s===1&&(0,t.jsx)(Me.Z,{type:"link",onClick:function(){var l;(l=r.current)===null||l===void 0||l.clear(),v(0)},children:"\u6E05\u7A7A"}),(s===0||s===1)&&(0,t.jsx)(Me.Z,{type:"primary",disabled:s!==1,ghost:!0,size:"small",onClick:function(){var l;i(r.current.toDataURL()),u.current=(l=r.current)===null||l===void 0?void 0:l.toDataURL(),v(2)},children:"\u5B8C\u6210"}),s===2&&(0,t.jsx)(Me.Z,{type:"primary",ghost:!0,size:"small",onClick:function(){var l;v(0),(l=r.current)===null||l===void 0||l.clear()},children:"\u91CD\u7B7E"})]})})]})]})};function _(e){var a=e.headerVisible,i=e.footerVisible,n=e.schema,r=(0,I.AK)(),u=function(){var h,s=(h=n.attribute)===null||h===void 0?void 0:h.headerImage;if(s)return(0,t.jsx)("img",{src:"/api/public/preview/".concat(s),style:{maxWidth:"100%"}})};return(0,t.jsxs)("div",{className:r,children:[(0,t.jsx)("div",{className:r+"-banner",children:u()}),a&&(0,t.jsx)(Se,{}),(0,t.jsx)(Fe.ZP,{locale:pe.Z,children:(0,t.jsx)(ze,{children:e.children})}),i&&(0,t.jsx)(Xe,{})]})}(0,b.eC)("Survey",_,"antd");var K=o(13062),w=o(71230),Ne=o(89032),ve=o(15746),N=o(36877),S=o(24960);function J(e){var a=e.schema,i=e.onChange,n=e.value,r=n===void 0?{}:n,u=a.children,c=u===void 0?[]:u;function h(s){var v={};s.forEach(function(d,l){var p=c[l].id;v[p]=d}),i(v)}return(0,t.jsx)(w.Z,{children:(0,t.jsx)(ve.Z,{span:12,children:(0,t.jsx)(S.Z,{value:c.map(function(s){return r[s.id]}).filter(function(s){return s}),style:{width:260},options:a.dataSource,onChange:h,placeholder:"\u8BF7\u9009\u62E9"})})})}(0,b.RM)("Cascader",J,"antd");function $(e){var a=e.schema,i=e.onChange,n=e.value,r=n===void 0?{}:n,u=a.children,c=(0,I.AK)("-body-question");function h(s,v){r[s]=v,v===""&&delete r[s],i((0,Z.Z)({},r))}return(0,t.jsx)("div",{children:u==null?void 0:u.map(function(s){var v=s.id,d=s.attribute,l=s.title,p=d==null?void 0:d.suffix,f=d==null?void 0:d.dataType;return(0,t.jsxs)(w.Z,{style:{marginBottom:10},"data-id":v,children:[l&&(0,t.jsx)(ve.Z,{className:c+"-option",span:4,children:s.title&&(0,t.jsx)("span",{className:c+"-option-title",children:s.title})},s.id),(0,t.jsx)(ve.Z,{span:12,children:(0,t.jsx)(O,{type:f,value:r[v]||"",onChange:function(j){return h(v,j)},suffix:p&&(0,t.jsx)("span",{className:c+"-option-suffix",children:(0,t.jsx)(y.hl,{html:p})})})})]},v)})})}(0,b.RM)("FillBlank",$,"antd"),(0,b.RM)("MultipleBlank",$,"antd");var ee=o(43358),ce=o(17616),Y=o(79521);function de(e){var a=e.columns,i=e.data,n=e.onAdd,r=C.useMemo(function(){return{minWidth:100,width:150,maxWidth:400}},[]),u=(0,Y.useTable)({columns:a,data:i,defaultColumn:r},Y.useBlockLayout),c=u.getTableProps,h=u.getTableBodyProps,s=u.headerGroups,v=u.rows,d=u.prepareRow;return(0,t.jsxs)("div",(0,Z.Z)((0,Z.Z)({},c()),{},{className:"table",children:[(0,t.jsx)("div",{children:s.map(function(l){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},l.getHeaderGroupProps()),{},{className:"tr",children:l.headers.map(function(p){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},p.getHeaderProps()),{},{className:"th",children:p.render("Header")}))})}))})}),(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},h()),{},{children:v.map(function(l,p){return d(l),(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},l.getRowProps()),{},{className:"tr",children:l.cells.map(function(f){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},f.getCellProps()),{},{className:"td","data-id":"".concat(p,"-").concat(f.column.id),children:f.render("Cell")}))})}))})})),(0,t.jsx)("div",{className:"footer",onClick:n,children:"+ \u7EE7\u7EED\u586B\u5199"})]}))}function he(e){var a=e.schema,i=e.onChange,n=e.value||[{},{}],r=a.children,u=r===void 0?[]:r,c=(0,C.useMemo)(function(){return u.map(function(h){var s;return{Header:h.title,width:(s=h.attribute)===null||s===void 0?void 0:s.width,accessor:h.id,Cell:function(d){var l,p=d.value,f=d.row,g=d.data;if(((l=h.attribute)===null||l===void 0?void 0:l.dataType)==="select"){var j;return(0,t.jsx)(ce.Z,{placeholder:"\u8BF7\u9009\u62E9",value:p,style:{minWidth:80},onChange:function(F){g[f.index][h.id]=F},options:((j=h.dataSource)===null||j===void 0?void 0:j.map(function(m){return{label:m.label,value:m.value}}))||[]})}else return(0,t.jsx)(Ee.Z,{value:p,onChange:function(F){g[f.index][h.id]=F.target.value,i((0,X.Z)(g))}})}}})},[]);return(0,t.jsx)("div",{className:"table-container",children:(0,t.jsx)(de,{columns:c,data:n,onAdd:function(){n.push({}),i((0,X.Z)(n))}})})}(0,b.RM)("MatrixAuto",he,"antd");var re=o(93224);function Ye(e){var a=e.columns,i=e.data,n=C.useMemo(function(){return{minWidth:100,width:150,maxWidth:400}},[]),r=(0,Y.useTable)({columns:a,data:i,defaultColumn:n},Y.useBlockLayout),u=r.getTableProps,c=r.getTableBodyProps,h=r.headerGroups,s=r.rows,v=r.prepareRow;return(0,t.jsxs)("div",(0,Z.Z)((0,Z.Z)({},u()),{},{className:"table",children:[(0,t.jsx)("div",{children:h.map(function(d){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},d.getHeaderGroupProps()),{},{className:"tr",children:d.headers.map(function(l){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},l.getHeaderProps()),{},{className:"th",children:l.render("Header")}))})}))})}),(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},c()),{},{children:s.map(function(d){return v(d),(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},d.getRowProps()),{},{className:"tr",children:d.cells.map(function(l){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},l.getCellProps()),{},{className:"td","data-id":"".concat(d.original.rowId,"-").concat(l.column.id),children:l.render("Cell")}))})}))})}))]}))}function qe(e){var a=e.schema,i=e.onChange,n=e.value,r=n===void 0?{}:n,u=a.children,c=u===void 0?[]:u,h=a.row,s=h===void 0?[]:h,v=(0,C.useMemo)(function(){var l,p=c.map(function(f){var g;return{Header:f.title,width:(g=f.attribute)===null||g===void 0?void 0:g.width,accessor:f.id,Cell:function(m){var F=m.value,E=m.row,B=m.data;return(0,t.jsx)(O,{value:F,onChange:function(V){var W={};B.forEach(function(D,k){var ge=D.title,Be=D.rowId,ie=(0,re.Z)(D,["title","rowId"]);E.index===k&&(ie[f.id]=V),W[Be]=ie}),i(W)}})}}});return p.splice(0,0,{Header:(0,t.jsx)(t.Fragment,{}),width:((l=a.attribute)===null||l===void 0?void 0:l.width)||150,accessor:"title"}),p},[]),d=s.map(function(l,p){var f=l.id,g=r[f]||{};return(0,Z.Z)({title:l.title,rowId:f},g)});return(0,t.jsx)("div",{className:"table-container",children:(0,t.jsx)(Ye,{columns:v,data:d})})}(0,b.RM)("MatrixFillBlank",qe,"antd");var _e=o(88983),We=o(47933);function st(e){var a=e.columns,i=e.data,n=C.useMemo(function(){return{minWidth:100,width:150,maxWidth:400}},[]),r=(0,Y.useTable)({columns:a,data:i,defaultColumn:n},Y.useBlockLayout),u=r.getTableProps,c=r.getTableBodyProps,h=r.headerGroups,s=r.rows,v=r.prepareRow;return(0,t.jsxs)("div",(0,Z.Z)((0,Z.Z)({},u()),{},{className:"table",children:[(0,t.jsx)("div",{children:h.map(function(d){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},d.getHeaderGroupProps()),{},{className:"tr",children:d.headers.map(function(l){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},l.getHeaderProps()),{},{className:"th",children:l.render("Header")}))})}))})}),(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},c()),{},{children:s.map(function(d){return v(d),(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},d.getRowProps()),{},{className:"tr",children:d.cells.map(function(l){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},l.getCellProps()),{},{className:"td",children:l.render("Cell")}))})}))})}))]}))}function dt(e){var a=e.schema,i=e.onChange,n=e.value,r=n===void 0?{}:n,u=a.children,c=u===void 0?[]:u,h=a.row,s=h===void 0?[]:h,v=(0,C.useMemo)(function(){var l,p=c.map(function(f){var g;return{Header:f.title,width:(g=f.attribute)===null||g===void 0?void 0:g.width,accessor:f.id,Cell:function(m){var F=m.value,E=m.row,B=m.data;return(0,t.jsx)("div",{onClick:function(){var V={};B.forEach(function(W,D){var k=W.title,ge=W.rowId,Be=(0,re.Z)(W,["title","rowId"]);E.index===D?(V[ge]={},V[ge][f.id]=!0):V[ge]=Be}),i(V)},children:(0,t.jsx)(We.ZP,{checked:!!F})})}}});return p.splice(0,0,{Header:(0,t.jsx)(t.Fragment,{}),width:((l=a.attribute)===null||l===void 0?void 0:l.width)||150,accessor:"title"}),p},[]),d=s.map(function(l,p){var f=l.id,g=r[f]||{};return(0,Z.Z)({title:l.title,rowId:f},g)});return(0,t.jsx)("div",{className:"table-container",children:(0,t.jsx)(st,{columns:v,data:d})})}(0,b.RM)("MatrixSingle",dt,"antd");var Qt=o(63185),et=o(9676);function ot(e){var a=e.columns,i=e.data,n=C.useMemo(function(){return{minWidth:100,width:150,maxWidth:400}},[]),r=(0,Y.useTable)({columns:a,data:i,defaultColumn:n},Y.useBlockLayout),u=r.getTableProps,c=r.getTableBodyProps,h=r.headerGroups,s=r.rows,v=r.prepareRow;return(0,t.jsxs)("div",(0,Z.Z)((0,Z.Z)({},u()),{},{className:"table",children:[(0,t.jsx)("div",{children:h.map(function(d){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},d.getHeaderGroupProps()),{},{className:"tr",children:d.headers.map(function(l){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},l.getHeaderProps()),{},{className:"th",children:l.render("Header")}))})}))})}),(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},c()),{},{children:s.map(function(d){return v(d),(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},d.getRowProps()),{},{className:"tr",children:d.cells.map(function(l){return(0,t.jsx)("div",(0,Z.Z)((0,Z.Z)({},l.getCellProps()),{},{className:"td",children:l.render("Cell")}))})}))})}))]}))}function ct(e){var a=e.schema,i=e.onChange,n=e.value,r=n===void 0?{}:n,u=a.children,c=u===void 0?[]:u,h=a.row,s=h===void 0?[]:h,v=(0,C.useMemo)(function(){var l,p=c.map(function(f){var g;return{Header:f.title,width:(g=f.attribute)===null||g===void 0?void 0:g.width,accessor:f.id,Cell:function(m){var F=m.value,E=m.row,B=m.data;return(0,t.jsx)("div",{onClick:function(V){var W=!F,D={};B.forEach(function(k,ge){var Be=k.title,ie=k.rowId,Pe=(0,re.Z)(k,["title","rowId"]);E.index===ge&&(W?Pe[f.id]=!0:delete Pe[f.id]),D[ie]=Pe}),i(D)},children:(0,t.jsx)(et.Z,{checked:!!F})})}}});return p.splice(0,0,{Header:(0,t.jsx)(t.Fragment,{}),width:((l=a.attribute)===null||l===void 0?void 0:l.width)||150,accessor:"title"}),p},[]),d=s.map(function(l,p){var f=l.id,g=r[f]||{};return(0,Z.Z)({title:l.title,rowId:f},g)});return(0,t.jsx)("div",{className:"table-container",children:(0,t.jsx)(ot,{columns:v,data:d})})}(0,b.RM)("MatrixMulti",ct,"antd");var xe=o(32059);function vt(e){var a=e.schema,i=e.onChange,n=e.value,r=n===void 0?{}:n,u=a.children,c=a.attribute,h=24/((c==null?void 0:c.columns)||1),s=(0,I.AK)("-body-question");function v(d,l,p){var f,g,j=(f=a.children)===null||f===void 0?void 0:f.find(function(F){return F.id===d}),m=j==null||(g=j.attribute)===null||g===void 0?void 0:g.dataType;l?r[d]=m?p:!0:delete r[d],i((0,Z.Z)({},r))}return(0,C.useEffect)(function(){u==null||u.forEach(function(d){var l;(l=d.attribute)!==null&&l!==void 0&&l.defaultChecked&&Object.keys(r).length===0&&i((0,xe.Z)({},d.id,!0))})},[]),(0,t.jsx)("div",{children:(0,t.jsx)(w.Z,{children:u==null?void 0:u.map(function(d){var l,p=d.title,f=d.id,g=(l=d.attribute)===null||l===void 0?void 0:l.dataType;return(0,t.jsxs)(ve.Z,{span:h,className:s+"-option","data-id":f,children:[(0,t.jsx)(et.Z,{value:f,checked:r.hasOwnProperty(f),onChange:function(m){return v(f,m.target.checked)},children:(0,t.jsx)(y.hl,{html:p})}),g&&(0,t.jsx)(O,{value:r[f],style:{maxWidth:120},type:g,onChange:function(m){return v(f,!0,m)}})]},f)})})})}(0,b.RM)("Multi",vt,"antd");function ht(e){var a=e.schema,i=e.onChange,n=e.value,r=n===void 0?{}:n,u=a.children,c=u===void 0?[]:u;function h(s){var v,d=(v=a.children)===null||v===void 0?void 0:v.find(function(l){return l.id===s});d&&i((0,xe.Z)({},s,!0))}return(0,C.useEffect)(function(){var s;(s=a.children)===null||s===void 0||s.forEach(function(v){var d,l=v.id;(d=v.attribute)!==null&&d!==void 0&&d.defaultChecked&&Object.keys(r).length===0&&i((0,xe.Z)({},l,!0))})},[]),(0,t.jsx)(w.Z,{children:(0,t.jsx)(ve.Z,{span:12,children:(0,t.jsx)(ce.Z,{placeholder:"\u8BF7\u9009\u62E9",allowClear:!0,onClear:function(){i(void 0)},showSearch:!0,value:Object.keys(r)[0],filterOption:function(v,d){return(d==null?void 0:d.label).toLowerCase().indexOf(v.toLowerCase())!==-1},onChange:h,style:{width:260},options:c.map(function(s){return{label:s.title,value:s.id}})})})})}(0,b.RM)("Select",ht,"antd");var ft=We.ZP.Group;function mt(e){var a=e.schema,i=e.onChange,n=e.value,r=n===void 0?{}:n,u=a.children,c=a.attribute,h=24/((c==null?void 0:c.columns)||1),s=(0,I.AK)("-body-question");function v(l){var p,f=l.target.value,g=(p=a.children)===null||p===void 0?void 0:p.find(function(E){return E.id===f});if(g){var j=g.id,m=g.attribute,F=m==null?void 0:m.dataType;i((0,xe.Z)({},l.target.value,F?r[j]:!0))}}function d(l,p){i((0,xe.Z)({},l,p))}return(0,C.useEffect)(function(){var l;(l=a.children)===null||l===void 0||l.forEach(function(p){var f,g=p.id,j=p.attribute,m=j==null?void 0:j.dataType;(f=p.attribute)!==null&&f!==void 0&&f.defaultChecked&&Object.keys(r).length===0&&i((0,xe.Z)({},g,m?r[g]:!0))})},[]),(0,t.jsx)("div",{children:(0,t.jsx)(ft,{onChange:v,value:Object.keys(r)[0],style:{width:"100%"},children:(0,t.jsx)(w.Z,{children:u==null?void 0:u.map(function(l){var p,f=l.title,g=l.id,j=(p=l.attribute)===null||p===void 0?void 0:p.dataType;return(0,t.jsxs)(ve.Z,{span:h,className:s+"-option","data-id":g,children:[(0,t.jsx)(We.ZP,{value:g,className:"radio-item",children:(0,t.jsx)(y.hl,{html:f})}),j&&(0,t.jsx)(O,{value:r[g],type:j,style:{maxWidth:120},onChange:function(F){return d(g,F)}})]},g)})})})})}(0,b.RM)("Single",mt,"antd");var Gt=o(48736),gt=o(27049);function xt(e){var a=(0,I.AK)("-body-question");return(0,t.jsx)("div",{className:a,children:(0,t.jsx)(gt.Z,{plain:!0})})}(0,b.RM)("SplitLine",xt,"antd");function pt(e){var a=(0,I.AK)("-body-question");return(0,t.jsx)("div",{className:a,children:(0,t.jsx)(y.hl,{html:"".concat(e.replaceTitle||e.schema.title||"")})})}(0,b.RM)("Remark",pt,"antd");var Ut=o(34792),jt=o(48086),Xt=o(43185),tt=o(94412),Zt=o(43347),yt=tt.Z.Dragger;function Ct(e){var a=e.schema,i=e.onChange,n=e.value,r=e.readOnly,u=a.children,c=(0,I.Rs)(),h=(0,I.Al)(),s=(0,C.useState)(),v=(0,le.Z)(s,2),d=v[0],l=v[1];(0,C.useEffect)(function(){var g=a.children[0].id,j=n&&n[g]||[],m=c.filter(function(F){return j.includes(F.id)}).map(function(F){return{name:F.originalName,uid:F.id,status:"done"}});l(m)},[n]);var p=function(){var g=(0,U.Z)(x().mark(function j(m){var F,E,B,A;return x().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:F=m.onSuccess,E=m.onError,B=m.file,A=m.onProgress,h.onUpload&&h.onUpload(B,function(D){A&&A({percent:D.loaded/D.total*100})}).then(function(D){if(D.success&&F&&F(D.data),!D.success&&E){var k=new Error("Some error");E({event:k})}});case 2:case"end":return W.stop()}},j)}));return function(m){return g.apply(this,arguments)}}(),f=function(j,m){if(l(j.fileList),j.file.status==="removed"){var F=c.findIndex(function(A){var V;return A.id===(((V=j.file.response)===null||V===void 0?void 0:V.attachmentId)||j.file.uid)});F!==-1&&c.splice(F,1)}else j.fileList.length>0&&l(j.fileList);if(j.file.status==="done"){var E;c.push({contentType:j.file.type||j.file.name.substring(j.file.name.lastIndexOf(".")+1),id:((E=j.file.response)===null||E===void 0?void 0:E.attachmentId)||j.file.uid,originalName:j.file.name})}if((j.file.status==="removed"||j.file.status==="done")&&!j.fileList.find(function(A){return A.status!=="done"})){var B=j.fileList.filter(function(A){return A.status==="done"}).map(function(A){var V;return((V=A.response)===null||V===void 0?void 0:V.attachmentId)||A.uid});i((0,xe.Z)({},m,B))}};return(0,t.jsx)("div",{children:u==null?void 0:u.map(function(g){var j=g.id,m=g.attribute,F=g.title,E=[];if(m){var B=m.maxFileCount,A=m.maxFileSize,V=m.fileAccept;B&&E.push("\u6700\u591A\u4E0A\u4F20".concat(B,"\u4E2A")),A&&E.push("\u9650\u5236\u6BCF\u4E2A\u6587\u4EF6".concat(A,"M\u4EE5\u5185")),V&&E.push("\u4EC5\u652F\u6301\u6587\u4EF6\u7C7B\u578B\uFF1A".concat(V))}return(0,t.jsxs)(yt,{multiple:!0,disabled:r,maxCount:(m==null?void 0:m.maxFileCount)||20,accept:m==null?void 0:m.fileAccept,beforeUpload:function(D){return m!=null&&m.maxFileSize&&D.size>m.maxFileSize*1024*1024?(jt.default.error("\u6700\u5927\u53EA\u80FD\u4E0A\u4F20 ".concat(m.maxFileSize,"M \u5927\u5C0F\u7684\u6587\u4EF6")),tt.Z.LIST_IGNORE):!0},customRequest:p,onChange:function(D){return f(D,j)},fileList:d,children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(Zt.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"\u9009\u62E9\u6216\u62D6\u62FD\u4E0A\u4F20\u6587\u4EF6"}),(0,t.jsx)("p",{className:"ant-upload-hint",children:E.join(",")})]},j)})})}(0,b.RM)("Upload",Ct,"antd");var Kt=o(34669),bt=o(32074);function Ft(e){var a=e.schema,i=e.onChange,n=a.children,r=(0,I.Al)(),u=(0,I.Rs)(),c=(0,C.useState)(0),h=(0,le.Z)(c,2),s=h[0],v=h[1];function d(l,p){var f="signature-".concat(p,".png");if(!r.onUpload){i((0,xe.Z)({},p,[f]));return}fetch(l).then(function(g){return g.blob()}).then(function(g){var j=new File([g],f,{type:"image/png"});r.onUpload(j,function(m){v(m.loaded/m.total*100)}).then(function(m){if(m.success&&m.data.attachmentId){i((0,xe.Z)({},p,[m.data.attachmentId]));var F=u.findIndex(function(E){return E.originalName===f});F!==-1&&u.splice(F,1),u.push({contentType:"image/png",id:m.data.attachmentId,originalName:f})}})})}return(0,t.jsx)("div",{children:n==null?void 0:n.map(function(l){var p=l.id,f=l.title;return(0,t.jsxs)(w.Z,{gutter:[10,0],"data-id":p,children:[f&&(0,t.jsx)(ve.Z,{span:24},l.id),(0,t.jsxs)(ve.Z,{span:24,children:[(0,t.jsx)(ne,{onChange:function(j){return d(j,p)}}),s>0&&s!==100&&(0,t.jsx)(bt.Z,{percent:s,size:"small",showInfo:!1})]})]},p)})})}(0,b.RM)("Signature",Ft,"antd");var Jt=o(96433),Qe=o(2864),at=o(41687),Mt=o(46870),nt=o(18613),Et=o(57206),Nt={1:(0,t.jsx)(at.Z,{}),2:(0,t.jsx)(at.Z,{}),3:(0,t.jsx)(Mt.Z,{}),4:(0,t.jsx)(nt.Z,{}),5:(0,t.jsx)(nt.Z,{})};function Vt(e){var a=e.schema,i=e.onChange,n=e.value,r=n===void 0?{}:n,u=a.children,c=u===void 0?[]:u;function h(v,d){i((0,xe.Z)({},v,d))}var s=function(d){var l=d.attribute||{},p=d.id,f=l.scope,g=f===void 0?"[1,5]":f,j=l.scoreStyle,m=g.replace("[","").replace("]","").split(","),F=(0,le.Z)(m,2),E=F[0],B=F[1];return j==="heart"?(0,t.jsx)(Qe.Z,{defaultValue:parseInt(E),character:(0,t.jsx)(Et.Z,{}),style:{color:"#ea7463"},count:parseInt(B),onChange:function(V){return h(p,V)}}):j==="smile"?(0,t.jsx)(Qe.Z,{defaultValue:parseInt(E),character:function(V){var W=V.index;return Nt[W+1]},count:parseInt(B),onChange:function(V){return h(p,V)}}):(0,t.jsx)(Qe.Z,{defaultValue:parseInt(E),count:parseInt(B),onChange:function(V){return h(p,V)}})};return(0,t.jsx)(w.Z,{children:c.map(function(v){return s(v)})})}(0,b.RM)("Score",Vt,"antd");var rt=o(80705),St=o(99439),Tt=o(66607),Bt=o.n(Tt);se().extend(Bt()),Number.prototype.isBetween=function(a,i,n){var r=this,u=parseFloat(a);isNaN(u)&&(u=-99999);var c=parseFloat(i);return isNaN(c)&&(c=99999),!(r>c||r<u||n[0]==="("&&u==r||n[1]===")"&&c==r)};function It(e,a){var i=De(e),n=Number(a);return n.isBetween(e.substring(1,e.indexOf(",")),e.substring(e.indexOf(",")+1,e.length-1),i)}function Pt(e,a){if(!a)return!0;var i=se()(a),n=Te(e.substring(1,e.indexOf(",")),!0),r=Te(e.substring(e.indexOf(",")+1,e.length-1),!1),u=De(e);return i.isBetween(n,r,null,u)}function $t(e,a){if(!a)return!0;var i=se()(a),n=Te(e.substring(1,e.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),r=Te(e.substring(e.indexOf(",")+1,e.length-1),!1,"YYYY-MM-DD hh:mm:ss"),u=De(e);return i.isBetween(n,r,null,u)}function At(e,a){if(!a)return!0;var i="2018-02-08 ",n=se()(i+a),r=Te(i+e.substring(1,e.indexOf(",")),!0,"YYYY-MM-DD hh:mm:ss"),u=Te(i+e.substring(e.indexOf(",")+1,e.length-1),!1,"YYYY-MM-DD hh:mm:ss"),c=De(e);return n.isBetween(r,u,null,c)}function Te(e,a){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"YYYY-MM-DD",n,r=se()(se()().format(i));return e==="undefined"?a?n=se()("1900-01-01"):n=se()("2999-01-01"):e.indexOf("T")!==-1?e==="T"?n=r:/T-\d+/.test(e)?n=r.subtract(parseInt(e.match(/\d+/)[0]),"days"):/T\+\d+/.test(e)&&(n=r.add(parseInt(e.match(/\d+/)[0]),"days")):/\d+-\d+-\d+/.test(e)&&(n=se()(e)),n}function De(e){var a=e[0],i=e[e.length-1],n="".concat(a).concat(i);return n}function Rt(e,a){var i,n=a.id,r=[];if((i=a.parent)!==null&&i!==void 0&&i.type.startsWith("Matrix"))if(a.parent.type==="MatrixAuto"&&Array.isArray(e))e.forEach(function(s,v){r.push(["".concat(v,"-").concat(n),s[a.id]])});else{var u;(u=a.parent.row)===null||u===void 0||u.forEach(function(s){e[s.id]?r.push(["".concat(s.id,"-").concat(n),e[s.id][a.id]]):r.push(["".concat(s.id,"-").concat(n),void 0])})}else{var c,h=(c=a.parent)===null||c===void 0?void 0:c.type;h==="Single"||h==="Multi"?Object.keys(e).includes(a.id)&&r.push([a.id,e[a.id]]):r.push([a.id,e[a.id]])}return r}function it(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Dt(e){return!!(it(e)&&Number.isInteger(parseFloat(e)))}function Ce(e){var a=e.errMsg,i=e.schema,n=e.regEx,r=e.value;return i?je({schema:i,value:r,errMsg:a,isValid:function(c){return c?n.test("".concat(c)):!0}}):null}function je(e){var a=e.value,i=e.schema,n=e.isValid,r=e.errMsg;return i?Rt(a,i).map(function(u){var c=(0,le.Z)(u,2),h=c[0],s=c[1];return n(s)?null:"".concat(h,"^").concat(r)}).filter(function(u){return u})[0]:null}(0,St.au)({required:function(a,i){var n=i.schema;return i&&i.required===!1?null:(0,rt.xb)(a)||typeof a=="object"&&Object.keys(a).length===0?"\u4E0D\u80FD\u4E3A\u7A7A":je({schema:n,value:a,errMsg:"\u4E0D\u80FD\u4E3A\u7A7A",isValid:function(u){return!(0,rt.xb)(u)}})},number:function(a,i){var n,r=i.schema,u=r==null||(n=r.attribute)===null||n===void 0?void 0:n.numericScale;if(!r)return null;var c="\u8BF7\u8F93\u5165\u6570\u5B57";return u===0?c="\u8BF7\u8F93\u5165\u6574\u6570":u&&u>0&&(c="\u8BF7\u4FDD\u7559".concat(u,"\u4F4D\u5C0F\u6570")),je({errMsg:c,schema:r,value:a,isValid:function(s){return!(s!==void 0&&(!it(s)||u===0&&Dt(s)||u!==void 0&&u>0&&("".concat(s).split(".")[1]||"").length>u))}})},date:function(a,i){var n=i.schema;return Ce({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F",schema:n,regEx:/^(?:(?:1[6-9]|[2-9][0-9])[0-9]{2}([-/.]?)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:(?:1[6-9]|[2-9][0-9])(?:0[48]|[2468][048]|[13579][26])|(?:16|[2468][048]|[3579][26])00)([-/.]?)0?2\2(?:29))(\s+([01][0-9]:|2[0-3]:)?[0-5][0-9]:[0-5][0-9])?$/,value:a})},dateTime:function(a,i){var n=i.schema;return Ce({errMsg:"\u8BF7\u8F93\u5165\u65E5\u671F\u65F6\u95F4",schema:n,regEx:/^\d{4}[-]([0][1-9]|(1[0-2]))[-]([1-9]|([012]\d)|(3[01]))\s(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:a})},time:function(a,i){var n=i.schema;return Ce({errMsg:"\u8BF7\u8F93\u5165\u65F6\u95F4",schema:n,regEx:/^(([0-1]{1}[0-9]{1})|([2]{1}[0-4]{1}))([:])(([0-5]{1}[0-9]{1}|[6]{1}[0]{1}))([:])((([0-5]{1}[0-9]{1}|[6]{1}[0]{1})))$/,value:a})},mobile:function(a,i){var n=i.schema;return Ce({errMsg:"\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E",schema:n,regEx:/^1([358][0-9]|4[579]|66|7[01235678]|9[189])[0-9]{8}$/,value:a})},decimal:function(a,i){var n=i.schema;return Ce({errMsg:"\u8BF7\u8F93\u5165\u6570\u5B57",schema:n,regEx:/^[+-]?\d+(\.\d+)?$/,value:a})},email:function(a,i){var n=i.schema;return Ce({errMsg:"\u90AE\u4EF6\u683C\u5F0F\u4E0D\u6B63\u786E",schema:n,regEx:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,value:a})},idCard:function(a,i){var n=i.schema;return je({errMsg:"\u8EAB\u4EFD\u8BC1\u683C\u5F0F\u4E0D\u6B63\u786E",schema:n,value:a,isValid:function(u){return!(u&&!Ot("".concat(u)))}})},chinese:function(a,i){var n=i.schema;return Ce({errMsg:"\u8BF7\u8F93\u5165\u6C49\u5B57",schema:n,regEx:/^[\u4e00-\u9fa5]+$/,value:a})},alphabet:function(a,i){var n=i.schema;return Ce({errMsg:"\u8BF7\u8F93\u5165\u5B57\u6BCD",schema:n,regEx:/^[a-zA-Z]+$/,value:a})},textLimit:function(a,i){var n,r=i.schema,u=r==null||(n=r.attribute)===null||n===void 0?void 0:n.textLimit;if(!u)return null;var c=u.slice(1,u.length-1).split(","),h=parseInt(c[0]||"0"),s=parseInt(c[1]||"0");return je({errMsg:"\u8BF7\u8F93\u5165".concat(h,"~").concat(s,"\u4E2A\u5B57"),schema:r,value:a,isValid:function(d){return!(d&&("".concat(d).length<h||"".concat(d).length>s))}})},scope:function(a,i){var n,r,u=i.schema,c=u==null||(n=u.attribute)===null||n===void 0?void 0:n.scope,h=u==null||(r=u.attribute)===null||r===void 0?void 0:r.dataType;if(c&&h){if(h==="number")return je({errMsg:"\u6570\u503C\u8303\u56F4\u4E0D\u6B63\u786E ".concat(c),schema:u,value:a,isValid:function(v){return!(v&&!It(c,"".concat(v)))}});if(h==="date")return je({errMsg:"\u65E5\u671F\u8303\u56F4\u4E0D\u6B63\u786E ".concat(c),schema:u,value:a,isValid:function(v){return!(v&&!Pt(c,"".concat(v)))}});if(h==="dateTime")return je({errMsg:"\u65E5\u671F\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(c),schema:u,value:a,isValid:function(v){return!(v&&!$t(c,"".concat(v)))}});if(h==="time")return je({errMsg:"\u65F6\u95F4\u8303\u56F4\u4E0D\u6B63\u786E ".concat(c),schema:u,value:a,isValid:function(v){return!(v&&!At(c,"".concat(v)))}})}return null}});function zt(e){var a=e.substring(6,8),i=e.substring(8,10),n=e.substring(10,12),r=new Date(parseFloat(a),parseFloat(i)-1,parseFloat(n));return!(r.getFullYear()-1900!==parseFloat(a)||r.getMonth()!==parseFloat(i)-1||r.getDate()!==parseFloat(n))}function Ot(e){var a=e;if(e.length!==15&&e.length!==18)return!1;if(e.length===15)return zt(a);var i={11:"\u5317\u4EAC",12:"\u5929\u6D25",13:"\u6CB3\u5317",14:"\u5C71\u897F",15:"\u5185\u8499\u53E4",21:"\u8FBD\u5B81",22:"\u5409\u6797",23:"\u9ED1\u9F99\u6C5F ",31:"\u4E0A\u6D77",32:"\u6C5F\u82CF",33:"\u6D59\u6C5F",34:"\u5B89\u5FBD",35:"\u798F\u5EFA",36:"\u6C5F\u897F",37:"\u5C71\u4E1C",41:"\u6CB3\u5357",42:"\u6E56\u5317 ",43:"\u6E56\u5357",44:"\u5E7F\u4E1C",45:"\u5E7F\u897F",46:"\u6D77\u5357",50:"\u91CD\u5E86",51:"\u56DB\u5DDD",52:"\u8D35\u5DDE",53:"\u4E91\u5357",54:"\u897F\u85CF ",61:"\u9655\u897F",62:"\u7518\u8083",63:"\u9752\u6D77",64:"\u5B81\u590F",65:"\u65B0\u7586",71:"\u53F0\u6E7E",81:"\u9999\u6E2F",82:"\u6FB3\u95E8",91:"\u56FD\u5916 "},n=!0;if(!a||!/^([1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx])|([1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2})$/i.test(a))n=!1;else if(!i[a.substr(0,2)])n=!1;else if(a.length>18)n=!1;else if(a.length===18){for(var r=a.split(""),u=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],c=[1,0,"X",9,8,7,6,5,4,3,2],h=0,s=0,v=0,d=0;d<17;d+=1)s=parseInt(r[d],10),v=u[d],h+=s*v;var l=r[17].toUpperCase()==="X"?"X":Number(r[17]);c[h%11]!==l&&(n=!1)}return n}function Ht(e,a){}var ut=(0,C.forwardRef)(function(e,a){var i=e.theme,n=i===void 0?b.uH:i,r=e.footerVisible,u=r===void 0?!0:r,c=e.headerVisible,h=c===void 0?!0:c,s=e.initialValues,v=e.readOnly,d=e.loading,l=e.onChange,p=e.questionNumber,f=p===void 0?!0:p,g=e.attachment,j=e.onUpload,m=e.paginationVisible,F=m===void 0?!0:m,E=(0,C.useMemo)(function(){return(0,te.Gt)(e.schema)},[e.schema]),B=(0,C.useMemo)(function(){return g||[]},[]),A=(0,C.useMemo)(function(){var Q={},G=function R(ue){Q[ue.id]=ue.title,ue.children&&ue.children.forEach(R)};return G(E),Q},[E]),V=(0,C.useMemo)(function(){return F?(0,te._T)(e.schema):[e.schema.children]},[e.schema,F]),W=(0,C.useState)(function(){return(0,te.dr)(e.schema)}),D=(0,le.Z)(W,2),k=D[0],ge=D[1],Be=(0,C.useMemo)(function(){return(0,te.R6)(e.schema)},[e.schema]),ie=(0,C.useMemo)(function(){return(0,ye.Np)({initialValues:s,readOnly:v,effects:function(G){(0,ye.dQ)(function(){V.map(function(R,ue){return ue}).slice(1).forEach(function(R){return $e(R,"hidden")})}),(0,ye.pO)(function(R){l&&l((0,H.ZN)(R.values),B)}),Ht(E,G)}})},[]),Pe=(0,C.useCallback)(function(Q){return ie.validate("*(".concat(V[Q].map(function(G){return G.id}).join(","),")"))},[]),$e=(0,C.useCallback)(function(Q){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"visible";ie.query("*(".concat(V[Q].map(function(R){return R.id}).join(","),")")).forEach(function(R){R.display=G})},[]),wt=(0,C.useCallback)(function(){ge(function(Q){var G=Q.current-1;return $e(G,"hidden"),$e(G-1,"visible"),(0,Z.Z)((0,Z.Z)({},Q),{},{current:Q.current-1})})},[]),Yt=(0,C.useCallback)((0,U.Z)(x().mark(function Q(){var G;return x().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return G=k.current-1,ue.prev=1,ue.next=4,Pe(G);case 4:ge(function(Wt){return $e(G,"hidden"),$e(G+1,"visible"),(0,Z.Z)((0,Z.Z)({},Wt),{},{current:k.current+1})}),ue.next=9;break;case 7:ue.prev=7,ue.t0=ue.catch(1);case 9:case"end":return ue.stop()}},Q,null,[[1,7]])})),[k]),lt=(0,C.useCallback)((0,U.Z)(x().mark(function Q(){return x().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,console.log(ie.values),R.next=4,ie.validate();case 4:return e.onSubmit&&e.onSubmit((0,H.ZN)(ie.values),B),R.abrupt("return",{values:(0,H.ZN)(ie.values),attachments:B});case 8:R.prev=8,R.t0=R.catch(0);case 10:case"end":return R.stop()}},Q,null,[[0,8]])})),[]);return(0,C.useImperativeHandle)(a,function(){return{submit:function(){return lt()},reset:function(){ie.reset()},setValues:function(G,R){ie.setValues(G,"overwrite"),R&&(B.splice(0,B.length),B.push.apply(B,(0,X.Z)(R)))},toggleReadOnly:function(G){ie.setState(function(R){return R.readOnly=G})},getValues:function(){return ie.values}}}),(0,t.jsx)(Ze.RV,{form:ie,children:(0,t.jsx)(q.ZX.Provider,{value:(0,C.useMemo)(function(){return{theme:n,schema:E,footerVisible:u,questionNumber:f,headerVisible:h,pagination:k,optionTypes:Be,onNext:Yt,onPrev:wt,onSubmit:lt,onUpload:j,loading:d,attachments:B,id2title:A}},[k,d,E]),children:(0,t.jsx)(y.k9,{schema:E})})})}),Lt=ut}}]);
